// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_default_thread_block_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_grid_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_registers(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_cache(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_unified_memory(struct futhark_context_config *cfg, int flag);
void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt);
void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s);
const char *futhark_context_config_get_program(struct futhark_context_config *cfg);
void futhark_context_config_set_program(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_bool_1d;
struct futhark_bool_1d *futhark_new_bool_1d(struct futhark_context *ctx, const bool *data, int64_t dim0);
struct futhark_bool_1d *futhark_new_raw_bool_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
int futhark_values_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr, bool *data);
int futhark_index_bool_1d(struct futhark_context *ctx, bool *out, struct futhark_bool_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
const int64_t *futhark_shape_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_f64_2d;
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const double *data, int64_t dim0, int64_t dim1);
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0, int64_t dim1);
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
int futhark_values_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr, double *data);
int futhark_index_f64_2d(struct futhark_context *ctx, double *out, struct futhark_f64_2d *arr, int64_t i0, int64_t i1);
CUdeviceptr futhark_values_raw_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);

// Opaque values
struct futhark_opaque_tup2_arr1d_f64_i64;
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64;
struct futhark_opaque_skylineBase_double;
struct futhark_opaque_skylineInfo_GFUR_double;
int futhark_free_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_store_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj, void **p, size_t *n);
struct futhark_opaque_tup2_arr1d_f64_i64 *futhark_restore_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_project_opaque_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_new_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, const struct futhark_f64_1d *f_0, const int64_t f_1);
int futhark_free_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_store_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj, void **p, size_t *n);
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *futhark_restore_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_zip_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_f64_2d *f_0, const struct futhark_i64_1d *f_1);
int futhark_index_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr, int64_t i0);
const int64_t *futhark_shape_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr);
int futhark_free_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double *obj);
int futhark_store_opaque_skylineBase_double(struct futhark_context *ctx, const struct futhark_opaque_skylineBase_double *obj, void **p, size_t *n);
struct futhark_opaque_skylineBase_double *futhark_restore_opaque_skylineBase_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_skylineBase_double_angle_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_angle_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_part_size_per_dim(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_start_of_grid_partition(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_angle_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_grid_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_part_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_new_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out, const struct futhark_i64_1d *f_angle_part_prefix_sum, const struct futhark_i64_1d *f_angle_partitions_per_dim, const struct futhark_i64_1d *f_grid_part_prefix_sum, const struct futhark_f64_1d *f_grid_part_sizze_per_dim, const struct futhark_i64_1d *f_grid_partitions_per_dim, const struct futhark_f64_2d *f_start_of_grid_partition, const int64_t f_total_angle_no, const int64_t f_total_grid_no, const int64_t f_total_part_no);
int futhark_free_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_store_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const struct futhark_opaque_skylineInfo_GFUR_double *obj, void **p, size_t *n);
struct futhark_opaque_skylineInfo_GFUR_double *futhark_restore_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_skylineInfo_GFUR_double_isPartitionDominated(struct futhark_context *ctx, struct futhark_bool_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_project_opaque_skylineInfo_GFUR_double_part_idx(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_project_opaque_skylineInfo_GFUR_double_xys(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_new_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out, const struct futhark_bool_1d *f_isPartitionDominated, const struct futhark_i64_1d *f_part_idx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *f_xys);

// Entry points
int futhark_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1);
int futhark_entry_define_skyline_space_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_f64_2d *in1, const bool in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_cuda
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>


#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>


#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock_device {
    int *references;
    CUdeviceptr mem;
    int64_t size;
    const char *desc;
};
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
    struct memblock_device counters_mem_95765;
    struct memblock_device counters_mem_95912;
    struct memblock_device counters_mem_96050;
    struct memblock_device counters_mem_96247;
    struct memblock_device counters_mem_97008;
    struct memblock_device counters_mem_97183;
    struct memblock_device counters_mem_98018;
    struct memblock_device counters_mem_98057;
    struct memblock_device counters_mem_99205;
    struct memblock_device global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255;
};
struct tuning_params {
    int dummy;
    int64_t *builtinzhiota_i64zitblock_sizze_95773;
    int64_t *builtinzhreplicate_boolzitblock_sizze_95869;
    int64_t *builtinzhreplicate_f64zitblock_sizze_95915;
    int64_t *builtinzhreplicate_i32zitblock_sizze_95848;
    int64_t *builtinzhreplicate_i64zitblock_sizze_95796;
    int64_t *builtinzhreplicate_i8zitblock_sizze_98114;
    int64_t *calc_local_Skyline_GFUR_doublezihist_L2_96947;
    int64_t *calc_local_Skyline_GFUR_doublezihist_L_96894;
    int64_t *calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_75874;
    int64_t *calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73688;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73802;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74150;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74306;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74427;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_75553;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897;
    int64_t *calc_local_Skyline_GFUR_doublezisegred_num_tblocks_73476;
    int64_t *calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75543;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75889;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_0;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_1;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_2;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_95969;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96013;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96057;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96158;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96438;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96471;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96504;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96576;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96644;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96689;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96722;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96755;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96821;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_73321;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_73347;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_73383;
    int64_t *define_skyline_space_doublezisegred_num_tblocks_73291;
    int64_t *define_skyline_space_doublezisegred_num_tblocks_73311;
    int64_t *define_skyline_space_doublezisegred_tblock_sizze_73289;
    int64_t *define_skyline_space_doublezisegred_tblock_sizze_73309;
    int64_t *define_skyline_space_doublezisegscan_num_tblocks_73283;
    int64_t *define_skyline_space_doublezisegscan_num_tblocks_73303;
    int64_t *define_skyline_space_doublezisegscan_tblock_sizze_73281;
    int64_t *define_skyline_space_doublezisegscan_tblock_sizze_73301;
    int64_t *sort_for_Skyline_doublezihist_L2_97947;
    int64_t *sort_for_Skyline_doublezihist_L2_99144;
    int64_t *sort_for_Skyline_doublezihist_L_97884;
    int64_t *sort_for_Skyline_doublezihist_L_99091;
    int64_t *sort_for_Skyline_doubleziseghist_num_tblocks_88037;
    int64_t *sort_for_Skyline_doubleziseghist_num_tblocks_90222;
    int64_t *sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    int64_t *sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76037;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76151;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76499;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76655;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76713;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_77682;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_77846;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_78926;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_79916;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_80009;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_81719;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_81880;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_82228;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_82384;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_82442;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_83469;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_83684;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_84959;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_86101;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_86213;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_88558;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_88714;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_88772;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89962;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89972;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_75971;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_75999;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76035;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76066;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76149;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76195;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76221;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76291;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76320;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76497;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76526;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76653;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76679;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76711;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76737;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76791;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76824;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77680;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77844;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_78924;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79020;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79035;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79048;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79093;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79108;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79121;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79914;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_80007;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_80255;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_80790;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81653;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81681;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81717;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81748;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81803;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81828;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81878;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81924;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81950;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82020;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82049;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82226;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82255;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82382;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82408;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82440;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82466;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82520;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82553;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83467;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83682;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_84957;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85075;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85090;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85103;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85151;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85166;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85179;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_86099;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_86211;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_86485;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_87104;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88347;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88379;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88556;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88585;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88712;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88738;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88770;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88796;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88850;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_88883;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89929;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89960;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89970;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89978;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89998;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90018;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90038;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90058;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90076;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90100;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90120;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90140;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90160;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90180;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90198;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_90245;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_77592;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_83349;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_88120;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_77590;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_83347;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_88118;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_88132;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_89504;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_90237;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_88130;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_89502;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_90235;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_0;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_1;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_10;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_11;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_2;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_3;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_4;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_5;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_6;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_7;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_9;
    int64_t *sort_for_Skyline_doublezisuff_outer_screma_8;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96002;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96045;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96089;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96167;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96555;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96575;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96595;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96753;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96776;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96799;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96917;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96960;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97004;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97082;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97530;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97550;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97570;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97590;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97763;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97786;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97809;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97832;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98325;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98368;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98412;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98635;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98668;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98701;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98773;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98841;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98886;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98919;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98952;
    int64_t *sort_for_Skyline_doublezitblock_sizze_99018;
};
static const int num_tuning_params = 262;
static const char *tuning_param_names[] = {"builtin#iota_i64.tblock_size_95773", "builtin#replicate_bool.tblock_size_95869", "builtin#replicate_f64.tblock_size_95915", "builtin#replicate_i32.tblock_size_95848", "builtin#replicate_i64.tblock_size_95796", "builtin#replicate_i8.tblock_size_98114", "calc_local_Skyline_GFUR_double.hist_L2_96947", "calc_local_Skyline_GFUR_double.hist_L_96894", "calc_local_Skyline_GFUR_double.seghist_num_tblocks_75874", "calc_local_Skyline_GFUR_double.seghist_tblock_size_75872", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73688", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73802", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_74150", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_74306", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_74427", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_75553", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73535", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73650", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73686", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73717", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73800", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73846", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73872", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73942", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73971", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74148", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74177", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74304", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74330", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74425", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74451", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74473", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74506", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75551", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75560", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75574", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75586", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75630", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75650", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75670", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75690", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75710", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75728", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75752", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75772", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75792", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75812", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75832", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75850", "calc_local_Skyline_GFUR_double.segmap_tblock_size_75897", "calc_local_Skyline_GFUR_double.segred_num_tblocks_73476", "calc_local_Skyline_GFUR_double.segred_tblock_size_73474", "calc_local_Skyline_GFUR_double.segscan_num_tblocks_75543", "calc_local_Skyline_GFUR_double.segscan_num_tblocks_75889", "calc_local_Skyline_GFUR_double.segscan_tblock_size_75541", "calc_local_Skyline_GFUR_double.segscan_tblock_size_75887", "calc_local_Skyline_GFUR_double.suff_intra_par_0", "calc_local_Skyline_GFUR_double.suff_intra_par_1", "calc_local_Skyline_GFUR_double.suff_intra_par_2", "calc_local_Skyline_GFUR_double.tblock_size_95969", "calc_local_Skyline_GFUR_double.tblock_size_96013", "calc_local_Skyline_GFUR_double.tblock_size_96057", "calc_local_Skyline_GFUR_double.tblock_size_96158", "calc_local_Skyline_GFUR_double.tblock_size_96438", "calc_local_Skyline_GFUR_double.tblock_size_96471", "calc_local_Skyline_GFUR_double.tblock_size_96504", "calc_local_Skyline_GFUR_double.tblock_size_96576", "calc_local_Skyline_GFUR_double.tblock_size_96644", "calc_local_Skyline_GFUR_double.tblock_size_96689", "calc_local_Skyline_GFUR_double.tblock_size_96722", "calc_local_Skyline_GFUR_double.tblock_size_96755", "calc_local_Skyline_GFUR_double.tblock_size_96821", "define_skyline_space_double.segmap_tblock_size_73321", "define_skyline_space_double.segmap_tblock_size_73347", "define_skyline_space_double.segmap_tblock_size_73383", "define_skyline_space_double.segred_num_tblocks_73291", "define_skyline_space_double.segred_num_tblocks_73311", "define_skyline_space_double.segred_tblock_size_73289", "define_skyline_space_double.segred_tblock_size_73309", "define_skyline_space_double.segscan_num_tblocks_73283", "define_skyline_space_double.segscan_num_tblocks_73303", "define_skyline_space_double.segscan_tblock_size_73281", "define_skyline_space_double.segscan_tblock_size_73301", "sort_for_Skyline_double.hist_L2_97947", "sort_for_Skyline_double.hist_L2_99144", "sort_for_Skyline_double.hist_L_97884", "sort_for_Skyline_double.hist_L_99091", "sort_for_Skyline_double.seghist_num_tblocks_88037", "sort_for_Skyline_double.seghist_num_tblocks_90222", "sort_for_Skyline_double.seghist_tblock_size_88035", "sort_for_Skyline_double.seghist_tblock_size_90220", "sort_for_Skyline_double.segmap_num_tblocks_76037", "sort_for_Skyline_double.segmap_num_tblocks_76151", "sort_for_Skyline_double.segmap_num_tblocks_76499", "sort_for_Skyline_double.segmap_num_tblocks_76655", "sort_for_Skyline_double.segmap_num_tblocks_76713", "sort_for_Skyline_double.segmap_num_tblocks_77682", "sort_for_Skyline_double.segmap_num_tblocks_77846", "sort_for_Skyline_double.segmap_num_tblocks_78926", "sort_for_Skyline_double.segmap_num_tblocks_79916", "sort_for_Skyline_double.segmap_num_tblocks_80009", "sort_for_Skyline_double.segmap_num_tblocks_81719", "sort_for_Skyline_double.segmap_num_tblocks_81880", "sort_for_Skyline_double.segmap_num_tblocks_82228", "sort_for_Skyline_double.segmap_num_tblocks_82384", "sort_for_Skyline_double.segmap_num_tblocks_82442", "sort_for_Skyline_double.segmap_num_tblocks_83469", "sort_for_Skyline_double.segmap_num_tblocks_83684", "sort_for_Skyline_double.segmap_num_tblocks_84959", "sort_for_Skyline_double.segmap_num_tblocks_86101", "sort_for_Skyline_double.segmap_num_tblocks_86213", "sort_for_Skyline_double.segmap_num_tblocks_88558", "sort_for_Skyline_double.segmap_num_tblocks_88714", "sort_for_Skyline_double.segmap_num_tblocks_88772", "sort_for_Skyline_double.segmap_num_tblocks_89962", "sort_for_Skyline_double.segmap_num_tblocks_89972", "sort_for_Skyline_double.segmap_tblock_size_75971", "sort_for_Skyline_double.segmap_tblock_size_75999", "sort_for_Skyline_double.segmap_tblock_size_76035", "sort_for_Skyline_double.segmap_tblock_size_76066", "sort_for_Skyline_double.segmap_tblock_size_76149", "sort_for_Skyline_double.segmap_tblock_size_76195", "sort_for_Skyline_double.segmap_tblock_size_76221", "sort_for_Skyline_double.segmap_tblock_size_76291", "sort_for_Skyline_double.segmap_tblock_size_76320", "sort_for_Skyline_double.segmap_tblock_size_76497", "sort_for_Skyline_double.segmap_tblock_size_76526", "sort_for_Skyline_double.segmap_tblock_size_76653", "sort_for_Skyline_double.segmap_tblock_size_76679", "sort_for_Skyline_double.segmap_tblock_size_76711", "sort_for_Skyline_double.segmap_tblock_size_76737", "sort_for_Skyline_double.segmap_tblock_size_76791", "sort_for_Skyline_double.segmap_tblock_size_76824", "sort_for_Skyline_double.segmap_tblock_size_77680", "sort_for_Skyline_double.segmap_tblock_size_77844", "sort_for_Skyline_double.segmap_tblock_size_78924", "sort_for_Skyline_double.segmap_tblock_size_79020", "sort_for_Skyline_double.segmap_tblock_size_79035", "sort_for_Skyline_double.segmap_tblock_size_79048", "sort_for_Skyline_double.segmap_tblock_size_79093", "sort_for_Skyline_double.segmap_tblock_size_79108", "sort_for_Skyline_double.segmap_tblock_size_79121", "sort_for_Skyline_double.segmap_tblock_size_79914", "sort_for_Skyline_double.segmap_tblock_size_80007", "sort_for_Skyline_double.segmap_tblock_size_80255", "sort_for_Skyline_double.segmap_tblock_size_80790", "sort_for_Skyline_double.segmap_tblock_size_81653",
                                           "sort_for_Skyline_double.segmap_tblock_size_81681", "sort_for_Skyline_double.segmap_tblock_size_81717", "sort_for_Skyline_double.segmap_tblock_size_81748", "sort_for_Skyline_double.segmap_tblock_size_81803", "sort_for_Skyline_double.segmap_tblock_size_81828", "sort_for_Skyline_double.segmap_tblock_size_81878", "sort_for_Skyline_double.segmap_tblock_size_81924", "sort_for_Skyline_double.segmap_tblock_size_81950", "sort_for_Skyline_double.segmap_tblock_size_82020", "sort_for_Skyline_double.segmap_tblock_size_82049", "sort_for_Skyline_double.segmap_tblock_size_82226", "sort_for_Skyline_double.segmap_tblock_size_82255", "sort_for_Skyline_double.segmap_tblock_size_82382", "sort_for_Skyline_double.segmap_tblock_size_82408", "sort_for_Skyline_double.segmap_tblock_size_82440", "sort_for_Skyline_double.segmap_tblock_size_82466", "sort_for_Skyline_double.segmap_tblock_size_82520", "sort_for_Skyline_double.segmap_tblock_size_82553", "sort_for_Skyline_double.segmap_tblock_size_83467", "sort_for_Skyline_double.segmap_tblock_size_83682", "sort_for_Skyline_double.segmap_tblock_size_84957", "sort_for_Skyline_double.segmap_tblock_size_85075", "sort_for_Skyline_double.segmap_tblock_size_85090", "sort_for_Skyline_double.segmap_tblock_size_85103", "sort_for_Skyline_double.segmap_tblock_size_85151", "sort_for_Skyline_double.segmap_tblock_size_85166", "sort_for_Skyline_double.segmap_tblock_size_85179", "sort_for_Skyline_double.segmap_tblock_size_86099", "sort_for_Skyline_double.segmap_tblock_size_86211", "sort_for_Skyline_double.segmap_tblock_size_86485", "sort_for_Skyline_double.segmap_tblock_size_87104", "sort_for_Skyline_double.segmap_tblock_size_88347", "sort_for_Skyline_double.segmap_tblock_size_88379", "sort_for_Skyline_double.segmap_tblock_size_88556", "sort_for_Skyline_double.segmap_tblock_size_88585", "sort_for_Skyline_double.segmap_tblock_size_88712", "sort_for_Skyline_double.segmap_tblock_size_88738", "sort_for_Skyline_double.segmap_tblock_size_88770", "sort_for_Skyline_double.segmap_tblock_size_88796", "sort_for_Skyline_double.segmap_tblock_size_88850", "sort_for_Skyline_double.segmap_tblock_size_88883", "sort_for_Skyline_double.segmap_tblock_size_89929", "sort_for_Skyline_double.segmap_tblock_size_89960", "sort_for_Skyline_double.segmap_tblock_size_89970", "sort_for_Skyline_double.segmap_tblock_size_89978", "sort_for_Skyline_double.segmap_tblock_size_89998", "sort_for_Skyline_double.segmap_tblock_size_90018", "sort_for_Skyline_double.segmap_tblock_size_90038", "sort_for_Skyline_double.segmap_tblock_size_90058", "sort_for_Skyline_double.segmap_tblock_size_90076", "sort_for_Skyline_double.segmap_tblock_size_90100", "sort_for_Skyline_double.segmap_tblock_size_90120", "sort_for_Skyline_double.segmap_tblock_size_90140", "sort_for_Skyline_double.segmap_tblock_size_90160", "sort_for_Skyline_double.segmap_tblock_size_90180", "sort_for_Skyline_double.segmap_tblock_size_90198", "sort_for_Skyline_double.segmap_tblock_size_90245", "sort_for_Skyline_double.segred_num_tblocks_77592", "sort_for_Skyline_double.segred_num_tblocks_83349", "sort_for_Skyline_double.segred_num_tblocks_88120", "sort_for_Skyline_double.segred_tblock_size_77590", "sort_for_Skyline_double.segred_tblock_size_83347", "sort_for_Skyline_double.segred_tblock_size_88118", "sort_for_Skyline_double.segscan_num_tblocks_88132", "sort_for_Skyline_double.segscan_num_tblocks_89504", "sort_for_Skyline_double.segscan_num_tblocks_90237", "sort_for_Skyline_double.segscan_tblock_size_88130", "sort_for_Skyline_double.segscan_tblock_size_89502", "sort_for_Skyline_double.segscan_tblock_size_90235", "sort_for_Skyline_double.suff_intra_par_0", "sort_for_Skyline_double.suff_intra_par_1", "sort_for_Skyline_double.suff_intra_par_10", "sort_for_Skyline_double.suff_intra_par_11", "sort_for_Skyline_double.suff_intra_par_2", "sort_for_Skyline_double.suff_intra_par_3", "sort_for_Skyline_double.suff_intra_par_4", "sort_for_Skyline_double.suff_intra_par_5", "sort_for_Skyline_double.suff_intra_par_6", "sort_for_Skyline_double.suff_intra_par_7", "sort_for_Skyline_double.suff_intra_par_9", "sort_for_Skyline_double.suff_outer_screma_8", "sort_for_Skyline_double.tblock_size_96002", "sort_for_Skyline_double.tblock_size_96045", "sort_for_Skyline_double.tblock_size_96089", "sort_for_Skyline_double.tblock_size_96167", "sort_for_Skyline_double.tblock_size_96555", "sort_for_Skyline_double.tblock_size_96575", "sort_for_Skyline_double.tblock_size_96595", "sort_for_Skyline_double.tblock_size_96753", "sort_for_Skyline_double.tblock_size_96776", "sort_for_Skyline_double.tblock_size_96799", "sort_for_Skyline_double.tblock_size_96917", "sort_for_Skyline_double.tblock_size_96960", "sort_for_Skyline_double.tblock_size_97004", "sort_for_Skyline_double.tblock_size_97082", "sort_for_Skyline_double.tblock_size_97530", "sort_for_Skyline_double.tblock_size_97550", "sort_for_Skyline_double.tblock_size_97570", "sort_for_Skyline_double.tblock_size_97590", "sort_for_Skyline_double.tblock_size_97763", "sort_for_Skyline_double.tblock_size_97786", "sort_for_Skyline_double.tblock_size_97809", "sort_for_Skyline_double.tblock_size_97832", "sort_for_Skyline_double.tblock_size_98325", "sort_for_Skyline_double.tblock_size_98368", "sort_for_Skyline_double.tblock_size_98412", "sort_for_Skyline_double.tblock_size_98635", "sort_for_Skyline_double.tblock_size_98668", "sort_for_Skyline_double.tblock_size_98701", "sort_for_Skyline_double.tblock_size_98773", "sort_for_Skyline_double.tblock_size_98841", "sort_for_Skyline_double.tblock_size_98886", "sort_for_Skyline_double.tblock_size_98919", "sort_for_Skyline_double.tblock_size_98952", "sort_for_Skyline_double.tblock_size_99018", NULL};
static const char *tuning_param_vars[] = {"builtinzhiota_i64zitblock_sizze_95773", "builtinzhreplicate_boolzitblock_sizze_95869", "builtinzhreplicate_f64zitblock_sizze_95915", "builtinzhreplicate_i32zitblock_sizze_95848", "builtinzhreplicate_i64zitblock_sizze_95796", "builtinzhreplicate_i8zitblock_sizze_98114", "calc_local_Skyline_GFUR_doublezihist_L2_96947", "calc_local_Skyline_GFUR_doublezihist_L_96894", "calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_75874", "calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73688", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73802", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74150", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74306", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74427", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_75553", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897", "calc_local_Skyline_GFUR_doublezisegred_num_tblocks_73476", "calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474", "calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75543", "calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75889", "calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541", "calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887", "calc_local_Skyline_GFUR_doublezisuff_intra_par_0", "calc_local_Skyline_GFUR_doublezisuff_intra_par_1", "calc_local_Skyline_GFUR_doublezisuff_intra_par_2", "calc_local_Skyline_GFUR_doublezitblock_sizze_95969", "calc_local_Skyline_GFUR_doublezitblock_sizze_96013", "calc_local_Skyline_GFUR_doublezitblock_sizze_96057", "calc_local_Skyline_GFUR_doublezitblock_sizze_96158", "calc_local_Skyline_GFUR_doublezitblock_sizze_96438", "calc_local_Skyline_GFUR_doublezitblock_sizze_96471", "calc_local_Skyline_GFUR_doublezitblock_sizze_96504", "calc_local_Skyline_GFUR_doublezitblock_sizze_96576", "calc_local_Skyline_GFUR_doublezitblock_sizze_96644", "calc_local_Skyline_GFUR_doublezitblock_sizze_96689", "calc_local_Skyline_GFUR_doublezitblock_sizze_96722", "calc_local_Skyline_GFUR_doublezitblock_sizze_96755", "calc_local_Skyline_GFUR_doublezitblock_sizze_96821", "define_skyline_space_doublezisegmap_tblock_sizze_73321", "define_skyline_space_doublezisegmap_tblock_sizze_73347", "define_skyline_space_doublezisegmap_tblock_sizze_73383", "define_skyline_space_doublezisegred_num_tblocks_73291", "define_skyline_space_doublezisegred_num_tblocks_73311", "define_skyline_space_doublezisegred_tblock_sizze_73289", "define_skyline_space_doublezisegred_tblock_sizze_73309", "define_skyline_space_doublezisegscan_num_tblocks_73283", "define_skyline_space_doublezisegscan_num_tblocks_73303", "define_skyline_space_doublezisegscan_tblock_sizze_73281", "define_skyline_space_doublezisegscan_tblock_sizze_73301", "sort_for_Skyline_doublezihist_L2_97947", "sort_for_Skyline_doublezihist_L2_99144", "sort_for_Skyline_doublezihist_L_97884", "sort_for_Skyline_doublezihist_L_99091", "sort_for_Skyline_doubleziseghist_num_tblocks_88037", "sort_for_Skyline_doubleziseghist_num_tblocks_90222", "sort_for_Skyline_doubleziseghist_tblock_sizze_88035", "sort_for_Skyline_doubleziseghist_tblock_sizze_90220", "sort_for_Skyline_doublezisegmap_num_tblocks_76037", "sort_for_Skyline_doublezisegmap_num_tblocks_76151", "sort_for_Skyline_doublezisegmap_num_tblocks_76499", "sort_for_Skyline_doublezisegmap_num_tblocks_76655", "sort_for_Skyline_doublezisegmap_num_tblocks_76713", "sort_for_Skyline_doublezisegmap_num_tblocks_77682", "sort_for_Skyline_doublezisegmap_num_tblocks_77846", "sort_for_Skyline_doublezisegmap_num_tblocks_78926", "sort_for_Skyline_doublezisegmap_num_tblocks_79916", "sort_for_Skyline_doublezisegmap_num_tblocks_80009", "sort_for_Skyline_doublezisegmap_num_tblocks_81719", "sort_for_Skyline_doublezisegmap_num_tblocks_81880", "sort_for_Skyline_doublezisegmap_num_tblocks_82228", "sort_for_Skyline_doublezisegmap_num_tblocks_82384", "sort_for_Skyline_doublezisegmap_num_tblocks_82442", "sort_for_Skyline_doublezisegmap_num_tblocks_83469", "sort_for_Skyline_doublezisegmap_num_tblocks_83684", "sort_for_Skyline_doublezisegmap_num_tblocks_84959", "sort_for_Skyline_doublezisegmap_num_tblocks_86101", "sort_for_Skyline_doublezisegmap_num_tblocks_86213", "sort_for_Skyline_doublezisegmap_num_tblocks_88558", "sort_for_Skyline_doublezisegmap_num_tblocks_88714", "sort_for_Skyline_doublezisegmap_num_tblocks_88772", "sort_for_Skyline_doublezisegmap_num_tblocks_89962", "sort_for_Skyline_doublezisegmap_num_tblocks_89972", "sort_for_Skyline_doublezisegmap_tblock_sizze_75971", "sort_for_Skyline_doublezisegmap_tblock_sizze_75999", "sort_for_Skyline_doublezisegmap_tblock_sizze_76035", "sort_for_Skyline_doublezisegmap_tblock_sizze_76066", "sort_for_Skyline_doublezisegmap_tblock_sizze_76149", "sort_for_Skyline_doublezisegmap_tblock_sizze_76195", "sort_for_Skyline_doublezisegmap_tblock_sizze_76221", "sort_for_Skyline_doublezisegmap_tblock_sizze_76291", "sort_for_Skyline_doublezisegmap_tblock_sizze_76320", "sort_for_Skyline_doublezisegmap_tblock_sizze_76497", "sort_for_Skyline_doublezisegmap_tblock_sizze_76526", "sort_for_Skyline_doublezisegmap_tblock_sizze_76653", "sort_for_Skyline_doublezisegmap_tblock_sizze_76679", "sort_for_Skyline_doublezisegmap_tblock_sizze_76711", "sort_for_Skyline_doublezisegmap_tblock_sizze_76737", "sort_for_Skyline_doublezisegmap_tblock_sizze_76791", "sort_for_Skyline_doublezisegmap_tblock_sizze_76824", "sort_for_Skyline_doublezisegmap_tblock_sizze_77680", "sort_for_Skyline_doublezisegmap_tblock_sizze_77844", "sort_for_Skyline_doublezisegmap_tblock_sizze_78924", "sort_for_Skyline_doublezisegmap_tblock_sizze_79020", "sort_for_Skyline_doublezisegmap_tblock_sizze_79035", "sort_for_Skyline_doublezisegmap_tblock_sizze_79048", "sort_for_Skyline_doublezisegmap_tblock_sizze_79093", "sort_for_Skyline_doublezisegmap_tblock_sizze_79108", "sort_for_Skyline_doublezisegmap_tblock_sizze_79121", "sort_for_Skyline_doublezisegmap_tblock_sizze_79914",
                                          "sort_for_Skyline_doublezisegmap_tblock_sizze_80007", "sort_for_Skyline_doublezisegmap_tblock_sizze_80255", "sort_for_Skyline_doublezisegmap_tblock_sizze_80790", "sort_for_Skyline_doublezisegmap_tblock_sizze_81653", "sort_for_Skyline_doublezisegmap_tblock_sizze_81681", "sort_for_Skyline_doublezisegmap_tblock_sizze_81717", "sort_for_Skyline_doublezisegmap_tblock_sizze_81748", "sort_for_Skyline_doublezisegmap_tblock_sizze_81803", "sort_for_Skyline_doublezisegmap_tblock_sizze_81828", "sort_for_Skyline_doublezisegmap_tblock_sizze_81878", "sort_for_Skyline_doublezisegmap_tblock_sizze_81924", "sort_for_Skyline_doublezisegmap_tblock_sizze_81950", "sort_for_Skyline_doublezisegmap_tblock_sizze_82020", "sort_for_Skyline_doublezisegmap_tblock_sizze_82049", "sort_for_Skyline_doublezisegmap_tblock_sizze_82226", "sort_for_Skyline_doublezisegmap_tblock_sizze_82255", "sort_for_Skyline_doublezisegmap_tblock_sizze_82382", "sort_for_Skyline_doublezisegmap_tblock_sizze_82408", "sort_for_Skyline_doublezisegmap_tblock_sizze_82440", "sort_for_Skyline_doublezisegmap_tblock_sizze_82466", "sort_for_Skyline_doublezisegmap_tblock_sizze_82520", "sort_for_Skyline_doublezisegmap_tblock_sizze_82553", "sort_for_Skyline_doublezisegmap_tblock_sizze_83467", "sort_for_Skyline_doublezisegmap_tblock_sizze_83682", "sort_for_Skyline_doublezisegmap_tblock_sizze_84957", "sort_for_Skyline_doublezisegmap_tblock_sizze_85075", "sort_for_Skyline_doublezisegmap_tblock_sizze_85090", "sort_for_Skyline_doublezisegmap_tblock_sizze_85103", "sort_for_Skyline_doublezisegmap_tblock_sizze_85151", "sort_for_Skyline_doublezisegmap_tblock_sizze_85166", "sort_for_Skyline_doublezisegmap_tblock_sizze_85179", "sort_for_Skyline_doublezisegmap_tblock_sizze_86099", "sort_for_Skyline_doublezisegmap_tblock_sizze_86211", "sort_for_Skyline_doublezisegmap_tblock_sizze_86485", "sort_for_Skyline_doublezisegmap_tblock_sizze_87104", "sort_for_Skyline_doublezisegmap_tblock_sizze_88347", "sort_for_Skyline_doublezisegmap_tblock_sizze_88379", "sort_for_Skyline_doublezisegmap_tblock_sizze_88556", "sort_for_Skyline_doublezisegmap_tblock_sizze_88585", "sort_for_Skyline_doublezisegmap_tblock_sizze_88712", "sort_for_Skyline_doublezisegmap_tblock_sizze_88738", "sort_for_Skyline_doublezisegmap_tblock_sizze_88770", "sort_for_Skyline_doublezisegmap_tblock_sizze_88796", "sort_for_Skyline_doublezisegmap_tblock_sizze_88850", "sort_for_Skyline_doublezisegmap_tblock_sizze_88883", "sort_for_Skyline_doublezisegmap_tblock_sizze_89929", "sort_for_Skyline_doublezisegmap_tblock_sizze_89960", "sort_for_Skyline_doublezisegmap_tblock_sizze_89970", "sort_for_Skyline_doublezisegmap_tblock_sizze_89978", "sort_for_Skyline_doublezisegmap_tblock_sizze_89998", "sort_for_Skyline_doublezisegmap_tblock_sizze_90018", "sort_for_Skyline_doublezisegmap_tblock_sizze_90038", "sort_for_Skyline_doublezisegmap_tblock_sizze_90058", "sort_for_Skyline_doublezisegmap_tblock_sizze_90076", "sort_for_Skyline_doublezisegmap_tblock_sizze_90100", "sort_for_Skyline_doublezisegmap_tblock_sizze_90120", "sort_for_Skyline_doublezisegmap_tblock_sizze_90140", "sort_for_Skyline_doublezisegmap_tblock_sizze_90160", "sort_for_Skyline_doublezisegmap_tblock_sizze_90180", "sort_for_Skyline_doublezisegmap_tblock_sizze_90198", "sort_for_Skyline_doublezisegmap_tblock_sizze_90245", "sort_for_Skyline_doublezisegred_num_tblocks_77592", "sort_for_Skyline_doublezisegred_num_tblocks_83349", "sort_for_Skyline_doublezisegred_num_tblocks_88120", "sort_for_Skyline_doublezisegred_tblock_sizze_77590", "sort_for_Skyline_doublezisegred_tblock_sizze_83347", "sort_for_Skyline_doublezisegred_tblock_sizze_88118", "sort_for_Skyline_doublezisegscan_num_tblocks_88132", "sort_for_Skyline_doublezisegscan_num_tblocks_89504", "sort_for_Skyline_doublezisegscan_num_tblocks_90237", "sort_for_Skyline_doublezisegscan_tblock_sizze_88130", "sort_for_Skyline_doublezisegscan_tblock_sizze_89502", "sort_for_Skyline_doublezisegscan_tblock_sizze_90235", "sort_for_Skyline_doublezisuff_intra_par_0", "sort_for_Skyline_doublezisuff_intra_par_1", "sort_for_Skyline_doublezisuff_intra_par_10", "sort_for_Skyline_doublezisuff_intra_par_11", "sort_for_Skyline_doublezisuff_intra_par_2", "sort_for_Skyline_doublezisuff_intra_par_3", "sort_for_Skyline_doublezisuff_intra_par_4", "sort_for_Skyline_doublezisuff_intra_par_5", "sort_for_Skyline_doublezisuff_intra_par_6", "sort_for_Skyline_doublezisuff_intra_par_7", "sort_for_Skyline_doublezisuff_intra_par_9", "sort_for_Skyline_doublezisuff_outer_screma_8", "sort_for_Skyline_doublezitblock_sizze_96002", "sort_for_Skyline_doublezitblock_sizze_96045", "sort_for_Skyline_doublezitblock_sizze_96089", "sort_for_Skyline_doublezitblock_sizze_96167", "sort_for_Skyline_doublezitblock_sizze_96555", "sort_for_Skyline_doublezitblock_sizze_96575", "sort_for_Skyline_doublezitblock_sizze_96595", "sort_for_Skyline_doublezitblock_sizze_96753", "sort_for_Skyline_doublezitblock_sizze_96776", "sort_for_Skyline_doublezitblock_sizze_96799", "sort_for_Skyline_doublezitblock_sizze_96917", "sort_for_Skyline_doublezitblock_sizze_96960", "sort_for_Skyline_doublezitblock_sizze_97004", "sort_for_Skyline_doublezitblock_sizze_97082", "sort_for_Skyline_doublezitblock_sizze_97530", "sort_for_Skyline_doublezitblock_sizze_97550", "sort_for_Skyline_doublezitblock_sizze_97570", "sort_for_Skyline_doublezitblock_sizze_97590", "sort_for_Skyline_doublezitblock_sizze_97763", "sort_for_Skyline_doublezitblock_sizze_97786", "sort_for_Skyline_doublezitblock_sizze_97809", "sort_for_Skyline_doublezitblock_sizze_97832", "sort_for_Skyline_doublezitblock_sizze_98325", "sort_for_Skyline_doublezitblock_sizze_98368", "sort_for_Skyline_doublezitblock_sizze_98412", "sort_for_Skyline_doublezitblock_sizze_98635", "sort_for_Skyline_doublezitblock_sizze_98668", "sort_for_Skyline_doublezitblock_sizze_98701", "sort_for_Skyline_doublezitblock_sizze_98773", "sort_for_Skyline_doublezitblock_sizze_98841", "sort_for_Skyline_doublezitblock_sizze_98886", "sort_for_Skyline_doublezitblock_sizze_98919", "sort_for_Skyline_doublezitblock_sizze_98952", "sort_for_Skyline_doublezitblock_sizze_99018", NULL};
static const char *tuning_param_classes[] = {"thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "cache", "shared_memory", "grid_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_0)", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_1 !calc_local_Skyline_GFUR_double.suff_intra_par_0)", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "cache", "cache", "shared_memory", "shared_memory", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_0)", "threshold(32, !sort_for_Skyline_double.suff_intra_par_9 !sort_for_Skyline_double.suff_outer_screma_8)", "threshold(32, !sort_for_Skyline_double.suff_intra_par_10 !sort_for_Skyline_double.suff_intra_par_9 !sort_for_Skyline_double.suff_outer_screma_8)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_2)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_4)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_6)", "threshold(32, !sort_for_Skyline_double.suff_outer_screma_8)", "threshold(def, )", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", NULL};
static int64_t tuning_param_defaults[] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
static const int max_failure_args = 3;
static const int f64_required = 1;
static const char *gpu_program[] = {"#define FUTHARK_CUDA\n// start of prelude.cu\n\n#define SCALAR_FUN_ATTR __device__ static inline\n#define FUTHARK_FUN_ATTR __device__ static\n#define FUTHARK_F64_ENABLED\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long long int64_t;\ntypedef unsigned char uint8_t;\ntypedef unsigned short uint16_t;\ntypedef unsigned int uint32_t;\ntypedef unsigned long long uint64_t;\n\n#define __global\n#define __local\n#define __private\n#define __constant\n#define __write_only\n#define __read_only\n\nstatic inline __device__ int get_tblock_id(int d) {\n  switch (d) {\n  case 0: return blockIdx.x;\n  case 1: return blockIdx.y;\n  case 2: return blockIdx.z;\n  default: return 0;\n  }\n}\n\nstatic inline __device__ int get_num_tblocks(int d) {\n  switch(d) {\n  case 0: return gridDim.x;\n  case 1: return gridDim.y;\n  case 2: return gridDim.z;\n  default: return 0;\n  }\n}\n\nstatic inline __device__ int get_global_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x + blockIdx.x * blockDim.x;\n    case 1: return threadIdx.y + blockIdx.y * blockDim.y;\n    case 2: return threadIdx.z + blockIdx.z * blockDim.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_local_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x;\n    case 1: return threadIdx.y;\n    case 2: return threadIdx.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_local_size(int d) {\n  switch (d) {\n    case 0: return blockDim.x;\n    case 1: return blockDim.y;\n    case 2: return blockDim.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_global_size(int d) {\n  switch (d) {\n    case 0: return gridDim.x * blockDim.x;\n    case 1: return gridDim.y * blockDim.y;\n    case 2: return gridDim.z * blockDim.z;\n    default: return 0;\n  }\n}\n\n\n#define CLK_LOCAL_MEM_FENCE 1\n#define CLK_GLOBAL_MEM_FENCE 2\nstatic inline __device__ void barrier(int x) {\n  __syncthreads();\n}\nstatic inline __device__ void mem_fence_local() {\n  __threadfence_block();\n}\nstatic inline __device__ void mem_fence_global", "() {\n  __threadfence();\n}\n\nstatic inline __device__ void barrier_local() {\n  __syncthreads();\n}\n\n#define NAN (0.0/0.0)\n#define INFINITY (1.0/0.0)\nextern volatile __shared__ unsigned char shared_mem[];\n\n#define SHARED_MEM_PARAM\n#define FUTHARK_KERNEL extern \"C\" __global__ __launch_bounds__(MAX_THREADS_PER_BLOCK)\n#define FUTHARK_KERNEL_SIZED(a,b,c) extern \"C\" __global__ __launch_bounds__(a*b*c)\n\n// End of prelude.cu\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0", "000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8",
                                    "000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24,", " 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 2", "4, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x37",
                                    "1B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x", "37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x", "37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x",
                                    "38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x", "384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, ", "0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, ",
                                    "0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, ", "0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000", ", 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000",
                                    ", 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000", ", 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x387620", "00, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1",
                                    "024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nSCALAR_FUN_ATTR uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nSCALAR_FUN_ATTR float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\nSCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {\n  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;\n  if(fabs > 0x7C00 || tabs > 0x7C00) {\n    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);\n  }\n  if(from == to || !(fabs|tabs)) {\n    return to;\n  }\n  if(!fabs) {\n    return (to&0x8000)+1;\n  }\n  unsigned int out =\n    from +\n    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)\n    - 1;\n  return out;\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n/", "/ Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);\n\nSCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\n#if ISPC\n\nSCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {\n  // This strange pattern is used to prevent the ISPC compiler from\n  // causing SIGFPEs and bogus results on divisions where inactive lanes\n  // have 0-valued divisors. It ensures that any inactive lane instead\n  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  uint", "8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALA",
                                    "R_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int8_t q = x / ys;\n  int8_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int16_t q = x / ys;\n  int16_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  int32_t q = x / ys;\n  int32_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int64_t q = x / ys;\n  int64_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y)", " {\n  return sdiv32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int8_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int16_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int32_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int64_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) ", "{\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  ",
                                    "foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\n#else\n\nSCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return", " y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = ", "x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t ",
                                    "y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\n#endif\n\nSCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nS", "CALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nSCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nSCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nSCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult64(uint64_t x, uint64", "_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x",
                                    ") {\n  return x;\n}\n\nSCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nSCALAR_FUN_ATTR int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nSCALAR_FUN_ATTR int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nSCALAR_FUN_ATTR int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VER", "SION__) || defined(ISPC)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return m", "ul_hi(a, b); }\n#elif defined(__CUDA_ARCH__)\nSCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }\nSCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }\n#elif ISPC\nSCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 = al * bl;\n  uint64_t p2 = al * bh;\n  uint64_t p3 = ah * bl;\n  uint64_t p4 = ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\nSCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR int",
                                    "32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 =  al * bl;\n  int64_t  p2 = al * bh;\n  int64_t  p3 = ah * bl;\n  uint64_t p4 =  ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\n\n#else // Not OpenCL, ISPC, or CUDA, but plain C.\nSCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }\nSCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nSCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nSCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }\nSCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t ", "a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }\n#else // Not OpenCL\n\nSCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }\nSCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }\nSCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }\nSCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }\nSCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }\nSCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }\nSCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }\nSCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  retur", "n __clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return count_leading_zeros((int32_t)(uint8_t)x)-24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return count_leading_zeros((int32_t)(uint16_t)x)-16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return count_leading_zeros(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return count_leading_zeros(x);\n}\n\n#else // Not OpenCL, ISPC or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1",
                                    ";\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  return count_trailing_zeros(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  return count_trailing_zeros(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nSCALAR_FUN_ATTR float fdiv32(float x, float y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR float fadd32(float x, float y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR float fsub32(float x, float y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR float fmul32(float x, float y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, f", "loat y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float a, float b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return fabsf(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nSCALAR_FUN_ATTR bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\n#if ISPC\n\nSCALAR_FUN_ATTR bool futrts_isinf32(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isfinite32(float x) {\n  return !isnan(x) && !futrts_isinf32(x);\n}\n\n#else\n\nSCALAR_FUN_ATTR bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#endif\n\nSCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  };\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {", "\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f32_bool(float x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR float btof_bool_f32(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cbrt32(float x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nSC",
                                    "ALAR_FUN_ATTR float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  return erf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nSCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return futrts_log32(x) / log(2.0f);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return futrts_log32(x) / log(10.0f);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;\n  float y = 1.0f + x;\n  float z = y - 1.0f;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform float cbrtf(uniform float);\nSCALAR_FUN_ATTR float futrts_cbrt32(float", " x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return (exp(x)+exp(-x)) / 2.0f;\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return (exp(x)-exp(-x)) / 2.0f;\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return futrts_sinh32(x)/futrts_cosh32(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  float f = x+sqrt(x*x-1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  float f = x+sqrt(x*x+1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n\n}\n\nSCALAR_FUN_ATTR float futrts_atanh32(float x) {\n  float f = (1+x)/(1-x);\n  if(futrts_isfinite32(f)) return log(f)/2.0f;\n  return f;\n\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {\n    x = abs(x);\n    y = abs(y);\n    float a;\n    float b;\n    if (x >= y){\n        a = x;\n        b = y;\n    } else {\n        a = y;\n        b = x;\n    }\n    if(b == 0){\n      return a;\n    }\n\n    int e;\n    float an;\n    float bn;\n    an = frexp (a, &e);\n    bn = ldexp (b, - e);\n    float cn;\n    cn = sqrt (an * an + bn * bn);\n    return ldexp (cn, e);\n  } else {\n    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;\n    else return x + y;\n  }\n\n}\n\nextern \"C\" unmasked uniform float tgammaf(", "uniform float x);\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = tgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = lgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erff(uniform float x);\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erff(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erfcf(uniform float x);\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erfcf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return x - y * trunc(x/y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  return round(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform float nextafterf(uniform float x, uniform float y);\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  float res;\n  foreach_active (i) {\n    uniform float r = nextafterf(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return x * pow((double)2.0, (double)y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  int32_t xb = futrts_to_bits32(x);\n  int32_t yb = futrts_to_bits32(y);\n  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float futr",
                                    "ts_fma32(float a, float b, float c) {\n  return a * b + c;\n}\n\n#else // Not OpenCL or ISPC, but CUDA or plain C.\n\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return logf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  return log1pf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cbrt32(float x) {\n  return cbrtf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return expf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  return erff(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  return erfcf(x);\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  re", "turn rintf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  return nextafterf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return ldexpf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  return copysignf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\n#if ISPC\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {\n  return intbits(x);\n}\n\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {\n  return floatbits(x);\n}\n#else\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\nSCALAR_FUN_ATTR float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);\n\n#if ISPC\nSCALAR_FUN_ATTR bool futrts_isinf64(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isfinite64(float x) {\n  return !isnan(x) && !futrts_isinf64(x);\n}\n\nSCALAR_FUN_ATTR double fdiv64(double x, double y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR double fadd64(double x, double y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR double fsub64(double x, double y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR double fmul64(double x, double y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple64(double x, double y) {\n  return x <= y;\n}", "\n\nSCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double fabs64(double x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR double fmax64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR double fmin64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR double fpow64(double a, double b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\nSCALAR_FUN_ATTR double futrts_log64(double x) {\n  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;\n}\n\nSCALAR_FUN_ATTR double futrts_log2_64(double x) {\n  return futrts_log64(x)/log(2.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_log10_64(double x) {\n  return futrts_log64(x)/log(10.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_log1p_64(double x) {\n  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;\n  double y = 1.0d + x;\n  double z = y - 1.0d;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform double cbrt(uniform double);\nSCALAR_FUN_ATTR double futrts_cbrt64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_exp64(double x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cos64(dou",
                                    "ble x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sin64(double x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tan64(double x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acos64(double x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asin64(double x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan64(double x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cosh64(double x) {\n  return (exp(x)+exp(-x)) / 2.0d;\n}\n\nSCALAR_FUN_ATTR double futrts_sinh64(double x) {\n  return (exp(x)-exp(-x)) / 2.0d;\n}\n\nSCALAR_FUN_ATTR double futrts_tanh64(double x) {\n  return futrts_sinh64(x)/futrts_cosh64(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acosh64(double x) {\n  double f = x+sqrt(x*x-1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR double futrts_asinh64(double x) {\n  double f = x+sqrt(x*x+1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR double futrts_atanh64(double x) {\n  double f = (1.0d+x)/(1.0d-x);\n  if(futrts_isfinite64(f)) return log(f)/2.0d;\n  return f;\n\n}\n\nSCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nextern \"C\" unmasked uniform double hypot(uniform double x, uniform double y);\nSCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = hypot(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double tgamma(uniform double x);\nSCALAR_FUN_ATTR double futrts_gamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = tgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double lgamma(uniform double x);\nSCALAR_FUN_ATTR double futrts_lgamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = lgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erf(uniform double x);\nSCALAR_FUN_ATTR do", "uble futrts_erf64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erfc(uniform double x);\nSCALAR_FUN_ATTR double futrts_erfc64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erfc(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR double futrts_round64(double x) {\n  return round(x);\n}\n\nSCALAR_FUN_ATTR double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform double nextafter(uniform float x, uniform double y);\nSCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = nextafter(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_floor64(double x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int", "16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f64_bool(double x) {\n  return x != 0.0;\n}\n\nSCALAR_FUN_ATTR double btof_bool_f64(bool x) {\n  return x ? 1.0 : 0.0;\n}\n\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {\n  int64_t res;\n  foreach_active (i) {\n    uniform double tmp = extract(x, i);\n    uniform int64_t r = *((uniform int64_t* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {\n  double res;\n  foreach_active (i) {\n    uniform int64_t tmp = extract(x, i);\n    uniform double r = *((uniform double* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double fmod64(double x, double y) {\n  return x - y * trunc(x/y);\n}\n\nSCALAR_FUN_ATTR double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {\n  return x * pow((double)2.0, (double)y);\n}\n\nSCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {\n  int64_t xb = futrts_to_bits64(x);\n  int64_t yb = futrts_to_bits64(y);\n  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));\n}\n\nSCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#e",
                                    "lse\n\nSCALAR_FUN_ATTR double fdiv64(double x, double y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR double fadd64(double x, double y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR double fsub64(double x, double y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR double fmul64(double x, double y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double fabs64(double x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_log64(double x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log1p_64(double x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cbrt64(double x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR double futrts_exp64(double x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cos64(double x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sin64(double x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tan64(double x) {\n  r", "eturn tan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acos64(double x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asin64(double x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan64(double x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR double futrts_erf64(double x) {\n  return erf(x);\n}\n\nSCALAR_FUN_ATTR double futrts_erfc64(double x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nSCALAR_FUN_ATTR double futrts_round64(double x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_floor64(double x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x", ") {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f64_bool(double x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR double btof_bool_f64(bool x) {\n  return x ? 1 : 0;\n}\n\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {\n  union {\n    int64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nSCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nSCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nSCALAR",
                                    "_FUN_ATTR float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#elif ISPC\ntypedef float16 f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions are not available.\n\nSCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nSCALAR", "_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\nSCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {\n  return x != (f16)0;\n}\n\nSCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifndef EMULATE_F16\nSCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#elif ISPC\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#else // Assuming CUDA.\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 ", "x, f16 y) {\n  return fminf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\n#if ISPC\nSCALAR_FUN_ATTR bool futrts_isinf16(float x) {\n  return !futrts_isnan16(x) && futrts_isnan16(x - x);\n}\nSCALAR_FUN_ATTR bool futrts_isfinite16(float x) {\n  return !futrts_isnan16(x) && !futrts_isinf16(x);\n}\n\n#else\n\nSCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n#endif\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return e",
                                    "rf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n#elif ISPC\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return futrts_log16(x) / log(2.0f16);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return futrts_log16(x) / log(10.0f16);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;\n  f16 y = 1.0f16 + x;\n  f16 z = y - 1.0f16;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return (float16)sqrt((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return (float16)cos((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return (float16)sin((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return (float16)tan((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return (float16)acos((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return (float16)asin((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return (float16)atan((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  retu", "rn (exp(x)+exp(-x)) / 2.0f16;\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return (exp(x)-exp(-x)) / 2.0f16;\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return futrts_sinh16(x)/futrts_cosh16(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x-1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x+1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  float16 f = (1+x)/(1-x);\n  if(futrts_isfinite16(f)) return log(f)/2.0f16;\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return (float16)atan2((float)x, (float)y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return (float16)futrts_hypot32((float)x, (float)y);\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)tgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)lgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  f16 res = (f16)futrts_cbrt32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  f16 res = (f16)futrts_erf32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  f16 res = (f16)futrts_erfc32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return x - y * (float16)trunc((float) (x/y));\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return (float16)round((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return (float16)floor((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return (float16)ceil((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrt", "s_nextafter16(f16 x, f16 y) {\n  return (float16)futrts_nextafter32((float)x, (float) y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\n#else // Assume CUDA.\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return (f16)log1pf((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return cbrtf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f1",
                                    "6 x) {\n  return tgammaf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return erff(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return erfcf(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return hfloor(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#elif ISPC\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  varying int16_t y = *((varying int16_t * uniform)&x);\n  return y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  varying f16 y = *((varying f16 * uniform)&x);\n  return y;\n}\n#else\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nSC", "ALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return futrts_log1p_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return futrts_cbrt32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nSCA", "LAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return futrts_erf32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return futrts_erfc32(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nSCALAR_FUN_ATTR f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#endif\n\n#endif\n\nSCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {\n  retu",
                                    "rn x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {\n  return (f16) x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\n#if ISPC\nSCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {\n  return (f16) ((float)x);\n}\n#else\nSCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n#endif\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                                         int32_t cmp, int32_t val);\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_shared(volatile __local int32_t *p,\n                                                        int32_t cmp, int32_t val);\nSCALAR_FUN_ATTR int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_add_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR float atomic_fadd_f32_global(volatile __global float *p, float x);\nSCALAR_FUN_ATTR float atomic_fadd_f32_shared(volatile __local float *p, float x);\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_shared(volatile __local uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_shared(volatile __local uint32", "_t *p, uint32_t x);\nSCALAR_FUN_ATTR int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_and_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_or_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_shared(volatile __local int32_t *p, int32_t x);\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                                         int32_t cmp, int32_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_shared(volatile __local int32_t *p,\n                                                        int32_t cmp, int32_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_add_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((int32_t*)p, x);\n#el", "se\n  return atomic_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((float*)p, x);\n  // On OpenCL, use technique from\n  // https://pipinspace.github.io/blog/atomic-float-addition-in-opencl.html\n#elif defined(cl_nv_pragma_unroll)\n  // use hardware-supported atomic addition on Nvidia GPUs with inline\n  // PTX assembly\n  float ret;\n  asm volatile(\"atom.global.add.f32 %0,[%1],%2;\":\"=f\"(ret):\"l\"(p),\"f\"(x):\"memory\");\n  return ret;\n#elif defined(__opencl_c_ext_fp32_global_atomic_add)\n  // use hardware-supported atomic addition on some Intel GPUs\n  return atomic_fetch_add_explicit((volatile __global atomic_float*)p,\n                                   x,\n                                   memory_order_relaxed);\n#elif __has_builtin(__builtin_amdgcn_global_atomic_fadd_f32)\n  // use hardware-supported atomic addition on some AMD GPUs\n  return __builtin_amdgcn_global_atomic_fadd_f32(p, x);\n#else\n  // fallback emulation:\n  // https://forums.developer.nvidia.com/t/atomicadd-float-float-atomicmul-float-float/14639/5\n  float old = x;\n  float ret;\n  while ((old=atomic_xchg(p, ret=atomic_xchg(p, 0.0f)+old))!=0.0f);\n  return ret;\n#endif\n}\n\nSCALAR_FUN_ATTR float atomic_fadd_f32_shared(volatile __local float *p, float x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_shared((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_shared(volatile",
                                    " __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_shared(volatile __local uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_shared(volatile __local uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_and_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_or_i32_global(volatile __global int32_t *p, ", "int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_or_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP) || defined(cl_khr_int64_base_atomics) && defined(cl_khr_int64_extended_atomics)\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                                         int64_t cmp, int64_t val);\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_shared(volatile __local int64_t *p,\n                                                        int64_t cmp, int64_t val);\nSCALAR_FUN_ATTR int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_add_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR uint", "64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_shared(volatile __local uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_shared(volatile __local uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_and_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_or_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_shared(volatile __local int64_t *p, int64_t x);\n\n#ifdef FUTHARK_F64_ENABLED\nSCALAR_FUN_ATTR double atomic_fadd_f64_global(volatile __global double *p, double x);\nSCALAR_FUN_ATTR double atomic_fadd_f64_shared(volatile __local double *p, double x);\n#endif\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                                         int64_t cmp, int64_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_shared(volatile __local int64_t *p,\n                                                        int64_t cmp, int64_t val) {\n#if defined(F",
                                    "UTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_add_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600 || defined(FUTHARK_HIP)\n  return atomicAdd((double*)p, x);\n  // On OpenCL, use technique from\n  // https://pipinspace.github.io/blog/atomic-float-addition-in-opencl.html\n#elif defined(cl_nv_pragma_unroll)\n  // use hardware-supported atomic addition on Nvidia GPUs with inline\n  // PTX assembly\n  double ret;\n  asm volatile(\"atom.global.add.f64 %0,[%1],%2;\":\"=d\"(ret):\"l\"(p),\"d\"(x):\"memory\");\n  return ret;\n#elif __has_builtin(__builtin_amdgcn_global_atomic_fadd_f64)\n  // use hardware-supported atomic addition on some AMD GPUs\n  return __builtin_amdgcn_global_atomic_fadd_f64(p, x);\n#else\n  // fallback emulation:\n  // https://forums.developer.nvidia.com/t/atomicadd-float-float-atomicmul-float-float/14639/5\n  union {int64_t i; double f;} old;\n  union {int64_t i; double f;} ret;\n  old.f = x;\n  while (1) {\n    ret.i = atom_xchg((volatile __global int64_t*)p, (int64_t)0);\n    ret.f += old.f;\n    old.i = atom_xchg((volatile __global int64_t*)p, ret.i);\n    if (old.i == 0) {\n      break;\n    }\n  }\n  return ret.f;\n#endif\n}\n\nSCALAR_FUN_ATTR double atomic_fadd_f64_shared(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600 || defined(FUTHARK_HIP)\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  u", "nion { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMax((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smax64(old, x);\n    old = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMax((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smax64(old, x);\n    old = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMin((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smin64(old, x);\n    old = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMin((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do ", "{\n    assumed = old;\n    old = smin64(old, x);\n    old = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_shared(volatile __local uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_shared(volatile __local uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((uint64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_and_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((uint64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((uint64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_or_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((uint64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_global(v",
                                    "olatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n#endif // defined(FUTHARK_CUDA) || defined(FUTHARK_HIP) || defined(cl_khr_int64_base_atomics) && defined(cl_khr_int64_extended_atomics)\n\n// End of atomics.h\n// Start of transpose.cl\n\n#define GEN_TRANSPOSE_KERNELS(NAME, ELEM_TYPE)                          \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*2, TR_TILE_DIM/TR_ELEMS_PER_THREAD, 1)\\\nvoid map_transpose_##NAME(SHARED_MEM_PARAM                              \\\n                          __global ELEM_TYPE *dst_mem,                  \\\n                          int64_t dst_offset,                           \\\n                          __global ELEM_TYPE *src_mem,                  \\\n                          int64_t src_offset,                           \\\n                          int32_t num_arrays,                           \\\n                          int32_t x_elems,                              \\\n                          int32_t y_elems,                              \\\n                          int32_t mulx,                                 \\\n                          int32_t muly,                                 \\\n                          int32_t repeat_1,                             \\\n                          int32_t repeat_2) {                           \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_g", "lobal_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index = global_id_0;                                    \\\n      int32_t y_index = tblock_id_1 * TR_TILE_DIM + get_local_id(1);    \\\n      if (x_index < x_elems) {                                          \\\n        for (int32_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int32_t index_i = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * x_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < y_elems) { \\\n            block[(get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * (TR_TILE_DIM+1) + \\\n                  get_local_id(0)] =                                    \\\n              src_mem[idata_offset + index_i];                          \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_TILE_DIM + get_local_id(0);            \\\n      y_index = tblock_id_0 * TR_TILE_DIM + get_local_id(1);            \\\n      if (x_index < y_elems) {                                          \\\n        for (int32_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int32_t index_out = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * y_elems + x_index; \\\n          if (y_in", "dex + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < x_elems) { \\\n            dst_mem[(odata_offset + index_out)] =                       \\\n              block[get_local_id(0) * (TR_TILE_DIM+1) +                 \\\n                    get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)]; \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM, TR_BLOCK_DIM, 1)                     \\\nvoid map_transpose_##NAME##_low_height(SHARED_MEM_PARAM                 \\\n                                                __global ELEM_TYPE *dst_mem, \\\n                                                int64_t dst_offset,     \\\n                                                __global ELEM_TYPE *src_mem, \\\n                                                int64_t src_offset,     \\\n                                                int32_t num_arrays,     \\\n                                                int32_t x_elems,        \\\n                                                int32_t y_elems,        \\\n                                                int32_t mulx,           \\\n                                                int32_t muly,           \\\n                                                int32_t repeat_1,       \\\n ",
                                    "                                               int32_t repeat_2) {     \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index =                                                 \\\n        tblock_id_0 * TR_BLOCK_DIM * mulx +                             \\\n        get_local_id(0) +                                               \\\n        get_local_id(1)%mulx * TR_BLOCK_DIM;                            \\\n      int32_t y_index = tblock_id_1 * TR_BLOCK_DIM + get_local_id(1)/mulx; \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      if (x_index < x_elems && y_index < y_elems) {                     \\\n        block[get_local_id(1) * (TR_BLOCK_DIM+1) + get_local_id(0)] =   \\\n          src_mem[idata_offset + index_in];                             \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_BLOCK_DIM + get_local_id(0)/mulx;      \\\n      y_index =                                                         \\\n        tblock_id_0 * TR_BLOCK_DIM * mulx +                             \\\n", "        get_local_id(1) +                                               \\\n        (get_local_id(0)%mulx) * TR_BLOCK_DIM;                          \\\n      int32_t index_out = y_index * y_elems + x_index;                  \\\n      if (x_index < y_elems && y_index < x_elems) {                     \\\n        dst_mem[odata_offset + index_out] =                             \\\n          block[get_local_id(0) * (TR_BLOCK_DIM+1) + get_local_id(1)];  \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM, TR_BLOCK_DIM, 1)                     \\\nvoid map_transpose_##NAME##_low_width(SHARED_MEM_PARAM                  \\\n                                      __global ELEM_TYPE *dst_mem,      \\\n                                      int64_t dst_offset,               \\\n                                      __global ELEM_TYPE *src_mem,      \\\n                                      int64_t src_offset,               \\\n                                      int32_t num_arrays,               \\\n                                      int32_t x_elems,                  \\\n                                      int32_t y_elems,                  \\\n                                      int32_t mulx,                     \\\n                                      int32_t muly,                     \\\n                                      int32_t repeat_1,                 \\\n  ", "                                    int32_t repeat_2) {               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index = tblock_id_0 * TR_BLOCK_DIM + get_local_id(0)/muly; \\\n      int32_t y_index =                                                 \\\n        tblock_id_1 * TR_BLOCK_DIM * muly +                             \\\n        get_local_id(1) + (get_local_id(0)%muly) * TR_BLOCK_DIM;        \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      if (x_index < x_elems && y_index < y_elems) {                     \\\n        block[get_local_id(1) * (TR_BLOCK_DIM+1) + get_local_id(0)] =   \\\n          src_mem[idata_offset + index_in];                             \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_BLOCK_DIM * muly +                     \\\n        get_local_id(0) + (get_local_id(1)%muly) * TR_BLOCK_DIM;        \\\n      y_index = tblock_id_0 * TR_BLOCK_DIM + get_local_id(1)/muly;      \\\n      int32_t index_out = y_index * y_elems + x_index;                  \\\n ",
                                    "     if (x_index < y_elems && y_index < x_elems) {                     \\\n        dst_mem[odata_offset + index_out] =                             \\\n          block[get_local_id(0) * (TR_BLOCK_DIM+1) + get_local_id(1)];  \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_num_tblocks(2) * get_local_size(2);            \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_num_tblocks(1) * get_local_size(1);              \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*TR_BLOCK_DIM, 1, 1)                   \\\nvoid map_transpose_##NAME##_small(SHARED_MEM_PARAM                       \\\n                                  __global ELEM_TYPE *dst_mem,          \\\n                                  int64_t dst_offset,                   \\\n                                  __global ELEM_TYPE *src_mem,          \\\n                                  int64_t src_offset,                   \\\n                                  int32_t num_arrays,                   \\\n                                  int32_t x_elems,                      \\\n                                  int32_t y_elems,                      \\\n                                  int32_t mulx,                         \\\n                                  int32_t muly,                         \\\n                                  int32_t repeat_1,                     \\\n                                  int32_t repeat_2) {                   \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  ", "int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = global_id_0/(y_elems * x_elems) * y_elems * x_elems; \\\n      int32_t x_index = (global_id_0 % (y_elems * x_elems))/y_elems;    \\\n      int32_t y_index = global_id_0%y_elems;                            \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      int32_t index_out = x_index * y_elems + y_index;                  \\\n      if (global_id_0 < x_elems * y_elems * num_arrays) {               \\\n        dst_mem[odata_offset + index_out] = src_mem[idata_offset + index_in]; \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*2, TR_TILE_DIM/TR_ELEMS_", "PER_THREAD, 1)\\\nvoid map_transpose_##NAME##_large(SHARED_MEM_PARAM                      \\\n                                  __global ELEM_TYPE *dst_mem,          \\\n                                  int64_t dst_offset,                   \\\n                                  __global ELEM_TYPE *src_mem,          \\\n                                  int64_t src_offset,                   \\\n                                  int64_t num_arrays,                   \\\n                                  int64_t x_elems,                      \\\n                                  int64_t y_elems,                      \\\n                                  int64_t mulx,                         \\\n                                  int64_t muly,                         \\\n                                  int32_t repeat_1,                     \\\n                                  int32_t repeat_2) {                   \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;             \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int64_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int64_t odata_offset = dst_offset + our_array_offset;             \\\n      int64_t idata_offset = src_offset + our_array_offset;             \\\n      int64_t x_index = global_id_0;                                    \\\n      int64_t y_index = tblock_id_1 * TR_TILE_DIM + get_loc",
                                    "al_id(1);    \\\n      if (x_index < x_elems) {                                          \\\n        for (int64_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int64_t index_i = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * x_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < y_elems) { \\\n            block[(get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * (TR_TILE_DIM+1) + \\\n                  get_local_id(0)] =                                    \\\n              src_mem[idata_offset + index_i];                          \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_TILE_DIM + get_local_id(0);            \\\n      y_index = tblock_id_0 * TR_TILE_DIM + get_local_id(1);            \\\n      if (x_index < y_elems) {                                          \\\n        for (int64_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int64_t index_out = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * y_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < x_elems) { \\\n            dst_mem[(odata_offset + index_out)] =                       \\\n              block[get_local_id(0) * (TR_TILE_DIM+1) +                 \\\n                    get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)]; \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                      ", "                             \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n\nGEN_TRANSPOSE_KERNELS(1b, uint8_t)\nGEN_TRANSPOSE_KERNELS(2b, uint16_t)\nGEN_TRANSPOSE_KERNELS(4b, uint32_t)\nGEN_TRANSPOSE_KERNELS(8b, uint64_t)\n\n// End of transpose.cl\n// Start of copy.cl\n\n#define GEN_COPY_KERNEL(NAME, ELEM_TYPE) \\\nFUTHARK_KERNEL void lmad_copy_##NAME(SHARED_MEM_PARAM                   \\\n                               __global ELEM_TYPE *dst_mem,             \\\n                               int64_t dst_offset,                      \\\n                               __global ELEM_TYPE *src_mem,             \\\n                               int64_t src_offset,                      \\\n                               int64_t n,                               \\\n                               int r,                                   \\\n                               int64_t shape0, int64_t dst_stride0, int64_t src_stride0, \\\n                               int64_t shape1, int64_t dst_stride1, int64_t src_stride1, \\\n                               int64_t shape2, int64_t dst_stride2, int64_t src_stride2, \\\n                               int64_t shape3, int64_t dst_stride3, int64_t src_stride3, \\\n                               int64_t shape4, int64_t dst_stride4, int64_t src_stride4, \\\n                               int64_t shape5, int64_t dst_stride5, int64_t src_stride5, \\\n                               int64_t shape6, int64_t dst_stride6, int64_t src_stride6, \\\n                               int64_t shape7, int64_t dst_stride7, int64_t src_stride7) { \\\n  int64_t gtid = get_global_id(0);                                      \\\n  int64_t remainder = gtid;                                             \\\n                                             ", "                           \\\n  if (gtid >= n) {                                                      \\\n    return;                                                             \\\n  }                                                                     \\\n                                                                        \\\n  if (r > 0) {                                                          \\\n    int64_t i = remainder % shape0;                                     \\\n    dst_offset += i * dst_stride0;                                      \\\n    src_offset += i * src_stride0;                                      \\\n    remainder /= shape0;                                                \\\n  }                                                                     \\\n  if (r > 1) {                                                          \\\n    int64_t i = remainder % shape1;                                     \\\n    dst_offset += i * dst_stride1;                                      \\\n    src_offset += i * src_stride1;                                      \\\n    remainder /= shape1;                                                \\\n  }                                                                     \\\n  if (r > 2) {                                                          \\\n    int64_t i = remainder % shape2;                                     \\\n    dst_offset += i * dst_stride2;                                      \\\n    src_offset += i * src_stride2;                                      \\\n    remainder /= shape2;                                                \\\n  }                                                                     \\\n  if (r > 3) {                                                          \\\n    int64_t i = remainder % shape3;                                     \\\n    dst_offset += i * dst_stride3;                                      \\\n    src_offset += i * src_stride3;                                      \\\n    remainder /= shape3;                       ",
                                    "                         \\\n  }                                                                     \\\n  if (r > 4) {                                                          \\\n    int64_t i = remainder % shape4;                                     \\\n    dst_offset += i * dst_stride4;                                      \\\n    src_offset += i * src_stride4;                                      \\\n    remainder /= shape4;                                                \\\n  }                                                                     \\\n  if (r > 5) {                                                          \\\n    int64_t i = remainder % shape5;                                     \\\n    dst_offset += i * dst_stride5;                                      \\\n    src_offset += i * src_stride5;                                      \\\n    remainder /= shape5;                                                \\\n  }                                                                     \\\n  if (r > 6) {                                                          \\\n    int64_t i = remainder % shape6;                                     \\\n    dst_offset += i * dst_stride6;                                      \\\n    src_offset += i * src_stride6;                                      \\\n    remainder /= shape6;                                                \\\n  }                                                                     \\\n  if (r > 7) {                                                          \\\n    int64_t i = remainder % shape7;                                     \\\n    dst_offset += i * dst_stride7;                                      \\\n    src_offset += i * src_stride7;                                      \\\n    remainder /= shape7;                                                \\\n  }                                                                     \\\n                                                                        \\\n  dst_mem[dst_offset] = src_mem[src_offset];     ", "                       \\\n}\n\nGEN_COPY_KERNEL(1b, uint8_t)\nGEN_COPY_KERNEL(2b, uint16_t)\nGEN_COPY_KERNEL(4b, uint32_t)\nGEN_COPY_KERNEL(8b, uint64_t)\n\n// End of copy.cl\n\nFUTHARK_FUN_ATTR void futrts_lifted_lambda_10058(int64_t *out_prim_out_0, double a_31088, double ba_31089, int64_t pf_31090, int64_t pd_31091);\nFUTHARK_FUN_ATTR void futrts_lifted_normalizze_10027(int64_t *out_prim_out_0, int64_t *out_prim_out_1, int64_t *out_prim_out_2, int64_t *out_prim_out_3, int64_t *out_prim_out_4, int64_t slo_31659, int64_t shi_31660, int64_t tlo_31661, int64_t thi_31662, int64_t count_31663);\n\nFUTHARK_FUN_ATTR void futrts_lifted_lambda_10058(int64_t *out_prim_out_0, double a_31088, double ba_31089, int64_t pf_31090, int64_t pd_31091)\n{\n    int64_t prim_out_95757;\n    double zt_lhs_31092 = a_31088 / ba_31089;\n    double i64_res_55330 = sitofp_i64_f64(pf_31090);\n    double f64_arg0_31096 = zt_lhs_31092 * i64_res_55330;\n    int64_t f64_res_55332 = fptosi_f64_i64(f64_arg0_31096);\n    bool cond_31100 = slt64(f64_res_55332, (int64_t) 0);\n    int64_t lifted_lambda_res_31101;\n    \n    if (cond_31100) {\n        lifted_lambda_res_31101 = (int64_t) 0;\n    } else {\n        bool cond_31102 = sle64(pd_31091, f64_res_55332);\n        int64_t lifted_lambda_res_f_res_31103;\n        \n        if (cond_31102) {\n            int64_t lifted_lambda_res_f_res_t_res_69556 = sub64(pd_31091, (int64_t) 1);\n            \n            lifted_lambda_res_f_res_31103 = lifted_lambda_res_f_res_t_res_69556;\n        } else {\n            lifted_lambda_res_f_res_31103 = f64_res_55332;\n        }\n        lifted_lambda_res_31101 = lifted_lambda_res_f_res_31103;\n    }\n    prim_out_95757 = lifted_lambda_res_31101;\n    *out_prim_out_0 = prim_out_95757;\n}\nFUTHARK_FUN_ATTR void futrts_lifted_normalizze_10027(int64_t *out_prim_out_0, int64_t *out_prim_out_1, int64_t *out_prim_out_2, int64_t *out_prim_out_3, int64_t *out_prim_out_4, int64_t slo_31659, int64_t shi_31660, int64_t tlo_31661, int64_t thi_31662, int64_t count_31663)\n{", "\n    int64_t prim_out_95757;\n    int64_t prim_out_95758;\n    int64_t prim_out_95759;\n    int64_t prim_out_95760;\n    int64_t prim_out_95761;\n    int64_t min_arg1_31666 = add64(slo_31659, count_31663);\n    int64_t min_res_55331 = smin64(shi_31660, min_arg1_31666);\n    int64_t min_arg1_31670 = add64(tlo_31661, count_31663);\n    int64_t min_res_55334 = smin64(thi_31662, min_arg1_31670);\n    int64_t zp_lhs_31674 = sub64(min_res_55331, slo_31659);\n    int64_t zp_rhs_31676 = sub64(min_res_55334, tlo_31661);\n    int64_t zm_lhs_31678 = add64(zp_lhs_31674, zp_rhs_31676);\n    int64_t slack_31680 = sub64(zm_lhs_31678, count_31663);\n    int64_t min_res_55337 = smin64(zp_lhs_31674, slack_31680);\n    int64_t min_res_55340 = smin64(zp_rhs_31676, min_res_55337);\n    int64_t max_arg1_31690 = sub64(min_res_55331, min_res_55340);\n    int64_t max_res_55343 = smax64(slo_31659, max_arg1_31690);\n    int64_t max_arg1_31694 = sub64(min_res_55334, min_res_55340);\n    int64_t max_res_55346 = smax64(tlo_31661, max_arg1_31694);\n    int64_t zm_rhs_31698 = sub64(max_res_55343, slo_31659);\n    int64_t zm_lhs_31700 = sub64(count_31663, zm_rhs_31698);\n    int64_t zm_rhs_31702 = sub64(max_res_55346, tlo_31661);\n    int64_t count_31704 = sub64(zm_lhs_31700, zm_rhs_31702);\n    \n    prim_out_95757 = max_res_55343;\n    prim_out_95758 = min_res_55331;\n    prim_out_95759 = max_res_55346;\n    prim_out_95760 = min_res_55334;\n    prim_out_95761 = count_31704;\n    *out_prim_out_0 = prim_out_95757;\n    *out_prim_out_1 = prim_out_95758;\n    *out_prim_out_2 = prim_out_95759;\n    *out_prim_out_3 = prim_out_95760;\n    *out_prim_out_4 = prim_out_95761;\n}\n\nFUTHARK_KERNEL\nvoid builtinzhiota_i64ziiota_i64_95769(int64_t n_95765, int64_t x_95766, int64_t s_95767, int64_t virt_num_tblocks_95774, int64_t num_tblocks_95775, __global unsigned char *mem_95764)\n{\n    int32_t iota_ltid_95770;\n    int32_t tblock_sizze_95772;\n    int32_t iota_gid_95771;\n    int32_t iota_gtid_95769;\n    int32_t phys_tblock_id_95776;\n    int32_t it",
                                    "erations_95777;\n    \n    iota_ltid_95770 = get_local_id(0);\n    tblock_sizze_95772 = get_local_size(0);\n    iota_gid_95771 = get_tblock_id(0);\n    iota_gtid_95769 = iota_gid_95771 * tblock_sizze_95772 + iota_ltid_95770;\n    phys_tblock_id_95776 = get_tblock_id(0);\n    iterations_95777 = sdiv_up32(sext_i64_i32(virt_num_tblocks_95774) - phys_tblock_id_95776, sext_i64_i32(num_tblocks_95775));\n    for (int32_t i_95778 = 0; i_95778 < iterations_95777; i_95778++) {\n        int32_t virt_tblock_id_95779;\n        int64_t global_tid_95780;\n        \n        virt_tblock_id_95779 = phys_tblock_id_95776 + i_95778 * sext_i64_i32(num_tblocks_95775);\n        global_tid_95780 = sext_i32_i64(virt_tblock_id_95779) * sext_i32_i64(tblock_sizze_95772) + sext_i32_i64(iota_ltid_95770);\n        if (slt64(global_tid_95780, n_95765)) {\n            ((__global int64_t *) mem_95764)[global_tid_95780] = add64(mul64(global_tid_95780, s_95767), x_95766);\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_boolzireplicate_95865(int64_t num_elems_95861, unsigned char val_95862_bits, int64_t replicate_n_95864, int64_t virt_num_tblocks_95870, int64_t num_tblocks_95871, __global unsigned char *mem_95860)\n{\n    bool val_95862 = val_95862_bits;\n    int32_t replicate_ltid_95866;\n    int32_t tblock_sizze_95868;\n    int32_t replicate_gid_95867;\n    int32_t replicate_gtid_95865;\n    int32_t phys_tblock_id_95872;\n    int32_t iterations_95873;\n    \n    replicate_ltid_95866 = get_local_id(0);\n    tblock_sizze_95868 = get_local_size(0);\n    replicate_gid_95867 = get_tblock_id(0);\n    replicate_gtid_95865 = replicate_gid_95867 * tblock_sizze_95868 + replicate_ltid_95866;\n    phys_tblock_id_95872 = get_tblock_id(0);\n    iterations_95873 = sdiv_up32(sext_i64_i32(virt_num_tblocks_95870) - phys_tblock_id_95872, sext_i64_i32(num_tblocks_95871));\n    for (int32_t i_95874 = 0; i_95874 < iterations_95873; i_95874++) {\n        int3", "2_t virt_tblock_id_95875;\n        int64_t global_tid_95876;\n        int64_t slice_95878;\n        int64_t rep_i_95877;\n        int64_t remnant_95879;\n        \n        virt_tblock_id_95875 = phys_tblock_id_95872 + i_95874 * sext_i64_i32(num_tblocks_95871);\n        global_tid_95876 = sext_i32_i64(virt_tblock_id_95875) * sext_i32_i64(tblock_sizze_95868) + sext_i32_i64(replicate_ltid_95866);\n        slice_95878 = num_elems_95861;\n        rep_i_95877 = global_tid_95876;\n        remnant_95879 = global_tid_95876 - rep_i_95877;\n        if (slt64(global_tid_95876, replicate_n_95864)) {\n            ((__global bool *) mem_95860)[rep_i_95877] = val_95862;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_f64zireplicate_95911(int64_t num_elems_95907, double val_95908, int64_t replicate_n_95910, int64_t virt_num_tblocks_95916, int64_t num_tblocks_95917, __global unsigned char *mem_95906)\n{\n    int32_t replicate_ltid_95912;\n    int32_t tblock_sizze_95914;\n    int32_t replicate_gid_95913;\n    int32_t replicate_gtid_95911;\n    int32_t phys_tblock_id_95918;\n    int32_t iterations_95919;\n    \n    replicate_ltid_95912 = get_local_id(0);\n    tblock_sizze_95914 = get_local_size(0);\n    replicate_gid_95913 = get_tblock_id(0);\n    replicate_gtid_95911 = replicate_gid_95913 * tblock_sizze_95914 + replicate_ltid_95912;\n    phys_tblock_id_95918 = get_tblock_id(0);\n    iterations_95919 = sdiv_up32(sext_i64_i32(virt_num_tblocks_95916) - phys_tblock_id_95918, sext_i64_i32(num_tblocks_95917));\n    for (int32_t i_95920 = 0; i_95920 < iterations_95919; i_95920++) {\n        int32_t virt_tblock_id_95921;\n        int64_t global_tid_95922;\n        int64_t slice_95924;\n        int64_t rep_i_95923;\n        int64_t remnant_95925;\n        \n        virt_tblock_id_95921 = phys_tblock_id_95918 + i_95920 * sext_i64_i32(num_tblocks_95917);\n        global_tid_95922 = sext_i32_i64(virt_tblock_id_95921) * sext_i32_i64(tb", "lock_sizze_95914) + sext_i32_i64(replicate_ltid_95912);\n        slice_95924 = num_elems_95907;\n        rep_i_95923 = global_tid_95922;\n        remnant_95925 = global_tid_95922 - rep_i_95923;\n        if (slt64(global_tid_95922, replicate_n_95910)) {\n            ((__global double *) mem_95906)[rep_i_95923] = val_95908;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i32zireplicate_95844(int64_t num_elems_95840, int32_t val_95841, int64_t replicate_n_95843, int64_t virt_num_tblocks_95849, int64_t num_tblocks_95850, __global unsigned char *mem_95839)\n{\n    int32_t replicate_ltid_95845;\n    int32_t tblock_sizze_95847;\n    int32_t replicate_gid_95846;\n    int32_t replicate_gtid_95844;\n    int32_t phys_tblock_id_95851;\n    int32_t iterations_95852;\n    \n    replicate_ltid_95845 = get_local_id(0);\n    tblock_sizze_95847 = get_local_size(0);\n    replicate_gid_95846 = get_tblock_id(0);\n    replicate_gtid_95844 = replicate_gid_95846 * tblock_sizze_95847 + replicate_ltid_95845;\n    phys_tblock_id_95851 = get_tblock_id(0);\n    iterations_95852 = sdiv_up32(sext_i64_i32(virt_num_tblocks_95849) - phys_tblock_id_95851, sext_i64_i32(num_tblocks_95850));\n    for (int32_t i_95853 = 0; i_95853 < iterations_95852; i_95853++) {\n        int32_t virt_tblock_id_95854;\n        int64_t global_tid_95855;\n        int64_t slice_95857;\n        int64_t rep_i_95856;\n        int64_t remnant_95858;\n        \n        virt_tblock_id_95854 = phys_tblock_id_95851 + i_95853 * sext_i64_i32(num_tblocks_95850);\n        global_tid_95855 = sext_i32_i64(virt_tblock_id_95854) * sext_i32_i64(tblock_sizze_95847) + sext_i32_i64(replicate_ltid_95845);\n        slice_95857 = num_elems_95840;\n        rep_i_95856 = global_tid_95855;\n        remnant_95858 = global_tid_95855 - rep_i_95856;\n        if (slt64(global_tid_95855, replicate_n_95843)) {\n            ((__global int32_t *) mem_95839)[rep_i_95856] = val_95841;\n        }\n ",
                                    "       barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i64zireplicate_95792(int64_t num_elems_95788, int64_t val_95789, int64_t replicate_n_95791, int64_t virt_num_tblocks_95797, int64_t num_tblocks_95798, __global unsigned char *mem_95787)\n{\n    int32_t replicate_ltid_95793;\n    int32_t tblock_sizze_95795;\n    int32_t replicate_gid_95794;\n    int32_t replicate_gtid_95792;\n    int32_t phys_tblock_id_95799;\n    int32_t iterations_95800;\n    \n    replicate_ltid_95793 = get_local_id(0);\n    tblock_sizze_95795 = get_local_size(0);\n    replicate_gid_95794 = get_tblock_id(0);\n    replicate_gtid_95792 = replicate_gid_95794 * tblock_sizze_95795 + replicate_ltid_95793;\n    phys_tblock_id_95799 = get_tblock_id(0);\n    iterations_95800 = sdiv_up32(sext_i64_i32(virt_num_tblocks_95797) - phys_tblock_id_95799, sext_i64_i32(num_tblocks_95798));\n    for (int32_t i_95801 = 0; i_95801 < iterations_95800; i_95801++) {\n        int32_t virt_tblock_id_95802;\n        int64_t global_tid_95803;\n        int64_t slice_95805;\n        int64_t rep_i_95804;\n        int64_t remnant_95806;\n        \n        virt_tblock_id_95802 = phys_tblock_id_95799 + i_95801 * sext_i64_i32(num_tblocks_95798);\n        global_tid_95803 = sext_i32_i64(virt_tblock_id_95802) * sext_i32_i64(tblock_sizze_95795) + sext_i32_i64(replicate_ltid_95793);\n        slice_95805 = num_elems_95788;\n        rep_i_95804 = global_tid_95803;\n        remnant_95806 = global_tid_95803 - rep_i_95804;\n        if (slt64(global_tid_95803, replicate_n_95791)) {\n            ((__global int64_t *) mem_95787)[rep_i_95804] = val_95789;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i8zireplicate_98110(int64_t num_elems_98106, int8_t val_98107, int64_t replicate_n_98109, int64_t virt_num_tblocks_98115, int64_t num_tblocks_98116, __global unsigned char *mem_98105)\n{\n    int32", "_t replicate_ltid_98111;\n    int32_t tblock_sizze_98113;\n    int32_t replicate_gid_98112;\n    int32_t replicate_gtid_98110;\n    int32_t phys_tblock_id_98117;\n    int32_t iterations_98118;\n    \n    replicate_ltid_98111 = get_local_id(0);\n    tblock_sizze_98113 = get_local_size(0);\n    replicate_gid_98112 = get_tblock_id(0);\n    replicate_gtid_98110 = replicate_gid_98112 * tblock_sizze_98113 + replicate_ltid_98111;\n    phys_tblock_id_98117 = get_tblock_id(0);\n    iterations_98118 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98115) - phys_tblock_id_98117, sext_i64_i32(num_tblocks_98116));\n    for (int32_t i_98119 = 0; i_98119 < iterations_98118; i_98119++) {\n        int32_t virt_tblock_id_98120;\n        int64_t global_tid_98121;\n        int64_t slice_98123;\n        int64_t rep_i_98122;\n        int64_t remnant_98124;\n        \n        virt_tblock_id_98120 = phys_tblock_id_98117 + i_98119 * sext_i64_i32(num_tblocks_98116);\n        global_tid_98121 = sext_i32_i64(virt_tblock_id_98120) * sext_i32_i64(tblock_sizze_98113) + sext_i32_i64(replicate_ltid_98111);\n        slice_98123 = num_elems_98106;\n        rep_i_98122 = global_tid_98121;\n        remnant_98124 = global_tid_98121 - rep_i_98122;\n        if (slt64(global_tid_98121, replicate_n_98109)) {\n            ((__global int8_t *) mem_98105)[rep_i_98122] = val_98107;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_95835_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_95835(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_90830)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95837;\n    int32_t tblock_sizze_95840;\n    int32_t wave_sizze_95839;\n    int32_t block_id_95838;\n    int32_t global_tid_95836;\n    int64_t tid_95835;\n    int64_t x_90459;\n    \n    local_tid_95837 = get_local_id(0);\n    tblock_sizze_95840 = ", "get_local_size(0);\n    wave_sizze_95839 = LOCKSTEP_WIDTH;\n    block_id_95838 = get_tblock_id(0);\n    global_tid_95836 = block_id_95838 * tblock_sizze_95840 + local_tid_95837;\n    tid_95835 = sext_i32_i64(global_tid_95836);\n    x_90459 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_90830)[(int64_t) 0] = x_90459;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_95867_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_95867(__global int *global_failure, __global unsigned char *ext_mem_90831, __global unsigned char *mem_90834)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95869;\n    int32_t tblock_sizze_95872;\n    int32_t wave_sizze_95871;\n    int32_t block_id_95870;\n    int32_t global_tid_95868;\n    int64_t tid_95867;\n    int64_t zm_lhs_90463;\n    int64_t min_arg1_90464;\n    \n    local_tid_95869 = get_local_id(0);\n    tblock_sizze_95872 = get_local_size(0);\n    wave_sizze_95871 = LOCKSTEP_WIDTH;\n    block_id_95870 = get_tblock_id(0);\n    global_tid_95868 = block_id_95870 * tblock_sizze_95872 + local_tid_95869;\n    tid_95867 = sext_i32_i64(global_tid_95868);\n    zm_lhs_90463 = ((__global int64_t *) ext_mem_90831)[(int64_t) 0];\n    min_arg1_90464 = sub64(zm_lhs_90463, (int64_t) 1);\n    ((__global int64_t *) mem_90834)[(int64_t) 0] = min_arg1_90464;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96427_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96427(__global int *global_failure, __global unsigned char *mem_91312, __global unsigned char *mem_91313)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96429;\n    int32_t tblock_sizze_96432;\n    int32_t wave_sizze_96431;\n    int32_t block_id_96430;\n    int32_t global_tid_96428;\n    int64_t tid_96427;\n    double f_arg0_90468;\n    int64_t f64_res_90471;\n    \n    local_tid_96429 = get_local_id(0);\n    tblock_sizze_96432 = g",
                                    "et_local_size(0);\n    wave_sizze_96431 = LOCKSTEP_WIDTH;\n    block_id_96430 = get_tblock_id(0);\n    global_tid_96428 = block_id_96430 * tblock_sizze_96432 + local_tid_96429;\n    tid_96427 = sext_i32_i64(global_tid_96428);\n    f_arg0_90468 = ((__global double *) mem_91312)[(int64_t) 0];\n    f64_res_90471 = fptosi_f64_i64(f_arg0_90468);\n    ((__global int64_t *) mem_91313)[(int64_t) 0] = f64_res_90471;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96454_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96454(__global int *global_failure, int64_t index_primexp_61734, __global unsigned char *mem_91312, __global unsigned char *mem_91315)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96456;\n    int32_t tblock_sizze_96459;\n    int32_t wave_sizze_96458;\n    int32_t block_id_96457;\n    int32_t global_tid_96455;\n    int64_t tid_96454;\n    double f_arg0_90474;\n    int64_t f64_res_90477;\n    \n    local_tid_96456 = get_local_id(0);\n    tblock_sizze_96459 = get_local_size(0);\n    wave_sizze_96458 = LOCKSTEP_WIDTH;\n    block_id_96457 = get_tblock_id(0);\n    global_tid_96455 = block_id_96457 * tblock_sizze_96459 + local_tid_96456;\n    tid_96454 = sext_i32_i64(global_tid_96455);\n    f_arg0_90474 = ((__global double *) mem_91312)[index_primexp_61734];\n    f64_res_90477 = fptosi_f64_i64(f_arg0_90474);\n    ((__global int64_t *) mem_91315)[index_primexp_61734] = f64_res_90477;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96460_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96460(__global int *global_failure, __global unsigned char *ext_mem_91327, __global unsigned char *mem_91328)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96462;\n    int32_t tblock_sizze_96465;\n    int32_t wave_sizze_96464;\n    int32_t block_id_96463;\n    int32_t global_tid_96461;\n    int64_t tid_96460;\n    int64_t f_arg0_90479;\n    int64_t max_res_90482;\n  ", "  \n    local_tid_96462 = get_local_id(0);\n    tblock_sizze_96465 = get_local_size(0);\n    wave_sizze_96464 = LOCKSTEP_WIDTH;\n    block_id_96463 = get_tblock_id(0);\n    global_tid_96461 = block_id_96463 * tblock_sizze_96465 + local_tid_96462;\n    tid_96460 = sext_i32_i64(global_tid_96461);\n    f_arg0_90479 = ((__global int64_t *) ext_mem_91327)[(int64_t) 0];\n    max_res_90482 = smax64((int64_t) 0, f_arg0_90479);\n    ((__global int64_t *) mem_91328)[(int64_t) 0] = max_res_90482;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96487_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96487(__global int *global_failure, int64_t index_primexp_61753, __global unsigned char *ext_mem_91327, __global unsigned char *mem_91330)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96489;\n    int32_t tblock_sizze_96492;\n    int32_t wave_sizze_96491;\n    int32_t block_id_96490;\n    int32_t global_tid_96488;\n    int64_t tid_96487;\n    int64_t f_arg0_90485;\n    int64_t max_res_90488;\n    \n    local_tid_96489 = get_local_id(0);\n    tblock_sizze_96492 = get_local_size(0);\n    wave_sizze_96491 = LOCKSTEP_WIDTH;\n    block_id_96490 = get_tblock_id(0);\n    global_tid_96488 = block_id_96490 * tblock_sizze_96492 + local_tid_96489;\n    tid_96487 = sext_i32_i64(global_tid_96488);\n    f_arg0_90485 = ((__global int64_t *) ext_mem_91327)[index_primexp_61753];\n    max_res_90488 = smax64((int64_t) 0, f_arg0_90485);\n    ((__global int64_t *) mem_91330)[index_primexp_61753] = max_res_90488;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96493_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96493(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *ext_mem_91342, __global unsigned char *mem_91343)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96495;\n    int32_t tblock_sizze_96498;\n    int32_t wa", "ve_sizze_96497;\n    int32_t block_id_96496;\n    int32_t global_tid_96494;\n    int64_t tid_96493;\n    int64_t f_arg0_90490;\n    int64_t zm_lhs_90492;\n    int64_t min_arg1_90495;\n    int64_t min_res_90499;\n    \n    local_tid_96495 = get_local_id(0);\n    tblock_sizze_96498 = get_local_size(0);\n    wave_sizze_96497 = LOCKSTEP_WIDTH;\n    block_id_96496 = get_tblock_id(0);\n    global_tid_96494 = block_id_96496 * tblock_sizze_96498 + local_tid_96495;\n    tid_96493 = sext_i32_i64(global_tid_96494);\n    f_arg0_90490 = ((__global int64_t *) ext_mem_91342)[(int64_t) 0];\n    zm_lhs_90492 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    min_arg1_90495 = sub64(zm_lhs_90492, (int64_t) 1);\n    min_res_90499 = smin64(f_arg0_90490, min_arg1_90495);\n    ((__global int64_t *) mem_91343)[(int64_t) 0] = min_res_90499;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96520_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96520(__global int *global_failure, int64_t index_primexp_61772, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *ext_mem_91342, __global unsigned char *mem_91345)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96522;\n    int32_t tblock_sizze_96525;\n    int32_t wave_sizze_96524;\n    int32_t block_id_96523;\n    int32_t global_tid_96521;\n    int64_t tid_96520;\n    int64_t f_arg0_90502;\n    int64_t zm_lhs_90504;\n    int64_t min_arg1_90507;\n    int64_t min_res_90511;\n    \n    local_tid_96522 = get_local_id(0);\n    tblock_sizze_96525 = get_local_size(0);\n    wave_sizze_96524 = LOCKSTEP_WIDTH;\n    block_id_96523 = get_tblock_id(0);\n    global_tid_96521 = block_id_96523 * tblock_sizze_96525 + local_tid_96522;\n    tid_96520 = sext_i32_i64(global_tid_96521);\n    f_arg0_90502 = ((__global int64_t *) ext_mem_91342)[index_primexp_61772];\n    zm_lhs_90504 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_61772];\n    min_arg1_9",
                                    "0507 = sub64(zm_lhs_90504, (int64_t) 1);\n    min_res_90511 = smin64(f_arg0_90502, min_arg1_90507);\n    ((__global int64_t *) mem_91345)[index_primexp_61772] = min_res_90511;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96537_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96537(__global int *global_failure, int64_t i_61785, __global unsigned char *mem_91360, __global unsigned char *mem_param_91364, __global unsigned char *mem_91365)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96539;\n    int32_t tblock_sizze_96542;\n    int32_t wave_sizze_96541;\n    int32_t block_id_96540;\n    int32_t global_tid_96538;\n    int64_t tid_96537;\n    int64_t b_90516;\n    int64_t acc_90518;\n    int64_t defunc_0_f_res_90520;\n    \n    local_tid_96539 = get_local_id(0);\n    tblock_sizze_96542 = get_local_size(0);\n    wave_sizze_96541 = LOCKSTEP_WIDTH;\n    block_id_96540 = get_tblock_id(0);\n    global_tid_96538 = block_id_96540 * tblock_sizze_96542 + local_tid_96539;\n    tid_96537 = sext_i32_i64(global_tid_96538);\n    b_90516 = ((__global int64_t *) mem_91360)[i_61785];\n    acc_90518 = ((__global int64_t *) mem_param_91364)[(int64_t) 0];\n    defunc_0_f_res_90520 = add64(b_90516, acc_90518);\n    ((__global int64_t *) mem_91365)[(int64_t) 0] = defunc_0_f_res_90520;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96544_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96544(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_91385)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96546;\n    int32_t tblock_sizze_96549;\n    int32_t wave_sizze_96548;\n    int32_t block_id_96547;\n    int32_t global_tid_96545;\n    int64_t tid_96544;\n    int64_t x_90575;\n    \n    local_tid_96546 = get_local_id(0);\n    tblock_sizze_96549 = get_local_size(0);\n    wave_sizze_96548 = LOCKSTEP_WIDTH;\n    bl", "ock_id_96547 = get_tblock_id(0);\n    global_tid_96545 = block_id_96547 * tblock_sizze_96549 + local_tid_96546;\n    tid_96544 = sext_i32_i64(global_tid_96545);\n    x_90575 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_91385)[(int64_t) 0] = x_90575;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96550_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96550(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_54947, int64_t total_angle_no_54958, __global unsigned char *ext_mem_91368, __global unsigned char *ext_mem_91386, __global unsigned char *mem_91387, __global unsigned char *mem_91388, __global unsigned char *mem_91389)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96552;\n    int32_t tblock_sizze_96555;\n    int32_t wave_sizze_96554;\n    int32_t block_id_96553;\n    int32_t global_tid_96551;\n    int64_t tid_96550;\n    int64_t defunc_0_foldl_res_90522;\n    bool x_90523;\n    bool y_90526;\n    bool bounds_check_90530;\n    bool index_certs_90534;\n    int64_t zp_lhs_90568;\n    int64_t zm_lhs_90579;\n    int64_t min_arg1_90580;\n    \n    local_tid_96552 = get_local_id(0);\n    tblock_sizze_96555 = get_local_size(0);\n    wave_sizze_96554 = LOCKSTEP_WIDTH;\n    block_id_96553 = get_tblock_id(0);\n    global_tid_96551 = block_id_96553 * tblock_sizze_96555 + local_tid_96552;\n    tid_96550 = sext_i32_i64(global_tid_96551);\n    defunc_0_foldl_res_90522 = ((__global int64_t *) ext_mem_91368)[(int64_t) 0];\n    x_90523 = sle64((int64_t) 0, defunc_0_foldl_res_90522);\n    y_90526 = slt64(defunc_0_foldl_res_90522, dz2080U_54947);\n    bounds_check_90530 = x_90523 && y_90526;\n    if (!bounds_check_90530) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 24) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_90522;\n                global_failure_args[", "1] = (int64_t) dz2080U_54947;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_90568 = mul64(total_angle_no_54958, defunc_0_foldl_res_90522);\n    zm_lhs_90579 = ((__global int64_t *) ext_mem_91386)[(int64_t) 0];\n    min_arg1_90580 = sub64(zm_lhs_90579, (int64_t) 1);\n    ((__global int64_t *) mem_91388)[(int64_t) 0] = zp_lhs_90568;\n    ((__global int64_t *) mem_91389)[(int64_t) 0] = min_arg1_90580;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96565_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96565(__global int *global_failure, __global unsigned char *mem_91392, __global unsigned char *mem_91393)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96567;\n    int32_t tblock_sizze_96570;\n    int32_t wave_sizze_96569;\n    int32_t block_id_96568;\n    int32_t global_tid_96566;\n    int64_t tid_96565;\n    double f_arg0_90537;\n    \n    local_tid_96567 = get_local_id(0);\n    tblock_sizze_96570 = get_local_size(0);\n    wave_sizze_96569 = LOCKSTEP_WIDTH;\n    block_id_96568 = get_tblock_id(0);\n    global_tid_96566 = block_id_96568 * tblock_sizze_96570 + local_tid_96567;\n    tid_96565 = sext_i32_i64(global_tid_96566);\n    f_arg0_90537 = ((__global double *) mem_91392)[(int64_t) 0];\n    ((__global double *) mem_91393)[(int64_t) 0] = f_arg0_90537;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96604_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96604(__global int *global_failure, int64_t i_61841, __global unsigned char *mem_91412, __global unsigned char *mem_param_91415, __global unsigned char *mem_91416)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96606;\n    int32_t tblock_sizze_96609;\n    int32_t wave_sizze_96608;\n    int32_t block_id_96607;\n    int32_t global_tid_96605;\n    int64_t tid_96604;\n    double b_90545;\n    double acc_90547;\n    double defunc_0_f_res_90549;\n    \n    local_tid_9660",
                                    "6 = get_local_id(0);\n    tblock_sizze_96609 = get_local_size(0);\n    wave_sizze_96608 = LOCKSTEP_WIDTH;\n    block_id_96607 = get_tblock_id(0);\n    global_tid_96605 = block_id_96607 * tblock_sizze_96609 + local_tid_96606;\n    tid_96604 = sext_i32_i64(global_tid_96605);\n    b_90545 = ((__global double *) mem_91412)[i_61841];\n    acc_90547 = ((__global double *) mem_param_91415)[(int64_t) 0];\n    defunc_0_f_res_90549 = b_90545 + acc_90547;\n    ((__global double *) mem_91416)[(int64_t) 0] = defunc_0_f_res_90549;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96610_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96610(__global int *global_failure, int64_t i_61817, __global unsigned char *ext_mem_91406, __global unsigned char *ext_mem_91419, __global unsigned char *mem_91426)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96612;\n    int32_t tblock_sizze_96615;\n    int32_t wave_sizze_96614;\n    int32_t block_id_96613;\n    int32_t global_tid_96611;\n    int64_t tid_96610;\n    double this_x_90540;\n    double defunc_0_foldl_res_90551;\n    double sqrt_res_90552;\n    double atan2_res_90556;\n    \n    local_tid_96612 = get_local_id(0);\n    tblock_sizze_96615 = get_local_size(0);\n    wave_sizze_96614 = LOCKSTEP_WIDTH;\n    block_id_96613 = get_tblock_id(0);\n    global_tid_96611 = block_id_96613 * tblock_sizze_96615 + local_tid_96612;\n    tid_96610 = sext_i32_i64(global_tid_96611);\n    this_x_90540 = ((__global double *) ext_mem_91406)[i_61817];\n    defunc_0_foldl_res_90551 = ((__global double *) ext_mem_91419)[(int64_t) 0];\n    sqrt_res_90552 = futrts_sqrt64(defunc_0_foldl_res_90551);\n    atan2_res_90556 = futrts_atan2_64(sqrt_res_90552, this_x_90540);\n    ((__global double *) mem_91426)[i_61817] = atan2_res_90556;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96627_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96627(__global int *global_failure, int64", "_t i_61874, __global unsigned char *mem_91426, __global unsigned char *mem_param_91429, __global unsigned char *mem_91430)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96629;\n    int32_t tblock_sizze_96632;\n    int32_t wave_sizze_96631;\n    int32_t block_id_96630;\n    int32_t global_tid_96628;\n    int64_t tid_96627;\n    int64_t b_90561;\n    int64_t acc_90563;\n    int64_t defunc_0_f_res_90565;\n    \n    local_tid_96629 = get_local_id(0);\n    tblock_sizze_96632 = get_local_size(0);\n    wave_sizze_96631 = LOCKSTEP_WIDTH;\n    block_id_96630 = get_tblock_id(0);\n    global_tid_96628 = block_id_96630 * tblock_sizze_96632 + local_tid_96629;\n    tid_96627 = sext_i32_i64(global_tid_96628);\n    b_90561 = ((__global int64_t *) mem_91426)[i_61874];\n    acc_90563 = ((__global int64_t *) mem_param_91429)[(int64_t) 0];\n    defunc_0_f_res_90565 = add64(b_90561, acc_90563);\n    ((__global int64_t *) mem_91430)[(int64_t) 0] = defunc_0_f_res_90565;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96633_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96633(__global int *global_failure, __global unsigned char *mem_91388, __global unsigned char *ext_mem_91433, __global unsigned char *mem_91434)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96635;\n    int32_t tblock_sizze_96638;\n    int32_t wave_sizze_96637;\n    int32_t block_id_96636;\n    int32_t global_tid_96634;\n    int64_t tid_96633;\n    int64_t defunc_0_foldl_res_90570;\n    int64_t zp_lhs_90571;\n    int64_t get_id_from_grid_angle_res_90572;\n    \n    local_tid_96635 = get_local_id(0);\n    tblock_sizze_96638 = get_local_size(0);\n    wave_sizze_96637 = LOCKSTEP_WIDTH;\n    block_id_96636 = get_tblock_id(0);\n    global_tid_96634 = block_id_96636 * tblock_sizze_96638 + local_tid_96635;\n    tid_96633 = sext_i32_i64(global_tid_96634);\n    defunc_0_foldl_res_90570 = ((__global int64_t *) ext_mem_91433)[(int64_t) 0];\n    zp_lhs_90571 = ((_", "_global int64_t *) mem_91388)[(int64_t) 0];\n    get_id_from_grid_angle_res_90572 = add64(defunc_0_foldl_res_90570, zp_lhs_90571);\n    ((__global int64_t *) mem_91434)[(int64_t) 0] = get_id_from_grid_angle_res_90572;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96678_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96678(__global int *global_failure, __global unsigned char *mem_91445, __global unsigned char *mem_91446)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96680;\n    int32_t tblock_sizze_96683;\n    int32_t wave_sizze_96682;\n    int32_t block_id_96681;\n    int32_t global_tid_96679;\n    int64_t tid_96678;\n    double f_arg0_90582;\n    int64_t f64_res_90585;\n    \n    local_tid_96680 = get_local_id(0);\n    tblock_sizze_96683 = get_local_size(0);\n    wave_sizze_96682 = LOCKSTEP_WIDTH;\n    block_id_96681 = get_tblock_id(0);\n    global_tid_96679 = block_id_96681 * tblock_sizze_96683 + local_tid_96680;\n    tid_96678 = sext_i32_i64(global_tid_96679);\n    f_arg0_90582 = ((__global double *) mem_91445)[(int64_t) 0];\n    f64_res_90585 = fptosi_f64_i64(f_arg0_90582);\n    ((__global int64_t *) mem_91446)[(int64_t) 0] = f64_res_90585;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96705_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96705(__global int *global_failure, int64_t index_primexp_61928, __global unsigned char *mem_91445, __global unsigned char *mem_91448)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96707;\n    int32_t tblock_sizze_96710;\n    int32_t wave_sizze_96709;\n    int32_t block_id_96708;\n    int32_t global_tid_96706;\n    int64_t tid_96705;\n    double f_arg0_90588;\n    int64_t f64_res_90591;\n    \n    local_tid_96707 = get_local_id(0);\n    tblock_sizze_96710 = get_local_size(0);\n    wave_sizze_96709 = LOCKSTEP_WIDTH;\n    block_id_96708 = get_tblock_id(0);\n    global_tid_96706 = block_id_96708 * tbloc",
                                    "k_sizze_96710 + local_tid_96707;\n    tid_96705 = sext_i32_i64(global_tid_96706);\n    f_arg0_90588 = ((__global double *) mem_91445)[index_primexp_61928];\n    f64_res_90591 = fptosi_f64_i64(f_arg0_90588);\n    ((__global int64_t *) mem_91448)[index_primexp_61928] = f64_res_90591;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96711_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96711(__global int *global_failure, __global unsigned char *ext_mem_91460, __global unsigned char *mem_91461)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96713;\n    int32_t tblock_sizze_96716;\n    int32_t wave_sizze_96715;\n    int32_t block_id_96714;\n    int32_t global_tid_96712;\n    int64_t tid_96711;\n    int64_t f_arg0_90593;\n    int64_t max_res_90596;\n    \n    local_tid_96713 = get_local_id(0);\n    tblock_sizze_96716 = get_local_size(0);\n    wave_sizze_96715 = LOCKSTEP_WIDTH;\n    block_id_96714 = get_tblock_id(0);\n    global_tid_96712 = block_id_96714 * tblock_sizze_96716 + local_tid_96713;\n    tid_96711 = sext_i32_i64(global_tid_96712);\n    f_arg0_90593 = ((__global int64_t *) ext_mem_91460)[(int64_t) 0];\n    max_res_90596 = smax64((int64_t) 0, f_arg0_90593);\n    ((__global int64_t *) mem_91461)[(int64_t) 0] = max_res_90596;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96738_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96738(__global int *global_failure, int64_t index_primexp_61944, __global unsigned char *ext_mem_91460, __global unsigned char *mem_91463)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96740;\n    int32_t tblock_sizze_96743;\n    int32_t wave_sizze_96742;\n    int32_t block_id_96741;\n    int32_t global_tid_96739;\n    int64_t tid_96738;\n    int64_t f_arg0_90599;\n    int64_t max_res_90602;\n    \n    local_tid_96740 = get_local_id(0);\n    tblock_sizze_96743 = get_local_size(0);\n    wave_sizze_96742 = LOCKSTEP_WIDTH;\n ", "   block_id_96741 = get_tblock_id(0);\n    global_tid_96739 = block_id_96741 * tblock_sizze_96743 + local_tid_96740;\n    tid_96738 = sext_i32_i64(global_tid_96739);\n    f_arg0_90599 = ((__global int64_t *) ext_mem_91460)[index_primexp_61944];\n    max_res_90602 = smax64((int64_t) 0, f_arg0_90599);\n    ((__global int64_t *) mem_91463)[index_primexp_61944] = max_res_90602;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96744_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96744(__global int *global_failure, __global unsigned char *mem_91389, __global unsigned char *ext_mem_91475, __global unsigned char *mem_91476)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96746;\n    int32_t tblock_sizze_96749;\n    int32_t wave_sizze_96748;\n    int32_t block_id_96747;\n    int32_t global_tid_96745;\n    int64_t tid_96744;\n    int64_t f_arg0_90604;\n    int64_t min_arg1_90607;\n    int64_t min_res_90608;\n    \n    local_tid_96746 = get_local_id(0);\n    tblock_sizze_96749 = get_local_size(0);\n    wave_sizze_96748 = LOCKSTEP_WIDTH;\n    block_id_96747 = get_tblock_id(0);\n    global_tid_96745 = block_id_96747 * tblock_sizze_96749 + local_tid_96746;\n    tid_96744 = sext_i32_i64(global_tid_96745);\n    f_arg0_90604 = ((__global int64_t *) ext_mem_91475)[(int64_t) 0];\n    min_arg1_90607 = ((__global int64_t *) mem_91389)[(int64_t) 0];\n    min_res_90608 = smin64(f_arg0_90604, min_arg1_90607);\n    ((__global int64_t *) mem_91476)[(int64_t) 0] = min_res_90608;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96771_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96771(__global int *global_failure, int64_t index_primexp_61960, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *ext_mem_91475, __global unsigned char *mem_91478)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96773;\n    int32_t tblock_sizze_96776;\n    in", "t32_t wave_sizze_96775;\n    int32_t block_id_96774;\n    int32_t global_tid_96772;\n    int64_t tid_96771;\n    int64_t f_arg0_90611;\n    int64_t zm_lhs_90613;\n    int64_t min_arg1_90616;\n    int64_t min_res_90620;\n    \n    local_tid_96773 = get_local_id(0);\n    tblock_sizze_96776 = get_local_size(0);\n    wave_sizze_96775 = LOCKSTEP_WIDTH;\n    block_id_96774 = get_tblock_id(0);\n    global_tid_96772 = block_id_96774 * tblock_sizze_96776 + local_tid_96773;\n    tid_96771 = sext_i32_i64(global_tid_96772);\n    f_arg0_90611 = ((__global int64_t *) ext_mem_91475)[index_primexp_61960];\n    zm_lhs_90613 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_61960];\n    min_arg1_90616 = sub64(zm_lhs_90613, (int64_t) 1);\n    min_res_90620 = smin64(f_arg0_90611, min_arg1_90616);\n    ((__global int64_t *) mem_91478)[index_primexp_61960] = min_res_90620;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96788_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96788(__global int *global_failure, int64_t i_61973, __global unsigned char *mem_91493, __global unsigned char *mem_param_91496, __global unsigned char *mem_91497)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96790;\n    int32_t tblock_sizze_96793;\n    int32_t wave_sizze_96792;\n    int32_t block_id_96791;\n    int32_t global_tid_96789;\n    int64_t tid_96788;\n    int64_t b_90625;\n    int64_t acc_90627;\n    int64_t defunc_0_f_res_90629;\n    \n    local_tid_96790 = get_local_id(0);\n    tblock_sizze_96793 = get_local_size(0);\n    wave_sizze_96792 = LOCKSTEP_WIDTH;\n    block_id_96791 = get_tblock_id(0);\n    global_tid_96789 = block_id_96791 * tblock_sizze_96793 + local_tid_96790;\n    tid_96788 = sext_i32_i64(global_tid_96789);\n    b_90625 = ((__global int64_t *) mem_91493)[i_61973];\n    acc_90627 = ((__global int64_t *) mem_param_91496)[(int64_t) 0];\n    defunc_0_f_res_90629 = add64(b_90625, acc_90627);\n    ((__global int64_t *) mem_91497)[(int",
                                    "64_t) 0] = defunc_0_f_res_90629;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96795_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96795(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_54947, int64_t total_angle_no_54958, __global unsigned char *ext_mem_91500, __global unsigned char *mem_91516, __global unsigned char *mem_91517)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96797;\n    int32_t tblock_sizze_96800;\n    int32_t wave_sizze_96799;\n    int32_t block_id_96798;\n    int32_t global_tid_96796;\n    int64_t tid_96795;\n    int64_t defunc_0_foldl_res_90631;\n    bool x_90632;\n    bool y_90635;\n    bool bounds_check_90639;\n    bool index_certs_90643;\n    int64_t zp_lhs_90677;\n    \n    local_tid_96797 = get_local_id(0);\n    tblock_sizze_96800 = get_local_size(0);\n    wave_sizze_96799 = LOCKSTEP_WIDTH;\n    block_id_96798 = get_tblock_id(0);\n    global_tid_96796 = block_id_96798 * tblock_sizze_96800 + local_tid_96797;\n    tid_96795 = sext_i32_i64(global_tid_96796);\n    defunc_0_foldl_res_90631 = ((__global int64_t *) ext_mem_91500)[(int64_t) 0];\n    x_90632 = sle64((int64_t) 0, defunc_0_foldl_res_90631);\n    y_90635 = slt64(defunc_0_foldl_res_90631, dz2080U_54947);\n    bounds_check_90639 = x_90632 && y_90635;\n    if (!bounds_check_90639) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 25) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_90631;\n                global_failure_args[1] = (int64_t) dz2080U_54947;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_90677 = mul64(total_angle_no_54958, defunc_0_foldl_res_90631);\n    ((__global int64_t *) mem_91517)[(int64_t) 0] = zp_lhs_90677;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96810_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96810(__gl", "obal int *global_failure, __global unsigned char *mem_91520, __global unsigned char *mem_91521)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96812;\n    int32_t tblock_sizze_96815;\n    int32_t wave_sizze_96814;\n    int32_t block_id_96813;\n    int32_t global_tid_96811;\n    int64_t tid_96810;\n    double f_arg0_90646;\n    \n    local_tid_96812 = get_local_id(0);\n    tblock_sizze_96815 = get_local_size(0);\n    wave_sizze_96814 = LOCKSTEP_WIDTH;\n    block_id_96813 = get_tblock_id(0);\n    global_tid_96811 = block_id_96813 * tblock_sizze_96815 + local_tid_96812;\n    tid_96810 = sext_i32_i64(global_tid_96811);\n    f_arg0_90646 = ((__global double *) mem_91520)[(int64_t) 0];\n    ((__global double *) mem_91521)[(int64_t) 0] = f_arg0_90646;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96849_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96849(__global int *global_failure, int64_t i_62026, __global unsigned char *mem_91540, __global unsigned char *mem_param_91543, __global unsigned char *mem_91544)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96851;\n    int32_t tblock_sizze_96854;\n    int32_t wave_sizze_96853;\n    int32_t block_id_96852;\n    int32_t global_tid_96850;\n    int64_t tid_96849;\n    double b_90654;\n    double acc_90656;\n    double defunc_0_f_res_90658;\n    \n    local_tid_96851 = get_local_id(0);\n    tblock_sizze_96854 = get_local_size(0);\n    wave_sizze_96853 = LOCKSTEP_WIDTH;\n    block_id_96852 = get_tblock_id(0);\n    global_tid_96850 = block_id_96852 * tblock_sizze_96854 + local_tid_96851;\n    tid_96849 = sext_i32_i64(global_tid_96850);\n    b_90654 = ((__global double *) mem_91540)[i_62026];\n    acc_90656 = ((__global double *) mem_param_91543)[(int64_t) 0];\n    defunc_0_f_res_90658 = b_90654 + acc_90656;\n    ((__global double *) mem_91544)[(int64_t) 0] = defunc_0_f_res_90658;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doub", "lezigpuseq_96855_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96855(__global int *global_failure, int64_t i_62002, __global unsigned char *mem_91502, __global unsigned char *ext_mem_91534, __global unsigned char *ext_mem_91547)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96857;\n    int32_t tblock_sizze_96860;\n    int32_t wave_sizze_96859;\n    int32_t block_id_96858;\n    int32_t global_tid_96856;\n    int64_t tid_96855;\n    double this_x_90649;\n    double defunc_0_foldl_res_90660;\n    double sqrt_res_90661;\n    double atan2_res_90665;\n    \n    local_tid_96857 = get_local_id(0);\n    tblock_sizze_96860 = get_local_size(0);\n    wave_sizze_96859 = LOCKSTEP_WIDTH;\n    block_id_96858 = get_tblock_id(0);\n    global_tid_96856 = block_id_96858 * tblock_sizze_96860 + local_tid_96857;\n    tid_96855 = sext_i32_i64(global_tid_96856);\n    this_x_90649 = ((__global double *) ext_mem_91534)[i_62002];\n    defunc_0_foldl_res_90660 = ((__global double *) ext_mem_91547)[(int64_t) 0];\n    sqrt_res_90661 = futrts_sqrt64(defunc_0_foldl_res_90660);\n    atan2_res_90665 = futrts_atan2_64(sqrt_res_90661, this_x_90649);\n    ((__global double *) mem_91502)[i_62002] = atan2_res_90665;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96872_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96872(__global int *global_failure, int64_t i_62054, __global unsigned char *mem_91554, __global unsigned char *mem_param_91557, __global unsigned char *mem_91558)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96874;\n    int32_t tblock_sizze_96877;\n    int32_t wave_sizze_96876;\n    int32_t block_id_96875;\n    int32_t global_tid_96873;\n    int64_t tid_96872;\n    int64_t b_90670;\n    int64_t acc_90672;\n    int64_t defunc_0_f_res_90674;\n    \n    local_tid_96874 = get_local_id(0);\n    tblock_sizze_96877 = get_local_size(0);\n    wave_sizze_96876 = LOCKSTEP_WIDTH;\n    block_id_96875 = get_tblock_id(0);\n ",
                                    "   global_tid_96873 = block_id_96875 * tblock_sizze_96877 + local_tid_96874;\n    tid_96872 = sext_i32_i64(global_tid_96873);\n    b_90670 = ((__global int64_t *) mem_91554)[i_62054];\n    acc_90672 = ((__global int64_t *) mem_param_91557)[(int64_t) 0];\n    defunc_0_f_res_90674 = add64(b_90670, acc_90672);\n    ((__global int64_t *) mem_91558)[(int64_t) 0] = defunc_0_f_res_90674;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96878_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96878(__global int *global_failure, int64_t index_primexp_61906, __global unsigned char *mem_91436, __global unsigned char *mem_91517, __global unsigned char *ext_mem_91561)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96880;\n    int32_t tblock_sizze_96883;\n    int32_t wave_sizze_96882;\n    int32_t block_id_96881;\n    int32_t global_tid_96879;\n    int64_t tid_96878;\n    int64_t defunc_0_foldl_res_90679;\n    int64_t zp_lhs_90680;\n    int64_t get_id_from_grid_angle_res_90681;\n    \n    local_tid_96880 = get_local_id(0);\n    tblock_sizze_96883 = get_local_size(0);\n    wave_sizze_96882 = LOCKSTEP_WIDTH;\n    block_id_96881 = get_tblock_id(0);\n    global_tid_96879 = block_id_96881 * tblock_sizze_96883 + local_tid_96880;\n    tid_96878 = sext_i32_i64(global_tid_96879);\n    defunc_0_foldl_res_90679 = ((__global int64_t *) ext_mem_91561)[(int64_t) 0];\n    zp_lhs_90680 = ((__global int64_t *) mem_91517)[(int64_t) 0];\n    get_id_from_grid_angle_res_90681 = add64(defunc_0_foldl_res_90679, zp_lhs_90680);\n    ((__global int64_t *) mem_91436)[index_primexp_61906] = get_id_from_grid_angle_res_90681;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_95965(int64_t dim_54946, int64_t dz2083U_54951, int64_t replicate_n_95964, int64_t virt_num_tblocks_95970, int64_t num_tblocks_95971, __global unsigned char *mem_90845, __global unsigned char *mem_90848)\n{\n    int32_t replicate_ltid_95966;\n    int3", "2_t tblock_sizze_95968;\n    int32_t replicate_gid_95967;\n    int32_t replicate_gtid_95965;\n    int32_t phys_tblock_id_95972;\n    int32_t iterations_95973;\n    \n    replicate_ltid_95966 = get_local_id(0);\n    tblock_sizze_95968 = get_local_size(0);\n    replicate_gid_95967 = get_tblock_id(0);\n    replicate_gtid_95965 = replicate_gid_95967 * tblock_sizze_95968 + replicate_ltid_95966;\n    phys_tblock_id_95972 = get_tblock_id(0);\n    iterations_95973 = sdiv_up32(sext_i64_i32(virt_num_tblocks_95970) - phys_tblock_id_95972, sext_i64_i32(num_tblocks_95971));\n    for (int32_t i_95974 = 0; i_95974 < iterations_95973; i_95974++) {\n        int32_t virt_tblock_id_95975;\n        int64_t global_tid_95976;\n        int64_t slice_95979;\n        int64_t slice_95980;\n        int64_t rep_i_95977;\n        int64_t remnant_95981;\n        int64_t rep_i_95978;\n        int64_t remnant_95982;\n        \n        virt_tblock_id_95975 = phys_tblock_id_95972 + i_95974 * sext_i64_i32(num_tblocks_95971);\n        global_tid_95976 = sext_i32_i64(virt_tblock_id_95975) * sext_i32_i64(tblock_sizze_95968) + sext_i32_i64(replicate_ltid_95966);\n        slice_95979 = dz2083U_54951;\n        slice_95980 = dim_54946 * slice_95979;\n        rep_i_95977 = squot64(global_tid_95976, slice_95979);\n        remnant_95981 = global_tid_95976 - rep_i_95977 * slice_95979;\n        rep_i_95978 = remnant_95981;\n        remnant_95982 = remnant_95981 - rep_i_95978;\n        if (slt64(global_tid_95976, replicate_n_95964)) {\n            int64_t tmp_95983 = ((__global int64_t *) mem_90845)[rep_i_95978];\n            \n            ((__global int64_t *) mem_90848)[rep_i_95977 * dz2083U_54951 + rep_i_95978] = tmp_95983;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96009(int64_t dim_54946, int64_t dz2083U_54951, int64_t replicate_n_96008, int64_t virt_num_tblocks_96014, int64_t num_tblocks_96015, __global unsigned cha", "r *mem_90916, __global unsigned char *mem_90919)\n{\n    int32_t replicate_ltid_96010;\n    int32_t tblock_sizze_96012;\n    int32_t replicate_gid_96011;\n    int32_t replicate_gtid_96009;\n    int32_t phys_tblock_id_96016;\n    int32_t iterations_96017;\n    \n    replicate_ltid_96010 = get_local_id(0);\n    tblock_sizze_96012 = get_local_size(0);\n    replicate_gid_96011 = get_tblock_id(0);\n    replicate_gtid_96009 = replicate_gid_96011 * tblock_sizze_96012 + replicate_ltid_96010;\n    phys_tblock_id_96016 = get_tblock_id(0);\n    iterations_96017 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96014) - phys_tblock_id_96016, sext_i64_i32(num_tblocks_96015));\n    for (int32_t i_96018 = 0; i_96018 < iterations_96017; i_96018++) {\n        int32_t virt_tblock_id_96019;\n        int64_t global_tid_96020;\n        int64_t slice_96023;\n        int64_t slice_96024;\n        int64_t rep_i_96021;\n        int64_t remnant_96025;\n        int64_t rep_i_96022;\n        int64_t remnant_96026;\n        \n        virt_tblock_id_96019 = phys_tblock_id_96016 + i_96018 * sext_i64_i32(num_tblocks_96015);\n        global_tid_96020 = sext_i32_i64(virt_tblock_id_96019) * sext_i32_i64(tblock_sizze_96012) + sext_i32_i64(replicate_ltid_96010);\n        slice_96023 = dz2083U_54951;\n        slice_96024 = dim_54946 * slice_96023;\n        rep_i_96021 = squot64(global_tid_96020, slice_96023);\n        remnant_96025 = global_tid_96020 - rep_i_96021 * slice_96023;\n        rep_i_96022 = remnant_96025;\n        remnant_96026 = remnant_96025 - rep_i_96022;\n        if (slt64(global_tid_96020, replicate_n_96008)) {\n            int64_t tmp_96027 = ((__global int64_t *) mem_90916)[rep_i_96022];\n            \n            ((__global int64_t *) mem_90919)[rep_i_96021 * dz2083U_54951 + rep_i_96022] = tmp_96027;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96053(int64_t dim_54946, int64_t dz2083U_54951, int64_t replic",
                                    "ate_n_96052, int64_t virt_num_tblocks_96058, int64_t num_tblocks_96059, __global unsigned char *mem_91000, __global unsigned char *mem_91003)\n{\n    int32_t replicate_ltid_96054;\n    int32_t tblock_sizze_96056;\n    int32_t replicate_gid_96055;\n    int32_t replicate_gtid_96053;\n    int32_t phys_tblock_id_96060;\n    int32_t iterations_96061;\n    \n    replicate_ltid_96054 = get_local_id(0);\n    tblock_sizze_96056 = get_local_size(0);\n    replicate_gid_96055 = get_tblock_id(0);\n    replicate_gtid_96053 = replicate_gid_96055 * tblock_sizze_96056 + replicate_ltid_96054;\n    phys_tblock_id_96060 = get_tblock_id(0);\n    iterations_96061 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96058) - phys_tblock_id_96060, sext_i64_i32(num_tblocks_96059));\n    for (int32_t i_96062 = 0; i_96062 < iterations_96061; i_96062++) {\n        int32_t virt_tblock_id_96063;\n        int64_t global_tid_96064;\n        int64_t slice_96067;\n        int64_t slice_96068;\n        int64_t rep_i_96065;\n        int64_t remnant_96069;\n        int64_t rep_i_96066;\n        int64_t remnant_96070;\n        \n        virt_tblock_id_96063 = phys_tblock_id_96060 + i_96062 * sext_i64_i32(num_tblocks_96059);\n        global_tid_96064 = sext_i32_i64(virt_tblock_id_96063) * sext_i32_i64(tblock_sizze_96056) + sext_i32_i64(replicate_ltid_96054);\n        slice_96067 = dz2083U_54951;\n        slice_96068 = dim_54946 * slice_96067;\n        rep_i_96065 = squot64(global_tid_96064, slice_96067);\n        remnant_96069 = global_tid_96064 - rep_i_96065 * slice_96067;\n        rep_i_96066 = remnant_96069;\n        remnant_96070 = remnant_96069 - rep_i_96066;\n        if (slt64(global_tid_96064, replicate_n_96052)) {\n            int64_t tmp_96071 = ((__global int64_t *) mem_91000)[rep_i_96066];\n            \n            ((__global int64_t *) mem_91003)[rep_i_96065 * dz2083U_54951 + rep_i_96066] = tmp_96071;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_", "Skyline_GFUR_doublezireplicate_96154(int64_t dim_54946, int64_t dz2083U_54951, int64_t replicate_n_96153, int64_t virt_num_tblocks_96159, int64_t num_tblocks_96160, __global unsigned char *mem_91148, __global unsigned char *mem_91151)\n{\n    int32_t replicate_ltid_96155;\n    int32_t tblock_sizze_96157;\n    int32_t replicate_gid_96156;\n    int32_t replicate_gtid_96154;\n    int32_t phys_tblock_id_96161;\n    int32_t iterations_96162;\n    \n    replicate_ltid_96155 = get_local_id(0);\n    tblock_sizze_96157 = get_local_size(0);\n    replicate_gid_96156 = get_tblock_id(0);\n    replicate_gtid_96154 = replicate_gid_96156 * tblock_sizze_96157 + replicate_ltid_96155;\n    phys_tblock_id_96161 = get_tblock_id(0);\n    iterations_96162 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96159) - phys_tblock_id_96161, sext_i64_i32(num_tblocks_96160));\n    for (int32_t i_96163 = 0; i_96163 < iterations_96162; i_96163++) {\n        int32_t virt_tblock_id_96164;\n        int64_t global_tid_96165;\n        int64_t slice_96168;\n        int64_t slice_96169;\n        int64_t rep_i_96166;\n        int64_t remnant_96170;\n        int64_t rep_i_96167;\n        int64_t remnant_96171;\n        \n        virt_tblock_id_96164 = phys_tblock_id_96161 + i_96163 * sext_i64_i32(num_tblocks_96160);\n        global_tid_96165 = sext_i32_i64(virt_tblock_id_96164) * sext_i32_i64(tblock_sizze_96157) + sext_i32_i64(replicate_ltid_96155);\n        slice_96168 = dz2083U_54951;\n        slice_96169 = dim_54946 * slice_96168;\n        rep_i_96166 = squot64(global_tid_96165, slice_96168);\n        remnant_96170 = global_tid_96165 - rep_i_96166 * slice_96168;\n        rep_i_96167 = remnant_96170;\n        remnant_96171 = remnant_96170 - rep_i_96167;\n        if (slt64(global_tid_96165, replicate_n_96153)) {\n            double tmp_96172 = ((__global double *) mem_91148)[rep_i_96167 * dim_54946];\n            \n            ((__global double *) mem_91151)[rep_i_96166 * dz2083U_54951 + rep_i_96167] = tmp_96172;\n        }\n        barrier(CLK_GLOBAL", "_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96434(int64_t dim_54946, int64_t replicate_n_96433, int64_t virt_num_tblocks_96439, int64_t num_tblocks_96440, __global unsigned char *mem_91313, __global unsigned char *mem_91315)\n{\n    int32_t replicate_ltid_96435;\n    int32_t tblock_sizze_96437;\n    int32_t replicate_gid_96436;\n    int32_t replicate_gtid_96434;\n    int32_t phys_tblock_id_96441;\n    int32_t iterations_96442;\n    \n    replicate_ltid_96435 = get_local_id(0);\n    tblock_sizze_96437 = get_local_size(0);\n    replicate_gid_96436 = get_tblock_id(0);\n    replicate_gtid_96434 = replicate_gid_96436 * tblock_sizze_96437 + replicate_ltid_96435;\n    phys_tblock_id_96441 = get_tblock_id(0);\n    iterations_96442 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96439) - phys_tblock_id_96441, sext_i64_i32(num_tblocks_96440));\n    for (int32_t i_96443 = 0; i_96443 < iterations_96442; i_96443++) {\n        int32_t virt_tblock_id_96444;\n        int64_t global_tid_96445;\n        int64_t slice_96448;\n        int64_t slice_96449;\n        int64_t rep_i_96446;\n        int64_t remnant_96450;\n        int64_t rep_i_96447;\n        int64_t remnant_96451;\n        \n        virt_tblock_id_96444 = phys_tblock_id_96441 + i_96443 * sext_i64_i32(num_tblocks_96440);\n        global_tid_96445 = sext_i32_i64(virt_tblock_id_96444) * sext_i32_i64(tblock_sizze_96437) + sext_i32_i64(replicate_ltid_96435);\n        slice_96448 = (int64_t) 1;\n        slice_96449 = dim_54946 * slice_96448;\n        rep_i_96446 = squot64(global_tid_96445, slice_96448);\n        remnant_96450 = global_tid_96445 - rep_i_96446 * slice_96448;\n        rep_i_96447 = remnant_96450;\n        remnant_96451 = remnant_96450 - rep_i_96447;\n        if (slt64(global_tid_96445, replicate_n_96433)) {\n            int64_t tmp_96452 = ((__global int64_t *) mem_91313)[rep_i_96447];\n            \n            ((__global int64_t *) mem_91315)[rep_i_96446 + rep_i_9644",
                                    "7] = tmp_96452;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96467(int64_t dim_54946, int64_t replicate_n_96466, int64_t virt_num_tblocks_96472, int64_t num_tblocks_96473, __global unsigned char *mem_91328, __global unsigned char *mem_91330)\n{\n    int32_t replicate_ltid_96468;\n    int32_t tblock_sizze_96470;\n    int32_t replicate_gid_96469;\n    int32_t replicate_gtid_96467;\n    int32_t phys_tblock_id_96474;\n    int32_t iterations_96475;\n    \n    replicate_ltid_96468 = get_local_id(0);\n    tblock_sizze_96470 = get_local_size(0);\n    replicate_gid_96469 = get_tblock_id(0);\n    replicate_gtid_96467 = replicate_gid_96469 * tblock_sizze_96470 + replicate_ltid_96468;\n    phys_tblock_id_96474 = get_tblock_id(0);\n    iterations_96475 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96472) - phys_tblock_id_96474, sext_i64_i32(num_tblocks_96473));\n    for (int32_t i_96476 = 0; i_96476 < iterations_96475; i_96476++) {\n        int32_t virt_tblock_id_96477;\n        int64_t global_tid_96478;\n        int64_t slice_96481;\n        int64_t slice_96482;\n        int64_t rep_i_96479;\n        int64_t remnant_96483;\n        int64_t rep_i_96480;\n        int64_t remnant_96484;\n        \n        virt_tblock_id_96477 = phys_tblock_id_96474 + i_96476 * sext_i64_i32(num_tblocks_96473);\n        global_tid_96478 = sext_i32_i64(virt_tblock_id_96477) * sext_i32_i64(tblock_sizze_96470) + sext_i32_i64(replicate_ltid_96468);\n        slice_96481 = (int64_t) 1;\n        slice_96482 = dim_54946 * slice_96481;\n        rep_i_96479 = squot64(global_tid_96478, slice_96481);\n        remnant_96483 = global_tid_96478 - rep_i_96479 * slice_96481;\n        rep_i_96480 = remnant_96483;\n        remnant_96484 = remnant_96483 - rep_i_96480;\n        if (slt64(global_tid_96478, replicate_n_96466)) {\n            int64_t tmp_96485 = ((__global int64_t *) mem_91328)[rep_i_96480];\n            \n            ((__g", "lobal int64_t *) mem_91330)[rep_i_96479 + rep_i_96480] = tmp_96485;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96500(int64_t dim_54946, int64_t replicate_n_96499, int64_t virt_num_tblocks_96505, int64_t num_tblocks_96506, __global unsigned char *mem_91343, __global unsigned char *mem_91345)\n{\n    int32_t replicate_ltid_96501;\n    int32_t tblock_sizze_96503;\n    int32_t replicate_gid_96502;\n    int32_t replicate_gtid_96500;\n    int32_t phys_tblock_id_96507;\n    int32_t iterations_96508;\n    \n    replicate_ltid_96501 = get_local_id(0);\n    tblock_sizze_96503 = get_local_size(0);\n    replicate_gid_96502 = get_tblock_id(0);\n    replicate_gtid_96500 = replicate_gid_96502 * tblock_sizze_96503 + replicate_ltid_96501;\n    phys_tblock_id_96507 = get_tblock_id(0);\n    iterations_96508 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96505) - phys_tblock_id_96507, sext_i64_i32(num_tblocks_96506));\n    for (int32_t i_96509 = 0; i_96509 < iterations_96508; i_96509++) {\n        int32_t virt_tblock_id_96510;\n        int64_t global_tid_96511;\n        int64_t slice_96514;\n        int64_t slice_96515;\n        int64_t rep_i_96512;\n        int64_t remnant_96516;\n        int64_t rep_i_96513;\n        int64_t remnant_96517;\n        \n        virt_tblock_id_96510 = phys_tblock_id_96507 + i_96509 * sext_i64_i32(num_tblocks_96506);\n        global_tid_96511 = sext_i32_i64(virt_tblock_id_96510) * sext_i32_i64(tblock_sizze_96503) + sext_i32_i64(replicate_ltid_96501);\n        slice_96514 = (int64_t) 1;\n        slice_96515 = dim_54946 * slice_96514;\n        rep_i_96512 = squot64(global_tid_96511, slice_96514);\n        remnant_96516 = global_tid_96511 - rep_i_96512 * slice_96514;\n        rep_i_96513 = remnant_96516;\n        remnant_96517 = remnant_96516 - rep_i_96513;\n        if (slt64(global_tid_96511, replicate_n_96499)) {\n            int64_t tmp_96518 = ((__global int64_t *) mem", "_91343)[rep_i_96513];\n            \n            ((__global int64_t *) mem_91345)[rep_i_96512 + rep_i_96513] = tmp_96518;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96572(int64_t dim_54946, int64_t replicate_n_96571, int64_t virt_num_tblocks_96577, int64_t num_tblocks_96578, __global unsigned char *mem_91393, __global unsigned char *mem_91395)\n{\n    int32_t replicate_ltid_96573;\n    int32_t tblock_sizze_96575;\n    int32_t replicate_gid_96574;\n    int32_t replicate_gtid_96572;\n    int32_t phys_tblock_id_96579;\n    int32_t iterations_96580;\n    \n    replicate_ltid_96573 = get_local_id(0);\n    tblock_sizze_96575 = get_local_size(0);\n    replicate_gid_96574 = get_tblock_id(0);\n    replicate_gtid_96572 = replicate_gid_96574 * tblock_sizze_96575 + replicate_ltid_96573;\n    phys_tblock_id_96579 = get_tblock_id(0);\n    iterations_96580 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96577) - phys_tblock_id_96579, sext_i64_i32(num_tblocks_96578));\n    for (int32_t i_96581 = 0; i_96581 < iterations_96580; i_96581++) {\n        int32_t virt_tblock_id_96582;\n        int64_t global_tid_96583;\n        int64_t slice_96586;\n        int64_t slice_96587;\n        int64_t rep_i_96584;\n        int64_t remnant_96588;\n        int64_t rep_i_96585;\n        int64_t remnant_96589;\n        \n        virt_tblock_id_96582 = phys_tblock_id_96579 + i_96581 * sext_i64_i32(num_tblocks_96578);\n        global_tid_96583 = sext_i32_i64(virt_tblock_id_96582) * sext_i32_i64(tblock_sizze_96575) + sext_i32_i64(replicate_ltid_96573);\n        slice_96586 = (int64_t) 1;\n        slice_96587 = dim_54946 * slice_96586;\n        rep_i_96584 = squot64(global_tid_96583, slice_96586);\n        remnant_96588 = global_tid_96583 - rep_i_96584 * slice_96586;\n        rep_i_96585 = remnant_96588;\n        remnant_96589 = remnant_96588 - rep_i_96585;\n        if (slt64(global_tid_96583, replicate_n_96571)) {\n     ",
                                    "       double tmp_96590 = ((__global double *) mem_91393)[rep_i_96585];\n            \n            ((__global double *) mem_91395)[rep_i_96584 + rep_i_96585] = tmp_96590;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96640(int64_t m_61673, int64_t replicate_n_96639, int64_t virt_num_tblocks_96645, int64_t num_tblocks_96646, __global unsigned char *mem_91434, __global unsigned char *mem_91436)\n{\n    int32_t replicate_ltid_96641;\n    int32_t tblock_sizze_96643;\n    int32_t replicate_gid_96642;\n    int32_t replicate_gtid_96640;\n    int32_t phys_tblock_id_96647;\n    int32_t iterations_96648;\n    \n    replicate_ltid_96641 = get_local_id(0);\n    tblock_sizze_96643 = get_local_size(0);\n    replicate_gid_96642 = get_tblock_id(0);\n    replicate_gtid_96640 = replicate_gid_96642 * tblock_sizze_96643 + replicate_ltid_96641;\n    phys_tblock_id_96647 = get_tblock_id(0);\n    iterations_96648 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96645) - phys_tblock_id_96647, sext_i64_i32(num_tblocks_96646));\n    for (int32_t i_96649 = 0; i_96649 < iterations_96648; i_96649++) {\n        int32_t virt_tblock_id_96650;\n        int64_t global_tid_96651;\n        int64_t slice_96654;\n        int64_t slice_96655;\n        int64_t rep_i_96652;\n        int64_t remnant_96656;\n        int64_t rep_i_96653;\n        int64_t remnant_96657;\n        \n        virt_tblock_id_96650 = phys_tblock_id_96647 + i_96649 * sext_i64_i32(num_tblocks_96646);\n        global_tid_96651 = sext_i32_i64(virt_tblock_id_96650) * sext_i32_i64(tblock_sizze_96643) + sext_i32_i64(replicate_ltid_96641);\n        slice_96654 = (int64_t) 1;\n        slice_96655 = m_61673 * slice_96654;\n        rep_i_96652 = squot64(global_tid_96651, slice_96654);\n        remnant_96656 = global_tid_96651 - rep_i_96652 * slice_96654;\n        rep_i_96653 = remnant_96656;\n        remnant_96657 = remnant_96656 - rep_i_96653;\n        if (slt64(", "global_tid_96651, replicate_n_96639)) {\n            int64_t tmp_96658 = ((__global int64_t *) mem_91434)[rep_i_96653];\n            \n            ((__global int64_t *) mem_91436)[rep_i_96652 + rep_i_96653] = tmp_96658;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96685(int64_t dim_54946, int64_t replicate_n_96684, int64_t virt_num_tblocks_96690, int64_t num_tblocks_96691, __global unsigned char *mem_91446, __global unsigned char *mem_91448)\n{\n    int32_t replicate_ltid_96686;\n    int32_t tblock_sizze_96688;\n    int32_t replicate_gid_96687;\n    int32_t replicate_gtid_96685;\n    int32_t phys_tblock_id_96692;\n    int32_t iterations_96693;\n    \n    replicate_ltid_96686 = get_local_id(0);\n    tblock_sizze_96688 = get_local_size(0);\n    replicate_gid_96687 = get_tblock_id(0);\n    replicate_gtid_96685 = replicate_gid_96687 * tblock_sizze_96688 + replicate_ltid_96686;\n    phys_tblock_id_96692 = get_tblock_id(0);\n    iterations_96693 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96690) - phys_tblock_id_96692, sext_i64_i32(num_tblocks_96691));\n    for (int32_t i_96694 = 0; i_96694 < iterations_96693; i_96694++) {\n        int32_t virt_tblock_id_96695;\n        int64_t global_tid_96696;\n        int64_t slice_96699;\n        int64_t slice_96700;\n        int64_t rep_i_96697;\n        int64_t remnant_96701;\n        int64_t rep_i_96698;\n        int64_t remnant_96702;\n        \n        virt_tblock_id_96695 = phys_tblock_id_96692 + i_96694 * sext_i64_i32(num_tblocks_96691);\n        global_tid_96696 = sext_i32_i64(virt_tblock_id_96695) * sext_i32_i64(tblock_sizze_96688) + sext_i32_i64(replicate_ltid_96686);\n        slice_96699 = (int64_t) 1;\n        slice_96700 = dim_54946 * slice_96699;\n        rep_i_96697 = squot64(global_tid_96696, slice_96699);\n        remnant_96701 = global_tid_96696 - rep_i_96697 * slice_96699;\n        rep_i_96698 = remnant_96701;\n        remnant_967", "02 = remnant_96701 - rep_i_96698;\n        if (slt64(global_tid_96696, replicate_n_96684)) {\n            int64_t tmp_96703 = ((__global int64_t *) mem_91446)[rep_i_96698];\n            \n            ((__global int64_t *) mem_91448)[rep_i_96697 + rep_i_96698] = tmp_96703;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96718(int64_t dim_54946, int64_t replicate_n_96717, int64_t virt_num_tblocks_96723, int64_t num_tblocks_96724, __global unsigned char *mem_91461, __global unsigned char *mem_91463)\n{\n    int32_t replicate_ltid_96719;\n    int32_t tblock_sizze_96721;\n    int32_t replicate_gid_96720;\n    int32_t replicate_gtid_96718;\n    int32_t phys_tblock_id_96725;\n    int32_t iterations_96726;\n    \n    replicate_ltid_96719 = get_local_id(0);\n    tblock_sizze_96721 = get_local_size(0);\n    replicate_gid_96720 = get_tblock_id(0);\n    replicate_gtid_96718 = replicate_gid_96720 * tblock_sizze_96721 + replicate_ltid_96719;\n    phys_tblock_id_96725 = get_tblock_id(0);\n    iterations_96726 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96723) - phys_tblock_id_96725, sext_i64_i32(num_tblocks_96724));\n    for (int32_t i_96727 = 0; i_96727 < iterations_96726; i_96727++) {\n        int32_t virt_tblock_id_96728;\n        int64_t global_tid_96729;\n        int64_t slice_96732;\n        int64_t slice_96733;\n        int64_t rep_i_96730;\n        int64_t remnant_96734;\n        int64_t rep_i_96731;\n        int64_t remnant_96735;\n        \n        virt_tblock_id_96728 = phys_tblock_id_96725 + i_96727 * sext_i64_i32(num_tblocks_96724);\n        global_tid_96729 = sext_i32_i64(virt_tblock_id_96728) * sext_i32_i64(tblock_sizze_96721) + sext_i32_i64(replicate_ltid_96719);\n        slice_96732 = (int64_t) 1;\n        slice_96733 = dim_54946 * slice_96732;\n        rep_i_96730 = squot64(global_tid_96729, slice_96732);\n        remnant_96734 = global_tid_96729 - rep_i_96730 * slice_96732;\n    ",
                                    "    rep_i_96731 = remnant_96734;\n        remnant_96735 = remnant_96734 - rep_i_96731;\n        if (slt64(global_tid_96729, replicate_n_96717)) {\n            int64_t tmp_96736 = ((__global int64_t *) mem_91461)[rep_i_96731];\n            \n            ((__global int64_t *) mem_91463)[rep_i_96730 + rep_i_96731] = tmp_96736;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96751(int64_t dim_54946, int64_t replicate_n_96750, int64_t virt_num_tblocks_96756, int64_t num_tblocks_96757, __global unsigned char *mem_91476, __global unsigned char *mem_91478)\n{\n    int32_t replicate_ltid_96752;\n    int32_t tblock_sizze_96754;\n    int32_t replicate_gid_96753;\n    int32_t replicate_gtid_96751;\n    int32_t phys_tblock_id_96758;\n    int32_t iterations_96759;\n    \n    replicate_ltid_96752 = get_local_id(0);\n    tblock_sizze_96754 = get_local_size(0);\n    replicate_gid_96753 = get_tblock_id(0);\n    replicate_gtid_96751 = replicate_gid_96753 * tblock_sizze_96754 + replicate_ltid_96752;\n    phys_tblock_id_96758 = get_tblock_id(0);\n    iterations_96759 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96756) - phys_tblock_id_96758, sext_i64_i32(num_tblocks_96757));\n    for (int32_t i_96760 = 0; i_96760 < iterations_96759; i_96760++) {\n        int32_t virt_tblock_id_96761;\n        int64_t global_tid_96762;\n        int64_t slice_96765;\n        int64_t slice_96766;\n        int64_t rep_i_96763;\n        int64_t remnant_96767;\n        int64_t rep_i_96764;\n        int64_t remnant_96768;\n        \n        virt_tblock_id_96761 = phys_tblock_id_96758 + i_96760 * sext_i64_i32(num_tblocks_96757);\n        global_tid_96762 = sext_i32_i64(virt_tblock_id_96761) * sext_i32_i64(tblock_sizze_96754) + sext_i32_i64(replicate_ltid_96752);\n        slice_96765 = (int64_t) 1;\n        slice_96766 = dim_54946 * slice_96765;\n        rep_i_96763 = squot64(global_tid_96762, slice_96765);\n        remnant_96767 ", "= global_tid_96762 - rep_i_96763 * slice_96765;\n        rep_i_96764 = remnant_96767;\n        remnant_96768 = remnant_96767 - rep_i_96764;\n        if (slt64(global_tid_96762, replicate_n_96750)) {\n            int64_t tmp_96769 = ((__global int64_t *) mem_91476)[rep_i_96764];\n            \n            ((__global int64_t *) mem_91478)[rep_i_96763 + rep_i_96764] = tmp_96769;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96817(int64_t dim_54946, int64_t replicate_n_96816, int64_t virt_num_tblocks_96822, int64_t num_tblocks_96823, __global unsigned char *mem_91521, __global unsigned char *mem_91523)\n{\n    int32_t replicate_ltid_96818;\n    int32_t tblock_sizze_96820;\n    int32_t replicate_gid_96819;\n    int32_t replicate_gtid_96817;\n    int32_t phys_tblock_id_96824;\n    int32_t iterations_96825;\n    \n    replicate_ltid_96818 = get_local_id(0);\n    tblock_sizze_96820 = get_local_size(0);\n    replicate_gid_96819 = get_tblock_id(0);\n    replicate_gtid_96817 = replicate_gid_96819 * tblock_sizze_96820 + replicate_ltid_96818;\n    phys_tblock_id_96824 = get_tblock_id(0);\n    iterations_96825 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96822) - phys_tblock_id_96824, sext_i64_i32(num_tblocks_96823));\n    for (int32_t i_96826 = 0; i_96826 < iterations_96825; i_96826++) {\n        int32_t virt_tblock_id_96827;\n        int64_t global_tid_96828;\n        int64_t slice_96831;\n        int64_t slice_96832;\n        int64_t rep_i_96829;\n        int64_t remnant_96833;\n        int64_t rep_i_96830;\n        int64_t remnant_96834;\n        \n        virt_tblock_id_96827 = phys_tblock_id_96824 + i_96826 * sext_i64_i32(num_tblocks_96823);\n        global_tid_96828 = sext_i32_i64(virt_tblock_id_96827) * sext_i32_i64(tblock_sizze_96820) + sext_i32_i64(replicate_ltid_96818);\n        slice_96831 = (int64_t) 1;\n        slice_96832 = dim_54946 * slice_96831;\n        rep_i_96829 = squot64(gl", "obal_tid_96828, slice_96831);\n        remnant_96833 = global_tid_96828 - rep_i_96829 * slice_96831;\n        rep_i_96830 = remnant_96833;\n        remnant_96834 = remnant_96833 - rep_i_96830;\n        if (slt64(global_tid_96828, replicate_n_96816)) {\n            double tmp_96835 = ((__global double *) mem_91521)[rep_i_96830];\n            \n            ((__global double *) mem_91523)[rep_i_96829 + rep_i_96830] = tmp_96835;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doubleziseghist_global_75880_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doubleziseghist_global_75880(__global int *global_failure, int64_t total_part_no_54960, int64_t m_61673, int64_t num_tblocks_75875, int64_t num_subhistos_96885, int32_t chk_i_96955, int64_t hist_H_chk_96956, __global unsigned char *ext_mem_91570, __global unsigned char *defunc_0_map_res_subhistos_mem_96886)\n{\n    #define seghist_tblock_sizze_75873 (calc_local_Skyline_GFUR_doubleziseghist_global_75880ziseghist_tblock_sizze_75873)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96958;\n    int32_t tblock_sizze_96961;\n    int32_t wave_sizze_96960;\n    int32_t block_id_96959;\n    int32_t global_tid_96957;\n    int64_t phys_tid_75880;\n    int32_t subhisto_ind_96962;\n    int64_t num_chunks_96963;\n    \n    local_tid_96958 = get_local_id(0);\n    tblock_sizze_96961 = get_local_size(0);\n    wave_sizze_96960 = LOCKSTEP_WIDTH;\n    block_id_96959 = get_tblock_id(0);\n    global_tid_96957 = block_id_96959 * tblock_sizze_96961 + local_tid_96958;\n    phys_tid_75880 = sext_i32_i64(global_tid_96957);\n    subhisto_ind_96962 = squot32(global_tid_96957, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_75873 * num_tblocks_75875), sext_i64_i32(num_subhistos_96885)));\n    num_chunks_96963 = sdiv_up64(m_61673, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_75873 * num_tblocks_75875)));\n    for (int64_t chunk_i_96964 = 0; chunk_i_96964 < num_c",
                                    "hunks_96963; chunk_i_96964++) {\n        int64_t i_96965 = chunk_i_96964 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_75873 * num_tblocks_75875)) + sext_i32_i64(global_tid_96957);\n        \n        if (slt64(i_96965, m_61673)) {\n            int64_t slice_96966;\n            int64_t gtid_75879;\n            int64_t remnant_96967;\n            \n            slice_96966 = m_61673;\n            gtid_75879 = i_96965;\n            remnant_96967 = i_96965 - gtid_75879;\n            if (slt64(i_96965, m_61673)) {\n                int64_t bucket_p_75884 = ((__global int64_t *) ext_mem_91570)[gtid_75879];\n                \n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_96955) * hist_H_chk_96956, bucket_p_75884) && (slt64(bucket_p_75884, sext_i32_i64(chk_i_96955) * hist_H_chk_96956 + hist_H_chk_96956) && (sle64((int64_t) 0, bucket_p_75884) && slt64(bucket_p_75884, total_part_no_54960)))) {\n                        int64_t eta_p_75881;\n                        int64_t eta_p_75882 = (int64_t) 1;\n                        int64_t old_96968;\n                        \n                        old_96968 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_96886)[sext_i32_i64(subhisto_ind_96962) * total_part_no_54960 + bucket_p_75884], (int64_t) eta_p_75882);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_75873\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doubleziseghist_local_75880_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doubleziseghist_local_75880(__global int *global_failure, int64_t total_part_no_54960, int64_t m_61673, int64_t num_subhistos_96885, int64_t num_tblocks_96896, int32_t hist_M_96902, int32_t chk_i_96906, int64_t num_segments_96907, int64_t hist_H_chk_96908, int64_t histo_sizze_96909, int32_t init_per_thread_96910, __global unsigned char *ext_", "mem_91570, __global unsigned char *defunc_0_map_res_subhistos_mem_96886)\n{\n    #define max_tblock_sizze_96895 (calc_local_Skyline_GFUR_doubleziseghist_local_75880zimax_tblock_sizze_96895)\n    \n    volatile __local unsigned char *subhistogram_local_mem_96924_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_96924_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_96902 * hist_H_chk_96908) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_96902 * hist_H_chk_96908), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96912;\n    int32_t tblock_sizze_96915;\n    int32_t wave_sizze_96914;\n    int32_t block_id_96913;\n    int32_t global_tid_96911;\n    int64_t phys_tid_75880;\n    int32_t phys_tblock_id_96916;\n    int32_t iterations_96917;\n    \n    local_tid_96912 = get_local_id(0);\n    tblock_sizze_96915 = get_local_size(0);\n    wave_sizze_96914 = LOCKSTEP_WIDTH;\n    block_id_96913 = get_tblock_id(0);\n    global_tid_96911 = block_id_96913 * tblock_sizze_96915 + local_tid_96912;\n    phys_tid_75880 = sext_i32_i64(global_tid_96911);\n    phys_tblock_id_96916 = get_tblock_id(0);\n    iterations_96917 = sdiv_up32(sext_i64_i32(num_tblocks_96896 * num_segments_96907) - phys_tblock_id_96916, sext_i64_i32(num_tblocks_96896));\n    for (int32_t i_96918 = 0; i_96918 < iterations_96917; i_96918++) {\n        int32_t virt_tblock_id_96919;\n        int32_t flat_segment_id_96920;\n        int32_t gid_in_segment_96921;\n        int32_t pgtid_in_segment_96922;\n        int32_t threads_per_segment_96923;\n        __local unsigned char *subhistogram_local_mem_96924;\n        int32_t thread_local_subhisto_i_96926;\n        int64_t num_chunks_96933;\n        \n        virt_tblock_id_96919 = phys_tblock_id_96916 + i_96918 * sext_i64_i32(num_tblocks_96896);\n        flat_segment_id_96920 = squot32(virt_tblock_id_96919, sext_i64_i32(num_tblocks_96896));\n        gid_in_segment_96921 = srem32(virt_tblock_id_96919, sext_i64_i32(num_tblocks_96896)", ");\n        pgtid_in_segment_96922 = gid_in_segment_96921 * sext_i64_i32(max_tblock_sizze_96895) + local_tid_96912;\n        threads_per_segment_96923 = sext_i64_i32(num_tblocks_96896 * max_tblock_sizze_96895);\n        subhistogram_local_mem_96924 = (__local unsigned char *) subhistogram_local_mem_96924_backing_0;\n        thread_local_subhisto_i_96926 = srem32(local_tid_96912, hist_M_96902);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_96927 = 0; local_i_96927 < init_per_thread_96910; local_i_96927++) {\n                int32_t j_96928 = local_i_96927 * sext_i64_i32(max_tblock_sizze_96895) + local_tid_96912;\n                int32_t j_offset_96929 = hist_M_96902 * sext_i64_i32(histo_sizze_96909) * gid_in_segment_96921 + j_96928;\n                int32_t local_subhisto_i_96930 = squot32(j_96928, sext_i64_i32(histo_sizze_96909));\n                int32_t global_subhisto_i_96931 = squot32(j_offset_96929, sext_i64_i32(histo_sizze_96909));\n                \n                if (slt32(j_96928, hist_M_96902 * sext_i64_i32(histo_sizze_96909))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_96931 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_96885)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_96928, sext_i64_i32(histo_sizze_96909))) + sext_i32_i64(chk_i_96906) * hist_H_chk_96908) && slt64(sext_i32_i64(srem32(j_96928, sext_i64_i32(histo_sizze_96909))) + sext_i32_i64(chk_i_96906) * hist_H_chk_96908, total_part_no_54960)))) {\n                            int64_t tmp_96932 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_96886)[sext_i32_i64(srem32(j_96928, sext_i64_i32(histo_sizze_96909))) + sext_i32_i64(chk_i_96906) * hist_H_chk_96908];\n                            \n                            ((__local int64_t *) subhistogram_local_mem_96924)[sext_i32_i64(local_subhisto_i_96",
                                    "930) * hist_H_chk_96908 + sext_i32_i64(srem32(j_96928, sext_i64_i32(histo_sizze_96909)))] = tmp_96932;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_96924)[sext_i32_i64(local_subhisto_i_96930) * hist_H_chk_96908 + sext_i32_i64(srem32(j_96928, sext_i64_i32(histo_sizze_96909)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_96933 = sdiv_up64(m_61673, sext_i32_i64(threads_per_segment_96923));\n        for (int64_t chunk_i_96934 = 0; chunk_i_96934 < num_chunks_96933; chunk_i_96934++) {\n            int64_t i_96935 = chunk_i_96934 * sext_i32_i64(threads_per_segment_96923) + sext_i32_i64(pgtid_in_segment_96922);\n            \n            if (slt64(i_96935, m_61673)) {\n                int64_t gtid_75879;\n                int64_t bucket_p_75884;\n                \n                gtid_75879 = i_96935;\n                bucket_p_75884 = ((__global int64_t *) ext_mem_91570)[gtid_75879];\n                if (chk_i_96906 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, bucket_p_75884) && slt64(bucket_p_75884, total_part_no_54960)) && (sle64(sext_i32_i64(chk_i_96906) * hist_H_chk_96908, bucket_p_75884) && slt64(bucket_p_75884, sext_i32_i64(chk_i_96906) * hist_H_chk_96908 + hist_H_chk_96908))) {\n                        int64_t eta_p_75881;\n                        int64_t eta_p_75882 = (int64_t) 1;\n                        int64_t old_96936;\n                        \n                        old_96936 = atomic_add_i64_shared(&((volatile __local int64_t *) subhistogram_local_mem_96924)[sext_i32_i64(thread_local_subhisto_i_96926) * hist_H_chk_96908 + (bucket_p_75884 - sext_i32_i64(chk_i_96906) * hist_H_chk_96908)], (int64_t) eta_p_75882);\n                    }\n                ", "}\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_96937 = smin64(hist_H_chk_96908, total_part_no_54960 - sext_i32_i64(chk_i_96906) * hist_H_chk_96908);\n            int32_t histo_sizze_96938 = sext_i64_i32(trunc_H_96937);\n            \n            for (int32_t local_i_96939 = 0; local_i_96939 < init_per_thread_96910; local_i_96939++) {\n                int32_t j_96940 = local_i_96939 * sext_i64_i32(max_tblock_sizze_96895) + local_tid_96912;\n                \n                if (slt32(j_96940, histo_sizze_96938)) {\n                    int64_t eta_p_75881;\n                    int64_t eta_p_75882;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_75881 = ((__local int64_t *) subhistogram_local_mem_96924)[sext_i32_i64(j_96940)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_96941 = 0; subhisto_id_96941 < hist_M_96902 - 1; subhisto_id_96941++) {\n                            eta_p_75882 = ((__local int64_t *) subhistogram_local_mem_96924)[(sext_i32_i64(subhisto_id_96941) + (int64_t) 1) * hist_H_chk_96908 + sext_i32_i64(j_96940)];\n                            \n                            int64_t defunc_0_op_res_75883 = add64(eta_p_75881, eta_p_75882);\n                            \n                            eta_p_75881 = defunc_0_op_res_75883;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_96886)[srem64(sext_i32_i64(virt_tblock_id_96919), num_tblocks_96896) * total_part_no_54960 + (sext_i32_i64(j_96940) + sext_i32_i64(chk_i_96906) * hist_H_chk_96908)] = eta_p_758", "81;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_96895\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75147_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75147(__global int *global_failure, int64_t dim_54946, int64_t dz2083U_54951, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xys_mem_90821, __global unsigned char *mem_90842)\n{\n    #define segmap_tblock_sizze_75142 (calc_local_Skyline_GFUR_doublezisegmap_75147zisegmap_tblock_sizze_75142)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95935;\n    int32_t tblock_sizze_95938;\n    int32_t wave_sizze_95937;\n    int32_t block_id_95936;\n    int32_t global_tid_95934;\n    int64_t phys_tid_75147;\n    int64_t global_tid_95939;\n    int64_t slice_95940;\n    int64_t slice_95941;\n    int64_t gtid_75145;\n    int64_t remnant_95942;\n    int64_t gtid_75146;\n    int64_t remnant_95943;\n    \n    local_tid_95935 = get_local_id(0);\n    tblock_sizze_95938 = get_local_size(0);\n    wave_sizze_95937 = LOCKSTEP_WIDTH;\n    block_id_95936 = get_tblock_id(0);\n    global_tid_95934 = block_id_95936 * tblock_sizze_95938 + local_tid_95935;\n    phys_tid_75147 = sext_i32_i64(global_tid_95934);\n    global_tid_95939 = sext_i32_i64(block_id_95936) * segmap_tblock_sizze_75142 + sext_i32_i64(local_tid_95935);\n    slice_95940 = dim_54946;\n    slice_95941 = dz2083U_54951 * slice_95940;\n    gtid_75145 = squot64(global_tid_95939, slice_95940);\n    remnant_95942 = global_tid_95939 - gtid_75145 * slice_95940;\n    gtid_75146 = remnant_95942;\n    remnant_95943 = remnant_95942 - gtid_75146;\n    if (slt64(gtid_75145, dz2083U_54951) && slt64(gtid_75146, dim_54946)) {\n        double eta_p_75148;\n        double eta_p_75149;\n        double defunc_0_f_res_75150;\n        \n        eta_p_75148 = ((__global double *) xys_mem_90821)[gtid_75145 * dim_549",
                                    "46 + gtid_75146];\n        eta_p_75149 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_75146];\n        defunc_0_f_res_75150 = eta_p_75148 - eta_p_75149;\n        ((__global double *) mem_90842)[gtid_75145 * dim_54946 + gtid_75146] = defunc_0_f_res_75150;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75142\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75163_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75163(__global int *global_failure, int64_t dim_54946, int64_t dz2083U_54951, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_90842)\n{\n    #define segmap_tblock_sizze_75158 (calc_local_Skyline_GFUR_doublezisegmap_75163zisegmap_tblock_sizze_75158)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95946;\n    int32_t tblock_sizze_95949;\n    int32_t wave_sizze_95948;\n    int32_t block_id_95947;\n    int32_t global_tid_95945;\n    int64_t phys_tid_75163;\n    int64_t global_tid_95950;\n    int64_t slice_95951;\n    int64_t slice_95952;\n    int64_t gtid_75161;\n    int64_t remnant_95953;\n    int64_t gtid_75162;\n    int64_t remnant_95954;\n    \n    local_tid_95946 = get_local_id(0);\n    tblock_sizze_95949 = get_local_size(0);\n    wave_sizze_95948 = LOCKSTEP_WIDTH;\n    block_id_95947 = get_tblock_id(0);\n    global_tid_95945 = block_id_95947 * tblock_sizze_95949 + local_tid_95946;\n    phys_tid_75163 = sext_i32_i64(global_tid_95945);\n    global_tid_95950 = sext_i32_i64(block_id_95947) * segmap_tblock_sizze_75158 + sext_i32_i64(local_tid_95946);\n    slice_95951 = dim_54946;\n    slice_95952 = dz2083U_54951 * slice_95951;\n    gtid_75161 = squot64(global_tid_95950, slice_95951);\n    remnant_95953 = global_tid_95950 - gtid_75161 * slice_95951;\n    gtid_75162 = remnant_95953;\n    remnant_95954 = remnant_95953 - gtid_75162;\n    if (slt64(gtid_75161, dz2083U_54951) && slt64(gtid_75162, dim_54946)) {\n        double eta_p_75164;\n        double eta_p_75165;\n        double defunc", "_0_f_res_75166;\n        \n        eta_p_75164 = ((__global double *) mem_90842)[gtid_75161 * dim_54946 + gtid_75162];\n        eta_p_75165 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_75162];\n        defunc_0_f_res_75166 = eta_p_75164 / eta_p_75165;\n        ((__global double *) mem_90842)[gtid_75161 * dim_54946 + gtid_75162] = defunc_0_f_res_75166;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75158\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75173_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75173(__global int *global_failure, int64_t dim_54946, int64_t dz2083U_54951, __global unsigned char *mem_90842, __global unsigned char *mem_90845)\n{\n    #define segmap_tblock_sizze_75169 (calc_local_Skyline_GFUR_doublezisegmap_75173zisegmap_tblock_sizze_75169)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95957;\n    int32_t tblock_sizze_95960;\n    int32_t wave_sizze_95959;\n    int32_t block_id_95958;\n    int32_t global_tid_95956;\n    int64_t phys_tid_75173;\n    int64_t global_tid_95961;\n    int64_t slice_95962;\n    int64_t gtid_75172;\n    int64_t remnant_95963;\n    \n    local_tid_95957 = get_local_id(0);\n    tblock_sizze_95960 = get_local_size(0);\n    wave_sizze_95959 = LOCKSTEP_WIDTH;\n    block_id_95958 = get_tblock_id(0);\n    global_tid_95956 = block_id_95958 * tblock_sizze_95960 + local_tid_95957;\n    phys_tid_75173 = sext_i32_i64(global_tid_95956);\n    global_tid_95961 = sext_i32_i64(block_id_95958) * segmap_tblock_sizze_75169 + sext_i32_i64(local_tid_95957);\n    slice_95962 = dz2083U_54951;\n    gtid_75172 = global_tid_95961;\n    remnant_95963 = global_tid_95961 - gtid_75172;\n    if (slt64(gtid_75172, dz2083U_54951)) {\n        double f_arg0_75175;\n        int64_t f64_res_75176;\n        \n        f_arg0_75175 = ((__global double *) mem_90842)[gtid_75172 * dim_54946];\n        f64_res_75176 = fptosi_f64_i64(f_arg0_75175);\n        ((__global int64_t *) mem_90845)[gtid_75172] = f64_res_751", "76;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75169\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75186_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75186(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, int64_t num_tblocks_75182, int32_t virt_num_tblocks_95984, __global unsigned char *mem_90859, __global unsigned char *mem_90870, __global unsigned char *mem_90888)\n{\n    #define segmap_tblock_sizze_75181 (calc_local_Skyline_GFUR_doublezisegmap_75186zisegmap_tblock_sizze_75181)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_95986;\n    int32_t tblock_sizze_95989;\n    int32_t wave_sizze_95988;\n    int32_t block_id_95987;\n    int32_t global_tid_95985;\n    int64_t phys_tid_75186;\n    int32_t phys_tblock_id_95990;\n    int32_t iterations_95991;\n    \n    local_tid_95986 = get_local_id(0);\n    tblock_sizze_95989 = get_local_size(0);\n    wave_sizze_95988 = LOCKSTEP_WIDTH;\n    block_id_95987 = get_tblock_id(0);\n    global_tid_95985 = block_id_95987 * tblock_sizze_95989 + local_tid_95986;\n    phys_tid_75186 = sext_i32_i64(global_tid_95985);\n    phys_tblock_id_95990 = get_tblock_id(0);\n    iterations_95991 = sdiv_up32(virt_num_tblocks_95984 - phys_tblock_id_95990, sext_i64_i32(num_tblocks_75182));\n    for (int32_t i_95992 = 0; i_95992 < iterations_95991; i_95992++) {\n        int32_t virt_tblock_id_95993;\n        int64_t global_tid_95994;\n        int64_t slice_95995;\n        int64_t gtid_75185;\n        int64_t remnant_95996;\n        \n        virt_tblock_id_95993 = phys_tblock_id_95990 + i_95992 * sext_i64_i32(num_tblocks_75182);\n        global_tid_95994 = sext_i32_i64(virt_tblock_id_95993) * segmap_tblock_sizze_7",
                                    "5181 + sext_i32_i64(local_tid_95986);\n        slice_95995 = dz2083U_54951;\n        gtid_75185 = global_tid_95994;\n        remnant_95996 = global_tid_95994 - gtid_75185;\n        if (slt64(gtid_75185, dz2083U_54951)) {\n            for (int64_t i_75190 = 0; i_75190 < arg_61323; i_75190++) {\n                int64_t index_primexp_75192;\n                bool x_75193;\n                bool y_75194;\n                bool bounds_check_75195;\n                bool index_certs_75196;\n                double f_arg0_75197;\n                int64_t f64_res_75198;\n                \n                index_primexp_75192 = add64((int64_t) 1, i_75190);\n                x_75193 = sle64((int64_t) 0, index_primexp_75192);\n                y_75194 = slt64(index_primexp_75192, dim_54946);\n                bounds_check_75195 = x_75193 && y_75194;\n                if (!bounds_check_75195) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 8) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_75192;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_75197 = ((__global double *) mem_90870)[gtid_75185 + index_primexp_75192 * dz2083U_54951];\n                f64_res_75198 = fptosi_f64_i64(f_arg0_75197);\n                ((__global int64_t *) mem_90859)[gtid_75185 + index_primexp_75192 * dz2083U_54951] = f64_res_75198;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54946; i_0++) {\n                ((__global int64_t *) mem_90888)[gtid_75185 + i_0 * dz2083U_54951] = ((__global int64_t *) mem_90859)[gtid_75185 + i_0 * dz2083U_54951];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier", "(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_75181\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75206_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75206(__global int *global_failure, int64_t dz2083U_54951, int64_t ext_90912, __global unsigned char *ext_mem_90913, __global unsigned char *mem_90916)\n{\n    #define segmap_tblock_sizze_75202 (calc_local_Skyline_GFUR_doublezisegmap_75206zisegmap_tblock_sizze_75202)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96001;\n    int32_t tblock_sizze_96004;\n    int32_t wave_sizze_96003;\n    int32_t block_id_96002;\n    int32_t global_tid_96000;\n    int64_t phys_tid_75206;\n    int64_t global_tid_96005;\n    int64_t slice_96006;\n    int64_t gtid_75205;\n    int64_t remnant_96007;\n    \n    local_tid_96001 = get_local_id(0);\n    tblock_sizze_96004 = get_local_size(0);\n    wave_sizze_96003 = LOCKSTEP_WIDTH;\n    block_id_96002 = get_tblock_id(0);\n    global_tid_96000 = block_id_96002 * tblock_sizze_96004 + local_tid_96001;\n    phys_tid_75206 = sext_i32_i64(global_tid_96000);\n    global_tid_96005 = sext_i32_i64(block_id_96002) * segmap_tblock_sizze_75202 + sext_i32_i64(local_tid_96001);\n    slice_96006 = dz2083U_54951;\n    gtid_75205 = global_tid_96005;\n    remnant_96007 = global_tid_96005 - gtid_75205;\n    if (slt64(gtid_75205, dz2083U_54951)) {\n        int64_t f_arg0_75208;\n        int64_t max_res_75209;\n        \n        f_arg0_75208 = ((__global int64_t *) ext_mem_90913)[gtid_75205 * ext_90912];\n        max_res_75209 = smax64((int64_t) 0, f_arg0_75208);\n        ((__global int64_t *) mem_90916)[gtid_75205] = max_res_75209;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75202\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75219_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75219(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_", "t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, int64_t num_tblocks_75215, int32_t virt_num_tblocks_96028, __global unsigned char *mem_90930, __global unsigned char *mem_90941, __global unsigned char *mem_90959)\n{\n    #define segmap_tblock_sizze_75214 (calc_local_Skyline_GFUR_doublezisegmap_75219zisegmap_tblock_sizze_75214)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96030;\n    int32_t tblock_sizze_96033;\n    int32_t wave_sizze_96032;\n    int32_t block_id_96031;\n    int32_t global_tid_96029;\n    int64_t phys_tid_75219;\n    int32_t phys_tblock_id_96034;\n    int32_t iterations_96035;\n    \n    local_tid_96030 = get_local_id(0);\n    tblock_sizze_96033 = get_local_size(0);\n    wave_sizze_96032 = LOCKSTEP_WIDTH;\n    block_id_96031 = get_tblock_id(0);\n    global_tid_96029 = block_id_96031 * tblock_sizze_96033 + local_tid_96030;\n    phys_tid_75219 = sext_i32_i64(global_tid_96029);\n    phys_tblock_id_96034 = get_tblock_id(0);\n    iterations_96035 = sdiv_up32(virt_num_tblocks_96028 - phys_tblock_id_96034, sext_i64_i32(num_tblocks_75215));\n    for (int32_t i_96036 = 0; i_96036 < iterations_96035; i_96036++) {\n        int32_t virt_tblock_id_96037;\n        int64_t global_tid_96038;\n        int64_t slice_96039;\n        int64_t gtid_75218;\n        int64_t remnant_96040;\n        \n        virt_tblock_id_96037 = phys_tblock_id_96034 + i_96036 * sext_i64_i32(num_tblocks_75215);\n        global_tid_96038 = sext_i32_i64(virt_tblock_id_96037) * segmap_tblock_sizze_75214 + sext_i32_i64(local_tid_96030);\n        slice_96039 = dz2083U_54951;\n        gtid_75218 = global_tid_96038;\n        remnant_96040 = global_tid_96038 - gtid_75218;\n        if (slt64(gtid_75218, dz2083U_54951)) {\n            for (int64_t i_75223 = 0; i_75223 < arg_61323; i_75223++) {\n                i",
                                    "nt64_t index_primexp_75225;\n                bool x_75226;\n                bool y_75227;\n                bool bounds_check_75228;\n                bool index_certs_75229;\n                int64_t f_arg0_75230;\n                int64_t max_res_75231;\n                \n                index_primexp_75225 = add64((int64_t) 1, i_75223);\n                x_75226 = sle64((int64_t) 0, index_primexp_75225);\n                y_75227 = slt64(index_primexp_75225, dim_54946);\n                bounds_check_75228 = x_75226 && y_75227;\n                if (!bounds_check_75228) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 9) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_75225;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_75230 = ((__global int64_t *) mem_90941)[gtid_75218 + index_primexp_75225 * dz2083U_54951];\n                max_res_75231 = smax64((int64_t) 0, f_arg0_75230);\n                ((__global int64_t *) mem_90930)[gtid_75218 + index_primexp_75225 * dz2083U_54951] = max_res_75231;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54946; i_0++) {\n                ((__global int64_t *) mem_90959)[gtid_75218 + i_0 * dz2083U_54951] = ((__global int64_t *) mem_90930)[gtid_75218 + i_0 * dz2083U_54951];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_75214\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75239_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75239(__global int *global_failure, int64_t dz2083U_54951,", " int64_t ext_90996, __global unsigned char *mem_90834, __global unsigned char *ext_mem_90997, __global unsigned char *mem_91000)\n{\n    #define segmap_tblock_sizze_75235 (calc_local_Skyline_GFUR_doublezisegmap_75239zisegmap_tblock_sizze_75235)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96045;\n    int32_t tblock_sizze_96048;\n    int32_t wave_sizze_96047;\n    int32_t block_id_96046;\n    int32_t global_tid_96044;\n    int64_t phys_tid_75239;\n    int64_t global_tid_96049;\n    int64_t slice_96050;\n    int64_t gtid_75238;\n    int64_t remnant_96051;\n    \n    local_tid_96045 = get_local_id(0);\n    tblock_sizze_96048 = get_local_size(0);\n    wave_sizze_96047 = LOCKSTEP_WIDTH;\n    block_id_96046 = get_tblock_id(0);\n    global_tid_96044 = block_id_96046 * tblock_sizze_96048 + local_tid_96045;\n    phys_tid_75239 = sext_i32_i64(global_tid_96044);\n    global_tid_96049 = sext_i32_i64(block_id_96046) * segmap_tblock_sizze_75235 + sext_i32_i64(local_tid_96045);\n    slice_96050 = dz2083U_54951;\n    gtid_75238 = global_tid_96049;\n    remnant_96051 = global_tid_96049 - gtid_75238;\n    if (slt64(gtid_75238, dz2083U_54951)) {\n        int64_t min_arg1_90467;\n        int64_t f_arg0_75241;\n        int64_t min_res_75242;\n        \n        min_arg1_90467 = ((__global int64_t *) mem_90834)[(int64_t) 0];\n        f_arg0_75241 = ((__global int64_t *) ext_mem_90997)[gtid_75238 * ext_90996];\n        min_res_75242 = smin64(f_arg0_75241, min_arg1_90467);\n        ((__global int64_t *) mem_91000)[gtid_75238] = min_res_75242;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75235\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75252_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75252(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, int64_t num_tblocks_75248, int32_t virt_num_tblocks_96072, __global unsigned char *grid_partitions_per", "_dim_mem_90817, __global unsigned char *mem_91014, __global unsigned char *mem_91025, __global unsigned char *mem_91043)\n{\n    #define segmap_tblock_sizze_75247 (calc_local_Skyline_GFUR_doublezisegmap_75252zisegmap_tblock_sizze_75247)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96074;\n    int32_t tblock_sizze_96077;\n    int32_t wave_sizze_96076;\n    int32_t block_id_96075;\n    int32_t global_tid_96073;\n    int64_t phys_tid_75252;\n    int32_t phys_tblock_id_96078;\n    int32_t iterations_96079;\n    \n    local_tid_96074 = get_local_id(0);\n    tblock_sizze_96077 = get_local_size(0);\n    wave_sizze_96076 = LOCKSTEP_WIDTH;\n    block_id_96075 = get_tblock_id(0);\n    global_tid_96073 = block_id_96075 * tblock_sizze_96077 + local_tid_96074;\n    phys_tid_75252 = sext_i32_i64(global_tid_96073);\n    phys_tblock_id_96078 = get_tblock_id(0);\n    iterations_96079 = sdiv_up32(virt_num_tblocks_96072 - phys_tblock_id_96078, sext_i64_i32(num_tblocks_75248));\n    for (int32_t i_96080 = 0; i_96080 < iterations_96079; i_96080++) {\n        int32_t virt_tblock_id_96081;\n        int64_t global_tid_96082;\n        int64_t slice_96083;\n        int64_t gtid_75251;\n        int64_t remnant_96084;\n        \n        virt_tblock_id_96081 = phys_tblock_id_96078 + i_96080 * sext_i64_i32(num_tblocks_75248);\n        global_tid_96082 = sext_i32_i64(virt_tblock_id_96081) * segmap_tblock_sizze_75247 + sext_i32_i64(local_tid_96074);\n        slice_96083 = dz2083U_54951;\n        gtid_75251 = global_tid_96082;\n        remnant_96084 = global_tid_96082 - gtid_75251;\n        if (slt64(gtid_75251, dz2083U_54951)) {\n            for (int64_t i_75256 = 0; i_75256 < arg_61323; i_75256++) {\n                int64_t index_primexp_75258;\n                bool x_75259;\n                bool y_75260;\n          ",
                                    "      bool bounds_check_75261;\n                bool index_certs_75262;\n                bool index_certs_75264;\n                int64_t f_arg0_75263;\n                int64_t zm_lhs_75265;\n                int64_t min_arg1_75266;\n                int64_t min_res_75267;\n                \n                index_primexp_75258 = add64((int64_t) 1, i_75256);\n                x_75259 = sle64((int64_t) 0, index_primexp_75258);\n                y_75260 = slt64(index_primexp_75258, dim_54946);\n                bounds_check_75261 = x_75259 && y_75260;\n                if (!bounds_check_75261) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 10) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_75258;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_75261) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 11) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_75258;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_75263 = ((__global int64_t *) mem_91025)[gtid_75251 + index_primexp_75258 * dz2083U_54951];\n                zm_lhs_75265 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_75258];\n                min_arg1_75266 = sub64(zm_lhs_75265, (int64_t) 1);\n                min_res_75267 = smin64(f_arg0_75263, min_arg1_75266);\n                ((__global int64_t *) mem_91014)[gtid_75251 + index_primexp_75258 * dz2083U_54951] = min_res_75267;\n         ", "   }\n            for (int64_t i_0 = 0; i_0 < dim_54946; i_0++) {\n                ((__global int64_t *) mem_91043)[gtid_75251 + i_0 * dz2083U_54951] = ((__global int64_t *) mem_91014)[gtid_75251 + i_0 * dz2083U_54951];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_75247\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75281_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75281(__global int *global_failure, int64_t dim_54946, int64_t dz2083U_54951, int64_t ext_91092, int64_t ext_91093, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_91094, __global unsigned char *mem_91098)\n{\n    #define segmap_tblock_sizze_75276 (calc_local_Skyline_GFUR_doublezisegmap_75281zisegmap_tblock_sizze_75276)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96089;\n    int32_t tblock_sizze_96092;\n    int32_t wave_sizze_96091;\n    int32_t block_id_96090;\n    int32_t global_tid_96088;\n    int64_t phys_tid_75281;\n    int64_t global_tid_96093;\n    int64_t slice_96094;\n    int64_t slice_96095;\n    int64_t gtid_75279;\n    int64_t remnant_96096;\n    int64_t gtid_75280;\n    int64_t remnant_96097;\n    \n    local_tid_96089 = get_local_id(0);\n    tblock_sizze_96092 = get_local_size(0);\n    wave_sizze_96091 = LOCKSTEP_WIDTH;\n    block_id_96090 = get_tblock_id(0);\n    global_tid_96088 = block_id_96090 * tblock_sizze_96092 + local_tid_96089;\n    phys_tid_75281 = sext_i32_i64(global_tid_96088);\n    global_tid_96093 = sext_i32_i64(block_id_96090) * segmap_tblock_sizze_75276 + sext_i32_i64(local_tid_96089);\n    slice_96094 = dim_54946;\n    slice_96095 = dz2083U_54951 * slice_96094;\n    gtid_75279 = squot64(global_tid_96093, slice_96094);\n    remnant_96096 = global_tid_96093 - gtid_75279 * slice", "_96094;\n    gtid_75280 = remnant_96096;\n    remnant_96097 = remnant_96096 - gtid_75280;\n    if (slt64(gtid_75279, dz2083U_54951) && slt64(gtid_75280, dim_54946)) {\n        int64_t eta_p_75282;\n        int64_t eta_p_75283;\n        int64_t defunc_0_f_res_75284;\n        \n        eta_p_75282 = ((__global int64_t *) ext_mem_91094)[gtid_75279 * ext_91093 + gtid_75280 * ext_91092];\n        eta_p_75283 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_75280];\n        defunc_0_f_res_75284 = mul64(eta_p_75282, eta_p_75283);\n        ((__global int64_t *) mem_91098)[gtid_75279 * dim_54946 + gtid_75280] = defunc_0_f_res_75284;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75276\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75292_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75292(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2080U_54947, int64_t dz2083U_54951, __global unsigned char *mem_91109, __global unsigned char *mem_91111, __global unsigned char *mem_91113)\n{\n    #define segmap_tblock_sizze_75287 (calc_local_Skyline_GFUR_doublezisegmap_75292zisegmap_tblock_sizze_75287)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96100;\n    int32_t tblock_sizze_96103;\n    int32_t wave_sizze_96102;\n    int32_t block_id_96101;\n    int32_t global_tid_96099;\n    int64_t phys_tid_75292;\n    int64_t global_tid_96104;\n    int64_t slice_96105;\n    int64_t gtid_75291;\n    int64_t remnant_96106;\n    \n    local_tid_96100 = get_local_id(0);\n    tblock_sizze_96103 = get_local_size(0);\n    wave_sizze_96102 = LOCKSTEP_WIDTH;\n    block_id_96101 = get_tblock_id(0);\n    global_tid_96099 = block_id_96101 * tblock_sizze_96103 + local_tid_96100;\n    phys_tid_75292 = sext_i32_i64(global_tid_96099);\n    global_tid_96104 = sext_i32_i64(block_id_96101) * segmap_tblock_sizze_75287 + sext_i32_i64(local_tid_96100);\n    slice_96105 = dz2083U_54951;\n    gtid_7",
                                    "5291 = global_tid_96104;\n    remnant_96106 = global_tid_96104 - gtid_75291;\n    if (slt64(gtid_75291, dz2083U_54951)) {\n        int64_t defunc_0_foldl_res_75294;\n        int64_t acc_75296;\n        bool x_75299;\n        bool y_75300;\n        bool bounds_check_75301;\n        bool index_certs_75302;\n        \n        acc_75296 = (int64_t) 0;\n        for (int64_t i_75295 = 0; i_75295 < dim_54946; i_75295++) {\n            int64_t b_75297;\n            int64_t defunc_0_f_res_75298;\n            int64_t acc_tmp_96107;\n            \n            b_75297 = ((__global int64_t *) mem_91109)[gtid_75291 + i_75295 * dz2083U_54951];\n            defunc_0_f_res_75298 = add64(acc_75296, b_75297);\n            acc_tmp_96107 = defunc_0_f_res_75298;\n            acc_75296 = acc_tmp_96107;\n        }\n        defunc_0_foldl_res_75294 = acc_75296;\n        x_75299 = sle64((int64_t) 0, defunc_0_foldl_res_75294);\n        y_75300 = slt64(defunc_0_foldl_res_75294, dz2080U_54947);\n        bounds_check_75301 = x_75299 && y_75300;\n        if (!bounds_check_75301) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 12) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_75294;\n                    global_failure_args[1] = (int64_t) dz2080U_54947;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_91113)[gtid_75291] = defunc_0_foldl_res_75294;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75287\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75312_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75312(__global int *global_failure, int64_t dim_54946, int64_t dz2083U_54951, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_91111, __global unsigned char *mem_91113, __global unsigned char *mem_91148)\n{\n    #define segmap_tblock_sizze_75307 (calc_local_Skyline_GFUR_doublezisegmap_75312zisegmap_tblock_sizze_7", "5307)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96133;\n    int32_t tblock_sizze_96136;\n    int32_t wave_sizze_96135;\n    int32_t block_id_96134;\n    int32_t global_tid_96132;\n    int64_t phys_tid_75312;\n    int64_t global_tid_96137;\n    int64_t slice_96138;\n    int64_t slice_96139;\n    int64_t gtid_75311;\n    int64_t remnant_96140;\n    int64_t gtid_slice_75310;\n    int64_t remnant_96141;\n    \n    local_tid_96133 = get_local_id(0);\n    tblock_sizze_96136 = get_local_size(0);\n    wave_sizze_96135 = LOCKSTEP_WIDTH;\n    block_id_96134 = get_tblock_id(0);\n    global_tid_96132 = block_id_96134 * tblock_sizze_96136 + local_tid_96133;\n    phys_tid_75312 = sext_i32_i64(global_tid_96132);\n    global_tid_96137 = sext_i32_i64(block_id_96134) * segmap_tblock_sizze_75307 + sext_i32_i64(local_tid_96133);\n    slice_96138 = dim_54946;\n    slice_96139 = dz2083U_54951 * slice_96138;\n    gtid_75311 = squot64(global_tid_96137, slice_96138);\n    remnant_96140 = global_tid_96137 - gtid_75311 * slice_96138;\n    gtid_slice_75310 = remnant_96140;\n    remnant_96141 = remnant_96140 - gtid_slice_75310;\n    if (slt64(gtid_75311, dz2083U_54951) && slt64(gtid_slice_75310, dim_54946)) {\n        int64_t defunc_0_foldl_res_75313;\n        bool index_certs_75314;\n        double v_75315;\n        \n        defunc_0_foldl_res_75313 = ((__global int64_t *) mem_91113)[gtid_75311];\n        index_certs_75314 = 0;\n        v_75315 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_75313 * dim_54946 + gtid_slice_75310];\n        ((__global double *) mem_91148)[gtid_75311 * dim_54946 + gtid_slice_75310] = v_75315;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75307\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75327_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75327(__global int *global_failure, int64_t dim_54946, int64_t dz2083U_54951, __global unsigned char *xys_mem_90821, __global unsigned char *mem_91148)\n{\n  ", "  #define segmap_tblock_sizze_75322 (calc_local_Skyline_GFUR_doublezisegmap_75327zisegmap_tblock_sizze_75322)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96144;\n    int32_t tblock_sizze_96147;\n    int32_t wave_sizze_96146;\n    int32_t block_id_96145;\n    int32_t global_tid_96143;\n    int64_t phys_tid_75327;\n    int64_t global_tid_96148;\n    int64_t slice_96149;\n    int64_t slice_96150;\n    int64_t gtid_75325;\n    int64_t remnant_96151;\n    int64_t gtid_75326;\n    int64_t remnant_96152;\n    \n    local_tid_96144 = get_local_id(0);\n    tblock_sizze_96147 = get_local_size(0);\n    wave_sizze_96146 = LOCKSTEP_WIDTH;\n    block_id_96145 = get_tblock_id(0);\n    global_tid_96143 = block_id_96145 * tblock_sizze_96147 + local_tid_96144;\n    phys_tid_75327 = sext_i32_i64(global_tid_96143);\n    global_tid_96148 = sext_i32_i64(block_id_96145) * segmap_tblock_sizze_75322 + sext_i32_i64(local_tid_96144);\n    slice_96149 = dim_54946;\n    slice_96150 = dz2083U_54951 * slice_96149;\n    gtid_75325 = squot64(global_tid_96148, slice_96149);\n    remnant_96151 = global_tid_96148 - gtid_75325 * slice_96149;\n    gtid_75326 = remnant_96151;\n    remnant_96152 = remnant_96151 - gtid_75326;\n    if (slt64(gtid_75325, dz2083U_54951) && slt64(gtid_75326, dim_54946)) {\n        double eta_p_75328;\n        double eta_p_75329;\n        double defunc_0_f_res_75330;\n        \n        eta_p_75328 = ((__global double *) xys_mem_90821)[gtid_75325 * dim_54946 + gtid_75326];\n        eta_p_75329 = ((__global double *) mem_91148)[gtid_75325 * dim_54946 + gtid_75326];\n        defunc_0_f_res_75330 = eta_p_75328 - eta_p_75329;\n        ((__global double *) mem_91148)[gtid_75325 * dim_54946 + gtid_75326] = defunc_0_f_res_75330;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75322\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75349_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75349(__global int *global_failure, int failure_is_an_option, __global i",
                                    "nt64_t *global_failure_args, int64_t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, int64_t num_tblocks_75345, int32_t virt_num_tblocks_96173, __global unsigned char *mem_91162, __global unsigned char *mem_91173, __global unsigned char *mem_91191)\n{\n    #define segmap_tblock_sizze_75344 (calc_local_Skyline_GFUR_doublezisegmap_75349zisegmap_tblock_sizze_75344)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96175;\n    int32_t tblock_sizze_96178;\n    int32_t wave_sizze_96177;\n    int32_t block_id_96176;\n    int32_t global_tid_96174;\n    int64_t phys_tid_75349;\n    int32_t phys_tblock_id_96179;\n    int32_t iterations_96180;\n    \n    local_tid_96175 = get_local_id(0);\n    tblock_sizze_96178 = get_local_size(0);\n    wave_sizze_96177 = LOCKSTEP_WIDTH;\n    block_id_96176 = get_tblock_id(0);\n    global_tid_96174 = block_id_96176 * tblock_sizze_96178 + local_tid_96175;\n    phys_tid_75349 = sext_i32_i64(global_tid_96174);\n    phys_tblock_id_96179 = get_tblock_id(0);\n    iterations_96180 = sdiv_up32(virt_num_tblocks_96173 - phys_tblock_id_96179, sext_i64_i32(num_tblocks_75345));\n    for (int32_t i_96181 = 0; i_96181 < iterations_96180; i_96181++) {\n        int32_t virt_tblock_id_96182;\n        int64_t global_tid_96183;\n        int64_t slice_96184;\n        int64_t gtid_75348;\n        int64_t remnant_96185;\n        \n        virt_tblock_id_96182 = phys_tblock_id_96179 + i_96181 * sext_i64_i32(num_tblocks_75345);\n        global_tid_96183 = sext_i32_i64(virt_tblock_id_96182) * segmap_tblock_sizze_75344 + sext_i32_i64(local_tid_96175);\n        slice_96184 = dz2083U_54951;\n        gtid_75348 = global_tid_96183;\n        remnant_96185 = global_tid_96183 - gtid_75348;\n        if (slt64(gtid_75348, dz2083U_54951)) {\n            for (int64_t i_75353 = 0; i_75353 < arg_61", "323; i_75353++) {\n                int64_t index_primexp_75355;\n                bool x_75356;\n                bool y_75357;\n                bool bounds_check_75358;\n                bool index_certs_75359;\n                \n                index_primexp_75355 = add64((int64_t) 1, i_75353);\n                x_75356 = sle64((int64_t) 0, index_primexp_75355);\n                y_75357 = slt64(index_primexp_75355, dim_54946);\n                bounds_check_75358 = x_75356 && y_75357;\n                if (!bounds_check_75358) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 13) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_75355;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_91162)[gtid_75348 + dz2083U_54951 * index_primexp_75355 + i_0 * dz2083U_54951] = ((__global double *) mem_91173)[gtid_75348 + dz2083U_54951 * index_primexp_75355 + i_0 * dz2083U_54951];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54946; i_0++) {\n                ((__global double *) mem_91191)[gtid_75348 + i_0 * dz2083U_54951] = ((__global double *) mem_91162)[gtid_75348 + i_0 * dz2083U_54951];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_75344\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75397_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75397(__global int *global_failure, int64_t dz2083U_54951, int64_t map_arg1_75370, i", "nt64_t j_m_i_75371, int64_t ext_91195, int64_t ext_91196, __global unsigned char *ext_mem_91197, __global unsigned char *mem_91208)\n{\n    #define segmap_tblock_sizze_75392 (calc_local_Skyline_GFUR_doublezisegmap_75397zisegmap_tblock_sizze_75392)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96193;\n    int32_t tblock_sizze_96196;\n    int32_t wave_sizze_96195;\n    int32_t block_id_96194;\n    int32_t global_tid_96192;\n    int64_t phys_tid_75397;\n    int64_t global_tid_96197;\n    int64_t slice_96198;\n    int64_t slice_96199;\n    int64_t gtid_75395;\n    int64_t remnant_96200;\n    int64_t gtid_75396;\n    int64_t remnant_96201;\n    \n    local_tid_96193 = get_local_id(0);\n    tblock_sizze_96196 = get_local_size(0);\n    wave_sizze_96195 = LOCKSTEP_WIDTH;\n    block_id_96194 = get_tblock_id(0);\n    global_tid_96192 = block_id_96194 * tblock_sizze_96196 + local_tid_96193;\n    phys_tid_75397 = sext_i32_i64(global_tid_96192);\n    global_tid_96197 = sext_i32_i64(block_id_96194) * segmap_tblock_sizze_75392 + sext_i32_i64(local_tid_96193);\n    slice_96198 = j_m_i_75371;\n    slice_96199 = dz2083U_54951 * slice_96198;\n    gtid_75395 = squot64(global_tid_96197, slice_96198);\n    remnant_96200 = global_tid_96197 - gtid_75395 * slice_96198;\n    gtid_75396 = remnant_96200;\n    remnant_96201 = remnant_96200 - gtid_75396;\n    if (slt64(gtid_75395, dz2083U_54951) && slt64(gtid_75396, j_m_i_75371)) {\n        int64_t slice_90275;\n        double eta_p_75398;\n        double lifted_lambda_res_75399;\n        \n        slice_90275 = map_arg1_75370 + gtid_75396;\n        eta_p_75398 = ((__global double *) ext_mem_91197)[gtid_75395 * ext_91196 + slice_90275 * ext_91195];\n        lifted_lambda_res_75399 = eta_p_75398 * eta_p_75398;\n        ((__global double *) mem_91208)[gtid_75395 * j_m_i_75371 + gtid_75396] = lifted_lambda_res_75399;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75392\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75407_dim1",
                                    ", 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75407(__global int *global_failure, int64_t dz2083U_54951, int64_t arg_61323, int64_t i_75366, int64_t j_m_i_75371, int64_t num_tblocks_75403, int64_t ext_91195, int64_t ext_91196, int32_t virt_num_tblocks_96202, __global unsigned char *ext_mem_91197, __global unsigned char *mem_91219, __global unsigned char *mem_91230, __global unsigned char *mem_91242)\n{\n    #define segmap_tblock_sizze_75402 (calc_local_Skyline_GFUR_doublezisegmap_75407zisegmap_tblock_sizze_75402)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96204;\n    int32_t tblock_sizze_96207;\n    int32_t wave_sizze_96206;\n    int32_t block_id_96205;\n    int32_t global_tid_96203;\n    int64_t phys_tid_75407;\n    int32_t phys_tblock_id_96208;\n    int32_t iterations_96209;\n    \n    local_tid_96204 = get_local_id(0);\n    tblock_sizze_96207 = get_local_size(0);\n    wave_sizze_96206 = LOCKSTEP_WIDTH;\n    block_id_96205 = get_tblock_id(0);\n    global_tid_96203 = block_id_96205 * tblock_sizze_96207 + local_tid_96204;\n    phys_tid_75407 = sext_i32_i64(global_tid_96203);\n    phys_tblock_id_96208 = get_tblock_id(0);\n    iterations_96209 = sdiv_up32(virt_num_tblocks_96202 - phys_tblock_id_96208, sext_i64_i32(num_tblocks_75403));\n    for (int32_t i_96210 = 0; i_96210 < iterations_96209; i_96210++) {\n        int32_t virt_tblock_id_96211;\n        int64_t global_tid_96212;\n        int64_t slice_96213;\n        int64_t gtid_75406;\n        int64_t remnant_96214;\n        \n        virt_tblock_id_96211 = phys_tblock_id_96208 + i_96210 * sext_i64_i32(num_tblocks_75403);\n        global_tid_96212 = sext_i32_i64(virt_tblock_id_96211) * segmap_tblock_sizze_75402 + sext_i32_i64(local_tid_96204);\n        slice_96213 = dz2083U_54951;\n        gtid_75406 = global_tid_96212;\n        remnant_96214 = global_tid_96212 - gtid_75406;\n        if (slt64(gtid_75406, dz2083U_54951)) {\n            double defunc_0_seqmap_res_r_transformed_row_75409;\n            double defunc_", "0_foldl_res_75411;\n            double acc_75413;\n            double sqrt_res_75416;\n            double atan2_res_75417;\n            \n            defunc_0_seqmap_res_r_transformed_row_75409 = ((__global double *) ext_mem_91197)[gtid_75406 * ext_91196 + i_75366 * ext_91195];\n            acc_75413 = 0.0;\n            for (int64_t i_75412 = 0; i_75412 < j_m_i_75371; i_75412++) {\n                double b_75414;\n                double defunc_0_f_res_75415;\n                double acc_tmp_96215;\n                \n                b_75414 = ((__global double *) mem_91230)[gtid_75406 + i_75412 * dz2083U_54951];\n                defunc_0_f_res_75415 = acc_75413 + b_75414;\n                acc_tmp_96215 = defunc_0_f_res_75415;\n                acc_75413 = acc_tmp_96215;\n            }\n            defunc_0_foldl_res_75411 = acc_75413;\n            sqrt_res_75416 = futrts_sqrt64(defunc_0_foldl_res_75411);\n            atan2_res_75417 = futrts_atan2_64(sqrt_res_75416, defunc_0_seqmap_res_r_transformed_row_75409);\n            ((__global double *) mem_91219)[gtid_75406 + i_75366 * dz2083U_54951] = atan2_res_75417;\n            for (int64_t i_0 = 0; i_0 < arg_61323; i_0++) {\n                ((__global double *) mem_91242)[gtid_75406 + i_0 * dz2083U_54951] = ((__global double *) mem_91219)[gtid_75406 + i_0 * dz2083U_54951];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_75402\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75431_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75431(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_54951, int64_t arg_61323, int64_t ext_91243, int64_t ext_91244, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *ext_mem_91140, __global unsigned char *ext_mem_91246, __global unsigned char *mem", "_91250)\n{\n    #define segmap_tblock_sizze_75426 (calc_local_Skyline_GFUR_doublezisegmap_75431zisegmap_tblock_sizze_75426)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96218;\n    int32_t tblock_sizze_96221;\n    int32_t wave_sizze_96220;\n    int32_t block_id_96219;\n    int32_t global_tid_96217;\n    int64_t phys_tid_75431;\n    int64_t global_tid_96222;\n    int64_t slice_96223;\n    int64_t slice_96224;\n    int64_t gtid_75429;\n    int64_t remnant_96225;\n    int64_t gtid_75430;\n    int64_t remnant_96226;\n    \n    local_tid_96218 = get_local_id(0);\n    tblock_sizze_96221 = get_local_size(0);\n    wave_sizze_96220 = LOCKSTEP_WIDTH;\n    block_id_96219 = get_tblock_id(0);\n    global_tid_96217 = block_id_96219 * tblock_sizze_96221 + local_tid_96218;\n    phys_tid_75431 = sext_i32_i64(global_tid_96217);\n    global_tid_96222 = sext_i32_i64(block_id_96219) * segmap_tblock_sizze_75426 + sext_i32_i64(local_tid_96218);\n    slice_96223 = arg_61323;\n    slice_96224 = dz2083U_54951 * slice_96223;\n    gtid_75429 = squot64(global_tid_96222, slice_96223);\n    remnant_96225 = global_tid_96222 - gtid_75429 * slice_96223;\n    gtid_75430 = remnant_96225;\n    remnant_96226 = remnant_96225 - gtid_75430;\n    if (slt64(gtid_75429, dz2083U_54951) && slt64(gtid_75430, arg_61323)) {\n        double eta_p_75432;\n        double eta_p_75433;\n        int64_t eta_p_75434;\n        int64_t eta_p_75435;\n        int64_t defunc_0_f_res_75436;\n        \n        eta_p_75432 = ((__global double *) ext_mem_91246)[gtid_75429 * ext_91244 + gtid_75430 * ext_91243];\n        eta_p_75433 = ((__global double *) ext_mem_91140)[gtid_75430];\n        eta_p_75434 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_75430];\n        eta_p_75435 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_75430];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_75436, eta_p_75432, eta_p_75433, eta_p_75434, eta_p_7543",
                                    "5);\n        ((__global int64_t *) mem_91250)[gtid_75429 * arg_61323 + gtid_75430] = defunc_0_f_res_75436;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75426\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75443_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75443(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2082U_54950, int64_t dz2083U_54951, int64_t total_angle_no_54958, int64_t arg_61323, unsigned char cond_61364_bits, unsigned char protect_assert_disj_61381_bits, unsigned char protect_assert_disj_61393_bits, int64_t i_61398, unsigned char x_69517_bits, int64_t num_threads_95519, __global unsigned char *part_idx_mem_90820, __global unsigned char *xys_mem_90821, __global unsigned char *mem_90826, __global unsigned char *mem_91113, __global unsigned char *mem_91124, __global unsigned char *mem_param_91127, __global unsigned char *mem_91261, __global unsigned char *mem_91286, __global unsigned char *color_95391, __global unsigned char *color_95392)\n{\n    bool cond_61364 = cond_61364_bits;\n    bool protect_assert_disj_61381 = protect_assert_disj_61381_bits;\n    bool protect_assert_disj_61393 = protect_assert_disj_61393_bits;\n    bool x_69517 = x_69517_bits;\n    \n    #define segmap_tblock_sizze_75439 (calc_local_Skyline_GFUR_doublezisegmap_75443zisegmap_tblock_sizze_75439)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96229;\n    int32_t tblock_sizze_96232;\n    int32_t wave_sizze_96231;\n    int32_t block_id_96230;\n    int32_t global_tid_96228;\n    int64_t phys_tid_75443;\n    int64_t global_tid_96233;\n    int64_t slice_96234;\n    int64_t gtid_75442;\n    int64_t remnant_96235;\n    \n    local_tid_96229 = get_local_id(0);\n    tblock_sizze_96232 = get_local_size(0);\n    wave_sizze_96231 = LOCKSTEP_WIDTH;\n    block_id_96230 = get_tblock_id(0);\n    global_tid_96228 = block_id_96230 * tblock_sizze_96232 + local_tid_96229;\n    phys_", "tid_75443 = sext_i32_i64(global_tid_96228);\n    global_tid_96233 = sext_i32_i64(block_id_96230) * segmap_tblock_sizze_75439 + sext_i32_i64(local_tid_96229);\n    slice_96234 = dz2083U_54951;\n    gtid_75442 = global_tid_96233;\n    remnant_96235 = global_tid_96233 - gtid_75442;\n    if (slt64(gtid_75442, dz2083U_54951)) {\n        int64_t eta_p_75445;\n        int64_t defunc_0_foldl_res_75446;\n        int64_t defunc_0_foldl_res_75448;\n        int64_t acc_75450;\n        int64_t zp_lhs_75453;\n        int64_t get_id_from_grid_angle_res_75454;\n        bool x_75455;\n        bool y_75456;\n        bool bounds_check_75457;\n        bool index_certs_75458;\n        int64_t tmp_75459;\n        bool index_certs_75461;\n        int64_t zp_lhs_75462;\n        int64_t zm_lhs_75463;\n        int64_t min_arg1_75464;\n        int64_t min_arg0_75465;\n        int64_t min_res_75466;\n        bool x_75467;\n        bool y_75468;\n        bool bounds_check_75469;\n        bool index_certs_75470;\n        bool cond_75471;\n        bool cond_f_res_75472;\n        bool x_75473;\n        bool y_75474;\n        bool cond_75475;\n        bool protect_assert_disj_94498;\n        bool index_certs_75482;\n        bool protect_assert_disj_94504;\n        bool range_valid_c_75490;\n        bool x_94495;\n        bool protect_cond_conj_94499;\n        double f_arg1_75483;\n        double f_arg0_75484;\n        bool defunc_0_f_res_75485;\n        int64_t defunc_0_f_res_75476;\n        \n        eta_p_75445 = ((__global int64_t *) mem_param_91127)[gtid_75442];\n        defunc_0_foldl_res_75446 = ((__global int64_t *) mem_91113)[gtid_75442];\n        acc_75450 = (int64_t) 0;\n        for (int64_t i_75449 = 0; i_75449 < arg_61323; i_75449++) {\n            int64_t b_75451;\n            int64_t defunc_0_f_res_75452;\n            int64_t acc_tmp_96236;\n            \n            b_75451 = ((__global int64_t *) mem_91261)[gtid_75442 + i_75449 * dz2083U_54951];\n            defunc_0_f_res_75452 = add64(acc_75450, b_75451);\n            acc_tmp_96236 ", "= defunc_0_f_res_75452;\n            acc_75450 = acc_tmp_96236;\n        }\n        defunc_0_foldl_res_75448 = acc_75450;\n        zp_lhs_75453 = mul64(total_angle_no_54958, defunc_0_foldl_res_75446);\n        get_id_from_grid_angle_res_75454 = add64(defunc_0_foldl_res_75448, zp_lhs_75453);\n        x_75455 = sle64((int64_t) 0, get_id_from_grid_angle_res_75454);\n        y_75456 = slt64(get_id_from_grid_angle_res_75454, dz2082U_54950);\n        bounds_check_75457 = x_75455 && y_75456;\n        if (!bounds_check_75457) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 14) == -1) {\n                    global_failure_args[0] = (int64_t) get_id_from_grid_angle_res_75454;\n                    global_failure_args[1] = (int64_t) dz2082U_54950;\n                    ;\n                }\n                return;\n            }\n        }\n        tmp_75459 = ((__global int64_t *) mem_90826)[get_id_from_grid_angle_res_75454];\n        if (!bounds_check_75457) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 15) == -1) {\n                    global_failure_args[0] = (int64_t) get_id_from_grid_angle_res_75454;\n                    global_failure_args[1] = (int64_t) dz2082U_54950;\n                    ;\n                }\n                return;\n            }\n        }\n        zp_lhs_75462 = ((__global int64_t *) part_idx_mem_90820)[get_id_from_grid_angle_res_75454];\n        zm_lhs_75463 = add64(tmp_75459, zp_lhs_75462);\n        min_arg1_75464 = sub64(zm_lhs_75463, (int64_t) 1);\n        min_arg0_75465 = add64(i_61398, zp_lhs_75462);\n        min_res_75466 = smin64(min_arg1_75464, min_arg0_75465);\n        x_75467 = sle64((int64_t) 0, min_res_75466);\n        y_75468 = slt64(min_res_75466, dz2083U_54951);\n        bounds_check_75469 = x_75467 && y_75468;\n        if (!bounds_check_75469) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 16) == -1) {\n                    global_failure_args[0] = (int64_t) min_res",
                                    "_75466;\n                    global_failure_args[1] = (int64_t) dz2083U_54951;\n                    ;\n                }\n                return;\n            }\n        }\n        cond_75471 = slt64(eta_p_75445, (int64_t) 0);\n        cond_f_res_75472 = eta_p_75445 == i_61398;\n        x_75473 = !cond_75471;\n        y_75474 = cond_f_res_75472 && x_75473;\n        cond_75475 = cond_75471 || y_75474;\n        protect_assert_disj_94498 = protect_assert_disj_61381 || cond_75475;\n        if (!protect_assert_disj_94498) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 17) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) dim_54946;\n                    ;\n                }\n                return;\n            }\n        }\n        protect_assert_disj_94504 = protect_assert_disj_61393 || cond_75475;\n        if (!protect_assert_disj_94504) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 18) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 1;\n                    global_failure_args[1] = (int64_t) dim_54946;\n                    ;\n                }\n                return;\n            }\n        }\n        x_94495 = !cond_75475;\n        protect_cond_conj_94499 = x_69517 && x_94495;\n        if (protect_cond_conj_94499) {\n            double x_94488 = ((__global double *) xys_mem_90821)[min_res_75466 * dim_54946];\n            \n            f_arg1_75483 = x_94488;\n        } else {\n            f_arg1_75483 = 0.0;\n        }\n        if (protect_cond_conj_94499) {\n            double x_94490 = ((__global double *) xys_mem_90821)[gtid_75442 * dim_54946];\n            \n            f_arg0_75484 = x_94490;\n        } else {\n            f_arg0_75484 = 0.0;\n        }\n        defunc_0_f_res_75485 = f_arg1_75483 <= f_arg0_75484;\n        if (cond_75475) {\n            defunc_0_f_res_75476 = eta_p_75445;\n        } else {\n            __global unsi", "gned char *ext_mem_ext_95528;\n            bool defunc_0_foldl_res_75503;\n            bool acc_75505;\n            bool elimd_75508;\n            int64_t defunc_0_f_res_f_res_75539;\n            \n            if (cond_61364) {\n                ext_mem_ext_95528 = color_95391;\n            } else {\n                for (int64_t nest_i_96237 = 0; nest_i_96237 < dim_54946; nest_i_96237++) {\n                    ((__global bool *) color_95392)[phys_tid_75443 + nest_i_96237 * num_threads_95519] = defunc_0_f_res_75485;\n                }\n                for (int64_t i_75492 = 0; i_75492 < arg_61323; i_75492++) {\n                    int64_t index_primexp_75494;\n                    bool x_75495;\n                    bool y_75496;\n                    bool bounds_check_75497;\n                    bool index_certs_75498;\n                    double f_arg1_75499;\n                    double f_arg0_75500;\n                    bool defunc_0_f_res_75501;\n                    \n                    index_primexp_75494 = add64((int64_t) 1, i_75492);\n                    x_75495 = sle64((int64_t) 0, index_primexp_75494);\n                    y_75496 = slt64(index_primexp_75494, dim_54946);\n                    bounds_check_75497 = x_75495 && y_75496;\n                    if (!bounds_check_75497) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 19) == -1) {\n                                global_failure_args[0] = (int64_t) index_primexp_75494;\n                                global_failure_args[1] = (int64_t) dim_54946;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_75499 = ((__global double *) mem_91124)[min_res_75466 + index_primexp_75494 * dz2083U_54951];\n                    f_arg0_75500 = ((__global double *) mem_91124)[gtid_75442 + index_primexp_75494 * dz2083U_54951];\n                    defunc_0_f_res_75501 = f_arg1_7", "5499 <= f_arg0_75500;\n                    ((__global bool *) color_95392)[phys_tid_75443 + index_primexp_75494 * num_threads_95519] = defunc_0_f_res_75501;\n                }\n                ext_mem_ext_95528 = color_95392;\n            }\n            acc_75505 = 1;\n            for (int64_t i_75504 = 0; i_75504 < dim_54946; i_75504++) {\n                bool b_75506;\n                bool x_75507;\n                bool acc_tmp_96239;\n                \n                b_75506 = ((__global bool *) ext_mem_ext_95528)[phys_tid_75443 + i_75504 * num_threads_95519];\n                x_75507 = acc_75505 && b_75506;\n                acc_tmp_96239 = x_75507;\n                acc_75505 = acc_tmp_96239;\n            }\n            defunc_0_foldl_res_75503 = acc_75505;\n            if (defunc_0_foldl_res_75503) {\n                bool bounds_invalid_upwards_75518;\n                bool valid_75520;\n                bool protect_assert_disj_94470;\n                bool range_valid_c_75521;\n                bool y_75512;\n                int64_t distance_75519;\n                __global unsigned char *ext_mem_ext_95537;\n                bool defunc_0_foldl_res_75534;\n                bool acc_75536;\n                \n                bounds_invalid_upwards_75518 = slt64(dim_54946, (int64_t) 1);\n                valid_75520 = !bounds_invalid_upwards_75518;\n                protect_assert_disj_94470 = cond_61364 || valid_75520;\n                if (!protect_assert_disj_94470) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 20) == -1) {\n                            global_failure_args[0] = (int64_t) (int64_t) 1;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        return;\n                    }\n                }\n                y_75512 = slt64((int64_t) 0, dim_54946);\n                distance_75519 = sub64(dim_54946, (int64_t) 1);\n                if (cond_61364) ",
                                    "{\n                    ext_mem_ext_95537 = color_95391;\n                } else {\n                    bool index_certs_75513;\n                    double f_arg1_75514;\n                    double f_arg0_75515;\n                    bool defunc_0_f_res_75516;\n                    \n                    if (!y_75512) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 21) == -1) {\n                                global_failure_args[0] = (int64_t) (int64_t) 0;\n                                global_failure_args[1] = (int64_t) dim_54946;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_75514 = ((__global double *) xys_mem_90821)[min_res_75466 * dim_54946];\n                    f_arg0_75515 = ((__global double *) xys_mem_90821)[gtid_75442 * dim_54946];\n                    defunc_0_f_res_75516 = f_arg1_75514 < f_arg0_75515;\n                    for (int64_t nest_i_96240 = 0; nest_i_96240 < dim_54946; nest_i_96240++) {\n                        ((__global bool *) color_95392)[phys_tid_75443 + nest_i_96240 * num_threads_95519] = defunc_0_f_res_75516;\n                    }\n                    for (int64_t i_75523 = 0; i_75523 < distance_75519; i_75523++) {\n                        int64_t index_primexp_75525;\n                        bool x_75526;\n                        bool y_75527;\n                        bool bounds_check_75528;\n                        bool index_certs_75529;\n                        double f_arg1_75530;\n                        double f_arg0_75531;\n                        bool defunc_0_f_res_75532;\n                        \n                        index_primexp_75525 = add64((int64_t) 1, i_75523);\n                        x_75526 = sle64((int64_t) 0, index_primexp_75525);\n                        y_75527 = slt64(index_primexp_75525, dim_54946);\n                        bounds_check_75528 = x_75526", " && y_75527;\n                        if (!bounds_check_75528) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 22) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_75525;\n                                    global_failure_args[1] = (int64_t) dim_54946;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg1_75530 = ((__global double *) mem_91124)[min_res_75466 + index_primexp_75525 * dz2083U_54951];\n                        f_arg0_75531 = ((__global double *) mem_91124)[gtid_75442 + index_primexp_75525 * dz2083U_54951];\n                        defunc_0_f_res_75532 = f_arg1_75530 < f_arg0_75531;\n                        ((__global bool *) color_95392)[phys_tid_75443 + index_primexp_75525 * num_threads_95519] = defunc_0_f_res_75532;\n                    }\n                    ext_mem_ext_95537 = color_95392;\n                }\n                acc_75536 = 0;\n                for (int64_t i_75535 = 0; i_75535 < dim_54946; i_75535++) {\n                    bool b_75537;\n                    bool defunc_0_f_res_75538;\n                    bool acc_tmp_96242;\n                    \n                    b_75537 = ((__global bool *) ext_mem_ext_95537)[phys_tid_75443 + i_75535 * num_threads_95519];\n                    defunc_0_f_res_75538 = acc_75536 || b_75537;\n                    acc_tmp_96242 = defunc_0_f_res_75538;\n                    acc_75536 = acc_tmp_96242;\n                }\n                defunc_0_foldl_res_75534 = acc_75536;\n                elimd_75508 = defunc_0_foldl_res_75534;\n            } else {\n                elimd_75508 = 0;\n            }\n            if (elimd_75508) {\n                defunc_0_f_res_f_res_75539 = (int64_t) -1;\n            } else {\n                defunc_0_f_res_f_res_75539 = eta_p_75445;\n            }\n  ", "          defunc_0_f_res_75476 = defunc_0_f_res_f_res_75539;\n        }\n        ((__global int64_t *) mem_91286)[gtid_75442] = defunc_0_f_res_75476;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75439\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75549_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75549(__global int *global_failure, int64_t dz2083U_54951, int64_t m_61673, int64_t num_tblocks_75554, int32_t virt_num_tblocks_96367, __global unsigned char *ext_mem_91289, __global unsigned char *mem_91292, __global unsigned char *mem_91294, __global unsigned char *mem_91296)\n{\n    #define segmap_tblock_sizze_75552 (calc_local_Skyline_GFUR_doublezisegmap_75549zisegmap_tblock_sizze_75552)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96369;\n    int32_t tblock_sizze_96372;\n    int32_t wave_sizze_96371;\n    int32_t block_id_96370;\n    int32_t global_tid_96368;\n    int64_t phys_tid_75549;\n    int32_t phys_tblock_id_96373;\n    int32_t iterations_96374;\n    \n    local_tid_96369 = get_local_id(0);\n    tblock_sizze_96372 = get_local_size(0);\n    wave_sizze_96371 = LOCKSTEP_WIDTH;\n    block_id_96370 = get_tblock_id(0);\n    global_tid_96368 = block_id_96370 * tblock_sizze_96372 + local_tid_96369;\n    phys_tid_75549 = sext_i32_i64(global_tid_96368);\n    phys_tblock_id_96373 = get_tblock_id(0);\n    iterations_96374 = sdiv_up32(virt_num_tblocks_96367 - phys_tblock_id_96373, sext_i64_i32(num_tblocks_75554));\n    for (int32_t i_96375 = 0; i_96375 < iterations_96374; i_96375++) {\n        int32_t virt_tblock_id_96376;\n        int64_t global_tid_96377;\n        int64_t slice_96378;\n        int64_t write_i_75548;\n        int64_t remnant_96379;\n        \n        virt_tblock_id_96376 = phys_tblock_id_96373 + i_96375 * sext_i64_i32(num_tblocks_75554);\n        global_tid_96377 = sext_i32_i64(virt_tblock_id_96376) * segmap_tblock_sizze_75552 + sext_i32_i64(local_tid_96369);\n        slice_96378 = dz2083U_54951;\n        write_i_",
                                    "75548 = global_tid_96377;\n        remnant_96379 = global_tid_96377 - write_i_75548;\n        if (slt64(write_i_75548, dz2083U_54951)) {\n            int64_t eta_p_69566;\n            int64_t write_value_69568;\n            bool cond_69569;\n            int64_t lifted_lambda_res_69570;\n            \n            eta_p_69566 = ((__global int64_t *) mem_91294)[write_i_75548];\n            write_value_69568 = ((__global int64_t *) ext_mem_91289)[write_i_75548];\n            cond_69569 = eta_p_69566 == (int64_t) 1;\n            if (cond_69569) {\n                int64_t eta_p_69567;\n                int64_t lifted_lambda_res_t_res_70797;\n                \n                eta_p_69567 = ((__global int64_t *) mem_91292)[write_i_75548];\n                lifted_lambda_res_t_res_70797 = sub64(eta_p_69567, (int64_t) 1);\n                lifted_lambda_res_69570 = lifted_lambda_res_t_res_70797;\n            } else {\n                lifted_lambda_res_69570 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, lifted_lambda_res_69570) && slt64(lifted_lambda_res_69570, m_61673)) {\n                ((__global int64_t *) mem_91296)[lifted_lambda_res_69570] = write_value_69568;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_75552\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75601_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75601(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_54951, int64_t m_61673, __global unsigned char *mem_91296, __global unsigned char *mem_91299)\n{\n    #define segmap_tblock_sizze_75597 (calc_local_Skyline_GFUR_doublezisegmap_75601zisegmap_tblock_sizze_75597)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96382;\n    int32_t tblock_sizze_96385;\n    int32_t wave_sizze_96384;\n    int32_t block_id_96383;\n    int32_t global_tid_96381;\n    int64_t phys_tid_756", "01;\n    int64_t global_tid_96386;\n    int64_t slice_96387;\n    int64_t gtid_75600;\n    int64_t remnant_96388;\n    \n    local_tid_96382 = get_local_id(0);\n    tblock_sizze_96385 = get_local_size(0);\n    wave_sizze_96384 = LOCKSTEP_WIDTH;\n    block_id_96383 = get_tblock_id(0);\n    global_tid_96381 = block_id_96383 * tblock_sizze_96385 + local_tid_96382;\n    phys_tid_75601 = sext_i32_i64(global_tid_96381);\n    global_tid_96386 = sext_i32_i64(block_id_96383) * segmap_tblock_sizze_75597 + sext_i32_i64(local_tid_96382);\n    slice_96387 = m_61673;\n    gtid_75600 = global_tid_96386;\n    remnant_96388 = global_tid_96386 - gtid_75600;\n    if (slt64(gtid_75600, m_61673)) {\n        int64_t eta_p_75602;\n        bool x_75603;\n        bool y_75604;\n        bool bounds_check_75605;\n        bool index_certs_75606;\n        \n        eta_p_75602 = ((__global int64_t *) mem_91296)[gtid_75600];\n        x_75603 = sle64((int64_t) 0, eta_p_75602);\n        y_75604 = slt64(eta_p_75602, dz2083U_54951);\n        bounds_check_75605 = x_75603 && y_75604;\n        if (!bounds_check_75605) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 23) == -1) {\n                    global_failure_args[0] = (int64_t) eta_p_75602;\n                    global_failure_args[1] = (int64_t) dz2083U_54951;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75597\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75614_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75614(__global int *global_failure, int64_t dim_54946, int64_t m_61673, __global unsigned char *xys_mem_90821, __global unsigned char *mem_91296, __global unsigned char *mem_91299, __global unsigned char *mem_91303)\n{\n    #define segmap_tblock_sizze_75609 (calc_local_Skyline_GFUR_doublezisegmap_75614zisegmap_tblock_sizze_75609)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96391;\n  ", "  int32_t tblock_sizze_96394;\n    int32_t wave_sizze_96393;\n    int32_t block_id_96392;\n    int32_t global_tid_96390;\n    int64_t phys_tid_75614;\n    int64_t global_tid_96395;\n    int64_t slice_96396;\n    int64_t slice_96397;\n    int64_t gtid_75613;\n    int64_t remnant_96398;\n    int64_t gtid_slice_75612;\n    int64_t remnant_96399;\n    \n    local_tid_96391 = get_local_id(0);\n    tblock_sizze_96394 = get_local_size(0);\n    wave_sizze_96393 = LOCKSTEP_WIDTH;\n    block_id_96392 = get_tblock_id(0);\n    global_tid_96390 = block_id_96392 * tblock_sizze_96394 + local_tid_96391;\n    phys_tid_75614 = sext_i32_i64(global_tid_96390);\n    global_tid_96395 = sext_i32_i64(block_id_96392) * segmap_tblock_sizze_75609 + sext_i32_i64(local_tid_96391);\n    slice_96396 = dim_54946;\n    slice_96397 = m_61673 * slice_96396;\n    gtid_75613 = squot64(global_tid_96395, slice_96396);\n    remnant_96398 = global_tid_96395 - gtid_75613 * slice_96396;\n    gtid_slice_75612 = remnant_96398;\n    remnant_96399 = remnant_96398 - gtid_slice_75612;\n    if (slt64(gtid_75613, m_61673) && slt64(gtid_slice_75612, dim_54946)) {\n        int64_t eta_p_75615;\n        bool index_certs_75616;\n        double v_75617;\n        \n        eta_p_75615 = ((__global int64_t *) mem_91296)[gtid_75613];\n        index_certs_75616 = 0;\n        v_75617 = ((__global double *) xys_mem_90821)[eta_p_75615 * dim_54946 + gtid_slice_75612];\n        ((__global double *) mem_91303)[gtid_75613 * dim_54946 + gtid_slice_75612] = v_75617;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75609\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75623_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75623(__global int *global_failure, int64_t m_61673, __global unsigned char *xys_mem_90822, __global unsigned char *mem_91296, __global unsigned char *mem_91299, __global unsigned char *mem_91306)\n{\n    #define segmap_tblock_sizze_75619 (calc_local_Skyline_GFUR_doublezisegmap_75623zisegmap_tblock_sizze_75619)\n    ",
                                    "if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96402;\n    int32_t tblock_sizze_96405;\n    int32_t wave_sizze_96404;\n    int32_t block_id_96403;\n    int32_t global_tid_96401;\n    int64_t phys_tid_75623;\n    int64_t global_tid_96406;\n    int64_t slice_96407;\n    int64_t gtid_75622;\n    int64_t remnant_96408;\n    \n    local_tid_96402 = get_local_id(0);\n    tblock_sizze_96405 = get_local_size(0);\n    wave_sizze_96404 = LOCKSTEP_WIDTH;\n    block_id_96403 = get_tblock_id(0);\n    global_tid_96401 = block_id_96403 * tblock_sizze_96405 + local_tid_96402;\n    phys_tid_75623 = sext_i32_i64(global_tid_96401);\n    global_tid_96406 = sext_i32_i64(block_id_96403) * segmap_tblock_sizze_75619 + sext_i32_i64(local_tid_96402);\n    slice_96407 = m_61673;\n    gtid_75622 = global_tid_96406;\n    remnant_96408 = global_tid_96406 - gtid_75622;\n    if (slt64(gtid_75622, m_61673)) {\n        int64_t eta_p_75624;\n        bool index_certs_75625;\n        int64_t lifted_lambda_res_75626;\n        \n        eta_p_75624 = ((__global int64_t *) mem_91296)[gtid_75622];\n        index_certs_75625 = 0;\n        lifted_lambda_res_75626 = ((__global int64_t *) xys_mem_90822)[eta_p_75624];\n        ((__global int64_t *) mem_91306)[gtid_75622] = lifted_lambda_res_75626;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75619\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75643_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75643(__global int *global_failure, int64_t dim_54946, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_91303, __global unsigned char *mem_91312)\n{\n    #define segmap_tblock_sizze_75639 (calc_local_Skyline_GFUR_doublezisegmap_75643zisegmap_tblock_sizze_75639)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96411;\n    int32_t tblock_sizze_96414;\n    int32_t wave_sizze_96413;\n    int32_t block_id_96412;\n    int32_t global_tid_96410;\n    int64_t phys_tid_75643;\n    int64_t g", "lobal_tid_96415;\n    int64_t slice_96416;\n    int64_t gtid_75642;\n    int64_t remnant_96417;\n    \n    local_tid_96411 = get_local_id(0);\n    tblock_sizze_96414 = get_local_size(0);\n    wave_sizze_96413 = LOCKSTEP_WIDTH;\n    block_id_96412 = get_tblock_id(0);\n    global_tid_96410 = block_id_96412 * tblock_sizze_96414 + local_tid_96411;\n    phys_tid_75643 = sext_i32_i64(global_tid_96410);\n    global_tid_96415 = sext_i32_i64(block_id_96412) * segmap_tblock_sizze_75639 + sext_i32_i64(local_tid_96411);\n    slice_96416 = dim_54946;\n    gtid_75642 = global_tid_96415;\n    remnant_96417 = global_tid_96415 - gtid_75642;\n    if (slt64(gtid_75642, dim_54946)) {\n        double eta_p_75644;\n        double eta_p_75645;\n        double defunc_0_f_res_75646;\n        \n        eta_p_75644 = ((__global double *) mem_91303)[gtid_75642];\n        eta_p_75645 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_75642];\n        defunc_0_f_res_75646 = eta_p_75644 - eta_p_75645;\n        ((__global double *) mem_91312)[gtid_75642] = defunc_0_f_res_75646;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75639\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75663_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75663(__global int *global_failure, int64_t dim_54946, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_91312)\n{\n    #define segmap_tblock_sizze_75659 (calc_local_Skyline_GFUR_doublezisegmap_75663zisegmap_tblock_sizze_75659)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96420;\n    int32_t tblock_sizze_96423;\n    int32_t wave_sizze_96422;\n    int32_t block_id_96421;\n    int32_t global_tid_96419;\n    int64_t phys_tid_75663;\n    int64_t global_tid_96424;\n    int64_t slice_96425;\n    int64_t gtid_75662;\n    int64_t remnant_96426;\n    \n    local_tid_96420 = get_local_id(0);\n    tblock_sizze_96423 = get_local_size(0);\n    wave_sizze_96422 = LOCKSTEP_WIDTH;\n    block_id_96421 = get_tblo", "ck_id(0);\n    global_tid_96419 = block_id_96421 * tblock_sizze_96423 + local_tid_96420;\n    phys_tid_75663 = sext_i32_i64(global_tid_96419);\n    global_tid_96424 = sext_i32_i64(block_id_96421) * segmap_tblock_sizze_75659 + sext_i32_i64(local_tid_96420);\n    slice_96425 = dim_54946;\n    gtid_75662 = global_tid_96424;\n    remnant_96426 = global_tid_96424 - gtid_75662;\n    if (slt64(gtid_75662, dim_54946)) {\n        double eta_p_75664;\n        double eta_p_75665;\n        double defunc_0_f_res_75666;\n        \n        eta_p_75664 = ((__global double *) mem_91312)[gtid_75662];\n        eta_p_75665 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_75662];\n        defunc_0_f_res_75666 = eta_p_75664 / eta_p_75665;\n        ((__global double *) mem_91312)[gtid_75662] = defunc_0_f_res_75666;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75659\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75683_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75683(__global int *global_failure, int64_t dim_54946, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_91357, __global unsigned char *mem_91360)\n{\n    #define segmap_tblock_sizze_75679 (calc_local_Skyline_GFUR_doublezisegmap_75683zisegmap_tblock_sizze_75679)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96528;\n    int32_t tblock_sizze_96531;\n    int32_t wave_sizze_96530;\n    int32_t block_id_96529;\n    int32_t global_tid_96527;\n    int64_t phys_tid_75683;\n    int64_t global_tid_96532;\n    int64_t slice_96533;\n    int64_t gtid_75682;\n    int64_t remnant_96534;\n    \n    local_tid_96528 = get_local_id(0);\n    tblock_sizze_96531 = get_local_size(0);\n    wave_sizze_96530 = LOCKSTEP_WIDTH;\n    block_id_96529 = get_tblock_id(0);\n    global_tid_96527 = block_id_96529 * tblock_sizze_96531 + local_tid_96528;\n    phys_tid_75683 = sext_i32_i64(global_tid_96527);\n    global_tid_96532 = sext_i32_i64(block_id_96529) * segmap_tblock_sizz",
                                    "e_75679 + sext_i32_i64(local_tid_96528);\n    slice_96533 = dim_54946;\n    gtid_75682 = global_tid_96532;\n    remnant_96534 = global_tid_96532 - gtid_75682;\n    if (slt64(gtid_75682, dim_54946)) {\n        int64_t eta_p_75684;\n        int64_t eta_p_75685;\n        int64_t defunc_0_f_res_75686;\n        \n        eta_p_75684 = ((__global int64_t *) ext_mem_91357)[gtid_75682];\n        eta_p_75685 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_75682];\n        defunc_0_f_res_75686 = mul64(eta_p_75684, eta_p_75685);\n        ((__global int64_t *) mem_91360)[gtid_75682] = defunc_0_f_res_75686;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75679\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75703_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75703(__global int *global_failure, int64_t dim_54946, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_91303, __global unsigned char *ext_mem_91368, __global unsigned char *mem_91392)\n{\n    #define segmap_tblock_sizze_75699 (calc_local_Skyline_GFUR_doublezisegmap_75703zisegmap_tblock_sizze_75699)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96558;\n    int32_t tblock_sizze_96561;\n    int32_t wave_sizze_96560;\n    int32_t block_id_96559;\n    int32_t global_tid_96557;\n    int64_t phys_tid_75703;\n    int64_t global_tid_96562;\n    int64_t slice_96563;\n    int64_t gtid_75702;\n    int64_t remnant_96564;\n    \n    local_tid_96558 = get_local_id(0);\n    tblock_sizze_96561 = get_local_size(0);\n    wave_sizze_96560 = LOCKSTEP_WIDTH;\n    block_id_96559 = get_tblock_id(0);\n    global_tid_96557 = block_id_96559 * tblock_sizze_96561 + local_tid_96558;\n    phys_tid_75703 = sext_i32_i64(global_tid_96557);\n    global_tid_96562 = sext_i32_i64(block_id_96559) * segmap_tblock_sizze_75699 + sext_i32_i64(local_tid_96558);\n    slice_96563 = dim_54946;\n    gtid_75702 = global_tid_96562;\n    remnant_96564 = global_tid_96562 - gtid_75702;\n    if", " (slt64(gtid_75702, dim_54946)) {\n        int64_t defunc_0_foldl_res_90536;\n        double eta_p_75704;\n        double eta_p_75705;\n        double defunc_0_f_res_75706;\n        \n        defunc_0_foldl_res_90536 = ((__global int64_t *) ext_mem_91368)[(int64_t) 0];\n        eta_p_75704 = ((__global double *) mem_91303)[gtid_75702];\n        eta_p_75705 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_90536 * dim_54946 + gtid_75702];\n        defunc_0_f_res_75706 = eta_p_75704 - eta_p_75705;\n        ((__global double *) mem_91392)[gtid_75702] = defunc_0_f_res_75706;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75699\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75722_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75722(__global int *global_failure, int64_t map_arg1_61822, int64_t j_m_i_61823, __global unsigned char *ext_mem_91406, __global unsigned char *mem_91412)\n{\n    #define segmap_tblock_sizze_75718 (calc_local_Skyline_GFUR_doublezisegmap_75722zisegmap_tblock_sizze_75718)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96595;\n    int32_t tblock_sizze_96598;\n    int32_t wave_sizze_96597;\n    int32_t block_id_96596;\n    int32_t global_tid_96594;\n    int64_t phys_tid_75722;\n    int64_t global_tid_96599;\n    int64_t slice_96600;\n    int64_t gtid_75721;\n    int64_t remnant_96601;\n    \n    local_tid_96595 = get_local_id(0);\n    tblock_sizze_96598 = get_local_size(0);\n    wave_sizze_96597 = LOCKSTEP_WIDTH;\n    block_id_96596 = get_tblock_id(0);\n    global_tid_96594 = block_id_96596 * tblock_sizze_96598 + local_tid_96595;\n    phys_tid_75722 = sext_i32_i64(global_tid_96594);\n    global_tid_96599 = sext_i32_i64(block_id_96596) * segmap_tblock_sizze_75718 + sext_i32_i64(local_tid_96595);\n    slice_96600 = j_m_i_61823;\n    gtid_75721 = global_tid_96599;\n    remnant_96601 = global_tid_96599 - gtid_75721;\n    if (slt64(gtid_75721, j_m_i_61823)) {\n        int64_t slice_90273;\n        d", "ouble eta_p_75723;\n        double lifted_lambda_res_75724;\n        \n        slice_90273 = map_arg1_61822 + gtid_75721;\n        eta_p_75723 = ((__global double *) ext_mem_91406)[slice_90273];\n        lifted_lambda_res_75724 = eta_p_75723 * eta_p_75723;\n        ((__global double *) mem_91412)[gtid_75721] = lifted_lambda_res_75724;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75718\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75743_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75743(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_61323, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *ext_mem_91384, __global unsigned char *mem_91426)\n{\n    #define segmap_tblock_sizze_75739 (calc_local_Skyline_GFUR_doublezisegmap_75743zisegmap_tblock_sizze_75739)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96618;\n    int32_t tblock_sizze_96621;\n    int32_t wave_sizze_96620;\n    int32_t block_id_96619;\n    int32_t global_tid_96617;\n    int64_t phys_tid_75743;\n    int64_t global_tid_96622;\n    int64_t slice_96623;\n    int64_t gtid_75742;\n    int64_t remnant_96624;\n    \n    local_tid_96618 = get_local_id(0);\n    tblock_sizze_96621 = get_local_size(0);\n    wave_sizze_96620 = LOCKSTEP_WIDTH;\n    block_id_96619 = get_tblock_id(0);\n    global_tid_96617 = block_id_96619 * tblock_sizze_96621 + local_tid_96618;\n    phys_tid_75743 = sext_i32_i64(global_tid_96617);\n    global_tid_96622 = sext_i32_i64(block_id_96619) * segmap_tblock_sizze_75739 + sext_i32_i64(local_tid_96618);\n    slice_96623 = arg_61323;\n    gtid_75742 = global_tid_96622;\n    remnant_96624 = global_tid_96622 - gtid_75742;\n    if (slt64(gtid_75742, arg_61323)) {\n        double eta_p_75744;\n        double eta_p_75745;\n        int64_t eta_",
                                    "p_75746;\n        int64_t eta_p_75747;\n        int64_t defunc_0_f_res_75748;\n        \n        eta_p_75744 = ((__global double *) mem_91426)[gtid_75742];\n        eta_p_75745 = ((__global double *) ext_mem_91384)[gtid_75742];\n        eta_p_75746 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_75742];\n        eta_p_75747 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_75742];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_75748, eta_p_75744, eta_p_75745, eta_p_75746, eta_p_75747);\n        ((__global int64_t *) mem_91426)[gtid_75742] = defunc_0_f_res_75748;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75739\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75765_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75765(__global int *global_failure, int64_t dim_54946, int64_t index_primexp_61906, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_91303, __global unsigned char *mem_91445)\n{\n    #define segmap_tblock_sizze_75761 (calc_local_Skyline_GFUR_doublezisegmap_75765zisegmap_tblock_sizze_75761)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96662;\n    int32_t tblock_sizze_96665;\n    int32_t wave_sizze_96664;\n    int32_t block_id_96663;\n    int32_t global_tid_96661;\n    int64_t phys_tid_75765;\n    int64_t global_tid_96666;\n    int64_t slice_96667;\n    int64_t gtid_75764;\n    int64_t remnant_96668;\n    \n    local_tid_96662 = get_local_id(0);\n    tblock_sizze_96665 = get_local_size(0);\n    wave_sizze_96664 = LOCKSTEP_WIDTH;\n    block_id_96663 = get_tblock_id(0);\n    global_tid_96661 = block_id_96663 * tblock_sizze_96665 + local_tid_96662;\n    phys_tid_75765 = sext_i32_i64(global_tid_96661);\n    global_tid_96666 = sext_i32_i64(block_id_96663) * segmap_tblock_sizze_75761 + sext_i32_i64(local_tid_96662);\n    slice_96667 = dim_54946;\n    gtid_75764 = global_tid_96666;\n    remnant_96668 = global_tid_96666 - gtid_75764;\n    if (slt64(gtid_75764,", " dim_54946)) {\n        double eta_p_75766;\n        double eta_p_75767;\n        double defunc_0_f_res_75768;\n        \n        eta_p_75766 = ((__global double *) mem_91303)[index_primexp_61906 * dim_54946 + gtid_75764];\n        eta_p_75767 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_75764];\n        defunc_0_f_res_75768 = eta_p_75766 - eta_p_75767;\n        ((__global double *) mem_91445)[gtid_75764] = defunc_0_f_res_75768;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75761\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75785_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75785(__global int *global_failure, int64_t dim_54946, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_91445)\n{\n    #define segmap_tblock_sizze_75781 (calc_local_Skyline_GFUR_doublezisegmap_75785zisegmap_tblock_sizze_75781)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96671;\n    int32_t tblock_sizze_96674;\n    int32_t wave_sizze_96673;\n    int32_t block_id_96672;\n    int32_t global_tid_96670;\n    int64_t phys_tid_75785;\n    int64_t global_tid_96675;\n    int64_t slice_96676;\n    int64_t gtid_75784;\n    int64_t remnant_96677;\n    \n    local_tid_96671 = get_local_id(0);\n    tblock_sizze_96674 = get_local_size(0);\n    wave_sizze_96673 = LOCKSTEP_WIDTH;\n    block_id_96672 = get_tblock_id(0);\n    global_tid_96670 = block_id_96672 * tblock_sizze_96674 + local_tid_96671;\n    phys_tid_75785 = sext_i32_i64(global_tid_96670);\n    global_tid_96675 = sext_i32_i64(block_id_96672) * segmap_tblock_sizze_75781 + sext_i32_i64(local_tid_96671);\n    slice_96676 = dim_54946;\n    gtid_75784 = global_tid_96675;\n    remnant_96677 = global_tid_96675 - gtid_75784;\n    if (slt64(gtid_75784, dim_54946)) {\n        double eta_p_75786;\n        double eta_p_75787;\n        double defunc_0_f_res_75788;\n        \n        eta_p_75786 = ((__global double *) mem_91445)[gtid_75784];\n        eta_p_75787 = ((__globa", "l double *) grid_part_sizze_per_dim_mem_90816)[gtid_75784];\n        defunc_0_f_res_75788 = eta_p_75786 / eta_p_75787;\n        ((__global double *) mem_91445)[gtid_75784] = defunc_0_f_res_75788;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75781\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75805_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75805(__global int *global_failure, int64_t dim_54946, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_91490, __global unsigned char *mem_91493)\n{\n    #define segmap_tblock_sizze_75801 (calc_local_Skyline_GFUR_doublezisegmap_75805zisegmap_tblock_sizze_75801)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96779;\n    int32_t tblock_sizze_96782;\n    int32_t wave_sizze_96781;\n    int32_t block_id_96780;\n    int32_t global_tid_96778;\n    int64_t phys_tid_75805;\n    int64_t global_tid_96783;\n    int64_t slice_96784;\n    int64_t gtid_75804;\n    int64_t remnant_96785;\n    \n    local_tid_96779 = get_local_id(0);\n    tblock_sizze_96782 = get_local_size(0);\n    wave_sizze_96781 = LOCKSTEP_WIDTH;\n    block_id_96780 = get_tblock_id(0);\n    global_tid_96778 = block_id_96780 * tblock_sizze_96782 + local_tid_96779;\n    phys_tid_75805 = sext_i32_i64(global_tid_96778);\n    global_tid_96783 = sext_i32_i64(block_id_96780) * segmap_tblock_sizze_75801 + sext_i32_i64(local_tid_96779);\n    slice_96784 = dim_54946;\n    gtid_75804 = global_tid_96783;\n    remnant_96785 = global_tid_96783 - gtid_75804;\n    if (slt64(gtid_75804, dim_54946)) {\n        int64_t eta_p_75806;\n        int64_t eta_p_75807;\n        int64_t defunc_0_f_res_75808;\n        \n        eta_p_75806 = ((__global int64_t *) ext_mem_91490)[gtid_75804];\n        eta_p_75807 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_75804];\n        defunc_0_f_res_75808 = mul64(eta_p_75806, eta_p_75807);\n        ((__global int64_t *) mem_91493)[gtid_75804] = defunc_0_f_res_75808;\n    }\n",
                                    "    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75801\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75825_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75825(__global int *global_failure, int64_t dim_54946, int64_t index_primexp_61906, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_91303, __global unsigned char *ext_mem_91500, __global unsigned char *mem_91520)\n{\n    #define segmap_tblock_sizze_75821 (calc_local_Skyline_GFUR_doublezisegmap_75825zisegmap_tblock_sizze_75821)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96803;\n    int32_t tblock_sizze_96806;\n    int32_t wave_sizze_96805;\n    int32_t block_id_96804;\n    int32_t global_tid_96802;\n    int64_t phys_tid_75825;\n    int64_t global_tid_96807;\n    int64_t slice_96808;\n    int64_t gtid_75824;\n    int64_t remnant_96809;\n    \n    local_tid_96803 = get_local_id(0);\n    tblock_sizze_96806 = get_local_size(0);\n    wave_sizze_96805 = LOCKSTEP_WIDTH;\n    block_id_96804 = get_tblock_id(0);\n    global_tid_96802 = block_id_96804 * tblock_sizze_96806 + local_tid_96803;\n    phys_tid_75825 = sext_i32_i64(global_tid_96802);\n    global_tid_96807 = sext_i32_i64(block_id_96804) * segmap_tblock_sizze_75821 + sext_i32_i64(local_tid_96803);\n    slice_96808 = dim_54946;\n    gtid_75824 = global_tid_96807;\n    remnant_96809 = global_tid_96807 - gtid_75824;\n    if (slt64(gtid_75824, dim_54946)) {\n        int64_t defunc_0_foldl_res_90645;\n        double eta_p_75826;\n        double eta_p_75827;\n        double defunc_0_f_res_75828;\n        \n        defunc_0_foldl_res_90645 = ((__global int64_t *) ext_mem_91500)[(int64_t) 0];\n        eta_p_75826 = ((__global double *) mem_91303)[index_primexp_61906 * dim_54946 + gtid_75824];\n        eta_p_75827 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_90645 * dim_54946 + gtid_75824];\n        defunc_0_f_res_75828 = eta_p_75826 - eta_p_75827;\n        ((__global double *", ") mem_91520)[gtid_75824] = defunc_0_f_res_75828;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75821\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75844_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75844(__global int *global_failure, int64_t map_arg1_62007, int64_t j_m_i_62008, __global unsigned char *ext_mem_91534, __global unsigned char *mem_91540)\n{\n    #define segmap_tblock_sizze_75840 (calc_local_Skyline_GFUR_doublezisegmap_75844zisegmap_tblock_sizze_75840)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96840;\n    int32_t tblock_sizze_96843;\n    int32_t wave_sizze_96842;\n    int32_t block_id_96841;\n    int32_t global_tid_96839;\n    int64_t phys_tid_75844;\n    int64_t global_tid_96844;\n    int64_t slice_96845;\n    int64_t gtid_75843;\n    int64_t remnant_96846;\n    \n    local_tid_96840 = get_local_id(0);\n    tblock_sizze_96843 = get_local_size(0);\n    wave_sizze_96842 = LOCKSTEP_WIDTH;\n    block_id_96841 = get_tblock_id(0);\n    global_tid_96839 = block_id_96841 * tblock_sizze_96843 + local_tid_96840;\n    phys_tid_75844 = sext_i32_i64(global_tid_96839);\n    global_tid_96844 = sext_i32_i64(block_id_96841) * segmap_tblock_sizze_75840 + sext_i32_i64(local_tid_96840);\n    slice_96845 = j_m_i_62008;\n    gtid_75843 = global_tid_96844;\n    remnant_96846 = global_tid_96844 - gtid_75843;\n    if (slt64(gtid_75843, j_m_i_62008)) {\n        int64_t slice_90270;\n        double eta_p_75845;\n        double lifted_lambda_res_75846;\n        \n        slice_90270 = map_arg1_62007 + gtid_75843;\n        eta_p_75845 = ((__global double *) ext_mem_91534)[slice_90270];\n        lifted_lambda_res_75846 = eta_p_75845 * eta_p_75845;\n        ((__global double *) mem_91540)[gtid_75843] = lifted_lambda_res_75846;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75840\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75865_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75865(__global int *", "global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_61323, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *mem_91502, __global unsigned char *ext_mem_91515, __global unsigned char *mem_91554)\n{\n    #define segmap_tblock_sizze_75861 (calc_local_Skyline_GFUR_doublezisegmap_75865zisegmap_tblock_sizze_75861)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96863;\n    int32_t tblock_sizze_96866;\n    int32_t wave_sizze_96865;\n    int32_t block_id_96864;\n    int32_t global_tid_96862;\n    int64_t phys_tid_75865;\n    int64_t global_tid_96867;\n    int64_t slice_96868;\n    int64_t gtid_75864;\n    int64_t remnant_96869;\n    \n    local_tid_96863 = get_local_id(0);\n    tblock_sizze_96866 = get_local_size(0);\n    wave_sizze_96865 = LOCKSTEP_WIDTH;\n    block_id_96864 = get_tblock_id(0);\n    global_tid_96862 = block_id_96864 * tblock_sizze_96866 + local_tid_96863;\n    phys_tid_75865 = sext_i32_i64(global_tid_96862);\n    global_tid_96867 = sext_i32_i64(block_id_96864) * segmap_tblock_sizze_75861 + sext_i32_i64(local_tid_96863);\n    slice_96868 = arg_61323;\n    gtid_75864 = global_tid_96867;\n    remnant_96869 = global_tid_96867 - gtid_75864;\n    if (slt64(gtid_75864, arg_61323)) {\n        double eta_p_75866;\n        double eta_p_75867;\n        int64_t eta_p_75868;\n        int64_t eta_p_75869;\n        int64_t defunc_0_f_res_75870;\n        \n        eta_p_75866 = ((__global double *) mem_91502)[gtid_75864];\n        eta_p_75867 = ((__global double *) ext_mem_91515)[gtid_75864];\n        eta_p_75868 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_75864];\n        eta_p_75869 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_75864];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_75870, eta_p_75866, eta_p_75867, eta_p_75868, eta_p_75",
                                    "869);\n        ((__global int64_t *) mem_91554)[gtid_75864] = defunc_0_f_res_75870;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75861\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_75913_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_75913(__global int *global_failure, int64_t total_part_no_54960, __global unsigned char *mem_91574, __global unsigned char *mem_91577)\n{\n    #define segmap_tblock_sizze_75909 (calc_local_Skyline_GFUR_doublezisegmap_75913zisegmap_tblock_sizze_75909)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97149;\n    int32_t tblock_sizze_97152;\n    int32_t wave_sizze_97151;\n    int32_t block_id_97150;\n    int32_t global_tid_97148;\n    int64_t phys_tid_75913;\n    int64_t global_tid_97153;\n    int64_t slice_97154;\n    int64_t gtid_75912;\n    int64_t remnant_97155;\n    \n    local_tid_97149 = get_local_id(0);\n    tblock_sizze_97152 = get_local_size(0);\n    wave_sizze_97151 = LOCKSTEP_WIDTH;\n    block_id_97150 = get_tblock_id(0);\n    global_tid_97148 = block_id_97150 * tblock_sizze_97152 + local_tid_97149;\n    phys_tid_75913 = sext_i32_i64(global_tid_97148);\n    global_tid_97153 = sext_i32_i64(block_id_97150) * segmap_tblock_sizze_75909 + sext_i32_i64(local_tid_97149);\n    slice_97154 = total_part_no_54960;\n    gtid_75912 = global_tid_97153;\n    remnant_97155 = global_tid_97153 - gtid_75912;\n    if (slt64(gtid_75912, total_part_no_54960)) {\n        int64_t zv_lhs_75915;\n        int64_t tmp_75916;\n        bool cond_75918;\n        int64_t lifted_lambda_res_75919;\n        \n        zv_lhs_75915 = add64((int64_t) -1, gtid_75912);\n        tmp_75916 = smod64(zv_lhs_75915, total_part_no_54960);\n        cond_75918 = gtid_75912 == (int64_t) 0;\n        if (cond_75918) {\n            lifted_lambda_res_75919 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_75917 = ((__global int64_t *) mem_91574)[tmp_75916];\n            \n            lifted_lambda_res_75919 = lifted_lambda_res_7", "5917;\n        }\n        ((__global int64_t *) mem_91577)[gtid_75912] = lifted_lambda_res_75919;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_75909\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, unsigned char cond_61364_bits, int64_t binop_x_90846, int64_t maxSubHelper_95380, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xys_mem_90821, __global unsigned char *mem_90834, __global unsigned char *mem_91085)\n{\n    bool cond_61364 = cond_61364_bits;\n    volatile __local unsigned char *color_95385_backing_4 = &shared_mem[0];\n    const int64_t color_95385_backing_4_offset = 0 + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95384_backing_3 = &shared_mem[color_95385_backing_4_offset];\n    const int64_t color_95384_backing_3_offset = color_95385_backing_4_offset + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95383_backing_2 = &shared_mem[color_95384_backing_3_offset];\n    const int64_t color_95383_backing_2_offset = color_95384_backing_3_offset + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95382_backing_1 = &shared_mem[color_95383_backing_2_offset];\n    const int64_t color_95382_backing_1_offset = color_95383_backing_2_offset + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95381_backing_0 = &shared_mem[color_95382_backing_1_offset];\n    const int64_t color_95381_backing_0_offset = colo", "r_95382_backing_1_offset + (maxSubHelper_95380 + srem64((int64_t) 8 - srem64(maxSubHelper_95380, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_95882;\n    int32_t tblock_sizze_95885;\n    int32_t wave_sizze_95884;\n    int32_t block_id_95883;\n    int32_t global_tid_95881;\n    int64_t phys_tblock_id_74974;\n    int64_t slice_95887;\n    int64_t ltid_pre_95886;\n    int64_t remnant_95888;\n    int64_t slice_95889;\n    int64_t gtid_74973;\n    int64_t remnant_95890;\n    __local unsigned char *color_95381;\n    __local unsigned char *color_95382;\n    __local unsigned char *color_95383;\n    __local unsigned char *color_95384;\n    __local unsigned char *color_95385;\n    int64_t min_arg1_90466;\n    __local unsigned char *ext_mem_91074;\n    int64_t f_arg0_75021;\n    int64_t min_res_75022;\n    int64_t rep_i_95898;\n    \n    local_tid_95882 = get_local_id(0);\n    tblock_sizze_95885 = get_local_size(0);\n    wave_sizze_95884 = LOCKSTEP_WIDTH;\n    block_id_95883 = get_tblock_id(0);\n    global_tid_95881 = block_id_95883 * tblock_sizze_95885 + local_tid_95882;\n    phys_tblock_id_74974 = sext_i32_i64(block_id_95883);\n    slice_95887 = dim_54946;\n    ltid_pre_95886 = sext_i32_i64(local_tid_95882);\n    remnant_95888 = sext_i32_i64(local_tid_95882) - ltid_pre_95886;\n    slice_95889 = dz2083U_54951;\n    gtid_74973 = sext_i32_i64(block_id_95883);\n    remnant_95890 = sext_i32_i64(block_id_95883) - gtid_74973;\n    color_95381 = (__local unsigned char *) color_95381_backing_0;\n    color_95382 = (__local unsigned char *) color_95382_backing_1;\n    color_95383 = (__local unsigned char *) color_95383_backing_2;\n    color_95384 = (__local unsigned char *) color_95384_backing_3;\n    color_95385 = (__local unsigned char *) color_95385_backing_4;\n    min_arg1_90466 = (",
                                    "(__global int64_t *) mem_90834)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_61364) {\n        ext_mem_91074 = color_95382;\n    } else {\n        __local unsigned char *ext_mem_91061;\n        int64_t f_arg0_75007;\n        int64_t max_res_75008;\n        int64_t rep_i_95895;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_61364) {\n            ext_mem_91061 = color_95381;\n        } else {\n            int64_t phys_tid_74983;\n            int64_t gtid_74982;\n            double eta_p_74984;\n            double eta_p_74985;\n            double defunc_0_f_res_74986;\n            int64_t phys_tid_74989;\n            int64_t gtid_74988;\n            double eta_p_74990;\n            double eta_p_74991;\n            double defunc_0_f_res_74992;\n            double f_arg0_74993;\n            int64_t f64_res_74994;\n            int64_t rep_i_95892;\n            \n            phys_tid_74983 = sext_i32_i64(local_tid_95882);\n            gtid_74982 = sext_i32_i64(sext_i64_i32(ltid_pre_95886));\n            eta_p_74984 = ((__global double *) xys_mem_90821)[gtid_74973 * dim_54946 + gtid_74982];\n            eta_p_74985 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_74982];\n            defunc_0_f_res_74986 = eta_p_74984 - eta_p_74985;\n            ((__local double *) color_95385)[gtid_74982] = defunc_0_f_res_74986;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            phys_tid_74989 = sext_i32_i64(local_tid_95882);\n            gtid_74988 = sext_i32_i64(sext_i64_i32(ltid_pre_95886));\n            eta_p_74990 = ((__local double *) color_95385)[gtid_74988];\n            eta_p_74991 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_74988];\n            defunc_0_f_res_74992 = eta_p_74990 / eta_p_74991;\n            ((__local double *) color_95385)[gtid_74988] = defunc_0_f_res_74992;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            f_arg0_74993 = ((__local double *) color_95385)[(int64_t) 0];\n            f64_res_74994 = fptosi_f64_i64(f_arg0_74993);", "\n            rep_i_95892 = sext_i32_i64(sext_i64_i32(ltid_pre_95886));\n            ((__local int64_t *) color_95384)[rep_i_95892] = f64_res_74994;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_74997 = 0; i_74997 < arg_61323; i_74997++) {\n                int64_t index_primexp_74999;\n                bool x_75000;\n                bool y_75001;\n                bool bounds_check_75002;\n                bool index_certs_75003;\n                double f_arg0_75004;\n                int64_t f64_res_75005;\n                \n                index_primexp_74999 = add64((int64_t) 1, i_74997);\n                x_75000 = sle64((int64_t) 0, index_primexp_74999);\n                y_75001 = slt64(index_primexp_74999, dim_54946);\n                bounds_check_75002 = x_75000 && y_75001;\n                if (!bounds_check_75002) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 1) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74999;\n                            global_failure_args[1] = (int64_t) dim_54946;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_75004 = ((__local double *) color_95385)[index_primexp_74999];\n                f64_res_75005 = fptosi_f64_i64(f_arg0_75004);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_95882 == 0) {\n                    ((__local int64_t *) color_95384)[index_primexp_74999] = f64_res_75005;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_91061 = color_95384;\n        }\n        f_arg0_75007 = ((__local int64_t *) ext_mem_91061)[(int64_t) 0];\n        max_res_75008 = smax64((int64_t) 0, f_arg0_75007);\n        rep_i_95895 = sext_i32_i64(sext_i64_i32(ltid_pre_95886));\n        ((__local i", "nt64_t *) color_95383)[rep_i_95895] = max_res_75008;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_75011 = 0; i_75011 < arg_61323; i_75011++) {\n            int64_t index_primexp_75013;\n            bool x_75014;\n            bool y_75015;\n            bool bounds_check_75016;\n            bool index_certs_75017;\n            int64_t f_arg0_75018;\n            int64_t max_res_75019;\n            \n            index_primexp_75013 = add64((int64_t) 1, i_75011);\n            x_75014 = sle64((int64_t) 0, index_primexp_75013);\n            y_75015 = slt64(index_primexp_75013, dim_54946);\n            bounds_check_75016 = x_75014 && y_75015;\n            if (!bounds_check_75016) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 2) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_75013;\n                        global_failure_args[1] = (int64_t) dim_54946;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_75018 = ((__local int64_t *) ext_mem_91061)[index_primexp_75013];\n            max_res_75019 = smax64((int64_t) 0, f_arg0_75018);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_95882 == 0) {\n                ((__local int64_t *) color_95383)[index_primexp_75013] = max_res_75019;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91074 = color_95383;\n    }\n    f_arg0_75021 = ((__local int64_t *) ext_mem_91074)[(int64_t) 0];\n    min_res_75022 = smin64(f_arg0_75021, min_arg1_90466);\n    rep_i_95898 = sext_i32_i64(sext_i64_i32(ltid_pre_95886));\n    ((__local int64_t *) color_95381)[rep_i_95898] = min_res_75022;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENC",
                                    "E);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_75025 = 0; i_75025 < arg_61323; i_75025++) {\n        int64_t index_primexp_75027;\n        bool x_75028;\n        bool y_75029;\n        bool bounds_check_75030;\n        bool index_certs_75031;\n        bool index_certs_75033;\n        int64_t f_arg0_75032;\n        int64_t zm_lhs_75034;\n        int64_t min_arg1_75035;\n        int64_t min_res_75036;\n        \n        index_primexp_75027 = add64((int64_t) 1, i_75025);\n        x_75028 = sle64((int64_t) 0, index_primexp_75027);\n        y_75029 = slt64(index_primexp_75027, dim_54946);\n        bounds_check_75030 = x_75028 && y_75029;\n        if (!bounds_check_75030) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 3) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_75027;\n                    global_failure_args[1] = (int64_t) dim_54946;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_75030) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 4) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_75027;\n                    global_failure_args[1] = (int64_t) dim_54946;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_75032 = ((__local int64_t *) ext_mem_91074)[index_primexp_75027];\n        zm_lhs_75034 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_75027];\n        min_arg1_75035 = sub64(zm_lhs_75034, (int64_t) 1);\n        min_res_75036 = smin64(f_arg0_75032, min_arg1_75035);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_95882 == 0) {\n            ((__local int64_t *) color_95381)[index_primexp_75027] = min_res_75036;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__globa", "l int64_t *) mem_91085)[gtid_74973 * dim_54946 + sext_i32_i64(local_tid_95882)] = ((__local int64_t *) color_95381)[sext_i32_i64(local_tid_95882)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, unsigned char cond_61364_bits, int64_t binop_x_90846, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xys_mem_90821, __global unsigned char *mem_90988)\n{\n    bool cond_61364 = cond_61364_bits;\n    volatile __local unsigned char *color_95388_backing_2 = &shared_mem[0];\n    const int64_t color_95388_backing_2_offset = 0 + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95387_backing_1 = &shared_mem[color_95388_backing_2_offset];\n    const int64_t color_95387_backing_1_offset = color_95388_backing_2_offset + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95386_backing_0 = &shared_mem[color_95387_backing_1_offset];\n    const int64_t color_95386_backing_0_offset = color_95387_backing_1_offset + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_95903;\n    int32_t tblock_sizze_95906;\n    int32_t wave_sizze_95905;\n    int32_t block_id_95904;\n    int32_t global_tid_95902;\n    int64_t phys_tblock_id_75050;\n    int64_t slice_95908;\n    int64_t ltid_pre_95907;\n    int64_t remnant_95909;\n    int", "64_t slice_95910;\n    int64_t gtid_75049;\n    int64_t remnant_95911;\n    __local unsigned char *color_95386;\n    __local unsigned char *color_95387;\n    __local unsigned char *color_95388;\n    __local unsigned char *ext_mem_90977;\n    int64_t f_arg0_75081;\n    int64_t max_res_75082;\n    int64_t rep_i_95916;\n    \n    local_tid_95903 = get_local_id(0);\n    tblock_sizze_95906 = get_local_size(0);\n    wave_sizze_95905 = LOCKSTEP_WIDTH;\n    block_id_95904 = get_tblock_id(0);\n    global_tid_95902 = block_id_95904 * tblock_sizze_95906 + local_tid_95903;\n    phys_tblock_id_75050 = sext_i32_i64(block_id_95904);\n    slice_95908 = dim_54946;\n    ltid_pre_95907 = sext_i32_i64(local_tid_95903);\n    remnant_95909 = sext_i32_i64(local_tid_95903) - ltid_pre_95907;\n    slice_95910 = dz2083U_54951;\n    gtid_75049 = sext_i32_i64(block_id_95904);\n    remnant_95911 = sext_i32_i64(block_id_95904) - gtid_75049;\n    color_95386 = (__local unsigned char *) color_95386_backing_0;\n    color_95387 = (__local unsigned char *) color_95387_backing_1;\n    color_95388 = (__local unsigned char *) color_95388_backing_2;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_61364) {\n        ext_mem_90977 = color_95387;\n    } else {\n        int64_t phys_tid_75057;\n        int64_t gtid_75056;\n        double eta_p_75058;\n        double eta_p_75059;\n        double defunc_0_f_res_75060;\n        int64_t phys_tid_75063;\n        int64_t gtid_75062;\n        double eta_p_75064;\n        double eta_p_75065;\n        double defunc_0_f_res_75066;\n        double f_arg0_75067;\n        int64_t f64_res_75068;\n        int64_t rep_i_95913;\n        \n        phys_tid_75057 = sext_i32_i64(local_tid_95903);\n        gtid_75056 = sext_i32_i64(sext_i64_i32(ltid_pre_95907));\n        eta_p_75058 = ((__global double *) xys_mem_90821)[gtid_75049 * dim_54946 + gtid_75056];\n        eta_p_75059 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_75056];\n        defunc_0_f_res_75060 = eta_p_75058 - eta_p_75059;\n        ((__local dou",
                                    "ble *) color_95386)[gtid_75056] = defunc_0_f_res_75060;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_75063 = sext_i32_i64(local_tid_95903);\n        gtid_75062 = sext_i32_i64(sext_i64_i32(ltid_pre_95907));\n        eta_p_75064 = ((__local double *) color_95386)[gtid_75062];\n        eta_p_75065 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_75062];\n        defunc_0_f_res_75066 = eta_p_75064 / eta_p_75065;\n        ((__local double *) color_95386)[gtid_75062] = defunc_0_f_res_75066;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        f_arg0_75067 = ((__local double *) color_95386)[(int64_t) 0];\n        f64_res_75068 = fptosi_f64_i64(f_arg0_75067);\n        rep_i_95913 = sext_i32_i64(sext_i64_i32(ltid_pre_95907));\n        ((__local int64_t *) color_95388)[rep_i_95913] = f64_res_75068;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_75071 = 0; i_75071 < arg_61323; i_75071++) {\n            int64_t index_primexp_75073;\n            bool x_75074;\n            bool y_75075;\n            bool bounds_check_75076;\n            bool index_certs_75077;\n            double f_arg0_75078;\n            int64_t f64_res_75079;\n            \n            index_primexp_75073 = add64((int64_t) 1, i_75071);\n            x_75074 = sle64((int64_t) 0, index_primexp_75073);\n            y_75075 = slt64(index_primexp_75073, dim_54946);\n            bounds_check_75076 = x_75074 && y_75075;\n            if (!bounds_check_75076) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 5) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_75073;\n                        global_failure_args[1] = (int64_t) dim_54946;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_75078 = ((__local double *) color_95386)[index_primexp_75073];\n            f64_res_75079 = fptosi_f", "64_i64(f_arg0_75078);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_95903 == 0) {\n                ((__local int64_t *) color_95388)[index_primexp_75073] = f64_res_75079;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_90977 = color_95388;\n    }\n    f_arg0_75081 = ((__local int64_t *) ext_mem_90977)[(int64_t) 0];\n    max_res_75082 = smax64((int64_t) 0, f_arg0_75081);\n    rep_i_95916 = sext_i32_i64(sext_i64_i32(ltid_pre_95907));\n    ((__local int64_t *) color_95386)[rep_i_95916] = max_res_75082;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_75085 = 0; i_75085 < arg_61323; i_75085++) {\n        int64_t index_primexp_75087;\n        bool x_75088;\n        bool y_75089;\n        bool bounds_check_75090;\n        bool index_certs_75091;\n        int64_t f_arg0_75092;\n        int64_t max_res_75093;\n        \n        index_primexp_75087 = add64((int64_t) 1, i_75085);\n        x_75088 = sle64((int64_t) 0, index_primexp_75087);\n        y_75089 = slt64(index_primexp_75087, dim_54946);\n        bounds_check_75090 = x_75088 && y_75089;\n        if (!bounds_check_75090) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 6) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_75087;\n                    global_failure_args[1] = (int64_t) dim_54946;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_75092 = ((__local int64_t *) ext_mem_90977)[index_primexp_75087];\n        max_res_75093 = smax64((int64_t) 0, f_arg0_75092);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_95903 == 0) {\n            ((__local int64_t *) color_95386)[index_primexp_75087] = max_res_75093;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_9098", "8)[gtid_75049 * dim_54946 + sext_i32_i64(local_tid_95903)] = ((__local int64_t *) color_95386)[sext_i32_i64(local_tid_95903)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54946, int64_t dz2083U_54951, int64_t arg_61323, int64_t binop_x_90846, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xys_mem_90821, __global unsigned char *mem_90904)\n{\n    volatile __local unsigned char *color_95390_backing_1 = &shared_mem[0];\n    const int64_t color_95390_backing_1_offset = 0 + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95389_backing_0 = &shared_mem[color_95390_backing_1_offset];\n    const int64_t color_95389_backing_0_offset = color_95390_backing_1_offset + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_95921;\n    int32_t tblock_sizze_95924;\n    int32_t wave_sizze_95923;\n    int32_t block_id_95922;\n    int32_t global_tid_95920;\n    int64_t phys_tblock_id_75107;\n    int64_t slice_95926;\n    int64_t ltid_pre_95925;\n    int64_t remnant_95927;\n    int64_t slice_95928;\n    int64_t gtid_75106;\n    int64_t remnant_95929;\n    __local unsigned char *color_95389;\n    __local unsigned char *color_95390;\n    int64_t phys_tid_75112;\n    int64_t gtid_75111;\n    double eta_p_75113;\n    double eta_p_75114;\n    double defunc_0_f_res_75115;\n    int64_t phys_tid_75118;\n    int64_t gtid_75117;\n    double eta_p_75119;\n    d",
                                    "ouble eta_p_75120;\n    double defunc_0_f_res_75121;\n    double f_arg0_75122;\n    int64_t f64_res_75123;\n    int64_t rep_i_95931;\n    \n    local_tid_95921 = get_local_id(0);\n    tblock_sizze_95924 = get_local_size(0);\n    wave_sizze_95923 = LOCKSTEP_WIDTH;\n    block_id_95922 = get_tblock_id(0);\n    global_tid_95920 = block_id_95922 * tblock_sizze_95924 + local_tid_95921;\n    phys_tblock_id_75107 = sext_i32_i64(block_id_95922);\n    slice_95926 = dim_54946;\n    ltid_pre_95925 = sext_i32_i64(local_tid_95921);\n    remnant_95927 = sext_i32_i64(local_tid_95921) - ltid_pre_95925;\n    slice_95928 = dz2083U_54951;\n    gtid_75106 = sext_i32_i64(block_id_95922);\n    remnant_95929 = sext_i32_i64(block_id_95922) - gtid_75106;\n    color_95389 = (__local unsigned char *) color_95389_backing_0;\n    color_95390 = (__local unsigned char *) color_95390_backing_1;\n    phys_tid_75112 = sext_i32_i64(local_tid_95921);\n    gtid_75111 = sext_i32_i64(sext_i64_i32(ltid_pre_95925));\n    eta_p_75113 = ((__global double *) xys_mem_90821)[gtid_75106 * dim_54946 + gtid_75111];\n    eta_p_75114 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_75111];\n    defunc_0_f_res_75115 = eta_p_75113 - eta_p_75114;\n    ((__local double *) color_95390)[gtid_75111] = defunc_0_f_res_75115;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_75118 = sext_i32_i64(local_tid_95921);\n    gtid_75117 = sext_i32_i64(sext_i64_i32(ltid_pre_95925));\n    eta_p_75119 = ((__local double *) color_95390)[gtid_75117];\n    eta_p_75120 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_75117];\n    defunc_0_f_res_75121 = eta_p_75119 / eta_p_75120;\n    ((__local double *) color_95390)[gtid_75117] = defunc_0_f_res_75121;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    f_arg0_75122 = ((__local double *) color_95390)[(int64_t) 0];\n    f64_res_75123 = fptosi_f64_i64(f_arg0_75122);\n    rep_i_95931 = sext_i32_i64(sext_i64_i32(ltid_pre_95925));\n    ((__local int64_t *) color_95389)[rep_i_95931] = f64_res_75123;\n    barrier(CLK_LOCA", "L_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_75126 = 0; i_75126 < arg_61323; i_75126++) {\n        int64_t index_primexp_75128;\n        bool x_75129;\n        bool y_75130;\n        bool bounds_check_75131;\n        bool index_certs_75132;\n        double f_arg0_75133;\n        int64_t f64_res_75134;\n        \n        index_primexp_75128 = add64((int64_t) 1, i_75126);\n        x_75129 = sle64((int64_t) 0, index_primexp_75128);\n        y_75130 = slt64(index_primexp_75128, dim_54946);\n        bounds_check_75131 = x_75129 && y_75130;\n        if (!bounds_check_75131) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 7) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_75128;\n                    global_failure_args[1] = (int64_t) dim_54946;\n                    ;\n                }\n                local_failure = 1;\n                goto error_3;\n            }\n        }\n        f_arg0_75133 = ((__local double *) color_95390)[index_primexp_75128];\n        f64_res_75134 = fptosi_f64_i64(f_arg0_75133);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_95921 == 0) {\n            ((__local int64_t *) color_95389)[index_primexp_75128] = f64_res_75134;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_90904)[gtid_75106 * dim_54946 + sext_i32_i64(local_tid_95921)] = ((__local int64_t *) color_95389)[sext_i32_i64(local_tid_95921)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_large_96971_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_large_96971(__global int *global_failure, int64_t total_part_no_54960, int64_t num_tblocks_75875, int64_t num_subhistos_96885, int64_t blocks_per_segment_97002, int64_t q_97003, int64_t num_virtblocks_97004, int64_t threads_per_segment_97005, __global unsigned char *mem_90833, __global unsigned char *defunc_0_map_res_subhistos_mem_96886, __global unsig", "ned char *segred_tmp_mem_97006, __global unsigned char *counters_mem_97008)\n{\n    #define seghist_tblock_sizze_75873 (calc_local_Skyline_GFUR_doublezisegred_large_96971ziseghist_tblock_sizze_75873)\n    #define chunk_sizze_96972 (calc_local_Skyline_GFUR_doublezisegred_large_96971zichunk_sizze_96972)\n    \n    volatile __local unsigned char *sync_arr_mem_97017_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_97017_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_97015_backing_0 = &shared_mem[sync_arr_mem_97017_backing_1_offset];\n    const int64_t red_arr_i64_mem_97015_backing_0_offset = sync_arr_mem_97017_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_75873 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_75873, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97011;\n    int32_t tblock_sizze_97014;\n    int32_t wave_sizze_97013;\n    int32_t block_id_97012;\n    int32_t global_tid_97010;\n    int64_t flat_gtid_96971;\n    __local unsigned char *red_arr_i64_mem_97015;\n    __local unsigned char *sync_arr_mem_97017;\n    int32_t phys_tblock_id_97019;\n    int32_t iterations_97020;\n    \n    local_tid_97011 = get_local_id(0);\n    tblock_sizze_97014 = get_local_size(0);\n    wave_sizze_97013 = LOCKSTEP_WIDTH;\n    block_id_97012 = get_tblock_id(0);\n    global_tid_97010 = block_id_97012 * tblock_sizze_97014 + local_tid_97011;\n    flat_gtid_96971 = sext_i32_i64(global_tid_97010);\n    red_arr_i64_mem_97015 = (__local unsigned char *) red_arr_i64_mem_97015_backing_0;\n    sync_arr_mem_97017 = (__local unsigned char *) sync_arr_mem_97017_backing_1;\n    phys_tblock_id_97019 = get_tblock_id(0);\n    iterations_97020 = sdiv_up32(sext_i64_i32(num_virtblocks_97004) - phys_tblock_id_97019, sext_i64_i32(num_tblocks_75875));\n    for (int32_t i_97021 = 0; i_97021 < iterations_97020; i_97021++) {\n        int32_t virt_tblock_id_97022;\n        int64_t flat_segment_id_97023;\n        i",
                                    "nt64_t global_tid_97024;\n        int64_t slice_97025;\n        int64_t bucket_id_96969;\n        int64_t remnant_97026;\n        int64_t subhistogram_id_96970;\n        int64_t eta_p_block_res_acc_97027;\n        int64_t eta_p_75881;\n        int64_t eta_p_75882;\n        int64_t tblock_id_in_segment_97031;\n        int64_t block_base_offset_97032;\n        int32_t offset_97035;\n        int32_t skip_waves_97036;\n        int64_t eta_p_97028;\n        int64_t eta_p_97029;\n        \n        virt_tblock_id_97022 = phys_tblock_id_97019 + i_97021 * sext_i64_i32(num_tblocks_75875);\n        flat_segment_id_97023 = squot64(sext_i32_i64(virt_tblock_id_97022), blocks_per_segment_97002);\n        global_tid_97024 = srem64(sext_i32_i64(virt_tblock_id_97022) * seghist_tblock_sizze_75873 + sext_i32_i64(local_tid_97011), threads_per_segment_97005);\n        slice_97025 = total_part_no_54960;\n        bucket_id_96969 = flat_segment_id_97023;\n        remnant_97026 = flat_segment_id_97023 - bucket_id_96969;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_97027 = (int64_t) 0;\n        }\n        tblock_id_in_segment_97031 = squot64(global_tid_97024, seghist_tblock_sizze_75873);\n        block_base_offset_97032 = tblock_id_in_segment_97031 * q_97003 * seghist_tblock_sizze_75873;\n        for (int64_t i_97033 = 0; i_97033 < q_97003; i_97033++) {\n            int64_t block_offset_97034 = block_base_offset_97032 + i_97033 * seghist_tblock_sizze_75873;\n            \n            subhistogram_id_96970 = global_tid_97024 + threads_per_segment_97005 * i_97033;\n            if (slt64(subhistogram_id_96970, num_subhistos_96885)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_75881 = eta_p_block_res_acc_97027;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_75882 = ((__global int64_t *) de", "func_0_map_res_subhistos_mem_96886)[subhistogram_id_96970 * total_part_no_54960 + bucket_id_96969];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t defunc_0_op_res_75883 = add64(eta_p_75881, eta_p_75882);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_97027 = defunc_0_op_res_75883;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011)] = eta_p_block_res_acc_97027;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_97036 = 1;\n        offset_97035 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_97011, sext_i64_i32(seghist_tblock_sizze_75873))) {\n                eta_p_97028 = ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011 + offset_97035)];\n            }\n        }\n        offset_97035 = 1;\n        while (slt32(offset_97035, wave_sizze_97013)) {\n            if (slt32(local_tid_97011 + offset_97035, sext_i64_i32(seghist_tblock_sizze_75873)) && ((local_tid_97011 - squot32(local_tid_97011, wave_sizze_97013) * wave_sizze_97013) & (2 * offset_97035 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_97029 = ((volatile __local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011 + offset_97035)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_97030 = add64(eta_p_97028, eta_p_97029);\n                    \n                    eta_p_97028 = defunc_0_op_res_97030;\n                }\n                // write result of operation\n        ", "        {\n                    ((volatile __local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011)] = eta_p_97028;\n                }\n            }\n            offset_97035 *= 2;\n        }\n        while (slt32(skip_waves_97036, squot32(sext_i64_i32(seghist_tblock_sizze_75873) + wave_sizze_97013 - 1, wave_sizze_97013))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_97035 = skip_waves_97036 * wave_sizze_97013;\n            if (slt32(local_tid_97011 + offset_97035, sext_i64_i32(seghist_tblock_sizze_75873)) && ((local_tid_97011 - squot32(local_tid_97011, wave_sizze_97013) * wave_sizze_97013) == 0 && (squot32(local_tid_97011, wave_sizze_97013) & (2 * skip_waves_97036 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_97029 = ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011 + offset_97035)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_97030 = add64(eta_p_97028, eta_p_97029);\n                    \n                    eta_p_97028 = defunc_0_op_res_97030;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011)] = eta_p_97028;\n                }\n            }\n            skip_waves_97036 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_97011) == (int64_t) 0) {\n                eta_p_block_res_acc_97027 = eta_p_97028;\n            } else {\n                eta_p_block_res_acc_97027 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_97002 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_97011 == 0) {\n                    ((__global int64_t *)",
                                    " mem_90833)[bucket_id_96969] = eta_p_block_res_acc_97027;\n                }\n            }\n        } else {\n            int32_t old_counter_97037;\n            bool is_last_block_97038;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_97011 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_97006)[sext_i32_i64(virt_tblock_id_97022)] = eta_p_block_res_acc_97027;\n                    mem_fence_global();\n                    old_counter_97037 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97008)[srem64(flat_segment_id_97023, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_97017)[(int64_t) 0] = old_counter_97037 == sext_i64_i32(blocks_per_segment_97002 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_97038 = ((__local bool *) sync_arr_mem_97017)[(int64_t) 0];\n            if (is_last_block_97038) {\n                if (local_tid_97011 == 0) {\n                    old_counter_97037 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97008)[srem64(flat_segment_id_97023, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_97002));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_97039 = sdiv_up64(blocks_per_segment_97002, seghist_tblock_sizze_75873);\n                    \n                    eta_p_75881 = (int64_t) 0;\n                    for (int64_t i_97040 = 0; i_97040 < read_per_thread_97039; i_97040++) {\n                        int64_t block_res_id_97041 = sext_i32_i64(local_tid_97011) * read_per_thread_97039 + i_97040;\n                        int64_t index_of_block_res_97042 = flat_segment_id_97023 * blocks_per_segment_97002 + block_res_id_97041;\n                        \n                        if (slt64(block_res_id_97041, blocks_per_", "segment_97002)) {\n                            eta_p_75882 = ((__global int64_t *) segred_tmp_mem_97006)[index_of_block_res_97042];\n                            \n                            int64_t defunc_0_op_res_75883 = add64(eta_p_75881, eta_p_75882);\n                            \n                            eta_p_75881 = defunc_0_op_res_75883;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011)] = eta_p_75881;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_97043;\n                    int32_t skip_waves_97044 = 1;\n                    int64_t eta_p_97028;\n                    int64_t eta_p_97029;\n                    \n                    offset_97043 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_97011, sext_i64_i32(seghist_tblock_sizze_75873))) {\n                            eta_p_97028 = ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011 + offset_97043)];\n                        }\n                    }\n                    offset_97043 = 1;\n                    while (slt32(offset_97043, wave_sizze_97013)) {\n                        if (slt32(local_tid_97011 + offset_97043, sext_i64_i32(seghist_tblock_sizze_75873)) && ((local_tid_97011 - squot32(local_tid_97011, wave_sizze_97013) * wave_sizze_97013) & (2 * offset_97043 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_97029 = ((volatile __local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011 + offset_97043)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_97030 = add64(eta_p_97028, eta_p_9", "7029);\n                                \n                                eta_p_97028 = defunc_0_op_res_97030;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011)] = eta_p_97028;\n                            }\n                        }\n                        offset_97043 *= 2;\n                    }\n                    while (slt32(skip_waves_97044, squot32(sext_i64_i32(seghist_tblock_sizze_75873) + wave_sizze_97013 - 1, wave_sizze_97013))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_97043 = skip_waves_97044 * wave_sizze_97013;\n                        if (slt32(local_tid_97011 + offset_97043, sext_i64_i32(seghist_tblock_sizze_75873)) && ((local_tid_97011 - squot32(local_tid_97011, wave_sizze_97013) * wave_sizze_97013) == 0 && (squot32(local_tid_97011, wave_sizze_97013) & (2 * skip_waves_97044 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_97029 = ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011 + offset_97043)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_97030 = add64(eta_p_97028, eta_p_97029);\n                                \n                                eta_p_97028 = defunc_0_op_res_97030;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_97015)[sext_i32_i64(local_tid_97011)] = eta_p_97028;\n                            }\n                        }\n                        skip_waves_97044 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n              ",
                                    "      // and back to memory with the final result\n                    {\n                        if (local_tid_97011 == 0) {\n                            ((__global int64_t *) mem_90833)[bucket_id_96969] = eta_p_97028;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_75873\n    #undef chunk_sizze_96972\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_nonseg_73483_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_nonseg_73483(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2082U_54950, int64_t dz2083U_54951, int64_t zeze_rhs_61327, int64_t num_tblocks_73477, int64_t num_threads_95789, __global unsigned char *part_idx_mem_90820, __global unsigned char *mem_90824, __global unsigned char *mem_90826, __global unsigned char *counters_mem_95765, __global unsigned char *segred_tmp_mem_95787)\n{\n    #define segred_tblock_sizze_73475 (calc_local_Skyline_GFUR_doublezisegred_nonseg_73483zisegred_tblock_sizze_73475)\n    #define chunk_sizze_95764 (calc_local_Skyline_GFUR_doublezisegred_nonseg_73483zichunk_sizze_95764)\n    \n    volatile __local unsigned char *sync_arr_mem_95797_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_95797_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_95795_backing_0 = &shared_mem[sync_arr_mem_95797_backing_1_offset];\n    const int64_t red_arr_i64_mem_95795_backing_0_offset = sync_arr_mem_95797_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_73475 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_73475, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);", "\n    \n    int32_t local_tid_95791;\n    int32_t tblock_sizze_95794;\n    int32_t wave_sizze_95793;\n    int32_t block_id_95792;\n    int32_t global_tid_95790;\n    int64_t phys_tid_73483;\n    __local unsigned char *red_arr_i64_mem_95795;\n    __local unsigned char *sync_arr_mem_95797;\n    int64_t dummy_73481;\n    int64_t gtid_73482;\n    int64_t q_95799;\n    int64_t eta_p_block_res_acc_95800;\n    int64_t eta_p_61352;\n    int64_t eta_p_61353;\n    int64_t tblock_id_in_segment_95804;\n    int64_t block_base_offset_95805;\n    int32_t offset_95808;\n    int32_t skip_waves_95809;\n    int64_t eta_p_95801;\n    int64_t eta_p_95802;\n    int32_t old_counter_95810;\n    bool is_last_block_95811;\n    \n    local_tid_95791 = get_local_id(0);\n    tblock_sizze_95794 = get_local_size(0);\n    wave_sizze_95793 = LOCKSTEP_WIDTH;\n    block_id_95792 = get_tblock_id(0);\n    global_tid_95790 = block_id_95792 * tblock_sizze_95794 + local_tid_95791;\n    phys_tid_73483 = sext_i32_i64(global_tid_95790);\n    red_arr_i64_mem_95795 = (__local unsigned char *) red_arr_i64_mem_95795_backing_0;\n    sync_arr_mem_95797 = (__local unsigned char *) sync_arr_mem_95797_backing_1;\n    dummy_73481 = (int64_t) 0;\n    gtid_73482 = (int64_t) 0;\n    q_95799 = sdiv_up64(dz2082U_54950, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_73475 * num_tblocks_73477)) * chunk_sizze_95764);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_95800 = (int64_t) -9223372036854775808;\n    }\n    tblock_id_in_segment_95804 = squot64(phys_tid_73483, segred_tblock_sizze_73475);\n    block_base_offset_95805 = tblock_id_in_segment_95804 * q_95799 * segred_tblock_sizze_73475;\n    for (int64_t i_95806 = 0; i_95806 < q_95799; i_95806++) {\n        int64_t block_offset_95807 = block_base_offset_95805 + i_95806 * segred_tblock_sizze_73475;\n        \n        gtid_73482 = phys_tid_73483 + num_threads_95789 * i_95806;\n        if (slt64(gtid_73482, dz2082U_54950)) {\n            // apply map function(s)\n            {\n", "                // apply map function\n                {\n                    bool cond_69580 = gtid_73482 == zeze_rhs_61327;\n                    int64_t lifted_lambda_res_69581;\n                    \n                    if (cond_69580) {\n                        int64_t zm_rhs_70726 = ((__global int64_t *) part_idx_mem_90820)[gtid_73482];\n                        int64_t lifted_lambda_res_t_res_70727 = sub64(dz2083U_54951, zm_rhs_70726);\n                        \n                        lifted_lambda_res_69581 = lifted_lambda_res_t_res_70727;\n                    } else {\n                        int64_t zm_lhs_69588 = add64((int64_t) 1, gtid_73482);\n                        bool x_69589 = sle64((int64_t) 0, zm_lhs_69588);\n                        bool y_69590 = slt64(zm_lhs_69588, dz2082U_54950);\n                        bool bounds_check_69591 = x_69589 && y_69590;\n                        bool index_certs_69592;\n                        \n                        if (!bounds_check_69591) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 0) == -1) {\n                                    global_failure_args[0] = (int64_t) zm_lhs_69588;\n                                    global_failure_args[1] = (int64_t) dz2082U_54950;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t zm_lhs_69593 = ((__global int64_t *) part_idx_mem_90820)[zm_lhs_69588];\n                        int64_t zm_rhs_69598 = ((__global int64_t *) part_idx_mem_90820)[gtid_73482];\n                        int64_t lifted_lambda_res_f_res_69599 = sub64(zm_lhs_69593, zm_rhs_69598);\n                        \n                        lifted_lambda_res_69581 = lifted_lambda_res_f_res_69599;\n                    }\n                    // write",
                                    " map-out result(s)\n                    {\n                        ((__global int64_t *) mem_90826)[dummy_73481 * dz2082U_54950 + gtid_73482] = lifted_lambda_res_69581;\n                    }\n                    // load accumulator(s)\n                    {\n                        eta_p_61352 = eta_p_block_res_acc_95800;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_61353 = lifted_lambda_res_69581;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t max_res_61354 = smax64(eta_p_61352, eta_p_61353);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_95800 = max_res_61354;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791)] = eta_p_block_res_acc_95800;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_95809 = 1;\n    offset_95808 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_95791, sext_i64_i32(segred_tblock_sizze_73475))) {\n            eta_p_95801 = ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791 + offset_95808)];\n        }\n    }\n    offset_95808 = 1;\n    while (slt32(offset_95808, wave_sizze_95793)) {\n        if (slt32(local_tid_95791 + offset_95808, sext_i64_i32(segred_tblock_sizze_73475)) && ((local_tid_95791 - squot32(local_tid_95791, wave_sizze_95793) * wave_sizze_95793) & (2 * offset_95808 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_95802 = ((volatile __local int64_t *) red_arr_i64_mem_957", "95)[sext_i32_i64(local_tid_95791 + offset_95808)];\n            }\n            // apply reduction operation\n            {\n                int64_t max_res_95803 = smax64(eta_p_95801, eta_p_95802);\n                \n                eta_p_95801 = max_res_95803;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791)] = eta_p_95801;\n            }\n        }\n        offset_95808 *= 2;\n    }\n    while (slt32(skip_waves_95809, squot32(sext_i64_i32(segred_tblock_sizze_73475) + wave_sizze_95793 - 1, wave_sizze_95793))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_95808 = skip_waves_95809 * wave_sizze_95793;\n        if (slt32(local_tid_95791 + offset_95808, sext_i64_i32(segred_tblock_sizze_73475)) && ((local_tid_95791 - squot32(local_tid_95791, wave_sizze_95793) * wave_sizze_95793) == 0 && (squot32(local_tid_95791, wave_sizze_95793) & (2 * skip_waves_95809 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_95802 = ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791 + offset_95808)];\n            }\n            // apply reduction operation\n            {\n                int64_t max_res_95803 = smax64(eta_p_95801, eta_p_95802);\n                \n                eta_p_95801 = max_res_95803;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791)] = eta_p_95801;\n            }\n        }\n        skip_waves_95809 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_95791) == (int64_t) 0) {\n            eta_p_block_res_acc_95800 = eta_p_95801;\n        } else {\n            eta_p_block_res_acc_95800 = (int64_t) -9223372036854775808;\n        }\n    }\n    // first thread in block saves block result", " to global memory\n    {\n        if (local_tid_95791 == 0) {\n            ((__global int64_t *) segred_tmp_mem_95787)[sext_i32_i64(block_id_95792)] = eta_p_block_res_acc_95800;\n            mem_fence_global();\n            old_counter_95810 = atomic_add_i32_global(&((volatile __global int *) counters_mem_95765)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_95797)[(int64_t) 0] = old_counter_95810 == sext_i64_i32(num_tblocks_73477 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_95811 = ((__local bool *) sync_arr_mem_95797)[(int64_t) 0];\n    if (is_last_block_95811) {\n        if (local_tid_95791 == 0) {\n            old_counter_95810 = atomic_add_i32_global(&((volatile __global int *) counters_mem_95765)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_73477));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_95812 = sdiv_up64(num_tblocks_73477, segred_tblock_sizze_73475);\n            \n            eta_p_61352 = (int64_t) -9223372036854775808;\n            for (int64_t i_95813 = 0; i_95813 < read_per_thread_95812; i_95813++) {\n                int64_t block_res_id_95814 = sext_i32_i64(local_tid_95791) * read_per_thread_95812 + i_95813;\n                int64_t index_of_block_res_95815 = block_res_id_95814;\n                \n                if (slt64(block_res_id_95814, num_tblocks_73477)) {\n                    eta_p_61353 = ((__global int64_t *) segred_tmp_mem_95787)[index_of_block_res_95815];\n                    \n                    int64_t max_res_61354 = smax64(eta_p_61352, eta_p_61353);\n                    \n                    eta_p_61352 = max_res_61354;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791)] = eta_p_61352;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_95816;\n            int32_t skip_wa",
                                    "ves_95817 = 1;\n            int64_t eta_p_95801;\n            int64_t eta_p_95802;\n            \n            offset_95816 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_95791, sext_i64_i32(segred_tblock_sizze_73475))) {\n                    eta_p_95801 = ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791 + offset_95816)];\n                }\n            }\n            offset_95816 = 1;\n            while (slt32(offset_95816, wave_sizze_95793)) {\n                if (slt32(local_tid_95791 + offset_95816, sext_i64_i32(segred_tblock_sizze_73475)) && ((local_tid_95791 - squot32(local_tid_95791, wave_sizze_95793) * wave_sizze_95793) & (2 * offset_95816 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_95802 = ((volatile __local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791 + offset_95816)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t max_res_95803 = smax64(eta_p_95801, eta_p_95802);\n                        \n                        eta_p_95801 = max_res_95803;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791)] = eta_p_95801;\n                    }\n                }\n                offset_95816 *= 2;\n            }\n            while (slt32(skip_waves_95817, squot32(sext_i64_i32(segred_tblock_sizze_73475) + wave_sizze_95793 - 1, wave_sizze_95793))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_95816 = skip_waves_95817 * wave_sizze_95793;\n                if (slt32(local_tid_95791 + offset_95816, sext_i64_i32(segred_tblock_sizze_73475)) && ((local_tid_95791 - squot32(local_tid_95791, wave_sizze_95793) * wave_sizze_95793) == 0 && (squot32(local_tid_95791, wave_sizze_95793)", " & (2 * skip_waves_95817 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_95802 = ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791 + offset_95816)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t max_res_95803 = smax64(eta_p_95801, eta_p_95802);\n                        \n                        eta_p_95801 = max_res_95803;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_95795)[sext_i32_i64(local_tid_95791)] = eta_p_95801;\n                    }\n                }\n                skip_waves_95817 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_95791 == 0) {\n                    ((__global int64_t *) mem_90824)[(int64_t) 0] = eta_p_95801;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_73475\n    #undef chunk_sizze_95764\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_small_96971_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_small_96971(__global int *global_failure, int64_t total_part_no_54960, int64_t num_tblocks_75875, int64_t num_subhistos_96885, int64_t segment_sizze_nonzzero_96973, __global unsigned char *mem_90833, __global unsigned char *defunc_0_map_res_subhistos_mem_96886)\n{\n    #define seghist_tblock_sizze_75873 (calc_local_Skyline_GFUR_doublezisegred_small_96971ziseghist_tblock_sizze_75873)\n    \n    volatile __local unsigned char *red_arr_i64_mem_96980_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_96980_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_75873 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_75873, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_fai", "lure >= 0)\n        return;\n    \n    int32_t local_tid_96976;\n    int32_t tblock_sizze_96979;\n    int32_t wave_sizze_96978;\n    int32_t block_id_96977;\n    int32_t global_tid_96975;\n    int64_t flat_gtid_96971;\n    __local unsigned char *red_arr_i64_mem_96980;\n    int32_t phys_tblock_id_96982;\n    int32_t iterations_96983;\n    \n    local_tid_96976 = get_local_id(0);\n    tblock_sizze_96979 = get_local_size(0);\n    wave_sizze_96978 = LOCKSTEP_WIDTH;\n    block_id_96977 = get_tblock_id(0);\n    global_tid_96975 = block_id_96977 * tblock_sizze_96979 + local_tid_96976;\n    flat_gtid_96971 = sext_i32_i64(global_tid_96975);\n    red_arr_i64_mem_96980 = (__local unsigned char *) red_arr_i64_mem_96980_backing_0;\n    phys_tblock_id_96982 = get_tblock_id(0);\n    iterations_96983 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_54960, squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973))) - phys_tblock_id_96982, sext_i64_i32(num_tblocks_75875));\n    for (int32_t i_96984 = 0; i_96984 < iterations_96983; i_96984++) {\n        int32_t virt_tblock_id_96985;\n        int64_t slice_96986;\n        int64_t bucket_id_96969;\n        int64_t remnant_96987;\n        int64_t subhistogram_id_96970;\n        \n        virt_tblock_id_96985 = phys_tblock_id_96982 + i_96984 * sext_i64_i32(num_tblocks_75875);\n        slice_96986 = total_part_no_54960;\n        bucket_id_96969 = squot64(sext_i32_i64(local_tid_96976), segment_sizze_nonzzero_96973) + sext_i32_i64(virt_tblock_id_96985) * squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973);\n        remnant_96987 = squot64(sext_i32_i64(local_tid_96976), segment_sizze_nonzzero_96973) + sext_i32_i64(virt_tblock_id_96985) * squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973) - bucket_id_96969;\n        subhistogram_id_96970 = srem64(sext_i32_i64(local_tid_96976), num_subhistos_96885);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_96885) && (slt64(bucket_id_96969, total_p",
                                    "art_no_54960) && slt64(sext_i32_i64(local_tid_96976), num_subhistos_96885 * squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973)))) {\n                // save results to be reduced\n                {\n                    int64_t tmp_96988 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_96886)[subhistogram_id_96970 * total_part_no_54960 + bucket_id_96969];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)] = tmp_96988;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_96885)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_75881;\n                int64_t eta_p_75882;\n                int64_t eta_p_96989;\n                int64_t eta_p_96990;\n                bool ltid_in_bounds_96992 = slt64(sext_i32_i64(local_tid_96976), num_subhistos_96885 * squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973));\n                int32_t skip_threads_96993;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_96992) {\n                        eta_p_75882 = ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)];\n                        if ((local_tid_96976 - squot32(local_tid_96976, 32) * 32) == 0) {\n                            eta_p_75881 = eta_p_75882;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96993 = 1;\n                    while (slt32(skip_threads_96993, 32)) {\n                        bool thread_active_96994 = sle32(skip_threads_96993, local_tid_96976 - squot32(local_tid_96976, 32) * 32) && ltid_in_bounds", "_96992;\n                        \n                        if (thread_active_96994) {\n                            // read operands\n                            {\n                                eta_p_75881 = ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976) - sext_i32_i64(skip_threads_96993)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_96995 = slt64(srem64(sext_i32_i64(local_tid_96976), num_subhistos_96885), sext_i32_i64(local_tid_96976) - sext_i32_i64(local_tid_96976 - skip_threads_96993));\n                            \n                            if (thread_active_96994 && inactive_96995) {\n                                eta_p_75881 = eta_p_75882;\n                            }\n                            if (thread_active_96994) {\n                                if (!inactive_96995) {\n                                    int64_t defunc_0_op_res_75883 = add64(eta_p_75881, eta_p_75882);\n                                    \n                                    eta_p_75881 = defunc_0_op_res_75883;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_96978, skip_threads_96993)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96994) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)] = eta_p_75881;\n                                eta_p_75882 = eta_p_75881;\n                            }\n                        }\n                        if (sle32(wave_sizze_96978, skip_threads_96993)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96993 *= 2;\n       ", "             }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_96976 - squot32(local_tid_96976, 32) * 32) == 31 && ltid_in_bounds_96992) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(squot32(local_tid_96976, 32))] = eta_p_75881;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_96996;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_96976, 32) == 0 && ltid_in_bounds_96992) {\n                            eta_p_96990 = ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)];\n                            if ((local_tid_96976 - squot32(local_tid_96976, 32) * 32) == 0) {\n                                eta_p_96989 = eta_p_96990;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_96996 = 1;\n                        while (slt32(skip_threads_96996, 32)) {\n                            bool thread_active_96997 = sle32(skip_threads_96996, local_tid_96976 - squot32(local_tid_96976, 32) * 32) && (squot32(local_tid_96976, 32) == 0 && ltid_in_bounds_96992);\n                            \n                            if (thread_active_96997) {\n                                // read operands\n                                {\n                                    eta_p_96989 = ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976) - sext_i32_i64(skip_threads_96996)];\n                                }\n                 ",
                                    "           }\n                            // perform operation\n                            {\n                                bool inactive_96998 = slt64(srem64(sext_i32_i64(local_tid_96976 * 32 + 32 - 1), num_subhistos_96885), sext_i32_i64(local_tid_96976 * 32 + 32 - 1) - sext_i32_i64((local_tid_96976 - skip_threads_96996) * 32 + 32 - 1));\n                                \n                                if (thread_active_96997 && inactive_96998) {\n                                    eta_p_96989 = eta_p_96990;\n                                }\n                                if (thread_active_96997) {\n                                    if (!inactive_96998) {\n                                        int64_t defunc_0_op_res_96991 = add64(eta_p_96989, eta_p_96990);\n                                        \n                                        eta_p_96989 = defunc_0_op_res_96991;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_96978, skip_threads_96996)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_96997) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)] = eta_p_96989;\n                                    eta_p_96990 = eta_p_96989;\n                                }\n                            }\n                            if (sle32(wave_sizze_96978, skip_threads_96996)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_96996 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_96999 = squot32(local_tid_96976, 32) == 0 || !ltid_in", "_bounds_96992;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_96999) {\n                            eta_p_75882 = eta_p_75881;\n                            eta_p_75881 = ((__local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(squot32(local_tid_96976, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_97000 = slt64(srem64(sext_i32_i64(local_tid_96976), num_subhistos_96885), sext_i32_i64(local_tid_96976) - sext_i32_i64(squot32(local_tid_96976, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_96999) {\n                            if (inactive_97000) {\n                                eta_p_75881 = eta_p_75882;\n                            }\n                        }\n                        if (!no_carry_in_96999) {\n                            if (!inactive_97000) {\n                                int64_t defunc_0_op_res_75883 = add64(eta_p_75881, eta_p_75882);\n                                \n                                eta_p_75881 = defunc_0_op_res_75883;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_96999) {\n                            ((__local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)] = eta_p_75881;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_96976, 32) == 0 && ltid_in_bounds_96992) {\n                        ((__local int64_t *) red_arr_i64_mem_96980)[sext_i32_i64(local_tid_96976)] = eta_p_75882;\n                    }\n            ", "    }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_96985) * squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973) + sext_i32_i64(local_tid_96976), total_part_no_54960) && slt64(sext_i32_i64(local_tid_96976), squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973))) {\n                int64_t tmp_97001 = ((__local int64_t *) red_arr_i64_mem_96980)[(sext_i32_i64(local_tid_96976) + (int64_t) 1) * segment_sizze_nonzzero_96973 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_90833)[sext_i32_i64(virt_tblock_id_96985) * squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973) + sext_i32_i64(local_tid_96976)] = tmp_97001;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_75873\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegscan_75547_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegscan_75547(__global int *global_failure, int64_t dz2083U_54951, int64_t num_tblocks_75544, int64_t num_virt_blocks_96248, int64_t num_virt_threads_96249, __global unsigned char *ext_mem_91289, __global unsigned char *mem_91292, __global unsigned char *mem_91294, __global unsigned char *status_flags_mem_96250, __global unsigned char *aggregates_mem_96272, __global unsigned char *incprefixes_mem_96274, __global unsigned char *global_dynid_mem_96276)\n{\n    #define segscan_tblock_sizze_75542 (calc_local_Skyline_GFUR_doublezisegscan_75547zisegscan_tblock_sizze_75542)\n    #define chunk_sizze_96247 (calc_local_Skyline_GFUR_doublezisegscan_75547zichunk_sizze_96247)\n    \n    volatile __local unsigned char *local_mem_96286_backing_0 = &shared_mem[0];\n    const int64_t local_mem_96286_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int",
                                    "64_t) 8 * segscan_tblock_sizze_75542), chunk_sizze_96247 * segscan_tblock_sizze_75542 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75542), chunk_sizze_96247 * segscan_tblock_sizze_75542 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96279;\n    int32_t tblock_sizze_96282;\n    int32_t wave_sizze_96281;\n    int32_t block_id_96280;\n    int32_t global_tid_96278;\n    int64_t phys_tid_75547;\n    int32_t chunk_sizze_32b_96283;\n    int64_t byte_offsets_96284;\n    int64_t warp_byte_offset_96285;\n    __local unsigned char *local_mem_96286;\n    int64_t trans_arr_len_96287;\n    int64_t phys_block_id_96293;\n    int64_t virtloop_bound_96294;\n    \n    local_tid_96279 = get_local_id(0);\n    tblock_sizze_96282 = get_local_size(0);\n    wave_sizze_96281 = LOCKSTEP_WIDTH;\n    block_id_96280 = get_tblock_id(0);\n    global_tid_96278 = block_id_96280 * tblock_sizze_96282 + local_tid_96279;\n    phys_tid_75547 = sext_i32_i64(global_tid_96278);\n    chunk_sizze_32b_96283 = sext_i64_i32(chunk_sizze_96247);\n    byte_offsets_96284 = segscan_tblock_sizze_75542 * (int64_t) 8;\n    warp_byte_offset_96285 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_96286 = (__local unsigned char *) local_mem_96286_backing_0;\n    trans_arr_len_96287 = chunk_sizze_96247 * segscan_tblock_sizze_75542;\n    phys_block_id_96293 = get_tblock_id(0);\n    virtloop_bound_96294 = sdiv_up64(num_virt_blocks_96248 - phys_block_id_96293, num_tblocks_75544);\n    for (int64_t virtloop_i_96295 = 0; virtloop_i_96295 < virtloop_bound_96294; virtloop_i_96295++) {\n        int64_t dynamic_id_96296;\n        int64_t block_offset_96297;\n        int64_t sgm_idx_96298;\n        int32_t boundary_96299;\n        int32_t segsizze_compact_96300;\n        int64_t private_mem_96301[chunk_sizze_96247];\n        int64_t thd_offset_96303;\n        int64_t acc_96319;\n        int64_t prefix_9", "6329;\n        bool block_new_sgm_96330;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_96279 == 0) {\n                dynamic_id_96296 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_96276)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_96286)[(int64_t) 0] = dynamic_id_96296;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_96296 == num_virt_blocks_96248 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_96276)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_96296 = ((__local int32_t *) local_mem_96286)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_96297 = dynamic_id_96296 * chunk_sizze_96247 * segscan_tblock_sizze_75542;\n        sgm_idx_96298 = smod64(block_offset_96297, dz2083U_54951);\n        boundary_96299 = sext_i64_i32(smin64(chunk_sizze_96247 * segscan_tblock_sizze_75542, dz2083U_54951 - sgm_idx_96298));\n        segsizze_compact_96300 = sext_i64_i32(smin64(chunk_sizze_96247 * segscan_tblock_sizze_75542, dz2083U_54951));\n        thd_offset_96303 = block_offset_96297 + sext_i32_i64(local_tid_96279);\n        // Load and map\n        {\n            for (int64_t i_96304 = 0; i_96304 < chunk_sizze_96247; i_96304++) {\n                int64_t virt_tid_96305 = thd_offset_96303 + i_96304 * segscan_tblock_sizze_75542;\n                int64_t slice_96306 = dz2083U_54951;\n                int64_t gtid_75546 = virt_tid_96305;\n                int64_t remnant_96307 = virt_tid_96305 - gtid_75546;\n                \n                if (slt64(virt_tid_96305, dz2083U_54951)) {\n                    int64_t eta_p_69574 = ((__global int64_t *) ext_mem_91289)[gtid_7554", "6];\n                    bool lifted_lambda_res_69575 = sle64((int64_t) 0, eta_p_69574);\n                    int64_t defunc_0_f_res_69576 = btoi_bool_i64(lifted_lambda_res_69575);\n                    \n                    ((__global int64_t *) mem_91294)[gtid_75546] = defunc_0_f_res_69576;\n                    private_mem_96301[i_96304] = defunc_0_f_res_69576;\n                } else {\n                    private_mem_96301[i_96304] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_96308 = 0; i_96308 < chunk_sizze_96247; i_96308++) {\n                int64_t sharedIdx_96309 = sext_i32_i64(local_tid_96279) + i_96308 * segscan_tblock_sizze_75542;\n                int64_t tmp_96310 = private_mem_96301[i_96308];\n                \n                ((__local int64_t *) local_mem_96286)[sharedIdx_96309] = tmp_96310;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96311 = 0; i_96311 < chunk_sizze_96247; i_96311++) {\n                int64_t sharedIdx_96312 = sext_i32_i64(local_tid_96279) * chunk_sizze_96247 + i_96311;\n                int64_t tmp_96313 = ((__local int64_t *) local_mem_96286)[sharedIdx_96312];\n                \n                private_mem_96301[i_96311] = tmp_96313;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_96314 = 0; i_96314 < chunk_sizze_96247 - (int64_t) 1; i_96314++) {\n                int64_t eta_p_61660;\n                int64_t eta_p_61661;\n                \n                eta_p_61660 = private_mem_96301[i_96314];\n                eta_p_61661 = private_mem_96301[i_96314 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_61662 = add64(eta_p_61660, eta_p_61661);\n                \n                private_mem_96301[i_96314 + (int64_t) 1] = defunc_0_op_res_61662;\n            }\n        }\n        // Publish results in ",
                                    "shared memory\n        {\n            int64_t tmp_96315 = private_mem_96301[chunk_sizze_96247 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = tmp_96315;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_96316;\n            int64_t eta_p_96317;\n            int64_t eta_p_96320;\n            int64_t eta_p_96321;\n            bool ltid_in_bounds_96323 = slt64(sext_i32_i64(local_tid_96279), num_virt_threads_96249);\n            int32_t skip_threads_96324;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96323) {\n                    eta_p_96317 = ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)];\n                    if ((local_tid_96279 - squot32(local_tid_96279, 32) * 32) == 0) {\n                        eta_p_96316 = eta_p_96317;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_96324 = 1;\n                while (slt32(skip_threads_96324, 32)) {\n                    bool thread_active_96325 = sle32(skip_threads_96324, local_tid_96279 - squot32(local_tid_96279, 32) * 32) && ltid_in_bounds_96323;\n                    \n                    if (thread_active_96325) {\n                        // read operands\n                        {\n                            eta_p_96316 = ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279) - sext_i32_i64(skip_threads_96324)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96325) {\n                            int64_t defunc_0_op_res_96318 = add64(eta_p_96316, eta_p_96317);\n                            \n                            eta_p_96316 = defunc_0_op_res_96318;\n                        }\n  ", "                  }\n                    if (sle32(wave_sizze_96281, skip_threads_96324)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_96325) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = eta_p_96316;\n                            eta_p_96317 = eta_p_96316;\n                        }\n                    }\n                    if (sle32(wave_sizze_96281, skip_threads_96324)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96324 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_96279 - squot32(local_tid_96279, 32) * 32) == 31 && ltid_in_bounds_96323) {\n                    ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(squot32(local_tid_96279, 32))] = eta_p_96316;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96326;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_96279, 32) == 0 && ltid_in_bounds_96323) {\n                        eta_p_96321 = ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)];\n                        if ((local_tid_96279 - squot32(local_tid_96279, 32) * 32) == 0) {\n                            eta_p_96320 = eta_p_96321;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96326 = 1;\n                    while (slt32(skip_threads_96326, 32)) {\n   ", "                     bool thread_active_96327 = sle32(skip_threads_96326, local_tid_96279 - squot32(local_tid_96279, 32) * 32) && (squot32(local_tid_96279, 32) == 0 && ltid_in_bounds_96323);\n                        \n                        if (thread_active_96327) {\n                            // read operands\n                            {\n                                eta_p_96320 = ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279) - sext_i32_i64(skip_threads_96326)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_96327) {\n                                int64_t defunc_0_op_res_96322 = add64(eta_p_96320, eta_p_96321);\n                                \n                                eta_p_96320 = defunc_0_op_res_96322;\n                            }\n                        }\n                        if (sle32(wave_sizze_96281, skip_threads_96326)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96327) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = eta_p_96320;\n                                eta_p_96321 = eta_p_96320;\n                            }\n                        }\n                        if (sle32(wave_sizze_96281, skip_threads_96326)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96326 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96328 = squot32(local_tid_96279, 32) == 0 || !ltid_in_bounds_96323;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n      ",
                                    "          {\n                    if (!no_carry_in_96328) {\n                        eta_p_96317 = eta_p_96316;\n                        eta_p_96316 = ((__local int64_t *) local_mem_96286)[sext_i32_i64(squot32(local_tid_96279, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96328) {\n                        int64_t defunc_0_op_res_96318 = add64(eta_p_96316, eta_p_96317);\n                        \n                        eta_p_96316 = defunc_0_op_res_96318;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_96328) {\n                        ((__local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = eta_p_96316;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_96279, 32) == 0 && ltid_in_bounds_96323) {\n                    ((__local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = eta_p_96317;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96279 == 0) {\n                acc_96319 = ((__local int64_t *) local_mem_96286)[segscan_tblock_sizze_75542 - (int64_t) 1];\n            } else {\n                acc_96319 = ((__local int64_t *) local_mem_96286)[sext_i32_i64(local_tid_96279) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96329 = (int64_t) 0;\n        block_new_sgm_96330 = sgm_idx_96298 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96330 && local_tid_96279 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_96274)[dynamic_id_96296] = acc_96319;\n                mem_fence_global();\n                ((volatile __global int8_t ", "*) status_flags_mem_96250)[dynamic_id_96296] = (int8_t) 2;\n                acc_96319 = (int64_t) 0;\n            }\n            if (!block_new_sgm_96330 && slt32(local_tid_96279, wave_sizze_96281)) {\n                if (local_tid_96279 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_96272)[dynamic_id_96296] = acc_96319;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_96250)[dynamic_id_96296] = (int8_t) 1;\n                    \n                    int8_t tmp_96331 = ((volatile __global int8_t *) status_flags_mem_96250)[dynamic_id_96296 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_96286)[(int64_t) 0] = tmp_96331;\n                }\n                mem_fence_local();\n                \n                int8_t status_96332 = ((__local int8_t *) local_mem_96286)[(int64_t) 0];\n                \n                if (status_96332 == (int8_t) 2) {\n                    if (local_tid_96279 == 0) {\n                        prefix_96329 = ((volatile __global int64_t *) incprefixes_mem_96274)[dynamic_id_96296 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96333 = sext_i64_i32(dynamic_id_96296 - sext_i32_i64(wave_sizze_96281));\n                    \n                    while (slt32(wave_sizze_96281 * -1, readOffset_96333)) {\n                        int32_t read_i_96334 = readOffset_96333 + local_tid_96279;\n                        int64_t aggr_96335 = (int64_t) 0;\n                        int8_t flag_96336 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96334)) {\n                            flag_96336 = ((volatile __global int8_t *) status_flags_mem_96250)[sext_i32_i64(read_i_96334)];\n                            if (flag_96336 == (int8_t) 2) {\n                                aggr_96335 = ((volatile __global int64_t *) incprefixes_mem_96274)[sext_i32_i64(read_i_96334)];\n   ", "                         } else if (flag_96336 == (int8_t) 1) {\n                                aggr_96335 = ((volatile __global int64_t *) aggregates_mem_96272)[sext_i32_i64(read_i_96334)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_96286)[(int64_t) 4 + sext_i32_i64(local_tid_96279)] = aggr_96335;\n                        ((__local int8_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = flag_96336;\n                        flag_96336 = ((__local int8_t *) local_mem_96286)[sext_i32_i64(wave_sizze_96281) - (int64_t) 1];\n                        if (slt8(flag_96336, (int8_t) 2)) {\n                            int8_t flg_x_96340;\n                            int8_t flg_y_96341;\n                            int64_t eta_p_96337;\n                            int64_t eta_p_96338;\n                            int32_t skip_threads_96342;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_96341 = ((volatile __local int8_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)];\n                                eta_p_96338 = ((volatile __local int64_t *) local_mem_96286)[(int64_t) 4 + sext_i32_i64(local_tid_96279)];\n                                if ((local_tid_96279 - squot32(local_tid_96279, 32) * 32) == 0) {\n                                    eta_p_96337 = eta_p_96338;\n                                    flg_x_96340 = flg_y_96341;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96342 = 1;\n                                while (slt32(skip_threads_96342, 32)) {\n                                    if (sle32(skip_threads_96342, local_tid_96279 - squot32(local_tid_96279, 32) * 32)) {\n                                        // read operands\n            ",
                                    "                            {\n                                            flg_x_96340 = ((volatile __local int8_t *) local_mem_96286)[sext_i32_i64(local_tid_96279) - sext_i32_i64(skip_threads_96342)];\n                                            eta_p_96337 = ((volatile __local int64_t *) local_mem_96286)[(int64_t) 4 + (sext_i32_i64(local_tid_96279) - sext_i32_i64(skip_threads_96342))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96341 == (int8_t) 2 || flg_y_96341 == (int8_t) 0) {\n                                                flg_x_96340 = flg_y_96341;\n                                                eta_p_96337 = eta_p_96338;\n                                            } else {\n                                                int64_t defunc_0_op_res_96339 = add64(eta_p_96337, eta_p_96338);\n                                                \n                                                eta_p_96337 = defunc_0_op_res_96339;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_96286)[sext_i32_i64(local_tid_96279)] = flg_x_96340;\n                                            flg_y_96341 = flg_x_96340;\n                                            ((volatile __local int64_t *) local_mem_96286)[(int64_t) 4 + sext_i32_i64(local_tid_96279)] = eta_p_96337;\n                                            eta_p_96338 = eta_p_96337;\n                                        }\n                                    }\n                                    skip_threads_96342 *= 2;\n                                }\n                            }\n                        }\n                        flag_96336 = ((__local int8_t *) local_m", "em_96286)[sext_i32_i64(wave_sizze_96281) - (int64_t) 1];\n                        aggr_96335 = ((__local int64_t *) local_mem_96286)[(int64_t) 4 + (sext_i32_i64(wave_sizze_96281) - (int64_t) 1)];\n                        if (flag_96336 == (int8_t) 2) {\n                            readOffset_96333 = wave_sizze_96281 * -1;\n                        } else if (flag_96336 == (int8_t) 1) {\n                            readOffset_96333 -= wave_sizze_96281;\n                        }\n                        if (slt8((int8_t) 0, flag_96336)) {\n                            int64_t eta_p_96343 = aggr_96335;\n                            int64_t eta_p_96344 = prefix_96329;\n                            int64_t defunc_0_op_res_96345 = add64(eta_p_96343, eta_p_96344);\n                            \n                            prefix_96329 = defunc_0_op_res_96345;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_96279 == 0) {\n                    if (boundary_96299 == sext_i64_i32(segscan_tblock_sizze_75542 * chunk_sizze_96247)) {\n                        int64_t eta_p_96346 = prefix_96329;\n                        int64_t eta_p_96347 = acc_96319;\n                        int64_t defunc_0_op_res_96348 = add64(eta_p_96346, eta_p_96347);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_96274)[dynamic_id_96296] = defunc_0_op_res_96348;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_96250)[dynamic_id_96296] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_96286)[(int64_t) 4] = prefix_96329;\n                    acc_96319 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_96296 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96329 = ((__local int64_t *) local_mem_96286)[(int64_t) 4];\n                ", "barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96349;\n            int64_t eta_p_96350;\n            int64_t eta_p_96352 = prefix_96329;\n            int64_t eta_p_96353 = acc_96319;\n            \n            if (slt32(local_tid_96279 * chunk_sizze_32b_96283, boundary_96299) && !block_new_sgm_96330) {\n                int64_t defunc_0_op_res_96354 = add64(eta_p_96352, eta_p_96353);\n                \n                eta_p_96349 = defunc_0_op_res_96354;\n            } else {\n                eta_p_96349 = acc_96319;\n            }\n            \n            int32_t stopping_point_96355 = segsizze_compact_96300 - srem32(local_tid_96279 * chunk_sizze_32b_96283 - 1 + segsizze_compact_96300 - boundary_96299, segsizze_compact_96300);\n            \n            for (int64_t i_96356 = 0; i_96356 < chunk_sizze_96247; i_96356++) {\n                if (slt32(sext_i64_i32(i_96356), stopping_point_96355 - 1)) {\n                    eta_p_96350 = private_mem_96301[i_96356];\n                    \n                    int64_t defunc_0_op_res_96351 = add64(eta_p_96349, eta_p_96350);\n                    \n                    private_mem_96301[i_96356] = defunc_0_op_res_96351;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96357 = 0; i_96357 < chunk_sizze_96247; i_96357++) {\n                int64_t sharedIdx_96358 = sext_i32_i64(local_tid_96279) * chunk_sizze_96247 + i_96357;\n                int64_t tmp_96359 = private_mem_96301[i_96357];\n                \n                ((__local int64_t *) local_mem_96286)[sharedIdx_96358] = tmp_96359;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96360 = 0; i_96360 < chunk_sizze_96247; i_96360++) {\n                int64_t flat_idx_96361 = thd_offset_96303 + i_96360 * segscan_tblock_sizze_75542;\n                int64_t slice_96362 = dz2083U_54951",
                                    ";\n                int64_t gtid_75546 = flat_idx_96361;\n                int64_t remnant_96363 = flat_idx_96361 - gtid_75546;\n                \n                if (slt64(flat_idx_96361, dz2083U_54951)) {\n                    int64_t tmp_96364 = ((__local int64_t *) local_mem_96286)[flat_idx_96361 - block_offset_96297];\n                    \n                    ((__global int64_t *) mem_91292)[gtid_75546] = tmp_96364;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_75542\n    #undef chunk_sizze_96247\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegscan_75893_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegscan_75893(__global int *global_failure, int64_t total_part_no_54960, int64_t num_tblocks_75890, int64_t num_virt_blocks_97050, int64_t num_virt_threads_97051, __global unsigned char *mem_90833, __global unsigned char *mem_91574, __global unsigned char *status_flags_mem_97052, __global unsigned char *aggregates_mem_97054, __global unsigned char *incprefixes_mem_97056, __global unsigned char *global_dynid_mem_97058)\n{\n    #define segscan_tblock_sizze_75888 (calc_local_Skyline_GFUR_doublezisegscan_75893zisegscan_tblock_sizze_75888)\n    #define chunk_sizze_97049 (calc_local_Skyline_GFUR_doublezisegscan_75893zichunk_sizze_97049)\n    \n    volatile __local unsigned char *local_mem_97068_backing_0 = &shared_mem[0];\n    const int64_t local_mem_97068_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75888), chunk_sizze_97049 * segscan_tblock_sizze_75888 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75888), chunk_sizze_97049 * segscan_tblock_sizze_75888 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97061;\n    int32_t tblock_sizze_97064;\n    int32_t wave_sizze_97063;\n    int32_t block_id_97062;", "\n    int32_t global_tid_97060;\n    int64_t phys_tid_75893;\n    int32_t chunk_sizze_32b_97065;\n    int64_t byte_offsets_97066;\n    int64_t warp_byte_offset_97067;\n    __local unsigned char *local_mem_97068;\n    int64_t trans_arr_len_97069;\n    int64_t phys_block_id_97075;\n    int64_t virtloop_bound_97076;\n    \n    local_tid_97061 = get_local_id(0);\n    tblock_sizze_97064 = get_local_size(0);\n    wave_sizze_97063 = LOCKSTEP_WIDTH;\n    block_id_97062 = get_tblock_id(0);\n    global_tid_97060 = block_id_97062 * tblock_sizze_97064 + local_tid_97061;\n    phys_tid_75893 = sext_i32_i64(global_tid_97060);\n    chunk_sizze_32b_97065 = sext_i64_i32(chunk_sizze_97049);\n    byte_offsets_97066 = segscan_tblock_sizze_75888 * (int64_t) 8;\n    warp_byte_offset_97067 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_97068 = (__local unsigned char *) local_mem_97068_backing_0;\n    trans_arr_len_97069 = chunk_sizze_97049 * segscan_tblock_sizze_75888;\n    phys_block_id_97075 = get_tblock_id(0);\n    virtloop_bound_97076 = sdiv_up64(num_virt_blocks_97050 - phys_block_id_97075, num_tblocks_75890);\n    for (int64_t virtloop_i_97077 = 0; virtloop_i_97077 < virtloop_bound_97076; virtloop_i_97077++) {\n        int64_t dynamic_id_97078;\n        int64_t block_offset_97079;\n        int64_t sgm_idx_97080;\n        int32_t boundary_97081;\n        int32_t segsizze_compact_97082;\n        int64_t private_mem_97083[chunk_sizze_97049];\n        int64_t thd_offset_97085;\n        int64_t acc_97101;\n        int64_t prefix_97111;\n        bool block_new_sgm_97112;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_97061 == 0) {\n                dynamic_id_97078 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_97058)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_97068)[(int64_t) 0] = dynamic_id_97078;\n              ", "  }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_97078 == num_virt_blocks_97050 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_97058)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_97078 = ((__local int32_t *) local_mem_97068)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_97079 = dynamic_id_97078 * chunk_sizze_97049 * segscan_tblock_sizze_75888;\n        sgm_idx_97080 = smod64(block_offset_97079, total_part_no_54960);\n        boundary_97081 = sext_i64_i32(smin64(chunk_sizze_97049 * segscan_tblock_sizze_75888, total_part_no_54960 - sgm_idx_97080));\n        segsizze_compact_97082 = sext_i64_i32(smin64(chunk_sizze_97049 * segscan_tblock_sizze_75888, total_part_no_54960));\n        thd_offset_97085 = block_offset_97079 + sext_i32_i64(local_tid_97061);\n        // Load and map\n        {\n            for (int64_t i_97086 = 0; i_97086 < chunk_sizze_97049; i_97086++) {\n                int64_t virt_tid_97087 = thd_offset_97085 + i_97086 * segscan_tblock_sizze_75888;\n                int64_t slice_97088 = total_part_no_54960;\n                int64_t gtid_75892 = virt_tid_97087;\n                int64_t remnant_97089 = virt_tid_97087 - gtid_75892;\n                \n                if (slt64(virt_tid_97087, total_part_no_54960)) {\n                    int64_t x_62073 = ((__global int64_t *) mem_90833)[gtid_75892];\n                    \n                    private_mem_97083[i_97086] = x_62073;\n                } else {\n                    private_mem_97083[i_97086] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_97090 = 0; i_97090 < chunk_sizze_97049; i_97090++) {\n                int64_t sharedIdx_97091 = sext_i32_i64(local_tid_97061) + ",
                                    "i_97090 * segscan_tblock_sizze_75888;\n                int64_t tmp_97092 = private_mem_97083[i_97090];\n                \n                ((__local int64_t *) local_mem_97068)[sharedIdx_97091] = tmp_97092;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_97093 = 0; i_97093 < chunk_sizze_97049; i_97093++) {\n                int64_t sharedIdx_97094 = sext_i32_i64(local_tid_97061) * chunk_sizze_97049 + i_97093;\n                int64_t tmp_97095 = ((__local int64_t *) local_mem_97068)[sharedIdx_97094];\n                \n                private_mem_97083[i_97093] = tmp_97095;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_97096 = 0; i_97096 < chunk_sizze_97049 - (int64_t) 1; i_97096++) {\n                int64_t eta_p_62074;\n                int64_t eta_p_62075;\n                \n                eta_p_62074 = private_mem_97083[i_97096];\n                eta_p_62075 = private_mem_97083[i_97096 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_62076 = add64(eta_p_62074, eta_p_62075);\n                \n                private_mem_97083[i_97096 + (int64_t) 1] = defunc_0_op_res_62076;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_97097 = private_mem_97083[chunk_sizze_97049 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = tmp_97097;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_97098;\n            int64_t eta_p_97099;\n            int64_t eta_p_97102;\n            int64_t eta_p_97103;\n            bool ltid_in_bounds_97105 = slt64(sext_i32_i64(local_tid_97061), num_virt_threads_97051);\n            int32_t skip_threads_97106;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_97105) {\n                 ", "   eta_p_97099 = ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)];\n                    if ((local_tid_97061 - squot32(local_tid_97061, 32) * 32) == 0) {\n                        eta_p_97098 = eta_p_97099;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_97106 = 1;\n                while (slt32(skip_threads_97106, 32)) {\n                    bool thread_active_97107 = sle32(skip_threads_97106, local_tid_97061 - squot32(local_tid_97061, 32) * 32) && ltid_in_bounds_97105;\n                    \n                    if (thread_active_97107) {\n                        // read operands\n                        {\n                            eta_p_97098 = ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061) - sext_i32_i64(skip_threads_97106)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_97107) {\n                            int64_t defunc_0_op_res_97100 = add64(eta_p_97098, eta_p_97099);\n                            \n                            eta_p_97098 = defunc_0_op_res_97100;\n                        }\n                    }\n                    if (sle32(wave_sizze_97063, skip_threads_97106)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_97107) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = eta_p_97098;\n                            eta_p_97099 = eta_p_97098;\n                        }\n                    }\n                    if (sle32(wave_sizze_97063, skip_threads_97106)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_97106 *= 2;\n                }\n          ", "  }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_97061 - squot32(local_tid_97061, 32) * 32) == 31 && ltid_in_bounds_97105) {\n                    ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(squot32(local_tid_97061, 32))] = eta_p_97098;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_97108;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_97061, 32) == 0 && ltid_in_bounds_97105) {\n                        eta_p_97103 = ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)];\n                        if ((local_tid_97061 - squot32(local_tid_97061, 32) * 32) == 0) {\n                            eta_p_97102 = eta_p_97103;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_97108 = 1;\n                    while (slt32(skip_threads_97108, 32)) {\n                        bool thread_active_97109 = sle32(skip_threads_97108, local_tid_97061 - squot32(local_tid_97061, 32) * 32) && (squot32(local_tid_97061, 32) == 0 && ltid_in_bounds_97105);\n                        \n                        if (thread_active_97109) {\n                            // read operands\n                            {\n                                eta_p_97102 = ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061) - sext_i32_i64(skip_threads_97108)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_97109) {\n                                int64_t ",
                                    "defunc_0_op_res_97104 = add64(eta_p_97102, eta_p_97103);\n                                \n                                eta_p_97102 = defunc_0_op_res_97104;\n                            }\n                        }\n                        if (sle32(wave_sizze_97063, skip_threads_97108)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_97109) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = eta_p_97102;\n                                eta_p_97103 = eta_p_97102;\n                            }\n                        }\n                        if (sle32(wave_sizze_97063, skip_threads_97108)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_97108 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_97110 = squot32(local_tid_97061, 32) == 0 || !ltid_in_bounds_97105;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_97110) {\n                        eta_p_97099 = eta_p_97098;\n                        eta_p_97098 = ((__local int64_t *) local_mem_97068)[sext_i32_i64(squot32(local_tid_97061, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_97110) {\n                        int64_t defunc_0_op_res_97100 = add64(eta_p_97098, eta_p_97099);\n                        \n                        eta_p_97098 = defunc_0_op_res_97100;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_97110) {\n                      ", "  ((__local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = eta_p_97098;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_97061, 32) == 0 && ltid_in_bounds_97105) {\n                    ((__local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = eta_p_97099;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97061 == 0) {\n                acc_97101 = ((__local int64_t *) local_mem_97068)[segscan_tblock_sizze_75888 - (int64_t) 1];\n            } else {\n                acc_97101 = ((__local int64_t *) local_mem_97068)[sext_i32_i64(local_tid_97061) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_97111 = (int64_t) 0;\n        block_new_sgm_97112 = sgm_idx_97080 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_97112 && local_tid_97061 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_97056)[dynamic_id_97078] = acc_97101;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_97052)[dynamic_id_97078] = (int8_t) 2;\n                acc_97101 = (int64_t) 0;\n            }\n            if (!block_new_sgm_97112 && slt32(local_tid_97061, wave_sizze_97063)) {\n                if (local_tid_97061 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_97054)[dynamic_id_97078] = acc_97101;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_97052)[dynamic_id_97078] = (int8_t) 1;\n                    \n                    int8_t tmp_97113 = ((volatile __global int8_t *) status_flags_mem_97052)[dynamic_id_97078 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_97068", ")[(int64_t) 0] = tmp_97113;\n                }\n                mem_fence_local();\n                \n                int8_t status_97114 = ((__local int8_t *) local_mem_97068)[(int64_t) 0];\n                \n                if (status_97114 == (int8_t) 2) {\n                    if (local_tid_97061 == 0) {\n                        prefix_97111 = ((volatile __global int64_t *) incprefixes_mem_97056)[dynamic_id_97078 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_97115 = sext_i64_i32(dynamic_id_97078 - sext_i32_i64(wave_sizze_97063));\n                    \n                    while (slt32(wave_sizze_97063 * -1, readOffset_97115)) {\n                        int32_t read_i_97116 = readOffset_97115 + local_tid_97061;\n                        int64_t aggr_97117 = (int64_t) 0;\n                        int8_t flag_97118 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_97116)) {\n                            flag_97118 = ((volatile __global int8_t *) status_flags_mem_97052)[sext_i32_i64(read_i_97116)];\n                            if (flag_97118 == (int8_t) 2) {\n                                aggr_97117 = ((volatile __global int64_t *) incprefixes_mem_97056)[sext_i32_i64(read_i_97116)];\n                            } else if (flag_97118 == (int8_t) 1) {\n                                aggr_97117 = ((volatile __global int64_t *) aggregates_mem_97054)[sext_i32_i64(read_i_97116)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_97068)[(int64_t) 4 + sext_i32_i64(local_tid_97061)] = aggr_97117;\n                        ((__local int8_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = flag_97118;\n                        flag_97118 = ((__local int8_t *) local_mem_97068)[sext_i32_i64(wave_sizze_97063) - (int64_t) 1];\n                        if (slt8(flag_97118, (int8_t) 2)) {\n                            int8_t flg_x_97122;\n                     ",
                                    "       int8_t flg_y_97123;\n                            int64_t eta_p_97119;\n                            int64_t eta_p_97120;\n                            int32_t skip_threads_97124;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_97123 = ((volatile __local int8_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)];\n                                eta_p_97120 = ((volatile __local int64_t *) local_mem_97068)[(int64_t) 4 + sext_i32_i64(local_tid_97061)];\n                                if ((local_tid_97061 - squot32(local_tid_97061, 32) * 32) == 0) {\n                                    eta_p_97119 = eta_p_97120;\n                                    flg_x_97122 = flg_y_97123;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_97124 = 1;\n                                while (slt32(skip_threads_97124, 32)) {\n                                    if (sle32(skip_threads_97124, local_tid_97061 - squot32(local_tid_97061, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_97122 = ((volatile __local int8_t *) local_mem_97068)[sext_i32_i64(local_tid_97061) - sext_i32_i64(skip_threads_97124)];\n                                            eta_p_97119 = ((volatile __local int64_t *) local_mem_97068)[(int64_t) 4 + (sext_i32_i64(local_tid_97061) - sext_i32_i64(skip_threads_97124))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_97123 == (int8_t) 2 || flg_y_97123 == (int8_t) 0) {\n                                                flg_x_97122 = flg_y_97123;\n         ", "                                       eta_p_97119 = eta_p_97120;\n                                            } else {\n                                                int64_t defunc_0_op_res_97121 = add64(eta_p_97119, eta_p_97120);\n                                                \n                                                eta_p_97119 = defunc_0_op_res_97121;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_97068)[sext_i32_i64(local_tid_97061)] = flg_x_97122;\n                                            flg_y_97123 = flg_x_97122;\n                                            ((volatile __local int64_t *) local_mem_97068)[(int64_t) 4 + sext_i32_i64(local_tid_97061)] = eta_p_97119;\n                                            eta_p_97120 = eta_p_97119;\n                                        }\n                                    }\n                                    skip_threads_97124 *= 2;\n                                }\n                            }\n                        }\n                        flag_97118 = ((__local int8_t *) local_mem_97068)[sext_i32_i64(wave_sizze_97063) - (int64_t) 1];\n                        aggr_97117 = ((__local int64_t *) local_mem_97068)[(int64_t) 4 + (sext_i32_i64(wave_sizze_97063) - (int64_t) 1)];\n                        if (flag_97118 == (int8_t) 2) {\n                            readOffset_97115 = wave_sizze_97063 * -1;\n                        } else if (flag_97118 == (int8_t) 1) {\n                            readOffset_97115 -= wave_sizze_97063;\n                        }\n                        if (slt8((int8_t) 0, flag_97118)) {\n                            int64_t eta_p_97125 = aggr_97117;\n                            int64_t eta_p_97126 = prefix_97111;\n                            int64_t defunc_0_op_res_97127 = ad", "d64(eta_p_97125, eta_p_97126);\n                            \n                            prefix_97111 = defunc_0_op_res_97127;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_97061 == 0) {\n                    if (boundary_97081 == sext_i64_i32(segscan_tblock_sizze_75888 * chunk_sizze_97049)) {\n                        int64_t eta_p_97128 = prefix_97111;\n                        int64_t eta_p_97129 = acc_97101;\n                        int64_t defunc_0_op_res_97130 = add64(eta_p_97128, eta_p_97129);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_97056)[dynamic_id_97078] = defunc_0_op_res_97130;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_97052)[dynamic_id_97078] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_97068)[(int64_t) 4] = prefix_97111;\n                    acc_97101 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_97078 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_97111 = ((__local int64_t *) local_mem_97068)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_97131;\n            int64_t eta_p_97132;\n            int64_t eta_p_97134 = prefix_97111;\n            int64_t eta_p_97135 = acc_97101;\n            \n            if (slt32(local_tid_97061 * chunk_sizze_32b_97065, boundary_97081) && !block_new_sgm_97112) {\n                int64_t defunc_0_op_res_97136 = add64(eta_p_97134, eta_p_97135);\n                \n                eta_p_97131 = defunc_0_op_res_97136;\n            } else {\n                eta_p_97131 = acc_97101;\n            }\n            \n            int32_t stopping_point_97137 = segsizze_compact_97082 - srem32(local_tid_97061 * chunk_sizze_32b_970",
                                    "65 - 1 + segsizze_compact_97082 - boundary_97081, segsizze_compact_97082);\n            \n            for (int64_t i_97138 = 0; i_97138 < chunk_sizze_97049; i_97138++) {\n                if (slt32(sext_i64_i32(i_97138), stopping_point_97137 - 1)) {\n                    eta_p_97132 = private_mem_97083[i_97138];\n                    \n                    int64_t defunc_0_op_res_97133 = add64(eta_p_97131, eta_p_97132);\n                    \n                    private_mem_97083[i_97138] = defunc_0_op_res_97133;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_97139 = 0; i_97139 < chunk_sizze_97049; i_97139++) {\n                int64_t sharedIdx_97140 = sext_i32_i64(local_tid_97061) * chunk_sizze_97049 + i_97139;\n                int64_t tmp_97141 = private_mem_97083[i_97139];\n                \n                ((__local int64_t *) local_mem_97068)[sharedIdx_97140] = tmp_97141;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_97142 = 0; i_97142 < chunk_sizze_97049; i_97142++) {\n                int64_t flat_idx_97143 = thd_offset_97085 + i_97142 * segscan_tblock_sizze_75888;\n                int64_t slice_97144 = total_part_no_54960;\n                int64_t gtid_75892 = flat_idx_97143;\n                int64_t remnant_97145 = flat_idx_97143 - gtid_75892;\n                \n                if (slt64(flat_idx_97143, total_part_no_54960)) {\n                    int64_t tmp_97146 = ((__local int64_t *) local_mem_97068)[flat_idx_97143 - block_offset_97079];\n                    \n                    ((__global int64_t *) mem_91574)[gtid_75892] = tmp_97146;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_75888\n    #undef chunk_sizze_97049\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_73337_dim1, 1, 1)\nvoid define_skyline_space_doublezi", "segmap_73337(__global int *global_failure, int64_t dim_30964, __global unsigned char *mem_90819, __global unsigned char *mem_90835)\n{\n    #define segmap_tblock_sizze_73333 (define_skyline_space_doublezisegmap_73337zisegmap_tblock_sizze_73333)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96085;\n    int32_t tblock_sizze_96088;\n    int32_t wave_sizze_96087;\n    int32_t block_id_96086;\n    int32_t global_tid_96084;\n    int64_t phys_tid_73337;\n    int64_t global_tid_96089;\n    int64_t slice_96090;\n    int64_t gtid_73336;\n    int64_t remnant_96091;\n    \n    local_tid_96085 = get_local_id(0);\n    tblock_sizze_96088 = get_local_size(0);\n    wave_sizze_96087 = LOCKSTEP_WIDTH;\n    block_id_96086 = get_tblock_id(0);\n    global_tid_96084 = block_id_96086 * tblock_sizze_96088 + local_tid_96085;\n    phys_tid_73337 = sext_i32_i64(global_tid_96084);\n    global_tid_96089 = sext_i32_i64(block_id_96086) * segmap_tblock_sizze_73333 + sext_i32_i64(local_tid_96085);\n    slice_96090 = dim_30964;\n    gtid_73336 = global_tid_96089;\n    remnant_96091 = global_tid_96089 - gtid_73336;\n    if (slt64(gtid_73336, dim_30964)) {\n        int64_t zv_lhs_73339;\n        int64_t tmp_73340;\n        bool cond_73342;\n        int64_t lifted_lambda_res_73343;\n        \n        zv_lhs_73339 = add64((int64_t) -1, gtid_73336);\n        tmp_73340 = smod64(zv_lhs_73339, dim_30964);\n        cond_73342 = gtid_73336 == (int64_t) 0;\n        if (cond_73342) {\n            lifted_lambda_res_73343 = (int64_t) 1;\n        } else {\n            int64_t lifted_lambda_res_73341 = ((__global int64_t *) mem_90819)[tmp_73340];\n            \n            lifted_lambda_res_73343 = lifted_lambda_res_73341;\n        }\n        ((__global int64_t *) mem_90835)[gtid_73336] = lifted_lambda_res_73343;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_73333\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_73363_dim1, 1, 1)\nvoid define_skyline_space_doublezisegmap_73363(__global int *global_fa", "ilure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, __global unsigned char *mem_90828, __global unsigned char *mem_90838)\n{\n    #define segmap_tblock_sizze_73359 (define_skyline_space_doublezisegmap_73363zisegmap_tblock_sizze_73359)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96094;\n    int32_t tblock_sizze_96097;\n    int32_t wave_sizze_96096;\n    int32_t block_id_96095;\n    int32_t global_tid_96093;\n    int64_t phys_tid_73363;\n    int64_t global_tid_96098;\n    int64_t slice_96099;\n    int64_t gtid_73362;\n    int64_t remnant_96100;\n    \n    local_tid_96094 = get_local_id(0);\n    tblock_sizze_96097 = get_local_size(0);\n    wave_sizze_96096 = LOCKSTEP_WIDTH;\n    block_id_96095 = get_tblock_id(0);\n    global_tid_96093 = block_id_96095 * tblock_sizze_96097 + local_tid_96094;\n    phys_tid_73363 = sext_i32_i64(global_tid_96093);\n    global_tid_96098 = sext_i32_i64(block_id_96095) * segmap_tblock_sizze_73359 + sext_i32_i64(local_tid_96094);\n    slice_96099 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;\n    gtid_73362 = global_tid_96098;\n    remnant_96100 = global_tid_96098 - gtid_73362;\n    if (slt64(gtid_73362, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965)) {\n        int64_t zv_lhs_73365;\n        int64_t tmp_73366;\n        bool cond_73368;\n        int64_t lifted_lambda_res_73369;\n        \n        zv_lhs_73365 = add64((int64_t) -1, gtid_73362);\n        tmp_73366 = smod64(zv_lhs_73365, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965);\n        cond_73368 = gtid_73362 == (int64_t) 0;\n        if (cond_73368) {\n            lifted_lambda_res_73369 = (int64_t) 1;\n        } else {\n            int64_t lifted_lambda_res_73367 = ((__global int64_t *) mem_90828)[tmp_73366];\n            \n            lifted_lambda_res_73369 = lifted_lambda_res_73367;\n        }\n        ((__global int64_t *) mem_90838)[gtid_73362] = lifted_lambda_res_73369;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_73359\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_73450_dim1, ",
                                    "1, 1)\nvoid define_skyline_space_doublezisegmap_73450(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_30964, int64_t defunc_res_69611, __global unsigned char *min_per_dim_mem_90813, __global unsigned char *grid_partitions_per_dim_mem_90815, __global unsigned char *mem_90823, __global unsigned char *mem_90835, __global unsigned char *mem_90842)\n{\n    #define segmap_tblock_sizze_73445 (define_skyline_space_doublezisegmap_73450zisegmap_tblock_sizze_73445)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96103;\n    int32_t tblock_sizze_96106;\n    int32_t wave_sizze_96105;\n    int32_t block_id_96104;\n    int32_t global_tid_96102;\n    int64_t phys_tid_73450;\n    int64_t global_tid_96107;\n    int64_t slice_96108;\n    int64_t slice_96109;\n    int64_t gtid_73448;\n    int64_t remnant_96110;\n    int64_t gtid_73449;\n    int64_t remnant_96111;\n    \n    local_tid_96103 = get_local_id(0);\n    tblock_sizze_96106 = get_local_size(0);\n    wave_sizze_96105 = LOCKSTEP_WIDTH;\n    block_id_96104 = get_tblock_id(0);\n    global_tid_96102 = block_id_96104 * tblock_sizze_96106 + local_tid_96103;\n    phys_tid_73450 = sext_i32_i64(global_tid_96102);\n    global_tid_96107 = sext_i32_i64(block_id_96104) * segmap_tblock_sizze_73445 + sext_i32_i64(local_tid_96103);\n    slice_96108 = dim_30964;\n    slice_96109 = defunc_res_69611 * slice_96108;\n    gtid_73448 = squot64(global_tid_96107, slice_96108);\n    remnant_96110 = global_tid_96107 - gtid_73448 * slice_96108;\n    gtid_73449 = remnant_96110;\n    remnant_96111 = remnant_96110 - gtid_73449;\n    if (slt64(gtid_73448, defunc_res_69611) && slt64(gtid_73449, dim_30964)) {\n        int64_t perDim_73457;\n        int64_t preDim_73458;\n        bool zzero_73459;\n        bool nonzzero_73460;\n        bool nonzzero_cert_73461;\n        bool zzero_73463;\n        bool nonzzero_73464;\n        bool nonzzero_cert_73465;\n        int64_t zv_lhs_73462;\n        int64_t dzlz7bUskOpzifrom_i64", "z7dUzg_arg0_73466;\n        double i64_res_73467;\n        double dzlz7bUZLskOpzitimesZRz7dUzg_arg1_73468;\n        double defunc_0_times_res_73469;\n        double dzlz7bUZLskOpziplusZRz7dUzg_arg0_73470;\n        double defunc_0_plus_res_73471;\n        \n        perDim_73457 = ((__global int64_t *) grid_partitions_per_dim_mem_90815)[gtid_73449];\n        preDim_73458 = ((__global int64_t *) mem_90835)[gtid_73449];\n        zzero_73459 = preDim_73458 == (int64_t) 0;\n        nonzzero_73460 = !zzero_73459;\n        if (!nonzzero_73460) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 26) == -1) {\n                    ;\n                }\n                return;\n            }\n        }\n        zzero_73463 = perDim_73457 == (int64_t) 0;\n        nonzzero_73464 = !zzero_73463;\n        if (!nonzzero_73464) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 27) == -1) {\n                    ;\n                }\n                return;\n            }\n        }\n        zv_lhs_73462 = sdiv64(gtid_73448, preDim_73458);\n        dzlz7bUskOpzifrom_i64z7dUzg_arg0_73466 = smod64(zv_lhs_73462, perDim_73457);\n        i64_res_73467 = sitofp_i64_f64(dzlz7bUskOpzifrom_i64z7dUzg_arg0_73466);\n        dzlz7bUZLskOpzitimesZRz7dUzg_arg1_73468 = ((__global double *) mem_90823)[gtid_73449];\n        defunc_0_times_res_73469 = i64_res_73467 * dzlz7bUZLskOpzitimesZRz7dUzg_arg1_73468;\n        dzlz7bUZLskOpziplusZRz7dUzg_arg0_73470 = ((__global double *) min_per_dim_mem_90813)[gtid_73449];\n        defunc_0_plus_res_73471 = defunc_0_times_res_73469 + dzlz7bUZLskOpziplusZRz7dUzg_arg0_73470;\n        ((__global double *) mem_90842)[gtid_73448 * dim_30964 + gtid_73449] = defunc_0_plus_res_73471;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_73445\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegred_nonseg_73297_dim1, 1, 1)\nvoid define_skyline_space_doublezisegred_nonseg_73297(__global int *global_failure, int64_t dim_30964, int64_", "t num_tblocks_73292, int64_t num_threads_95916, __global unsigned char *mem_90821, __global unsigned char *mem_90825, __global unsigned char *counters_mem_95912, __global unsigned char *segred_tmp_mem_95914)\n{\n    #define segred_tblock_sizze_73290 (define_skyline_space_doublezisegred_nonseg_73297zisegred_tblock_sizze_73290)\n    #define chunk_sizze_95911 (define_skyline_space_doublezisegred_nonseg_73297zichunk_sizze_95911)\n    \n    volatile __local unsigned char *sync_arr_mem_95924_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_95924_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_95922_backing_0 = &shared_mem[sync_arr_mem_95924_backing_1_offset];\n    const int64_t red_arr_i64_mem_95922_backing_0_offset = sync_arr_mem_95924_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_73290 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_73290, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95918;\n    int32_t tblock_sizze_95921;\n    int32_t wave_sizze_95920;\n    int32_t block_id_95919;\n    int32_t global_tid_95917;\n    int64_t phys_tid_73297;\n    __local unsigned char *red_arr_i64_mem_95922;\n    __local unsigned char *sync_arr_mem_95924;\n    int64_t dummy_73295;\n    int64_t gtid_73296;\n    int64_t q_95926;\n    int64_t eta_p_block_res_acc_95927;\n    int64_t eta_p_69369;\n    int64_t eta_p_69370;\n    int64_t tblock_id_in_segment_95931;\n    int64_t block_base_offset_95932;\n    int32_t offset_95935;\n    int32_t skip_waves_95936;\n    int64_t eta_p_95928;\n    int64_t eta_p_95929;\n    int32_t old_counter_95937;\n    bool is_last_block_95938;\n    \n    local_tid_95918 = get_local_id(0);\n    tblock_sizze_95921 = get_local_size(0);\n    wave_sizze_95920 = LOCKSTEP_WIDTH;\n    block_id_95919 = get_tblock_id(0);\n    global_tid_95917 = block_id_95919 * tblock_sizze_95921 + local_tid_95918;\n    phys_tid_73297 = sext_i32_i64(global_tid_95917);\n    red_arr_i64_mem_95922 = (__loca",
                                    "l unsigned char *) red_arr_i64_mem_95922_backing_0;\n    sync_arr_mem_95924 = (__local unsigned char *) sync_arr_mem_95924_backing_1;\n    dummy_73295 = (int64_t) 0;\n    gtid_73296 = (int64_t) 0;\n    q_95926 = sdiv_up64(dim_30964, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_73290 * num_tblocks_73292)) * chunk_sizze_95911);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_95927 = (int64_t) 1;\n    }\n    tblock_id_in_segment_95931 = squot64(phys_tid_73297, segred_tblock_sizze_73290);\n    block_base_offset_95932 = tblock_id_in_segment_95931 * q_95926 * segred_tblock_sizze_73290;\n    for (int64_t i_95933 = 0; i_95933 < q_95926; i_95933++) {\n        int64_t block_offset_95934 = block_base_offset_95932 + i_95933 * segred_tblock_sizze_73290;\n        \n        gtid_73296 = phys_tid_73297 + num_threads_95916 * i_95933;\n        if (slt64(gtid_73296, dim_30964)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_73279 = ((__global int64_t *) mem_90821)[gtid_73296];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_69369 = eta_p_block_res_acc_95927;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_69370 = x_73279;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t zt_res_69371 = mul64(eta_p_69369, eta_p_69370);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_95927 = zt_res_69371;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i", "64(local_tid_95918)] = eta_p_block_res_acc_95927;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_95936 = 1;\n    offset_95935 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_95918, sext_i64_i32(segred_tblock_sizze_73290))) {\n            eta_p_95928 = ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918 + offset_95935)];\n        }\n    }\n    offset_95935 = 1;\n    while (slt32(offset_95935, wave_sizze_95920)) {\n        if (slt32(local_tid_95918 + offset_95935, sext_i64_i32(segred_tblock_sizze_73290)) && ((local_tid_95918 - squot32(local_tid_95918, wave_sizze_95920) * wave_sizze_95920) & (2 * offset_95935 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_95929 = ((volatile __local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918 + offset_95935)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_95930 = mul64(eta_p_95928, eta_p_95929);\n                \n                eta_p_95928 = zt_res_95930;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918)] = eta_p_95928;\n            }\n        }\n        offset_95935 *= 2;\n    }\n    while (slt32(skip_waves_95936, squot32(sext_i64_i32(segred_tblock_sizze_73290) + wave_sizze_95920 - 1, wave_sizze_95920))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_95935 = skip_waves_95936 * wave_sizze_95920;\n        if (slt32(local_tid_95918 + offset_95935, sext_i64_i32(segred_tblock_sizze_73290)) && ((local_tid_95918 - squot32(local_tid_95918, wave_sizze_95920) * wave_sizze_95920) == 0 && (squot32(local_tid_95918, wave_sizze_95920) & (2 * skip_waves_95936 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_95929 = ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918 + offset_95935)];\n            }\n      ", "      // apply reduction operation\n            {\n                int64_t zt_res_95930 = mul64(eta_p_95928, eta_p_95929);\n                \n                eta_p_95928 = zt_res_95930;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918)] = eta_p_95928;\n            }\n        }\n        skip_waves_95936 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_95918) == (int64_t) 0) {\n            eta_p_block_res_acc_95927 = eta_p_95928;\n        } else {\n            eta_p_block_res_acc_95927 = (int64_t) 1;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_95918 == 0) {\n            ((__global int64_t *) segred_tmp_mem_95914)[sext_i32_i64(block_id_95919)] = eta_p_block_res_acc_95927;\n            mem_fence_global();\n            old_counter_95937 = atomic_add_i32_global(&((volatile __global int *) counters_mem_95912)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_95924)[(int64_t) 0] = old_counter_95937 == sext_i64_i32(num_tblocks_73292 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_95938 = ((__local bool *) sync_arr_mem_95924)[(int64_t) 0];\n    if (is_last_block_95938) {\n        if (local_tid_95918 == 0) {\n            old_counter_95937 = atomic_add_i32_global(&((volatile __global int *) counters_mem_95912)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_73292));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_95939 = sdiv_up64(num_tblocks_73292, segred_tblock_sizze_73290);\n            \n            eta_p_69369 = (int64_t) 1;\n            for (int64_t i_95940 = 0; i_95940 < read_per_thread_95939; i_95940++) {\n                int64_t block_res_id_95941 = sext_i",
                                    "32_i64(local_tid_95918) * read_per_thread_95939 + i_95940;\n                int64_t index_of_block_res_95942 = block_res_id_95941;\n                \n                if (slt64(block_res_id_95941, num_tblocks_73292)) {\n                    eta_p_69370 = ((__global int64_t *) segred_tmp_mem_95914)[index_of_block_res_95942];\n                    \n                    int64_t zt_res_69371 = mul64(eta_p_69369, eta_p_69370);\n                    \n                    eta_p_69369 = zt_res_69371;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918)] = eta_p_69369;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_95943;\n            int32_t skip_waves_95944 = 1;\n            int64_t eta_p_95928;\n            int64_t eta_p_95929;\n            \n            offset_95943 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_95918, sext_i64_i32(segred_tblock_sizze_73290))) {\n                    eta_p_95928 = ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918 + offset_95943)];\n                }\n            }\n            offset_95943 = 1;\n            while (slt32(offset_95943, wave_sizze_95920)) {\n                if (slt32(local_tid_95918 + offset_95943, sext_i64_i32(segred_tblock_sizze_73290)) && ((local_tid_95918 - squot32(local_tid_95918, wave_sizze_95920) * wave_sizze_95920) & (2 * offset_95943 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_95929 = ((volatile __local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918 + offset_95943)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_95930 = mul64(eta_p_95928, eta_p_95929);\n                        \n                        eta_p_95928 = zt_res_95930;\n                    ", "}\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918)] = eta_p_95928;\n                    }\n                }\n                offset_95943 *= 2;\n            }\n            while (slt32(skip_waves_95944, squot32(sext_i64_i32(segred_tblock_sizze_73290) + wave_sizze_95920 - 1, wave_sizze_95920))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_95943 = skip_waves_95944 * wave_sizze_95920;\n                if (slt32(local_tid_95918 + offset_95943, sext_i64_i32(segred_tblock_sizze_73290)) && ((local_tid_95918 - squot32(local_tid_95918, wave_sizze_95920) * wave_sizze_95920) == 0 && (squot32(local_tid_95918, wave_sizze_95920) & (2 * skip_waves_95944 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_95929 = ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918 + offset_95943)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_95930 = mul64(eta_p_95928, eta_p_95929);\n                        \n                        eta_p_95928 = zt_res_95930;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_95922)[sext_i32_i64(local_tid_95918)] = eta_p_95928;\n                    }\n                }\n                skip_waves_95944 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_95918 == 0) {\n                    ((__global int64_t *) mem_90825)[(int64_t) 0] = eta_p_95928;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_73290\n    #undef chunk_sizze_95911\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegred_nonseg_", "73317_dim1, 1, 1)\nvoid define_skyline_space_doublezisegred_nonseg_73317(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, int64_t num_tblocks_73312, int64_t num_threads_96054, __global unsigned char *mem_90830, __global unsigned char *mem_90832, __global unsigned char *counters_mem_96050, __global unsigned char *segred_tmp_mem_96052)\n{\n    #define segred_tblock_sizze_73310 (define_skyline_space_doublezisegred_nonseg_73317zisegred_tblock_sizze_73310)\n    #define chunk_sizze_96049 (define_skyline_space_doublezisegred_nonseg_73317zichunk_sizze_96049)\n    \n    volatile __local unsigned char *sync_arr_mem_96062_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_96062_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_96060_backing_0 = &shared_mem[sync_arr_mem_96062_backing_1_offset];\n    const int64_t red_arr_i64_mem_96060_backing_0_offset = sync_arr_mem_96062_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_73310 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_73310, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96056;\n    int32_t tblock_sizze_96059;\n    int32_t wave_sizze_96058;\n    int32_t block_id_96057;\n    int32_t global_tid_96055;\n    int64_t phys_tid_73317;\n    __local unsigned char *red_arr_i64_mem_96060;\n    __local unsigned char *sync_arr_mem_96062;\n    int64_t dummy_73315;\n    int64_t gtid_73316;\n    int64_t q_96064;\n    int64_t eta_p_block_res_acc_96065;\n    int64_t eta_p_69376;\n    int64_t eta_p_69377;\n    int64_t tblock_id_in_segment_96069;\n    int64_t block_base_offset_96070;\n    int32_t offset_96073;\n    int32_t skip_waves_96074;\n    int64_t eta_p_96066;\n    int64_t eta_p_96067;\n    int32_t old_counter_96075;\n    bool is_last_block_96076;\n    \n    local_tid_96056 = get_local_id(0);\n    tblock_sizze_96059 = get_local_size(0);\n    wave_sizze_96058 = LOCKSTEP_WIDTH;\n    block_id_96057 = get_tblock_id(0);\n    global_",
                                    "tid_96055 = block_id_96057 * tblock_sizze_96059 + local_tid_96056;\n    phys_tid_73317 = sext_i32_i64(global_tid_96055);\n    red_arr_i64_mem_96060 = (__local unsigned char *) red_arr_i64_mem_96060_backing_0;\n    sync_arr_mem_96062 = (__local unsigned char *) sync_arr_mem_96062_backing_1;\n    dummy_73315 = (int64_t) 0;\n    gtid_73316 = (int64_t) 0;\n    q_96064 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_73310 * num_tblocks_73312)) * chunk_sizze_96049);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_96065 = (int64_t) 1;\n    }\n    tblock_id_in_segment_96069 = squot64(phys_tid_73317, segred_tblock_sizze_73310);\n    block_base_offset_96070 = tblock_id_in_segment_96069 * q_96064 * segred_tblock_sizze_73310;\n    for (int64_t i_96071 = 0; i_96071 < q_96064; i_96071++) {\n        int64_t block_offset_96072 = block_base_offset_96070 + i_96071 * segred_tblock_sizze_73310;\n        \n        gtid_73316 = phys_tid_73317 + num_threads_96054 * i_96071;\n        if (slt64(gtid_73316, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_73299 = ((__global int64_t *) mem_90830)[gtid_73316];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_69376 = eta_p_block_res_acc_96065;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_69377 = x_73299;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t zt_res_69378 = mul64(eta_p_69376, eta_p_69377);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96065 = zt_res_69378;\n                        }\n                    }\n            ", "    }\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056)] = eta_p_block_res_acc_96065;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_96074 = 1;\n    offset_96073 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_96056, sext_i64_i32(segred_tblock_sizze_73310))) {\n            eta_p_96066 = ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056 + offset_96073)];\n        }\n    }\n    offset_96073 = 1;\n    while (slt32(offset_96073, wave_sizze_96058)) {\n        if (slt32(local_tid_96056 + offset_96073, sext_i64_i32(segred_tblock_sizze_73310)) && ((local_tid_96056 - squot32(local_tid_96056, wave_sizze_96058) * wave_sizze_96058) & (2 * offset_96073 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_96067 = ((volatile __local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056 + offset_96073)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_96068 = mul64(eta_p_96066, eta_p_96067);\n                \n                eta_p_96066 = zt_res_96068;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056)] = eta_p_96066;\n            }\n        }\n        offset_96073 *= 2;\n    }\n    while (slt32(skip_waves_96074, squot32(sext_i64_i32(segred_tblock_sizze_73310) + wave_sizze_96058 - 1, wave_sizze_96058))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_96073 = skip_waves_96074 * wave_sizze_96058;\n        if (slt32(local_tid_96056 + offset_96073, sext_i64_i32(segred_tblock_sizze_73310)) && ((local_tid_96056 - squot32(local_tid_96056, wave_sizze_96058) * wave_sizze_96058) == 0 && (squot32(local_tid_96056, wave_sizze_96058) & (2 * skip_waves", "_96074 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_96067 = ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056 + offset_96073)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_96068 = mul64(eta_p_96066, eta_p_96067);\n                \n                eta_p_96066 = zt_res_96068;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056)] = eta_p_96066;\n            }\n        }\n        skip_waves_96074 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_96056) == (int64_t) 0) {\n            eta_p_block_res_acc_96065 = eta_p_96066;\n        } else {\n            eta_p_block_res_acc_96065 = (int64_t) 1;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_96056 == 0) {\n            ((__global int64_t *) segred_tmp_mem_96052)[sext_i32_i64(block_id_96057)] = eta_p_block_res_acc_96065;\n            mem_fence_global();\n            old_counter_96075 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96050)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_96062)[(int64_t) 0] = old_counter_96075 == sext_i64_i32(num_tblocks_73312 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_96076 = ((__local bool *) sync_arr_mem_96062)[(int64_t) 0];\n    if (is_last_block_96076) {\n        if (local_tid_96056 == 0) {\n            old_counter_96075 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96050)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_73312));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_96077 = sdiv_up64(num_tblocks_73312, segr",
                                    "ed_tblock_sizze_73310);\n            \n            eta_p_69376 = (int64_t) 1;\n            for (int64_t i_96078 = 0; i_96078 < read_per_thread_96077; i_96078++) {\n                int64_t block_res_id_96079 = sext_i32_i64(local_tid_96056) * read_per_thread_96077 + i_96078;\n                int64_t index_of_block_res_96080 = block_res_id_96079;\n                \n                if (slt64(block_res_id_96079, num_tblocks_73312)) {\n                    eta_p_69377 = ((__global int64_t *) segred_tmp_mem_96052)[index_of_block_res_96080];\n                    \n                    int64_t zt_res_69378 = mul64(eta_p_69376, eta_p_69377);\n                    \n                    eta_p_69376 = zt_res_69378;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056)] = eta_p_69376;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_96081;\n            int32_t skip_waves_96082 = 1;\n            int64_t eta_p_96066;\n            int64_t eta_p_96067;\n            \n            offset_96081 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_96056, sext_i64_i32(segred_tblock_sizze_73310))) {\n                    eta_p_96066 = ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056 + offset_96081)];\n                }\n            }\n            offset_96081 = 1;\n            while (slt32(offset_96081, wave_sizze_96058)) {\n                if (slt32(local_tid_96056 + offset_96081, sext_i64_i32(segred_tblock_sizze_73310)) && ((local_tid_96056 - squot32(local_tid_96056, wave_sizze_96058) * wave_sizze_96058) & (2 * offset_96081 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_96067 = ((volatile __local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056 + offset_96081)];\n                    }\n                    // apply reductio", "n operation\n                    {\n                        int64_t zt_res_96068 = mul64(eta_p_96066, eta_p_96067);\n                        \n                        eta_p_96066 = zt_res_96068;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056)] = eta_p_96066;\n                    }\n                }\n                offset_96081 *= 2;\n            }\n            while (slt32(skip_waves_96082, squot32(sext_i64_i32(segred_tblock_sizze_73310) + wave_sizze_96058 - 1, wave_sizze_96058))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_96081 = skip_waves_96082 * wave_sizze_96058;\n                if (slt32(local_tid_96056 + offset_96081, sext_i64_i32(segred_tblock_sizze_73310)) && ((local_tid_96056 - squot32(local_tid_96056, wave_sizze_96058) * wave_sizze_96058) == 0 && (squot32(local_tid_96056, wave_sizze_96058) & (2 * skip_waves_96082 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_96067 = ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056 + offset_96081)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_96068 = mul64(eta_p_96066, eta_p_96067);\n                        \n                        eta_p_96066 = zt_res_96068;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_96060)[sext_i32_i64(local_tid_96056)] = eta_p_96066;\n                    }\n                }\n                skip_waves_96082 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_96056 == 0) {\n                    ((__global int64_t *) mem_90832)[(int64_t) 0] = eta_p_9606", "6;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_73310\n    #undef chunk_sizze_96049\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegscan_73287_dim1, 1, 1)\nvoid define_skyline_space_doublezisegscan_73287(__global int *global_failure, int64_t dim_30964, int64_t num_tblocks_73284, int64_t num_virt_blocks_95773, int64_t num_virt_threads_95774, __global unsigned char *min_per_dim_mem_90813, __global unsigned char *max_per_dim_mem_90814, __global unsigned char *grid_partitions_per_dim_mem_90815, __global unsigned char *mem_90819, __global unsigned char *mem_90821, __global unsigned char *mem_90823, __global unsigned char *status_flags_mem_95775, __global unsigned char *aggregates_mem_95797, __global unsigned char *incprefixes_mem_95799, __global unsigned char *global_dynid_mem_95801)\n{\n    #define segscan_tblock_sizze_73282 (define_skyline_space_doublezisegscan_73287zisegscan_tblock_sizze_73282)\n    #define chunk_sizze_95772 (define_skyline_space_doublezisegscan_73287zichunk_sizze_95772)\n    \n    volatile __local unsigned char *local_mem_95831_backing_0 = &shared_mem[0];\n    const int64_t local_mem_95831_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73282), chunk_sizze_95772 * segscan_tblock_sizze_73282 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73282), chunk_sizze_95772 * segscan_tblock_sizze_73282 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95824;\n    int32_t tblock_sizze_95827;\n    int32_t wave_sizze_95826;\n    int32_t block_id_95825;\n    int32_t global_tid_95823;\n    int64_t phys_tid_73287;\n    int32_t chunk_sizze_32b_95828;\n    int64_t byte_offsets_95829;\n    int64_t warp_byte_offset_95830;\n    __local unsigned char *local_mem_95831;\n    int64_t trans_arr_len_95832;\n    int64_t phys_block_id_95838;\n    int64_t virtlo",
                                    "op_bound_95839;\n    \n    local_tid_95824 = get_local_id(0);\n    tblock_sizze_95827 = get_local_size(0);\n    wave_sizze_95826 = LOCKSTEP_WIDTH;\n    block_id_95825 = get_tblock_id(0);\n    global_tid_95823 = block_id_95825 * tblock_sizze_95827 + local_tid_95824;\n    phys_tid_73287 = sext_i32_i64(global_tid_95823);\n    chunk_sizze_32b_95828 = sext_i64_i32(chunk_sizze_95772);\n    byte_offsets_95829 = segscan_tblock_sizze_73282 * (int64_t) 8;\n    warp_byte_offset_95830 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_95831 = (__local unsigned char *) local_mem_95831_backing_0;\n    trans_arr_len_95832 = chunk_sizze_95772 * segscan_tblock_sizze_73282;\n    phys_block_id_95838 = get_tblock_id(0);\n    virtloop_bound_95839 = sdiv_up64(num_virt_blocks_95773 - phys_block_id_95838, num_tblocks_73284);\n    for (int64_t virtloop_i_95840 = 0; virtloop_i_95840 < virtloop_bound_95839; virtloop_i_95840++) {\n        int64_t dynamic_id_95841;\n        int64_t block_offset_95842;\n        int64_t sgm_idx_95843;\n        int32_t boundary_95844;\n        int32_t segsizze_compact_95845;\n        int64_t private_mem_95846[chunk_sizze_95772];\n        int64_t thd_offset_95848;\n        int64_t acc_95864;\n        int64_t prefix_95874;\n        bool block_new_sgm_95875;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_95824 == 0) {\n                dynamic_id_95841 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_95801)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_95831)[(int64_t) 0] = dynamic_id_95841;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_95841 == num_virt_blocks_95773 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_95801)[(int64_t) 0] = 0;\n                ", "    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_95841 = ((__local int32_t *) local_mem_95831)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_95842 = dynamic_id_95841 * chunk_sizze_95772 * segscan_tblock_sizze_73282;\n        sgm_idx_95843 = smod64(block_offset_95842, dim_30964);\n        boundary_95844 = sext_i64_i32(smin64(chunk_sizze_95772 * segscan_tblock_sizze_73282, dim_30964 - sgm_idx_95843));\n        segsizze_compact_95845 = sext_i64_i32(smin64(chunk_sizze_95772 * segscan_tblock_sizze_73282, dim_30964));\n        thd_offset_95848 = block_offset_95842 + sext_i32_i64(local_tid_95824);\n        // Load and map\n        {\n            for (int64_t i_95849 = 0; i_95849 < chunk_sizze_95772; i_95849++) {\n                int64_t virt_tid_95850 = thd_offset_95848 + i_95849 * segscan_tblock_sizze_73282;\n                int64_t slice_95851 = dim_30964;\n                int64_t gtid_73286 = virt_tid_95850;\n                int64_t remnant_95852 = virt_tid_95850 - gtid_73286;\n                \n                if (slt64(virt_tid_95850, dim_30964)) {\n                    int64_t x_69594 = ((__global int64_t *) grid_partitions_per_dim_mem_90815)[gtid_73286];\n                    double eta_p_69595 = ((__global double *) min_per_dim_mem_90813)[gtid_73286];\n                    double eta_p_69596 = ((__global double *) max_per_dim_mem_90814)[gtid_73286];\n                    double i64_res_69599 = sitofp_i64_f64(x_69594);\n                    double defunc_0_minus_res_69601 = eta_p_69596 - eta_p_69595;\n                    double defunc_0_over_res_69602 = defunc_0_minus_res_69601 / i64_res_69599;\n                    \n                    ((__global int64_t *) mem_90821)[gtid_73286] = x_69594;\n                    ((__global double *) mem_90823)[gtid_73286] = defunc_0_over_res_69602;\n                    private_mem_95846[i_95849] = x_69594;\n                } else {\n                    private_mem_95846[i_95849] =", " (int64_t) 1;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_95853 = 0; i_95853 < chunk_sizze_95772; i_95853++) {\n                int64_t sharedIdx_95854 = sext_i32_i64(local_tid_95824) + i_95853 * segscan_tblock_sizze_73282;\n                int64_t tmp_95855 = private_mem_95846[i_95853];\n                \n                ((__local int64_t *) local_mem_95831)[sharedIdx_95854] = tmp_95855;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_95856 = 0; i_95856 < chunk_sizze_95772; i_95856++) {\n                int64_t sharedIdx_95857 = sext_i32_i64(local_tid_95824) * chunk_sizze_95772 + i_95856;\n                int64_t tmp_95858 = ((__local int64_t *) local_mem_95831)[sharedIdx_95857];\n                \n                private_mem_95846[i_95856] = tmp_95858;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_95859 = 0; i_95859 < chunk_sizze_95772 - (int64_t) 1; i_95859++) {\n                int64_t eta_p_58621;\n                int64_t eta_p_58622;\n                \n                eta_p_58621 = private_mem_95846[i_95859];\n                eta_p_58622 = private_mem_95846[i_95859 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_58623 = mul64(eta_p_58621, eta_p_58622);\n                \n                private_mem_95846[i_95859 + (int64_t) 1] = defunc_0_op_res_58623;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_95860 = private_mem_95846[chunk_sizze_95772 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)] = tmp_95860;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_95861;\n            int64_t eta_p_95862;\n            int64_t eta_p_95865;\n            int6",
                                    "4_t eta_p_95866;\n            bool ltid_in_bounds_95868 = slt64(sext_i32_i64(local_tid_95824), num_virt_threads_95774);\n            int32_t skip_threads_95869;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_95868) {\n                    eta_p_95862 = ((volatile __local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)];\n                    if ((local_tid_95824 - squot32(local_tid_95824, 32) * 32) == 0) {\n                        eta_p_95861 = eta_p_95862;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_95869 = 1;\n                while (slt32(skip_threads_95869, 32)) {\n                    bool thread_active_95870 = sle32(skip_threads_95869, local_tid_95824 - squot32(local_tid_95824, 32) * 32) && ltid_in_bounds_95868;\n                    \n                    if (thread_active_95870) {\n                        // read operands\n                        {\n                            eta_p_95861 = ((volatile __local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824) - sext_i32_i64(skip_threads_95869)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_95870) {\n                            int64_t defunc_0_op_res_95863 = mul64(eta_p_95861, eta_p_95862);\n                            \n                            eta_p_95861 = defunc_0_op_res_95863;\n                        }\n                    }\n                    if (sle32(wave_sizze_95826, skip_threads_95869)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_95870) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)] = eta_p_95861;\n                            eta_", "p_95862 = eta_p_95861;\n                        }\n                    }\n                    if (sle32(wave_sizze_95826, skip_threads_95869)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_95869 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_95824 - squot32(local_tid_95824, 32) * 32) == 31 && ltid_in_bounds_95868) {\n                    ((volatile __local int64_t *) local_mem_95831)[sext_i32_i64(squot32(local_tid_95824, 32))] = eta_p_95861;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_95871;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_95824, 32) == 0 && ltid_in_bounds_95868) {\n                        eta_p_95866 = ((volatile __local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)];\n                        if ((local_tid_95824 - squot32(local_tid_95824, 32) * 32) == 0) {\n                            eta_p_95865 = eta_p_95866;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_95871 = 1;\n                    while (slt32(skip_threads_95871, 32)) {\n                        bool thread_active_95872 = sle32(skip_threads_95871, local_tid_95824 - squot32(local_tid_95824, 32) * 32) && (squot32(local_tid_95824, 32) == 0 && ltid_in_bounds_95868);\n                        \n                        if (thread_active_95872) {\n                            // read operands\n                            {\n                                eta_p_95865 = ((volatile __local int64_t *) local_mem_95831", ")[sext_i32_i64(local_tid_95824) - sext_i32_i64(skip_threads_95871)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_95872) {\n                                int64_t defunc_0_op_res_95867 = mul64(eta_p_95865, eta_p_95866);\n                                \n                                eta_p_95865 = defunc_0_op_res_95867;\n                            }\n                        }\n                        if (sle32(wave_sizze_95826, skip_threads_95871)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_95872) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)] = eta_p_95865;\n                                eta_p_95866 = eta_p_95865;\n                            }\n                        }\n                        if (sle32(wave_sizze_95826, skip_threads_95871)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_95871 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_95873 = squot32(local_tid_95824, 32) == 0 || !ltid_in_bounds_95868;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_95873) {\n                        eta_p_95862 = eta_p_95861;\n                        eta_p_95861 = ((__local int64_t *) local_mem_95831)[sext_i32_i64(squot32(local_tid_95824, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_95873) {\n                        int64_t defunc_0_op_res_",
                                    "95863 = mul64(eta_p_95861, eta_p_95862);\n                        \n                        eta_p_95861 = defunc_0_op_res_95863;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_95873) {\n                        ((__local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)] = eta_p_95861;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_95824, 32) == 0 && ltid_in_bounds_95868) {\n                    ((__local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)] = eta_p_95862;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_95824 == 0) {\n                acc_95864 = ((__local int64_t *) local_mem_95831)[segscan_tblock_sizze_73282 - (int64_t) 1];\n            } else {\n                acc_95864 = ((__local int64_t *) local_mem_95831)[sext_i32_i64(local_tid_95824) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_95874 = (int64_t) 1;\n        block_new_sgm_95875 = sgm_idx_95843 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_95875 && local_tid_95824 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_95799)[dynamic_id_95841] = acc_95864;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_95775)[dynamic_id_95841] = (int8_t) 2;\n                acc_95864 = (int64_t) 1;\n            }\n            if (!block_new_sgm_95875 && slt32(local_tid_95824, wave_sizze_95826)) {\n                if (local_tid_95824 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_95797)[dynamic_id_95841] = acc_95864;\n                    mem_fence_global();\n                    ((volatile __global int8_t ", "*) status_flags_mem_95775)[dynamic_id_95841] = (int8_t) 1;\n                    \n                    int8_t tmp_95876 = ((volatile __global int8_t *) status_flags_mem_95775)[dynamic_id_95841 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_95831)[(int64_t) 0] = tmp_95876;\n                }\n                mem_fence_local();\n                \n                int8_t status_95877 = ((__local int8_t *) local_mem_95831)[(int64_t) 0];\n                \n                if (status_95877 == (int8_t) 2) {\n                    if (local_tid_95824 == 0) {\n                        prefix_95874 = ((volatile __global int64_t *) incprefixes_mem_95799)[dynamic_id_95841 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_95878 = sext_i64_i32(dynamic_id_95841 - sext_i32_i64(wave_sizze_95826));\n                    \n                    while (slt32(wave_sizze_95826 * -1, readOffset_95878)) {\n                        int32_t read_i_95879 = readOffset_95878 + local_tid_95824;\n                        int64_t aggr_95880 = (int64_t) 1;\n                        int8_t flag_95881 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_95879)) {\n                            flag_95881 = ((volatile __global int8_t *) status_flags_mem_95775)[sext_i32_i64(read_i_95879)];\n                            if (flag_95881 == (int8_t) 2) {\n                                aggr_95880 = ((volatile __global int64_t *) incprefixes_mem_95799)[sext_i32_i64(read_i_95879)];\n                            } else if (flag_95881 == (int8_t) 1) {\n                                aggr_95880 = ((volatile __global int64_t *) aggregates_mem_95797)[sext_i32_i64(read_i_95879)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_95831)[(int64_t) 4 + sext_i32_i64(local_tid_95824)] = aggr_95880;\n                        ((__local int8_t *) local_mem_95831)[sext", "_i32_i64(local_tid_95824)] = flag_95881;\n                        flag_95881 = ((__local int8_t *) local_mem_95831)[sext_i32_i64(wave_sizze_95826) - (int64_t) 1];\n                        if (slt8(flag_95881, (int8_t) 2)) {\n                            int8_t flg_x_95885;\n                            int8_t flg_y_95886;\n                            int64_t eta_p_95882;\n                            int64_t eta_p_95883;\n                            int32_t skip_threads_95887;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_95886 = ((volatile __local int8_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)];\n                                eta_p_95883 = ((volatile __local int64_t *) local_mem_95831)[(int64_t) 4 + sext_i32_i64(local_tid_95824)];\n                                if ((local_tid_95824 - squot32(local_tid_95824, 32) * 32) == 0) {\n                                    eta_p_95882 = eta_p_95883;\n                                    flg_x_95885 = flg_y_95886;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_95887 = 1;\n                                while (slt32(skip_threads_95887, 32)) {\n                                    if (sle32(skip_threads_95887, local_tid_95824 - squot32(local_tid_95824, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_95885 = ((volatile __local int8_t *) local_mem_95831)[sext_i32_i64(local_tid_95824) - sext_i32_i64(skip_threads_95887)];\n                                            eta_p_95882 = ((volatile __local int64_t *) local_mem_95831)[(int64_t) 4 + (sext_i32_i64(local_tid_95824) - sext_i32_i64(skip_threads_95887))];\n                                        }\n  ",
                                    "                                      // perform operation\n                                        {\n                                            if (flg_y_95886 == (int8_t) 2 || flg_y_95886 == (int8_t) 0) {\n                                                flg_x_95885 = flg_y_95886;\n                                                eta_p_95882 = eta_p_95883;\n                                            } else {\n                                                int64_t defunc_0_op_res_95884 = mul64(eta_p_95882, eta_p_95883);\n                                                \n                                                eta_p_95882 = defunc_0_op_res_95884;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_95831)[sext_i32_i64(local_tid_95824)] = flg_x_95885;\n                                            flg_y_95886 = flg_x_95885;\n                                            ((volatile __local int64_t *) local_mem_95831)[(int64_t) 4 + sext_i32_i64(local_tid_95824)] = eta_p_95882;\n                                            eta_p_95883 = eta_p_95882;\n                                        }\n                                    }\n                                    skip_threads_95887 *= 2;\n                                }\n                            }\n                        }\n                        flag_95881 = ((__local int8_t *) local_mem_95831)[sext_i32_i64(wave_sizze_95826) - (int64_t) 1];\n                        aggr_95880 = ((__local int64_t *) local_mem_95831)[(int64_t) 4 + (sext_i32_i64(wave_sizze_95826) - (int64_t) 1)];\n                        if (flag_95881 == (int8_t) 2) {\n                            readOffset_95878 = wave_sizze_95826 * -1;\n                        } else if (flag_95881 == (int8_t) 1) {\n                            readOffset_95878 -= w", "ave_sizze_95826;\n                        }\n                        if (slt8((int8_t) 0, flag_95881)) {\n                            int64_t eta_p_95888 = aggr_95880;\n                            int64_t eta_p_95889 = prefix_95874;\n                            int64_t defunc_0_op_res_95890 = mul64(eta_p_95888, eta_p_95889);\n                            \n                            prefix_95874 = defunc_0_op_res_95890;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_95824 == 0) {\n                    if (boundary_95844 == sext_i64_i32(segscan_tblock_sizze_73282 * chunk_sizze_95772)) {\n                        int64_t eta_p_95891 = prefix_95874;\n                        int64_t eta_p_95892 = acc_95864;\n                        int64_t defunc_0_op_res_95893 = mul64(eta_p_95891, eta_p_95892);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_95799)[dynamic_id_95841] = defunc_0_op_res_95893;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_95775)[dynamic_id_95841] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_95831)[(int64_t) 4] = prefix_95874;\n                    acc_95864 = (int64_t) 1;\n                }\n            }\n            if (!(dynamic_id_95841 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_95874 = ((__local int64_t *) local_mem_95831)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_95894;\n            int64_t eta_p_95895;\n            int64_t eta_p_95897 = prefix_95874;\n            int64_t eta_p_95898 = acc_95864;\n            \n            if (slt32(local_tid_95824 * chunk_sizze_32b_95828, boundary_95844) && !block_new_sgm_95875) {\n                int64_t defunc_0_op_res_95899 = mul64(eta_p_9", "5897, eta_p_95898);\n                \n                eta_p_95894 = defunc_0_op_res_95899;\n            } else {\n                eta_p_95894 = acc_95864;\n            }\n            \n            int32_t stopping_point_95900 = segsizze_compact_95845 - srem32(local_tid_95824 * chunk_sizze_32b_95828 - 1 + segsizze_compact_95845 - boundary_95844, segsizze_compact_95845);\n            \n            for (int64_t i_95901 = 0; i_95901 < chunk_sizze_95772; i_95901++) {\n                if (slt32(sext_i64_i32(i_95901), stopping_point_95900 - 1)) {\n                    eta_p_95895 = private_mem_95846[i_95901];\n                    \n                    int64_t defunc_0_op_res_95896 = mul64(eta_p_95894, eta_p_95895);\n                    \n                    private_mem_95846[i_95901] = defunc_0_op_res_95896;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_95902 = 0; i_95902 < chunk_sizze_95772; i_95902++) {\n                int64_t sharedIdx_95903 = sext_i32_i64(local_tid_95824) * chunk_sizze_95772 + i_95902;\n                int64_t tmp_95904 = private_mem_95846[i_95902];\n                \n                ((__local int64_t *) local_mem_95831)[sharedIdx_95903] = tmp_95904;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_95905 = 0; i_95905 < chunk_sizze_95772; i_95905++) {\n                int64_t flat_idx_95906 = thd_offset_95848 + i_95905 * segscan_tblock_sizze_73282;\n                int64_t slice_95907 = dim_30964;\n                int64_t gtid_73286 = flat_idx_95906;\n                int64_t remnant_95908 = flat_idx_95906 - gtid_73286;\n                \n                if (slt64(flat_idx_95906, dim_30964)) {\n                    int64_t tmp_95909 = ((__local int64_t *) local_mem_95831)[flat_idx_95906 - block_offset_95842];\n                    \n                    ((__global int64_t *) mem_90819)[gtid_73286] = tmp_95909;\n                }\n       ",
                                    "     }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_73282\n    #undef chunk_sizze_95772\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegscan_73307_dim1, 1, 1)\nvoid define_skyline_space_doublezisegscan_73307(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, int64_t num_tblocks_73304, int64_t num_virt_blocks_95951, int64_t num_virt_threads_95952, __global unsigned char *angle_partitions_per_dim_mem_90816, __global unsigned char *mem_90828, __global unsigned char *mem_90830, __global unsigned char *status_flags_mem_95953, __global unsigned char *aggregates_mem_95955, __global unsigned char *incprefixes_mem_95957, __global unsigned char *global_dynid_mem_95959)\n{\n    #define segscan_tblock_sizze_73302 (define_skyline_space_doublezisegscan_73307zisegscan_tblock_sizze_73302)\n    #define chunk_sizze_95950 (define_skyline_space_doublezisegscan_73307zichunk_sizze_95950)\n    \n    volatile __local unsigned char *local_mem_95969_backing_0 = &shared_mem[0];\n    const int64_t local_mem_95969_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73302), chunk_sizze_95950 * segscan_tblock_sizze_73302 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73302), chunk_sizze_95950 * segscan_tblock_sizze_73302 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95962;\n    int32_t tblock_sizze_95965;\n    int32_t wave_sizze_95964;\n    int32_t block_id_95963;\n    int32_t global_tid_95961;\n    int64_t phys_tid_73307;\n    int32_t chunk_sizze_32b_95966;\n    int64_t byte_offsets_95967;\n    int64_t warp_byte_offset_95968;\n    __local unsigned char *local_mem_95969;\n    int64_t trans_arr_len_95970;\n    int64_t phys_block_id_95976;\n    int64_t virtloop_bound_95977;\n    \n    local_tid_95962 = get_local_id(0);\n    tblock_sizze_95965 = ", "get_local_size(0);\n    wave_sizze_95964 = LOCKSTEP_WIDTH;\n    block_id_95963 = get_tblock_id(0);\n    global_tid_95961 = block_id_95963 * tblock_sizze_95965 + local_tid_95962;\n    phys_tid_73307 = sext_i32_i64(global_tid_95961);\n    chunk_sizze_32b_95966 = sext_i64_i32(chunk_sizze_95950);\n    byte_offsets_95967 = segscan_tblock_sizze_73302 * (int64_t) 8;\n    warp_byte_offset_95968 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_95969 = (__local unsigned char *) local_mem_95969_backing_0;\n    trans_arr_len_95970 = chunk_sizze_95950 * segscan_tblock_sizze_73302;\n    phys_block_id_95976 = get_tblock_id(0);\n    virtloop_bound_95977 = sdiv_up64(num_virt_blocks_95951 - phys_block_id_95976, num_tblocks_73304);\n    for (int64_t virtloop_i_95978 = 0; virtloop_i_95978 < virtloop_bound_95977; virtloop_i_95978++) {\n        int64_t dynamic_id_95979;\n        int64_t block_offset_95980;\n        int64_t sgm_idx_95981;\n        int32_t boundary_95982;\n        int32_t segsizze_compact_95983;\n        int64_t private_mem_95984[chunk_sizze_95950];\n        int64_t thd_offset_95986;\n        int64_t acc_96002;\n        int64_t prefix_96012;\n        bool block_new_sgm_96013;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_95962 == 0) {\n                dynamic_id_95979 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_95959)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_95969)[(int64_t) 0] = dynamic_id_95979;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_95979 == num_virt_blocks_95951 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_95959)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);", "\n        dynamic_id_95979 = ((__local int32_t *) local_mem_95969)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_95980 = dynamic_id_95979 * chunk_sizze_95950 * segscan_tblock_sizze_73302;\n        sgm_idx_95981 = smod64(block_offset_95980, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965);\n        boundary_95982 = sext_i64_i32(smin64(chunk_sizze_95950 * segscan_tblock_sizze_73302, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965 - sgm_idx_95981));\n        segsizze_compact_95983 = sext_i64_i32(smin64(chunk_sizze_95950 * segscan_tblock_sizze_73302, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965));\n        thd_offset_95986 = block_offset_95980 + sext_i32_i64(local_tid_95962);\n        // Load and map\n        {\n            for (int64_t i_95987 = 0; i_95987 < chunk_sizze_95950; i_95987++) {\n                int64_t virt_tid_95988 = thd_offset_95986 + i_95987 * segscan_tblock_sizze_73302;\n                int64_t slice_95989 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;\n                int64_t gtid_73306 = virt_tid_95988;\n                int64_t remnant_95990 = virt_tid_95988 - gtid_73306;\n                \n                if (slt64(virt_tid_95988, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965)) {\n                    int64_t x_69606 = ((__global int64_t *) angle_partitions_per_dim_mem_90816)[gtid_73306];\n                    \n                    ((__global int64_t *) mem_90830)[gtid_73306] = x_69606;\n                    private_mem_95984[i_95987] = x_69606;\n                } else {\n                    private_mem_95984[i_95987] = (int64_t) 1;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_95991 = 0; i_95991 < chunk_sizze_95950; i_95991++) {\n                int64_t sharedIdx_95992 = sext_i32_i64(local_tid_95962) + i_95991 * segscan_tblock_sizze_73302;\n                int64_t tmp_95993 = private_mem_95984[i_95991];\n                \n                ((__local int64_t *) local_mem_95969)[sharedIdx_9",
                                    "5992] = tmp_95993;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_95994 = 0; i_95994 < chunk_sizze_95950; i_95994++) {\n                int64_t sharedIdx_95995 = sext_i32_i64(local_tid_95962) * chunk_sizze_95950 + i_95994;\n                int64_t tmp_95996 = ((__local int64_t *) local_mem_95969)[sharedIdx_95995];\n                \n                private_mem_95984[i_95994] = tmp_95996;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_95997 = 0; i_95997 < chunk_sizze_95950 - (int64_t) 1; i_95997++) {\n                int64_t eta_p_58637;\n                int64_t eta_p_58638;\n                \n                eta_p_58637 = private_mem_95984[i_95997];\n                eta_p_58638 = private_mem_95984[i_95997 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_58639 = mul64(eta_p_58637, eta_p_58638);\n                \n                private_mem_95984[i_95997 + (int64_t) 1] = defunc_0_op_res_58639;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_95998 = private_mem_95984[chunk_sizze_95950 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = tmp_95998;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_95999;\n            int64_t eta_p_96000;\n            int64_t eta_p_96003;\n            int64_t eta_p_96004;\n            bool ltid_in_bounds_96006 = slt64(sext_i32_i64(local_tid_95962), num_virt_threads_95952);\n            int32_t skip_threads_96007;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96006) {\n                    eta_p_96000 = ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)];\n                    if ((local_tid_95962 - squot32(local_tid_95962, 32) * 32) == 0) {\n  ", "                      eta_p_95999 = eta_p_96000;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_96007 = 1;\n                while (slt32(skip_threads_96007, 32)) {\n                    bool thread_active_96008 = sle32(skip_threads_96007, local_tid_95962 - squot32(local_tid_95962, 32) * 32) && ltid_in_bounds_96006;\n                    \n                    if (thread_active_96008) {\n                        // read operands\n                        {\n                            eta_p_95999 = ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962) - sext_i32_i64(skip_threads_96007)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96008) {\n                            int64_t defunc_0_op_res_96001 = mul64(eta_p_95999, eta_p_96000);\n                            \n                            eta_p_95999 = defunc_0_op_res_96001;\n                        }\n                    }\n                    if (sle32(wave_sizze_95964, skip_threads_96007)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_96008) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = eta_p_95999;\n                            eta_p_96000 = eta_p_95999;\n                        }\n                    }\n                    if (sle32(wave_sizze_95964, skip_threads_96007)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96007 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_95962 - squot32(local", "_tid_95962, 32) * 32) == 31 && ltid_in_bounds_96006) {\n                    ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(squot32(local_tid_95962, 32))] = eta_p_95999;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96009;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_95962, 32) == 0 && ltid_in_bounds_96006) {\n                        eta_p_96004 = ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)];\n                        if ((local_tid_95962 - squot32(local_tid_95962, 32) * 32) == 0) {\n                            eta_p_96003 = eta_p_96004;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96009 = 1;\n                    while (slt32(skip_threads_96009, 32)) {\n                        bool thread_active_96010 = sle32(skip_threads_96009, local_tid_95962 - squot32(local_tid_95962, 32) * 32) && (squot32(local_tid_95962, 32) == 0 && ltid_in_bounds_96006);\n                        \n                        if (thread_active_96010) {\n                            // read operands\n                            {\n                                eta_p_96003 = ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962) - sext_i32_i64(skip_threads_96009)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_96010) {\n                                int64_t defunc_0_op_res_96005 = mul64(eta_p_96003, eta_p_96004);\n                                \n                                eta_p_96003 = defunc_0_op_res_96005;\n                         ",
                                    "   }\n                        }\n                        if (sle32(wave_sizze_95964, skip_threads_96009)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96010) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = eta_p_96003;\n                                eta_p_96004 = eta_p_96003;\n                            }\n                        }\n                        if (sle32(wave_sizze_95964, skip_threads_96009)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96009 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96011 = squot32(local_tid_95962, 32) == 0 || !ltid_in_bounds_96006;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_96011) {\n                        eta_p_96000 = eta_p_95999;\n                        eta_p_95999 = ((__local int64_t *) local_mem_95969)[sext_i32_i64(squot32(local_tid_95962, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96011) {\n                        int64_t defunc_0_op_res_96001 = mul64(eta_p_95999, eta_p_96000);\n                        \n                        eta_p_95999 = defunc_0_op_res_96001;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_96011) {\n                        ((__local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = eta_p_95999;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n  ", "          // restore correct values for first block\n            {\n                if (squot32(local_tid_95962, 32) == 0 && ltid_in_bounds_96006) {\n                    ((__local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = eta_p_96000;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_95962 == 0) {\n                acc_96002 = ((__local int64_t *) local_mem_95969)[segscan_tblock_sizze_73302 - (int64_t) 1];\n            } else {\n                acc_96002 = ((__local int64_t *) local_mem_95969)[sext_i32_i64(local_tid_95962) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96012 = (int64_t) 1;\n        block_new_sgm_96013 = sgm_idx_95981 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96013 && local_tid_95962 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_95957)[dynamic_id_95979] = acc_96002;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_95953)[dynamic_id_95979] = (int8_t) 2;\n                acc_96002 = (int64_t) 1;\n            }\n            if (!block_new_sgm_96013 && slt32(local_tid_95962, wave_sizze_95964)) {\n                if (local_tid_95962 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_95955)[dynamic_id_95979] = acc_96002;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_95953)[dynamic_id_95979] = (int8_t) 1;\n                    \n                    int8_t tmp_96014 = ((volatile __global int8_t *) status_flags_mem_95953)[dynamic_id_95979 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_95969)[(int64_t) 0] = tmp_96014;\n                }\n                mem_fence_local();\n                \n                int8_t status_96015 = ((__local int8_t *) local_mem_95969)[(int64_t) 0", "];\n                \n                if (status_96015 == (int8_t) 2) {\n                    if (local_tid_95962 == 0) {\n                        prefix_96012 = ((volatile __global int64_t *) incprefixes_mem_95957)[dynamic_id_95979 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96016 = sext_i64_i32(dynamic_id_95979 - sext_i32_i64(wave_sizze_95964));\n                    \n                    while (slt32(wave_sizze_95964 * -1, readOffset_96016)) {\n                        int32_t read_i_96017 = readOffset_96016 + local_tid_95962;\n                        int64_t aggr_96018 = (int64_t) 1;\n                        int8_t flag_96019 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96017)) {\n                            flag_96019 = ((volatile __global int8_t *) status_flags_mem_95953)[sext_i32_i64(read_i_96017)];\n                            if (flag_96019 == (int8_t) 2) {\n                                aggr_96018 = ((volatile __global int64_t *) incprefixes_mem_95957)[sext_i32_i64(read_i_96017)];\n                            } else if (flag_96019 == (int8_t) 1) {\n                                aggr_96018 = ((volatile __global int64_t *) aggregates_mem_95955)[sext_i32_i64(read_i_96017)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_95969)[(int64_t) 4 + sext_i32_i64(local_tid_95962)] = aggr_96018;\n                        ((__local int8_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = flag_96019;\n                        flag_96019 = ((__local int8_t *) local_mem_95969)[sext_i32_i64(wave_sizze_95964) - (int64_t) 1];\n                        if (slt8(flag_96019, (int8_t) 2)) {\n                            int8_t flg_x_96023;\n                            int8_t flg_y_96024;\n                            int64_t eta_p_96020;\n                            int64_t eta_p_96021;\n                            int32_t skip_threads_96025;\n   ",
                                    "                         \n                            // read input for in-block scan\n                            {\n                                flg_y_96024 = ((volatile __local int8_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)];\n                                eta_p_96021 = ((volatile __local int64_t *) local_mem_95969)[(int64_t) 4 + sext_i32_i64(local_tid_95962)];\n                                if ((local_tid_95962 - squot32(local_tid_95962, 32) * 32) == 0) {\n                                    eta_p_96020 = eta_p_96021;\n                                    flg_x_96023 = flg_y_96024;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96025 = 1;\n                                while (slt32(skip_threads_96025, 32)) {\n                                    if (sle32(skip_threads_96025, local_tid_95962 - squot32(local_tid_95962, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_96023 = ((volatile __local int8_t *) local_mem_95969)[sext_i32_i64(local_tid_95962) - sext_i32_i64(skip_threads_96025)];\n                                            eta_p_96020 = ((volatile __local int64_t *) local_mem_95969)[(int64_t) 4 + (sext_i32_i64(local_tid_95962) - sext_i32_i64(skip_threads_96025))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96024 == (int8_t) 2 || flg_y_96024 == (int8_t) 0) {\n                                                flg_x_96023 = flg_y_96024;\n                                                eta_p_96020 = eta_p_96021;\n                                            } else {\n                                                int64_t defunc_0_", "op_res_96022 = mul64(eta_p_96020, eta_p_96021);\n                                                \n                                                eta_p_96020 = defunc_0_op_res_96022;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_95969)[sext_i32_i64(local_tid_95962)] = flg_x_96023;\n                                            flg_y_96024 = flg_x_96023;\n                                            ((volatile __local int64_t *) local_mem_95969)[(int64_t) 4 + sext_i32_i64(local_tid_95962)] = eta_p_96020;\n                                            eta_p_96021 = eta_p_96020;\n                                        }\n                                    }\n                                    skip_threads_96025 *= 2;\n                                }\n                            }\n                        }\n                        flag_96019 = ((__local int8_t *) local_mem_95969)[sext_i32_i64(wave_sizze_95964) - (int64_t) 1];\n                        aggr_96018 = ((__local int64_t *) local_mem_95969)[(int64_t) 4 + (sext_i32_i64(wave_sizze_95964) - (int64_t) 1)];\n                        if (flag_96019 == (int8_t) 2) {\n                            readOffset_96016 = wave_sizze_95964 * -1;\n                        } else if (flag_96019 == (int8_t) 1) {\n                            readOffset_96016 -= wave_sizze_95964;\n                        }\n                        if (slt8((int8_t) 0, flag_96019)) {\n                            int64_t eta_p_96026 = aggr_96018;\n                            int64_t eta_p_96027 = prefix_96012;\n                            int64_t defunc_0_op_res_96028 = mul64(eta_p_96026, eta_p_96027);\n                            \n                            prefix_96012 = defunc_0_op_res_96028;\n                        }\n                        mem_fenc", "e_local();\n                    }\n                }\n                if (local_tid_95962 == 0) {\n                    if (boundary_95982 == sext_i64_i32(segscan_tblock_sizze_73302 * chunk_sizze_95950)) {\n                        int64_t eta_p_96029 = prefix_96012;\n                        int64_t eta_p_96030 = acc_96002;\n                        int64_t defunc_0_op_res_96031 = mul64(eta_p_96029, eta_p_96030);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_95957)[dynamic_id_95979] = defunc_0_op_res_96031;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_95953)[dynamic_id_95979] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_95969)[(int64_t) 4] = prefix_96012;\n                    acc_96002 = (int64_t) 1;\n                }\n            }\n            if (!(dynamic_id_95979 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96012 = ((__local int64_t *) local_mem_95969)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96032;\n            int64_t eta_p_96033;\n            int64_t eta_p_96035 = prefix_96012;\n            int64_t eta_p_96036 = acc_96002;\n            \n            if (slt32(local_tid_95962 * chunk_sizze_32b_95966, boundary_95982) && !block_new_sgm_96013) {\n                int64_t defunc_0_op_res_96037 = mul64(eta_p_96035, eta_p_96036);\n                \n                eta_p_96032 = defunc_0_op_res_96037;\n            } else {\n                eta_p_96032 = acc_96002;\n            }\n            \n            int32_t stopping_point_96038 = segsizze_compact_95983 - srem32(local_tid_95962 * chunk_sizze_32b_95966 - 1 + segsizze_compact_95983 - boundary_95982, segsizze_compact_95983);\n            \n            for (int64_t i_96039 = 0; i_96039 < chunk_sizze_95950; i_96039++) {\n                ",
                                    "if (slt32(sext_i64_i32(i_96039), stopping_point_96038 - 1)) {\n                    eta_p_96033 = private_mem_95984[i_96039];\n                    \n                    int64_t defunc_0_op_res_96034 = mul64(eta_p_96032, eta_p_96033);\n                    \n                    private_mem_95984[i_96039] = defunc_0_op_res_96034;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96040 = 0; i_96040 < chunk_sizze_95950; i_96040++) {\n                int64_t sharedIdx_96041 = sext_i32_i64(local_tid_95962) * chunk_sizze_95950 + i_96040;\n                int64_t tmp_96042 = private_mem_95984[i_96040];\n                \n                ((__local int64_t *) local_mem_95969)[sharedIdx_96041] = tmp_96042;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96043 = 0; i_96043 < chunk_sizze_95950; i_96043++) {\n                int64_t flat_idx_96044 = thd_offset_95986 + i_96043 * segscan_tblock_sizze_73302;\n                int64_t slice_96045 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;\n                int64_t gtid_73306 = flat_idx_96044;\n                int64_t remnant_96046 = flat_idx_96044 - gtid_73306;\n                \n                if (slt64(flat_idx_96044, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965)) {\n                    int64_t tmp_96047 = ((__local int64_t *) local_mem_95969)[flat_idx_96044 - block_offset_95980];\n                    \n                    ((__global int64_t *) mem_90828)[gtid_73306] = tmp_96047;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_73302\n    #undef chunk_sizze_95950\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_95781_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_95781(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_90823)\n{\n    if (*global_f", "ailure >= 0)\n        return;\n    \n    int32_t local_tid_95783;\n    int32_t tblock_sizze_95786;\n    int32_t wave_sizze_95785;\n    int32_t block_id_95784;\n    int32_t global_tid_95782;\n    int64_t tid_95781;\n    int64_t x_90459;\n    \n    local_tid_95783 = get_local_id(0);\n    tblock_sizze_95786 = get_local_size(0);\n    wave_sizze_95785 = LOCKSTEP_WIDTH;\n    block_id_95784 = get_tblock_id(0);\n    global_tid_95782 = block_id_95784 * tblock_sizze_95786 + local_tid_95783;\n    tid_95781 = sext_i32_i64(global_tid_95782);\n    x_90459 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_90823)[(int64_t) 0] = x_90459;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_95807_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_95807(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_90826)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95809;\n    int32_t tblock_sizze_95812;\n    int32_t wave_sizze_95811;\n    int32_t block_id_95810;\n    int32_t global_tid_95808;\n    int64_t tid_95807;\n    int64_t x_90466;\n    \n    local_tid_95809 = get_local_id(0);\n    tblock_sizze_95812 = get_local_size(0);\n    wave_sizze_95811 = LOCKSTEP_WIDTH;\n    block_id_95810 = get_tblock_id(0);\n    global_tid_95808 = block_id_95810 * tblock_sizze_95812 + local_tid_95809;\n    tid_95807 = sext_i32_i64(global_tid_95808);\n    x_90466 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_90826)[(int64_t) 0] = x_90466;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_95833_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_95833(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_90829)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95835;\n    int32_t tblock_sizze_95838;\n ", "   int32_t wave_sizze_95837;\n    int32_t block_id_95836;\n    int32_t global_tid_95834;\n    int64_t tid_95833;\n    int64_t x_90492;\n    \n    local_tid_95835 = get_local_id(0);\n    tblock_sizze_95838 = get_local_size(0);\n    wave_sizze_95837 = LOCKSTEP_WIDTH;\n    block_id_95836 = get_tblock_id(0);\n    global_tid_95834 = block_id_95836 * tblock_sizze_95838 + local_tid_95835;\n    tid_95833 = sext_i32_i64(global_tid_95834);\n    x_90492 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_90829)[(int64_t) 0] = x_90492;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_95881_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_95881(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_90835)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95883;\n    int32_t tblock_sizze_95886;\n    int32_t wave_sizze_95885;\n    int32_t block_id_95884;\n    int32_t global_tid_95882;\n    int64_t tid_95881;\n    int64_t x_90500;\n    \n    local_tid_95883 = get_local_id(0);\n    tblock_sizze_95886 = get_local_size(0);\n    wave_sizze_95885 = LOCKSTEP_WIDTH;\n    block_id_95884 = get_tblock_id(0);\n    global_tid_95882 = block_id_95884 * tblock_sizze_95886 + local_tid_95883;\n    tid_95881 = sext_i32_i64(global_tid_95882);\n    x_90500 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_90835)[(int64_t) 0] = x_90500;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_95892_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_95892(__global int *global_failure, __global unsigned char *ext_mem_90824, __global unsigned char *ext_mem_90827, __global unsigned char *ext_mem_90830, __global unsigned char *ext_mem_90836, __global unsigned char *mem_90839, __global unsigned char *mem_90840, __global unsigned char *mem_90841, __global unsigned char *mem_90842)\n{\n    if ",
                                    "(*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95894;\n    int32_t tblock_sizze_95897;\n    int32_t wave_sizze_95896;\n    int32_t block_id_95895;\n    int32_t global_tid_95893;\n    int64_t tid_95892;\n    int64_t zm_lhs_90463;\n    int64_t min_arg1_90464;\n    int64_t zm_lhs_90470;\n    int64_t min_arg1_90471;\n    int64_t zm_lhs_90496;\n    int64_t min_arg1_90497;\n    int64_t zm_lhs_90504;\n    int64_t min_arg1_90505;\n    \n    local_tid_95894 = get_local_id(0);\n    tblock_sizze_95897 = get_local_size(0);\n    wave_sizze_95896 = LOCKSTEP_WIDTH;\n    block_id_95895 = get_tblock_id(0);\n    global_tid_95893 = block_id_95895 * tblock_sizze_95897 + local_tid_95894;\n    tid_95892 = sext_i32_i64(global_tid_95893);\n    zm_lhs_90463 = ((__global int64_t *) ext_mem_90824)[(int64_t) 0];\n    min_arg1_90464 = sub64(zm_lhs_90463, (int64_t) 1);\n    zm_lhs_90470 = ((__global int64_t *) ext_mem_90827)[(int64_t) 0];\n    min_arg1_90471 = sub64(zm_lhs_90470, (int64_t) 1);\n    zm_lhs_90496 = ((__global int64_t *) ext_mem_90830)[(int64_t) 0];\n    min_arg1_90497 = sub64(zm_lhs_90496, (int64_t) 1);\n    zm_lhs_90504 = ((__global int64_t *) ext_mem_90836)[(int64_t) 0];\n    min_arg1_90505 = sub64(zm_lhs_90504, (int64_t) 1);\n    ((__global int64_t *) mem_90839)[(int64_t) 0] = min_arg1_90464;\n    ((__global int64_t *) mem_90840)[(int64_t) 0] = min_arg1_90471;\n    ((__global int64_t *) mem_90841)[(int64_t) 0] = min_arg1_90497;\n    ((__global int64_t *) mem_90842)[(int64_t) 0] = min_arg1_90505;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96301_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96301(__global int *global_failure, __global unsigned char *mem_92760, __global unsigned char *mem_92763, __global unsigned char *mem_92764, __global unsigned char *mem_92765)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96303;\n    int32_t tblock_sizze_96306;\n    int32_t wave_sizze_96305;\n    int32_t block_id_96304;\n    int32_t global", "_tid_96302;\n    int64_t tid_96301;\n    int64_t defunc_0_reduce_res_90475;\n    int64_t defunc_0_reduce_res_90477;\n    \n    local_tid_96303 = get_local_id(0);\n    tblock_sizze_96306 = get_local_size(0);\n    wave_sizze_96305 = LOCKSTEP_WIDTH;\n    block_id_96304 = get_tblock_id(0);\n    global_tid_96302 = block_id_96304 * tblock_sizze_96306 + local_tid_96303;\n    tid_96301 = sext_i32_i64(global_tid_96302);\n    defunc_0_reduce_res_90475 = ((__global int64_t *) mem_92760)[(int64_t) 0];\n    defunc_0_reduce_res_90477 = ((__global int64_t *) mem_92763)[(int64_t) 0];\n    ((__global int64_t *) mem_92764)[(int64_t) 0] = defunc_0_reduce_res_90475;\n    ((__global int64_t *) mem_92765)[(int64_t) 0] = defunc_0_reduce_res_90477;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_97251_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_97251(__global int *global_failure, __global unsigned char *mem_91278, __global unsigned char *mem_91279, __global unsigned char *mem_91282, __global unsigned char *mem_91283, __global unsigned char *mem_91284, __global unsigned char *mem_91285)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97253;\n    int32_t tblock_sizze_97256;\n    int32_t wave_sizze_97255;\n    int32_t block_id_97254;\n    int32_t global_tid_97252;\n    int64_t tid_97251;\n    int64_t defunc_0_reduce_res_90483;\n    double defunc_0_reduce_res_90485;\n    int64_t defunc_0_reduce_res_90487;\n    \n    local_tid_97253 = get_local_id(0);\n    tblock_sizze_97256 = get_local_size(0);\n    wave_sizze_97255 = LOCKSTEP_WIDTH;\n    block_id_97254 = get_tblock_id(0);\n    global_tid_97252 = block_id_97254 * tblock_sizze_97256 + local_tid_97253;\n    tid_97251 = sext_i32_i64(global_tid_97252);\n    defunc_0_reduce_res_90483 = ((__global int64_t *) mem_91278)[(int64_t) 0];\n    defunc_0_reduce_res_90485 = ((__global double *) mem_91279)[(int64_t) 0];\n    defunc_0_reduce_res_90487 = ((__global int64_t *) mem_91282)[(int64_t) 0];\n    ((__global int64_t *) ", "mem_91283)[(int64_t) 0] = defunc_0_reduce_res_90483;\n    ((__global double *) mem_91284)[(int64_t) 0] = defunc_0_reduce_res_90485;\n    ((__global int64_t *) mem_91285)[(int64_t) 0] = defunc_0_reduce_res_90487;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98624_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98624(__global int *global_failure, __global unsigned char *mem_94126, __global unsigned char *mem_94127)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98626;\n    int32_t tblock_sizze_98629;\n    int32_t wave_sizze_98628;\n    int32_t block_id_98627;\n    int32_t global_tid_98625;\n    int64_t tid_98624;\n    double f_arg0_90511;\n    int64_t f64_res_90514;\n    \n    local_tid_98626 = get_local_id(0);\n    tblock_sizze_98629 = get_local_size(0);\n    wave_sizze_98628 = LOCKSTEP_WIDTH;\n    block_id_98627 = get_tblock_id(0);\n    global_tid_98625 = block_id_98627 * tblock_sizze_98629 + local_tid_98626;\n    tid_98624 = sext_i32_i64(global_tid_98625);\n    f_arg0_90511 = ((__global double *) mem_94126)[(int64_t) 0];\n    f64_res_90514 = fptosi_f64_i64(f_arg0_90511);\n    ((__global int64_t *) mem_94127)[(int64_t) 0] = f64_res_90514;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98651_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98651(__global int *global_failure, int64_t index_primexp_68943, __global unsigned char *mem_94126, __global unsigned char *mem_94129)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98653;\n    int32_t tblock_sizze_98656;\n    int32_t wave_sizze_98655;\n    int32_t block_id_98654;\n    int32_t global_tid_98652;\n    int64_t tid_98651;\n    double f_arg0_90517;\n    int64_t f64_res_90520;\n    \n    local_tid_98653 = get_local_id(0);\n    tblock_sizze_98656 = get_local_size(0);\n    wave_sizze_98655 = LOCKSTEP_WIDTH;\n    block_id_98654 = get_tblock_id(0);\n    global_tid_98652 = block_id_98654 * tblock_sizze_98656 + local_tid_98653;\n ",
                                    "   tid_98651 = sext_i32_i64(global_tid_98652);\n    f_arg0_90517 = ((__global double *) mem_94126)[index_primexp_68943];\n    f64_res_90520 = fptosi_f64_i64(f_arg0_90517);\n    ((__global int64_t *) mem_94129)[index_primexp_68943] = f64_res_90520;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98657_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98657(__global int *global_failure, __global unsigned char *ext_mem_94141, __global unsigned char *mem_94142)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98659;\n    int32_t tblock_sizze_98662;\n    int32_t wave_sizze_98661;\n    int32_t block_id_98660;\n    int32_t global_tid_98658;\n    int64_t tid_98657;\n    int64_t f_arg0_90522;\n    int64_t max_res_90525;\n    \n    local_tid_98659 = get_local_id(0);\n    tblock_sizze_98662 = get_local_size(0);\n    wave_sizze_98661 = LOCKSTEP_WIDTH;\n    block_id_98660 = get_tblock_id(0);\n    global_tid_98658 = block_id_98660 * tblock_sizze_98662 + local_tid_98659;\n    tid_98657 = sext_i32_i64(global_tid_98658);\n    f_arg0_90522 = ((__global int64_t *) ext_mem_94141)[(int64_t) 0];\n    max_res_90525 = smax64((int64_t) 0, f_arg0_90522);\n    ((__global int64_t *) mem_94142)[(int64_t) 0] = max_res_90525;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98684_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98684(__global int *global_failure, int64_t index_primexp_68962, __global unsigned char *ext_mem_94141, __global unsigned char *mem_94144)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98686;\n    int32_t tblock_sizze_98689;\n    int32_t wave_sizze_98688;\n    int32_t block_id_98687;\n    int32_t global_tid_98685;\n    int64_t tid_98684;\n    int64_t f_arg0_90528;\n    int64_t max_res_90531;\n    \n    local_tid_98686 = get_local_id(0);\n    tblock_sizze_98689 = get_local_size(0);\n    wave_sizze_98688 = LOCKSTEP_WIDTH;\n    block_id_98687 = get_tblock_id(0);\n    global_tid_98685 = b", "lock_id_98687 * tblock_sizze_98689 + local_tid_98686;\n    tid_98684 = sext_i32_i64(global_tid_98685);\n    f_arg0_90528 = ((__global int64_t *) ext_mem_94141)[index_primexp_68962];\n    max_res_90531 = smax64((int64_t) 0, f_arg0_90528);\n    ((__global int64_t *) mem_94144)[index_primexp_68962] = max_res_90531;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98690_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98690(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *ext_mem_94156, __global unsigned char *mem_94157)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98692;\n    int32_t tblock_sizze_98695;\n    int32_t wave_sizze_98694;\n    int32_t block_id_98693;\n    int32_t global_tid_98691;\n    int64_t tid_98690;\n    int64_t f_arg0_90533;\n    int64_t zm_lhs_90535;\n    int64_t min_arg1_90538;\n    int64_t min_res_90542;\n    \n    local_tid_98692 = get_local_id(0);\n    tblock_sizze_98695 = get_local_size(0);\n    wave_sizze_98694 = LOCKSTEP_WIDTH;\n    block_id_98693 = get_tblock_id(0);\n    global_tid_98691 = block_id_98693 * tblock_sizze_98695 + local_tid_98692;\n    tid_98690 = sext_i32_i64(global_tid_98691);\n    f_arg0_90533 = ((__global int64_t *) ext_mem_94156)[(int64_t) 0];\n    zm_lhs_90535 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    min_arg1_90538 = sub64(zm_lhs_90535, (int64_t) 1);\n    min_res_90542 = smin64(f_arg0_90533, min_arg1_90538);\n    ((__global int64_t *) mem_94157)[(int64_t) 0] = min_res_90542;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98717_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98717(__global int *global_failure, int64_t index_primexp_68981, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *ext_mem_94156, __global unsigned char *mem_94159)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98719;\n ", "   int32_t tblock_sizze_98722;\n    int32_t wave_sizze_98721;\n    int32_t block_id_98720;\n    int32_t global_tid_98718;\n    int64_t tid_98717;\n    int64_t f_arg0_90545;\n    int64_t zm_lhs_90547;\n    int64_t min_arg1_90550;\n    int64_t min_res_90554;\n    \n    local_tid_98719 = get_local_id(0);\n    tblock_sizze_98722 = get_local_size(0);\n    wave_sizze_98721 = LOCKSTEP_WIDTH;\n    block_id_98720 = get_tblock_id(0);\n    global_tid_98718 = block_id_98720 * tblock_sizze_98722 + local_tid_98719;\n    tid_98717 = sext_i32_i64(global_tid_98718);\n    f_arg0_90545 = ((__global int64_t *) ext_mem_94156)[index_primexp_68981];\n    zm_lhs_90547 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_68981];\n    min_arg1_90550 = sub64(zm_lhs_90547, (int64_t) 1);\n    min_res_90554 = smin64(f_arg0_90545, min_arg1_90550);\n    ((__global int64_t *) mem_94159)[index_primexp_68981] = min_res_90554;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98734_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98734(__global int *global_failure, int64_t i_68994, __global unsigned char *mem_94174, __global unsigned char *mem_param_94178, __global unsigned char *mem_94179)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98736;\n    int32_t tblock_sizze_98739;\n    int32_t wave_sizze_98738;\n    int32_t block_id_98737;\n    int32_t global_tid_98735;\n    int64_t tid_98734;\n    int64_t b_90559;\n    int64_t acc_90561;\n    int64_t defunc_0_f_res_90563;\n    \n    local_tid_98736 = get_local_id(0);\n    tblock_sizze_98739 = get_local_size(0);\n    wave_sizze_98738 = LOCKSTEP_WIDTH;\n    block_id_98737 = get_tblock_id(0);\n    global_tid_98735 = block_id_98737 * tblock_sizze_98739 + local_tid_98736;\n    tid_98734 = sext_i32_i64(global_tid_98735);\n    b_90559 = ((__global int64_t *) mem_94174)[i_68994];\n    acc_90561 = ((__global int64_t *) mem_param_94178)[(int64_t) 0];\n    defunc_0_f_res_90563 = add64(b_90559, acc_90561);\n    ((__global int",
                                    "64_t *) mem_94179)[(int64_t) 0] = defunc_0_f_res_90563;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98741_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98741(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_94199)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98743;\n    int32_t tblock_sizze_98746;\n    int32_t wave_sizze_98745;\n    int32_t block_id_98744;\n    int32_t global_tid_98742;\n    int64_t tid_98741;\n    int64_t x_90618;\n    \n    local_tid_98743 = get_local_id(0);\n    tblock_sizze_98746 = get_local_size(0);\n    wave_sizze_98745 = LOCKSTEP_WIDTH;\n    block_id_98744 = get_tblock_id(0);\n    global_tid_98742 = block_id_98744 * tblock_sizze_98746 + local_tid_98743;\n    tid_98741 = sext_i32_i64(global_tid_98742);\n    x_90618 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[(int64_t) 0];\n    ((__global int64_t *) mem_94199)[(int64_t) 0] = x_90618;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98747_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98747(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_48136, int64_t total_angle_no_48145, __global unsigned char *ext_mem_94182, __global unsigned char *ext_mem_94200, __global unsigned char *mem_94201, __global unsigned char *mem_94202, __global unsigned char *mem_94203)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98749;\n    int32_t tblock_sizze_98752;\n    int32_t wave_sizze_98751;\n    int32_t block_id_98750;\n    int32_t global_tid_98748;\n    int64_t tid_98747;\n    int64_t defunc_0_foldl_res_90565;\n    bool x_90566;\n    bool y_90569;\n    bool bounds_check_90573;\n    bool index_certs_90577;\n    int64_t zp_lhs_90611;\n    int64_t zm_lhs_90622;\n    int64_t min_arg1_90623;\n    \n    local_tid_98749 = get_local_id(0);\n    tblock_sizze_98752 = get_local_si", "ze(0);\n    wave_sizze_98751 = LOCKSTEP_WIDTH;\n    block_id_98750 = get_tblock_id(0);\n    global_tid_98748 = block_id_98750 * tblock_sizze_98752 + local_tid_98749;\n    tid_98747 = sext_i32_i64(global_tid_98748);\n    defunc_0_foldl_res_90565 = ((__global int64_t *) ext_mem_94182)[(int64_t) 0];\n    x_90566 = sle64((int64_t) 0, defunc_0_foldl_res_90565);\n    y_90569 = slt64(defunc_0_foldl_res_90565, dz2080U_48136);\n    bounds_check_90573 = x_90566 && y_90569;\n    if (!bounds_check_90573) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 191) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_90565;\n                global_failure_args[1] = (int64_t) dz2080U_48136;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_90611 = mul64(total_angle_no_48145, defunc_0_foldl_res_90565);\n    zm_lhs_90622 = ((__global int64_t *) ext_mem_94200)[(int64_t) 0];\n    min_arg1_90623 = sub64(zm_lhs_90622, (int64_t) 1);\n    ((__global int64_t *) mem_94202)[(int64_t) 0] = zp_lhs_90611;\n    ((__global int64_t *) mem_94203)[(int64_t) 0] = min_arg1_90623;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98762_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98762(__global int *global_failure, __global unsigned char *mem_94206, __global unsigned char *mem_94207)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98764;\n    int32_t tblock_sizze_98767;\n    int32_t wave_sizze_98766;\n    int32_t block_id_98765;\n    int32_t global_tid_98763;\n    int64_t tid_98762;\n    double f_arg0_90580;\n    \n    local_tid_98764 = get_local_id(0);\n    tblock_sizze_98767 = get_local_size(0);\n    wave_sizze_98766 = LOCKSTEP_WIDTH;\n    block_id_98765 = get_tblock_id(0);\n    global_tid_98763 = block_id_98765 * tblock_sizze_98767 + local_tid_98764;\n    tid_98762 = sext_i32_i64(global_tid_98763);\n    f_arg0_90580 = ((__global double *) mem_94206)[(int64_t) 0];\n    ((__global double *) mem", "_94207)[(int64_t) 0] = f_arg0_90580;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98801_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98801(__global int *global_failure, int64_t i_69050, __global unsigned char *mem_94226, __global unsigned char *mem_param_94229, __global unsigned char *mem_94230)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98803;\n    int32_t tblock_sizze_98806;\n    int32_t wave_sizze_98805;\n    int32_t block_id_98804;\n    int32_t global_tid_98802;\n    int64_t tid_98801;\n    double b_90588;\n    double acc_90590;\n    double defunc_0_f_res_90592;\n    \n    local_tid_98803 = get_local_id(0);\n    tblock_sizze_98806 = get_local_size(0);\n    wave_sizze_98805 = LOCKSTEP_WIDTH;\n    block_id_98804 = get_tblock_id(0);\n    global_tid_98802 = block_id_98804 * tblock_sizze_98806 + local_tid_98803;\n    tid_98801 = sext_i32_i64(global_tid_98802);\n    b_90588 = ((__global double *) mem_94226)[i_69050];\n    acc_90590 = ((__global double *) mem_param_94229)[(int64_t) 0];\n    defunc_0_f_res_90592 = b_90588 + acc_90590;\n    ((__global double *) mem_94230)[(int64_t) 0] = defunc_0_f_res_90592;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98807_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98807(__global int *global_failure, int64_t i_69026, __global unsigned char *ext_mem_94220, __global unsigned char *ext_mem_94233, __global unsigned char *mem_94240)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98809;\n    int32_t tblock_sizze_98812;\n    int32_t wave_sizze_98811;\n    int32_t block_id_98810;\n    int32_t global_tid_98808;\n    int64_t tid_98807;\n    double this_x_90583;\n    double defunc_0_foldl_res_90594;\n    double sqrt_res_90595;\n    double atan2_res_90599;\n    \n    local_tid_98809 = get_local_id(0);\n    tblock_sizze_98812 = get_local_size(0);\n    wave_sizze_98811 = LOCKSTEP_WIDTH;\n    block_id_98810 = get_tblock_id(0);\n    global_t",
                                    "id_98808 = block_id_98810 * tblock_sizze_98812 + local_tid_98809;\n    tid_98807 = sext_i32_i64(global_tid_98808);\n    this_x_90583 = ((__global double *) ext_mem_94220)[i_69026];\n    defunc_0_foldl_res_90594 = ((__global double *) ext_mem_94233)[(int64_t) 0];\n    sqrt_res_90595 = futrts_sqrt64(defunc_0_foldl_res_90594);\n    atan2_res_90599 = futrts_atan2_64(sqrt_res_90595, this_x_90583);\n    ((__global double *) mem_94240)[i_69026] = atan2_res_90599;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98824_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98824(__global int *global_failure, int64_t i_69083, __global unsigned char *mem_94240, __global unsigned char *mem_param_94243, __global unsigned char *mem_94244)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98826;\n    int32_t tblock_sizze_98829;\n    int32_t wave_sizze_98828;\n    int32_t block_id_98827;\n    int32_t global_tid_98825;\n    int64_t tid_98824;\n    int64_t b_90604;\n    int64_t acc_90606;\n    int64_t defunc_0_f_res_90608;\n    \n    local_tid_98826 = get_local_id(0);\n    tblock_sizze_98829 = get_local_size(0);\n    wave_sizze_98828 = LOCKSTEP_WIDTH;\n    block_id_98827 = get_tblock_id(0);\n    global_tid_98825 = block_id_98827 * tblock_sizze_98829 + local_tid_98826;\n    tid_98824 = sext_i32_i64(global_tid_98825);\n    b_90604 = ((__global int64_t *) mem_94240)[i_69083];\n    acc_90606 = ((__global int64_t *) mem_param_94243)[(int64_t) 0];\n    defunc_0_f_res_90608 = add64(b_90604, acc_90606);\n    ((__global int64_t *) mem_94244)[(int64_t) 0] = defunc_0_f_res_90608;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98830_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98830(__global int *global_failure, __global unsigned char *mem_94202, __global unsigned char *ext_mem_94247, __global unsigned char *mem_94248)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98832;\n    int32_t tblock_sizze_9883", "5;\n    int32_t wave_sizze_98834;\n    int32_t block_id_98833;\n    int32_t global_tid_98831;\n    int64_t tid_98830;\n    int64_t defunc_0_foldl_res_90613;\n    int64_t zp_lhs_90614;\n    int64_t get_id_from_grid_angle_res_90615;\n    \n    local_tid_98832 = get_local_id(0);\n    tblock_sizze_98835 = get_local_size(0);\n    wave_sizze_98834 = LOCKSTEP_WIDTH;\n    block_id_98833 = get_tblock_id(0);\n    global_tid_98831 = block_id_98833 * tblock_sizze_98835 + local_tid_98832;\n    tid_98830 = sext_i32_i64(global_tid_98831);\n    defunc_0_foldl_res_90613 = ((__global int64_t *) ext_mem_94247)[(int64_t) 0];\n    zp_lhs_90614 = ((__global int64_t *) mem_94202)[(int64_t) 0];\n    get_id_from_grid_angle_res_90615 = add64(defunc_0_foldl_res_90613, zp_lhs_90614);\n    ((__global int64_t *) mem_94248)[(int64_t) 0] = get_id_from_grid_angle_res_90615;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98875_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98875(__global int *global_failure, __global unsigned char *mem_94259, __global unsigned char *mem_94260)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98877;\n    int32_t tblock_sizze_98880;\n    int32_t wave_sizze_98879;\n    int32_t block_id_98878;\n    int32_t global_tid_98876;\n    int64_t tid_98875;\n    double f_arg0_90625;\n    int64_t f64_res_90628;\n    \n    local_tid_98877 = get_local_id(0);\n    tblock_sizze_98880 = get_local_size(0);\n    wave_sizze_98879 = LOCKSTEP_WIDTH;\n    block_id_98878 = get_tblock_id(0);\n    global_tid_98876 = block_id_98878 * tblock_sizze_98880 + local_tid_98877;\n    tid_98875 = sext_i32_i64(global_tid_98876);\n    f_arg0_90625 = ((__global double *) mem_94259)[(int64_t) 0];\n    f64_res_90628 = fptosi_f64_i64(f_arg0_90625);\n    ((__global int64_t *) mem_94260)[(int64_t) 0] = f64_res_90628;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98902_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98902(__global int *global_fail", "ure, int64_t index_primexp_69141, __global unsigned char *mem_94259, __global unsigned char *mem_94262)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98904;\n    int32_t tblock_sizze_98907;\n    int32_t wave_sizze_98906;\n    int32_t block_id_98905;\n    int32_t global_tid_98903;\n    int64_t tid_98902;\n    double f_arg0_90631;\n    int64_t f64_res_90634;\n    \n    local_tid_98904 = get_local_id(0);\n    tblock_sizze_98907 = get_local_size(0);\n    wave_sizze_98906 = LOCKSTEP_WIDTH;\n    block_id_98905 = get_tblock_id(0);\n    global_tid_98903 = block_id_98905 * tblock_sizze_98907 + local_tid_98904;\n    tid_98902 = sext_i32_i64(global_tid_98903);\n    f_arg0_90631 = ((__global double *) mem_94259)[index_primexp_69141];\n    f64_res_90634 = fptosi_f64_i64(f_arg0_90631);\n    ((__global int64_t *) mem_94262)[index_primexp_69141] = f64_res_90634;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98908_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98908(__global int *global_failure, __global unsigned char *ext_mem_94274, __global unsigned char *mem_94275)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98910;\n    int32_t tblock_sizze_98913;\n    int32_t wave_sizze_98912;\n    int32_t block_id_98911;\n    int32_t global_tid_98909;\n    int64_t tid_98908;\n    int64_t f_arg0_90636;\n    int64_t max_res_90639;\n    \n    local_tid_98910 = get_local_id(0);\n    tblock_sizze_98913 = get_local_size(0);\n    wave_sizze_98912 = LOCKSTEP_WIDTH;\n    block_id_98911 = get_tblock_id(0);\n    global_tid_98909 = block_id_98911 * tblock_sizze_98913 + local_tid_98910;\n    tid_98908 = sext_i32_i64(global_tid_98909);\n    f_arg0_90636 = ((__global int64_t *) ext_mem_94274)[(int64_t) 0];\n    max_res_90639 = smax64((int64_t) 0, f_arg0_90636);\n    ((__global int64_t *) mem_94275)[(int64_t) 0] = max_res_90639;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98935_dim1, 1, 1)\nvoid sort_for_Skyl",
                                    "ine_doublezigpuseq_98935(__global int *global_failure, int64_t index_primexp_69157, __global unsigned char *ext_mem_94274, __global unsigned char *mem_94277)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98937;\n    int32_t tblock_sizze_98940;\n    int32_t wave_sizze_98939;\n    int32_t block_id_98938;\n    int32_t global_tid_98936;\n    int64_t tid_98935;\n    int64_t f_arg0_90642;\n    int64_t max_res_90645;\n    \n    local_tid_98937 = get_local_id(0);\n    tblock_sizze_98940 = get_local_size(0);\n    wave_sizze_98939 = LOCKSTEP_WIDTH;\n    block_id_98938 = get_tblock_id(0);\n    global_tid_98936 = block_id_98938 * tblock_sizze_98940 + local_tid_98937;\n    tid_98935 = sext_i32_i64(global_tid_98936);\n    f_arg0_90642 = ((__global int64_t *) ext_mem_94274)[index_primexp_69157];\n    max_res_90645 = smax64((int64_t) 0, f_arg0_90642);\n    ((__global int64_t *) mem_94277)[index_primexp_69157] = max_res_90645;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98941_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98941(__global int *global_failure, __global unsigned char *mem_94203, __global unsigned char *ext_mem_94289, __global unsigned char *mem_94290)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98943;\n    int32_t tblock_sizze_98946;\n    int32_t wave_sizze_98945;\n    int32_t block_id_98944;\n    int32_t global_tid_98942;\n    int64_t tid_98941;\n    int64_t f_arg0_90647;\n    int64_t min_arg1_90650;\n    int64_t min_res_90651;\n    \n    local_tid_98943 = get_local_id(0);\n    tblock_sizze_98946 = get_local_size(0);\n    wave_sizze_98945 = LOCKSTEP_WIDTH;\n    block_id_98944 = get_tblock_id(0);\n    global_tid_98942 = block_id_98944 * tblock_sizze_98946 + local_tid_98943;\n    tid_98941 = sext_i32_i64(global_tid_98942);\n    f_arg0_90647 = ((__global int64_t *) ext_mem_94289)[(int64_t) 0];\n    min_arg1_90650 = ((__global int64_t *) mem_94203)[(int64_t) 0];\n    min_res_90651 = smin64(f_arg0_90647, min_", "arg1_90650);\n    ((__global int64_t *) mem_94290)[(int64_t) 0] = min_res_90651;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98968_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98968(__global int *global_failure, int64_t index_primexp_69173, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *ext_mem_94289, __global unsigned char *mem_94292)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98970;\n    int32_t tblock_sizze_98973;\n    int32_t wave_sizze_98972;\n    int32_t block_id_98971;\n    int32_t global_tid_98969;\n    int64_t tid_98968;\n    int64_t f_arg0_90654;\n    int64_t zm_lhs_90656;\n    int64_t min_arg1_90659;\n    int64_t min_res_90663;\n    \n    local_tid_98970 = get_local_id(0);\n    tblock_sizze_98973 = get_local_size(0);\n    wave_sizze_98972 = LOCKSTEP_WIDTH;\n    block_id_98971 = get_tblock_id(0);\n    global_tid_98969 = block_id_98971 * tblock_sizze_98973 + local_tid_98970;\n    tid_98968 = sext_i32_i64(global_tid_98969);\n    f_arg0_90654 = ((__global int64_t *) ext_mem_94289)[index_primexp_69173];\n    zm_lhs_90656 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_69173];\n    min_arg1_90659 = sub64(zm_lhs_90656, (int64_t) 1);\n    min_res_90663 = smin64(f_arg0_90654, min_arg1_90659);\n    ((__global int64_t *) mem_94292)[index_primexp_69173] = min_res_90663;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98985_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98985(__global int *global_failure, int64_t i_69186, __global unsigned char *mem_94307, __global unsigned char *mem_param_94310, __global unsigned char *mem_94311)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98987;\n    int32_t tblock_sizze_98990;\n    int32_t wave_sizze_98989;\n    int32_t block_id_98988;\n    int32_t global_tid_98986;\n    int64_t tid_98985;\n    int64_t b_90668;\n    int64_t acc_90670;\n    int64_t defunc_0_f_re", "s_90672;\n    \n    local_tid_98987 = get_local_id(0);\n    tblock_sizze_98990 = get_local_size(0);\n    wave_sizze_98989 = LOCKSTEP_WIDTH;\n    block_id_98988 = get_tblock_id(0);\n    global_tid_98986 = block_id_98988 * tblock_sizze_98990 + local_tid_98987;\n    tid_98985 = sext_i32_i64(global_tid_98986);\n    b_90668 = ((__global int64_t *) mem_94307)[i_69186];\n    acc_90670 = ((__global int64_t *) mem_param_94310)[(int64_t) 0];\n    defunc_0_f_res_90672 = add64(b_90668, acc_90670);\n    ((__global int64_t *) mem_94311)[(int64_t) 0] = defunc_0_f_res_90672;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_98992_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_98992(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_48136, int64_t total_angle_no_48145, __global unsigned char *ext_mem_94314, __global unsigned char *mem_94330, __global unsigned char *mem_94331)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98994;\n    int32_t tblock_sizze_98997;\n    int32_t wave_sizze_98996;\n    int32_t block_id_98995;\n    int32_t global_tid_98993;\n    int64_t tid_98992;\n    int64_t defunc_0_foldl_res_90674;\n    bool x_90675;\n    bool y_90678;\n    bool bounds_check_90682;\n    bool index_certs_90686;\n    int64_t zp_lhs_90720;\n    \n    local_tid_98994 = get_local_id(0);\n    tblock_sizze_98997 = get_local_size(0);\n    wave_sizze_98996 = LOCKSTEP_WIDTH;\n    block_id_98995 = get_tblock_id(0);\n    global_tid_98993 = block_id_98995 * tblock_sizze_98997 + local_tid_98994;\n    tid_98992 = sext_i32_i64(global_tid_98993);\n    defunc_0_foldl_res_90674 = ((__global int64_t *) ext_mem_94314)[(int64_t) 0];\n    x_90675 = sle64((int64_t) 0, defunc_0_foldl_res_90674);\n    y_90678 = slt64(defunc_0_foldl_res_90674, dz2080U_48136);\n    bounds_check_90682 = x_90675 && y_90678;\n    if (!bounds_check_90682) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 192) == -1) {\n    ",
                                    "            global_failure_args[0] = (int64_t) defunc_0_foldl_res_90674;\n                global_failure_args[1] = (int64_t) dz2080U_48136;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_90720 = mul64(total_angle_no_48145, defunc_0_foldl_res_90674);\n    ((__global int64_t *) mem_94331)[(int64_t) 0] = zp_lhs_90720;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_99007_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_99007(__global int *global_failure, __global unsigned char *mem_94334, __global unsigned char *mem_94335)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99009;\n    int32_t tblock_sizze_99012;\n    int32_t wave_sizze_99011;\n    int32_t block_id_99010;\n    int32_t global_tid_99008;\n    int64_t tid_99007;\n    double f_arg0_90689;\n    \n    local_tid_99009 = get_local_id(0);\n    tblock_sizze_99012 = get_local_size(0);\n    wave_sizze_99011 = LOCKSTEP_WIDTH;\n    block_id_99010 = get_tblock_id(0);\n    global_tid_99008 = block_id_99010 * tblock_sizze_99012 + local_tid_99009;\n    tid_99007 = sext_i32_i64(global_tid_99008);\n    f_arg0_90689 = ((__global double *) mem_94334)[(int64_t) 0];\n    ((__global double *) mem_94335)[(int64_t) 0] = f_arg0_90689;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_99046_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_99046(__global int *global_failure, int64_t i_69239, __global unsigned char *mem_94354, __global unsigned char *mem_param_94357, __global unsigned char *mem_94358)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99048;\n    int32_t tblock_sizze_99051;\n    int32_t wave_sizze_99050;\n    int32_t block_id_99049;\n    int32_t global_tid_99047;\n    int64_t tid_99046;\n    double b_90697;\n    double acc_90699;\n    double defunc_0_f_res_90701;\n    \n    local_tid_99048 = get_local_id(0);\n    tblock_sizze_99051 = get_local_size(0);\n    wave_sizze_99050 = LOCKSTEP_WIDTH;\n    bloc", "k_id_99049 = get_tblock_id(0);\n    global_tid_99047 = block_id_99049 * tblock_sizze_99051 + local_tid_99048;\n    tid_99046 = sext_i32_i64(global_tid_99047);\n    b_90697 = ((__global double *) mem_94354)[i_69239];\n    acc_90699 = ((__global double *) mem_param_94357)[(int64_t) 0];\n    defunc_0_f_res_90701 = b_90697 + acc_90699;\n    ((__global double *) mem_94358)[(int64_t) 0] = defunc_0_f_res_90701;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_99052_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_99052(__global int *global_failure, int64_t i_69215, __global unsigned char *mem_94316, __global unsigned char *ext_mem_94348, __global unsigned char *ext_mem_94361)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99054;\n    int32_t tblock_sizze_99057;\n    int32_t wave_sizze_99056;\n    int32_t block_id_99055;\n    int32_t global_tid_99053;\n    int64_t tid_99052;\n    double this_x_90692;\n    double defunc_0_foldl_res_90703;\n    double sqrt_res_90704;\n    double atan2_res_90708;\n    \n    local_tid_99054 = get_local_id(0);\n    tblock_sizze_99057 = get_local_size(0);\n    wave_sizze_99056 = LOCKSTEP_WIDTH;\n    block_id_99055 = get_tblock_id(0);\n    global_tid_99053 = block_id_99055 * tblock_sizze_99057 + local_tid_99054;\n    tid_99052 = sext_i32_i64(global_tid_99053);\n    this_x_90692 = ((__global double *) ext_mem_94348)[i_69215];\n    defunc_0_foldl_res_90703 = ((__global double *) ext_mem_94361)[(int64_t) 0];\n    sqrt_res_90704 = futrts_sqrt64(defunc_0_foldl_res_90703);\n    atan2_res_90708 = futrts_atan2_64(sqrt_res_90704, this_x_90692);\n    ((__global double *) mem_94316)[i_69215] = atan2_res_90708;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_99069_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_99069(__global int *global_failure, int64_t i_69267, __global unsigned char *mem_94368, __global unsigned char *mem_param_94371, __global unsigned char *mem_94372)\n{\n    if (*global", "_failure >= 0)\n        return;\n    \n    int32_t local_tid_99071;\n    int32_t tblock_sizze_99074;\n    int32_t wave_sizze_99073;\n    int32_t block_id_99072;\n    int32_t global_tid_99070;\n    int64_t tid_99069;\n    int64_t b_90713;\n    int64_t acc_90715;\n    int64_t defunc_0_f_res_90717;\n    \n    local_tid_99071 = get_local_id(0);\n    tblock_sizze_99074 = get_local_size(0);\n    wave_sizze_99073 = LOCKSTEP_WIDTH;\n    block_id_99072 = get_tblock_id(0);\n    global_tid_99070 = block_id_99072 * tblock_sizze_99074 + local_tid_99071;\n    tid_99069 = sext_i32_i64(global_tid_99070);\n    b_90713 = ((__global int64_t *) mem_94368)[i_69267];\n    acc_90715 = ((__global int64_t *) mem_param_94371)[(int64_t) 0];\n    defunc_0_f_res_90717 = add64(b_90713, acc_90715);\n    ((__global int64_t *) mem_94372)[(int64_t) 0] = defunc_0_f_res_90717;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_99075_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_99075(__global int *global_failure, int64_t index_primexp_69115, __global unsigned char *mem_94250, __global unsigned char *mem_94331, __global unsigned char *ext_mem_94375)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99077;\n    int32_t tblock_sizze_99080;\n    int32_t wave_sizze_99079;\n    int32_t block_id_99078;\n    int32_t global_tid_99076;\n    int64_t tid_99075;\n    int64_t defunc_0_foldl_res_90722;\n    int64_t zp_lhs_90723;\n    int64_t get_id_from_grid_angle_res_90724;\n    \n    local_tid_99077 = get_local_id(0);\n    tblock_sizze_99080 = get_local_size(0);\n    wave_sizze_99079 = LOCKSTEP_WIDTH;\n    block_id_99078 = get_tblock_id(0);\n    global_tid_99076 = block_id_99078 * tblock_sizze_99080 + local_tid_99077;\n    tid_99075 = sext_i32_i64(global_tid_99076);\n    defunc_0_foldl_res_90722 = ((__global int64_t *) ext_mem_94375)[(int64_t) 0];\n    zp_lhs_90723 = ((__global int64_t *) mem_94331)[(int64_t) 0];\n    get_id_from_grid_angle_res_90724 = add64(defunc_0_foldl_res_90722, zp_lhs_907",
                                    "23);\n    ((__global int64_t *) mem_94250)[index_primexp_69115] = get_id_from_grid_angle_res_90724;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_95998(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_95997, int64_t virt_num_tblocks_96003, int64_t num_tblocks_96004, __global unsigned char *mem_92366, __global unsigned char *mem_92369)\n{\n    int32_t replicate_ltid_95999;\n    int32_t tblock_sizze_96001;\n    int32_t replicate_gid_96000;\n    int32_t replicate_gtid_95998;\n    int32_t phys_tblock_id_96005;\n    int32_t iterations_96006;\n    \n    replicate_ltid_95999 = get_local_id(0);\n    tblock_sizze_96001 = get_local_size(0);\n    replicate_gid_96000 = get_tblock_id(0);\n    replicate_gtid_95998 = replicate_gid_96000 * tblock_sizze_96001 + replicate_ltid_95999;\n    phys_tblock_id_96005 = get_tblock_id(0);\n    iterations_96006 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96003) - phys_tblock_id_96005, sext_i64_i32(num_tblocks_96004));\n    for (int32_t i_96007 = 0; i_96007 < iterations_96006; i_96007++) {\n        int32_t virt_tblock_id_96008;\n        int64_t global_tid_96009;\n        int64_t slice_96012;\n        int64_t slice_96013;\n        int64_t rep_i_96010;\n        int64_t remnant_96014;\n        int64_t rep_i_96011;\n        int64_t remnant_96015;\n        \n        virt_tblock_id_96008 = phys_tblock_id_96005 + i_96007 * sext_i64_i32(num_tblocks_96004);\n        global_tid_96009 = sext_i32_i64(virt_tblock_id_96008) * sext_i32_i64(tblock_sizze_96001) + sext_i32_i64(replicate_ltid_95999);\n        slice_96012 = n_48138;\n        slice_96013 = dim_48135 * slice_96012;\n        rep_i_96010 = squot64(global_tid_96009, slice_96012);\n        remnant_96014 = global_tid_96009 - rep_i_96010 * slice_96012;\n        rep_i_96011 = remnant_96014;\n        remnant_96015 = remnant_96014 - rep_i_96011;\n        if (slt64(global_tid_96009, replicate_n_95997)) {\n            int64_t tmp_96016 = ((__global int64_t *) mem_92366)[rep_i_96011];\n            \n     ", "       ((__global int64_t *) mem_92369)[rep_i_96010 * n_48138 + rep_i_96011] = tmp_96016;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96041(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_96040, int64_t virt_num_tblocks_96046, int64_t num_tblocks_96047, __global unsigned char *mem_92418, __global unsigned char *mem_92421)\n{\n    int32_t replicate_ltid_96042;\n    int32_t tblock_sizze_96044;\n    int32_t replicate_gid_96043;\n    int32_t replicate_gtid_96041;\n    int32_t phys_tblock_id_96048;\n    int32_t iterations_96049;\n    \n    replicate_ltid_96042 = get_local_id(0);\n    tblock_sizze_96044 = get_local_size(0);\n    replicate_gid_96043 = get_tblock_id(0);\n    replicate_gtid_96041 = replicate_gid_96043 * tblock_sizze_96044 + replicate_ltid_96042;\n    phys_tblock_id_96048 = get_tblock_id(0);\n    iterations_96049 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96046) - phys_tblock_id_96048, sext_i64_i32(num_tblocks_96047));\n    for (int32_t i_96050 = 0; i_96050 < iterations_96049; i_96050++) {\n        int32_t virt_tblock_id_96051;\n        int64_t global_tid_96052;\n        int64_t slice_96055;\n        int64_t slice_96056;\n        int64_t rep_i_96053;\n        int64_t remnant_96057;\n        int64_t rep_i_96054;\n        int64_t remnant_96058;\n        \n        virt_tblock_id_96051 = phys_tblock_id_96048 + i_96050 * sext_i64_i32(num_tblocks_96047);\n        global_tid_96052 = sext_i32_i64(virt_tblock_id_96051) * sext_i32_i64(tblock_sizze_96044) + sext_i32_i64(replicate_ltid_96042);\n        slice_96055 = n_48138;\n        slice_96056 = dim_48135 * slice_96055;\n        rep_i_96053 = squot64(global_tid_96052, slice_96055);\n        remnant_96057 = global_tid_96052 - rep_i_96053 * slice_96055;\n        rep_i_96054 = remnant_96057;\n        remnant_96058 = remnant_96057 - rep_i_96054;\n        if (slt64(global_tid_96052, replicate_n_96040)) {\n            int64_t tmp_96059", " = ((__global int64_t *) mem_92418)[rep_i_96054];\n            \n            ((__global int64_t *) mem_92421)[rep_i_96053 * n_48138 + rep_i_96054] = tmp_96059;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96085(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_96084, int64_t virt_num_tblocks_96090, int64_t num_tblocks_96091, __global unsigned char *mem_92502, __global unsigned char *mem_92505)\n{\n    int32_t replicate_ltid_96086;\n    int32_t tblock_sizze_96088;\n    int32_t replicate_gid_96087;\n    int32_t replicate_gtid_96085;\n    int32_t phys_tblock_id_96092;\n    int32_t iterations_96093;\n    \n    replicate_ltid_96086 = get_local_id(0);\n    tblock_sizze_96088 = get_local_size(0);\n    replicate_gid_96087 = get_tblock_id(0);\n    replicate_gtid_96085 = replicate_gid_96087 * tblock_sizze_96088 + replicate_ltid_96086;\n    phys_tblock_id_96092 = get_tblock_id(0);\n    iterations_96093 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96090) - phys_tblock_id_96092, sext_i64_i32(num_tblocks_96091));\n    for (int32_t i_96094 = 0; i_96094 < iterations_96093; i_96094++) {\n        int32_t virt_tblock_id_96095;\n        int64_t global_tid_96096;\n        int64_t slice_96099;\n        int64_t slice_96100;\n        int64_t rep_i_96097;\n        int64_t remnant_96101;\n        int64_t rep_i_96098;\n        int64_t remnant_96102;\n        \n        virt_tblock_id_96095 = phys_tblock_id_96092 + i_96094 * sext_i64_i32(num_tblocks_96091);\n        global_tid_96096 = sext_i32_i64(virt_tblock_id_96095) * sext_i32_i64(tblock_sizze_96088) + sext_i32_i64(replicate_ltid_96086);\n        slice_96099 = n_48138;\n        slice_96100 = dim_48135 * slice_96099;\n        rep_i_96097 = squot64(global_tid_96096, slice_96099);\n        remnant_96101 = global_tid_96096 - rep_i_96097 * slice_96099;\n        rep_i_96098 = remnant_96101;\n        remnant_96102 = remnant_96101 - rep_i_96098;\n        if (slt64(g",
                                    "lobal_tid_96096, replicate_n_96084)) {\n            int64_t tmp_96103 = ((__global int64_t *) mem_92502)[rep_i_96098];\n            \n            ((__global int64_t *) mem_92505)[rep_i_96097 * n_48138 + rep_i_96098] = tmp_96103;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96163(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_96162, int64_t virt_num_tblocks_96168, int64_t num_tblocks_96169, __global unsigned char *mem_92623, __global unsigned char *mem_92626)\n{\n    int32_t replicate_ltid_96164;\n    int32_t tblock_sizze_96166;\n    int32_t replicate_gid_96165;\n    int32_t replicate_gtid_96163;\n    int32_t phys_tblock_id_96170;\n    int32_t iterations_96171;\n    \n    replicate_ltid_96164 = get_local_id(0);\n    tblock_sizze_96166 = get_local_size(0);\n    replicate_gid_96165 = get_tblock_id(0);\n    replicate_gtid_96163 = replicate_gid_96165 * tblock_sizze_96166 + replicate_ltid_96164;\n    phys_tblock_id_96170 = get_tblock_id(0);\n    iterations_96171 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96168) - phys_tblock_id_96170, sext_i64_i32(num_tblocks_96169));\n    for (int32_t i_96172 = 0; i_96172 < iterations_96171; i_96172++) {\n        int32_t virt_tblock_id_96173;\n        int64_t global_tid_96174;\n        int64_t slice_96177;\n        int64_t slice_96178;\n        int64_t rep_i_96175;\n        int64_t remnant_96179;\n        int64_t rep_i_96176;\n        int64_t remnant_96180;\n        \n        virt_tblock_id_96173 = phys_tblock_id_96170 + i_96172 * sext_i64_i32(num_tblocks_96169);\n        global_tid_96174 = sext_i32_i64(virt_tblock_id_96173) * sext_i32_i64(tblock_sizze_96166) + sext_i32_i64(replicate_ltid_96164);\n        slice_96177 = n_48138;\n        slice_96178 = dim_48135 * slice_96177;\n        rep_i_96175 = squot64(global_tid_96174, slice_96177);\n        remnant_96179 = global_tid_96174 - rep_i_96175 * slice_96177;\n        rep_i_96176 = remnant_96179;\n    ", "    remnant_96180 = remnant_96179 - rep_i_96176;\n        if (slt64(global_tid_96174, replicate_n_96162)) {\n            double tmp_96181 = ((__global double *) mem_92623)[rep_i_96176 * dim_48135];\n            \n            ((__global double *) mem_92626)[rep_i_96175 * n_48138 + rep_i_96176] = tmp_96181;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96551(int64_t next_stride_72247, int64_t num_merges_72251, int64_t replicate_n_96550, int64_t virt_num_tblocks_96556, int64_t num_tblocks_96557, __global unsigned char *ext_mem_93313, __global unsigned char *mem_93316)\n{\n    int32_t replicate_ltid_96552;\n    int32_t tblock_sizze_96554;\n    int32_t replicate_gid_96553;\n    int32_t replicate_gtid_96551;\n    int32_t phys_tblock_id_96558;\n    int32_t iterations_96559;\n    \n    replicate_ltid_96552 = get_local_id(0);\n    tblock_sizze_96554 = get_local_size(0);\n    replicate_gid_96553 = get_tblock_id(0);\n    replicate_gtid_96551 = replicate_gid_96553 * tblock_sizze_96554 + replicate_ltid_96552;\n    phys_tblock_id_96558 = get_tblock_id(0);\n    iterations_96559 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96556) - phys_tblock_id_96558, sext_i64_i32(num_tblocks_96557));\n    for (int32_t i_96560 = 0; i_96560 < iterations_96559; i_96560++) {\n        int32_t virt_tblock_id_96561;\n        int64_t global_tid_96562;\n        int64_t slice_96565;\n        int64_t slice_96566;\n        int64_t rep_i_96563;\n        int64_t remnant_96567;\n        int64_t rep_i_96564;\n        int64_t remnant_96568;\n        \n        virt_tblock_id_96561 = phys_tblock_id_96558 + i_96560 * sext_i64_i32(num_tblocks_96557);\n        global_tid_96562 = sext_i32_i64(virt_tblock_id_96561) * sext_i32_i64(tblock_sizze_96554) + sext_i32_i64(replicate_ltid_96552);\n        slice_96565 = num_merges_72251;\n        slice_96566 = next_stride_72247 * slice_96565;\n        rep_i_96563 = squot64(global_tid_96562, slice_9656", "5);\n        remnant_96567 = global_tid_96562 - rep_i_96563 * slice_96565;\n        rep_i_96564 = remnant_96567;\n        remnant_96568 = remnant_96567 - rep_i_96564;\n        if (slt64(global_tid_96562, replicate_n_96550)) {\n            int64_t tmp_96569 = ((__global int64_t *) ext_mem_93313)[rep_i_96564];\n            \n            ((__global int64_t *) mem_93316)[rep_i_96563 * num_merges_72251 + rep_i_96564] = tmp_96569;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96571(int64_t next_stride_72247, int64_t num_merges_72251, int64_t replicate_n_96570, int64_t virt_num_tblocks_96576, int64_t num_tblocks_96577, __global unsigned char *ext_mem_93311, __global unsigned char *mem_93319)\n{\n    int32_t replicate_ltid_96572;\n    int32_t tblock_sizze_96574;\n    int32_t replicate_gid_96573;\n    int32_t replicate_gtid_96571;\n    int32_t phys_tblock_id_96578;\n    int32_t iterations_96579;\n    \n    replicate_ltid_96572 = get_local_id(0);\n    tblock_sizze_96574 = get_local_size(0);\n    replicate_gid_96573 = get_tblock_id(0);\n    replicate_gtid_96571 = replicate_gid_96573 * tblock_sizze_96574 + replicate_ltid_96572;\n    phys_tblock_id_96578 = get_tblock_id(0);\n    iterations_96579 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96576) - phys_tblock_id_96578, sext_i64_i32(num_tblocks_96577));\n    for (int32_t i_96580 = 0; i_96580 < iterations_96579; i_96580++) {\n        int32_t virt_tblock_id_96581;\n        int64_t global_tid_96582;\n        int64_t slice_96585;\n        int64_t slice_96586;\n        int64_t rep_i_96583;\n        int64_t remnant_96587;\n        int64_t rep_i_96584;\n        int64_t remnant_96588;\n        \n        virt_tblock_id_96581 = phys_tblock_id_96578 + i_96580 * sext_i64_i32(num_tblocks_96577);\n        global_tid_96582 = sext_i32_i64(virt_tblock_id_96581) * sext_i32_i64(tblock_sizze_96574) + sext_i32_i64(replicate_ltid_96572);\n        slice_96585 = num_merges_7",
                                    "2251;\n        slice_96586 = next_stride_72247 * slice_96585;\n        rep_i_96583 = squot64(global_tid_96582, slice_96585);\n        remnant_96587 = global_tid_96582 - rep_i_96583 * slice_96585;\n        rep_i_96584 = remnant_96587;\n        remnant_96588 = remnant_96587 - rep_i_96584;\n        if (slt64(global_tid_96582, replicate_n_96570)) {\n            int64_t tmp_96589 = ((__global int64_t *) ext_mem_93311)[rep_i_96584];\n            \n            ((__global int64_t *) mem_93319)[rep_i_96583 * num_merges_72251 + rep_i_96584] = tmp_96589;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96591(int64_t dim_48135, int64_t next_stride_72247, int64_t num_merges_72251, int64_t replicate_n_96590, int64_t virt_num_tblocks_96596, int64_t num_tblocks_96597, __global unsigned char *ext_mem_93312, __global unsigned char *mem_93323)\n{\n    int32_t replicate_ltid_96592;\n    int32_t tblock_sizze_96594;\n    int32_t replicate_gid_96593;\n    int32_t replicate_gtid_96591;\n    int32_t phys_tblock_id_96598;\n    int32_t iterations_96599;\n    \n    replicate_ltid_96592 = get_local_id(0);\n    tblock_sizze_96594 = get_local_size(0);\n    replicate_gid_96593 = get_tblock_id(0);\n    replicate_gtid_96591 = replicate_gid_96593 * tblock_sizze_96594 + replicate_ltid_96592;\n    phys_tblock_id_96598 = get_tblock_id(0);\n    iterations_96599 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96596) - phys_tblock_id_96598, sext_i64_i32(num_tblocks_96597));\n    for (int32_t i_96600 = 0; i_96600 < iterations_96599; i_96600++) {\n        int32_t virt_tblock_id_96601;\n        int64_t global_tid_96602;\n        int64_t slice_96606;\n        int64_t slice_96607;\n        int64_t slice_96608;\n        int64_t rep_i_96603;\n        int64_t remnant_96609;\n        int64_t rep_i_96604;\n        int64_t remnant_96610;\n        int64_t rep_i_96605;\n        int64_t remnant_96611;\n        \n        virt_tblock_id_96601 = phys_tbl", "ock_id_96598 + i_96600 * sext_i64_i32(num_tblocks_96597);\n        global_tid_96602 = sext_i32_i64(virt_tblock_id_96601) * sext_i32_i64(tblock_sizze_96594) + sext_i32_i64(replicate_ltid_96592);\n        slice_96606 = num_merges_72251;\n        slice_96607 = dim_48135 * slice_96606;\n        slice_96608 = next_stride_72247 * slice_96607;\n        rep_i_96603 = squot64(global_tid_96602, slice_96607);\n        remnant_96609 = global_tid_96602 - rep_i_96603 * slice_96607;\n        rep_i_96604 = squot64(remnant_96609, slice_96606);\n        remnant_96610 = remnant_96609 - rep_i_96604 * slice_96606;\n        rep_i_96605 = remnant_96610;\n        remnant_96611 = remnant_96610 - rep_i_96605;\n        if (slt64(global_tid_96602, replicate_n_96590)) {\n            double tmp_96612 = ((__global double *) ext_mem_93312)[rep_i_96604 + rep_i_96605 * dim_48135];\n            \n            ((__global double *) mem_93323)[rep_i_96603 * (num_merges_72251 * dim_48135) + rep_i_96604 * num_merges_72251 + rep_i_96605] = tmp_96612;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96749(int64_t merge_block_sizze_67302, int64_t num_merges_72251, int64_t num_blocks_72266, int64_t replicate_n_96748, int64_t virt_num_tblocks_96754, int64_t num_tblocks_96755, __global unsigned char *mem_92977, __global unsigned char *mem_93015)\n{\n    int32_t replicate_ltid_96750;\n    int32_t tblock_sizze_96752;\n    int32_t replicate_gid_96751;\n    int32_t replicate_gtid_96749;\n    int32_t phys_tblock_id_96756;\n    int32_t iterations_96757;\n    \n    replicate_ltid_96750 = get_local_id(0);\n    tblock_sizze_96752 = get_local_size(0);\n    replicate_gid_96751 = get_tblock_id(0);\n    replicate_gtid_96749 = replicate_gid_96751 * tblock_sizze_96752 + replicate_ltid_96750;\n    phys_tblock_id_96756 = get_tblock_id(0);\n    iterations_96757 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96754) - phys_tblock_id_96756, sext_i64_i32(", "num_tblocks_96755));\n    for (int32_t i_96758 = 0; i_96758 < iterations_96757; i_96758++) {\n        int32_t virt_tblock_id_96759;\n        int64_t global_tid_96760;\n        int64_t slice_96764;\n        int64_t slice_96765;\n        int64_t slice_96766;\n        int64_t rep_i_96761;\n        int64_t remnant_96767;\n        int64_t rep_i_96762;\n        int64_t remnant_96768;\n        int64_t rep_i_96763;\n        int64_t remnant_96769;\n        \n        virt_tblock_id_96759 = phys_tblock_id_96756 + i_96758 * sext_i64_i32(num_tblocks_96755);\n        global_tid_96760 = sext_i32_i64(virt_tblock_id_96759) * sext_i32_i64(tblock_sizze_96752) + sext_i32_i64(replicate_ltid_96750);\n        slice_96764 = num_blocks_72266;\n        slice_96765 = num_merges_72251 * slice_96764;\n        slice_96766 = merge_block_sizze_67302 * slice_96765;\n        rep_i_96761 = squot64(global_tid_96760, slice_96765);\n        remnant_96767 = global_tid_96760 - rep_i_96761 * slice_96765;\n        rep_i_96762 = squot64(remnant_96767, slice_96764);\n        remnant_96768 = remnant_96767 - rep_i_96762 * slice_96764;\n        rep_i_96763 = remnant_96768;\n        remnant_96769 = remnant_96768 - rep_i_96763;\n        if (slt64(global_tid_96760, replicate_n_96748)) {\n            int64_t tmp_96770 = ((__global int64_t *) mem_92977)[rep_i_96762 * num_blocks_72266 + rep_i_96763];\n            \n            ((__global int64_t *) mem_93015)[rep_i_96761 * (num_blocks_72266 * num_merges_72251) + rep_i_96762 * num_blocks_72266 + rep_i_96763] = tmp_96770;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96772(int64_t merge_block_sizze_67302, int64_t num_merges_72251, int64_t num_blocks_72266, int64_t replicate_n_96771, int64_t virt_num_tblocks_96777, int64_t num_tblocks_96778, __global unsigned char *mem_92980, __global unsigned char *mem_93019)\n{\n    int32_t replicate_ltid_96773;\n    int32_t tblock_sizze_96775;\n    int",
                                    "32_t replicate_gid_96774;\n    int32_t replicate_gtid_96772;\n    int32_t phys_tblock_id_96779;\n    int32_t iterations_96780;\n    \n    replicate_ltid_96773 = get_local_id(0);\n    tblock_sizze_96775 = get_local_size(0);\n    replicate_gid_96774 = get_tblock_id(0);\n    replicate_gtid_96772 = replicate_gid_96774 * tblock_sizze_96775 + replicate_ltid_96773;\n    phys_tblock_id_96779 = get_tblock_id(0);\n    iterations_96780 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96777) - phys_tblock_id_96779, sext_i64_i32(num_tblocks_96778));\n    for (int32_t i_96781 = 0; i_96781 < iterations_96780; i_96781++) {\n        int32_t virt_tblock_id_96782;\n        int64_t global_tid_96783;\n        int64_t slice_96787;\n        int64_t slice_96788;\n        int64_t slice_96789;\n        int64_t rep_i_96784;\n        int64_t remnant_96790;\n        int64_t rep_i_96785;\n        int64_t remnant_96791;\n        int64_t rep_i_96786;\n        int64_t remnant_96792;\n        \n        virt_tblock_id_96782 = phys_tblock_id_96779 + i_96781 * sext_i64_i32(num_tblocks_96778);\n        global_tid_96783 = sext_i32_i64(virt_tblock_id_96782) * sext_i32_i64(tblock_sizze_96775) + sext_i32_i64(replicate_ltid_96773);\n        slice_96787 = num_blocks_72266;\n        slice_96788 = num_merges_72251 * slice_96787;\n        slice_96789 = merge_block_sizze_67302 * slice_96788;\n        rep_i_96784 = squot64(global_tid_96783, slice_96788);\n        remnant_96790 = global_tid_96783 - rep_i_96784 * slice_96788;\n        rep_i_96785 = squot64(remnant_96790, slice_96787);\n        remnant_96791 = remnant_96790 - rep_i_96785 * slice_96787;\n        rep_i_96786 = remnant_96791;\n        remnant_96792 = remnant_96791 - rep_i_96786;\n        if (slt64(global_tid_96783, replicate_n_96771)) {\n            int64_t tmp_96793 = ((__global int64_t *) mem_92980)[rep_i_96785 * num_blocks_72266 + rep_i_96786];\n            \n            ((__global int64_t *) mem_93019)[rep_i_96784 * (num_blocks_72266 * num_merges_72251) + rep_i_96785 * num_blocks_72266 + rep_i", "_96786] = tmp_96793;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96795(int64_t dim_48135, int64_t merge_block_sizze_67302, int64_t num_merges_72251, int64_t num_blocks_72266, int64_t replicate_n_96794, int64_t virt_num_tblocks_96800, int64_t num_tblocks_96801, __global unsigned char *mem_92997, __global unsigned char *mem_93024)\n{\n    int32_t replicate_ltid_96796;\n    int32_t tblock_sizze_96798;\n    int32_t replicate_gid_96797;\n    int32_t replicate_gtid_96795;\n    int32_t phys_tblock_id_96802;\n    int32_t iterations_96803;\n    \n    replicate_ltid_96796 = get_local_id(0);\n    tblock_sizze_96798 = get_local_size(0);\n    replicate_gid_96797 = get_tblock_id(0);\n    replicate_gtid_96795 = replicate_gid_96797 * tblock_sizze_96798 + replicate_ltid_96796;\n    phys_tblock_id_96802 = get_tblock_id(0);\n    iterations_96803 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96800) - phys_tblock_id_96802, sext_i64_i32(num_tblocks_96801));\n    for (int32_t i_96804 = 0; i_96804 < iterations_96803; i_96804++) {\n        int32_t virt_tblock_id_96805;\n        int64_t global_tid_96806;\n        int64_t slice_96811;\n        int64_t slice_96812;\n        int64_t slice_96813;\n        int64_t slice_96814;\n        int64_t rep_i_96807;\n        int64_t remnant_96815;\n        int64_t rep_i_96808;\n        int64_t remnant_96816;\n        int64_t rep_i_96809;\n        int64_t remnant_96817;\n        int64_t rep_i_96810;\n        int64_t remnant_96818;\n        \n        virt_tblock_id_96805 = phys_tblock_id_96802 + i_96804 * sext_i64_i32(num_tblocks_96801);\n        global_tid_96806 = sext_i32_i64(virt_tblock_id_96805) * sext_i32_i64(tblock_sizze_96798) + sext_i32_i64(replicate_ltid_96796);\n        slice_96811 = num_blocks_72266;\n        slice_96812 = num_merges_72251 * slice_96811;\n        slice_96813 = dim_48135 * slice_96812;\n        slice_96814 = merge_block_sizze_67302 * slice_96813;\n        ", "rep_i_96807 = squot64(global_tid_96806, slice_96813);\n        remnant_96815 = global_tid_96806 - rep_i_96807 * slice_96813;\n        rep_i_96808 = squot64(remnant_96815, slice_96812);\n        remnant_96816 = remnant_96815 - rep_i_96808 * slice_96812;\n        rep_i_96809 = squot64(remnant_96816, slice_96811);\n        remnant_96817 = remnant_96816 - rep_i_96809 * slice_96811;\n        rep_i_96810 = remnant_96817;\n        remnant_96818 = remnant_96817 - rep_i_96810;\n        if (slt64(global_tid_96806, replicate_n_96794)) {\n            double tmp_96819 = ((__global double *) mem_92997)[rep_i_96808 * (num_blocks_72266 * num_merges_72251) + rep_i_96809 * num_blocks_72266 + rep_i_96810];\n            \n            ((__global double *) mem_93024)[rep_i_96807 * (num_blocks_72266 * num_merges_72251 * dim_48135) + rep_i_96808 * (num_blocks_72266 * num_merges_72251) + rep_i_96809 * num_blocks_72266 + rep_i_96810] = tmp_96819;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96913(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_96912, int64_t virt_num_tblocks_96918, int64_t num_tblocks_96919, __global unsigned char *mem_90866, __global unsigned char *mem_90869)\n{\n    int32_t replicate_ltid_96914;\n    int32_t tblock_sizze_96916;\n    int32_t replicate_gid_96915;\n    int32_t replicate_gtid_96913;\n    int32_t phys_tblock_id_96920;\n    int32_t iterations_96921;\n    \n    replicate_ltid_96914 = get_local_id(0);\n    tblock_sizze_96916 = get_local_size(0);\n    replicate_gid_96915 = get_tblock_id(0);\n    replicate_gtid_96913 = replicate_gid_96915 * tblock_sizze_96916 + replicate_ltid_96914;\n    phys_tblock_id_96920 = get_tblock_id(0);\n    iterations_96921 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96918) - phys_tblock_id_96920, sext_i64_i32(num_tblocks_96919));\n    for (int32_t i_96922 = 0; i_96922 < iterations_96921; i_96922++) {\n        int32_t virt_tblock_id_96923;\n      ",
                                    "  int64_t global_tid_96924;\n        int64_t slice_96927;\n        int64_t slice_96928;\n        int64_t rep_i_96925;\n        int64_t remnant_96929;\n        int64_t rep_i_96926;\n        int64_t remnant_96930;\n        \n        virt_tblock_id_96923 = phys_tblock_id_96920 + i_96922 * sext_i64_i32(num_tblocks_96919);\n        global_tid_96924 = sext_i32_i64(virt_tblock_id_96923) * sext_i32_i64(tblock_sizze_96916) + sext_i32_i64(replicate_ltid_96914);\n        slice_96927 = n_48138;\n        slice_96928 = dim_48135 * slice_96927;\n        rep_i_96925 = squot64(global_tid_96924, slice_96927);\n        remnant_96929 = global_tid_96924 - rep_i_96925 * slice_96927;\n        rep_i_96926 = remnant_96929;\n        remnant_96930 = remnant_96929 - rep_i_96926;\n        if (slt64(global_tid_96924, replicate_n_96912)) {\n            int64_t tmp_96931 = ((__global int64_t *) mem_90866)[rep_i_96926];\n            \n            ((__global int64_t *) mem_90869)[rep_i_96925 * n_48138 + rep_i_96926] = tmp_96931;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96956(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_96955, int64_t virt_num_tblocks_96961, int64_t num_tblocks_96962, __global unsigned char *mem_90918, __global unsigned char *mem_90921)\n{\n    int32_t replicate_ltid_96957;\n    int32_t tblock_sizze_96959;\n    int32_t replicate_gid_96958;\n    int32_t replicate_gtid_96956;\n    int32_t phys_tblock_id_96963;\n    int32_t iterations_96964;\n    \n    replicate_ltid_96957 = get_local_id(0);\n    tblock_sizze_96959 = get_local_size(0);\n    replicate_gid_96958 = get_tblock_id(0);\n    replicate_gtid_96956 = replicate_gid_96958 * tblock_sizze_96959 + replicate_ltid_96957;\n    phys_tblock_id_96963 = get_tblock_id(0);\n    iterations_96964 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96961) - phys_tblock_id_96963, sext_i64_i32(num_tblocks_96962));\n    for (int32_t i_96965 = 0; i_96965 < iterati", "ons_96964; i_96965++) {\n        int32_t virt_tblock_id_96966;\n        int64_t global_tid_96967;\n        int64_t slice_96970;\n        int64_t slice_96971;\n        int64_t rep_i_96968;\n        int64_t remnant_96972;\n        int64_t rep_i_96969;\n        int64_t remnant_96973;\n        \n        virt_tblock_id_96966 = phys_tblock_id_96963 + i_96965 * sext_i64_i32(num_tblocks_96962);\n        global_tid_96967 = sext_i32_i64(virt_tblock_id_96966) * sext_i32_i64(tblock_sizze_96959) + sext_i32_i64(replicate_ltid_96957);\n        slice_96970 = n_48138;\n        slice_96971 = dim_48135 * slice_96970;\n        rep_i_96968 = squot64(global_tid_96967, slice_96970);\n        remnant_96972 = global_tid_96967 - rep_i_96968 * slice_96970;\n        rep_i_96969 = remnant_96972;\n        remnant_96973 = remnant_96972 - rep_i_96969;\n        if (slt64(global_tid_96967, replicate_n_96955)) {\n            int64_t tmp_96974 = ((__global int64_t *) mem_90918)[rep_i_96969];\n            \n            ((__global int64_t *) mem_90921)[rep_i_96968 * n_48138 + rep_i_96969] = tmp_96974;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97000(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_96999, int64_t virt_num_tblocks_97005, int64_t num_tblocks_97006, __global unsigned char *mem_91002, __global unsigned char *mem_91005)\n{\n    int32_t replicate_ltid_97001;\n    int32_t tblock_sizze_97003;\n    int32_t replicate_gid_97002;\n    int32_t replicate_gtid_97000;\n    int32_t phys_tblock_id_97007;\n    int32_t iterations_97008;\n    \n    replicate_ltid_97001 = get_local_id(0);\n    tblock_sizze_97003 = get_local_size(0);\n    replicate_gid_97002 = get_tblock_id(0);\n    replicate_gtid_97000 = replicate_gid_97002 * tblock_sizze_97003 + replicate_ltid_97001;\n    phys_tblock_id_97007 = get_tblock_id(0);\n    iterations_97008 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97005) - phys_tblock_id_97007, sext_i64_i32(", "num_tblocks_97006));\n    for (int32_t i_97009 = 0; i_97009 < iterations_97008; i_97009++) {\n        int32_t virt_tblock_id_97010;\n        int64_t global_tid_97011;\n        int64_t slice_97014;\n        int64_t slice_97015;\n        int64_t rep_i_97012;\n        int64_t remnant_97016;\n        int64_t rep_i_97013;\n        int64_t remnant_97017;\n        \n        virt_tblock_id_97010 = phys_tblock_id_97007 + i_97009 * sext_i64_i32(num_tblocks_97006);\n        global_tid_97011 = sext_i32_i64(virt_tblock_id_97010) * sext_i32_i64(tblock_sizze_97003) + sext_i32_i64(replicate_ltid_97001);\n        slice_97014 = n_48138;\n        slice_97015 = dim_48135 * slice_97014;\n        rep_i_97012 = squot64(global_tid_97011, slice_97014);\n        remnant_97016 = global_tid_97011 - rep_i_97012 * slice_97014;\n        rep_i_97013 = remnant_97016;\n        remnant_97017 = remnant_97016 - rep_i_97013;\n        if (slt64(global_tid_97011, replicate_n_96999)) {\n            int64_t tmp_97018 = ((__global int64_t *) mem_91002)[rep_i_97013];\n            \n            ((__global int64_t *) mem_91005)[rep_i_97012 * n_48138 + rep_i_97013] = tmp_97018;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97078(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_97077, int64_t virt_num_tblocks_97083, int64_t num_tblocks_97084, __global unsigned char *mem_91123, __global unsigned char *mem_91126)\n{\n    int32_t replicate_ltid_97079;\n    int32_t tblock_sizze_97081;\n    int32_t replicate_gid_97080;\n    int32_t replicate_gtid_97078;\n    int32_t phys_tblock_id_97085;\n    int32_t iterations_97086;\n    \n    replicate_ltid_97079 = get_local_id(0);\n    tblock_sizze_97081 = get_local_size(0);\n    replicate_gid_97080 = get_tblock_id(0);\n    replicate_gtid_97078 = replicate_gid_97080 * tblock_sizze_97081 + replicate_ltid_97079;\n    phys_tblock_id_97085 = get_tblock_id(0);\n    iterations_97086 = sdiv_up32(sext_i",
                                    "64_i32(virt_num_tblocks_97083) - phys_tblock_id_97085, sext_i64_i32(num_tblocks_97084));\n    for (int32_t i_97087 = 0; i_97087 < iterations_97086; i_97087++) {\n        int32_t virt_tblock_id_97088;\n        int64_t global_tid_97089;\n        int64_t slice_97092;\n        int64_t slice_97093;\n        int64_t rep_i_97090;\n        int64_t remnant_97094;\n        int64_t rep_i_97091;\n        int64_t remnant_97095;\n        \n        virt_tblock_id_97088 = phys_tblock_id_97085 + i_97087 * sext_i64_i32(num_tblocks_97084);\n        global_tid_97089 = sext_i32_i64(virt_tblock_id_97088) * sext_i32_i64(tblock_sizze_97081) + sext_i32_i64(replicate_ltid_97079);\n        slice_97092 = n_48138;\n        slice_97093 = dim_48135 * slice_97092;\n        rep_i_97090 = squot64(global_tid_97089, slice_97092);\n        remnant_97094 = global_tid_97089 - rep_i_97090 * slice_97092;\n        rep_i_97091 = remnant_97094;\n        remnant_97095 = remnant_97094 - rep_i_97091;\n        if (slt64(global_tid_97089, replicate_n_97077)) {\n            double tmp_97096 = ((__global double *) mem_91123)[rep_i_97091 * dim_48135];\n            \n            ((__global double *) mem_91126)[rep_i_97090 * n_48138 + rep_i_97091] = tmp_97096;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97526(int64_t next_stride_68213, int64_t num_merges_68217, int64_t replicate_n_97525, int64_t virt_num_tblocks_97531, int64_t num_tblocks_97532, __global unsigned char *ext_mem_91961, __global unsigned char *mem_91964)\n{\n    int32_t replicate_ltid_97527;\n    int32_t tblock_sizze_97529;\n    int32_t replicate_gid_97528;\n    int32_t replicate_gtid_97526;\n    int32_t phys_tblock_id_97533;\n    int32_t iterations_97534;\n    \n    replicate_ltid_97527 = get_local_id(0);\n    tblock_sizze_97529 = get_local_size(0);\n    replicate_gid_97528 = get_tblock_id(0);\n    replicate_gtid_97526 = replicate_gid_97528 * tblock_sizze_97529 + replicat", "e_ltid_97527;\n    phys_tblock_id_97533 = get_tblock_id(0);\n    iterations_97534 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97531) - phys_tblock_id_97533, sext_i64_i32(num_tblocks_97532));\n    for (int32_t i_97535 = 0; i_97535 < iterations_97534; i_97535++) {\n        int32_t virt_tblock_id_97536;\n        int64_t global_tid_97537;\n        int64_t slice_97540;\n        int64_t slice_97541;\n        int64_t rep_i_97538;\n        int64_t remnant_97542;\n        int64_t rep_i_97539;\n        int64_t remnant_97543;\n        \n        virt_tblock_id_97536 = phys_tblock_id_97533 + i_97535 * sext_i64_i32(num_tblocks_97532);\n        global_tid_97537 = sext_i32_i64(virt_tblock_id_97536) * sext_i32_i64(tblock_sizze_97529) + sext_i32_i64(replicate_ltid_97527);\n        slice_97540 = num_merges_68217;\n        slice_97541 = next_stride_68213 * slice_97540;\n        rep_i_97538 = squot64(global_tid_97537, slice_97540);\n        remnant_97542 = global_tid_97537 - rep_i_97538 * slice_97540;\n        rep_i_97539 = remnant_97542;\n        remnant_97543 = remnant_97542 - rep_i_97539;\n        if (slt64(global_tid_97537, replicate_n_97525)) {\n            int64_t tmp_97544 = ((__global int64_t *) ext_mem_91961)[rep_i_97539];\n            \n            ((__global int64_t *) mem_91964)[rep_i_97538 * num_merges_68217 + rep_i_97539] = tmp_97544;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97546(int64_t next_stride_68213, int64_t num_merges_68217, int64_t replicate_n_97545, int64_t virt_num_tblocks_97551, int64_t num_tblocks_97552, __global unsigned char *ext_mem_91960, __global unsigned char *mem_91967)\n{\n    int32_t replicate_ltid_97547;\n    int32_t tblock_sizze_97549;\n    int32_t replicate_gid_97548;\n    int32_t replicate_gtid_97546;\n    int32_t phys_tblock_id_97553;\n    int32_t iterations_97554;\n    \n    replicate_ltid_97547 = get_local_id(0);\n    tblock_sizze_97549 = get_local_size(0);\n   ", " replicate_gid_97548 = get_tblock_id(0);\n    replicate_gtid_97546 = replicate_gid_97548 * tblock_sizze_97549 + replicate_ltid_97547;\n    phys_tblock_id_97553 = get_tblock_id(0);\n    iterations_97554 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97551) - phys_tblock_id_97553, sext_i64_i32(num_tblocks_97552));\n    for (int32_t i_97555 = 0; i_97555 < iterations_97554; i_97555++) {\n        int32_t virt_tblock_id_97556;\n        int64_t global_tid_97557;\n        int64_t slice_97560;\n        int64_t slice_97561;\n        int64_t rep_i_97558;\n        int64_t remnant_97562;\n        int64_t rep_i_97559;\n        int64_t remnant_97563;\n        \n        virt_tblock_id_97556 = phys_tblock_id_97553 + i_97555 * sext_i64_i32(num_tblocks_97552);\n        global_tid_97557 = sext_i32_i64(virt_tblock_id_97556) * sext_i32_i64(tblock_sizze_97549) + sext_i32_i64(replicate_ltid_97547);\n        slice_97560 = num_merges_68217;\n        slice_97561 = next_stride_68213 * slice_97560;\n        rep_i_97558 = squot64(global_tid_97557, slice_97560);\n        remnant_97562 = global_tid_97557 - rep_i_97558 * slice_97560;\n        rep_i_97559 = remnant_97562;\n        remnant_97563 = remnant_97562 - rep_i_97559;\n        if (slt64(global_tid_97557, replicate_n_97545)) {\n            double tmp_97564 = ((__global double *) ext_mem_91960)[rep_i_97559];\n            \n            ((__global double *) mem_91967)[rep_i_97558 * num_merges_68217 + rep_i_97559] = tmp_97564;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97566(int64_t next_stride_68213, int64_t num_merges_68217, int64_t replicate_n_97565, int64_t virt_num_tblocks_97571, int64_t num_tblocks_97572, __global unsigned char *ext_mem_91958, __global unsigned char *mem_91970)\n{\n    int32_t replicate_ltid_97567;\n    int32_t tblock_sizze_97569;\n    int32_t replicate_gid_97568;\n    int32_t replicate_gtid_97566;\n    int32_t phys_tblock_id_97573;\n    int32_",
                                    "t iterations_97574;\n    \n    replicate_ltid_97567 = get_local_id(0);\n    tblock_sizze_97569 = get_local_size(0);\n    replicate_gid_97568 = get_tblock_id(0);\n    replicate_gtid_97566 = replicate_gid_97568 * tblock_sizze_97569 + replicate_ltid_97567;\n    phys_tblock_id_97573 = get_tblock_id(0);\n    iterations_97574 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97571) - phys_tblock_id_97573, sext_i64_i32(num_tblocks_97572));\n    for (int32_t i_97575 = 0; i_97575 < iterations_97574; i_97575++) {\n        int32_t virt_tblock_id_97576;\n        int64_t global_tid_97577;\n        int64_t slice_97580;\n        int64_t slice_97581;\n        int64_t rep_i_97578;\n        int64_t remnant_97582;\n        int64_t rep_i_97579;\n        int64_t remnant_97583;\n        \n        virt_tblock_id_97576 = phys_tblock_id_97573 + i_97575 * sext_i64_i32(num_tblocks_97572);\n        global_tid_97577 = sext_i32_i64(virt_tblock_id_97576) * sext_i32_i64(tblock_sizze_97569) + sext_i32_i64(replicate_ltid_97567);\n        slice_97580 = num_merges_68217;\n        slice_97581 = next_stride_68213 * slice_97580;\n        rep_i_97578 = squot64(global_tid_97577, slice_97580);\n        remnant_97582 = global_tid_97577 - rep_i_97578 * slice_97580;\n        rep_i_97579 = remnant_97582;\n        remnant_97583 = remnant_97582 - rep_i_97579;\n        if (slt64(global_tid_97577, replicate_n_97565)) {\n            int64_t tmp_97584 = ((__global int64_t *) ext_mem_91958)[rep_i_97579];\n            \n            ((__global int64_t *) mem_91970)[rep_i_97578 * num_merges_68217 + rep_i_97579] = tmp_97584;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97586(int64_t dim_48135, int64_t next_stride_68213, int64_t num_merges_68217, int64_t replicate_n_97585, int64_t virt_num_tblocks_97591, int64_t num_tblocks_97592, __global unsigned char *ext_mem_91959, __global unsigned char *mem_91974)\n{\n    int32_t replicate_ltid_97587;\n    i", "nt32_t tblock_sizze_97589;\n    int32_t replicate_gid_97588;\n    int32_t replicate_gtid_97586;\n    int32_t phys_tblock_id_97593;\n    int32_t iterations_97594;\n    \n    replicate_ltid_97587 = get_local_id(0);\n    tblock_sizze_97589 = get_local_size(0);\n    replicate_gid_97588 = get_tblock_id(0);\n    replicate_gtid_97586 = replicate_gid_97588 * tblock_sizze_97589 + replicate_ltid_97587;\n    phys_tblock_id_97593 = get_tblock_id(0);\n    iterations_97594 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97591) - phys_tblock_id_97593, sext_i64_i32(num_tblocks_97592));\n    for (int32_t i_97595 = 0; i_97595 < iterations_97594; i_97595++) {\n        int32_t virt_tblock_id_97596;\n        int64_t global_tid_97597;\n        int64_t slice_97601;\n        int64_t slice_97602;\n        int64_t slice_97603;\n        int64_t rep_i_97598;\n        int64_t remnant_97604;\n        int64_t rep_i_97599;\n        int64_t remnant_97605;\n        int64_t rep_i_97600;\n        int64_t remnant_97606;\n        \n        virt_tblock_id_97596 = phys_tblock_id_97593 + i_97595 * sext_i64_i32(num_tblocks_97592);\n        global_tid_97597 = sext_i32_i64(virt_tblock_id_97596) * sext_i32_i64(tblock_sizze_97589) + sext_i32_i64(replicate_ltid_97587);\n        slice_97601 = num_merges_68217;\n        slice_97602 = dim_48135 * slice_97601;\n        slice_97603 = next_stride_68213 * slice_97602;\n        rep_i_97598 = squot64(global_tid_97597, slice_97602);\n        remnant_97604 = global_tid_97597 - rep_i_97598 * slice_97602;\n        rep_i_97599 = squot64(remnant_97604, slice_97601);\n        remnant_97605 = remnant_97604 - rep_i_97599 * slice_97601;\n        rep_i_97600 = remnant_97605;\n        remnant_97606 = remnant_97605 - rep_i_97600;\n        if (slt64(global_tid_97597, replicate_n_97585)) {\n            double tmp_97607 = ((__global double *) ext_mem_91959)[rep_i_97599 + rep_i_97600 * dim_48135];\n            \n            ((__global double *) mem_91974)[rep_i_97598 * (num_merges_68217 * dim_48135) + rep_i_97599 * num_merges_68217", " + rep_i_97600] = tmp_97607;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97759(int64_t merge_block_sizze_68035, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t replicate_n_97758, int64_t virt_num_tblocks_97764, int64_t num_tblocks_97765, __global unsigned char *mem_91544, __global unsigned char *mem_91585)\n{\n    int32_t replicate_ltid_97760;\n    int32_t tblock_sizze_97762;\n    int32_t replicate_gid_97761;\n    int32_t replicate_gtid_97759;\n    int32_t phys_tblock_id_97766;\n    int32_t iterations_97767;\n    \n    replicate_ltid_97760 = get_local_id(0);\n    tblock_sizze_97762 = get_local_size(0);\n    replicate_gid_97761 = get_tblock_id(0);\n    replicate_gtid_97759 = replicate_gid_97761 * tblock_sizze_97762 + replicate_ltid_97760;\n    phys_tblock_id_97766 = get_tblock_id(0);\n    iterations_97767 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97764) - phys_tblock_id_97766, sext_i64_i32(num_tblocks_97765));\n    for (int32_t i_97768 = 0; i_97768 < iterations_97767; i_97768++) {\n        int32_t virt_tblock_id_97769;\n        int64_t global_tid_97770;\n        int64_t slice_97774;\n        int64_t slice_97775;\n        int64_t slice_97776;\n        int64_t rep_i_97771;\n        int64_t remnant_97777;\n        int64_t rep_i_97772;\n        int64_t remnant_97778;\n        int64_t rep_i_97773;\n        int64_t remnant_97779;\n        \n        virt_tblock_id_97769 = phys_tblock_id_97766 + i_97768 * sext_i64_i32(num_tblocks_97765);\n        global_tid_97770 = sext_i32_i64(virt_tblock_id_97769) * sext_i32_i64(tblock_sizze_97762) + sext_i32_i64(replicate_ltid_97760);\n        slice_97774 = num_blocks_68233;\n        slice_97775 = num_merges_68217 * slice_97774;\n        slice_97776 = merge_block_sizze_68035 * slice_97775;\n        rep_i_97771 = squot64(global_tid_97770, slice_97775);\n        remnant_97777 = global_tid_97770 - rep_i_97771 * slice_97775;\n        rep_i_97772 = s",
                                    "quot64(remnant_97777, slice_97774);\n        remnant_97778 = remnant_97777 - rep_i_97772 * slice_97774;\n        rep_i_97773 = remnant_97778;\n        remnant_97779 = remnant_97778 - rep_i_97773;\n        if (slt64(global_tid_97770, replicate_n_97758)) {\n            int64_t tmp_97780 = ((__global int64_t *) mem_91544)[rep_i_97772 * num_blocks_68233 + rep_i_97773];\n            \n            ((__global int64_t *) mem_91585)[rep_i_97771 * (num_blocks_68233 * num_merges_68217) + rep_i_97772 * num_blocks_68233 + rep_i_97773] = tmp_97780;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97782(int64_t merge_block_sizze_68035, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t replicate_n_97781, int64_t virt_num_tblocks_97787, int64_t num_tblocks_97788, __global unsigned char *mem_91547, __global unsigned char *mem_91589)\n{\n    int32_t replicate_ltid_97783;\n    int32_t tblock_sizze_97785;\n    int32_t replicate_gid_97784;\n    int32_t replicate_gtid_97782;\n    int32_t phys_tblock_id_97789;\n    int32_t iterations_97790;\n    \n    replicate_ltid_97783 = get_local_id(0);\n    tblock_sizze_97785 = get_local_size(0);\n    replicate_gid_97784 = get_tblock_id(0);\n    replicate_gtid_97782 = replicate_gid_97784 * tblock_sizze_97785 + replicate_ltid_97783;\n    phys_tblock_id_97789 = get_tblock_id(0);\n    iterations_97790 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97787) - phys_tblock_id_97789, sext_i64_i32(num_tblocks_97788));\n    for (int32_t i_97791 = 0; i_97791 < iterations_97790; i_97791++) {\n        int32_t virt_tblock_id_97792;\n        int64_t global_tid_97793;\n        int64_t slice_97797;\n        int64_t slice_97798;\n        int64_t slice_97799;\n        int64_t rep_i_97794;\n        int64_t remnant_97800;\n        int64_t rep_i_97795;\n        int64_t remnant_97801;\n        int64_t rep_i_97796;\n        int64_t remnant_97802;\n        \n        virt_tblock_id_97792 = phys_t", "block_id_97789 + i_97791 * sext_i64_i32(num_tblocks_97788);\n        global_tid_97793 = sext_i32_i64(virt_tblock_id_97792) * sext_i32_i64(tblock_sizze_97785) + sext_i32_i64(replicate_ltid_97783);\n        slice_97797 = num_blocks_68233;\n        slice_97798 = num_merges_68217 * slice_97797;\n        slice_97799 = merge_block_sizze_68035 * slice_97798;\n        rep_i_97794 = squot64(global_tid_97793, slice_97798);\n        remnant_97800 = global_tid_97793 - rep_i_97794 * slice_97798;\n        rep_i_97795 = squot64(remnant_97800, slice_97797);\n        remnant_97801 = remnant_97800 - rep_i_97795 * slice_97797;\n        rep_i_97796 = remnant_97801;\n        remnant_97802 = remnant_97801 - rep_i_97796;\n        if (slt64(global_tid_97793, replicate_n_97781)) {\n            double tmp_97803 = ((__global double *) mem_91547)[rep_i_97795 * num_blocks_68233 + rep_i_97796];\n            \n            ((__global double *) mem_91589)[rep_i_97794 * (num_blocks_68233 * num_merges_68217) + rep_i_97795 * num_blocks_68233 + rep_i_97796] = tmp_97803;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97805(int64_t merge_block_sizze_68035, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t replicate_n_97804, int64_t virt_num_tblocks_97810, int64_t num_tblocks_97811, __global unsigned char *mem_91550, __global unsigned char *mem_91593)\n{\n    int32_t replicate_ltid_97806;\n    int32_t tblock_sizze_97808;\n    int32_t replicate_gid_97807;\n    int32_t replicate_gtid_97805;\n    int32_t phys_tblock_id_97812;\n    int32_t iterations_97813;\n    \n    replicate_ltid_97806 = get_local_id(0);\n    tblock_sizze_97808 = get_local_size(0);\n    replicate_gid_97807 = get_tblock_id(0);\n    replicate_gtid_97805 = replicate_gid_97807 * tblock_sizze_97808 + replicate_ltid_97806;\n    phys_tblock_id_97812 = get_tblock_id(0);\n    iterations_97813 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97810) - phys_tbloc", "k_id_97812, sext_i64_i32(num_tblocks_97811));\n    for (int32_t i_97814 = 0; i_97814 < iterations_97813; i_97814++) {\n        int32_t virt_tblock_id_97815;\n        int64_t global_tid_97816;\n        int64_t slice_97820;\n        int64_t slice_97821;\n        int64_t slice_97822;\n        int64_t rep_i_97817;\n        int64_t remnant_97823;\n        int64_t rep_i_97818;\n        int64_t remnant_97824;\n        int64_t rep_i_97819;\n        int64_t remnant_97825;\n        \n        virt_tblock_id_97815 = phys_tblock_id_97812 + i_97814 * sext_i64_i32(num_tblocks_97811);\n        global_tid_97816 = sext_i32_i64(virt_tblock_id_97815) * sext_i32_i64(tblock_sizze_97808) + sext_i32_i64(replicate_ltid_97806);\n        slice_97820 = num_blocks_68233;\n        slice_97821 = num_merges_68217 * slice_97820;\n        slice_97822 = merge_block_sizze_68035 * slice_97821;\n        rep_i_97817 = squot64(global_tid_97816, slice_97821);\n        remnant_97823 = global_tid_97816 - rep_i_97817 * slice_97821;\n        rep_i_97818 = squot64(remnant_97823, slice_97820);\n        remnant_97824 = remnant_97823 - rep_i_97818 * slice_97820;\n        rep_i_97819 = remnant_97824;\n        remnant_97825 = remnant_97824 - rep_i_97819;\n        if (slt64(global_tid_97816, replicate_n_97804)) {\n            int64_t tmp_97826 = ((__global int64_t *) mem_91550)[rep_i_97818 * num_blocks_68233 + rep_i_97819];\n            \n            ((__global int64_t *) mem_91593)[rep_i_97817 * (num_blocks_68233 * num_merges_68217) + rep_i_97818 * num_blocks_68233 + rep_i_97819] = tmp_97826;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97828(int64_t dim_48135, int64_t merge_block_sizze_68035, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t replicate_n_97827, int64_t virt_num_tblocks_97833, int64_t num_tblocks_97834, __global unsigned char *mem_91567, __global unsigned char *mem_91598)\n{\n    int32_t replicate_ltid_97",
                                    "829;\n    int32_t tblock_sizze_97831;\n    int32_t replicate_gid_97830;\n    int32_t replicate_gtid_97828;\n    int32_t phys_tblock_id_97835;\n    int32_t iterations_97836;\n    \n    replicate_ltid_97829 = get_local_id(0);\n    tblock_sizze_97831 = get_local_size(0);\n    replicate_gid_97830 = get_tblock_id(0);\n    replicate_gtid_97828 = replicate_gid_97830 * tblock_sizze_97831 + replicate_ltid_97829;\n    phys_tblock_id_97835 = get_tblock_id(0);\n    iterations_97836 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97833) - phys_tblock_id_97835, sext_i64_i32(num_tblocks_97834));\n    for (int32_t i_97837 = 0; i_97837 < iterations_97836; i_97837++) {\n        int32_t virt_tblock_id_97838;\n        int64_t global_tid_97839;\n        int64_t slice_97844;\n        int64_t slice_97845;\n        int64_t slice_97846;\n        int64_t slice_97847;\n        int64_t rep_i_97840;\n        int64_t remnant_97848;\n        int64_t rep_i_97841;\n        int64_t remnant_97849;\n        int64_t rep_i_97842;\n        int64_t remnant_97850;\n        int64_t rep_i_97843;\n        int64_t remnant_97851;\n        \n        virt_tblock_id_97838 = phys_tblock_id_97835 + i_97837 * sext_i64_i32(num_tblocks_97834);\n        global_tid_97839 = sext_i32_i64(virt_tblock_id_97838) * sext_i32_i64(tblock_sizze_97831) + sext_i32_i64(replicate_ltid_97829);\n        slice_97844 = num_blocks_68233;\n        slice_97845 = num_merges_68217 * slice_97844;\n        slice_97846 = dim_48135 * slice_97845;\n        slice_97847 = merge_block_sizze_68035 * slice_97846;\n        rep_i_97840 = squot64(global_tid_97839, slice_97846);\n        remnant_97848 = global_tid_97839 - rep_i_97840 * slice_97846;\n        rep_i_97841 = squot64(remnant_97848, slice_97845);\n        remnant_97849 = remnant_97848 - rep_i_97841 * slice_97845;\n        rep_i_97842 = squot64(remnant_97849, slice_97844);\n        remnant_97850 = remnant_97849 - rep_i_97842 * slice_97844;\n        rep_i_97843 = remnant_97850;\n        remnant_97851 = remnant_97850 - rep_i_97843;\n        if (sl", "t64(global_tid_97839, replicate_n_97827)) {\n            double tmp_97852 = ((__global double *) mem_91567)[rep_i_97841 * (num_blocks_68233 * num_merges_68217) + rep_i_97842 * num_blocks_68233 + rep_i_97843];\n            \n            ((__global double *) mem_91598)[rep_i_97840 * (num_blocks_68233 * num_merges_68217 * dim_48135) + rep_i_97841 * (num_blocks_68233 * num_merges_68217) + rep_i_97842 * num_blocks_68233 + rep_i_97843] = tmp_97852;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98321(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_98320, int64_t virt_num_tblocks_98326, int64_t num_tblocks_98327, __global unsigned char *mem_93736, __global unsigned char *mem_93739)\n{\n    int32_t replicate_ltid_98322;\n    int32_t tblock_sizze_98324;\n    int32_t replicate_gid_98323;\n    int32_t replicate_gtid_98321;\n    int32_t phys_tblock_id_98328;\n    int32_t iterations_98329;\n    \n    replicate_ltid_98322 = get_local_id(0);\n    tblock_sizze_98324 = get_local_size(0);\n    replicate_gid_98323 = get_tblock_id(0);\n    replicate_gtid_98321 = replicate_gid_98323 * tblock_sizze_98324 + replicate_ltid_98322;\n    phys_tblock_id_98328 = get_tblock_id(0);\n    iterations_98329 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98326) - phys_tblock_id_98328, sext_i64_i32(num_tblocks_98327));\n    for (int32_t i_98330 = 0; i_98330 < iterations_98329; i_98330++) {\n        int32_t virt_tblock_id_98331;\n        int64_t global_tid_98332;\n        int64_t slice_98335;\n        int64_t slice_98336;\n        int64_t rep_i_98333;\n        int64_t remnant_98337;\n        int64_t rep_i_98334;\n        int64_t remnant_98338;\n        \n        virt_tblock_id_98331 = phys_tblock_id_98328 + i_98330 * sext_i64_i32(num_tblocks_98327);\n        global_tid_98332 = sext_i32_i64(virt_tblock_id_98331) * sext_i32_i64(tblock_sizze_98324) + sext_i32_i64(replicate_ltid_98322);\n        slice_98335 = n_48138;\n  ", "      slice_98336 = dim_48135 * slice_98335;\n        rep_i_98333 = squot64(global_tid_98332, slice_98335);\n        remnant_98337 = global_tid_98332 - rep_i_98333 * slice_98335;\n        rep_i_98334 = remnant_98337;\n        remnant_98338 = remnant_98337 - rep_i_98334;\n        if (slt64(global_tid_98332, replicate_n_98320)) {\n            int64_t tmp_98339 = ((__global int64_t *) mem_93736)[rep_i_98334];\n            \n            ((__global int64_t *) mem_93739)[rep_i_98333 * n_48138 + rep_i_98334] = tmp_98339;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98364(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_98363, int64_t virt_num_tblocks_98369, int64_t num_tblocks_98370, __global unsigned char *mem_93788, __global unsigned char *mem_93791)\n{\n    int32_t replicate_ltid_98365;\n    int32_t tblock_sizze_98367;\n    int32_t replicate_gid_98366;\n    int32_t replicate_gtid_98364;\n    int32_t phys_tblock_id_98371;\n    int32_t iterations_98372;\n    \n    replicate_ltid_98365 = get_local_id(0);\n    tblock_sizze_98367 = get_local_size(0);\n    replicate_gid_98366 = get_tblock_id(0);\n    replicate_gtid_98364 = replicate_gid_98366 * tblock_sizze_98367 + replicate_ltid_98365;\n    phys_tblock_id_98371 = get_tblock_id(0);\n    iterations_98372 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98369) - phys_tblock_id_98371, sext_i64_i32(num_tblocks_98370));\n    for (int32_t i_98373 = 0; i_98373 < iterations_98372; i_98373++) {\n        int32_t virt_tblock_id_98374;\n        int64_t global_tid_98375;\n        int64_t slice_98378;\n        int64_t slice_98379;\n        int64_t rep_i_98376;\n        int64_t remnant_98380;\n        int64_t rep_i_98377;\n        int64_t remnant_98381;\n        \n        virt_tblock_id_98374 = phys_tblock_id_98371 + i_98373 * sext_i64_i32(num_tblocks_98370);\n        global_tid_98375 = sext_i32_i64(virt_tblock_id_98374) * sext_i32_i64(tblock_sizze_98367) + s",
                                    "ext_i32_i64(replicate_ltid_98365);\n        slice_98378 = n_48138;\n        slice_98379 = dim_48135 * slice_98378;\n        rep_i_98376 = squot64(global_tid_98375, slice_98378);\n        remnant_98380 = global_tid_98375 - rep_i_98376 * slice_98378;\n        rep_i_98377 = remnant_98380;\n        remnant_98381 = remnant_98380 - rep_i_98377;\n        if (slt64(global_tid_98375, replicate_n_98363)) {\n            int64_t tmp_98382 = ((__global int64_t *) mem_93788)[rep_i_98377];\n            \n            ((__global int64_t *) mem_93791)[rep_i_98376 * n_48138 + rep_i_98377] = tmp_98382;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98408(int64_t dim_48135, int64_t n_48138, int64_t replicate_n_98407, int64_t virt_num_tblocks_98413, int64_t num_tblocks_98414, __global unsigned char *mem_93872, __global unsigned char *mem_93875)\n{\n    int32_t replicate_ltid_98409;\n    int32_t tblock_sizze_98411;\n    int32_t replicate_gid_98410;\n    int32_t replicate_gtid_98408;\n    int32_t phys_tblock_id_98415;\n    int32_t iterations_98416;\n    \n    replicate_ltid_98409 = get_local_id(0);\n    tblock_sizze_98411 = get_local_size(0);\n    replicate_gid_98410 = get_tblock_id(0);\n    replicate_gtid_98408 = replicate_gid_98410 * tblock_sizze_98411 + replicate_ltid_98409;\n    phys_tblock_id_98415 = get_tblock_id(0);\n    iterations_98416 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98413) - phys_tblock_id_98415, sext_i64_i32(num_tblocks_98414));\n    for (int32_t i_98417 = 0; i_98417 < iterations_98416; i_98417++) {\n        int32_t virt_tblock_id_98418;\n        int64_t global_tid_98419;\n        int64_t slice_98422;\n        int64_t slice_98423;\n        int64_t rep_i_98420;\n        int64_t remnant_98424;\n        int64_t rep_i_98421;\n        int64_t remnant_98425;\n        \n        virt_tblock_id_98418 = phys_tblock_id_98415 + i_98417 * sext_i64_i32(num_tblocks_98414);\n        global_tid_98419 = sext_", "i32_i64(virt_tblock_id_98418) * sext_i32_i64(tblock_sizze_98411) + sext_i32_i64(replicate_ltid_98409);\n        slice_98422 = n_48138;\n        slice_98423 = dim_48135 * slice_98422;\n        rep_i_98420 = squot64(global_tid_98419, slice_98422);\n        remnant_98424 = global_tid_98419 - rep_i_98420 * slice_98422;\n        rep_i_98421 = remnant_98424;\n        remnant_98425 = remnant_98424 - rep_i_98421;\n        if (slt64(global_tid_98419, replicate_n_98407)) {\n            int64_t tmp_98426 = ((__global int64_t *) mem_93872)[rep_i_98421];\n            \n            ((__global int64_t *) mem_93875)[rep_i_98420 * n_48138 + rep_i_98421] = tmp_98426;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98631(int64_t dim_48135, int64_t replicate_n_98630, int64_t virt_num_tblocks_98636, int64_t num_tblocks_98637, __global unsigned char *mem_94127, __global unsigned char *mem_94129)\n{\n    int32_t replicate_ltid_98632;\n    int32_t tblock_sizze_98634;\n    int32_t replicate_gid_98633;\n    int32_t replicate_gtid_98631;\n    int32_t phys_tblock_id_98638;\n    int32_t iterations_98639;\n    \n    replicate_ltid_98632 = get_local_id(0);\n    tblock_sizze_98634 = get_local_size(0);\n    replicate_gid_98633 = get_tblock_id(0);\n    replicate_gtid_98631 = replicate_gid_98633 * tblock_sizze_98634 + replicate_ltid_98632;\n    phys_tblock_id_98638 = get_tblock_id(0);\n    iterations_98639 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98636) - phys_tblock_id_98638, sext_i64_i32(num_tblocks_98637));\n    for (int32_t i_98640 = 0; i_98640 < iterations_98639; i_98640++) {\n        int32_t virt_tblock_id_98641;\n        int64_t global_tid_98642;\n        int64_t slice_98645;\n        int64_t slice_98646;\n        int64_t rep_i_98643;\n        int64_t remnant_98647;\n        int64_t rep_i_98644;\n        int64_t remnant_98648;\n        \n        virt_tblock_id_98641 = phys_tblock_id_98638 + i_98640 * sext_i64_i32(n", "um_tblocks_98637);\n        global_tid_98642 = sext_i32_i64(virt_tblock_id_98641) * sext_i32_i64(tblock_sizze_98634) + sext_i32_i64(replicate_ltid_98632);\n        slice_98645 = (int64_t) 1;\n        slice_98646 = dim_48135 * slice_98645;\n        rep_i_98643 = squot64(global_tid_98642, slice_98645);\n        remnant_98647 = global_tid_98642 - rep_i_98643 * slice_98645;\n        rep_i_98644 = remnant_98647;\n        remnant_98648 = remnant_98647 - rep_i_98644;\n        if (slt64(global_tid_98642, replicate_n_98630)) {\n            int64_t tmp_98649 = ((__global int64_t *) mem_94127)[rep_i_98644];\n            \n            ((__global int64_t *) mem_94129)[rep_i_98643 + rep_i_98644] = tmp_98649;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98664(int64_t dim_48135, int64_t replicate_n_98663, int64_t virt_num_tblocks_98669, int64_t num_tblocks_98670, __global unsigned char *mem_94142, __global unsigned char *mem_94144)\n{\n    int32_t replicate_ltid_98665;\n    int32_t tblock_sizze_98667;\n    int32_t replicate_gid_98666;\n    int32_t replicate_gtid_98664;\n    int32_t phys_tblock_id_98671;\n    int32_t iterations_98672;\n    \n    replicate_ltid_98665 = get_local_id(0);\n    tblock_sizze_98667 = get_local_size(0);\n    replicate_gid_98666 = get_tblock_id(0);\n    replicate_gtid_98664 = replicate_gid_98666 * tblock_sizze_98667 + replicate_ltid_98665;\n    phys_tblock_id_98671 = get_tblock_id(0);\n    iterations_98672 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98669) - phys_tblock_id_98671, sext_i64_i32(num_tblocks_98670));\n    for (int32_t i_98673 = 0; i_98673 < iterations_98672; i_98673++) {\n        int32_t virt_tblock_id_98674;\n        int64_t global_tid_98675;\n        int64_t slice_98678;\n        int64_t slice_98679;\n        int64_t rep_i_98676;\n        int64_t remnant_98680;\n        int64_t rep_i_98677;\n        int64_t remnant_98681;\n        \n        virt_tblock_id_98674 = ph",
                                    "ys_tblock_id_98671 + i_98673 * sext_i64_i32(num_tblocks_98670);\n        global_tid_98675 = sext_i32_i64(virt_tblock_id_98674) * sext_i32_i64(tblock_sizze_98667) + sext_i32_i64(replicate_ltid_98665);\n        slice_98678 = (int64_t) 1;\n        slice_98679 = dim_48135 * slice_98678;\n        rep_i_98676 = squot64(global_tid_98675, slice_98678);\n        remnant_98680 = global_tid_98675 - rep_i_98676 * slice_98678;\n        rep_i_98677 = remnant_98680;\n        remnant_98681 = remnant_98680 - rep_i_98677;\n        if (slt64(global_tid_98675, replicate_n_98663)) {\n            int64_t tmp_98682 = ((__global int64_t *) mem_94142)[rep_i_98677];\n            \n            ((__global int64_t *) mem_94144)[rep_i_98676 + rep_i_98677] = tmp_98682;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98697(int64_t dim_48135, int64_t replicate_n_98696, int64_t virt_num_tblocks_98702, int64_t num_tblocks_98703, __global unsigned char *mem_94157, __global unsigned char *mem_94159)\n{\n    int32_t replicate_ltid_98698;\n    int32_t tblock_sizze_98700;\n    int32_t replicate_gid_98699;\n    int32_t replicate_gtid_98697;\n    int32_t phys_tblock_id_98704;\n    int32_t iterations_98705;\n    \n    replicate_ltid_98698 = get_local_id(0);\n    tblock_sizze_98700 = get_local_size(0);\n    replicate_gid_98699 = get_tblock_id(0);\n    replicate_gtid_98697 = replicate_gid_98699 * tblock_sizze_98700 + replicate_ltid_98698;\n    phys_tblock_id_98704 = get_tblock_id(0);\n    iterations_98705 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98702) - phys_tblock_id_98704, sext_i64_i32(num_tblocks_98703));\n    for (int32_t i_98706 = 0; i_98706 < iterations_98705; i_98706++) {\n        int32_t virt_tblock_id_98707;\n        int64_t global_tid_98708;\n        int64_t slice_98711;\n        int64_t slice_98712;\n        int64_t rep_i_98709;\n        int64_t remnant_98713;\n        int64_t rep_i_98710;\n        int64_t remnant_9871", "4;\n        \n        virt_tblock_id_98707 = phys_tblock_id_98704 + i_98706 * sext_i64_i32(num_tblocks_98703);\n        global_tid_98708 = sext_i32_i64(virt_tblock_id_98707) * sext_i32_i64(tblock_sizze_98700) + sext_i32_i64(replicate_ltid_98698);\n        slice_98711 = (int64_t) 1;\n        slice_98712 = dim_48135 * slice_98711;\n        rep_i_98709 = squot64(global_tid_98708, slice_98711);\n        remnant_98713 = global_tid_98708 - rep_i_98709 * slice_98711;\n        rep_i_98710 = remnant_98713;\n        remnant_98714 = remnant_98713 - rep_i_98710;\n        if (slt64(global_tid_98708, replicate_n_98696)) {\n            int64_t tmp_98715 = ((__global int64_t *) mem_94157)[rep_i_98710];\n            \n            ((__global int64_t *) mem_94159)[rep_i_98709 + rep_i_98710] = tmp_98715;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98769(int64_t dim_48135, int64_t replicate_n_98768, int64_t virt_num_tblocks_98774, int64_t num_tblocks_98775, __global unsigned char *mem_94207, __global unsigned char *mem_94209)\n{\n    int32_t replicate_ltid_98770;\n    int32_t tblock_sizze_98772;\n    int32_t replicate_gid_98771;\n    int32_t replicate_gtid_98769;\n    int32_t phys_tblock_id_98776;\n    int32_t iterations_98777;\n    \n    replicate_ltid_98770 = get_local_id(0);\n    tblock_sizze_98772 = get_local_size(0);\n    replicate_gid_98771 = get_tblock_id(0);\n    replicate_gtid_98769 = replicate_gid_98771 * tblock_sizze_98772 + replicate_ltid_98770;\n    phys_tblock_id_98776 = get_tblock_id(0);\n    iterations_98777 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98774) - phys_tblock_id_98776, sext_i64_i32(num_tblocks_98775));\n    for (int32_t i_98778 = 0; i_98778 < iterations_98777; i_98778++) {\n        int32_t virt_tblock_id_98779;\n        int64_t global_tid_98780;\n        int64_t slice_98783;\n        int64_t slice_98784;\n        int64_t rep_i_98781;\n        int64_t remnant_98785;\n        int6", "4_t rep_i_98782;\n        int64_t remnant_98786;\n        \n        virt_tblock_id_98779 = phys_tblock_id_98776 + i_98778 * sext_i64_i32(num_tblocks_98775);\n        global_tid_98780 = sext_i32_i64(virt_tblock_id_98779) * sext_i32_i64(tblock_sizze_98772) + sext_i32_i64(replicate_ltid_98770);\n        slice_98783 = (int64_t) 1;\n        slice_98784 = dim_48135 * slice_98783;\n        rep_i_98781 = squot64(global_tid_98780, slice_98783);\n        remnant_98785 = global_tid_98780 - rep_i_98781 * slice_98783;\n        rep_i_98782 = remnant_98785;\n        remnant_98786 = remnant_98785 - rep_i_98782;\n        if (slt64(global_tid_98780, replicate_n_98768)) {\n            double tmp_98787 = ((__global double *) mem_94207)[rep_i_98782];\n            \n            ((__global double *) mem_94209)[rep_i_98781 + rep_i_98782] = tmp_98787;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98837(int64_t m_68889, int64_t replicate_n_98836, int64_t virt_num_tblocks_98842, int64_t num_tblocks_98843, __global unsigned char *mem_94248, __global unsigned char *mem_94250)\n{\n    int32_t replicate_ltid_98838;\n    int32_t tblock_sizze_98840;\n    int32_t replicate_gid_98839;\n    int32_t replicate_gtid_98837;\n    int32_t phys_tblock_id_98844;\n    int32_t iterations_98845;\n    \n    replicate_ltid_98838 = get_local_id(0);\n    tblock_sizze_98840 = get_local_size(0);\n    replicate_gid_98839 = get_tblock_id(0);\n    replicate_gtid_98837 = replicate_gid_98839 * tblock_sizze_98840 + replicate_ltid_98838;\n    phys_tblock_id_98844 = get_tblock_id(0);\n    iterations_98845 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98842) - phys_tblock_id_98844, sext_i64_i32(num_tblocks_98843));\n    for (int32_t i_98846 = 0; i_98846 < iterations_98845; i_98846++) {\n        int32_t virt_tblock_id_98847;\n        int64_t global_tid_98848;\n        int64_t slice_98851;\n        int64_t slice_98852;\n        int64_t rep_i_98849;\n   ",
                                    "     int64_t remnant_98853;\n        int64_t rep_i_98850;\n        int64_t remnant_98854;\n        \n        virt_tblock_id_98847 = phys_tblock_id_98844 + i_98846 * sext_i64_i32(num_tblocks_98843);\n        global_tid_98848 = sext_i32_i64(virt_tblock_id_98847) * sext_i32_i64(tblock_sizze_98840) + sext_i32_i64(replicate_ltid_98838);\n        slice_98851 = (int64_t) 1;\n        slice_98852 = m_68889 * slice_98851;\n        rep_i_98849 = squot64(global_tid_98848, slice_98851);\n        remnant_98853 = global_tid_98848 - rep_i_98849 * slice_98851;\n        rep_i_98850 = remnant_98853;\n        remnant_98854 = remnant_98853 - rep_i_98850;\n        if (slt64(global_tid_98848, replicate_n_98836)) {\n            int64_t tmp_98855 = ((__global int64_t *) mem_94248)[rep_i_98850];\n            \n            ((__global int64_t *) mem_94250)[rep_i_98849 + rep_i_98850] = tmp_98855;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98882(int64_t dim_48135, int64_t replicate_n_98881, int64_t virt_num_tblocks_98887, int64_t num_tblocks_98888, __global unsigned char *mem_94260, __global unsigned char *mem_94262)\n{\n    int32_t replicate_ltid_98883;\n    int32_t tblock_sizze_98885;\n    int32_t replicate_gid_98884;\n    int32_t replicate_gtid_98882;\n    int32_t phys_tblock_id_98889;\n    int32_t iterations_98890;\n    \n    replicate_ltid_98883 = get_local_id(0);\n    tblock_sizze_98885 = get_local_size(0);\n    replicate_gid_98884 = get_tblock_id(0);\n    replicate_gtid_98882 = replicate_gid_98884 * tblock_sizze_98885 + replicate_ltid_98883;\n    phys_tblock_id_98889 = get_tblock_id(0);\n    iterations_98890 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98887) - phys_tblock_id_98889, sext_i64_i32(num_tblocks_98888));\n    for (int32_t i_98891 = 0; i_98891 < iterations_98890; i_98891++) {\n        int32_t virt_tblock_id_98892;\n        int64_t global_tid_98893;\n        int64_t slice_98896;\n        int64_t sl", "ice_98897;\n        int64_t rep_i_98894;\n        int64_t remnant_98898;\n        int64_t rep_i_98895;\n        int64_t remnant_98899;\n        \n        virt_tblock_id_98892 = phys_tblock_id_98889 + i_98891 * sext_i64_i32(num_tblocks_98888);\n        global_tid_98893 = sext_i32_i64(virt_tblock_id_98892) * sext_i32_i64(tblock_sizze_98885) + sext_i32_i64(replicate_ltid_98883);\n        slice_98896 = (int64_t) 1;\n        slice_98897 = dim_48135 * slice_98896;\n        rep_i_98894 = squot64(global_tid_98893, slice_98896);\n        remnant_98898 = global_tid_98893 - rep_i_98894 * slice_98896;\n        rep_i_98895 = remnant_98898;\n        remnant_98899 = remnant_98898 - rep_i_98895;\n        if (slt64(global_tid_98893, replicate_n_98881)) {\n            int64_t tmp_98900 = ((__global int64_t *) mem_94260)[rep_i_98895];\n            \n            ((__global int64_t *) mem_94262)[rep_i_98894 + rep_i_98895] = tmp_98900;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98915(int64_t dim_48135, int64_t replicate_n_98914, int64_t virt_num_tblocks_98920, int64_t num_tblocks_98921, __global unsigned char *mem_94275, __global unsigned char *mem_94277)\n{\n    int32_t replicate_ltid_98916;\n    int32_t tblock_sizze_98918;\n    int32_t replicate_gid_98917;\n    int32_t replicate_gtid_98915;\n    int32_t phys_tblock_id_98922;\n    int32_t iterations_98923;\n    \n    replicate_ltid_98916 = get_local_id(0);\n    tblock_sizze_98918 = get_local_size(0);\n    replicate_gid_98917 = get_tblock_id(0);\n    replicate_gtid_98915 = replicate_gid_98917 * tblock_sizze_98918 + replicate_ltid_98916;\n    phys_tblock_id_98922 = get_tblock_id(0);\n    iterations_98923 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98920) - phys_tblock_id_98922, sext_i64_i32(num_tblocks_98921));\n    for (int32_t i_98924 = 0; i_98924 < iterations_98923; i_98924++) {\n        int32_t virt_tblock_id_98925;\n        int64_t global_tid_98926;\n  ", "      int64_t slice_98929;\n        int64_t slice_98930;\n        int64_t rep_i_98927;\n        int64_t remnant_98931;\n        int64_t rep_i_98928;\n        int64_t remnant_98932;\n        \n        virt_tblock_id_98925 = phys_tblock_id_98922 + i_98924 * sext_i64_i32(num_tblocks_98921);\n        global_tid_98926 = sext_i32_i64(virt_tblock_id_98925) * sext_i32_i64(tblock_sizze_98918) + sext_i32_i64(replicate_ltid_98916);\n        slice_98929 = (int64_t) 1;\n        slice_98930 = dim_48135 * slice_98929;\n        rep_i_98927 = squot64(global_tid_98926, slice_98929);\n        remnant_98931 = global_tid_98926 - rep_i_98927 * slice_98929;\n        rep_i_98928 = remnant_98931;\n        remnant_98932 = remnant_98931 - rep_i_98928;\n        if (slt64(global_tid_98926, replicate_n_98914)) {\n            int64_t tmp_98933 = ((__global int64_t *) mem_94275)[rep_i_98928];\n            \n            ((__global int64_t *) mem_94277)[rep_i_98927 + rep_i_98928] = tmp_98933;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98948(int64_t dim_48135, int64_t replicate_n_98947, int64_t virt_num_tblocks_98953, int64_t num_tblocks_98954, __global unsigned char *mem_94290, __global unsigned char *mem_94292)\n{\n    int32_t replicate_ltid_98949;\n    int32_t tblock_sizze_98951;\n    int32_t replicate_gid_98950;\n    int32_t replicate_gtid_98948;\n    int32_t phys_tblock_id_98955;\n    int32_t iterations_98956;\n    \n    replicate_ltid_98949 = get_local_id(0);\n    tblock_sizze_98951 = get_local_size(0);\n    replicate_gid_98950 = get_tblock_id(0);\n    replicate_gtid_98948 = replicate_gid_98950 * tblock_sizze_98951 + replicate_ltid_98949;\n    phys_tblock_id_98955 = get_tblock_id(0);\n    iterations_98956 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98953) - phys_tblock_id_98955, sext_i64_i32(num_tblocks_98954));\n    for (int32_t i_98957 = 0; i_98957 < iterations_98956; i_98957++) {\n        int32_t virt_tblock_i",
                                    "d_98958;\n        int64_t global_tid_98959;\n        int64_t slice_98962;\n        int64_t slice_98963;\n        int64_t rep_i_98960;\n        int64_t remnant_98964;\n        int64_t rep_i_98961;\n        int64_t remnant_98965;\n        \n        virt_tblock_id_98958 = phys_tblock_id_98955 + i_98957 * sext_i64_i32(num_tblocks_98954);\n        global_tid_98959 = sext_i32_i64(virt_tblock_id_98958) * sext_i32_i64(tblock_sizze_98951) + sext_i32_i64(replicate_ltid_98949);\n        slice_98962 = (int64_t) 1;\n        slice_98963 = dim_48135 * slice_98962;\n        rep_i_98960 = squot64(global_tid_98959, slice_98962);\n        remnant_98964 = global_tid_98959 - rep_i_98960 * slice_98962;\n        rep_i_98961 = remnant_98964;\n        remnant_98965 = remnant_98964 - rep_i_98961;\n        if (slt64(global_tid_98959, replicate_n_98947)) {\n            int64_t tmp_98966 = ((__global int64_t *) mem_94290)[rep_i_98961];\n            \n            ((__global int64_t *) mem_94292)[rep_i_98960 + rep_i_98961] = tmp_98966;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_99014(int64_t dim_48135, int64_t replicate_n_99013, int64_t virt_num_tblocks_99019, int64_t num_tblocks_99020, __global unsigned char *mem_94335, __global unsigned char *mem_94337)\n{\n    int32_t replicate_ltid_99015;\n    int32_t tblock_sizze_99017;\n    int32_t replicate_gid_99016;\n    int32_t replicate_gtid_99014;\n    int32_t phys_tblock_id_99021;\n    int32_t iterations_99022;\n    \n    replicate_ltid_99015 = get_local_id(0);\n    tblock_sizze_99017 = get_local_size(0);\n    replicate_gid_99016 = get_tblock_id(0);\n    replicate_gtid_99014 = replicate_gid_99016 * tblock_sizze_99017 + replicate_ltid_99015;\n    phys_tblock_id_99021 = get_tblock_id(0);\n    iterations_99022 = sdiv_up32(sext_i64_i32(virt_num_tblocks_99019) - phys_tblock_id_99021, sext_i64_i32(num_tblocks_99020));\n    for (int32_t i_99023 = 0; i_99023 < iterations_9902", "2; i_99023++) {\n        int32_t virt_tblock_id_99024;\n        int64_t global_tid_99025;\n        int64_t slice_99028;\n        int64_t slice_99029;\n        int64_t rep_i_99026;\n        int64_t remnant_99030;\n        int64_t rep_i_99027;\n        int64_t remnant_99031;\n        \n        virt_tblock_id_99024 = phys_tblock_id_99021 + i_99023 * sext_i64_i32(num_tblocks_99020);\n        global_tid_99025 = sext_i32_i64(virt_tblock_id_99024) * sext_i32_i64(tblock_sizze_99017) + sext_i32_i64(replicate_ltid_99015);\n        slice_99028 = (int64_t) 1;\n        slice_99029 = dim_48135 * slice_99028;\n        rep_i_99026 = squot64(global_tid_99025, slice_99028);\n        remnant_99030 = global_tid_99025 - rep_i_99026 * slice_99028;\n        rep_i_99027 = remnant_99030;\n        remnant_99031 = remnant_99030 - rep_i_99027;\n        if (slt64(global_tid_99025, replicate_n_99013)) {\n            double tmp_99032 = ((__global double *) mem_94335)[rep_i_99027];\n            \n            ((__global double *) mem_94337)[rep_i_99026 + rep_i_99027] = tmp_99032;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_global_88043_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_global_88043(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t total_grid_no_48146, int64_t arg_67058, unsigned char cond_67069_bits, int64_t num_tblocks_88038, int64_t min_arg1_90499, int64_t num_threads_95640, int64_t num_subhistos_97875, int32_t chk_i_97955, int64_t hist_H_chk_97956, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_93635, __global unsigned char *color_95485, __global unsigned char *color_95486, __global unsig", "ned char *color_95487, __global unsigned char *color_95488, __global unsigned char *color_95489, __global unsigned char *color_95490, __global unsigned char *color_95491, __global unsigned char *defunc_0_map_res_subhistos_mem_97876)\n{\n    bool cond_67069 = cond_67069_bits;\n    \n    #define seghist_tblock_sizze_88036 (sort_for_Skyline_doubleziseghist_global_88043ziseghist_tblock_sizze_88036)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97958;\n    int32_t tblock_sizze_97961;\n    int32_t wave_sizze_97960;\n    int32_t block_id_97959;\n    int32_t global_tid_97957;\n    int64_t phys_tid_88043;\n    int32_t subhisto_ind_97962;\n    int64_t num_chunks_97963;\n    \n    local_tid_97958 = get_local_id(0);\n    tblock_sizze_97961 = get_local_size(0);\n    wave_sizze_97960 = LOCKSTEP_WIDTH;\n    block_id_97959 = get_tblock_id(0);\n    global_tid_97957 = block_id_97959 * tblock_sizze_97961 + local_tid_97958;\n    phys_tid_88043 = sext_i32_i64(global_tid_97957);\n    subhisto_ind_97962 = squot32(global_tid_97957, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_88036 * num_tblocks_88038), sext_i64_i32(num_subhistos_97875)));\n    num_chunks_97963 = sdiv_up64(n_48138, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_88036 * num_tblocks_88038)));\n    for (int64_t chunk_i_97964 = 0; chunk_i_97964 < num_chunks_97963; chunk_i_97964++) {\n        int64_t i_97965 = chunk_i_97964 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_88036 * num_tblocks_88038)) + sext_i32_i64(global_tid_97957);\n        \n        if (slt64(i_97965, n_48138)) {\n            int64_t slice_97966;\n            int64_t gtid_88042;\n            int64_t remnant_97967;\n            \n            slice_97966 = n_48138;\n            gtid_88042 = i_97965;\n            remnant_97967 = i_97965 - gtid_88042;\n            if (slt64(i_97965, n_48138)) {\n                __global unsigned char *ext_mem_ext_95684;\n                int64_t defunc_0_foldl_res_88112;\n                int64_t acc_88114;\n                \n                ",
                                    "if (cond_67069) {\n                    ext_mem_ext_95684 = color_95486;\n                } else {\n                    __global unsigned char *ext_mem_ext_95675;\n                    int64_t f_arg0_88091;\n                    int64_t min_res_88092;\n                    \n                    if (cond_67069) {\n                        ext_mem_ext_95675 = color_95485;\n                    } else {\n                        __global unsigned char *ext_mem_ext_95666;\n                        int64_t f_arg0_88077;\n                        int64_t max_res_88078;\n                        \n                        for (int64_t i_90433 = 0; i_90433 < dim_48135; i_90433++) {\n                            double eta_p_88054;\n                            double eta_p_88055;\n                            double defunc_0_f_res_88056;\n                            \n                            eta_p_88054 = ((__global double *) mem_93635)[gtid_88042 + i_90433 * n_48138];\n                            eta_p_88055 = ((__global double *) start_of_grid_partition_mem_90818)[i_90433];\n                            defunc_0_f_res_88056 = eta_p_88054 - eta_p_88055;\n                            ((__global double *) color_95489)[phys_tid_88043 + i_90433 * num_threads_95640] = defunc_0_f_res_88056;\n                        }\n                        for (int64_t i_90437 = 0; i_90437 < dim_48135; i_90437++) {\n                            double eta_p_88058;\n                            double eta_p_88059;\n                            double defunc_0_f_res_88060;\n                            \n                            eta_p_88058 = ((__global double *) color_95489)[phys_tid_88043 + i_90437 * num_threads_95640];\n                            eta_p_88059 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[i_90437];\n                            defunc_0_f_res_88060 = eta_p_88058 / eta_p_88059;\n                            ((__global double *) color_95491)[phys_tid_88043 + i_90437 * num_threads_95640] = defunc_0_f_res_88060;\n  ", "                      }\n                        if (cond_67069) {\n                            ext_mem_ext_95666 = color_95489;\n                        } else {\n                            double f_arg0_88063;\n                            int64_t f64_res_88064;\n                            \n                            f_arg0_88063 = ((__global double *) color_95491)[phys_tid_88043];\n                            f64_res_88064 = fptosi_f64_i64(f_arg0_88063);\n                            for (int64_t nest_i_97970 = 0; nest_i_97970 < dim_48135; nest_i_97970++) {\n                                ((__global int64_t *) color_95490)[phys_tid_88043 + nest_i_97970 * num_threads_95640] = f64_res_88064;\n                            }\n                            for (int64_t i_88067 = 0; i_88067 < arg_67058; i_88067++) {\n                                int64_t index_primexp_88069;\n                                bool x_88070;\n                                bool y_88071;\n                                bool bounds_check_88072;\n                                bool index_certs_88073;\n                                double f_arg0_88074;\n                                int64_t f64_res_88075;\n                                \n                                index_primexp_88069 = add64((int64_t) 1, i_88067);\n                                x_88070 = sle64((int64_t) 0, index_primexp_88069);\n                                y_88071 = slt64(index_primexp_88069, dim_48135);\n                                bounds_check_88072 = x_88070 && y_88071;\n                                if (!bounds_check_88072) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 170) == -1) {\n                                            global_failure_args[0] = (int64_t) index_primexp_88069;\n                                            global_failure_args[1] = (int64_t) dim_48135;\n                                            ;\n                       ", "                 }\n                                        return;\n                                    }\n                                }\n                                f_arg0_88074 = ((__global double *) color_95491)[phys_tid_88043 + index_primexp_88069 * num_threads_95640];\n                                f64_res_88075 = fptosi_f64_i64(f_arg0_88074);\n                                ((__global int64_t *) color_95490)[phys_tid_88043 + index_primexp_88069 * num_threads_95640] = f64_res_88075;\n                            }\n                            ext_mem_ext_95666 = color_95490;\n                        }\n                        f_arg0_88077 = ((__global int64_t *) ext_mem_ext_95666)[phys_tid_88043];\n                        max_res_88078 = smax64((int64_t) 0, f_arg0_88077);\n                        for (int64_t nest_i_97972 = 0; nest_i_97972 < dim_48135; nest_i_97972++) {\n                            ((__global int64_t *) color_95488)[phys_tid_88043 + nest_i_97972 * num_threads_95640] = max_res_88078;\n                        }\n                        for (int64_t i_88081 = 0; i_88081 < arg_67058; i_88081++) {\n                            int64_t index_primexp_88083;\n                            bool x_88084;\n                            bool y_88085;\n                            bool bounds_check_88086;\n                            bool index_certs_88087;\n                            int64_t f_arg0_88088;\n                            int64_t max_res_88089;\n                            \n                            index_primexp_88083 = add64((int64_t) 1, i_88081);\n                            x_88084 = sle64((int64_t) 0, index_primexp_88083);\n                            y_88085 = slt64(index_primexp_88083, dim_48135);\n                            bounds_check_88086 = x_88084 && y_88085;\n                            if (!bounds_check_88086) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 171) == -1) {\n   ",
                                    "                                     global_failure_args[0] = (int64_t) index_primexp_88083;\n                                        global_failure_args[1] = (int64_t) dim_48135;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            f_arg0_88088 = ((__global int64_t *) ext_mem_ext_95666)[phys_tid_88043 + index_primexp_88083 * num_threads_95640];\n                            max_res_88089 = smax64((int64_t) 0, f_arg0_88088);\n                            ((__global int64_t *) color_95488)[phys_tid_88043 + index_primexp_88083 * num_threads_95640] = max_res_88089;\n                        }\n                        ext_mem_ext_95675 = color_95488;\n                    }\n                    f_arg0_88091 = ((__global int64_t *) ext_mem_ext_95675)[phys_tid_88043];\n                    min_res_88092 = smin64(f_arg0_88091, min_arg1_90499);\n                    for (int64_t nest_i_97974 = 0; nest_i_97974 < dim_48135; nest_i_97974++) {\n                        ((__global int64_t *) color_95487)[phys_tid_88043 + nest_i_97974 * num_threads_95640] = min_res_88092;\n                    }\n                    for (int64_t i_88095 = 0; i_88095 < arg_67058; i_88095++) {\n                        int64_t index_primexp_88097;\n                        bool x_88098;\n                        bool y_88099;\n                        bool bounds_check_88100;\n                        bool index_certs_88101;\n                        bool index_certs_88103;\n                        int64_t f_arg0_88102;\n                        int64_t zm_lhs_88104;\n                        int64_t min_arg1_88105;\n                        int64_t min_res_88106;\n                        \n                        index_primexp_88097 = add64((int64_t) 1, i_88095);\n                        x_88098 = sle64((int64_t) 0, index_primexp_88097);\n                        y_88099 = slt64(i", "ndex_primexp_88097, dim_48135);\n                        bounds_check_88100 = x_88098 && y_88099;\n                        if (!bounds_check_88100) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 172) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88097;\n                                    global_failure_args[1] = (int64_t) dim_48135;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        if (!bounds_check_88100) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 173) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88097;\n                                    global_failure_args[1] = (int64_t) dim_48135;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg0_88102 = ((__global int64_t *) ext_mem_ext_95675)[phys_tid_88043 + index_primexp_88097 * num_threads_95640];\n                        zm_lhs_88104 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_88097];\n                        min_arg1_88105 = sub64(zm_lhs_88104, (int64_t) 1);\n                        min_res_88106 = smin64(f_arg0_88102, min_arg1_88105);\n                        ((__global int64_t *) color_95487)[phys_tid_88043 + index_primexp_88097 * num_threads_95640] = min_res_88106;\n                    }\n                    ext_mem_ext_95684 = color_95487;\n                }\n                for (int64_t i_90441 = 0; i_90441 < dim_48135; i_90441++) {\n                    int64_t eta_p_88109;\n                    int64_t eta_p_88110;\n                    int64_t defunc_0_f_res_88111;\n                    ", "\n                    eta_p_88109 = ((__global int64_t *) ext_mem_ext_95684)[phys_tid_88043 + i_90441 * num_threads_95640];\n                    eta_p_88110 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[i_90441];\n                    defunc_0_f_res_88111 = mul64(eta_p_88109, eta_p_88110);\n                    ((__global int64_t *) color_95485)[phys_tid_88043 + i_90441 * num_threads_95640] = defunc_0_f_res_88111;\n                }\n                acc_88114 = (int64_t) 0;\n                for (int64_t i_88113 = 0; i_88113 < dim_48135; i_88113++) {\n                    int64_t b_88115;\n                    int64_t defunc_0_f_res_88116;\n                    int64_t acc_tmp_97977;\n                    \n                    b_88115 = ((__global int64_t *) color_95485)[phys_tid_88043 + i_88113 * num_threads_95640];\n                    defunc_0_f_res_88116 = add64(acc_88114, b_88115);\n                    acc_tmp_97977 = defunc_0_f_res_88116;\n                    acc_88114 = acc_tmp_97977;\n                }\n                defunc_0_foldl_res_88112 = acc_88114;\n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_97955) * hist_H_chk_97956, defunc_0_foldl_res_88112) && (slt64(defunc_0_foldl_res_88112, sext_i32_i64(chk_i_97955) * hist_H_chk_97956 + hist_H_chk_97956) && (sle64((int64_t) 0, defunc_0_foldl_res_88112) && slt64(defunc_0_foldl_res_88112, total_grid_no_48146)))) {\n                        int32_t eta_p_88044;\n                        int32_t eta_p_88045 = 1;\n                        int32_t old_97978;\n                        \n                        old_97978 = atomic_add_i32_global(&((volatile __global int *) defunc_0_map_res_subhistos_mem_97876)[sext_i32_i64(subhisto_ind_97962) * total_grid_no_48146 + defunc_0_foldl_res_88112], (int) eta_p_88045);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef s",
                                    "eghist_tblock_sizze_88036\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_global_90228_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_global_90228(__global int *global_failure, int64_t total_part_no_48147, int64_t m_68889, int64_t num_tblocks_90223, int64_t num_subhistos_99082, int32_t chk_i_99152, int64_t hist_H_chk_99153, __global unsigned char *ext_mem_94384, __global unsigned char *defunc_0_map_res_subhistos_mem_99083)\n{\n    #define seghist_tblock_sizze_90221 (sort_for_Skyline_doubleziseghist_global_90228ziseghist_tblock_sizze_90221)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99155;\n    int32_t tblock_sizze_99158;\n    int32_t wave_sizze_99157;\n    int32_t block_id_99156;\n    int32_t global_tid_99154;\n    int64_t phys_tid_90228;\n    int32_t subhisto_ind_99159;\n    int64_t num_chunks_99160;\n    \n    local_tid_99155 = get_local_id(0);\n    tblock_sizze_99158 = get_local_size(0);\n    wave_sizze_99157 = LOCKSTEP_WIDTH;\n    block_id_99156 = get_tblock_id(0);\n    global_tid_99154 = block_id_99156 * tblock_sizze_99158 + local_tid_99155;\n    phys_tid_90228 = sext_i32_i64(global_tid_99154);\n    subhisto_ind_99159 = squot32(global_tid_99154, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_90221 * num_tblocks_90223), sext_i64_i32(num_subhistos_99082)));\n    num_chunks_99160 = sdiv_up64(m_68889, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_90221 * num_tblocks_90223)));\n    for (int64_t chunk_i_99161 = 0; chunk_i_99161 < num_chunks_99160; chunk_i_99161++) {\n        int64_t i_99162 = chunk_i_99161 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_90221 * num_tblocks_90223)) + sext_i32_i64(global_tid_99154);\n        \n        if (slt64(i_99162, m_68889)) {\n            int64_t slice_99163;\n            int64_t gtid_90227;\n            int64_t remnant_99164;\n            \n            slice_99163 = m_68889;\n            gtid_90227 = i_99162;\n            remnant_99164 = i_99162 - gtid_90227;\n            if (slt64(i_99162, m_68889)) {\n                ", "int64_t bucket_p_90232 = ((__global int64_t *) ext_mem_94384)[gtid_90227];\n                \n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_99152) * hist_H_chk_99153, bucket_p_90232) && (slt64(bucket_p_90232, sext_i32_i64(chk_i_99152) * hist_H_chk_99153 + hist_H_chk_99153) && (sle64((int64_t) 0, bucket_p_90232) && slt64(bucket_p_90232, total_part_no_48147)))) {\n                        int64_t eta_p_90229;\n                        int64_t eta_p_90230 = (int64_t) 1;\n                        int64_t old_99165;\n                        \n                        old_99165 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_99083)[sext_i32_i64(subhisto_ind_99159) * total_part_no_48147 + bucket_p_90232], (int64_t) eta_p_90230);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_90221\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_local_88043_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_local_88043(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t total_grid_no_48146, int64_t arg_67058, unsigned char cond_67069_bits, int64_t min_arg1_90499, int64_t num_threads_95640, int64_t num_subhistos_97875, int64_t num_tblocks_97886, int32_t hist_M_97892, int32_t chk_i_97896, int64_t num_segments_97897, int64_t hist_H_chk_97898, int64_t histo_sizze_97899, int32_t init_per_thread_97900, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_93635, __global unsigned char *color_95485, __global unsigned char *color_95486, __global unsigned char *color_95487, ", "__global unsigned char *color_95488, __global unsigned char *color_95489, __global unsigned char *color_95490, __global unsigned char *color_95491, __global unsigned char *defunc_0_map_res_subhistos_mem_97876)\n{\n    bool cond_67069 = cond_67069_bits;\n    \n    #define max_tblock_sizze_97885 (sort_for_Skyline_doubleziseghist_local_88043zimax_tblock_sizze_97885)\n    \n    volatile __local unsigned char *subhistogram_local_mem_97914_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_97914_backing_0_offset = 0 + ((int64_t) 4 * (hist_M_97892 * hist_H_chk_97898) + srem64((int64_t) 8 - srem64((int64_t) 4 * (hist_M_97892 * hist_H_chk_97898), (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97902;\n    int32_t tblock_sizze_97905;\n    int32_t wave_sizze_97904;\n    int32_t block_id_97903;\n    int32_t global_tid_97901;\n    int64_t phys_tid_88043;\n    int32_t phys_tblock_id_97906;\n    int32_t iterations_97907;\n    \n    local_tid_97902 = get_local_id(0);\n    tblock_sizze_97905 = get_local_size(0);\n    wave_sizze_97904 = LOCKSTEP_WIDTH;\n    block_id_97903 = get_tblock_id(0);\n    global_tid_97901 = block_id_97903 * tblock_sizze_97905 + local_tid_97902;\n    phys_tid_88043 = sext_i32_i64(global_tid_97901);\n    phys_tblock_id_97906 = get_tblock_id(0);\n    iterations_97907 = sdiv_up32(sext_i64_i32(num_tblocks_97886 * num_segments_97897) - phys_tblock_id_97906, sext_i64_i32(num_tblocks_97886));\n    for (int32_t i_97908 = 0; i_97908 < iterations_97907; i_97908++) {\n        int32_t virt_tblock_id_97909;\n        int32_t flat_segment_id_97910;\n        int32_t gid_in_segment_97911;\n        int32_t pgtid_in_segment_97912;\n        int32_t threads_per_segment_97913;\n        __local unsigned char *subhistogram_local_mem_97914;\n        int32_t thr",
                                    "ead_local_subhisto_i_97916;\n        int64_t num_chunks_97923;\n        \n        virt_tblock_id_97909 = phys_tblock_id_97906 + i_97908 * sext_i64_i32(num_tblocks_97886);\n        flat_segment_id_97910 = squot32(virt_tblock_id_97909, sext_i64_i32(num_tblocks_97886));\n        gid_in_segment_97911 = srem32(virt_tblock_id_97909, sext_i64_i32(num_tblocks_97886));\n        pgtid_in_segment_97912 = gid_in_segment_97911 * sext_i64_i32(max_tblock_sizze_97885) + local_tid_97902;\n        threads_per_segment_97913 = sext_i64_i32(num_tblocks_97886 * max_tblock_sizze_97885);\n        subhistogram_local_mem_97914 = (__local unsigned char *) subhistogram_local_mem_97914_backing_0;\n        thread_local_subhisto_i_97916 = srem32(local_tid_97902, hist_M_97892);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_97917 = 0; local_i_97917 < init_per_thread_97900; local_i_97917++) {\n                int32_t j_97918 = local_i_97917 * sext_i64_i32(max_tblock_sizze_97885) + local_tid_97902;\n                int32_t j_offset_97919 = hist_M_97892 * sext_i64_i32(histo_sizze_97899) * gid_in_segment_97911 + j_97918;\n                int32_t local_subhisto_i_97920 = squot32(j_97918, sext_i64_i32(histo_sizze_97899));\n                int32_t global_subhisto_i_97921 = squot32(j_offset_97919, sext_i64_i32(histo_sizze_97899));\n                \n                if (slt32(j_97918, hist_M_97892 * sext_i64_i32(histo_sizze_97899))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_97921 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_97875)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_97918, sext_i64_i32(histo_sizze_97899))) + sext_i32_i64(chk_i_97896) * hist_H_chk_97898) && slt64(sext_i32_i64(srem32(j_97918, sext_i64_i32(histo_sizze_97899))) + sext_i32_i64(chk_i_97896) * hist_H_chk_97898, total_grid_no_48146)))) {\n     ", "                       int32_t tmp_97922 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_97876)[sext_i32_i64(srem32(j_97918, sext_i64_i32(histo_sizze_97899))) + sext_i32_i64(chk_i_97896) * hist_H_chk_97898];\n                            \n                            ((__local int32_t *) subhistogram_local_mem_97914)[sext_i32_i64(local_subhisto_i_97920) * hist_H_chk_97898 + sext_i32_i64(srem32(j_97918, sext_i64_i32(histo_sizze_97899)))] = tmp_97922;\n                        } else {\n                            ((__local int32_t *) subhistogram_local_mem_97914)[sext_i32_i64(local_subhisto_i_97920) * hist_H_chk_97898 + sext_i32_i64(srem32(j_97918, sext_i64_i32(histo_sizze_97899)))] = 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_97923 = sdiv_up64(n_48138, sext_i32_i64(threads_per_segment_97913));\n        for (int64_t chunk_i_97924 = 0; chunk_i_97924 < num_chunks_97923; chunk_i_97924++) {\n            int64_t i_97925 = chunk_i_97924 * sext_i32_i64(threads_per_segment_97913) + sext_i32_i64(pgtid_in_segment_97912);\n            \n            if (slt64(i_97925, n_48138)) {\n                int64_t gtid_88042;\n                __global unsigned char *ext_mem_ext_95684;\n                int64_t defunc_0_foldl_res_88112;\n                int64_t acc_88114;\n                \n                gtid_88042 = i_97925;\n                if (cond_67069) {\n                    ext_mem_ext_95684 = color_95486;\n                } else {\n                    __global unsigned char *ext_mem_ext_95675;\n                    int64_t f_arg0_88091;\n                    int64_t min_res_88092;\n                    \n                    if (cond_67069) {\n                        ext_mem_ext_95675 = color_95485;\n                    } else {\n                        __global unsigned char *ext_mem_ext_95666;\n                        int64_t f_arg0_88077;\n                        int64_t max_res_88078;\n            ", "            \n                        for (int64_t i_90433 = 0; i_90433 < dim_48135; i_90433++) {\n                            double eta_p_88054;\n                            double eta_p_88055;\n                            double defunc_0_f_res_88056;\n                            \n                            eta_p_88054 = ((__global double *) mem_93635)[gtid_88042 + i_90433 * n_48138];\n                            eta_p_88055 = ((__global double *) start_of_grid_partition_mem_90818)[i_90433];\n                            defunc_0_f_res_88056 = eta_p_88054 - eta_p_88055;\n                            ((__global double *) color_95489)[phys_tid_88043 + i_90433 * num_threads_95640] = defunc_0_f_res_88056;\n                        }\n                        for (int64_t i_90437 = 0; i_90437 < dim_48135; i_90437++) {\n                            double eta_p_88058;\n                            double eta_p_88059;\n                            double defunc_0_f_res_88060;\n                            \n                            eta_p_88058 = ((__global double *) color_95489)[phys_tid_88043 + i_90437 * num_threads_95640];\n                            eta_p_88059 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[i_90437];\n                            defunc_0_f_res_88060 = eta_p_88058 / eta_p_88059;\n                            ((__global double *) color_95491)[phys_tid_88043 + i_90437 * num_threads_95640] = defunc_0_f_res_88060;\n                        }\n                        if (cond_67069) {\n                            ext_mem_ext_95666 = color_95489;\n                        } else {\n                            double f_arg0_88063;\n                            int64_t f64_res_88064;\n                            \n                            f_arg0_88063 = ((__global double *) color_95491)[phys_tid_88043];\n                            f64_res_88064 = fptosi_f64_i64(f_arg0_88063);\n                            for (int64_t nest_i_97928 = 0; nest_i_97928 < dim_48135; nest_i_97928++) {\n ",
                                    "                               ((__global int64_t *) color_95490)[phys_tid_88043 + nest_i_97928 * num_threads_95640] = f64_res_88064;\n                            }\n                            for (int64_t i_88067 = 0; i_88067 < arg_67058; i_88067++) {\n                                int64_t index_primexp_88069;\n                                bool x_88070;\n                                bool y_88071;\n                                bool bounds_check_88072;\n                                bool index_certs_88073;\n                                double f_arg0_88074;\n                                int64_t f64_res_88075;\n                                \n                                index_primexp_88069 = add64((int64_t) 1, i_88067);\n                                x_88070 = sle64((int64_t) 0, index_primexp_88069);\n                                y_88071 = slt64(index_primexp_88069, dim_48135);\n                                bounds_check_88072 = x_88070 && y_88071;\n                                if (!bounds_check_88072) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 166) == -1) {\n                                            global_failure_args[0] = (int64_t) index_primexp_88069;\n                                            global_failure_args[1] = (int64_t) dim_48135;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                f_arg0_88074 = ((__global double *) color_95491)[phys_tid_88043 + index_primexp_88069 * num_threads_95640];\n                                f64_res_88075 = fptosi_f64_i64(f_arg0_88074);\n                                ((__global int64_t *) color_95490)[phys_tid_88043 + index_primexp_88069 * num_threads_95640] = f64_res_8807", "5;\n                            }\n                            ext_mem_ext_95666 = color_95490;\n                        }\n                        f_arg0_88077 = ((__global int64_t *) ext_mem_ext_95666)[phys_tid_88043];\n                        max_res_88078 = smax64((int64_t) 0, f_arg0_88077);\n                        for (int64_t nest_i_97930 = 0; nest_i_97930 < dim_48135; nest_i_97930++) {\n                            ((__global int64_t *) color_95488)[phys_tid_88043 + nest_i_97930 * num_threads_95640] = max_res_88078;\n                        }\n                        for (int64_t i_88081 = 0; i_88081 < arg_67058; i_88081++) {\n                            int64_t index_primexp_88083;\n                            bool x_88084;\n                            bool y_88085;\n                            bool bounds_check_88086;\n                            bool index_certs_88087;\n                            int64_t f_arg0_88088;\n                            int64_t max_res_88089;\n                            \n                            index_primexp_88083 = add64((int64_t) 1, i_88081);\n                            x_88084 = sle64((int64_t) 0, index_primexp_88083);\n                            y_88085 = slt64(index_primexp_88083, dim_48135);\n                            bounds_check_88086 = x_88084 && y_88085;\n                            if (!bounds_check_88086) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 167) == -1) {\n                                        global_failure_args[0] = (int64_t) index_primexp_88083;\n                                        global_failure_args[1] = (int64_t) dim_48135;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            f_arg0_88088 = ((__global int64_t *) ext", "_mem_ext_95666)[phys_tid_88043 + index_primexp_88083 * num_threads_95640];\n                            max_res_88089 = smax64((int64_t) 0, f_arg0_88088);\n                            ((__global int64_t *) color_95488)[phys_tid_88043 + index_primexp_88083 * num_threads_95640] = max_res_88089;\n                        }\n                        ext_mem_ext_95675 = color_95488;\n                    }\n                    f_arg0_88091 = ((__global int64_t *) ext_mem_ext_95675)[phys_tid_88043];\n                    min_res_88092 = smin64(f_arg0_88091, min_arg1_90499);\n                    for (int64_t nest_i_97932 = 0; nest_i_97932 < dim_48135; nest_i_97932++) {\n                        ((__global int64_t *) color_95487)[phys_tid_88043 + nest_i_97932 * num_threads_95640] = min_res_88092;\n                    }\n                    for (int64_t i_88095 = 0; i_88095 < arg_67058; i_88095++) {\n                        int64_t index_primexp_88097;\n                        bool x_88098;\n                        bool y_88099;\n                        bool bounds_check_88100;\n                        bool index_certs_88101;\n                        bool index_certs_88103;\n                        int64_t f_arg0_88102;\n                        int64_t zm_lhs_88104;\n                        int64_t min_arg1_88105;\n                        int64_t min_res_88106;\n                        \n                        index_primexp_88097 = add64((int64_t) 1, i_88095);\n                        x_88098 = sle64((int64_t) 0, index_primexp_88097);\n                        y_88099 = slt64(index_primexp_88097, dim_48135);\n                        bounds_check_88100 = x_88098 && y_88099;\n                        if (!bounds_check_88100) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 168) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88097;\n                                    global_failure_args[1] = (int64_t",
                                    ") dim_48135;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        if (!bounds_check_88100) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 169) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88097;\n                                    global_failure_args[1] = (int64_t) dim_48135;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        f_arg0_88102 = ((__global int64_t *) ext_mem_ext_95675)[phys_tid_88043 + index_primexp_88097 * num_threads_95640];\n                        zm_lhs_88104 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_88097];\n                        min_arg1_88105 = sub64(zm_lhs_88104, (int64_t) 1);\n                        min_res_88106 = smin64(f_arg0_88102, min_arg1_88105);\n                        ((__global int64_t *) color_95487)[phys_tid_88043 + index_primexp_88097 * num_threads_95640] = min_res_88106;\n                    }\n                    ext_mem_ext_95684 = color_95487;\n                }\n                for (int64_t i_90441 = 0; i_90441 < dim_48135; i_90441++) {\n                    int64_t eta_p_88109;\n                    int64_t eta_p_88110;\n                    int64_t defunc_0_f_res_88111;\n                    \n                    eta_p_88109 = ((__global int64_t *) ext_mem_ext_95684)[phys_tid_88043 + i_90441 * num_threads_95640];\n                    eta_p_88110 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[i_90441];\n                    defunc_0_f_res_88111 = mul64(eta_p_88109, eta_p_88110);\n                    ((__", "global int64_t *) color_95485)[phys_tid_88043 + i_90441 * num_threads_95640] = defunc_0_f_res_88111;\n                }\n                acc_88114 = (int64_t) 0;\n                for (int64_t i_88113 = 0; i_88113 < dim_48135; i_88113++) {\n                    int64_t b_88115;\n                    int64_t defunc_0_f_res_88116;\n                    int64_t acc_tmp_97935;\n                    \n                    b_88115 = ((__global int64_t *) color_95485)[phys_tid_88043 + i_88113 * num_threads_95640];\n                    defunc_0_f_res_88116 = add64(acc_88114, b_88115);\n                    acc_tmp_97935 = defunc_0_f_res_88116;\n                    acc_88114 = acc_tmp_97935;\n                }\n                defunc_0_foldl_res_88112 = acc_88114;\n                if (chk_i_97896 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, defunc_0_foldl_res_88112) && slt64(defunc_0_foldl_res_88112, total_grid_no_48146)) && (sle64(sext_i32_i64(chk_i_97896) * hist_H_chk_97898, defunc_0_foldl_res_88112) && slt64(defunc_0_foldl_res_88112, sext_i32_i64(chk_i_97896) * hist_H_chk_97898 + hist_H_chk_97898))) {\n                        int32_t eta_p_88044;\n                        int32_t eta_p_88045 = 1;\n                        int32_t old_97936;\n                        \n                        old_97936 = atomic_add_i32_shared(&((volatile __local int *) subhistogram_local_mem_97914)[sext_i32_i64(thread_local_subhisto_i_97916) * hist_H_chk_97898 + (defunc_0_foldl_res_88112 - sext_i32_i64(chk_i_97896) * hist_H_chk_97898)], (int) eta_p_88045);\n                    }\n                }\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms ", "to result in global memory\n        {\n            int64_t trunc_H_97937 = smin64(hist_H_chk_97898, total_grid_no_48146 - sext_i32_i64(chk_i_97896) * hist_H_chk_97898);\n            int32_t histo_sizze_97938 = sext_i64_i32(trunc_H_97937);\n            \n            for (int32_t local_i_97939 = 0; local_i_97939 < init_per_thread_97900; local_i_97939++) {\n                int32_t j_97940 = local_i_97939 * sext_i64_i32(max_tblock_sizze_97885) + local_tid_97902;\n                \n                if (slt32(j_97940, histo_sizze_97938)) {\n                    int32_t eta_p_88044;\n                    int32_t eta_p_88045;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_88044 = ((__local int32_t *) subhistogram_local_mem_97914)[sext_i32_i64(j_97940)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_97941 = 0; subhisto_id_97941 < hist_M_97892 - 1; subhisto_id_97941++) {\n                            eta_p_88045 = ((__local int32_t *) subhistogram_local_mem_97914)[(sext_i32_i64(subhisto_id_97941) + (int64_t) 1) * hist_H_chk_97898 + sext_i32_i64(j_97940)];\n                            \n                            int32_t defunc_0_op_res_88046 = add32(eta_p_88044, eta_p_88045);\n                            \n                            eta_p_88044 = defunc_0_op_res_88046;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int32_t *) defunc_0_map_res_subhistos_mem_97876)[srem64(sext_i32_i64(virt_tblock_id_97909), num_tblocks_97886) * total_grid_no_48146 + (sext_i32_i64(j_97940) + sext_i32_i64(chk_i_97896) * hist_H_chk_97898)] = eta_p_88044;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error",
                                    "_2:\n    return;\n    #undef max_tblock_sizze_97885\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_local_90228_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_local_90228(__global int *global_failure, int64_t total_part_no_48147, int64_t m_68889, int64_t num_subhistos_99082, int64_t num_tblocks_99093, int32_t hist_M_99099, int32_t chk_i_99103, int64_t num_segments_99104, int64_t hist_H_chk_99105, int64_t histo_sizze_99106, int32_t init_per_thread_99107, __global unsigned char *ext_mem_94384, __global unsigned char *defunc_0_map_res_subhistos_mem_99083)\n{\n    #define max_tblock_sizze_99092 (sort_for_Skyline_doubleziseghist_local_90228zimax_tblock_sizze_99092)\n    \n    volatile __local unsigned char *subhistogram_local_mem_99121_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_99121_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_99099 * hist_H_chk_99105) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_99099 * hist_H_chk_99105), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99109;\n    int32_t tblock_sizze_99112;\n    int32_t wave_sizze_99111;\n    int32_t block_id_99110;\n    int32_t global_tid_99108;\n    int64_t phys_tid_90228;\n    int32_t phys_tblock_id_99113;\n    int32_t iterations_99114;\n    \n    local_tid_99109 = get_local_id(0);\n    tblock_sizze_99112 = get_local_size(0);\n    wave_sizze_99111 = LOCKSTEP_WIDTH;\n    block_id_99110 = get_tblock_id(0);\n    global_tid_99108 = block_id_99110 * tblock_sizze_99112 + local_tid_99109;\n    phys_tid_90228 = sext_i32_i64(global_tid_99108);\n    phys_tblock_id_99113 = get_tblock_id(0);\n    iterations_99114 = sdiv_up32(sext_i64_i32(num_tblocks_99093 * num_segments_99104) - phys_tblock_id_99113, sext_i64_i32(num_tblocks_99093));\n    for (int32_t i_99115 = 0; i_99115 < iterations_99114; i_99115++) {\n        int32_t virt_tblock_id_99116;\n        int32_t flat_segment_id_99117;\n        int32_t gid_in_segment_99118;\n        int32_t pgtid_in_segme", "nt_99119;\n        int32_t threads_per_segment_99120;\n        __local unsigned char *subhistogram_local_mem_99121;\n        int32_t thread_local_subhisto_i_99123;\n        int64_t num_chunks_99130;\n        \n        virt_tblock_id_99116 = phys_tblock_id_99113 + i_99115 * sext_i64_i32(num_tblocks_99093);\n        flat_segment_id_99117 = squot32(virt_tblock_id_99116, sext_i64_i32(num_tblocks_99093));\n        gid_in_segment_99118 = srem32(virt_tblock_id_99116, sext_i64_i32(num_tblocks_99093));\n        pgtid_in_segment_99119 = gid_in_segment_99118 * sext_i64_i32(max_tblock_sizze_99092) + local_tid_99109;\n        threads_per_segment_99120 = sext_i64_i32(num_tblocks_99093 * max_tblock_sizze_99092);\n        subhistogram_local_mem_99121 = (__local unsigned char *) subhistogram_local_mem_99121_backing_0;\n        thread_local_subhisto_i_99123 = srem32(local_tid_99109, hist_M_99099);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_99124 = 0; local_i_99124 < init_per_thread_99107; local_i_99124++) {\n                int32_t j_99125 = local_i_99124 * sext_i64_i32(max_tblock_sizze_99092) + local_tid_99109;\n                int32_t j_offset_99126 = hist_M_99099 * sext_i64_i32(histo_sizze_99106) * gid_in_segment_99118 + j_99125;\n                int32_t local_subhisto_i_99127 = squot32(j_99125, sext_i64_i32(histo_sizze_99106));\n                int32_t global_subhisto_i_99128 = squot32(j_offset_99126, sext_i64_i32(histo_sizze_99106));\n                \n                if (slt32(j_99125, hist_M_99099 * sext_i64_i32(histo_sizze_99106))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_99128 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_99082)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_99125, sext_i64_i32(histo_sizze_99106))) + sext_i32_i64(chk_i_99103) * hist_H_chk_99105) && slt64(sext_i32_", "i64(srem32(j_99125, sext_i64_i32(histo_sizze_99106))) + sext_i32_i64(chk_i_99103) * hist_H_chk_99105, total_part_no_48147)))) {\n                            int64_t tmp_99129 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_99083)[sext_i32_i64(srem32(j_99125, sext_i64_i32(histo_sizze_99106))) + sext_i32_i64(chk_i_99103) * hist_H_chk_99105];\n                            \n                            ((__local int64_t *) subhistogram_local_mem_99121)[sext_i32_i64(local_subhisto_i_99127) * hist_H_chk_99105 + sext_i32_i64(srem32(j_99125, sext_i64_i32(histo_sizze_99106)))] = tmp_99129;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_99121)[sext_i32_i64(local_subhisto_i_99127) * hist_H_chk_99105 + sext_i32_i64(srem32(j_99125, sext_i64_i32(histo_sizze_99106)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_99130 = sdiv_up64(m_68889, sext_i32_i64(threads_per_segment_99120));\n        for (int64_t chunk_i_99131 = 0; chunk_i_99131 < num_chunks_99130; chunk_i_99131++) {\n            int64_t i_99132 = chunk_i_99131 * sext_i32_i64(threads_per_segment_99120) + sext_i32_i64(pgtid_in_segment_99119);\n            \n            if (slt64(i_99132, m_68889)) {\n                int64_t gtid_90227;\n                int64_t bucket_p_90232;\n                \n                gtid_90227 = i_99132;\n                bucket_p_90232 = ((__global int64_t *) ext_mem_94384)[gtid_90227];\n                if (chk_i_99103 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, bucket_p_90232) && slt64(bucket_p_90232, total_part_no_48147)) && (sle64(sext_i32_i64(chk_i_99103) * hist_H_chk_99105, bucket_p_90232) && slt64(bucket_p_90232, sext_i32_i64(chk_i_99103) * hist_H_chk_99105 + hist_H_chk_99105))",
                                    ") {\n                        int64_t eta_p_90229;\n                        int64_t eta_p_90230 = (int64_t) 1;\n                        int64_t old_99133;\n                        \n                        old_99133 = atomic_add_i64_shared(&((volatile __local int64_t *) subhistogram_local_mem_99121)[sext_i32_i64(thread_local_subhisto_i_99123) * hist_H_chk_99105 + (bucket_p_90232 - sext_i32_i64(chk_i_99103) * hist_H_chk_99105)], (int64_t) eta_p_90230);\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_99134 = smin64(hist_H_chk_99105, total_part_no_48147 - sext_i32_i64(chk_i_99103) * hist_H_chk_99105);\n            int32_t histo_sizze_99135 = sext_i64_i32(trunc_H_99134);\n            \n            for (int32_t local_i_99136 = 0; local_i_99136 < init_per_thread_99107; local_i_99136++) {\n                int32_t j_99137 = local_i_99136 * sext_i64_i32(max_tblock_sizze_99092) + local_tid_99109;\n                \n                if (slt32(j_99137, histo_sizze_99135)) {\n                    int64_t eta_p_90229;\n                    int64_t eta_p_90230;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_90229 = ((__local int64_t *) subhistogram_local_mem_99121)[sext_i32_i64(j_99137)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_99138 = 0; subhisto_id_99138 < hist_M_99099 - 1; subhisto_id_99138++) {\n                            eta_p_90230 = ((__local int64_t *) subhistogram_local_mem_99121)[(sext_i32_i64(subhisto_id_99138) + (int64_t) 1) * hist_H_chk_99105 + sext_i32_i64(j_99137)];\n                            \n                            int64_t defunc_0_op_res_90231 = add64(eta_p_90229, eta_p_9", "0230);\n                            \n                            eta_p_90229 = defunc_0_op_res_90231;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_99083)[srem64(sext_i32_i64(virt_tblock_id_99116), num_tblocks_99093) * total_part_no_48147 + (sext_i32_i64(j_99137) + sext_i32_i64(chk_i_99103) * hist_H_chk_99105)] = eta_p_90229;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_99092\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77281_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77281(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xs_mem_90819, __global unsigned char *mem_92363)\n{\n    #define segmap_tblock_sizze_77276 (sort_for_Skyline_doublezisegmap_77281zisegmap_tblock_sizze_77276)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95968;\n    int32_t tblock_sizze_95971;\n    int32_t wave_sizze_95970;\n    int32_t block_id_95969;\n    int32_t global_tid_95967;\n    int64_t phys_tid_77281;\n    int64_t global_tid_95972;\n    int64_t slice_95973;\n    int64_t slice_95974;\n    int64_t gtid_77279;\n    int64_t remnant_95975;\n    int64_t gtid_77280;\n    int64_t remnant_95976;\n    \n    local_tid_95968 = get_local_id(0);\n    tblock_sizze_95971 = get_local_size(0);\n    wave_sizze_95970 = LOCKSTEP_WIDTH;\n    block_id_95969 = get_tblock_id(0);\n    global_tid_95967 = block_id_95969 * tblock_sizze_95971 + local_tid_95968;\n    phys_tid_77281 = sext_i32_i64(global_tid_95967);\n    global_tid_95972 = sext_i32_i64(block_id_95969) * segmap_tblock_sizze_77276 + sext_i32_i64(local_tid_95968);\n    slice_95973 = dim_48135;\n    slice_95974 = n_48138 * slice_95973;\n    ", "gtid_77279 = squot64(global_tid_95972, slice_95973);\n    remnant_95975 = global_tid_95972 - gtid_77279 * slice_95973;\n    gtid_77280 = remnant_95975;\n    remnant_95976 = remnant_95975 - gtid_77280;\n    if (slt64(gtid_77279, n_48138) && slt64(gtid_77280, dim_48135)) {\n        double eta_p_77282;\n        double eta_p_77283;\n        double defunc_0_f_res_77284;\n        \n        eta_p_77282 = ((__global double *) xs_mem_90819)[gtid_77279 * dim_48135 + gtid_77280];\n        eta_p_77283 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_77280];\n        defunc_0_f_res_77284 = eta_p_77282 - eta_p_77283;\n        ((__global double *) mem_92363)[gtid_77279 * dim_48135 + gtid_77280] = defunc_0_f_res_77284;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77276\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77297_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77297(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_92363)\n{\n    #define segmap_tblock_sizze_77292 (sort_for_Skyline_doublezisegmap_77297zisegmap_tblock_sizze_77292)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95979;\n    int32_t tblock_sizze_95982;\n    int32_t wave_sizze_95981;\n    int32_t block_id_95980;\n    int32_t global_tid_95978;\n    int64_t phys_tid_77297;\n    int64_t global_tid_95983;\n    int64_t slice_95984;\n    int64_t slice_95985;\n    int64_t gtid_77295;\n    int64_t remnant_95986;\n    int64_t gtid_77296;\n    int64_t remnant_95987;\n    \n    local_tid_95979 = get_local_id(0);\n    tblock_sizze_95982 = get_local_size(0);\n    wave_sizze_95981 = LOCKSTEP_WIDTH;\n    block_id_95980 = get_tblock_id(0);\n    global_tid_95978 = block_id_95980 * tblock_sizze_95982 + local_tid_95979;\n    phys_tid_77297 = sext_i32_i64(global_tid_95978);\n    global_tid_95983 = sext_i32_i64(block_id_95980) * segmap_tblock_sizze_77292 + sext_i32_i64(local_tid_95979);\n    slice_9",
                                    "5984 = dim_48135;\n    slice_95985 = n_48138 * slice_95984;\n    gtid_77295 = squot64(global_tid_95983, slice_95984);\n    remnant_95986 = global_tid_95983 - gtid_77295 * slice_95984;\n    gtid_77296 = remnant_95986;\n    remnant_95987 = remnant_95986 - gtid_77296;\n    if (slt64(gtid_77295, n_48138) && slt64(gtid_77296, dim_48135)) {\n        double eta_p_77298;\n        double eta_p_77299;\n        double defunc_0_f_res_77300;\n        \n        eta_p_77298 = ((__global double *) mem_92363)[gtid_77295 * dim_48135 + gtid_77296];\n        eta_p_77299 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_77296];\n        defunc_0_f_res_77300 = eta_p_77298 / eta_p_77299;\n        ((__global double *) mem_92363)[gtid_77295 * dim_48135 + gtid_77296] = defunc_0_f_res_77300;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77292\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77309_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77309(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *mem_92363, __global unsigned char *mem_92366)\n{\n    #define segmap_tblock_sizze_77305 (sort_for_Skyline_doublezisegmap_77309zisegmap_tblock_sizze_77305)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_95990;\n    int32_t tblock_sizze_95993;\n    int32_t wave_sizze_95992;\n    int32_t block_id_95991;\n    int32_t global_tid_95989;\n    int64_t phys_tid_77309;\n    int64_t global_tid_95994;\n    int64_t slice_95995;\n    int64_t gtid_77308;\n    int64_t remnant_95996;\n    \n    local_tid_95990 = get_local_id(0);\n    tblock_sizze_95993 = get_local_size(0);\n    wave_sizze_95992 = LOCKSTEP_WIDTH;\n    block_id_95991 = get_tblock_id(0);\n    global_tid_95989 = block_id_95991 * tblock_sizze_95993 + local_tid_95990;\n    phys_tid_77309 = sext_i32_i64(global_tid_95989);\n    global_tid_95994 = sext_i32_i64(block_id_95991) * segmap_tblock_sizze_77305 + sext_i32_i64(local_tid_95990);\n    slice_95995 = n_48138;\n    gtid_77308 = global_", "tid_95994;\n    remnant_95996 = global_tid_95994 - gtid_77308;\n    if (slt64(gtid_77308, n_48138)) {\n        double f_arg0_77311;\n        int64_t f64_res_77312;\n        \n        f_arg0_77311 = ((__global double *) mem_92363)[gtid_77308 * dim_48135];\n        f64_res_77312 = fptosi_f64_i64(f_arg0_77311);\n        ((__global int64_t *) mem_92366)[gtid_77308] = f64_res_77312;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77305\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77322_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77322(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_77318, int32_t virt_num_tblocks_96017, __global unsigned char *mem_92380, __global unsigned char *mem_92391, __global unsigned char *mem_92409)\n{\n    #define segmap_tblock_sizze_77317 (sort_for_Skyline_doublezisegmap_77322zisegmap_tblock_sizze_77317)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96019;\n    int32_t tblock_sizze_96022;\n    int32_t wave_sizze_96021;\n    int32_t block_id_96020;\n    int32_t global_tid_96018;\n    int64_t phys_tid_77322;\n    int32_t phys_tblock_id_96023;\n    int32_t iterations_96024;\n    \n    local_tid_96019 = get_local_id(0);\n    tblock_sizze_96022 = get_local_size(0);\n    wave_sizze_96021 = LOCKSTEP_WIDTH;\n    block_id_96020 = get_tblock_id(0);\n    global_tid_96018 = block_id_96020 * tblock_sizze_96022 + local_tid_96019;\n    phys_tid_77322 = sext_i32_i64(global_tid_96018);\n    phys_tblock_id_96023 = get_tblock_id(0);\n    iterations_96024 = sdiv_up32(virt_num_tblocks_96017 - phys_tblock_id_96023, sext_i64_i32(num_tblocks_77318));\n    for (int32_t i_96025 = 0; i_96025 < iterations_96024; i_96025++) {\n        i", "nt32_t virt_tblock_id_96026;\n        int64_t global_tid_96027;\n        int64_t slice_96028;\n        int64_t gtid_77321;\n        int64_t remnant_96029;\n        \n        virt_tblock_id_96026 = phys_tblock_id_96023 + i_96025 * sext_i64_i32(num_tblocks_77318);\n        global_tid_96027 = sext_i32_i64(virt_tblock_id_96026) * segmap_tblock_sizze_77317 + sext_i32_i64(local_tid_96019);\n        slice_96028 = n_48138;\n        gtid_77321 = global_tid_96027;\n        remnant_96029 = global_tid_96027 - gtid_77321;\n        if (slt64(gtid_77321, n_48138)) {\n            for (int64_t i_77326 = 0; i_77326 < arg_67058; i_77326++) {\n                int64_t index_primexp_77328;\n                bool x_77329;\n                bool y_77330;\n                bool bounds_check_77331;\n                bool index_certs_77332;\n                double f_arg0_77333;\n                int64_t f64_res_77334;\n                \n                index_primexp_77328 = add64((int64_t) 1, i_77326);\n                x_77329 = sle64((int64_t) 0, index_primexp_77328);\n                y_77330 = slt64(index_primexp_77328, dim_48135);\n                bounds_check_77331 = x_77329 && y_77330;\n                if (!bounds_check_77331) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 34) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77328;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_77333 = ((__global double *) mem_92391)[gtid_77321 + index_primexp_77328 * n_48138];\n                f64_res_77334 = fptosi_f64_i64(f_arg0_77333);\n                ((__global int64_t *) mem_92380)[gtid_77321 + index_primexp_77328 * n_48138] = f64_res_77334;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n     ",
                                    "           ((__global int64_t *) mem_92409)[gtid_77321 + i_0 * n_48138] = ((__global int64_t *) mem_92380)[gtid_77321 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_77317\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77342_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77342(__global int *global_failure, int64_t n_48138, int64_t ext_90914, __global unsigned char *ext_mem_92415, __global unsigned char *mem_92418)\n{\n    #define segmap_tblock_sizze_77338 (sort_for_Skyline_doublezisegmap_77342zisegmap_tblock_sizze_77338)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96033;\n    int32_t tblock_sizze_96036;\n    int32_t wave_sizze_96035;\n    int32_t block_id_96034;\n    int32_t global_tid_96032;\n    int64_t phys_tid_77342;\n    int64_t global_tid_96037;\n    int64_t slice_96038;\n    int64_t gtid_77341;\n    int64_t remnant_96039;\n    \n    local_tid_96033 = get_local_id(0);\n    tblock_sizze_96036 = get_local_size(0);\n    wave_sizze_96035 = LOCKSTEP_WIDTH;\n    block_id_96034 = get_tblock_id(0);\n    global_tid_96032 = block_id_96034 * tblock_sizze_96036 + local_tid_96033;\n    phys_tid_77342 = sext_i32_i64(global_tid_96032);\n    global_tid_96037 = sext_i32_i64(block_id_96034) * segmap_tblock_sizze_77338 + sext_i32_i64(local_tid_96033);\n    slice_96038 = n_48138;\n    gtid_77341 = global_tid_96037;\n    remnant_96039 = global_tid_96037 - gtid_77341;\n    if (slt64(gtid_77341, n_48138)) {\n        int64_t f_arg0_77344;\n        int64_t max_res_77345;\n        \n        f_arg0_77344 = ((__global int64_t *) ext_mem_92415)[gtid_77341 * ext_90914];\n        max_res_77345 = smax64((int64_t) 0, f_arg0_77344);\n        ((__global int64_t *) mem_92418)[gtid_77341] = max_res_77345;\n    }\n    \n  error_0:\n    return;\n", "    #undef segmap_tblock_sizze_77338\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77355_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77355(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_77351, int32_t virt_num_tblocks_96060, __global unsigned char *mem_92432, __global unsigned char *mem_92443, __global unsigned char *mem_92461)\n{\n    #define segmap_tblock_sizze_77350 (sort_for_Skyline_doublezisegmap_77355zisegmap_tblock_sizze_77350)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96062;\n    int32_t tblock_sizze_96065;\n    int32_t wave_sizze_96064;\n    int32_t block_id_96063;\n    int32_t global_tid_96061;\n    int64_t phys_tid_77355;\n    int32_t phys_tblock_id_96066;\n    int32_t iterations_96067;\n    \n    local_tid_96062 = get_local_id(0);\n    tblock_sizze_96065 = get_local_size(0);\n    wave_sizze_96064 = LOCKSTEP_WIDTH;\n    block_id_96063 = get_tblock_id(0);\n    global_tid_96061 = block_id_96063 * tblock_sizze_96065 + local_tid_96062;\n    phys_tid_77355 = sext_i32_i64(global_tid_96061);\n    phys_tblock_id_96066 = get_tblock_id(0);\n    iterations_96067 = sdiv_up32(virt_num_tblocks_96060 - phys_tblock_id_96066, sext_i64_i32(num_tblocks_77351));\n    for (int32_t i_96068 = 0; i_96068 < iterations_96067; i_96068++) {\n        int32_t virt_tblock_id_96069;\n        int64_t global_tid_96070;\n        int64_t slice_96071;\n        int64_t gtid_77354;\n        int64_t remnant_96072;\n        \n        virt_tblock_id_96069 = phys_tblock_id_96066 + i_96068 * sext_i64_i32(num_tblocks_77351);\n        global_tid_96070 = sext_i32_i64(virt_tblock_id_96069) * segmap_tblock_sizze_77350 + sext_i32_i64(local_tid_96062);\n        slice_96071 = n_481", "38;\n        gtid_77354 = global_tid_96070;\n        remnant_96072 = global_tid_96070 - gtid_77354;\n        if (slt64(gtid_77354, n_48138)) {\n            for (int64_t i_77359 = 0; i_77359 < arg_67058; i_77359++) {\n                int64_t index_primexp_77361;\n                bool x_77362;\n                bool y_77363;\n                bool bounds_check_77364;\n                bool index_certs_77365;\n                int64_t f_arg0_77366;\n                int64_t max_res_77367;\n                \n                index_primexp_77361 = add64((int64_t) 1, i_77359);\n                x_77362 = sle64((int64_t) 0, index_primexp_77361);\n                y_77363 = slt64(index_primexp_77361, dim_48135);\n                bounds_check_77364 = x_77362 && y_77363;\n                if (!bounds_check_77364) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 35) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77361;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_77366 = ((__global int64_t *) mem_92443)[gtid_77354 + index_primexp_77361 * n_48138];\n                max_res_77367 = smax64((int64_t) 0, f_arg0_77366);\n                ((__global int64_t *) mem_92432)[gtid_77354 + index_primexp_77361 * n_48138] = max_res_77367;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_92461)[gtid_77354 + i_0 * n_48138] = ((__global int64_t *) mem_92432)[gtid_77354 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef se",
                                    "gmap_tblock_sizze_77350\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77375_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77375(__global int *global_failure, int64_t n_48138, int64_t ext_92498, __global unsigned char *mem_90839, __global unsigned char *ext_mem_92499, __global unsigned char *mem_92502)\n{\n    #define segmap_tblock_sizze_77371 (sort_for_Skyline_doublezisegmap_77375zisegmap_tblock_sizze_77371)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96077;\n    int32_t tblock_sizze_96080;\n    int32_t wave_sizze_96079;\n    int32_t block_id_96078;\n    int32_t global_tid_96076;\n    int64_t phys_tid_77375;\n    int64_t global_tid_96081;\n    int64_t slice_96082;\n    int64_t gtid_77374;\n    int64_t remnant_96083;\n    \n    local_tid_96077 = get_local_id(0);\n    tblock_sizze_96080 = get_local_size(0);\n    wave_sizze_96079 = LOCKSTEP_WIDTH;\n    block_id_96078 = get_tblock_id(0);\n    global_tid_96076 = block_id_96078 * tblock_sizze_96080 + local_tid_96077;\n    phys_tid_77375 = sext_i32_i64(global_tid_96076);\n    global_tid_96081 = sext_i32_i64(block_id_96078) * segmap_tblock_sizze_77371 + sext_i32_i64(local_tid_96077);\n    slice_96082 = n_48138;\n    gtid_77374 = global_tid_96081;\n    remnant_96083 = global_tid_96081 - gtid_77374;\n    if (slt64(gtid_77374, n_48138)) {\n        int64_t min_arg1_90474;\n        int64_t f_arg0_77377;\n        int64_t min_res_77378;\n        \n        min_arg1_90474 = ((__global int64_t *) mem_90839)[(int64_t) 0];\n        f_arg0_77377 = ((__global int64_t *) ext_mem_92499)[gtid_77374 * ext_92498];\n        min_res_77378 = smin64(f_arg0_77377, min_arg1_90474);\n        ((__global int64_t *) mem_92502)[gtid_77374] = min_res_77378;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77371\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77388_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77388(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t di", "m_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_77384, int32_t virt_num_tblocks_96104, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_92516, __global unsigned char *mem_92527, __global unsigned char *mem_92545)\n{\n    #define segmap_tblock_sizze_77383 (sort_for_Skyline_doublezisegmap_77388zisegmap_tblock_sizze_77383)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96106;\n    int32_t tblock_sizze_96109;\n    int32_t wave_sizze_96108;\n    int32_t block_id_96107;\n    int32_t global_tid_96105;\n    int64_t phys_tid_77388;\n    int32_t phys_tblock_id_96110;\n    int32_t iterations_96111;\n    \n    local_tid_96106 = get_local_id(0);\n    tblock_sizze_96109 = get_local_size(0);\n    wave_sizze_96108 = LOCKSTEP_WIDTH;\n    block_id_96107 = get_tblock_id(0);\n    global_tid_96105 = block_id_96107 * tblock_sizze_96109 + local_tid_96106;\n    phys_tid_77388 = sext_i32_i64(global_tid_96105);\n    phys_tblock_id_96110 = get_tblock_id(0);\n    iterations_96111 = sdiv_up32(virt_num_tblocks_96104 - phys_tblock_id_96110, sext_i64_i32(num_tblocks_77384));\n    for (int32_t i_96112 = 0; i_96112 < iterations_96111; i_96112++) {\n        int32_t virt_tblock_id_96113;\n        int64_t global_tid_96114;\n        int64_t slice_96115;\n        int64_t gtid_77387;\n        int64_t remnant_96116;\n        \n        virt_tblock_id_96113 = phys_tblock_id_96110 + i_96112 * sext_i64_i32(num_tblocks_77384);\n        global_tid_96114 = sext_i32_i64(virt_tblock_id_96113) * segmap_tblock_sizze_77383 + sext_i32_i64(local_tid_96106);\n        slice_96115 = n_48138;\n        gtid_77387 = global_tid_96114;\n        remnant_96116 = global_tid_96114 - gtid_77387;\n        if (slt64(gtid_77387, n_48138)) {\n            for (int64_t i_77392 = 0; i_77392 < arg_67058; ", "i_77392++) {\n                int64_t index_primexp_77394;\n                bool x_77395;\n                bool y_77396;\n                bool bounds_check_77397;\n                bool index_certs_77398;\n                bool index_certs_77400;\n                int64_t f_arg0_77399;\n                int64_t zm_lhs_77401;\n                int64_t min_arg1_77402;\n                int64_t min_res_77403;\n                \n                index_primexp_77394 = add64((int64_t) 1, i_77392);\n                x_77395 = sle64((int64_t) 0, index_primexp_77394);\n                y_77396 = slt64(index_primexp_77394, dim_48135);\n                bounds_check_77397 = x_77395 && y_77396;\n                if (!bounds_check_77397) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 36) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77394;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_77397) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 37) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77394;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_77399 = ((__global int64_t *) mem_92527)[gtid_77387 + index_primexp_77394 * n_48138];\n                zm_lhs_77401 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_77394];\n                min_arg1_77402 = sub64(zm_lhs_77401, (int64_t) 1);\n                min_res_77403 = smin64(f_arg0_77399, min_arg1_77402);\n   ",
                                    "             ((__global int64_t *) mem_92516)[gtid_77387 + index_primexp_77394 * n_48138] = min_res_77403;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_92545)[gtid_77387 + i_0 * n_48138] = ((__global int64_t *) mem_92516)[gtid_77387 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_77383\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77417_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77417(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t ext_92594, int64_t ext_92595, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_92596, __global unsigned char *mem_92600)\n{\n    #define segmap_tblock_sizze_77412 (sort_for_Skyline_doublezisegmap_77417zisegmap_tblock_sizze_77412)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96121;\n    int32_t tblock_sizze_96124;\n    int32_t wave_sizze_96123;\n    int32_t block_id_96122;\n    int32_t global_tid_96120;\n    int64_t phys_tid_77417;\n    int64_t global_tid_96125;\n    int64_t slice_96126;\n    int64_t slice_96127;\n    int64_t gtid_77415;\n    int64_t remnant_96128;\n    int64_t gtid_77416;\n    int64_t remnant_96129;\n    \n    local_tid_96121 = get_local_id(0);\n    tblock_sizze_96124 = get_local_size(0);\n    wave_sizze_96123 = LOCKSTEP_WIDTH;\n    block_id_96122 = get_tblock_id(0);\n    global_tid_96120 = block_id_96122 * tblock_sizze_96124 + local_tid_96121;\n    phys_tid_77417 = sext_i32_i64(global_tid_96120);\n    global_tid_96125 = sext_i32_i64(block_id_96122) * segmap_tblock_sizze_77412 + sext_i32_i64(local_tid_96121);\n    slice_96126 = dim_48135;\n    slice_96127 = n_48138 * slice_96126;\n    gtid_77415 = squot64(global_tid_96125, ", "slice_96126);\n    remnant_96128 = global_tid_96125 - gtid_77415 * slice_96126;\n    gtid_77416 = remnant_96128;\n    remnant_96129 = remnant_96128 - gtid_77416;\n    if (slt64(gtid_77415, n_48138) && slt64(gtid_77416, dim_48135)) {\n        int64_t eta_p_77418;\n        int64_t eta_p_77419;\n        int64_t defunc_0_f_res_77420;\n        \n        eta_p_77418 = ((__global int64_t *) ext_mem_92596)[gtid_77415 * ext_92595 + gtid_77416 * ext_92594];\n        eta_p_77419 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_77416];\n        defunc_0_f_res_77420 = mul64(eta_p_77418, eta_p_77419);\n        ((__global int64_t *) mem_92600)[gtid_77415 * dim_48135 + gtid_77416] = defunc_0_f_res_77420;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77412\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77428_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77428(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t dz2080U_48136, int64_t n_48138, __global unsigned char *mem_92611, __global unsigned char *mem_92613, __global unsigned char *mem_92739)\n{\n    #define segmap_tblock_sizze_77423 (sort_for_Skyline_doublezisegmap_77428zisegmap_tblock_sizze_77423)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96132;\n    int32_t tblock_sizze_96135;\n    int32_t wave_sizze_96134;\n    int32_t block_id_96133;\n    int32_t global_tid_96131;\n    int64_t phys_tid_77428;\n    int64_t global_tid_96136;\n    int64_t slice_96137;\n    int64_t gtid_77427;\n    int64_t remnant_96138;\n    \n    local_tid_96132 = get_local_id(0);\n    tblock_sizze_96135 = get_local_size(0);\n    wave_sizze_96134 = LOCKSTEP_WIDTH;\n    block_id_96133 = get_tblock_id(0);\n    global_tid_96131 = block_id_96133 * tblock_sizze_96135 + local_tid_96132;\n    phys_tid_77428 = sext_i32_i64(global_tid_96131);\n    global_tid_96136 = sext_i32_i64(block_id_96133) * segmap_tblock_sizze_77423 + sext_i32_i64(local_tid_96132);\n    s", "lice_96137 = n_48138;\n    gtid_77427 = global_tid_96136;\n    remnant_96138 = global_tid_96136 - gtid_77427;\n    if (slt64(gtid_77427, n_48138)) {\n        int64_t defunc_0_foldl_res_77430;\n        int64_t acc_77432;\n        bool x_77435;\n        bool y_77436;\n        bool bounds_check_77437;\n        bool index_certs_77438;\n        \n        acc_77432 = (int64_t) 0;\n        for (int64_t i_77431 = 0; i_77431 < dim_48135; i_77431++) {\n            int64_t b_77433;\n            int64_t defunc_0_f_res_77434;\n            int64_t acc_tmp_96139;\n            \n            b_77433 = ((__global int64_t *) mem_92611)[gtid_77427 + i_77431 * n_48138];\n            defunc_0_f_res_77434 = add64(acc_77432, b_77433);\n            acc_tmp_96139 = defunc_0_f_res_77434;\n            acc_77432 = acc_tmp_96139;\n        }\n        defunc_0_foldl_res_77430 = acc_77432;\n        x_77435 = sle64((int64_t) 0, defunc_0_foldl_res_77430);\n        y_77436 = slt64(defunc_0_foldl_res_77430, dz2080U_48136);\n        bounds_check_77437 = x_77435 && y_77436;\n        if (!bounds_check_77437) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 38) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_77430;\n                    global_failure_args[1] = (int64_t) dz2080U_48136;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_92739)[gtid_77427] = defunc_0_foldl_res_77430;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77423\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77448_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77448(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_92613, __global unsigned char *mem_92623, __global unsigned char *mem_92739)\n{\n    #define segmap_tblock_sizze_77443 (sort_for_Skyline_doublezisegmap_77448zisegmap_tblock_sizze_77443)\n ",
                                    "   if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96142;\n    int32_t tblock_sizze_96145;\n    int32_t wave_sizze_96144;\n    int32_t block_id_96143;\n    int32_t global_tid_96141;\n    int64_t phys_tid_77448;\n    int64_t global_tid_96146;\n    int64_t slice_96147;\n    int64_t slice_96148;\n    int64_t gtid_77447;\n    int64_t remnant_96149;\n    int64_t gtid_slice_77446;\n    int64_t remnant_96150;\n    \n    local_tid_96142 = get_local_id(0);\n    tblock_sizze_96145 = get_local_size(0);\n    wave_sizze_96144 = LOCKSTEP_WIDTH;\n    block_id_96143 = get_tblock_id(0);\n    global_tid_96141 = block_id_96143 * tblock_sizze_96145 + local_tid_96142;\n    phys_tid_77448 = sext_i32_i64(global_tid_96141);\n    global_tid_96146 = sext_i32_i64(block_id_96143) * segmap_tblock_sizze_77443 + sext_i32_i64(local_tid_96142);\n    slice_96147 = dim_48135;\n    slice_96148 = n_48138 * slice_96147;\n    gtid_77447 = squot64(global_tid_96146, slice_96147);\n    remnant_96149 = global_tid_96146 - gtid_77447 * slice_96147;\n    gtid_slice_77446 = remnant_96149;\n    remnant_96150 = remnant_96149 - gtid_slice_77446;\n    if (slt64(gtid_77447, n_48138) && slt64(gtid_slice_77446, dim_48135)) {\n        int64_t defunc_0_foldl_res_77449;\n        bool index_certs_77450;\n        double v_77451;\n        \n        defunc_0_foldl_res_77449 = ((__global int64_t *) mem_92739)[gtid_77447];\n        index_certs_77450 = 0;\n        v_77451 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_77449 * dim_48135 + gtid_slice_77446];\n        ((__global double *) mem_92623)[gtid_77447 * dim_48135 + gtid_slice_77446] = v_77451;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77443\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77463_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77463(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *xs_mem_90819, __global unsigned char *mem_92623)\n{\n    #define segmap_tblock_sizze_77458 (sor", "t_for_Skyline_doublezisegmap_77463zisegmap_tblock_sizze_77458)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96153;\n    int32_t tblock_sizze_96156;\n    int32_t wave_sizze_96155;\n    int32_t block_id_96154;\n    int32_t global_tid_96152;\n    int64_t phys_tid_77463;\n    int64_t global_tid_96157;\n    int64_t slice_96158;\n    int64_t slice_96159;\n    int64_t gtid_77461;\n    int64_t remnant_96160;\n    int64_t gtid_77462;\n    int64_t remnant_96161;\n    \n    local_tid_96153 = get_local_id(0);\n    tblock_sizze_96156 = get_local_size(0);\n    wave_sizze_96155 = LOCKSTEP_WIDTH;\n    block_id_96154 = get_tblock_id(0);\n    global_tid_96152 = block_id_96154 * tblock_sizze_96156 + local_tid_96153;\n    phys_tid_77463 = sext_i32_i64(global_tid_96152);\n    global_tid_96157 = sext_i32_i64(block_id_96154) * segmap_tblock_sizze_77458 + sext_i32_i64(local_tid_96153);\n    slice_96158 = dim_48135;\n    slice_96159 = n_48138 * slice_96158;\n    gtid_77461 = squot64(global_tid_96157, slice_96158);\n    remnant_96160 = global_tid_96157 - gtid_77461 * slice_96158;\n    gtid_77462 = remnant_96160;\n    remnant_96161 = remnant_96160 - gtid_77462;\n    if (slt64(gtid_77461, n_48138) && slt64(gtid_77462, dim_48135)) {\n        double eta_p_77464;\n        double eta_p_77465;\n        double defunc_0_f_res_77466;\n        \n        eta_p_77464 = ((__global double *) xs_mem_90819)[gtid_77461 * dim_48135 + gtid_77462];\n        eta_p_77465 = ((__global double *) mem_92623)[gtid_77461 * dim_48135 + gtid_77462];\n        defunc_0_f_res_77466 = eta_p_77464 - eta_p_77465;\n        ((__global double *) mem_92623)[gtid_77461 * dim_48135 + gtid_77462] = defunc_0_f_res_77466;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77458\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77485_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77485(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t a", "rg_67058, int64_t num_tblocks_77481, int32_t virt_num_tblocks_96182, __global unsigned char *mem_92637, __global unsigned char *mem_92648, __global unsigned char *mem_92666)\n{\n    #define segmap_tblock_sizze_77480 (sort_for_Skyline_doublezisegmap_77485zisegmap_tblock_sizze_77480)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96184;\n    int32_t tblock_sizze_96187;\n    int32_t wave_sizze_96186;\n    int32_t block_id_96185;\n    int32_t global_tid_96183;\n    int64_t phys_tid_77485;\n    int32_t phys_tblock_id_96188;\n    int32_t iterations_96189;\n    \n    local_tid_96184 = get_local_id(0);\n    tblock_sizze_96187 = get_local_size(0);\n    wave_sizze_96186 = LOCKSTEP_WIDTH;\n    block_id_96185 = get_tblock_id(0);\n    global_tid_96183 = block_id_96185 * tblock_sizze_96187 + local_tid_96184;\n    phys_tid_77485 = sext_i32_i64(global_tid_96183);\n    phys_tblock_id_96188 = get_tblock_id(0);\n    iterations_96189 = sdiv_up32(virt_num_tblocks_96182 - phys_tblock_id_96188, sext_i64_i32(num_tblocks_77481));\n    for (int32_t i_96190 = 0; i_96190 < iterations_96189; i_96190++) {\n        int32_t virt_tblock_id_96191;\n        int64_t global_tid_96192;\n        int64_t slice_96193;\n        int64_t gtid_77484;\n        int64_t remnant_96194;\n        \n        virt_tblock_id_96191 = phys_tblock_id_96188 + i_96190 * sext_i64_i32(num_tblocks_77481);\n        global_tid_96192 = sext_i32_i64(virt_tblock_id_96191) * segmap_tblock_sizze_77480 + sext_i32_i64(local_tid_96184);\n        slice_96193 = n_48138;\n        gtid_77484 = global_tid_96192;\n        remnant_96194 = global_tid_96192 - gtid_77484;\n        if (slt64(gtid_77484, n_48138)) {\n            for (int64_t i_77489 = 0; i_77489 < arg_67058; i_77489++) {\n                int64_t index_primexp_77491;\n                bool x_77492;\n      ",
                                    "          bool y_77493;\n                bool bounds_check_77494;\n                bool index_certs_77495;\n                \n                index_primexp_77491 = add64((int64_t) 1, i_77489);\n                x_77492 = sle64((int64_t) 0, index_primexp_77491);\n                y_77493 = slt64(index_primexp_77491, dim_48135);\n                bounds_check_77494 = x_77492 && y_77493;\n                if (!bounds_check_77494) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 39) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77491;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_92637)[gtid_77484 + n_48138 * index_primexp_77491 + i_0 * n_48138] = ((__global double *) mem_92648)[gtid_77484 + n_48138 * index_primexp_77491 + i_0 * n_48138];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_92666)[gtid_77484 + i_0 * n_48138] = ((__global double *) mem_92637)[gtid_77484 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_77480\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77533_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77533(__global int *global_failure, int64_t n_48138, int64_t map_arg1_77506, int64_t j_m_i_77507, int64_t ext_90913, int64_t ext_90914, __global unsigned char *ext_mem_92672, __global unsigned char *mem_92683)\n{\n    #define segmap_tb", "lock_sizze_77528 (sort_for_Skyline_doublezisegmap_77533zisegmap_tblock_sizze_77528)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96202;\n    int32_t tblock_sizze_96205;\n    int32_t wave_sizze_96204;\n    int32_t block_id_96203;\n    int32_t global_tid_96201;\n    int64_t phys_tid_77533;\n    int64_t global_tid_96206;\n    int64_t slice_96207;\n    int64_t slice_96208;\n    int64_t gtid_77531;\n    int64_t remnant_96209;\n    int64_t gtid_77532;\n    int64_t remnant_96210;\n    \n    local_tid_96202 = get_local_id(0);\n    tblock_sizze_96205 = get_local_size(0);\n    wave_sizze_96204 = LOCKSTEP_WIDTH;\n    block_id_96203 = get_tblock_id(0);\n    global_tid_96201 = block_id_96203 * tblock_sizze_96205 + local_tid_96202;\n    phys_tid_77533 = sext_i32_i64(global_tid_96201);\n    global_tid_96206 = sext_i32_i64(block_id_96203) * segmap_tblock_sizze_77528 + sext_i32_i64(local_tid_96202);\n    slice_96207 = j_m_i_77507;\n    slice_96208 = n_48138 * slice_96207;\n    gtid_77531 = squot64(global_tid_96206, slice_96207);\n    remnant_96209 = global_tid_96206 - gtid_77531 * slice_96207;\n    gtid_77532 = remnant_96209;\n    remnant_96210 = remnant_96209 - gtid_77532;\n    if (slt64(gtid_77531, n_48138) && slt64(gtid_77532, j_m_i_77507)) {\n        int64_t slice_90313;\n        double eta_p_77534;\n        double lifted_lambda_res_77535;\n        \n        slice_90313 = map_arg1_77506 + gtid_77532;\n        eta_p_77534 = ((__global double *) ext_mem_92672)[gtid_77531 * ext_90914 + slice_90313 * ext_90913];\n        lifted_lambda_res_77535 = eta_p_77534 * eta_p_77534;\n        ((__global double *) mem_92683)[gtid_77531 * j_m_i_77507 + gtid_77532] = lifted_lambda_res_77535;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77528\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77543_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77543(__global int *global_failure, int64_t n_48138, int64_t arg_67058, int64_t i_77502, int64_t j_m_i_77507, int64_t num_tblocks_77539,", " int64_t ext_90913, int64_t ext_90914, int32_t virt_num_tblocks_96211, __global unsigned char *ext_mem_92672, __global unsigned char *mem_92694, __global unsigned char *mem_92705, __global unsigned char *mem_92717)\n{\n    #define segmap_tblock_sizze_77538 (sort_for_Skyline_doublezisegmap_77543zisegmap_tblock_sizze_77538)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96213;\n    int32_t tblock_sizze_96216;\n    int32_t wave_sizze_96215;\n    int32_t block_id_96214;\n    int32_t global_tid_96212;\n    int64_t phys_tid_77543;\n    int32_t phys_tblock_id_96217;\n    int32_t iterations_96218;\n    \n    local_tid_96213 = get_local_id(0);\n    tblock_sizze_96216 = get_local_size(0);\n    wave_sizze_96215 = LOCKSTEP_WIDTH;\n    block_id_96214 = get_tblock_id(0);\n    global_tid_96212 = block_id_96214 * tblock_sizze_96216 + local_tid_96213;\n    phys_tid_77543 = sext_i32_i64(global_tid_96212);\n    phys_tblock_id_96217 = get_tblock_id(0);\n    iterations_96218 = sdiv_up32(virt_num_tblocks_96211 - phys_tblock_id_96217, sext_i64_i32(num_tblocks_77539));\n    for (int32_t i_96219 = 0; i_96219 < iterations_96218; i_96219++) {\n        int32_t virt_tblock_id_96220;\n        int64_t global_tid_96221;\n        int64_t slice_96222;\n        int64_t gtid_77542;\n        int64_t remnant_96223;\n        \n        virt_tblock_id_96220 = phys_tblock_id_96217 + i_96219 * sext_i64_i32(num_tblocks_77539);\n        global_tid_96221 = sext_i32_i64(virt_tblock_id_96220) * segmap_tblock_sizze_77538 + sext_i32_i64(local_tid_96213);\n        slice_96222 = n_48138;\n        gtid_77542 = global_tid_96221;\n        remnant_96223 = global_tid_96221 - gtid_77542;\n        if (slt64(gtid_77542, n_48138)) {\n            double defunc_0_seqmap_res_r_transformed_row_77545;\n            double defunc_0_foldl_res_77547;\n            double acc_77549;\n            double sqrt_res_77552;\n            double atan2_res_77553;\n            \n            defunc_0_seqmap_res_r_transformed_row_77545 = ((__global double *) e",
                                    "xt_mem_92672)[gtid_77542 * ext_90914 + i_77502 * ext_90913];\n            acc_77549 = 0.0;\n            for (int64_t i_77548 = 0; i_77548 < j_m_i_77507; i_77548++) {\n                double b_77550;\n                double defunc_0_f_res_77551;\n                double acc_tmp_96224;\n                \n                b_77550 = ((__global double *) mem_92705)[gtid_77542 + i_77548 * n_48138];\n                defunc_0_f_res_77551 = acc_77549 + b_77550;\n                acc_tmp_96224 = defunc_0_f_res_77551;\n                acc_77549 = acc_tmp_96224;\n            }\n            defunc_0_foldl_res_77547 = acc_77549;\n            sqrt_res_77552 = futrts_sqrt64(defunc_0_foldl_res_77547);\n            atan2_res_77553 = futrts_atan2_64(sqrt_res_77552, defunc_0_seqmap_res_r_transformed_row_77545);\n            ((__global double *) mem_92694)[gtid_77542 + i_77502 * n_48138] = atan2_res_77553;\n            for (int64_t i_0 = 0; i_0 < arg_67058; i_0++) {\n                ((__global double *) mem_92717)[gtid_77542 + i_0 * n_48138] = ((__global double *) mem_92694)[gtid_77542 + i_0 * n_48138];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_77538\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77567_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77567(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_48138, int64_t arg_67058, int64_t ext_92718, int64_t ext_92719, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *ext_mem_92355, __global unsigned char *ext_mem_92721, __global unsigned char *mem_92725)\n{\n    #define segmap_tblock_sizze_77562 (sort_for_Skyline_doublezisegmap_77567zisegmap_tblock_sizze_77562)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local", "_tid_96227;\n    int32_t tblock_sizze_96230;\n    int32_t wave_sizze_96229;\n    int32_t block_id_96228;\n    int32_t global_tid_96226;\n    int64_t phys_tid_77567;\n    int64_t global_tid_96231;\n    int64_t slice_96232;\n    int64_t slice_96233;\n    int64_t gtid_77565;\n    int64_t remnant_96234;\n    int64_t gtid_77566;\n    int64_t remnant_96235;\n    \n    local_tid_96227 = get_local_id(0);\n    tblock_sizze_96230 = get_local_size(0);\n    wave_sizze_96229 = LOCKSTEP_WIDTH;\n    block_id_96228 = get_tblock_id(0);\n    global_tid_96226 = block_id_96228 * tblock_sizze_96230 + local_tid_96227;\n    phys_tid_77567 = sext_i32_i64(global_tid_96226);\n    global_tid_96231 = sext_i32_i64(block_id_96228) * segmap_tblock_sizze_77562 + sext_i32_i64(local_tid_96227);\n    slice_96232 = arg_67058;\n    slice_96233 = n_48138 * slice_96232;\n    gtid_77565 = squot64(global_tid_96231, slice_96232);\n    remnant_96234 = global_tid_96231 - gtid_77565 * slice_96232;\n    gtid_77566 = remnant_96234;\n    remnant_96235 = remnant_96234 - gtid_77566;\n    if (slt64(gtid_77565, n_48138) && slt64(gtid_77566, arg_67058)) {\n        double eta_p_77568;\n        double eta_p_77569;\n        int64_t eta_p_77570;\n        int64_t eta_p_77571;\n        int64_t defunc_0_f_res_77572;\n        \n        eta_p_77568 = ((__global double *) ext_mem_92721)[gtid_77565 * ext_92719 + gtid_77566 * ext_92718];\n        eta_p_77569 = ((__global double *) ext_mem_92355)[gtid_77566];\n        eta_p_77570 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_77566];\n        eta_p_77571 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_77566];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_77572, eta_p_77568, eta_p_77569, eta_p_77570, eta_p_77571);\n        ((__global int64_t *) mem_92725)[gtid_77565 * arg_67058 + gtid_77566] = defunc_0_f_res_77572;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77562\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77579_dim1, 1, 1)\nvoid sort_for_Skyline_doub", "lezisegmap_77579(__global int *global_failure, int64_t n_48138, int64_t total_angle_no_48145, int64_t arg_67058, __global unsigned char *mem_92736, __global unsigned char *mem_92739)\n{\n    #define segmap_tblock_sizze_77575 (sort_for_Skyline_doublezisegmap_77579zisegmap_tblock_sizze_77575)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96238;\n    int32_t tblock_sizze_96241;\n    int32_t wave_sizze_96240;\n    int32_t block_id_96239;\n    int32_t global_tid_96237;\n    int64_t phys_tid_77579;\n    int64_t global_tid_96242;\n    int64_t slice_96243;\n    int64_t gtid_77578;\n    int64_t remnant_96244;\n    \n    local_tid_96238 = get_local_id(0);\n    tblock_sizze_96241 = get_local_size(0);\n    wave_sizze_96240 = LOCKSTEP_WIDTH;\n    block_id_96239 = get_tblock_id(0);\n    global_tid_96237 = block_id_96239 * tblock_sizze_96241 + local_tid_96238;\n    phys_tid_77579 = sext_i32_i64(global_tid_96237);\n    global_tid_96242 = sext_i32_i64(block_id_96239) * segmap_tblock_sizze_77575 + sext_i32_i64(local_tid_96238);\n    slice_96243 = n_48138;\n    gtid_77578 = global_tid_96242;\n    remnant_96244 = global_tid_96242 - gtid_77578;\n    if (slt64(gtid_77578, n_48138)) {\n        int64_t defunc_0_foldl_res_77580;\n        int64_t defunc_0_foldl_res_77582;\n        int64_t acc_77584;\n        int64_t zp_lhs_77587;\n        int64_t get_id_from_grid_angle_res_77588;\n        \n        defunc_0_foldl_res_77580 = ((__global int64_t *) mem_92739)[gtid_77578];\n        acc_77584 = (int64_t) 0;\n        for (int64_t i_77583 = 0; i_77583 < arg_67058; i_77583++) {\n            int64_t b_77585;\n            int64_t defunc_0_f_res_77586;\n            int64_t acc_tmp_96245;\n            \n            b_77585 = ((__global int64_t *) mem_92736)[gtid_77578 + i_77583 * n_48138];\n            defunc_0_f_res_77586 = add64(acc_77584, b_77585);\n            acc_tmp_96245 = defunc_0_f_res_77586;\n            acc_77584 = acc_tmp_96245;\n        }\n        defunc_0_foldl_res_77582 = acc_77584;\n        zp_lhs_7758",
                                    "7 = mul64(total_angle_no_48145, defunc_0_foldl_res_77580);\n        get_id_from_grid_angle_res_77588 = add64(defunc_0_foldl_res_77582, zp_lhs_77587);\n        ((__global int64_t *) mem_92739)[gtid_77578] = get_id_from_grid_angle_res_77588;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77575\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77920_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77920(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t block_sizze_67289, int64_t x_69318, int64_t num_tblocks_77913, int32_t virt_num_tblocks_96307, __global unsigned char *mem_92739, __global unsigned char *mem_92750, __global unsigned char *mem_92762, __global unsigned char *mem_92764, __global unsigned char *mem_92765, __global unsigned char *mem_92772, __global unsigned char *mem_92789, __global unsigned char *mem_92792)\n{\n    #define segmap_tblock_sizze_77912 (sort_for_Skyline_doublezisegmap_77920zisegmap_tblock_sizze_77912)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96309;\n    int32_t tblock_sizze_96312;\n    int32_t wave_sizze_96311;\n    int32_t block_id_96310;\n    int32_t global_tid_96308;\n    int64_t phys_tid_77920;\n    int32_t phys_tblock_id_96313;\n    int32_t iterations_96314;\n    \n    local_tid_96309 = get_local_id(0);\n    tblock_sizze_96312 = get_local_size(0);\n    wave_sizze_96311 = LOCKSTEP_WIDTH;\n    block_id_96310 = get_tblock_id(0);\n    global_tid_96308 = block_id_96310 * tblock_sizze_96312 + local_tid_96309;\n    phys_tid_77920 = sext_i32_i64(global_tid_96308);\n    phys_tblock_id_96313 = get_tblock_id(0);\n    iterations_96314 = sdiv_up32(virt_num_tblocks_96307 - phys_tblock_id_96313, sext_i64_i32(num_tblocks_77913));\n    for (int32_", "t i_96315 = 0; i_96315 < iterations_96314; i_96315++) {\n        int32_t virt_tblock_id_96316;\n        int64_t global_tid_96317;\n        int64_t slice_96318;\n        int64_t slice_96319;\n        int64_t gtid_77918;\n        int64_t remnant_96320;\n        int64_t gtid_77919;\n        int64_t remnant_96321;\n        \n        virt_tblock_id_96316 = phys_tblock_id_96313 + i_96315 * sext_i64_i32(num_tblocks_77913);\n        global_tid_96317 = sext_i32_i64(virt_tblock_id_96316) * segmap_tblock_sizze_77912 + sext_i32_i64(local_tid_96309);\n        slice_96318 = block_sizze_67289;\n        slice_96319 = x_69318 * slice_96318;\n        gtid_77918 = squot64(global_tid_96317, slice_96318);\n        remnant_96320 = global_tid_96317 - gtid_77918 * slice_96318;\n        gtid_77919 = remnant_96320;\n        remnant_96321 = remnant_96320 - gtid_77919;\n        if (slt64(gtid_77918, x_69318) && slt64(gtid_77919, block_sizze_67289)) {\n            int64_t index_primexp_90400;\n            int64_t k_77923;\n            bool cond_77924;\n            int64_t ext_92768;\n            int64_t ext_92767;\n            __global unsigned char *ext_mem_92769;\n            int64_t lifted_lambda_res_77925;\n            int64_t lifted_lambda_res_77927;\n            \n            index_primexp_90400 = mul64(block_sizze_67289, gtid_77918);\n            k_77923 = add64(gtid_77919, index_primexp_90400);\n            cond_77924 = slt64(k_77923, n_48138);\n            if (cond_77924) {\n                ext_92768 = k_77923;\n            } else {\n                ext_92768 = (int64_t) 0;\n            }\n            if (cond_77924) {\n                ext_92767 = n_48138;\n            } else {\n                ext_92767 = (int64_t) 1;\n            }\n            if (cond_77924) {\n                bool x_77928;\n                bool bounds_check_77929;\n                bool index_certs_77930;\n                int64_t lifted_lambda_res_t_res_77931;\n                \n                x_77928 = sle64((int64_t) 0, k_77923);\n                bounds_check", "_77929 = cond_77924 && x_77928;\n                if (!bounds_check_77929) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 40) == -1) {\n                            global_failure_args[0] = (int64_t) k_77923;\n                            global_failure_args[1] = (int64_t) n_48138;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_t_res_77931 = ((__global int64_t *) mem_92739)[k_77923];\n                ext_mem_92769 = mem_92750;\n                lifted_lambda_res_77925 = lifted_lambda_res_t_res_77931;\n                lifted_lambda_res_77927 = k_77923;\n            } else {\n                int64_t defunc_0_reduce_res_90479;\n                int64_t defunc_0_reduce_res_90480;\n                \n                defunc_0_reduce_res_90479 = ((__global int64_t *) mem_92764)[(int64_t) 0];\n                defunc_0_reduce_res_90480 = ((__global int64_t *) mem_92765)[(int64_t) 0];\n                ext_mem_92769 = mem_92762;\n                lifted_lambda_res_77925 = defunc_0_reduce_res_90479;\n                lifted_lambda_res_77927 = defunc_0_reduce_res_90480;\n            }\n            ((__global int64_t *) mem_92772)[gtid_77918 * block_sizze_67289 + gtid_77919] = lifted_lambda_res_77925;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_92789)[gtid_77918 * block_sizze_67289 + gtid_77919 + i_0 * (block_sizze_67289 * x_69318)] = ((__global double *) ext_mem_92769)[ext_92768 + i_0 * ext_92767];\n            }\n            ((__global int64_t *) mem_92792)[gtid_77918 * block_sizze_67289 + gtid_77919] = lifted_lambda_res_77927;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    ",
                                    "\n  error_1:\n    return;\n    #undef segmap_tblock_sizze_77912\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77950_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77950(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t block_sizze_67289, int64_t distance_67331, int64_t x_69318, int64_t num_tblocks_77944, int64_t num_threads_95540, int64_t ctx_95553, int32_t virt_num_tblocks_96322, __global unsigned char *mem_92803, __global unsigned char *mem_92820, __global unsigned char *mem_92831, __global unsigned char *mem_92888, __global unsigned char *mem_92905, __global unsigned char *mem_92916, __global unsigned char *color_95389, __global unsigned char *color_95390)\n{\n    #define segmap_tblock_sizze_77943 (sort_for_Skyline_doublezisegmap_77950zisegmap_tblock_sizze_77943)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96324;\n    int32_t tblock_sizze_96327;\n    int32_t wave_sizze_96326;\n    int32_t block_id_96325;\n    int32_t global_tid_96323;\n    int64_t phys_tid_77950;\n    int32_t phys_tblock_id_96328;\n    int32_t iterations_96329;\n    \n    local_tid_96324 = get_local_id(0);\n    tblock_sizze_96327 = get_local_size(0);\n    wave_sizze_96326 = LOCKSTEP_WIDTH;\n    block_id_96325 = get_tblock_id(0);\n    global_tid_96323 = block_id_96325 * tblock_sizze_96327 + local_tid_96324;\n    phys_tid_77950 = sext_i32_i64(global_tid_96323);\n    phys_tblock_id_96328 = get_tblock_id(0);\n    iterations_96329 = sdiv_up32(virt_num_tblocks_96322 - phys_tblock_id_96328, sext_i64_i32(num_tblocks_77944));\n    for (int32_t i_96330 = 0; i_96330 < iterations_96329; i_96330++) {\n        int32_t virt_tblock_id_96331;\n        int64_t global_tid_96332;\n        int64_t slice_96333;\n        int64_t gtid_77949;\n      ", "  int64_t remnant_96334;\n        \n        virt_tblock_id_96331 = phys_tblock_id_96328 + i_96330 * sext_i64_i32(num_tblocks_77944);\n        global_tid_96332 = sext_i32_i64(virt_tblock_id_96331) * segmap_tblock_sizze_77943 + sext_i32_i64(local_tid_96324);\n        slice_96333 = x_69318;\n        gtid_77949 = global_tid_96332;\n        remnant_96334 = global_tid_96332 - gtid_77949;\n        if (slt64(gtid_77949, x_69318)) {\n            for (int64_t i_77957 = 0; i_77957 < distance_67331; i_77957++) {\n                int64_t gt_arg1_77961;\n                bool x_77962;\n                bool y_77963;\n                bool bounds_check_77964;\n                bool index_certs_77965;\n                bool y_77967;\n                bool index_certs_77968;\n                int64_t gt_arg1_77966;\n                int64_t gt_arg0_77969;\n                bool lifted_lambda_res_77970;\n                bool defunc_0_lifted_gt_res_77971;\n                bool s_77972;\n                int64_t s_77976;\n                bool loop_while_77977;\n                int64_t j_77981;\n                \n                gt_arg1_77961 = add64((int64_t) 1, i_77957);\n                x_77962 = sle64((int64_t) 0, gt_arg1_77961);\n                y_77963 = slt64(gt_arg1_77961, block_sizze_67289);\n                bounds_check_77964 = x_77962 && y_77963;\n                if (!bounds_check_77964) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 41) == -1) {\n                            global_failure_args[0] = (int64_t) gt_arg1_77961;\n                            global_failure_args[1] = (int64_t) block_sizze_67289;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                y_77967 = slt64(i_77957, block_sizze_67289);\n                if (!y_77967) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 4", "2) == -1) {\n                            global_failure_args[0] = (int64_t) i_77957;\n                            global_failure_args[1] = (int64_t) block_sizze_67289;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                gt_arg1_77966 = ((__global int64_t *) mem_92803)[gtid_77949 + gt_arg1_77961 * x_69318];\n                gt_arg0_77969 = ((__global int64_t *) mem_92803)[gtid_77949 + i_77957 * x_69318];\n                lifted_lambda_res_77970 = sle64(gt_arg0_77969, gt_arg1_77966);\n                defunc_0_lifted_gt_res_77971 = !lifted_lambda_res_77970;\n                loop_while_77977 = defunc_0_lifted_gt_res_77971;\n                j_77981 = i_77957;\n                while (loop_while_77977) {\n                    bool x_77982;\n                    bool y_77983;\n                    bool bounds_check_77984;\n                    bool index_certs_77985;\n                    int64_t copy_arg0_77990;\n                    bool x_77991;\n                    bool y_77992;\n                    bool bounds_check_77993;\n                    bool index_certs_77994;\n                    int64_t copy_arg0_77986;\n                    int64_t copy_arg0_77988;\n                    int64_t copy_arg0_77995;\n                    int64_t copy_arg0_77997;\n                    int64_t tmp_78005;\n                    bool cond_78006;\n                    bool loop_cond_78007;\n                    bool loop_while_tmp_96338;\n                    int64_t j_tmp_96342;\n                    \n                    x_77982 = sle64((int64_t) 0, j_77981);\n                    y_77983 = slt64(j_77981, block_sizze_67289);\n                    bounds_check_77984 = x_77982 && y_77983;\n                    if (!bounds_check_77984) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 43) == -1) {\n                                global_failur",
                                    "e_args[0] = (int64_t) j_77981;\n                                global_failure_args[1] = (int64_t) block_sizze_67289;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_77990 = add64((int64_t) 1, j_77981);\n                    x_77991 = sle64((int64_t) 0, copy_arg0_77990);\n                    y_77992 = slt64(copy_arg0_77990, block_sizze_67289);\n                    bounds_check_77993 = x_77991 && y_77992;\n                    if (!bounds_check_77993) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 44) == -1) {\n                                global_failure_args[0] = (int64_t) copy_arg0_77990;\n                                global_failure_args[1] = (int64_t) block_sizze_67289;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_77986 = ((__global int64_t *) mem_92803)[gtid_77949 + j_77981 * x_69318];\n                    copy_arg0_77988 = ((__global int64_t *) mem_92831)[gtid_77949 + j_77981 * x_69318];\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) color_95390)[phys_tid_77950 + i_0 * num_threads_95540] = ((__global double *) mem_92820)[gtid_77949 + j_77981 * ctx_95553 + i_0 * x_69318];\n                    }\n                    copy_arg0_77995 = ((__global int64_t *) mem_92803)[gtid_77949 + copy_arg0_77990 * x_69318];\n                    copy_arg0_77997 = ((__global int64_t *) mem_92831)[gtid_77949 + copy_arg0_77990 * x_69318];\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) color_95389)[phys_tid_77950 + i_0 * num_threads_95540] = ((", "__global double *) mem_92820)[gtid_77949 + copy_arg0_77990 * ctx_95553 + i_0 * x_69318];\n                    }\n                    ((__global int64_t *) mem_92803)[gtid_77949 + j_77981 * x_69318] = copy_arg0_77995;\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_92820)[gtid_77949 + j_77981 * ctx_95553 + i_0 * x_69318] = ((__global double *) color_95389)[phys_tid_77950 + i_0 * num_threads_95540];\n                    }\n                    ((__global int64_t *) mem_92831)[gtid_77949 + j_77981 * x_69318] = copy_arg0_77997;\n                    ((__global int64_t *) mem_92803)[gtid_77949 + copy_arg0_77990 * x_69318] = copy_arg0_77986;\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_92820)[gtid_77949 + copy_arg0_77990 * ctx_95553 + i_0 * x_69318] = ((__global double *) color_95390)[phys_tid_77950 + i_0 * num_threads_95540];\n                    }\n                    ((__global int64_t *) mem_92831)[gtid_77949 + copy_arg0_77990 * x_69318] = copy_arg0_77988;\n                    tmp_78005 = sub64(j_77981, (int64_t) 1);\n                    cond_78006 = sle64((int64_t) 0, tmp_78005);\n                    if (cond_78006) {\n                        bool y_78009;\n                        bool bounds_check_78010;\n                        bool index_certs_78011;\n                        int64_t gt_arg1_78008;\n                        int64_t gt_arg0_78012;\n                        bool lifted_lambda_res_78013;\n                        bool defunc_0_lifted_gt_res_78014;\n                        \n                        y_78009 = slt64(tmp_78005, block_sizze_67289);\n                        bounds_check_78010 = cond_78006 && y_78009;\n                        if (!bounds_check_78010) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 45) == -1) {\n                                    global_failure_arg", "s[0] = (int64_t) tmp_78005;\n                                    global_failure_args[1] = (int64_t) block_sizze_67289;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        gt_arg1_78008 = ((__global int64_t *) mem_92803)[gtid_77949 + j_77981 * x_69318];\n                        gt_arg0_78012 = ((__global int64_t *) mem_92803)[gtid_77949 + tmp_78005 * x_69318];\n                        lifted_lambda_res_78013 = sle64(gt_arg0_78012, gt_arg1_78008);\n                        defunc_0_lifted_gt_res_78014 = !lifted_lambda_res_78013;\n                        loop_cond_78007 = defunc_0_lifted_gt_res_78014;\n                    } else {\n                        loop_cond_78007 = 0;\n                    }\n                    loop_while_tmp_96338 = loop_cond_78007;\n                    j_tmp_96342 = tmp_78005;\n                    loop_while_77977 = loop_while_tmp_96338;\n                    j_77981 = j_tmp_96342;\n                }\n                s_77972 = loop_while_77977;\n                s_77976 = j_77981;\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_67289; i_0++) {\n                ((__global int64_t *) mem_92888)[gtid_77949 + i_0 * x_69318] = ((__global int64_t *) mem_92803)[gtid_77949 + i_0 * x_69318];\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_67289; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__global double *) mem_92905)[gtid_77949 + (i_0 * (x_69318 * dim_48135) + i_1 * x_69318)] = ((__global double *) mem_92820)[gtid_77949 + (i_0 * ctx_95553 + i_1 * x_69318)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_67289; i_0++) {\n                ((__global int64_t *) mem_92916)[gtid_77949 + i_0 * x_69318] = ((__global int64_t *) mem_92831)[gtid_77949 + i_0 * x_6931",
                                    "8];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_77943\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80822_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80822(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t loop_dz2084Uz2082U_72241, int64_t next_stride_72247, unsigned char zzero_72248_bits, int64_t num_merges_72251, int64_t m_72256, unsigned char zzero_leq_i_p_m_t_s_72257_bits, unsigned char i_lte_j_72258_bits, __global unsigned char *mem_92953, __global unsigned char *mem_92954)\n{\n    bool zzero_72248 = zzero_72248_bits;\n    bool zzero_leq_i_p_m_t_s_72257 = zzero_leq_i_p_m_t_s_72257_bits;\n    bool i_lte_j_72258 = i_lte_j_72258_bits;\n    \n    #define segmap_tblock_sizze_80816 (sort_for_Skyline_doublezisegmap_80822zisegmap_tblock_sizze_80816)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96485;\n    int32_t tblock_sizze_96488;\n    int32_t wave_sizze_96487;\n    int32_t block_id_96486;\n    int32_t global_tid_96484;\n    int64_t phys_tid_80822;\n    int64_t global_tid_96489;\n    int64_t slice_96490;\n    int64_t gtid_80821;\n    int64_t remnant_96491;\n    \n    local_tid_96485 = get_local_id(0);\n    tblock_sizze_96488 = get_local_size(0);\n    wave_sizze_96487 = LOCKSTEP_WIDTH;\n    block_id_96486 = get_tblock_id(0);\n    global_tid_96484 = block_id_96486 * tblock_sizze_96488 + local_tid_96485;\n    phys_tid_80822 = sext_i32_i64(global_tid_96484);\n    global_tid_96489 = sext_i32_i64(block_id_96486) * segmap_tblock_sizze_80816 + sext_i32_i64(local_tid_96485);\n    slice_96490 = num_merges_72251;\n    gtid_80821 = global_tid_96489;\n    remnant_96491 = global_tid_96489 - gtid_80821;\n    if (slt64(gtid_80821, num_merges_72251)) {\n        int64_t start_80824;\n  ", "      int64_t j_m_i_80825;\n        bool empty_slice_80826;\n        int64_t m_80827;\n        int64_t i_p_m_t_s_80828;\n        bool zzero_leq_i_p_m_t_s_80829;\n        bool i_p_m_t_s_leq_w_80830;\n        bool zzero_lte_i_80831;\n        bool i_lte_j_80832;\n        bool y_80833;\n        bool y_80834;\n        bool forwards_ok_80835;\n        bool ok_or_empty_80836;\n        bool index_certs_80837;\n        bool i_p_m_t_s_leq_w_80838;\n        bool y_80839;\n        bool forwards_ok_80840;\n        bool ok_or_empty_80841;\n        bool index_certs_80842;\n        \n        start_80824 = mul64(next_stride_72247, gtid_80821);\n        j_m_i_80825 = sub64(loop_dz2084Uz2082U_72241, start_80824);\n        empty_slice_80826 = j_m_i_80825 == (int64_t) 0;\n        m_80827 = sub64(j_m_i_80825, (int64_t) 1);\n        i_p_m_t_s_80828 = add64(start_80824, m_80827);\n        zzero_leq_i_p_m_t_s_80829 = sle64((int64_t) 0, i_p_m_t_s_80828);\n        i_p_m_t_s_leq_w_80830 = slt64(i_p_m_t_s_80828, loop_dz2084Uz2082U_72241);\n        zzero_lte_i_80831 = sle64((int64_t) 0, start_80824);\n        i_lte_j_80832 = sle64(start_80824, loop_dz2084Uz2082U_72241);\n        y_80833 = i_p_m_t_s_leq_w_80830 && zzero_lte_i_80831;\n        y_80834 = zzero_leq_i_p_m_t_s_80829 && y_80833;\n        forwards_ok_80835 = i_lte_j_80832 && y_80834;\n        ok_or_empty_80836 = empty_slice_80826 || forwards_ok_80835;\n        if (!ok_or_empty_80836) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 65) == -1) {\n                    global_failure_args[0] = (int64_t) start_80824;\n                    global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_72241;\n                    ;\n                }\n                return;\n            }\n        }\n        i_p_m_t_s_leq_w_80838 = slt64(m_72256, j_m_i_80825);\n        y_80839 = zzero_leq_i_p_m_t_s_72257 && i_p_m_t_s_leq_w_80838;\n        forwards_ok_80840 = i_lte_j_72258 && y_80839;\n        ok_or_empty_80841 = zzero_72248 || forwards_ok_80840;\n        if (!ok_o", "r_empty_80841) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 66) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) next_stride_72247;\n                    global_failure_args[2] = (int64_t) j_m_i_80825;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80816\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80854_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80854(__global int *global_failure, int64_t next_stride_72247, int64_t num_merges_72251, __global unsigned char *mem_param_92944, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93303)\n{\n    #define segmap_tblock_sizze_80850 (sort_for_Skyline_doublezisegmap_80854zisegmap_tblock_sizze_80850)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96494;\n    int32_t tblock_sizze_96497;\n    int32_t wave_sizze_96496;\n    int32_t block_id_96495;\n    int32_t global_tid_96493;\n    int64_t phys_tid_80854;\n    int64_t global_tid_96498;\n    int64_t slice_96499;\n    int64_t gtid_80853;\n    int64_t remnant_96500;\n    \n    local_tid_96494 = get_local_id(0);\n    tblock_sizze_96497 = get_local_size(0);\n    wave_sizze_96496 = LOCKSTEP_WIDTH;\n    block_id_96495 = get_tblock_id(0);\n    global_tid_96493 = block_id_96495 * tblock_sizze_96497 + local_tid_96494;\n    phys_tid_80854 = sext_i32_i64(global_tid_96493);\n    global_tid_96498 = sext_i32_i64(block_id_96495) * segmap_tblock_sizze_80850 + sext_i32_i64(local_tid_96494);\n    slice_96499 = num_merges_72251;\n    gtid_80853 = global_tid_96498;\n    remnant_96500 = global_tid_96498 - gtid_80853;\n    if (slt64(gtid_80853, num_merges_72251)) {\n        int64_t index_primexp_90382;\n        bool index_certs_80856;\n        bool index_certs_80857;\n        int64_t head_res_80858;\n        \n        index_",
                                    "primexp_90382 = mul64(next_stride_72247, gtid_80853);\n        index_certs_80856 = 0;\n        index_certs_80857 = 0;\n        head_res_80858 = ((__global int64_t *) mem_param_92944)[index_primexp_90382];\n        ((__global int64_t *) mem_93303)[gtid_80853] = head_res_80858;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80850\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80866_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80866(__global int *global_failure, int64_t dim_48135, int64_t next_stride_72247, int64_t num_merges_72251, __global unsigned char *mem_param_92948, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93307)\n{\n    #define segmap_tblock_sizze_80861 (sort_for_Skyline_doublezisegmap_80866zisegmap_tblock_sizze_80861)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96503;\n    int32_t tblock_sizze_96506;\n    int32_t wave_sizze_96505;\n    int32_t block_id_96504;\n    int32_t global_tid_96502;\n    int64_t phys_tid_80866;\n    int64_t global_tid_96507;\n    int64_t slice_96508;\n    int64_t slice_96509;\n    int64_t gtid_80865;\n    int64_t remnant_96510;\n    int64_t gtid_slice_80864;\n    int64_t remnant_96511;\n    \n    local_tid_96503 = get_local_id(0);\n    tblock_sizze_96506 = get_local_size(0);\n    wave_sizze_96505 = LOCKSTEP_WIDTH;\n    block_id_96504 = get_tblock_id(0);\n    global_tid_96502 = block_id_96504 * tblock_sizze_96506 + local_tid_96503;\n    phys_tid_80866 = sext_i32_i64(global_tid_96502);\n    global_tid_96507 = sext_i32_i64(block_id_96504) * segmap_tblock_sizze_80861 + sext_i32_i64(local_tid_96503);\n    slice_96508 = dim_48135;\n    slice_96509 = num_merges_72251 * slice_96508;\n    gtid_80865 = squot64(global_tid_96507, slice_96508);\n    remnant_96510 = global_tid_96507 - gtid_80865 * slice_96508;\n    gtid_slice_80864 = remnant_96510;\n    remnant_96511 = remnant_96510 - gtid_slice_80864;\n    if (slt64(gtid_80865, num_merges_72251) && slt64(gtid_slice_80", "864, dim_48135)) {\n        int64_t index_primexp_90379;\n        bool index_certs_80868;\n        bool index_certs_80869;\n        double v_80870;\n        \n        index_primexp_90379 = mul64(next_stride_72247, gtid_80865);\n        index_certs_80868 = 0;\n        index_certs_80869 = 0;\n        v_80870 = ((__global double *) mem_param_92948)[index_primexp_90379 * dim_48135 + gtid_slice_80864];\n        ((__global double *) mem_93307)[gtid_80865 * dim_48135 + gtid_slice_80864] = v_80870;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80861\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80876_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80876(__global int *global_failure, int64_t next_stride_72247, int64_t num_merges_72251, __global unsigned char *mem_param_92951, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93310)\n{\n    #define segmap_tblock_sizze_80872 (sort_for_Skyline_doublezisegmap_80876zisegmap_tblock_sizze_80872)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96514;\n    int32_t tblock_sizze_96517;\n    int32_t wave_sizze_96516;\n    int32_t block_id_96515;\n    int32_t global_tid_96513;\n    int64_t phys_tid_80876;\n    int64_t global_tid_96518;\n    int64_t slice_96519;\n    int64_t gtid_80875;\n    int64_t remnant_96520;\n    \n    local_tid_96514 = get_local_id(0);\n    tblock_sizze_96517 = get_local_size(0);\n    wave_sizze_96516 = LOCKSTEP_WIDTH;\n    block_id_96515 = get_tblock_id(0);\n    global_tid_96513 = block_id_96515 * tblock_sizze_96517 + local_tid_96514;\n    phys_tid_80876 = sext_i32_i64(global_tid_96513);\n    global_tid_96518 = sext_i32_i64(block_id_96515) * segmap_tblock_sizze_80872 + sext_i32_i64(local_tid_96514);\n    slice_96519 = num_merges_72251;\n    gtid_80875 = global_tid_96518;\n    remnant_96520 = global_tid_96518 - gtid_80875;\n    if (slt64(gtid_80875, num_merges_72251)) {\n        int64_t index_primexp_90376;\n        bool index_certs_80878;\n        b", "ool index_certs_80879;\n        int64_t head_res_80880;\n        \n        index_primexp_90376 = mul64(next_stride_72247, gtid_80875);\n        index_certs_80878 = 0;\n        index_certs_80879 = 0;\n        head_res_80880 = ((__global int64_t *) mem_param_92951)[index_primexp_90376];\n        ((__global int64_t *) mem_93310)[gtid_80875] = head_res_80880;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80872\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80890_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80890(__global int *global_failure, int64_t stride_72246, int64_t next_stride_72247, int64_t num_merges_72251, __global unsigned char *mem_param_92944, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93293, __global unsigned char *mem_93300)\n{\n    #define segmap_tblock_sizze_80885 (sort_for_Skyline_doublezisegmap_80890zisegmap_tblock_sizze_80885)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96523;\n    int32_t tblock_sizze_96526;\n    int32_t wave_sizze_96525;\n    int32_t block_id_96524;\n    int32_t global_tid_96522;\n    int64_t phys_tid_80890;\n    int64_t global_tid_96527;\n    int64_t slice_96528;\n    int64_t gtid_80889;\n    int64_t remnant_96529;\n    \n    local_tid_96523 = get_local_id(0);\n    tblock_sizze_96526 = get_local_size(0);\n    wave_sizze_96525 = LOCKSTEP_WIDTH;\n    block_id_96524 = get_tblock_id(0);\n    global_tid_96522 = block_id_96524 * tblock_sizze_96526 + local_tid_96523;\n    phys_tid_80890 = sext_i32_i64(global_tid_96522);\n    global_tid_96527 = sext_i32_i64(block_id_96524) * segmap_tblock_sizze_80885 + sext_i32_i64(local_tid_96523);\n    slice_96528 = num_merges_72251;\n    gtid_80889 = global_tid_96527;\n    remnant_96529 = global_tid_96527 - gtid_80889;\n    if (slt64(gtid_80889, num_merges_72251)) {\n        int64_t index_primexp_90385;\n        bool index_certs_80892;\n        bool index_certs_80893;\n        int64_t slice_80894;\n        int64_t head_res_8",
                                    "0895;\n        \n        index_primexp_90385 = mul64(next_stride_72247, gtid_80889);\n        index_certs_80892 = 0;\n        index_certs_80893 = 0;\n        slice_80894 = stride_72246 + index_primexp_90385;\n        head_res_80895 = ((__global int64_t *) mem_param_92944)[slice_80894];\n        ((__global int64_t *) mem_93300)[gtid_80889] = slice_80894;\n        ((__global int64_t *) mem_93293)[gtid_80889] = head_res_80895;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80885\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80903_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80903(__global int *global_failure, int64_t dim_48135, int64_t num_merges_72251, __global unsigned char *mem_param_92948, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93297, __global unsigned char *mem_93300)\n{\n    #define segmap_tblock_sizze_80898 (sort_for_Skyline_doublezisegmap_80903zisegmap_tblock_sizze_80898)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96532;\n    int32_t tblock_sizze_96535;\n    int32_t wave_sizze_96534;\n    int32_t block_id_96533;\n    int32_t global_tid_96531;\n    int64_t phys_tid_80903;\n    int64_t global_tid_96536;\n    int64_t slice_96537;\n    int64_t slice_96538;\n    int64_t gtid_80902;\n    int64_t remnant_96539;\n    int64_t gtid_slice_80901;\n    int64_t remnant_96540;\n    \n    local_tid_96532 = get_local_id(0);\n    tblock_sizze_96535 = get_local_size(0);\n    wave_sizze_96534 = LOCKSTEP_WIDTH;\n    block_id_96533 = get_tblock_id(0);\n    global_tid_96531 = block_id_96533 * tblock_sizze_96535 + local_tid_96532;\n    phys_tid_80903 = sext_i32_i64(global_tid_96531);\n    global_tid_96536 = sext_i32_i64(block_id_96533) * segmap_tblock_sizze_80898 + sext_i32_i64(local_tid_96532);\n    slice_96537 = dim_48135;\n    slice_96538 = num_merges_72251 * slice_96537;\n    gtid_80902 = squot64(global_tid_96536, slice_96537);\n    remnant_96539 = global_tid_96536 - gtid_80902 * slice_96537;\n   ", " gtid_slice_80901 = remnant_96539;\n    remnant_96540 = remnant_96539 - gtid_slice_80901;\n    if (slt64(gtid_80902, num_merges_72251) && slt64(gtid_slice_80901, dim_48135)) {\n        bool index_certs_80904;\n        bool index_certs_80905;\n        int64_t slice_80906;\n        double v_80907;\n        \n        index_certs_80904 = 0;\n        index_certs_80905 = 0;\n        slice_80906 = ((__global int64_t *) mem_93300)[gtid_80902];\n        v_80907 = ((__global double *) mem_param_92948)[slice_80906 * dim_48135 + gtid_slice_80901];\n        ((__global double *) mem_93297)[gtid_80902 * dim_48135 + gtid_slice_80901] = v_80907;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80898\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80913_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80913(__global int *global_failure, int64_t num_merges_72251, __global unsigned char *mem_param_92951, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93300)\n{\n    #define segmap_tblock_sizze_80909 (sort_for_Skyline_doublezisegmap_80913zisegmap_tblock_sizze_80909)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96543;\n    int32_t tblock_sizze_96546;\n    int32_t wave_sizze_96545;\n    int32_t block_id_96544;\n    int32_t global_tid_96542;\n    int64_t phys_tid_80913;\n    int64_t global_tid_96547;\n    int64_t slice_96548;\n    int64_t gtid_80912;\n    int64_t remnant_96549;\n    \n    local_tid_96543 = get_local_id(0);\n    tblock_sizze_96546 = get_local_size(0);\n    wave_sizze_96545 = LOCKSTEP_WIDTH;\n    block_id_96544 = get_tblock_id(0);\n    global_tid_96542 = block_id_96544 * tblock_sizze_96546 + local_tid_96543;\n    phys_tid_80913 = sext_i32_i64(global_tid_96542);\n    global_tid_96547 = sext_i32_i64(block_id_96544) * segmap_tblock_sizze_80909 + sext_i32_i64(local_tid_96543);\n    slice_96548 = num_merges_72251;\n    gtid_80912 = global_tid_96547;\n    remnant_96549 = global_tid_96547 - gtid_80912;\n    if (slt64", "(gtid_80912, num_merges_72251)) {\n        bool index_certs_80914;\n        bool index_certs_80915;\n        int64_t slice_80916;\n        int64_t head_res_80917;\n        \n        index_certs_80914 = 0;\n        index_certs_80915 = 0;\n        slice_80916 = ((__global int64_t *) mem_93300)[gtid_80912];\n        head_res_80917 = ((__global int64_t *) mem_param_92951)[slice_80916];\n        ((__global int64_t *) mem_93300)[gtid_80912] = head_res_80917;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_80909\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_80938_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_80938(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t loop_dz2084Uz2082U_72241, int64_t stride_72246, int64_t next_stride_72247, int64_t num_merges_72251, int64_t j_m_i_72268, int64_t num_tblocks_80932, int64_t binop_y_93351, int32_t virt_num_tblocks_96614, __global unsigned char *mem_param_92944, __global unsigned char *mem_param_92951, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93334, __global unsigned char *mem_93345, __global unsigned char *mem_93362, __global unsigned char *mem_93373, __global unsigned char *mem_93407, __global unsigned char *mem_93424, __global unsigned char *mem_93435)\n{\n    #define segmap_tblock_sizze_80931 (sort_for_Skyline_doublezisegmap_80938zisegmap_tblock_sizze_80931)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96616;\n    int32_t tblock_sizze_96619;\n    int32_t wave_sizze_96618;\n    int32_t block_id_96617;\n    int32_t global_tid_96615;\n    int64_t phys_tid_80938;\n    int32_t phys_tblock_id_96620;\n    int32_t iterations_96621;\n    \n    local_tid_96616 = get_local_id(0);\n    tbloc",
                                    "k_sizze_96619 = get_local_size(0);\n    wave_sizze_96618 = LOCKSTEP_WIDTH;\n    block_id_96617 = get_tblock_id(0);\n    global_tid_96615 = block_id_96617 * tblock_sizze_96619 + local_tid_96616;\n    phys_tid_80938 = sext_i32_i64(global_tid_96615);\n    phys_tblock_id_96620 = get_tblock_id(0);\n    iterations_96621 = sdiv_up32(virt_num_tblocks_96614 - phys_tblock_id_96620, sext_i64_i32(num_tblocks_80932));\n    for (int32_t i_96622 = 0; i_96622 < iterations_96621; i_96622++) {\n        int32_t virt_tblock_id_96623;\n        int64_t global_tid_96624;\n        int64_t slice_96625;\n        int64_t gtid_80937;\n        int64_t remnant_96626;\n        \n        virt_tblock_id_96623 = phys_tblock_id_96620 + i_96622 * sext_i64_i32(num_tblocks_80932);\n        global_tid_96624 = sext_i32_i64(virt_tblock_id_96623) * segmap_tblock_sizze_80931 + sext_i32_i64(local_tid_96616);\n        slice_96625 = num_merges_72251;\n        gtid_80937 = global_tid_96624;\n        remnant_96626 = global_tid_96624 - gtid_80937;\n        if (slt64(gtid_80937, num_merges_72251)) {\n            int64_t index_primexp_90373;\n            bool index_certs_80940;\n            bool index_certs_80941;\n            int64_t data_80945;\n            int64_t i_80950;\n            \n            index_primexp_90373 = mul64(next_stride_72247, gtid_80937);\n            index_certs_80940 = 0;\n            index_certs_80941 = 0;\n            i_80950 = (int64_t) 0;\n            for (int64_t k_80949 = 0; k_80949 < next_stride_72247; k_80949++) {\n                int64_t j_80954;\n                bool cond_80955;\n                bool x_94892;\n                bool cond_80957;\n                bool x_80959;\n                bool y_80960;\n                bool bounds_check_80961;\n                bool loop_not_taken_94884;\n                bool protect_assert_disj_94885;\n                bool protect_assert_disj_94895;\n                bool index_certs_80962;\n                int64_t slice_80963;\n                int64_t slice_80964;\n                bool prot", "ect_cond_conj_94896;\n                int64_t leq_arg1_80965;\n                bool x_80966;\n                bool bounds_check_80967;\n                bool protect_assert_disj_94889;\n                bool protect_assert_disj_94898;\n                bool index_certs_80968;\n                int64_t slice_80969;\n                int64_t leq_arg0_80970;\n                bool lifted_lambda_res_80971;\n                bool x_95068;\n                bool cond_80956;\n                bool protect_assert_disj_94661;\n                bool index_certs_80988;\n                bool loop_not_taken_94656;\n                bool protect_assert_disj_94657;\n                bool index_certs_80980;\n                int64_t ext_93386;\n                int64_t loopres_80972;\n                int64_t loopres_80973;\n                int64_t loopres_80975;\n                int64_t i_tmp_96627;\n                \n                j_80954 = sub64(k_80949, i_80950);\n                cond_80955 = j_80954 == j_m_i_72268;\n                x_94892 = !cond_80955;\n                cond_80957 = slt64(i_80950, stride_72246);\n                x_80959 = sle64((int64_t) 0, j_80954);\n                y_80960 = slt64(j_80954, j_m_i_72268);\n                bounds_check_80961 = x_80959 && y_80960;\n                loop_not_taken_94884 = !cond_80957;\n                protect_assert_disj_94885 = bounds_check_80961 || loop_not_taken_94884;\n                protect_assert_disj_94895 = cond_80955 || protect_assert_disj_94885;\n                if (!protect_assert_disj_94895) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 67) == -1) {\n                            global_failure_args[0] = (int64_t) j_80954;\n                            global_failure_args[1] = (int64_t) j_m_i_72268;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_80963 = stride_72246 ", "+ j_80954;\n                slice_80964 = slice_80963 + index_primexp_90373;\n                protect_cond_conj_94896 = cond_80957 && x_94892;\n                if (protect_cond_conj_94896) {\n                    int64_t x_94886 = ((__global int64_t *) mem_param_92944)[slice_80964];\n                    \n                    leq_arg1_80965 = x_94886;\n                } else {\n                    leq_arg1_80965 = (int64_t) 0;\n                }\n                x_80966 = sle64((int64_t) 0, i_80950);\n                bounds_check_80967 = cond_80957 && x_80966;\n                protect_assert_disj_94889 = bounds_check_80967 || loop_not_taken_94884;\n                protect_assert_disj_94898 = cond_80955 || protect_assert_disj_94889;\n                if (!protect_assert_disj_94898) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 68) == -1) {\n                            global_failure_args[0] = (int64_t) i_80950;\n                            global_failure_args[1] = (int64_t) stride_72246;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_80969 = i_80950 + index_primexp_90373;\n                if (protect_cond_conj_94896) {\n                    int64_t x_94890 = ((__global int64_t *) mem_param_92944)[slice_80969];\n                    \n                    leq_arg0_80970 = x_94890;\n                } else {\n                    leq_arg0_80970 = (int64_t) 0;\n                }\n                lifted_lambda_res_80971 = sle64(leq_arg0_80970, leq_arg1_80965);\n                x_95068 = cond_80957 && lifted_lambda_res_80971;\n                cond_80956 = cond_80955 || x_95068;\n                protect_assert_disj_94661 = cond_80956 || bounds_check_80961;\n                if (!protect_assert_disj_94661) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 69) == ",
                                    "-1) {\n                            global_failure_args[0] = (int64_t) j_80954;\n                            global_failure_args[1] = (int64_t) j_m_i_72268;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_94656 = !cond_80956;\n                protect_assert_disj_94657 = bounds_check_80967 || loop_not_taken_94656;\n                if (!protect_assert_disj_94657) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 70) == -1) {\n                            global_failure_args[0] = (int64_t) i_80950;\n                            global_failure_args[1] = (int64_t) stride_72246;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_80956) {\n                    ext_93386 = slice_80969;\n                } else {\n                    ext_93386 = slice_80964;\n                }\n                if (cond_80956) {\n                    int64_t tmp_80976;\n                    int64_t tmp_80982;\n                    int64_t tmp_80984;\n                    \n                    tmp_80976 = add64((int64_t) 1, i_80950);\n                    tmp_80982 = ((__global int64_t *) mem_param_92944)[slice_80969];\n                    tmp_80984 = ((__global int64_t *) mem_param_92951)[slice_80969];\n                    loopres_80972 = tmp_80976;\n                    loopres_80973 = tmp_80982;\n                    loopres_80975 = tmp_80984;\n                } else {\n                    int64_t tmp_80991;\n                    int64_t tmp_80993;\n                    \n                    tmp_80991 = ((__global int64_t *) mem_param_92944)[slice_80964];\n                    tmp_80993 = ((__global int64_t *) mem_param_92951)[slice_80964];\n                    loopres_80972 = i_8", "0950;\n                    loopres_80973 = tmp_80991;\n                    loopres_80975 = tmp_80993;\n                }\n                ((__global int64_t *) mem_93334)[gtid_80937 + k_80949 * num_merges_72251] = loopres_80973;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) mem_93362)[gtid_80937 + k_80949 * binop_y_93351 + i_0 * num_merges_72251] = ((__global double *) mem_93373)[ext_93386 + i_0 * loop_dz2084Uz2082U_72241];\n                }\n                ((__global int64_t *) mem_93345)[gtid_80937 + k_80949 * num_merges_72251] = loopres_80975;\n                i_tmp_96627 = loopres_80972;\n                i_80950 = i_tmp_96627;\n            }\n            data_80945 = i_80950;\n            for (int64_t i_0 = 0; i_0 < next_stride_72247; i_0++) {\n                ((__global int64_t *) mem_93407)[gtid_80937 + i_0 * num_merges_72251] = ((__global int64_t *) mem_93334)[gtid_80937 + i_0 * num_merges_72251];\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_72247; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__global double *) mem_93424)[gtid_80937 + (i_0 * (num_merges_72251 * dim_48135) + i_1 * num_merges_72251)] = ((__global double *) mem_93362)[gtid_80937 + (i_0 * binop_y_93351 + i_1 * num_merges_72251)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_72247; i_0++) {\n                ((__global int64_t *) mem_93435)[gtid_80937 + i_0 * num_merges_72251] = ((__global int64_t *) mem_93345)[gtid_80937 + i_0 * num_merges_72251];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_80931\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81282_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_8128", "2(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t merge_block_sizze_67302, int64_t stride_72246, int64_t next_stride_72247, int64_t num_merges_72251, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, int64_t j_m_i_72268, __global unsigned char *mem_param_92944, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_92958, __global unsigned char *mem_92961)\n{\n    #define segmap_tblock_sizze_81276 (sort_for_Skyline_doublezisegmap_81282zisegmap_tblock_sizze_81276)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96718;\n    int32_t tblock_sizze_96721;\n    int32_t wave_sizze_96720;\n    int32_t block_id_96719;\n    int32_t global_tid_96717;\n    int64_t phys_tid_81282;\n    int64_t global_tid_96722;\n    int64_t slice_96723;\n    int64_t slice_96724;\n    int64_t gtid_81280;\n    int64_t remnant_96725;\n    int64_t gtid_81281;\n    int64_t remnant_96726;\n    \n    local_tid_96718 = get_local_id(0);\n    tblock_sizze_96721 = get_local_size(0);\n    wave_sizze_96720 = LOCKSTEP_WIDTH;\n    block_id_96719 = get_tblock_id(0);\n    global_tid_96717 = block_id_96719 * tblock_sizze_96721 + local_tid_96718;\n    phys_tid_81282 = sext_i32_i64(global_tid_96717);\n    global_tid_96722 = sext_i32_i64(block_id_96719) * segmap_tblock_sizze_81276 + sext_i32_i64(local_tid_96718);\n    slice_96723 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n    slice_96724 = num_merges_72251 * slice_96723;\n    gtid_81280 = squot64(global_tid_96722, slice_96723);\n    remnant_96725 = global_tid_96722 - gtid_81280 * slice_96723;\n    gtid_81281 = remnant_96725;\n    remnant_96726 = remnant_96725 - gtid_81281;\n    if (slt64(gtid_81280, num_merges_72251) && slt64(gtid_81281, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267)) {\n        int64_t index_primexp_90397;\n        bool index_certs_81284;\n        bool index_certs_81285;\n       ",
                                    " int64_t split_count_arg3_81287;\n        int64_t defunc_0_split_count_res_81288;\n        int64_t defunc_0_split_count_res_81289;\n        int64_t defunc_0_split_count_res_81290;\n        int64_t defunc_0_split_count_res_81291;\n        int64_t defunc_0_split_count_res_81292;\n        bool loop_cond_81293;\n        bool defunc_0_split_count_res_81294;\n        int64_t defunc_0_split_count_res_81295;\n        int64_t defunc_0_split_count_res_81296;\n        int64_t defunc_0_split_count_res_81297;\n        int64_t defunc_0_split_count_res_81298;\n        int64_t defunc_0_split_count_res_81299;\n        bool loop_while_81300;\n        int64_t ss_81301;\n        int64_t ss_81302;\n        int64_t tt_81303;\n        int64_t tt_81304;\n        int64_t count_81305;\n        \n        index_primexp_90397 = mul64(next_stride_72247, gtid_81280);\n        index_certs_81284 = 0;\n        index_certs_81285 = 0;\n        split_count_arg3_81287 = mul64(merge_block_sizze_67302, gtid_81281);\n        futrts_lifted_normalizze_10027(&defunc_0_split_count_res_81288, &defunc_0_split_count_res_81289, &defunc_0_split_count_res_81290, &defunc_0_split_count_res_81291, &defunc_0_split_count_res_81292, (int64_t) 0, stride_72246, (int64_t) 0, j_m_i_72268, split_count_arg3_81287);\n        loop_cond_81293 = slt64((int64_t) 0, defunc_0_split_count_res_81292);\n        loop_while_81300 = loop_cond_81293;\n        ss_81301 = defunc_0_split_count_res_81288;\n        ss_81302 = defunc_0_split_count_res_81289;\n        tt_81303 = defunc_0_split_count_res_81290;\n        tt_81304 = defunc_0_split_count_res_81291;\n        count_81305 = defunc_0_split_count_res_81292;\n        while (loop_while_81300) {\n            int64_t zlze_lhs_81306;\n            bool cond_81307;\n            int64_t defunc_0_lifted_step_res_81308;\n            int64_t defunc_0_lifted_step_res_81309;\n            int64_t defunc_0_lifted_step_res_81310;\n            int64_t defunc_0_lifted_step_res_81311;\n            int64_t loopres_81374;\n            int64_t loopres", "_81375;\n            int64_t loopres_81376;\n            int64_t loopres_81377;\n            int64_t loopres_81378;\n            bool loop_cond_81379;\n            bool loop_while_tmp_96727;\n            int64_t ss_tmp_96728;\n            int64_t ss_tmp_96729;\n            int64_t tt_tmp_96730;\n            int64_t tt_tmp_96731;\n            int64_t count_tmp_96732;\n            \n            zlze_lhs_81306 = sub64(ss_81302, ss_81301);\n            cond_81307 = sle64(zlze_lhs_81306, (int64_t) 0);\n            if (cond_81307) {\n                int64_t tmp_81312 = add64(tt_81303, count_81305);\n                \n                defunc_0_lifted_step_res_81308 = ss_81301;\n                defunc_0_lifted_step_res_81309 = tmp_81312;\n                defunc_0_lifted_step_res_81310 = tt_81304;\n                defunc_0_lifted_step_res_81311 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_81313;\n                bool cond_81314;\n                int64_t defunc_0_lifted_step_res_f_res_81315;\n                int64_t defunc_0_lifted_step_res_f_res_81316;\n                int64_t defunc_0_lifted_step_res_f_res_81317;\n                int64_t defunc_0_lifted_step_res_f_res_81318;\n                \n                zlze_lhs_81313 = sub64(tt_81304, tt_81303);\n                cond_81314 = sle64(zlze_lhs_81313, (int64_t) 0);\n                if (cond_81314) {\n                    int64_t tmp_81319 = add64(ss_81301, count_81305);\n                    \n                    defunc_0_lifted_step_res_f_res_81315 = tmp_81319;\n                    defunc_0_lifted_step_res_f_res_81316 = tt_81303;\n                    defunc_0_lifted_step_res_f_res_81317 = tt_81304;\n                    defunc_0_lifted_step_res_f_res_81318 = (int64_t) 0;\n                } else {\n                    bool cond_81320;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81321;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81322;\n                    int64_t defunc_0_lifted_step_res_f_res_f_re", "s_81323;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81324;\n                    \n                    cond_81320 = count_81305 == (int64_t) 1;\n                    if (cond_81320) {\n                        bool x_81325;\n                        bool y_81326;\n                        bool bounds_check_81327;\n                        bool index_certs_81328;\n                        bool x_81331;\n                        bool y_81332;\n                        bool bounds_check_81333;\n                        bool index_certs_81334;\n                        int64_t slice_81329;\n                        int64_t leq_arg1_81330;\n                        int64_t slice_81335;\n                        int64_t slice_81336;\n                        int64_t leq_arg0_81337;\n                        bool lifted_lambda_res_81338;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_81339;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_81340;\n                        \n                        x_81325 = sle64((int64_t) 0, ss_81301);\n                        y_81326 = slt64(ss_81301, stride_72246);\n                        bounds_check_81327 = x_81325 && y_81326;\n                        if (!bounds_check_81327) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 84) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_81301;\n                                    global_failure_args[1] = (int64_t) stride_72246;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        x_81331 = sle64((int64_t) 0, tt_81303);\n                        y_81332 = slt64(tt_81303, j_m_i_72268);\n                        bounds_check_81333 = x_81331 && y_81332;\n                        if (!bounds_check_81333) {\n                            {\n ",
                                    "                               if (atomic_cmpxchg_i32_global(global_failure, -1, 85) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_81303;\n                                    global_failure_args[1] = (int64_t) j_m_i_72268;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        slice_81329 = ss_81301 + index_primexp_90397;\n                        leq_arg1_81330 = ((__global int64_t *) mem_param_92944)[slice_81329];\n                        slice_81335 = stride_72246 + tt_81303;\n                        slice_81336 = slice_81335 + index_primexp_90397;\n                        leq_arg0_81337 = ((__global int64_t *) mem_param_92944)[slice_81336];\n                        lifted_lambda_res_81338 = sle64(leq_arg0_81337, leq_arg1_81330);\n                        if (lifted_lambda_res_81338) {\n                            int64_t tmp_81341 = add64((int64_t) 1, tt_81303);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81339 = ss_81301;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81340 = tmp_81341;\n                        } else {\n                            int64_t tmp_81342 = add64((int64_t) 1, ss_81301);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81339 = tmp_81342;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81340 = tt_81303;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81321 = defunc_0_lifted_step_res_f_res_f_res_t_res_81339;\n                        defunc_0_lifted_step_res_f_res_f_res_81322 = defunc_0_lifted_step_res_f_res_f_res_t_res_81340;\n                        defunc_0_lifted_step_res_f_res_f_res_81323 = tt_81304;\n                        defunc_0_lifted_step_res_f_res_f_res_81324 = (int64_t) 0;\n     ", "               } else {\n                        int64_t m_81343;\n                        int64_t n_81344;\n                        bool cond_81345;\n                        int64_t zgze_lhs_81346;\n                        bool cond_f_res_81347;\n                        bool x_81348;\n                        bool y_81349;\n                        bool cond_81350;\n                        bool leq_y_x_81351;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81368;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81369;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81370;\n                        \n                        m_81343 = sdiv64(count_81305, (int64_t) 2);\n                        n_81344 = sub64(count_81305, m_81343);\n                        cond_81345 = n_81344 == (int64_t) 0;\n                        zgze_lhs_81346 = add64(ss_81301, m_81343);\n                        cond_f_res_81347 = sle64(ss_81302, zgze_lhs_81346);\n                        x_81348 = !cond_81345;\n                        y_81349 = cond_f_res_81347 && x_81348;\n                        cond_81350 = cond_81345 || y_81349;\n                        if (cond_81350) {\n                            leq_y_x_81351 = 1;\n                        } else {\n                            bool x_81352;\n                            bool y_81353;\n                            bool bounds_check_81354;\n                            bool index_certs_81355;\n                            int64_t zm_lhs_81358;\n                            int64_t leq_arg0_81359;\n                            bool x_81360;\n                            bool y_81361;\n                            bool bounds_check_81362;\n                            bool index_certs_81363;\n                            int64_t slice_81356;\n                            int64_t leq_arg1_81357;\n                            int64_t slice_81364;\n                            int64_t slice_81365;\n                    ", "        int64_t leq_arg0_81366;\n                            bool lifted_lambda_res_81367;\n                            \n                            x_81352 = sle64((int64_t) 0, zgze_lhs_81346);\n                            y_81353 = slt64(zgze_lhs_81346, stride_72246);\n                            bounds_check_81354 = x_81352 && y_81353;\n                            if (!bounds_check_81354) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 86) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_81346;\n                                        global_failure_args[1] = (int64_t) stride_72246;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            zm_lhs_81358 = add64(tt_81303, n_81344);\n                            leq_arg0_81359 = sub64(zm_lhs_81358, (int64_t) 1);\n                            x_81360 = sle64((int64_t) 0, leq_arg0_81359);\n                            y_81361 = slt64(leq_arg0_81359, j_m_i_72268);\n                            bounds_check_81362 = x_81360 && y_81361;\n                            if (!bounds_check_81362) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 87) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_81359;\n                                        global_failure_args[1] = (int64_t) j_m_i_72268;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            slice_81356 = zgze_lhs_81346 + index_primexp_90397;\n                            leq_arg1_81357 = ((__global int64_t *) mem_param_92944)[slice_81356];\n         ",
                                    "                   slice_81364 = stride_72246 + leq_arg0_81359;\n                            slice_81365 = slice_81364 + index_primexp_90397;\n                            leq_arg0_81366 = ((__global int64_t *) mem_param_92944)[slice_81365];\n                            lifted_lambda_res_81367 = sle64(leq_arg0_81366, leq_arg1_81357);\n                            leq_y_x_81351 = lifted_lambda_res_81367;\n                        }\n                        if (leq_y_x_81351) {\n                            int64_t tmp_81371;\n                            int64_t tmp_81372;\n                            \n                            tmp_81371 = add64(tt_81303, n_81344);\n                            tmp_81372 = sub64(count_81305, n_81344);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81368 = tmp_81371;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81369 = tt_81304;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81370 = tmp_81372;\n                        } else {\n                            int64_t tmp_81373 = add64(tt_81303, n_81344);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81368 = tt_81303;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81369 = tmp_81373;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81370 = count_81305;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81321 = ss_81301;\n                        defunc_0_lifted_step_res_f_res_f_res_81322 = defunc_0_lifted_step_res_f_res_f_res_f_res_81368;\n                        defunc_0_lifted_step_res_f_res_f_res_81323 = defunc_0_lifted_step_res_f_res_f_res_f_res_81369;\n                        defunc_0_lifted_step_res_f_res_f_res_81324 = defunc_0_lifted_step_res_f_res_f_res_f_res_81370;\n                    }\n                    defunc_0_lifted_step_res_f_res_81315 = defunc_0_lifted_step_res_f_res_f_res_81321;\n       ", "             defunc_0_lifted_step_res_f_res_81316 = defunc_0_lifted_step_res_f_res_f_res_81322;\n                    defunc_0_lifted_step_res_f_res_81317 = defunc_0_lifted_step_res_f_res_f_res_81323;\n                    defunc_0_lifted_step_res_f_res_81318 = defunc_0_lifted_step_res_f_res_f_res_81324;\n                }\n                defunc_0_lifted_step_res_81308 = defunc_0_lifted_step_res_f_res_81315;\n                defunc_0_lifted_step_res_81309 = defunc_0_lifted_step_res_f_res_81316;\n                defunc_0_lifted_step_res_81310 = defunc_0_lifted_step_res_f_res_81317;\n                defunc_0_lifted_step_res_81311 = defunc_0_lifted_step_res_f_res_81318;\n            }\n            futrts_lifted_normalizze_10027(&loopres_81374, &loopres_81375, &loopres_81376, &loopres_81377, &loopres_81378, defunc_0_lifted_step_res_81308, ss_81302, defunc_0_lifted_step_res_81309, defunc_0_lifted_step_res_81310, defunc_0_lifted_step_res_81311);\n            loop_cond_81379 = slt64((int64_t) 0, loopres_81378);\n            loop_while_tmp_96727 = loop_cond_81379;\n            ss_tmp_96728 = loopres_81374;\n            ss_tmp_96729 = loopres_81375;\n            tt_tmp_96730 = loopres_81376;\n            tt_tmp_96731 = loopres_81377;\n            count_tmp_96732 = loopres_81378;\n            loop_while_81300 = loop_while_tmp_96727;\n            ss_81301 = ss_tmp_96728;\n            ss_81302 = ss_tmp_96729;\n            tt_81303 = tt_tmp_96730;\n            tt_81304 = tt_tmp_96731;\n            count_81305 = count_tmp_96732;\n        }\n        defunc_0_split_count_res_81294 = loop_while_81300;\n        defunc_0_split_count_res_81295 = ss_81301;\n        defunc_0_split_count_res_81296 = ss_81302;\n        defunc_0_split_count_res_81297 = tt_81303;\n        defunc_0_split_count_res_81298 = tt_81304;\n        defunc_0_split_count_res_81299 = count_81305;\n        ((__global int64_t *) mem_92958)[gtid_81280 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 + gtid_81281] = defunc_0_split_count_res_81295;\n        ", "((__global int64_t *) mem_92961)[gtid_81280 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 + gtid_81281] = defunc_0_split_count_res_81297;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81276\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81403_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81403(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t loop_dz2084Uz2082U_72241, int64_t stride_72246, int64_t next_stride_72247, int64_t num_merges_72251, int64_t num_blocks_72266, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, int64_t num_tblocks_81390, int32_t virt_num_tblocks_96733, __global unsigned char *mem_param_92944, __global unsigned char *mem_param_92951, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_92958, __global unsigned char *mem_92961, __global unsigned char *mem_92972, __global unsigned char *mem_92977, __global unsigned char *mem_92980, __global unsigned char *mem_92997, __global unsigned char *mem_93000, __global unsigned char *mem_93003, __global unsigned char *mem_93006, __global unsigned char *mem_93007, __global unsigned char *mem_93010, __global unsigned char *mem_93011)\n{\n    #define segmap_tblock_sizze_81389 (sort_for_Skyline_doublezisegmap_81403zisegmap_tblock_sizze_81389)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96735;\n    int32_t tblock_sizze_96738;\n    int32_t wave_sizze_96737;\n    int32_t block_id_96736;\n    int32_t global_tid_96734;\n    int64_t phys_tid_81403;\n    int32_t phys_tblock_id_96739;\n    int32_t iterations_96740;\n    \n    local_tid_96735 = get_local_id(0);\n    tblock_sizze_96738 = get_local_size(0);\n    wave_sizze_96737 = LOCKSTEP_WIDTH;\n    block_id_96736 = ge",
                                    "t_tblock_id(0);\n    global_tid_96734 = block_id_96736 * tblock_sizze_96738 + local_tid_96735;\n    phys_tid_81403 = sext_i32_i64(global_tid_96734);\n    phys_tblock_id_96739 = get_tblock_id(0);\n    iterations_96740 = sdiv_up32(virt_num_tblocks_96733 - phys_tblock_id_96739, sext_i64_i32(num_tblocks_81390));\n    for (int32_t i_96741 = 0; i_96741 < iterations_96740; i_96741++) {\n        int32_t virt_tblock_id_96742;\n        int64_t global_tid_96743;\n        int64_t slice_96744;\n        int64_t slice_96745;\n        int64_t gtid_81401;\n        int64_t remnant_96746;\n        int64_t gtid_81402;\n        int64_t remnant_96747;\n        \n        virt_tblock_id_96742 = phys_tblock_id_96739 + i_96741 * sext_i64_i32(num_tblocks_81390);\n        global_tid_96743 = sext_i32_i64(virt_tblock_id_96742) * segmap_tblock_sizze_81389 + sext_i32_i64(local_tid_96735);\n        slice_96744 = num_blocks_72266;\n        slice_96745 = num_merges_72251 * slice_96744;\n        gtid_81401 = squot64(global_tid_96743, slice_96744);\n        remnant_96746 = global_tid_96743 - gtid_81401 * slice_96744;\n        gtid_81402 = remnant_96746;\n        remnant_96747 = remnant_96746 - gtid_81402;\n        if (slt64(gtid_81401, num_merges_72251) && slt64(gtid_81402, num_blocks_72266)) {\n            bool y_81411;\n            bool index_certs_81413;\n            int64_t defunc_0_f_res_81414;\n            int64_t defunc_0_f_res_81415;\n            int64_t tmp_81416;\n            bool x_81417;\n            bool y_81418;\n            bool bounds_check_81419;\n            bool index_certs_81420;\n            int64_t defunc_0_f_res_81421;\n            int64_t defunc_0_f_res_81422;\n            int64_t merge_sequential_arg2_81423;\n            int64_t merge_sequential_arg2_81424;\n            int64_t j_m_i_81425;\n            bool empty_slice_81426;\n            int64_t m_81427;\n            int64_t i_p_m_t_s_81428;\n            bool zzero_leq_i_p_m_t_s_81429;\n            bool i_p_m_t_s_leq_w_81430;\n            bool zzero_lte_i_81431;\n     ", "       bool i_lte_j_81432;\n            bool y_81433;\n            bool y_81434;\n            bool forwards_ok_81435;\n            bool ok_or_empty_81436;\n            bool index_certs_81437;\n            int64_t j_m_i_81438;\n            bool empty_slice_81439;\n            int64_t m_81440;\n            int64_t i_p_m_t_s_81441;\n            bool zzero_leq_i_p_m_t_s_81442;\n            bool i_p_m_t_s_leq_w_81443;\n            bool zzero_lte_i_81444;\n            bool i_lte_j_81445;\n            bool y_81446;\n            bool y_81447;\n            bool forwards_ok_81448;\n            bool ok_or_empty_81449;\n            bool index_certs_81450;\n            bool cond_81451;\n            bool y_81460;\n            bool protect_assert_disj_94693;\n            bool index_certs_81461;\n            int64_t index_primexp_90394;\n            bool index_certs_81405;\n            bool index_certs_81406;\n            int64_t slice_81462;\n            int64_t slice_81456;\n            int64_t ext_92974;\n            int64_t dummy_81452;\n            int64_t dummy_81454;\n            \n            y_81411 = slt64(gtid_81402, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);\n            if (!y_81411) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 88) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_81402;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_81414 = ((__global int64_t *) mem_92958)[gtid_81401 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 + gtid_81402];\n            defunc_0_f_res_81415 = ((__global int64_t *) mem_92961)[gtid_81401 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 + gtid_81402];\n            tmp_81416 = add64((int64_t) 1, gtid_81402);\n            x_81417 = sle64((int64_t) 0, tmp_81416);\n      ", "      y_81418 = slt64(tmp_81416, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);\n            bounds_check_81419 = x_81417 && y_81418;\n            if (!bounds_check_81419) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 89) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_81416;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_81421 = ((__global int64_t *) mem_92958)[gtid_81401 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 + tmp_81416];\n            defunc_0_f_res_81422 = ((__global int64_t *) mem_92961)[gtid_81401 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 + tmp_81416];\n            merge_sequential_arg2_81423 = add64(stride_72246, defunc_0_f_res_81415);\n            merge_sequential_arg2_81424 = add64(stride_72246, defunc_0_f_res_81422);\n            j_m_i_81425 = sub64(merge_sequential_arg2_81424, merge_sequential_arg2_81423);\n            empty_slice_81426 = j_m_i_81425 == (int64_t) 0;\n            m_81427 = sub64(j_m_i_81425, (int64_t) 1);\n            i_p_m_t_s_81428 = add64(merge_sequential_arg2_81423, m_81427);\n            zzero_leq_i_p_m_t_s_81429 = sle64((int64_t) 0, i_p_m_t_s_81428);\n            i_p_m_t_s_leq_w_81430 = slt64(i_p_m_t_s_81428, next_stride_72247);\n            zzero_lte_i_81431 = sle64((int64_t) 0, merge_sequential_arg2_81423);\n            i_lte_j_81432 = sle64(merge_sequential_arg2_81423, merge_sequential_arg2_81424);\n            y_81433 = i_p_m_t_s_leq_w_81430 && zzero_lte_i_81431;\n            y_81434 = zzero_leq_i_p_m_t_s_81429 && y_81433;\n            forwards_ok_81435 = i_lte_j_81432 && y_81434;\n            ok_or_empty_81436 = empty_slice_81426 || forwards_ok_81435;\n            if (!ok_or_empty_81436) {\n                {\n                    if (at",
                                    "omic_cmpxchg_i32_global(global_failure, -1, 90) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_81423;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_81424;\n                        global_failure_args[2] = (int64_t) next_stride_72247;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            j_m_i_81438 = sub64(defunc_0_f_res_81421, defunc_0_f_res_81414);\n            empty_slice_81439 = j_m_i_81438 == (int64_t) 0;\n            m_81440 = sub64(j_m_i_81438, (int64_t) 1);\n            i_p_m_t_s_81441 = add64(defunc_0_f_res_81414, m_81440);\n            zzero_leq_i_p_m_t_s_81442 = sle64((int64_t) 0, i_p_m_t_s_81441);\n            i_p_m_t_s_leq_w_81443 = slt64(i_p_m_t_s_81441, next_stride_72247);\n            zzero_lte_i_81444 = sle64((int64_t) 0, defunc_0_f_res_81414);\n            i_lte_j_81445 = sle64(defunc_0_f_res_81414, defunc_0_f_res_81421);\n            y_81446 = i_p_m_t_s_leq_w_81443 && zzero_lte_i_81444;\n            y_81447 = zzero_leq_i_p_m_t_s_81442 && y_81446;\n            forwards_ok_81448 = i_lte_j_81445 && y_81447;\n            ok_or_empty_81449 = empty_slice_81439 || forwards_ok_81448;\n            if (!ok_or_empty_81449) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 91) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_81414;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_81421;\n                        global_failure_args[2] = (int64_t) next_stride_72247;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            cond_81451 = slt64((int64_t) 0, j_m_i_81438);\n            y_81460 = slt64((int64_t) 0, j_m_i_81425);\n            protect_assert_disj_94693 = cond_81451 || y_81460;\n   ", "         if (!protect_assert_disj_94693) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 92) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_81425;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            index_primexp_90394 = mul64(next_stride_72247, gtid_81401);\n            index_certs_81405 = 0;\n            index_certs_81406 = 0;\n            slice_81462 = merge_sequential_arg2_81423 + index_primexp_90394;\n            slice_81456 = defunc_0_f_res_81414 + index_primexp_90394;\n            if (cond_81451) {\n                ext_92974 = slice_81456;\n            } else {\n                ext_92974 = slice_81462;\n            }\n            if (cond_81451) {\n                int64_t head_res_81457;\n                int64_t head_res_81459;\n                \n                head_res_81457 = ((__global int64_t *) mem_param_92944)[slice_81456];\n                head_res_81459 = ((__global int64_t *) mem_param_92951)[slice_81456];\n                dummy_81452 = head_res_81457;\n                dummy_81454 = head_res_81459;\n            } else {\n                int64_t head_res_81463;\n                int64_t head_res_81465;\n                \n                head_res_81463 = ((__global int64_t *) mem_param_92944)[slice_81462];\n                head_res_81465 = ((__global int64_t *) mem_param_92951)[slice_81462];\n                dummy_81452 = head_res_81463;\n                dummy_81454 = head_res_81465;\n            }\n            ((__global int64_t *) mem_92977)[gtid_81401 * num_blocks_72266 + gtid_81402] = dummy_81452;\n            ((__global int64_t *) mem_92980)[gtid_81401 * num_blocks_72266 + gtid_81402] = dummy_81454;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_92997)[gtid_81401 * num_blo", "cks_72266 + gtid_81402 + i_0 * (num_blocks_72266 * num_merges_72251)] = ((__global double *) mem_92972)[ext_92974 + i_0 * loop_dz2084Uz2082U_72241];\n            }\n            ((__global int64_t *) mem_93000)[gtid_81401 * num_blocks_72266 + gtid_81402] = defunc_0_f_res_81414;\n            ((__global int64_t *) mem_93003)[gtid_81401 * num_blocks_72266 + gtid_81402] = merge_sequential_arg2_81423;\n            ((__global int64_t *) mem_93006)[gtid_81401 * num_blocks_72266 + gtid_81402] = j_m_i_81425;\n            ((__global int64_t *) mem_93010)[gtid_81401 * num_blocks_72266 + gtid_81402] = j_m_i_81438;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_81389\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81485_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81485(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t merge_block_sizze_67302, int64_t loop_dz2084Uz2082U_72241, int64_t next_stride_72247, int64_t num_merges_72251, int64_t num_blocks_72266, int64_t nest_sizze_81388, int64_t num_tblocks_81478, int64_t binop_y_93070, int32_t virt_num_tblocks_96820, __global unsigned char *mem_param_92944, __global unsigned char *mem_param_92951, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_92972, __global unsigned char *mem_93000, __global unsigned char *mem_93003, __global unsigned char *mem_93006, __global unsigned char *mem_93007, __global unsigned char *mem_93010, __global unsigned char *mem_93011, __global unsigned char *mem_93041, __global unsigned char *mem_93058, __global unsigned char *mem_93082, __global unsigned char *mem_93132, __global unsigned char *mem_93156, __global unsigned char *mem_93173)\n{\n    #define segmap_tblock_siz",
                                    "ze_81477 (sort_for_Skyline_doublezisegmap_81485zisegmap_tblock_sizze_81477)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96822;\n    int32_t tblock_sizze_96825;\n    int32_t wave_sizze_96824;\n    int32_t block_id_96823;\n    int32_t global_tid_96821;\n    int64_t phys_tid_81485;\n    int32_t phys_tblock_id_96826;\n    int32_t iterations_96827;\n    \n    local_tid_96822 = get_local_id(0);\n    tblock_sizze_96825 = get_local_size(0);\n    wave_sizze_96824 = LOCKSTEP_WIDTH;\n    block_id_96823 = get_tblock_id(0);\n    global_tid_96821 = block_id_96823 * tblock_sizze_96825 + local_tid_96822;\n    phys_tid_81485 = sext_i32_i64(global_tid_96821);\n    phys_tblock_id_96826 = get_tblock_id(0);\n    iterations_96827 = sdiv_up32(virt_num_tblocks_96820 - phys_tblock_id_96826, sext_i64_i32(num_tblocks_81478));\n    for (int32_t i_96828 = 0; i_96828 < iterations_96827; i_96828++) {\n        int32_t virt_tblock_id_96829;\n        int64_t global_tid_96830;\n        int64_t slice_96831;\n        int64_t slice_96832;\n        int64_t gtid_81483;\n        int64_t remnant_96833;\n        int64_t gtid_81484;\n        int64_t remnant_96834;\n        \n        virt_tblock_id_96829 = phys_tblock_id_96826 + i_96828 * sext_i64_i32(num_tblocks_81478);\n        global_tid_96830 = sext_i32_i64(virt_tblock_id_96829) * segmap_tblock_sizze_81477 + sext_i32_i64(local_tid_96822);\n        slice_96831 = num_blocks_72266;\n        slice_96832 = num_merges_72251 * slice_96831;\n        gtid_81483 = squot64(global_tid_96830, slice_96831);\n        remnant_96833 = global_tid_96830 - gtid_81483 * slice_96831;\n        gtid_81484 = remnant_96833;\n        remnant_96834 = remnant_96833 - gtid_81484;\n        if (slt64(gtid_81483, num_merges_72251) && slt64(gtid_81484, num_blocks_72266)) {\n            int64_t index_primexp_9", "0391;\n            bool index_certs_81487;\n            bool index_certs_81488;\n            int64_t defunc_0_f_res_81489;\n            int64_t merge_sequential_arg2_81490;\n            int64_t j_m_i_81491;\n            bool index_certs_81492;\n            int64_t j_m_i_81493;\n            bool index_certs_81494;\n            int64_t binop_x_93094;\n            int64_t lmad_arg_93095;\n            int64_t data_81498;\n            int64_t i_81503;\n            \n            index_primexp_90391 = mul64(next_stride_72247, gtid_81483);\n            index_certs_81487 = 0;\n            index_certs_81488 = 0;\n            defunc_0_f_res_81489 = ((__global int64_t *) mem_93000)[gtid_81483 * num_blocks_72266 + gtid_81484];\n            merge_sequential_arg2_81490 = ((__global int64_t *) mem_93003)[gtid_81483 * num_blocks_72266 + gtid_81484];\n            j_m_i_81491 = ((__global int64_t *) mem_93006)[gtid_81483 * num_blocks_72266 + gtid_81484];\n            index_certs_81492 = 0;\n            j_m_i_81493 = ((__global int64_t *) mem_93010)[gtid_81483 * num_blocks_72266 + gtid_81484];\n            index_certs_81494 = 0;\n            binop_x_93094 = num_blocks_72266 * gtid_81483;\n            lmad_arg_93095 = gtid_81484 + binop_x_93094;\n            i_81503 = (int64_t) 0;\n            for (int64_t k_81502 = 0; k_81502 < merge_block_sizze_67302; k_81502++) {\n                int64_t j_81507;\n                bool cond_81508;\n                bool x_94928;\n                bool cond_81510;\n                bool x_81512;\n                bool y_81513;\n                bool bounds_check_81514;\n                bool loop_not_taken_94920;\n                bool protect_assert_disj_94921;\n                bool protect_assert_disj_94931;\n                bool index_certs_81515;\n                int64_t slice_81516;\n                int64_t slice_81517;\n                bool protect_cond_conj_94932;\n                int64_t leq_arg1_81518;\n                bool x_81519;\n                bool bounds_check_81520;\n                bo", "ol protect_assert_disj_94925;\n                bool protect_assert_disj_94934;\n                bool index_certs_81521;\n                int64_t slice_81522;\n                int64_t slice_81523;\n                int64_t leq_arg0_81524;\n                bool lifted_lambda_res_81525;\n                bool x_95074;\n                bool cond_81509;\n                bool protect_assert_disj_94685;\n                bool index_certs_81543;\n                bool loop_not_taken_94680;\n                bool protect_assert_disj_94681;\n                bool index_certs_81534;\n                int64_t ext_93105;\n                int64_t loopres_81526;\n                int64_t loopres_81527;\n                int64_t loopres_81529;\n                int64_t i_tmp_96835;\n                \n                j_81507 = sub64(k_81502, i_81503);\n                cond_81508 = j_81507 == j_m_i_81491;\n                x_94928 = !cond_81508;\n                cond_81510 = slt64(i_81503, j_m_i_81493);\n                x_81512 = sle64((int64_t) 0, j_81507);\n                y_81513 = slt64(j_81507, j_m_i_81491);\n                bounds_check_81514 = x_81512 && y_81513;\n                loop_not_taken_94920 = !cond_81510;\n                protect_assert_disj_94921 = bounds_check_81514 || loop_not_taken_94920;\n                protect_assert_disj_94931 = cond_81508 || protect_assert_disj_94921;\n                if (!protect_assert_disj_94931) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 93) == -1) {\n                            global_failure_args[0] = (int64_t) j_81507;\n                            global_failure_args[1] = (int64_t) j_m_i_81491;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_81516 = merge_sequential_arg2_81490 + j_81507;\n                slice_81517 = slice_81516 + index_primexp_90391;\n                protect",
                                    "_cond_conj_94932 = cond_81510 && x_94928;\n                if (protect_cond_conj_94932) {\n                    int64_t x_94922 = ((__global int64_t *) mem_param_92944)[slice_81517];\n                    \n                    leq_arg1_81518 = x_94922;\n                } else {\n                    leq_arg1_81518 = (int64_t) 0;\n                }\n                x_81519 = sle64((int64_t) 0, i_81503);\n                bounds_check_81520 = cond_81510 && x_81519;\n                protect_assert_disj_94925 = bounds_check_81520 || loop_not_taken_94920;\n                protect_assert_disj_94934 = cond_81508 || protect_assert_disj_94925;\n                if (!protect_assert_disj_94934) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 94) == -1) {\n                            global_failure_args[0] = (int64_t) i_81503;\n                            global_failure_args[1] = (int64_t) j_m_i_81493;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_81522 = defunc_0_f_res_81489 + i_81503;\n                slice_81523 = slice_81522 + index_primexp_90391;\n                if (protect_cond_conj_94932) {\n                    int64_t x_94926 = ((__global int64_t *) mem_param_92944)[slice_81523];\n                    \n                    leq_arg0_81524 = x_94926;\n                } else {\n                    leq_arg0_81524 = (int64_t) 0;\n                }\n                lifted_lambda_res_81525 = sle64(leq_arg0_81524, leq_arg1_81518);\n                x_95074 = cond_81510 && lifted_lambda_res_81525;\n                cond_81509 = cond_81508 || x_95074;\n                protect_assert_disj_94685 = cond_81509 || bounds_check_81514;\n                if (!protect_assert_disj_94685) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 95) == -1) {\n                            ", "global_failure_args[0] = (int64_t) j_81507;\n                            global_failure_args[1] = (int64_t) j_m_i_81491;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_94680 = !cond_81509;\n                protect_assert_disj_94681 = bounds_check_81520 || loop_not_taken_94680;\n                if (!protect_assert_disj_94681) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 96) == -1) {\n                            global_failure_args[0] = (int64_t) i_81503;\n                            global_failure_args[1] = (int64_t) j_m_i_81493;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_81509) {\n                    ext_93105 = slice_81523;\n                } else {\n                    ext_93105 = slice_81517;\n                }\n                if (cond_81509) {\n                    int64_t tmp_81530;\n                    int64_t tmp_81537;\n                    int64_t tmp_81539;\n                    \n                    tmp_81530 = add64((int64_t) 1, i_81503);\n                    tmp_81537 = ((__global int64_t *) mem_param_92944)[slice_81523];\n                    tmp_81539 = ((__global int64_t *) mem_param_92951)[slice_81523];\n                    loopres_81526 = tmp_81530;\n                    loopres_81527 = tmp_81537;\n                    loopres_81529 = tmp_81539;\n                } else {\n                    int64_t tmp_81546;\n                    int64_t tmp_81548;\n                    \n                    tmp_81546 = ((__global int64_t *) mem_param_92944)[slice_81517];\n                    tmp_81548 = ((__global int64_t *) mem_param_92951)[slice_81517];\n                    loopres_81526 = i_81503;\n                    loopres_8", "1527 = tmp_81546;\n                    loopres_81529 = tmp_81548;\n                }\n                ((__global int64_t *) mem_93041)[lmad_arg_93095 + k_81502 * nest_sizze_81388] = loopres_81527;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) mem_93082)[lmad_arg_93095 + k_81502 * binop_y_93070 + i_0 * nest_sizze_81388] = ((__global double *) mem_92972)[ext_93105 + i_0 * loop_dz2084Uz2082U_72241];\n                }\n                ((__global int64_t *) mem_93058)[lmad_arg_93095 + k_81502 * nest_sizze_81388] = loopres_81529;\n                i_tmp_96835 = loopres_81526;\n                i_81503 = i_tmp_96835;\n            }\n            data_81498 = i_81503;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n                ((__global int64_t *) mem_93132)[gtid_81483 * num_blocks_72266 + gtid_81484 + i_0 * (num_blocks_72266 * num_merges_72251)] = ((__global int64_t *) mem_93041)[lmad_arg_93095 + i_0 * nest_sizze_81388];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__global double *) mem_93156)[gtid_81483 * num_blocks_72266 + gtid_81484 + (i_0 * (num_blocks_72266 * num_merges_72251 * dim_48135) + i_1 * (num_blocks_72266 * num_merges_72251))] = ((__global double *) mem_93082)[lmad_arg_93095 + (i_0 * binop_y_93070 + i_1 * nest_sizze_81388)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n                ((__global int64_t *) mem_93173)[gtid_81483 * num_blocks_72266 + gtid_81484 + i_0 * (num_blocks_72266 * num_merges_72251)] = ((__global int64_t *) mem_93058)[lmad_arg_93095 + i_0 * nest_sizze_81388];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n",
                                    "    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_81477\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83010_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83010(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xs_mem_90819, __global unsigned char *mem_90863)\n{\n    #define segmap_tblock_sizze_83005 (sort_for_Skyline_doublezisegmap_83010zisegmap_tblock_sizze_83005)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96883;\n    int32_t tblock_sizze_96886;\n    int32_t wave_sizze_96885;\n    int32_t block_id_96884;\n    int32_t global_tid_96882;\n    int64_t phys_tid_83010;\n    int64_t global_tid_96887;\n    int64_t slice_96888;\n    int64_t slice_96889;\n    int64_t gtid_83008;\n    int64_t remnant_96890;\n    int64_t gtid_83009;\n    int64_t remnant_96891;\n    \n    local_tid_96883 = get_local_id(0);\n    tblock_sizze_96886 = get_local_size(0);\n    wave_sizze_96885 = LOCKSTEP_WIDTH;\n    block_id_96884 = get_tblock_id(0);\n    global_tid_96882 = block_id_96884 * tblock_sizze_96886 + local_tid_96883;\n    phys_tid_83010 = sext_i32_i64(global_tid_96882);\n    global_tid_96887 = sext_i32_i64(block_id_96884) * segmap_tblock_sizze_83005 + sext_i32_i64(local_tid_96883);\n    slice_96888 = dim_48135;\n    slice_96889 = n_48138 * slice_96888;\n    gtid_83008 = squot64(global_tid_96887, slice_96888);\n    remnant_96890 = global_tid_96887 - gtid_83008 * slice_96888;\n    gtid_83009 = remnant_96890;\n    remnant_96891 = remnant_96890 - gtid_83009;\n    if (slt64(gtid_83008, n_48138) && slt64(gtid_83009, dim_48135)) {\n        double eta_p_83011;\n        double eta_p_83012;\n        double defunc_0_f_res_83013;\n        \n        eta_p_83011 = ((__global double *) xs_mem_90819)[gtid_83008 * dim_48135 + gtid_83009];\n        eta_p_83012 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_83009];\n        defunc_0_f_res_83013 = eta_p_83011 - eta_p_83012;\n", "        ((__global double *) mem_90863)[gtid_83008 * dim_48135 + gtid_83009] = defunc_0_f_res_83013;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83005\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83026_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83026(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_90863)\n{\n    #define segmap_tblock_sizze_83021 (sort_for_Skyline_doublezisegmap_83026zisegmap_tblock_sizze_83021)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96894;\n    int32_t tblock_sizze_96897;\n    int32_t wave_sizze_96896;\n    int32_t block_id_96895;\n    int32_t global_tid_96893;\n    int64_t phys_tid_83026;\n    int64_t global_tid_96898;\n    int64_t slice_96899;\n    int64_t slice_96900;\n    int64_t gtid_83024;\n    int64_t remnant_96901;\n    int64_t gtid_83025;\n    int64_t remnant_96902;\n    \n    local_tid_96894 = get_local_id(0);\n    tblock_sizze_96897 = get_local_size(0);\n    wave_sizze_96896 = LOCKSTEP_WIDTH;\n    block_id_96895 = get_tblock_id(0);\n    global_tid_96893 = block_id_96895 * tblock_sizze_96897 + local_tid_96894;\n    phys_tid_83026 = sext_i32_i64(global_tid_96893);\n    global_tid_96898 = sext_i32_i64(block_id_96895) * segmap_tblock_sizze_83021 + sext_i32_i64(local_tid_96894);\n    slice_96899 = dim_48135;\n    slice_96900 = n_48138 * slice_96899;\n    gtid_83024 = squot64(global_tid_96898, slice_96899);\n    remnant_96901 = global_tid_96898 - gtid_83024 * slice_96899;\n    gtid_83025 = remnant_96901;\n    remnant_96902 = remnant_96901 - gtid_83025;\n    if (slt64(gtid_83024, n_48138) && slt64(gtid_83025, dim_48135)) {\n        double eta_p_83027;\n        double eta_p_83028;\n        double defunc_0_f_res_83029;\n        \n        eta_p_83027 = ((__global double *) mem_90863)[gtid_83024 * dim_48135 + gtid_83025];\n        eta_p_83028 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_83025]", ";\n        defunc_0_f_res_83029 = eta_p_83027 / eta_p_83028;\n        ((__global double *) mem_90863)[gtid_83024 * dim_48135 + gtid_83025] = defunc_0_f_res_83029;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83021\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83038_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83038(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *mem_90863, __global unsigned char *mem_90866)\n{\n    #define segmap_tblock_sizze_83034 (sort_for_Skyline_doublezisegmap_83038zisegmap_tblock_sizze_83034)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96905;\n    int32_t tblock_sizze_96908;\n    int32_t wave_sizze_96907;\n    int32_t block_id_96906;\n    int32_t global_tid_96904;\n    int64_t phys_tid_83038;\n    int64_t global_tid_96909;\n    int64_t slice_96910;\n    int64_t gtid_83037;\n    int64_t remnant_96911;\n    \n    local_tid_96905 = get_local_id(0);\n    tblock_sizze_96908 = get_local_size(0);\n    wave_sizze_96907 = LOCKSTEP_WIDTH;\n    block_id_96906 = get_tblock_id(0);\n    global_tid_96904 = block_id_96906 * tblock_sizze_96908 + local_tid_96905;\n    phys_tid_83038 = sext_i32_i64(global_tid_96904);\n    global_tid_96909 = sext_i32_i64(block_id_96906) * segmap_tblock_sizze_83034 + sext_i32_i64(local_tid_96905);\n    slice_96910 = n_48138;\n    gtid_83037 = global_tid_96909;\n    remnant_96911 = global_tid_96909 - gtid_83037;\n    if (slt64(gtid_83037, n_48138)) {\n        double f_arg0_83040;\n        int64_t f64_res_83041;\n        \n        f_arg0_83040 = ((__global double *) mem_90863)[gtid_83037 * dim_48135];\n        f64_res_83041 = fptosi_f64_i64(f_arg0_83040);\n        ((__global int64_t *) mem_90866)[gtid_83037] = f64_res_83041;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83034\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83051_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83051(__global int *global_failure, int failure_is_an_option",
                                    ", __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_83047, int32_t virt_num_tblocks_96932, __global unsigned char *mem_90880, __global unsigned char *mem_90891, __global unsigned char *mem_90909)\n{\n    #define segmap_tblock_sizze_83046 (sort_for_Skyline_doublezisegmap_83051zisegmap_tblock_sizze_83046)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96934;\n    int32_t tblock_sizze_96937;\n    int32_t wave_sizze_96936;\n    int32_t block_id_96935;\n    int32_t global_tid_96933;\n    int64_t phys_tid_83051;\n    int32_t phys_tblock_id_96938;\n    int32_t iterations_96939;\n    \n    local_tid_96934 = get_local_id(0);\n    tblock_sizze_96937 = get_local_size(0);\n    wave_sizze_96936 = LOCKSTEP_WIDTH;\n    block_id_96935 = get_tblock_id(0);\n    global_tid_96933 = block_id_96935 * tblock_sizze_96937 + local_tid_96934;\n    phys_tid_83051 = sext_i32_i64(global_tid_96933);\n    phys_tblock_id_96938 = get_tblock_id(0);\n    iterations_96939 = sdiv_up32(virt_num_tblocks_96932 - phys_tblock_id_96938, sext_i64_i32(num_tblocks_83047));\n    for (int32_t i_96940 = 0; i_96940 < iterations_96939; i_96940++) {\n        int32_t virt_tblock_id_96941;\n        int64_t global_tid_96942;\n        int64_t slice_96943;\n        int64_t gtid_83050;\n        int64_t remnant_96944;\n        \n        virt_tblock_id_96941 = phys_tblock_id_96938 + i_96940 * sext_i64_i32(num_tblocks_83047);\n        global_tid_96942 = sext_i32_i64(virt_tblock_id_96941) * segmap_tblock_sizze_83046 + sext_i32_i64(local_tid_96934);\n        slice_96943 = n_48138;\n        gtid_83050 = global_tid_96942;\n        remnant_96944 = global_tid_96942 - gtid_83050;\n        if (slt64(gtid_83050, n_48138)) {\n            for (int64_t i_83055 = 0; i_83055 < arg_67058; i_83055+", "+) {\n                int64_t index_primexp_83057;\n                bool x_83058;\n                bool y_83059;\n                bool bounds_check_83060;\n                bool index_certs_83061;\n                double f_arg0_83062;\n                int64_t f64_res_83063;\n                \n                index_primexp_83057 = add64((int64_t) 1, i_83055);\n                x_83058 = sle64((int64_t) 0, index_primexp_83057);\n                y_83059 = slt64(index_primexp_83057, dim_48135);\n                bounds_check_83060 = x_83058 && y_83059;\n                if (!bounds_check_83060) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 103) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83057;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_83062 = ((__global double *) mem_90891)[gtid_83050 + index_primexp_83057 * n_48138];\n                f64_res_83063 = fptosi_f64_i64(f_arg0_83062);\n                ((__global int64_t *) mem_90880)[gtid_83050 + index_primexp_83057 * n_48138] = f64_res_83063;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_90909)[gtid_83050 + i_0 * n_48138] = ((__global int64_t *) mem_90880)[gtid_83050 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83046\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83071_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83071(__global int *global_failure, int64_t n_48138, int64_t ext_90914, __globa", "l unsigned char *ext_mem_90915, __global unsigned char *mem_90918)\n{\n    #define segmap_tblock_sizze_83067 (sort_for_Skyline_doublezisegmap_83071zisegmap_tblock_sizze_83067)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96948;\n    int32_t tblock_sizze_96951;\n    int32_t wave_sizze_96950;\n    int32_t block_id_96949;\n    int32_t global_tid_96947;\n    int64_t phys_tid_83071;\n    int64_t global_tid_96952;\n    int64_t slice_96953;\n    int64_t gtid_83070;\n    int64_t remnant_96954;\n    \n    local_tid_96948 = get_local_id(0);\n    tblock_sizze_96951 = get_local_size(0);\n    wave_sizze_96950 = LOCKSTEP_WIDTH;\n    block_id_96949 = get_tblock_id(0);\n    global_tid_96947 = block_id_96949 * tblock_sizze_96951 + local_tid_96948;\n    phys_tid_83071 = sext_i32_i64(global_tid_96947);\n    global_tid_96952 = sext_i32_i64(block_id_96949) * segmap_tblock_sizze_83067 + sext_i32_i64(local_tid_96948);\n    slice_96953 = n_48138;\n    gtid_83070 = global_tid_96952;\n    remnant_96954 = global_tid_96952 - gtid_83070;\n    if (slt64(gtid_83070, n_48138)) {\n        int64_t f_arg0_83073;\n        int64_t max_res_83074;\n        \n        f_arg0_83073 = ((__global int64_t *) ext_mem_90915)[gtid_83070 * ext_90914];\n        max_res_83074 = smax64((int64_t) 0, f_arg0_83073);\n        ((__global int64_t *) mem_90918)[gtid_83070] = max_res_83074;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83067\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83084_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83084(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_83080, int32_t virt_num_tblocks_96975, __global unsigned char *mem_90932, __global unsigned char *mem_90943, __global unsigned char *mem_90961)\n{\n    #define segmap_tblock_sizze_83079 (sort_for_Skyline_doublezisegmap_83084zisegmap_tblock_sizze_83079)\n    \n    volatile __local int local_fai",
                                    "lure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96977;\n    int32_t tblock_sizze_96980;\n    int32_t wave_sizze_96979;\n    int32_t block_id_96978;\n    int32_t global_tid_96976;\n    int64_t phys_tid_83084;\n    int32_t phys_tblock_id_96981;\n    int32_t iterations_96982;\n    \n    local_tid_96977 = get_local_id(0);\n    tblock_sizze_96980 = get_local_size(0);\n    wave_sizze_96979 = LOCKSTEP_WIDTH;\n    block_id_96978 = get_tblock_id(0);\n    global_tid_96976 = block_id_96978 * tblock_sizze_96980 + local_tid_96977;\n    phys_tid_83084 = sext_i32_i64(global_tid_96976);\n    phys_tblock_id_96981 = get_tblock_id(0);\n    iterations_96982 = sdiv_up32(virt_num_tblocks_96975 - phys_tblock_id_96981, sext_i64_i32(num_tblocks_83080));\n    for (int32_t i_96983 = 0; i_96983 < iterations_96982; i_96983++) {\n        int32_t virt_tblock_id_96984;\n        int64_t global_tid_96985;\n        int64_t slice_96986;\n        int64_t gtid_83083;\n        int64_t remnant_96987;\n        \n        virt_tblock_id_96984 = phys_tblock_id_96981 + i_96983 * sext_i64_i32(num_tblocks_83080);\n        global_tid_96985 = sext_i32_i64(virt_tblock_id_96984) * segmap_tblock_sizze_83079 + sext_i32_i64(local_tid_96977);\n        slice_96986 = n_48138;\n        gtid_83083 = global_tid_96985;\n        remnant_96987 = global_tid_96985 - gtid_83083;\n        if (slt64(gtid_83083, n_48138)) {\n            for (int64_t i_83088 = 0; i_83088 < arg_67058; i_83088++) {\n                int64_t index_primexp_83090;\n                bool x_83091;\n                bool y_83092;\n                bool bounds_check_83093;\n                bool index_certs_83094;\n                int64_t f_arg0_83095;\n                int64_t max_res_83096;\n                \n                index_primexp_83090 = add64((int64_t) 1, i_83088);\n                x_83091 = sle64((int64_t) 0, index_pri", "mexp_83090);\n                y_83092 = slt64(index_primexp_83090, dim_48135);\n                bounds_check_83093 = x_83091 && y_83092;\n                if (!bounds_check_83093) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 104) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83090;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_83095 = ((__global int64_t *) mem_90943)[gtid_83083 + index_primexp_83090 * n_48138];\n                max_res_83096 = smax64((int64_t) 0, f_arg0_83095);\n                ((__global int64_t *) mem_90932)[gtid_83083 + index_primexp_83090 * n_48138] = max_res_83096;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_90961)[gtid_83083 + i_0 * n_48138] = ((__global int64_t *) mem_90932)[gtid_83083 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83079\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83104_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83104(__global int *global_failure, int64_t n_48138, int64_t ext_90998, __global unsigned char *mem_90840, __global unsigned char *ext_mem_90999, __global unsigned char *mem_91002)\n{\n    #define segmap_tblock_sizze_83100 (sort_for_Skyline_doublezisegmap_83104zisegmap_tblock_sizze_83100)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96992;\n    int32_t tblock_sizze_96995;\n    int32_t wave_sizze_96994;\n    int32_t block_id_96993;\n    int32_t global_t", "id_96991;\n    int64_t phys_tid_83104;\n    int64_t global_tid_96996;\n    int64_t slice_96997;\n    int64_t gtid_83103;\n    int64_t remnant_96998;\n    \n    local_tid_96992 = get_local_id(0);\n    tblock_sizze_96995 = get_local_size(0);\n    wave_sizze_96994 = LOCKSTEP_WIDTH;\n    block_id_96993 = get_tblock_id(0);\n    global_tid_96991 = block_id_96993 * tblock_sizze_96995 + local_tid_96992;\n    phys_tid_83104 = sext_i32_i64(global_tid_96991);\n    global_tid_96996 = sext_i32_i64(block_id_96993) * segmap_tblock_sizze_83100 + sext_i32_i64(local_tid_96992);\n    slice_96997 = n_48138;\n    gtid_83103 = global_tid_96996;\n    remnant_96998 = global_tid_96996 - gtid_83103;\n    if (slt64(gtid_83103, n_48138)) {\n        int64_t min_arg1_90482;\n        int64_t f_arg0_83106;\n        int64_t min_res_83107;\n        \n        min_arg1_90482 = ((__global int64_t *) mem_90840)[(int64_t) 0];\n        f_arg0_83106 = ((__global int64_t *) ext_mem_90999)[gtid_83103 * ext_90998];\n        min_res_83107 = smin64(f_arg0_83106, min_arg1_90482);\n        ((__global int64_t *) mem_91002)[gtid_83103] = min_res_83107;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83100\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83117_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83117(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_83113, int32_t virt_num_tblocks_97019, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_91016, __global unsigned char *mem_91027, __global unsigned char *mem_91045)\n{\n    #define segmap_tblock_sizze_83112 (sort_for_Skyline_doublezisegmap_83117zisegmap_tblock_sizze_83112)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n",
                                    "    \n    int32_t local_tid_97021;\n    int32_t tblock_sizze_97024;\n    int32_t wave_sizze_97023;\n    int32_t block_id_97022;\n    int32_t global_tid_97020;\n    int64_t phys_tid_83117;\n    int32_t phys_tblock_id_97025;\n    int32_t iterations_97026;\n    \n    local_tid_97021 = get_local_id(0);\n    tblock_sizze_97024 = get_local_size(0);\n    wave_sizze_97023 = LOCKSTEP_WIDTH;\n    block_id_97022 = get_tblock_id(0);\n    global_tid_97020 = block_id_97022 * tblock_sizze_97024 + local_tid_97021;\n    phys_tid_83117 = sext_i32_i64(global_tid_97020);\n    phys_tblock_id_97025 = get_tblock_id(0);\n    iterations_97026 = sdiv_up32(virt_num_tblocks_97019 - phys_tblock_id_97025, sext_i64_i32(num_tblocks_83113));\n    for (int32_t i_97027 = 0; i_97027 < iterations_97026; i_97027++) {\n        int32_t virt_tblock_id_97028;\n        int64_t global_tid_97029;\n        int64_t slice_97030;\n        int64_t gtid_83116;\n        int64_t remnant_97031;\n        \n        virt_tblock_id_97028 = phys_tblock_id_97025 + i_97027 * sext_i64_i32(num_tblocks_83113);\n        global_tid_97029 = sext_i32_i64(virt_tblock_id_97028) * segmap_tblock_sizze_83112 + sext_i32_i64(local_tid_97021);\n        slice_97030 = n_48138;\n        gtid_83116 = global_tid_97029;\n        remnant_97031 = global_tid_97029 - gtid_83116;\n        if (slt64(gtid_83116, n_48138)) {\n            for (int64_t i_83121 = 0; i_83121 < arg_67058; i_83121++) {\n                int64_t index_primexp_83123;\n                bool x_83124;\n                bool y_83125;\n                bool bounds_check_83126;\n                bool index_certs_83127;\n                bool index_certs_83129;\n                int64_t f_arg0_83128;\n                int64_t zm_lhs_83130;\n                int64_t min_arg1_83131;\n                int64_t min_res_83132;\n                \n                index_primexp_83123 = add64((int64_t) 1, i_83121);\n                x_83124 = sle64((int64_t) 0, index_primexp_83123);\n                y_83125 = slt64(index_primexp_83123, dim_48135);\n  ", "              bounds_check_83126 = x_83124 && y_83125;\n                if (!bounds_check_83126) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 105) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83123;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_83126) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 106) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83123;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_83128 = ((__global int64_t *) mem_91027)[gtid_83116 + index_primexp_83123 * n_48138];\n                zm_lhs_83130 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_83123];\n                min_arg1_83131 = sub64(zm_lhs_83130, (int64_t) 1);\n                min_res_83132 = smin64(f_arg0_83128, min_arg1_83131);\n                ((__global int64_t *) mem_91016)[gtid_83116 + index_primexp_83123 * n_48138] = min_res_83132;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_91045)[gtid_83116 + i_0 * n_48138] = ((__global int64_t *) mem_91016)[gtid_83116 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83112\n", "}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83146_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83146(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t ext_91094, int64_t ext_91095, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_91096, __global unsigned char *mem_91100)\n{\n    #define segmap_tblock_sizze_83141 (sort_for_Skyline_doublezisegmap_83146zisegmap_tblock_sizze_83141)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97036;\n    int32_t tblock_sizze_97039;\n    int32_t wave_sizze_97038;\n    int32_t block_id_97037;\n    int32_t global_tid_97035;\n    int64_t phys_tid_83146;\n    int64_t global_tid_97040;\n    int64_t slice_97041;\n    int64_t slice_97042;\n    int64_t gtid_83144;\n    int64_t remnant_97043;\n    int64_t gtid_83145;\n    int64_t remnant_97044;\n    \n    local_tid_97036 = get_local_id(0);\n    tblock_sizze_97039 = get_local_size(0);\n    wave_sizze_97038 = LOCKSTEP_WIDTH;\n    block_id_97037 = get_tblock_id(0);\n    global_tid_97035 = block_id_97037 * tblock_sizze_97039 + local_tid_97036;\n    phys_tid_83146 = sext_i32_i64(global_tid_97035);\n    global_tid_97040 = sext_i32_i64(block_id_97037) * segmap_tblock_sizze_83141 + sext_i32_i64(local_tid_97036);\n    slice_97041 = dim_48135;\n    slice_97042 = n_48138 * slice_97041;\n    gtid_83144 = squot64(global_tid_97040, slice_97041);\n    remnant_97043 = global_tid_97040 - gtid_83144 * slice_97041;\n    gtid_83145 = remnant_97043;\n    remnant_97044 = remnant_97043 - gtid_83145;\n    if (slt64(gtid_83144, n_48138) && slt64(gtid_83145, dim_48135)) {\n        int64_t eta_p_83147;\n        int64_t eta_p_83148;\n        int64_t defunc_0_f_res_83149;\n        \n        eta_p_83147 = ((__global int64_t *) ext_mem_91096)[gtid_83144 * ext_91095 + gtid_83145 * ext_91094];\n        eta_p_83148 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_83145];\n        defunc_0_f_res_83149 = mul64(eta_p_83147, eta_p_83148);\n        ((__gl",
                                    "obal int64_t *) mem_91100)[gtid_83144 * dim_48135 + gtid_83145] = defunc_0_f_res_83149;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83141\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83157_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83157(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t dz2080U_48136, int64_t n_48138, __global unsigned char *mem_91111, __global unsigned char *mem_91113, __global unsigned char *mem_91257)\n{\n    #define segmap_tblock_sizze_83152 (sort_for_Skyline_doublezisegmap_83157zisegmap_tblock_sizze_83152)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97047;\n    int32_t tblock_sizze_97050;\n    int32_t wave_sizze_97049;\n    int32_t block_id_97048;\n    int32_t global_tid_97046;\n    int64_t phys_tid_83157;\n    int64_t global_tid_97051;\n    int64_t slice_97052;\n    int64_t gtid_83156;\n    int64_t remnant_97053;\n    \n    local_tid_97047 = get_local_id(0);\n    tblock_sizze_97050 = get_local_size(0);\n    wave_sizze_97049 = LOCKSTEP_WIDTH;\n    block_id_97048 = get_tblock_id(0);\n    global_tid_97046 = block_id_97048 * tblock_sizze_97050 + local_tid_97047;\n    phys_tid_83157 = sext_i32_i64(global_tid_97046);\n    global_tid_97051 = sext_i32_i64(block_id_97048) * segmap_tblock_sizze_83152 + sext_i32_i64(local_tid_97047);\n    slice_97052 = n_48138;\n    gtid_83156 = global_tid_97051;\n    remnant_97053 = global_tid_97051 - gtid_83156;\n    if (slt64(gtid_83156, n_48138)) {\n        int64_t defunc_0_foldl_res_83159;\n        int64_t acc_83161;\n        bool x_83164;\n        bool y_83165;\n        bool bounds_check_83166;\n        bool index_certs_83167;\n        \n        acc_83161 = (int64_t) 0;\n        for (int64_t i_83160 = 0; i_83160 < dim_48135; i_83160++) {\n            int64_t b_83162;\n            int64_t defunc_0_f_res_83163;\n            int64_t acc_tmp_97054;\n            \n            b_83162 = ((__global int64_t *) mem_91111)[gt", "id_83156 + i_83160 * n_48138];\n            defunc_0_f_res_83163 = add64(acc_83161, b_83162);\n            acc_tmp_97054 = defunc_0_f_res_83163;\n            acc_83161 = acc_tmp_97054;\n        }\n        defunc_0_foldl_res_83159 = acc_83161;\n        x_83164 = sle64((int64_t) 0, defunc_0_foldl_res_83159);\n        y_83165 = slt64(defunc_0_foldl_res_83159, dz2080U_48136);\n        bounds_check_83166 = x_83164 && y_83165;\n        if (!bounds_check_83166) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 107) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_83159;\n                    global_failure_args[1] = (int64_t) dz2080U_48136;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_91257)[gtid_83156] = defunc_0_foldl_res_83159;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83152\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83177_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83177(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_91113, __global unsigned char *mem_91123, __global unsigned char *mem_91257)\n{\n    #define segmap_tblock_sizze_83172 (sort_for_Skyline_doublezisegmap_83177zisegmap_tblock_sizze_83172)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97057;\n    int32_t tblock_sizze_97060;\n    int32_t wave_sizze_97059;\n    int32_t block_id_97058;\n    int32_t global_tid_97056;\n    int64_t phys_tid_83177;\n    int64_t global_tid_97061;\n    int64_t slice_97062;\n    int64_t slice_97063;\n    int64_t gtid_83176;\n    int64_t remnant_97064;\n    int64_t gtid_slice_83175;\n    int64_t remnant_97065;\n    \n    local_tid_97057 = get_local_id(0);\n    tblock_sizze_97060 = get_local_size(0);\n    wave_sizze_97059 = LOCKSTEP_WIDTH;\n    block_id_97058 = get_tblock_id(0);\n    global_tid_97056 = block", "_id_97058 * tblock_sizze_97060 + local_tid_97057;\n    phys_tid_83177 = sext_i32_i64(global_tid_97056);\n    global_tid_97061 = sext_i32_i64(block_id_97058) * segmap_tblock_sizze_83172 + sext_i32_i64(local_tid_97057);\n    slice_97062 = dim_48135;\n    slice_97063 = n_48138 * slice_97062;\n    gtid_83176 = squot64(global_tid_97061, slice_97062);\n    remnant_97064 = global_tid_97061 - gtid_83176 * slice_97062;\n    gtid_slice_83175 = remnant_97064;\n    remnant_97065 = remnant_97064 - gtid_slice_83175;\n    if (slt64(gtid_83176, n_48138) && slt64(gtid_slice_83175, dim_48135)) {\n        int64_t defunc_0_foldl_res_83178;\n        bool index_certs_83179;\n        double v_83180;\n        \n        defunc_0_foldl_res_83178 = ((__global int64_t *) mem_91257)[gtid_83176];\n        index_certs_83179 = 0;\n        v_83180 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_83178 * dim_48135 + gtid_slice_83175];\n        ((__global double *) mem_91123)[gtid_83176 * dim_48135 + gtid_slice_83175] = v_83180;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83172\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83192_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83192(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *xs_mem_90819, __global unsigned char *mem_91123)\n{\n    #define segmap_tblock_sizze_83187 (sort_for_Skyline_doublezisegmap_83192zisegmap_tblock_sizze_83187)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97068;\n    int32_t tblock_sizze_97071;\n    int32_t wave_sizze_97070;\n    int32_t block_id_97069;\n    int32_t global_tid_97067;\n    int64_t phys_tid_83192;\n    int64_t global_tid_97072;\n    int64_t slice_97073;\n    int64_t slice_97074;\n    int64_t gtid_83190;\n    int64_t remnant_97075;\n    int64_t gtid_83191;\n    int64_t remnant_97076;\n    \n    local_tid_97068 = get_local_id(0);\n    tblock_sizze_97071 = get_local_size(0);\n    wave_sizze_97070 = LOCKSTEP_WIDTH;\n    block",
                                    "_id_97069 = get_tblock_id(0);\n    global_tid_97067 = block_id_97069 * tblock_sizze_97071 + local_tid_97068;\n    phys_tid_83192 = sext_i32_i64(global_tid_97067);\n    global_tid_97072 = sext_i32_i64(block_id_97069) * segmap_tblock_sizze_83187 + sext_i32_i64(local_tid_97068);\n    slice_97073 = dim_48135;\n    slice_97074 = n_48138 * slice_97073;\n    gtid_83190 = squot64(global_tid_97072, slice_97073);\n    remnant_97075 = global_tid_97072 - gtid_83190 * slice_97073;\n    gtid_83191 = remnant_97075;\n    remnant_97076 = remnant_97075 - gtid_83191;\n    if (slt64(gtid_83190, n_48138) && slt64(gtid_83191, dim_48135)) {\n        double eta_p_83193;\n        double eta_p_83194;\n        double defunc_0_f_res_83195;\n        \n        eta_p_83193 = ((__global double *) xs_mem_90819)[gtid_83190 * dim_48135 + gtid_83191];\n        eta_p_83194 = ((__global double *) mem_91123)[gtid_83190 * dim_48135 + gtid_83191];\n        defunc_0_f_res_83195 = eta_p_83193 - eta_p_83194;\n        ((__global double *) mem_91123)[gtid_83190 * dim_48135 + gtid_83191] = defunc_0_f_res_83195;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83187\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83214_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83214(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_83210, int32_t virt_num_tblocks_97097, __global unsigned char *mem_91137, __global unsigned char *mem_91148, __global unsigned char *mem_91166)\n{\n    #define segmap_tblock_sizze_83209 (sort_for_Skyline_doublezisegmap_83214zisegmap_tblock_sizze_83209)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97099;\n    int32_t tblock_sizze_97102;\n    int32_t wave_sizze_97", "101;\n    int32_t block_id_97100;\n    int32_t global_tid_97098;\n    int64_t phys_tid_83214;\n    int32_t phys_tblock_id_97103;\n    int32_t iterations_97104;\n    \n    local_tid_97099 = get_local_id(0);\n    tblock_sizze_97102 = get_local_size(0);\n    wave_sizze_97101 = LOCKSTEP_WIDTH;\n    block_id_97100 = get_tblock_id(0);\n    global_tid_97098 = block_id_97100 * tblock_sizze_97102 + local_tid_97099;\n    phys_tid_83214 = sext_i32_i64(global_tid_97098);\n    phys_tblock_id_97103 = get_tblock_id(0);\n    iterations_97104 = sdiv_up32(virt_num_tblocks_97097 - phys_tblock_id_97103, sext_i64_i32(num_tblocks_83210));\n    for (int32_t i_97105 = 0; i_97105 < iterations_97104; i_97105++) {\n        int32_t virt_tblock_id_97106;\n        int64_t global_tid_97107;\n        int64_t slice_97108;\n        int64_t gtid_83213;\n        int64_t remnant_97109;\n        \n        virt_tblock_id_97106 = phys_tblock_id_97103 + i_97105 * sext_i64_i32(num_tblocks_83210);\n        global_tid_97107 = sext_i32_i64(virt_tblock_id_97106) * segmap_tblock_sizze_83209 + sext_i32_i64(local_tid_97099);\n        slice_97108 = n_48138;\n        gtid_83213 = global_tid_97107;\n        remnant_97109 = global_tid_97107 - gtid_83213;\n        if (slt64(gtid_83213, n_48138)) {\n            for (int64_t i_83218 = 0; i_83218 < arg_67058; i_83218++) {\n                int64_t index_primexp_83220;\n                bool x_83221;\n                bool y_83222;\n                bool bounds_check_83223;\n                bool index_certs_83224;\n                \n                index_primexp_83220 = add64((int64_t) 1, i_83218);\n                x_83221 = sle64((int64_t) 0, index_primexp_83220);\n                y_83222 = slt64(index_primexp_83220, dim_48135);\n                bounds_check_83223 = x_83221 && y_83222;\n                if (!bounds_check_83223) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 108) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_8", "3220;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_91137)[gtid_83213 + n_48138 * index_primexp_83220 + i_0 * n_48138] = ((__global double *) mem_91148)[gtid_83213 + n_48138 * index_primexp_83220 + i_0 * n_48138];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_91166)[gtid_83213 + i_0 * n_48138] = ((__global double *) mem_91137)[gtid_83213 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83209\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83239_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83239(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t ext_90913, int64_t ext_90914, __global unsigned char *ext_mem_91172, __global unsigned char *mem_91176)\n{\n    #define segmap_tblock_sizze_83234 (sort_for_Skyline_doublezisegmap_83239zisegmap_tblock_sizze_83234)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97113;\n    int32_t tblock_sizze_97116;\n    int32_t wave_sizze_97115;\n    int32_t block_id_97114;\n    int32_t global_tid_97112;\n    int64_t phys_tid_83239;\n    int64_t global_tid_97117;\n    int64_t slice_97118;\n    int64_t slice_97119;\n    int64_t gtid_83237;\n    int64_t remnant_97120;\n    int64_t gtid_83238;\n    int64_t remnant_97121;\n    \n    local_tid_97113 = get_local_id(0);\n    tblock_sizze_97116 = get_local_size(0);\n    wave_sizze_97115 = LOCKSTEP_WIDTH;\n    block_id_",
                                    "97114 = get_tblock_id(0);\n    global_tid_97112 = block_id_97114 * tblock_sizze_97116 + local_tid_97113;\n    phys_tid_83239 = sext_i32_i64(global_tid_97112);\n    global_tid_97117 = sext_i32_i64(block_id_97114) * segmap_tblock_sizze_83234 + sext_i32_i64(local_tid_97113);\n    slice_97118 = dim_48135;\n    slice_97119 = n_48138 * slice_97118;\n    gtid_83237 = squot64(global_tid_97117, slice_97118);\n    remnant_97120 = global_tid_97117 - gtid_83237 * slice_97118;\n    gtid_83238 = remnant_97120;\n    remnant_97121 = remnant_97120 - gtid_83238;\n    if (slt64(gtid_83237, n_48138) && slt64(gtid_83238, dim_48135)) {\n        double eta_p_83240;\n        double lifted_lambda_res_83241;\n        \n        eta_p_83240 = ((__global double *) ext_mem_91172)[gtid_83237 * ext_90914 + gtid_83238 * ext_90913];\n        lifted_lambda_res_83241 = eta_p_83240 * eta_p_83240;\n        ((__global double *) mem_91176)[gtid_83237 * dim_48135 + gtid_83238] = lifted_lambda_res_83241;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83234\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83248_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83248(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *mem_91187, __global unsigned char *mem_91190)\n{\n    #define segmap_tblock_sizze_83244 (sort_for_Skyline_doublezisegmap_83248zisegmap_tblock_sizze_83244)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97124;\n    int32_t tblock_sizze_97127;\n    int32_t wave_sizze_97126;\n    int32_t block_id_97125;\n    int32_t global_tid_97123;\n    int64_t phys_tid_83248;\n    int64_t global_tid_97128;\n    int64_t slice_97129;\n    int64_t gtid_83247;\n    int64_t remnant_97130;\n    \n    local_tid_97124 = get_local_id(0);\n    tblock_sizze_97127 = get_local_size(0);\n    wave_sizze_97126 = LOCKSTEP_WIDTH;\n    block_id_97125 = get_tblock_id(0);\n    global_tid_97123 = block_id_97125 * tblock_sizze_97127 + local_tid_97124;\n    phys_tid_83248 = sext_i32_", "i64(global_tid_97123);\n    global_tid_97128 = sext_i32_i64(block_id_97125) * segmap_tblock_sizze_83244 + sext_i32_i64(local_tid_97124);\n    slice_97129 = n_48138;\n    gtid_83247 = global_tid_97128;\n    remnant_97130 = global_tid_97128 - gtid_83247;\n    if (slt64(gtid_83247, n_48138)) {\n        double defunc_0_foldl_res_83250;\n        double acc_83252;\n        double sqrt_res_83255;\n        \n        acc_83252 = 0.0;\n        for (int64_t i_83251 = 0; i_83251 < dim_48135; i_83251++) {\n            double b_83253;\n            double defunc_0_f_res_83254;\n            double acc_tmp_97131;\n            \n            b_83253 = ((__global double *) mem_91187)[gtid_83247 + i_83251 * n_48138];\n            defunc_0_f_res_83254 = acc_83252 + b_83253;\n            acc_tmp_97131 = defunc_0_f_res_83254;\n            acc_83252 = acc_tmp_97131;\n        }\n        defunc_0_foldl_res_83250 = acc_83252;\n        sqrt_res_83255 = futrts_sqrt64(defunc_0_foldl_res_83250);\n        ((__global double *) mem_91190)[gtid_83247] = sqrt_res_83255;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83244\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83290_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83290(__global int *global_failure, int64_t n_48138, int64_t map_arg1_83263, int64_t j_m_i_83264, int64_t ext_90913, int64_t ext_90914, __global unsigned char *ext_mem_91172, __global unsigned char *mem_91201)\n{\n    #define segmap_tblock_sizze_83285 (sort_for_Skyline_doublezisegmap_83290zisegmap_tblock_sizze_83285)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97138;\n    int32_t tblock_sizze_97141;\n    int32_t wave_sizze_97140;\n    int32_t block_id_97139;\n    int32_t global_tid_97137;\n    int64_t phys_tid_83290;\n    int64_t global_tid_97142;\n    int64_t slice_97143;\n    int64_t slice_97144;\n    int64_t gtid_83288;\n    int64_t remnant_97145;\n    int64_t gtid_83289;\n    int64_t remnant_97146;\n    \n    local_tid_97138 = get_local_id(0);\n    tblock_sizze_9714", "1 = get_local_size(0);\n    wave_sizze_97140 = LOCKSTEP_WIDTH;\n    block_id_97139 = get_tblock_id(0);\n    global_tid_97137 = block_id_97139 * tblock_sizze_97141 + local_tid_97138;\n    phys_tid_83290 = sext_i32_i64(global_tid_97137);\n    global_tid_97142 = sext_i32_i64(block_id_97139) * segmap_tblock_sizze_83285 + sext_i32_i64(local_tid_97138);\n    slice_97143 = j_m_i_83264;\n    slice_97144 = n_48138 * slice_97143;\n    gtid_83288 = squot64(global_tid_97142, slice_97143);\n    remnant_97145 = global_tid_97142 - gtid_83288 * slice_97143;\n    gtid_83289 = remnant_97145;\n    remnant_97146 = remnant_97145 - gtid_83289;\n    if (slt64(gtid_83288, n_48138) && slt64(gtid_83289, j_m_i_83264)) {\n        int64_t slice_90354;\n        double eta_p_83291;\n        double lifted_lambda_res_83292;\n        \n        slice_90354 = map_arg1_83263 + gtid_83289;\n        eta_p_83291 = ((__global double *) ext_mem_91172)[gtid_83288 * ext_90914 + slice_90354 * ext_90913];\n        lifted_lambda_res_83292 = eta_p_83291 * eta_p_83291;\n        ((__global double *) mem_91201)[gtid_83288 * j_m_i_83264 + gtid_83289] = lifted_lambda_res_83292;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83285\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83300_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83300(__global int *global_failure, int64_t n_48138, int64_t arg_67058, int64_t i_83259, int64_t j_m_i_83264, int64_t num_tblocks_83296, int64_t ext_90913, int64_t ext_90914, int32_t virt_num_tblocks_97147, __global unsigned char *ext_mem_91172, __global unsigned char *mem_91212, __global unsigned char *mem_91223, __global unsigned char *mem_91235)\n{\n    #define segmap_tblock_sizze_83295 (sort_for_Skyline_doublezisegmap_83300zisegmap_tblock_sizze_83295)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97149;\n    int32_t tblock_sizze_97152;\n    int32_t wave_sizze_97151;\n    int32_t block_id_97150;\n    int32_t global_tid_97148;\n    int64_t phys_tid_83300;\n    int32",
                                    "_t phys_tblock_id_97153;\n    int32_t iterations_97154;\n    \n    local_tid_97149 = get_local_id(0);\n    tblock_sizze_97152 = get_local_size(0);\n    wave_sizze_97151 = LOCKSTEP_WIDTH;\n    block_id_97150 = get_tblock_id(0);\n    global_tid_97148 = block_id_97150 * tblock_sizze_97152 + local_tid_97149;\n    phys_tid_83300 = sext_i32_i64(global_tid_97148);\n    phys_tblock_id_97153 = get_tblock_id(0);\n    iterations_97154 = sdiv_up32(virt_num_tblocks_97147 - phys_tblock_id_97153, sext_i64_i32(num_tblocks_83296));\n    for (int32_t i_97155 = 0; i_97155 < iterations_97154; i_97155++) {\n        int32_t virt_tblock_id_97156;\n        int64_t global_tid_97157;\n        int64_t slice_97158;\n        int64_t gtid_83299;\n        int64_t remnant_97159;\n        \n        virt_tblock_id_97156 = phys_tblock_id_97153 + i_97155 * sext_i64_i32(num_tblocks_83296);\n        global_tid_97157 = sext_i32_i64(virt_tblock_id_97156) * segmap_tblock_sizze_83295 + sext_i32_i64(local_tid_97149);\n        slice_97158 = n_48138;\n        gtid_83299 = global_tid_97157;\n        remnant_97159 = global_tid_97157 - gtid_83299;\n        if (slt64(gtid_83299, n_48138)) {\n            double defunc_0_seqmap_res_r_transformed_row_83302;\n            double defunc_0_foldl_res_83304;\n            double acc_83306;\n            double sqrt_res_83309;\n            double atan2_res_83310;\n            \n            defunc_0_seqmap_res_r_transformed_row_83302 = ((__global double *) ext_mem_91172)[gtid_83299 * ext_90914 + i_83259 * ext_90913];\n            acc_83306 = 0.0;\n            for (int64_t i_83305 = 0; i_83305 < j_m_i_83264; i_83305++) {\n                double b_83307;\n                double defunc_0_f_res_83308;\n                double acc_tmp_97160;\n                \n                b_83307 = ((__global double *) mem_91223)[gtid_83299 + i_83305 * n_48138];\n                defunc_0_f_res_83308 = acc_83306 + b_83307;\n                acc_tmp_97160 = defunc_0_f_res_83308;\n                acc_83306 = acc_tmp_97160;\n            }\n ", "           defunc_0_foldl_res_83304 = acc_83306;\n            sqrt_res_83309 = futrts_sqrt64(defunc_0_foldl_res_83304);\n            atan2_res_83310 = futrts_atan2_64(sqrt_res_83309, defunc_0_seqmap_res_r_transformed_row_83302);\n            ((__global double *) mem_91212)[gtid_83299 + i_83259 * n_48138] = atan2_res_83310;\n            for (int64_t i_0 = 0; i_0 < arg_67058; i_0++) {\n                ((__global double *) mem_91235)[gtid_83299 + i_0 * n_48138] = ((__global double *) mem_91212)[gtid_83299 + i_0 * n_48138];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83295\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83324_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83324(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_48138, int64_t arg_67058, int64_t ext_91236, int64_t ext_91237, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *ext_mem_90855, __global unsigned char *ext_mem_91239, __global unsigned char *mem_91243)\n{\n    #define segmap_tblock_sizze_83319 (sort_for_Skyline_doublezisegmap_83324zisegmap_tblock_sizze_83319)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97163;\n    int32_t tblock_sizze_97166;\n    int32_t wave_sizze_97165;\n    int32_t block_id_97164;\n    int32_t global_tid_97162;\n    int64_t phys_tid_83324;\n    int64_t global_tid_97167;\n    int64_t slice_97168;\n    int64_t slice_97169;\n    int64_t gtid_83322;\n    int64_t remnant_97170;\n    int64_t gtid_83323;\n    int64_t remnant_97171;\n    \n    local_tid_97163 = get_local_id(0);\n    tblock_sizze_97166 = get_local_size(0);\n    wave_sizze_97165 = LOCKSTEP_WIDTH;\n    block_id_97164 = get_tblock_id(0);\n    global_tid_97162 = block_id_97164 * tblock_sizz", "e_97166 + local_tid_97163;\n    phys_tid_83324 = sext_i32_i64(global_tid_97162);\n    global_tid_97167 = sext_i32_i64(block_id_97164) * segmap_tblock_sizze_83319 + sext_i32_i64(local_tid_97163);\n    slice_97168 = arg_67058;\n    slice_97169 = n_48138 * slice_97168;\n    gtid_83322 = squot64(global_tid_97167, slice_97168);\n    remnant_97170 = global_tid_97167 - gtid_83322 * slice_97168;\n    gtid_83323 = remnant_97170;\n    remnant_97171 = remnant_97170 - gtid_83323;\n    if (slt64(gtid_83322, n_48138) && slt64(gtid_83323, arg_67058)) {\n        double eta_p_83325;\n        double eta_p_83326;\n        int64_t eta_p_83327;\n        int64_t eta_p_83328;\n        int64_t defunc_0_f_res_83329;\n        \n        eta_p_83325 = ((__global double *) ext_mem_91239)[gtid_83322 * ext_91237 + gtid_83323 * ext_91236];\n        eta_p_83326 = ((__global double *) ext_mem_90855)[gtid_83323];\n        eta_p_83327 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_83323];\n        eta_p_83328 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_83323];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_83329, eta_p_83325, eta_p_83326, eta_p_83327, eta_p_83328);\n        ((__global int64_t *) mem_91243)[gtid_83322 * arg_67058 + gtid_83323] = defunc_0_f_res_83329;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83319\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83336_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83336(__global int *global_failure, int64_t n_48138, int64_t total_angle_no_48145, int64_t arg_67058, __global unsigned char *mem_91254, __global unsigned char *mem_91257)\n{\n    #define segmap_tblock_sizze_83332 (sort_for_Skyline_doublezisegmap_83336zisegmap_tblock_sizze_83332)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97174;\n    int32_t tblock_sizze_97177;\n    int32_t wave_sizze_97176;\n    int32_t block_id_97175;\n    int32_t global_tid_97173;\n    int64_t phys_tid_83336;\n    int64_t global_tid_97178;\n    int64_t",
                                    " slice_97179;\n    int64_t gtid_83335;\n    int64_t remnant_97180;\n    \n    local_tid_97174 = get_local_id(0);\n    tblock_sizze_97177 = get_local_size(0);\n    wave_sizze_97176 = LOCKSTEP_WIDTH;\n    block_id_97175 = get_tblock_id(0);\n    global_tid_97173 = block_id_97175 * tblock_sizze_97177 + local_tid_97174;\n    phys_tid_83336 = sext_i32_i64(global_tid_97173);\n    global_tid_97178 = sext_i32_i64(block_id_97175) * segmap_tblock_sizze_83332 + sext_i32_i64(local_tid_97174);\n    slice_97179 = n_48138;\n    gtid_83335 = global_tid_97178;\n    remnant_97180 = global_tid_97178 - gtid_83335;\n    if (slt64(gtid_83335, n_48138)) {\n        int64_t defunc_0_foldl_res_83337;\n        int64_t defunc_0_foldl_res_83339;\n        int64_t acc_83341;\n        int64_t zp_lhs_83344;\n        int64_t get_id_from_grid_angle_res_83345;\n        \n        defunc_0_foldl_res_83337 = ((__global int64_t *) mem_91257)[gtid_83335];\n        acc_83341 = (int64_t) 0;\n        for (int64_t i_83340 = 0; i_83340 < arg_67058; i_83340++) {\n            int64_t b_83342;\n            int64_t defunc_0_f_res_83343;\n            int64_t acc_tmp_97181;\n            \n            b_83342 = ((__global int64_t *) mem_91254)[gtid_83335 + i_83340 * n_48138];\n            defunc_0_f_res_83343 = add64(acc_83341, b_83342);\n            acc_tmp_97181 = defunc_0_f_res_83343;\n            acc_83341 = acc_tmp_97181;\n        }\n        defunc_0_foldl_res_83339 = acc_83341;\n        zp_lhs_83344 = mul64(total_angle_no_48145, defunc_0_foldl_res_83337);\n        get_id_from_grid_angle_res_83345 = add64(defunc_0_foldl_res_83339, zp_lhs_83344);\n        ((__global int64_t *) mem_91257)[gtid_83335] = get_id_from_grid_angle_res_83345;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83332\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83764_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83764(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int", "64_t block_sizze_68019, int64_t x_69350, int64_t num_tblocks_83756, int32_t virt_num_tblocks_97257, __global unsigned char *mem_91190, __global unsigned char *mem_91257, __global unsigned char *mem_91268, __global unsigned char *mem_91281, __global unsigned char *mem_91283, __global unsigned char *mem_91284, __global unsigned char *mem_91285, __global unsigned char *mem_91292, __global unsigned char *mem_91295, __global unsigned char *mem_91312, __global unsigned char *mem_91315)\n{\n    #define segmap_tblock_sizze_83755 (sort_for_Skyline_doublezisegmap_83764zisegmap_tblock_sizze_83755)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97259;\n    int32_t tblock_sizze_97262;\n    int32_t wave_sizze_97261;\n    int32_t block_id_97260;\n    int32_t global_tid_97258;\n    int64_t phys_tid_83764;\n    int32_t phys_tblock_id_97263;\n    int32_t iterations_97264;\n    \n    local_tid_97259 = get_local_id(0);\n    tblock_sizze_97262 = get_local_size(0);\n    wave_sizze_97261 = LOCKSTEP_WIDTH;\n    block_id_97260 = get_tblock_id(0);\n    global_tid_97258 = block_id_97260 * tblock_sizze_97262 + local_tid_97259;\n    phys_tid_83764 = sext_i32_i64(global_tid_97258);\n    phys_tblock_id_97263 = get_tblock_id(0);\n    iterations_97264 = sdiv_up32(virt_num_tblocks_97257 - phys_tblock_id_97263, sext_i64_i32(num_tblocks_83756));\n    for (int32_t i_97265 = 0; i_97265 < iterations_97264; i_97265++) {\n        int32_t virt_tblock_id_97266;\n        int64_t global_tid_97267;\n        int64_t slice_97268;\n        int64_t slice_97269;\n        int64_t gtid_83762;\n        int64_t remnant_97270;\n        int64_t gtid_83763;\n        int64_t remnant_97271;\n        \n        virt_tblock_id_97266 = phys_tblock_id_97263 + i_97265 * sext_i64_i32(num_tblocks_83756);\n        global_tid_97267 = sext_i32_i64(virt", "_tblock_id_97266) * segmap_tblock_sizze_83755 + sext_i32_i64(local_tid_97259);\n        slice_97268 = block_sizze_68019;\n        slice_97269 = x_69350 * slice_97268;\n        gtid_83762 = squot64(global_tid_97267, slice_97268);\n        remnant_97270 = global_tid_97267 - gtid_83762 * slice_97268;\n        gtid_83763 = remnant_97270;\n        remnant_97271 = remnant_97270 - gtid_83763;\n        if (slt64(gtid_83762, x_69350) && slt64(gtid_83763, block_sizze_68019)) {\n            int64_t index_primexp_90430;\n            int64_t k_83767;\n            bool cond_83768;\n            int64_t ext_91288;\n            int64_t ext_91287;\n            __global unsigned char *ext_mem_91289;\n            int64_t lifted_lambda_res_83769;\n            double lifted_lambda_res_83770;\n            int64_t lifted_lambda_res_83772;\n            \n            index_primexp_90430 = mul64(block_sizze_68019, gtid_83762);\n            k_83767 = add64(gtid_83763, index_primexp_90430);\n            cond_83768 = slt64(k_83767, n_48138);\n            if (cond_83768) {\n                ext_91288 = k_83767;\n            } else {\n                ext_91288 = (int64_t) 0;\n            }\n            if (cond_83768) {\n                ext_91287 = n_48138;\n            } else {\n                ext_91287 = (int64_t) 1;\n            }\n            if (cond_83768) {\n                bool x_83773;\n                bool bounds_check_83774;\n                bool index_certs_83775;\n                int64_t lifted_lambda_res_t_res_83776;\n                double lifted_lambda_res_t_res_83777;\n                \n                x_83773 = sle64((int64_t) 0, k_83767);\n                bounds_check_83774 = cond_83768 && x_83773;\n                if (!bounds_check_83774) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 109) == -1) {\n                            global_failure_args[0] = (int64_t) k_83767;\n                            global_failure_args[1] = (int64_t) n_48138;\n                           ",
                                    " ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_t_res_83776 = ((__global int64_t *) mem_91257)[k_83767];\n                lifted_lambda_res_t_res_83777 = ((__global double *) mem_91190)[k_83767];\n                ext_mem_91289 = mem_91268;\n                lifted_lambda_res_83769 = lifted_lambda_res_t_res_83776;\n                lifted_lambda_res_83770 = lifted_lambda_res_t_res_83777;\n                lifted_lambda_res_83772 = k_83767;\n            } else {\n                int64_t defunc_0_reduce_res_90489;\n                double defunc_0_reduce_res_90490;\n                int64_t defunc_0_reduce_res_90491;\n                \n                defunc_0_reduce_res_90489 = ((__global int64_t *) mem_91283)[(int64_t) 0];\n                defunc_0_reduce_res_90490 = ((__global double *) mem_91284)[(int64_t) 0];\n                defunc_0_reduce_res_90491 = ((__global int64_t *) mem_91285)[(int64_t) 0];\n                ext_mem_91289 = mem_91281;\n                lifted_lambda_res_83769 = defunc_0_reduce_res_90489;\n                lifted_lambda_res_83770 = defunc_0_reduce_res_90490;\n                lifted_lambda_res_83772 = defunc_0_reduce_res_90491;\n            }\n            ((__global int64_t *) mem_91292)[gtid_83762 * block_sizze_68019 + gtid_83763] = lifted_lambda_res_83769;\n            ((__global double *) mem_91295)[gtid_83762 * block_sizze_68019 + gtid_83763] = lifted_lambda_res_83770;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_91312)[gtid_83762 * block_sizze_68019 + gtid_83763 + i_0 * (block_sizze_68019 * x_69350)] = ((__global double *) ext_mem_91289)[ext_91288 + i_0 * ext_91287];\n            }\n            ((__global int64_t *) mem_91315)[gtid_83762 * block_sizze_68019 + gtid_83763] = lifted_lambda_res_83772;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOC", "AL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83755\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83800_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83800(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t block_sizze_68019, int64_t distance_68075, int64_t x_69350, int64_t num_tblocks_83793, int64_t num_threads_95584, int64_t ctx_95600, int32_t virt_num_tblocks_97272, __global unsigned char *mem_91326, __global unsigned char *mem_91337, __global unsigned char *mem_91354, __global unsigned char *mem_91365, __global unsigned char *mem_91434, __global unsigned char *mem_91445, __global unsigned char *mem_91462, __global unsigned char *mem_91473, __global unsigned char *color_95437, __global unsigned char *color_95438)\n{\n    #define segmap_tblock_sizze_83792 (sort_for_Skyline_doublezisegmap_83800zisegmap_tblock_sizze_83792)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97274;\n    int32_t tblock_sizze_97277;\n    int32_t wave_sizze_97276;\n    int32_t block_id_97275;\n    int32_t global_tid_97273;\n    int64_t phys_tid_83800;\n    int32_t phys_tblock_id_97278;\n    int32_t iterations_97279;\n    \n    local_tid_97274 = get_local_id(0);\n    tblock_sizze_97277 = get_local_size(0);\n    wave_sizze_97276 = LOCKSTEP_WIDTH;\n    block_id_97275 = get_tblock_id(0);\n    global_tid_97273 = block_id_97275 * tblock_sizze_97277 + local_tid_97274;\n    phys_tid_83800 = sext_i32_i64(global_tid_97273);\n    phys_tblock_id_97278 = get_tblock_id(0);\n    iterations_97279 = sdiv_up32(virt_num_tblocks_97272 - phys_tblock_id_97278, sext_i64_i32(num_tblocks_83793));\n   ", " for (int32_t i_97280 = 0; i_97280 < iterations_97279; i_97280++) {\n        int32_t virt_tblock_id_97281;\n        int64_t global_tid_97282;\n        int64_t slice_97283;\n        int64_t gtid_83799;\n        int64_t remnant_97284;\n        \n        virt_tblock_id_97281 = phys_tblock_id_97278 + i_97280 * sext_i64_i32(num_tblocks_83793);\n        global_tid_97282 = sext_i32_i64(virt_tblock_id_97281) * segmap_tblock_sizze_83792 + sext_i32_i64(local_tid_97274);\n        slice_97283 = x_69350;\n        gtid_83799 = global_tid_97282;\n        remnant_97284 = global_tid_97282 - gtid_83799;\n        if (slt64(gtid_83799, x_69350)) {\n            for (int64_t i_83809 = 0; i_83809 < distance_68075; i_83809++) {\n                int64_t gt_arg1_83814;\n                bool x_83815;\n                bool y_83816;\n                bool bounds_check_83817;\n                bool index_certs_83818;\n                bool y_83821;\n                bool index_certs_83822;\n                int64_t gt_arg1_83819;\n                double gt_arg1_83820;\n                int64_t gt_arg0_83823;\n                double gt_arg0_83824;\n                bool cond_83825;\n                bool cond_83826;\n                bool lifted_lambda_res_f_res_t_res_83827;\n                bool x_83828;\n                bool x_83829;\n                bool y_83830;\n                bool lifted_lambda_res_83831;\n                bool defunc_0_lifted_gt_res_83832;\n                bool s_83833;\n                int64_t s_83838;\n                bool loop_while_83839;\n                int64_t j_83844;\n                \n                gt_arg1_83814 = add64((int64_t) 1, i_83809);\n                x_83815 = sle64((int64_t) 0, gt_arg1_83814);\n                y_83816 = slt64(gt_arg1_83814, block_sizze_68019);\n                bounds_check_83817 = x_83815 && y_83816;\n                if (!bounds_check_83817) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 110) == -1) {\n                            globa",
                                    "l_failure_args[0] = (int64_t) gt_arg1_83814;\n                            global_failure_args[1] = (int64_t) block_sizze_68019;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                y_83821 = slt64(i_83809, block_sizze_68019);\n                if (!y_83821) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 111) == -1) {\n                            global_failure_args[0] = (int64_t) i_83809;\n                            global_failure_args[1] = (int64_t) block_sizze_68019;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                gt_arg1_83819 = ((__global int64_t *) mem_91326)[gtid_83799 + gt_arg1_83814 * x_69350];\n                gt_arg1_83820 = ((__global double *) mem_91337)[gtid_83799 + gt_arg1_83814 * x_69350];\n                gt_arg0_83823 = ((__global int64_t *) mem_91326)[gtid_83799 + i_83809 * x_69350];\n                gt_arg0_83824 = ((__global double *) mem_91337)[gtid_83799 + i_83809 * x_69350];\n                cond_83825 = slt64(gt_arg0_83823, gt_arg1_83819);\n                cond_83826 = gt_arg0_83823 == gt_arg1_83819;\n                lifted_lambda_res_f_res_t_res_83827 = gt_arg0_83824 <= gt_arg1_83820;\n                x_83828 = cond_83826 && lifted_lambda_res_f_res_t_res_83827;\n                x_83829 = !cond_83825;\n                y_83830 = x_83828 && x_83829;\n                lifted_lambda_res_83831 = cond_83825 || y_83830;\n                defunc_0_lifted_gt_res_83832 = !lifted_lambda_res_83831;\n                loop_while_83839 = defunc_0_lifted_gt_res_83832;\n                j_83844 = i_83809;\n                while (loop_while_83839) {\n                    bool x_83845;\n                    bool y_83846;\n                    bool bounds_chec", "k_83847;\n                    bool index_certs_83848;\n                    int64_t copy_arg0_83854;\n                    bool x_83855;\n                    bool y_83856;\n                    bool bounds_check_83857;\n                    bool index_certs_83858;\n                    int64_t copy_arg0_83849;\n                    double copy_arg0_83850;\n                    int64_t copy_arg0_83852;\n                    int64_t copy_arg0_83859;\n                    double copy_arg0_83860;\n                    int64_t copy_arg0_83862;\n                    int64_t tmp_83872;\n                    bool cond_83873;\n                    bool loop_cond_83874;\n                    bool loop_while_tmp_97289;\n                    int64_t j_tmp_97294;\n                    \n                    x_83845 = sle64((int64_t) 0, j_83844);\n                    y_83846 = slt64(j_83844, block_sizze_68019);\n                    bounds_check_83847 = x_83845 && y_83846;\n                    if (!bounds_check_83847) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 112) == -1) {\n                                global_failure_args[0] = (int64_t) j_83844;\n                                global_failure_args[1] = (int64_t) block_sizze_68019;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_83854 = add64((int64_t) 1, j_83844);\n                    x_83855 = sle64((int64_t) 0, copy_arg0_83854);\n                    y_83856 = slt64(copy_arg0_83854, block_sizze_68019);\n                    bounds_check_83857 = x_83855 && y_83856;\n                    if (!bounds_check_83857) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 113) == -1) {\n                                global_failure_args[0] = (int64_t) copy_arg0_83854;\n                    ", "            global_failure_args[1] = (int64_t) block_sizze_68019;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_83849 = ((__global int64_t *) mem_91326)[gtid_83799 + j_83844 * x_69350];\n                    copy_arg0_83850 = ((__global double *) mem_91337)[gtid_83799 + j_83844 * x_69350];\n                    copy_arg0_83852 = ((__global int64_t *) mem_91365)[gtid_83799 + j_83844 * x_69350];\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) color_95438)[phys_tid_83800 + i_0 * num_threads_95584] = ((__global double *) mem_91354)[gtid_83799 + j_83844 * ctx_95600 + i_0 * x_69350];\n                    }\n                    copy_arg0_83859 = ((__global int64_t *) mem_91326)[gtid_83799 + copy_arg0_83854 * x_69350];\n                    copy_arg0_83860 = ((__global double *) mem_91337)[gtid_83799 + copy_arg0_83854 * x_69350];\n                    copy_arg0_83862 = ((__global int64_t *) mem_91365)[gtid_83799 + copy_arg0_83854 * x_69350];\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) color_95437)[phys_tid_83800 + i_0 * num_threads_95584] = ((__global double *) mem_91354)[gtid_83799 + copy_arg0_83854 * ctx_95600 + i_0 * x_69350];\n                    }\n                    ((__global int64_t *) mem_91326)[gtid_83799 + j_83844 * x_69350] = copy_arg0_83859;\n                    ((__global double *) mem_91337)[gtid_83799 + j_83844 * x_69350] = copy_arg0_83860;\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_91354)[gtid_83799 + j_83844 * ctx_95600 + i_0 * x_69350] = ((__global double *) color_95437)[phys_tid_83800 + i_0 * num_threads_95584];\n                    }\n                    ((__global int64_t *) mem_9",
                                    "1365)[gtid_83799 + j_83844 * x_69350] = copy_arg0_83862;\n                    ((__global int64_t *) mem_91326)[gtid_83799 + copy_arg0_83854 * x_69350] = copy_arg0_83849;\n                    ((__global double *) mem_91337)[gtid_83799 + copy_arg0_83854 * x_69350] = copy_arg0_83850;\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_91354)[gtid_83799 + copy_arg0_83854 * ctx_95600 + i_0 * x_69350] = ((__global double *) color_95438)[phys_tid_83800 + i_0 * num_threads_95584];\n                    }\n                    ((__global int64_t *) mem_91365)[gtid_83799 + copy_arg0_83854 * x_69350] = copy_arg0_83852;\n                    tmp_83872 = sub64(j_83844, (int64_t) 1);\n                    cond_83873 = sle64((int64_t) 0, tmp_83872);\n                    if (cond_83873) {\n                        bool y_83877;\n                        bool bounds_check_83878;\n                        bool index_certs_83879;\n                        int64_t gt_arg1_83875;\n                        double gt_arg1_83876;\n                        int64_t gt_arg0_83880;\n                        double gt_arg0_83881;\n                        bool cond_83882;\n                        bool cond_83883;\n                        bool lifted_lambda_res_f_res_t_res_83884;\n                        bool x_83885;\n                        bool x_83886;\n                        bool y_83887;\n                        bool lifted_lambda_res_83888;\n                        bool defunc_0_lifted_gt_res_83889;\n                        \n                        y_83877 = slt64(tmp_83872, block_sizze_68019);\n                        bounds_check_83878 = cond_83873 && y_83877;\n                        if (!bounds_check_83878) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 114) == -1) {\n                                    global_failure_args[0] = (int64_t) tmp_83872;\n                                    global_", "failure_args[1] = (int64_t) block_sizze_68019;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        gt_arg1_83875 = ((__global int64_t *) mem_91326)[gtid_83799 + j_83844 * x_69350];\n                        gt_arg1_83876 = ((__global double *) mem_91337)[gtid_83799 + j_83844 * x_69350];\n                        gt_arg0_83880 = ((__global int64_t *) mem_91326)[gtid_83799 + tmp_83872 * x_69350];\n                        gt_arg0_83881 = ((__global double *) mem_91337)[gtid_83799 + tmp_83872 * x_69350];\n                        cond_83882 = slt64(gt_arg0_83880, gt_arg1_83875);\n                        cond_83883 = gt_arg0_83880 == gt_arg1_83875;\n                        lifted_lambda_res_f_res_t_res_83884 = gt_arg0_83881 <= gt_arg1_83876;\n                        x_83885 = cond_83883 && lifted_lambda_res_f_res_t_res_83884;\n                        x_83886 = !cond_83882;\n                        y_83887 = x_83885 && x_83886;\n                        lifted_lambda_res_83888 = cond_83882 || y_83887;\n                        defunc_0_lifted_gt_res_83889 = !lifted_lambda_res_83888;\n                        loop_cond_83874 = defunc_0_lifted_gt_res_83889;\n                    } else {\n                        loop_cond_83874 = 0;\n                    }\n                    loop_while_tmp_97289 = loop_cond_83874;\n                    j_tmp_97294 = tmp_83872;\n                    loop_while_83839 = loop_while_tmp_97289;\n                    j_83844 = j_tmp_97294;\n                }\n                s_83833 = loop_while_83839;\n                s_83838 = j_83844;\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_68019; i_0++) {\n                ((__global int64_t *) mem_91434)[gtid_83799 + i_0 * x_69350] = ((__global int64_t *) mem_91326)[gtid_83799 + i_0 * x_69350];\n            }\n            fo", "r (int64_t i_0 = 0; i_0 < block_sizze_68019; i_0++) {\n                ((__global double *) mem_91445)[gtid_83799 + i_0 * x_69350] = ((__global double *) mem_91337)[gtid_83799 + i_0 * x_69350];\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_68019; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__global double *) mem_91462)[gtid_83799 + (i_0 * (x_69350 * dim_48135) + i_1 * x_69350)] = ((__global double *) mem_91354)[gtid_83799 + (i_0 * ctx_95600 + i_1 * x_69350)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_68019; i_0++) {\n                ((__global int64_t *) mem_91473)[gtid_83799 + i_0 * x_69350] = ((__global int64_t *) mem_91365)[gtid_83799 + i_0 * x_69350];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83792\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87136_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87136(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t loop_dz2084Uz2082U_68206, int64_t next_stride_68213, unsigned char zzero_68214_bits, int64_t num_merges_68217, int64_t m_68222, unsigned char zzero_leq_i_p_m_t_s_68223_bits, unsigned char i_lte_j_68224_bits, __global unsigned char *mem_91520, __global unsigned char *mem_91521)\n{\n    bool zzero_68214 = zzero_68214_bits;\n    bool zzero_leq_i_p_m_t_s_68223 = zzero_leq_i_p_m_t_s_68223_bits;\n    bool i_lte_j_68224 = i_lte_j_68224_bits;\n    \n    #define segmap_tblock_sizze_87130 (sort_for_Skyline_doublezisegmap_87136zisegmap_tblock_sizze_87130)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97460;\n    int32_t tblock_sizze_97463;\n    int32_t wave_sizze_97462;\n    int32_t block_id_97461;\n   ",
                                    " int32_t global_tid_97459;\n    int64_t phys_tid_87136;\n    int64_t global_tid_97464;\n    int64_t slice_97465;\n    int64_t gtid_87135;\n    int64_t remnant_97466;\n    \n    local_tid_97460 = get_local_id(0);\n    tblock_sizze_97463 = get_local_size(0);\n    wave_sizze_97462 = LOCKSTEP_WIDTH;\n    block_id_97461 = get_tblock_id(0);\n    global_tid_97459 = block_id_97461 * tblock_sizze_97463 + local_tid_97460;\n    phys_tid_87136 = sext_i32_i64(global_tid_97459);\n    global_tid_97464 = sext_i32_i64(block_id_97461) * segmap_tblock_sizze_87130 + sext_i32_i64(local_tid_97460);\n    slice_97465 = num_merges_68217;\n    gtid_87135 = global_tid_97464;\n    remnant_97466 = global_tid_97464 - gtid_87135;\n    if (slt64(gtid_87135, num_merges_68217)) {\n        int64_t start_87138;\n        int64_t j_m_i_87139;\n        bool empty_slice_87140;\n        int64_t m_87141;\n        int64_t i_p_m_t_s_87142;\n        bool zzero_leq_i_p_m_t_s_87143;\n        bool i_p_m_t_s_leq_w_87144;\n        bool zzero_lte_i_87145;\n        bool i_lte_j_87146;\n        bool y_87147;\n        bool y_87148;\n        bool forwards_ok_87149;\n        bool ok_or_empty_87150;\n        bool index_certs_87151;\n        bool i_p_m_t_s_leq_w_87152;\n        bool y_87153;\n        bool forwards_ok_87154;\n        bool ok_or_empty_87155;\n        bool index_certs_87156;\n        \n        start_87138 = mul64(next_stride_68213, gtid_87135);\n        j_m_i_87139 = sub64(loop_dz2084Uz2082U_68206, start_87138);\n        empty_slice_87140 = j_m_i_87139 == (int64_t) 0;\n        m_87141 = sub64(j_m_i_87139, (int64_t) 1);\n        i_p_m_t_s_87142 = add64(start_87138, m_87141);\n        zzero_leq_i_p_m_t_s_87143 = sle64((int64_t) 0, i_p_m_t_s_87142);\n        i_p_m_t_s_leq_w_87144 = slt64(i_p_m_t_s_87142, loop_dz2084Uz2082U_68206);\n        zzero_lte_i_87145 = sle64((int64_t) 0, start_87138);\n        i_lte_j_87146 = sle64(start_87138, loop_dz2084Uz2082U_68206);\n        y_87147 = i_p_m_t_s_leq_w_87144 && zzero_lte_i_87145;\n        y_87148 = zzero_leq_i_p_m_t", "_s_87143 && y_87147;\n        forwards_ok_87149 = i_lte_j_87146 && y_87148;\n        ok_or_empty_87150 = empty_slice_87140 || forwards_ok_87149;\n        if (!ok_or_empty_87150) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 134) == -1) {\n                    global_failure_args[0] = (int64_t) start_87138;\n                    global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_68206;\n                    ;\n                }\n                return;\n            }\n        }\n        i_p_m_t_s_leq_w_87152 = slt64(m_68222, j_m_i_87139);\n        y_87153 = zzero_leq_i_p_m_t_s_68223 && i_p_m_t_s_leq_w_87152;\n        forwards_ok_87154 = i_lte_j_68224 && y_87153;\n        ok_or_empty_87155 = zzero_68214 || forwards_ok_87154;\n        if (!ok_or_empty_87155) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 135) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) next_stride_68213;\n                    global_failure_args[2] = (int64_t) j_m_i_87139;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87130\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87171_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87171(__global int *global_failure, int64_t next_stride_68213, int64_t num_merges_68217, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91948, __global unsigned char *mem_91950)\n{\n    #define segmap_tblock_sizze_87166 (sort_for_Skyline_doublezisegmap_87171zisegmap_tblock_sizze_87166)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97469;\n    int32_t tblock_sizze_97472;\n    int32_t wave_sizze_97471;\n    int32_t block_id_97470;\n    int32_t global_tid_97468;\n    int64_t phys_tid", "_87171;\n    int64_t global_tid_97473;\n    int64_t slice_97474;\n    int64_t gtid_87170;\n    int64_t remnant_97475;\n    \n    local_tid_97469 = get_local_id(0);\n    tblock_sizze_97472 = get_local_size(0);\n    wave_sizze_97471 = LOCKSTEP_WIDTH;\n    block_id_97470 = get_tblock_id(0);\n    global_tid_97468 = block_id_97470 * tblock_sizze_97472 + local_tid_97469;\n    phys_tid_87171 = sext_i32_i64(global_tid_97468);\n    global_tid_97473 = sext_i32_i64(block_id_97470) * segmap_tblock_sizze_87166 + sext_i32_i64(local_tid_97469);\n    slice_97474 = num_merges_68217;\n    gtid_87170 = global_tid_97473;\n    remnant_97475 = global_tid_97473 - gtid_87170;\n    if (slt64(gtid_87170, num_merges_68217)) {\n        int64_t index_primexp_90412;\n        bool index_certs_87173;\n        bool index_certs_87174;\n        int64_t head_res_87175;\n        double head_res_87176;\n        \n        index_primexp_90412 = mul64(next_stride_68213, gtid_87170);\n        index_certs_87173 = 0;\n        index_certs_87174 = 0;\n        head_res_87175 = ((__global int64_t *) mem_param_91508)[index_primexp_90412];\n        head_res_87176 = ((__global double *) mem_param_91511)[index_primexp_90412];\n        ((__global int64_t *) mem_91948)[gtid_87170] = head_res_87175;\n        ((__global double *) mem_91950)[gtid_87170] = head_res_87176;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87166\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87184_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87184(__global int *global_failure, int64_t dim_48135, int64_t next_stride_68213, int64_t num_merges_68217, __global unsigned char *mem_param_91515, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91954)\n{\n    #define segmap_tblock_sizze_87179 (sort_for_Skyline_doublezisegmap_87184zisegmap_tblock_sizze_87179)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97478;\n    int32_t tblock_sizze_97481;\n    int32_t wave_sizze_97480;\n    int3",
                                    "2_t block_id_97479;\n    int32_t global_tid_97477;\n    int64_t phys_tid_87184;\n    int64_t global_tid_97482;\n    int64_t slice_97483;\n    int64_t slice_97484;\n    int64_t gtid_87183;\n    int64_t remnant_97485;\n    int64_t gtid_slice_87182;\n    int64_t remnant_97486;\n    \n    local_tid_97478 = get_local_id(0);\n    tblock_sizze_97481 = get_local_size(0);\n    wave_sizze_97480 = LOCKSTEP_WIDTH;\n    block_id_97479 = get_tblock_id(0);\n    global_tid_97477 = block_id_97479 * tblock_sizze_97481 + local_tid_97478;\n    phys_tid_87184 = sext_i32_i64(global_tid_97477);\n    global_tid_97482 = sext_i32_i64(block_id_97479) * segmap_tblock_sizze_87179 + sext_i32_i64(local_tid_97478);\n    slice_97483 = dim_48135;\n    slice_97484 = num_merges_68217 * slice_97483;\n    gtid_87183 = squot64(global_tid_97482, slice_97483);\n    remnant_97485 = global_tid_97482 - gtid_87183 * slice_97483;\n    gtid_slice_87182 = remnant_97485;\n    remnant_97486 = remnant_97485 - gtid_slice_87182;\n    if (slt64(gtid_87183, num_merges_68217) && slt64(gtid_slice_87182, dim_48135)) {\n        int64_t index_primexp_90409;\n        bool index_certs_87186;\n        bool index_certs_87187;\n        double v_87188;\n        \n        index_primexp_90409 = mul64(next_stride_68213, gtid_87183);\n        index_certs_87186 = 0;\n        index_certs_87187 = 0;\n        v_87188 = ((__global double *) mem_param_91515)[index_primexp_90409 * dim_48135 + gtid_slice_87182];\n        ((__global double *) mem_91954)[gtid_87183 * dim_48135 + gtid_slice_87182] = v_87188;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87179\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87194_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87194(__global int *global_failure, int64_t next_stride_68213, int64_t num_merges_68217, __global unsigned char *mem_param_91518, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91957)\n{\n    #define segmap_tblock_sizze_87190 (sort_for_Skyline_doubl", "ezisegmap_87194zisegmap_tblock_sizze_87190)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97489;\n    int32_t tblock_sizze_97492;\n    int32_t wave_sizze_97491;\n    int32_t block_id_97490;\n    int32_t global_tid_97488;\n    int64_t phys_tid_87194;\n    int64_t global_tid_97493;\n    int64_t slice_97494;\n    int64_t gtid_87193;\n    int64_t remnant_97495;\n    \n    local_tid_97489 = get_local_id(0);\n    tblock_sizze_97492 = get_local_size(0);\n    wave_sizze_97491 = LOCKSTEP_WIDTH;\n    block_id_97490 = get_tblock_id(0);\n    global_tid_97488 = block_id_97490 * tblock_sizze_97492 + local_tid_97489;\n    phys_tid_87194 = sext_i32_i64(global_tid_97488);\n    global_tid_97493 = sext_i32_i64(block_id_97490) * segmap_tblock_sizze_87190 + sext_i32_i64(local_tid_97489);\n    slice_97494 = num_merges_68217;\n    gtid_87193 = global_tid_97493;\n    remnant_97495 = global_tid_97493 - gtid_87193;\n    if (slt64(gtid_87193, num_merges_68217)) {\n        int64_t index_primexp_90406;\n        bool index_certs_87196;\n        bool index_certs_87197;\n        int64_t head_res_87198;\n        \n        index_primexp_90406 = mul64(next_stride_68213, gtid_87193);\n        index_certs_87196 = 0;\n        index_certs_87197 = 0;\n        head_res_87198 = ((__global int64_t *) mem_param_91518)[index_primexp_90406];\n        ((__global int64_t *) mem_91957)[gtid_87193] = head_res_87198;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87190\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87210_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87210(__global int *global_failure, int64_t stride_68212, int64_t next_stride_68213, int64_t num_merges_68217, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91936, __global unsigned char *mem_91938, __global unsigned char *mem_91945)\n{\n    #define segmap_tblock_sizze_87204 (sort_for_Skyline_doublez", "isegmap_87210zisegmap_tblock_sizze_87204)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97498;\n    int32_t tblock_sizze_97501;\n    int32_t wave_sizze_97500;\n    int32_t block_id_97499;\n    int32_t global_tid_97497;\n    int64_t phys_tid_87210;\n    int64_t global_tid_97502;\n    int64_t slice_97503;\n    int64_t gtid_87209;\n    int64_t remnant_97504;\n    \n    local_tid_97498 = get_local_id(0);\n    tblock_sizze_97501 = get_local_size(0);\n    wave_sizze_97500 = LOCKSTEP_WIDTH;\n    block_id_97499 = get_tblock_id(0);\n    global_tid_97497 = block_id_97499 * tblock_sizze_97501 + local_tid_97498;\n    phys_tid_87210 = sext_i32_i64(global_tid_97497);\n    global_tid_97502 = sext_i32_i64(block_id_97499) * segmap_tblock_sizze_87204 + sext_i32_i64(local_tid_97498);\n    slice_97503 = num_merges_68217;\n    gtid_87209 = global_tid_97502;\n    remnant_97504 = global_tid_97502 - gtid_87209;\n    if (slt64(gtid_87209, num_merges_68217)) {\n        int64_t index_primexp_90415;\n        bool index_certs_87212;\n        bool index_certs_87213;\n        int64_t slice_87214;\n        int64_t head_res_87215;\n        double head_res_87216;\n        \n        index_primexp_90415 = mul64(next_stride_68213, gtid_87209);\n        index_certs_87212 = 0;\n        index_certs_87213 = 0;\n        slice_87214 = stride_68212 + index_primexp_90415;\n        head_res_87215 = ((__global int64_t *) mem_param_91508)[slice_87214];\n        head_res_87216 = ((__global double *) mem_param_91511)[slice_87214];\n        ((__global int64_t *) mem_91945)[gtid_87209] = slice_87214;\n        ((__global int64_t *) mem_91936)[gtid_87209] = head_res_87215;\n        ((__global double *) mem_91938)[gtid_87209] = head_res_87216;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87204\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87224_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87224(__global int *global_failure, int64_t dim_48135, int64_t num_merges_68217, __global unsigned char *mem_p",
                                    "aram_91515, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91942, __global unsigned char *mem_91945)\n{\n    #define segmap_tblock_sizze_87219 (sort_for_Skyline_doublezisegmap_87224zisegmap_tblock_sizze_87219)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97507;\n    int32_t tblock_sizze_97510;\n    int32_t wave_sizze_97509;\n    int32_t block_id_97508;\n    int32_t global_tid_97506;\n    int64_t phys_tid_87224;\n    int64_t global_tid_97511;\n    int64_t slice_97512;\n    int64_t slice_97513;\n    int64_t gtid_87223;\n    int64_t remnant_97514;\n    int64_t gtid_slice_87222;\n    int64_t remnant_97515;\n    \n    local_tid_97507 = get_local_id(0);\n    tblock_sizze_97510 = get_local_size(0);\n    wave_sizze_97509 = LOCKSTEP_WIDTH;\n    block_id_97508 = get_tblock_id(0);\n    global_tid_97506 = block_id_97508 * tblock_sizze_97510 + local_tid_97507;\n    phys_tid_87224 = sext_i32_i64(global_tid_97506);\n    global_tid_97511 = sext_i32_i64(block_id_97508) * segmap_tblock_sizze_87219 + sext_i32_i64(local_tid_97507);\n    slice_97512 = dim_48135;\n    slice_97513 = num_merges_68217 * slice_97512;\n    gtid_87223 = squot64(global_tid_97511, slice_97512);\n    remnant_97514 = global_tid_97511 - gtid_87223 * slice_97512;\n    gtid_slice_87222 = remnant_97514;\n    remnant_97515 = remnant_97514 - gtid_slice_87222;\n    if (slt64(gtid_87223, num_merges_68217) && slt64(gtid_slice_87222, dim_48135)) {\n        bool index_certs_87225;\n        bool index_certs_87226;\n        int64_t slice_87227;\n        double v_87228;\n        \n        index_certs_87225 = 0;\n        index_certs_87226 = 0;\n        slice_87227 = ((__global int64_t *) mem_91945)[gtid_87223];\n        v_87228 = ((__global double *) mem_param_91515)[slice_87227 * dim_48135 + gtid_slice_87222];\n        ((__global double *) mem_91942)[gtid_87223 * dim_48135 + gtid_slice_87222] = v_87228;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87219\n}\nFUTHARK_KERNE", "L_SIZED(sort_for_Skyline_doublezisegmap_87234_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87234(__global int *global_failure, int64_t num_merges_68217, __global unsigned char *mem_param_91518, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91945)\n{\n    #define segmap_tblock_sizze_87230 (sort_for_Skyline_doublezisegmap_87234zisegmap_tblock_sizze_87230)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97518;\n    int32_t tblock_sizze_97521;\n    int32_t wave_sizze_97520;\n    int32_t block_id_97519;\n    int32_t global_tid_97517;\n    int64_t phys_tid_87234;\n    int64_t global_tid_97522;\n    int64_t slice_97523;\n    int64_t gtid_87233;\n    int64_t remnant_97524;\n    \n    local_tid_97518 = get_local_id(0);\n    tblock_sizze_97521 = get_local_size(0);\n    wave_sizze_97520 = LOCKSTEP_WIDTH;\n    block_id_97519 = get_tblock_id(0);\n    global_tid_97517 = block_id_97519 * tblock_sizze_97521 + local_tid_97518;\n    phys_tid_87234 = sext_i32_i64(global_tid_97517);\n    global_tid_97522 = sext_i32_i64(block_id_97519) * segmap_tblock_sizze_87230 + sext_i32_i64(local_tid_97518);\n    slice_97523 = num_merges_68217;\n    gtid_87233 = global_tid_97522;\n    remnant_97524 = global_tid_97522 - gtid_87233;\n    if (slt64(gtid_87233, num_merges_68217)) {\n        bool index_certs_87235;\n        bool index_certs_87236;\n        int64_t slice_87237;\n        int64_t head_res_87238;\n        \n        index_certs_87235 = 0;\n        index_certs_87236 = 0;\n        slice_87237 = ((__global int64_t *) mem_91945)[gtid_87233];\n        head_res_87238 = ((__global int64_t *) mem_param_91518)[slice_87237];\n        ((__global int64_t *) mem_91945)[gtid_87233] = head_res_87238;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87230\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87264_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87264(__global int *global_failure, int failure_is_an_option, __global int64_t *glo", "bal_failure_args, int64_t dim_48135, int64_t loop_dz2084Uz2082U_68206, int64_t stride_68212, int64_t next_stride_68213, int64_t num_merges_68217, int64_t j_m_i_68235, int64_t num_tblocks_87257, int64_t binop_y_92013, int32_t virt_num_tblocks_97609, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_param_91518, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91985, __global unsigned char *mem_91996, __global unsigned char *mem_92007, __global unsigned char *mem_92024, __global unsigned char *mem_92035, __global unsigned char *mem_92075, __global unsigned char *mem_92086, __global unsigned char *mem_92103, __global unsigned char *mem_92114)\n{\n    #define segmap_tblock_sizze_87256 (sort_for_Skyline_doublezisegmap_87264zisegmap_tblock_sizze_87256)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97611;\n    int32_t tblock_sizze_97614;\n    int32_t wave_sizze_97613;\n    int32_t block_id_97612;\n    int32_t global_tid_97610;\n    int64_t phys_tid_87264;\n    int32_t phys_tblock_id_97615;\n    int32_t iterations_97616;\n    \n    local_tid_97611 = get_local_id(0);\n    tblock_sizze_97614 = get_local_size(0);\n    wave_sizze_97613 = LOCKSTEP_WIDTH;\n    block_id_97612 = get_tblock_id(0);\n    global_tid_97610 = block_id_97612 * tblock_sizze_97614 + local_tid_97611;\n    phys_tid_87264 = sext_i32_i64(global_tid_97610);\n    phys_tblock_id_97615 = get_tblock_id(0);\n    iterations_97616 = sdiv_up32(virt_num_tblocks_97609 - phys_tblock_id_97615, sext_i64_i32(num_tblocks_87257));\n    for (int32_t i_97617 = 0; i_97617 < iterations_97616; i_97617++) {\n        int32_t virt_tblock_id_97618;\n        int64_t global_tid_97619;\n        int64_t slice_97620;\n        int64_t gtid_8726",
                                    "3;\n        int64_t remnant_97621;\n        \n        virt_tblock_id_97618 = phys_tblock_id_97615 + i_97617 * sext_i64_i32(num_tblocks_87257);\n        global_tid_97619 = sext_i32_i64(virt_tblock_id_97618) * segmap_tblock_sizze_87256 + sext_i32_i64(local_tid_97611);\n        slice_97620 = num_merges_68217;\n        gtid_87263 = global_tid_97619;\n        remnant_97621 = global_tid_97619 - gtid_87263;\n        if (slt64(gtid_87263, num_merges_68217)) {\n            int64_t index_primexp_90403;\n            bool index_certs_87266;\n            bool index_certs_87267;\n            int64_t data_87272;\n            int64_t i_87278;\n            \n            index_primexp_90403 = mul64(next_stride_68213, gtid_87263);\n            index_certs_87266 = 0;\n            index_certs_87267 = 0;\n            i_87278 = (int64_t) 0;\n            for (int64_t k_87277 = 0; k_87277 < next_stride_68213; k_87277++) {\n                int64_t j_87283;\n                bool cond_87284;\n                bool x_95001;\n                bool cond_87286;\n                bool x_87288;\n                bool y_87289;\n                bool bounds_check_87290;\n                bool loop_not_taken_94989;\n                bool protect_assert_disj_94990;\n                bool protect_assert_disj_95004;\n                bool index_certs_87291;\n                int64_t slice_87292;\n                int64_t slice_87293;\n                bool protect_cond_conj_95005;\n                int64_t leq_arg1_87294;\n                double leq_arg1_87295;\n                bool x_87296;\n                bool bounds_check_87297;\n                bool protect_assert_disj_94996;\n                bool protect_assert_disj_95008;\n                bool index_certs_87298;\n                int64_t slice_87299;\n                int64_t leq_arg0_87300;\n                double leq_arg0_87301;\n                bool cond_87302;\n                bool cond_87303;\n                bool lifted_lambda_res_f_res_t_res_87304;\n                bool x_87305;\n                bool x_", "87306;\n                bool y_87307;\n                bool lifted_lambda_res_87308;\n                bool x_95083;\n                bool cond_87285;\n                bool protect_assert_disj_94783;\n                bool index_certs_87327;\n                bool loop_not_taken_94778;\n                bool protect_assert_disj_94779;\n                bool index_certs_87318;\n                int64_t ext_92051;\n                int64_t loopres_87309;\n                int64_t loopres_87310;\n                double loopres_87311;\n                int64_t loopres_87313;\n                int64_t i_tmp_97622;\n                \n                j_87283 = sub64(k_87277, i_87278);\n                cond_87284 = j_87283 == j_m_i_68235;\n                x_95001 = !cond_87284;\n                cond_87286 = slt64(i_87278, stride_68212);\n                x_87288 = sle64((int64_t) 0, j_87283);\n                y_87289 = slt64(j_87283, j_m_i_68235);\n                bounds_check_87290 = x_87288 && y_87289;\n                loop_not_taken_94989 = !cond_87286;\n                protect_assert_disj_94990 = bounds_check_87290 || loop_not_taken_94989;\n                protect_assert_disj_95004 = cond_87284 || protect_assert_disj_94990;\n                if (!protect_assert_disj_95004) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 136) == -1) {\n                            global_failure_args[0] = (int64_t) j_87283;\n                            global_failure_args[1] = (int64_t) j_m_i_68235;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_87292 = stride_68212 + j_87283;\n                slice_87293 = slice_87292 + index_primexp_90403;\n                protect_cond_conj_95005 = cond_87286 && x_95001;\n                if (protect_cond_conj_95005) {\n                    int64_t x_94991 = ((__global int64_t *) mem_param_91508)[slic", "e_87293];\n                    \n                    leq_arg1_87294 = x_94991;\n                } else {\n                    leq_arg1_87294 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95005) {\n                    double x_94993 = ((__global double *) mem_param_91511)[slice_87293];\n                    \n                    leq_arg1_87295 = x_94993;\n                } else {\n                    leq_arg1_87295 = 0.0;\n                }\n                x_87296 = sle64((int64_t) 0, i_87278);\n                bounds_check_87297 = cond_87286 && x_87296;\n                protect_assert_disj_94996 = bounds_check_87297 || loop_not_taken_94989;\n                protect_assert_disj_95008 = cond_87284 || protect_assert_disj_94996;\n                if (!protect_assert_disj_95008) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 137) == -1) {\n                            global_failure_args[0] = (int64_t) i_87278;\n                            global_failure_args[1] = (int64_t) stride_68212;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_87299 = i_87278 + index_primexp_90403;\n                if (protect_cond_conj_95005) {\n                    int64_t x_94997 = ((__global int64_t *) mem_param_91508)[slice_87299];\n                    \n                    leq_arg0_87300 = x_94997;\n                } else {\n                    leq_arg0_87300 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95005) {\n                    double x_94999 = ((__global double *) mem_param_91511)[slice_87299];\n                    \n                    leq_arg0_87301 = x_94999;\n                } else {\n                    leq_arg0_87301 = 0.0;\n                }\n                cond_87302 = slt64(leq_arg0_87300, leq_arg1_87294);\n                cond_87303 = leq_arg0_87300 == leq_ar",
                                    "g1_87294;\n                lifted_lambda_res_f_res_t_res_87304 = leq_arg0_87301 <= leq_arg1_87295;\n                x_87305 = cond_87303 && lifted_lambda_res_f_res_t_res_87304;\n                x_87306 = !cond_87302;\n                y_87307 = x_87305 && x_87306;\n                lifted_lambda_res_87308 = cond_87302 || y_87307;\n                x_95083 = cond_87286 && lifted_lambda_res_87308;\n                cond_87285 = cond_87284 || x_95083;\n                protect_assert_disj_94783 = cond_87285 || bounds_check_87290;\n                if (!protect_assert_disj_94783) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 138) == -1) {\n                            global_failure_args[0] = (int64_t) j_87283;\n                            global_failure_args[1] = (int64_t) j_m_i_68235;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_94778 = !cond_87285;\n                protect_assert_disj_94779 = bounds_check_87297 || loop_not_taken_94778;\n                if (!protect_assert_disj_94779) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 139) == -1) {\n                            global_failure_args[0] = (int64_t) i_87278;\n                            global_failure_args[1] = (int64_t) stride_68212;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_87285) {\n                    ext_92051 = slice_87299;\n                } else {\n                    ext_92051 = slice_87293;\n                }\n                if (cond_87285) {\n                    int64_t tmp_87314;\n                    int64_t tmp_87320;\n                    double tmp_87321;\n                    int64_t tmp_87323;\n             ", "       \n                    tmp_87314 = add64((int64_t) 1, i_87278);\n                    tmp_87320 = ((__global int64_t *) mem_param_91508)[slice_87299];\n                    tmp_87321 = ((__global double *) mem_param_91511)[slice_87299];\n                    tmp_87323 = ((__global int64_t *) mem_param_91518)[slice_87299];\n                    loopres_87309 = tmp_87314;\n                    loopres_87310 = tmp_87320;\n                    loopres_87311 = tmp_87321;\n                    loopres_87313 = tmp_87323;\n                } else {\n                    int64_t tmp_87330;\n                    double tmp_87331;\n                    int64_t tmp_87333;\n                    \n                    tmp_87330 = ((__global int64_t *) mem_param_91508)[slice_87293];\n                    tmp_87331 = ((__global double *) mem_param_91511)[slice_87293];\n                    tmp_87333 = ((__global int64_t *) mem_param_91518)[slice_87293];\n                    loopres_87309 = i_87278;\n                    loopres_87310 = tmp_87330;\n                    loopres_87311 = tmp_87331;\n                    loopres_87313 = tmp_87333;\n                }\n                ((__global int64_t *) mem_91985)[gtid_87263 + k_87277 * num_merges_68217] = loopres_87310;\n                ((__global double *) mem_91996)[gtid_87263 + k_87277 * num_merges_68217] = loopres_87311;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) mem_92024)[gtid_87263 + k_87277 * binop_y_92013 + i_0 * num_merges_68217] = ((__global double *) mem_92035)[ext_92051 + i_0 * loop_dz2084Uz2082U_68206];\n                }\n                ((__global int64_t *) mem_92007)[gtid_87263 + k_87277 * num_merges_68217] = loopres_87313;\n                i_tmp_97622 = loopres_87309;\n                i_87278 = i_tmp_97622;\n            }\n            data_87272 = i_87278;\n            for (int64_t i_0 = 0; i_0 < next_stride_68213; i_0++) {\n                ((__global int64_t *) mem_92075)[gtid_87263 + i_0 * num_m", "erges_68217] = ((__global int64_t *) mem_91985)[gtid_87263 + i_0 * num_merges_68217];\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_68213; i_0++) {\n                ((__global double *) mem_92086)[gtid_87263 + i_0 * num_merges_68217] = ((__global double *) mem_91996)[gtid_87263 + i_0 * num_merges_68217];\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_68213; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__global double *) mem_92103)[gtid_87263 + (i_0 * (num_merges_68217 * dim_48135) + i_1 * num_merges_68217)] = ((__global double *) mem_92024)[gtid_87263 + (i_0 * binop_y_92013 + i_1 * num_merges_68217)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_68213; i_0++) {\n                ((__global int64_t *) mem_92114)[gtid_87263 + i_0 * num_merges_68217] = ((__global int64_t *) mem_92007)[gtid_87263 + i_0 * num_merges_68217];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_87256\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87667_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87667(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t merge_block_sizze_68035, int64_t stride_68212, int64_t next_stride_68213, int64_t num_merges_68217, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, int64_t j_m_i_68235, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91525, __global unsigned char *mem_91528)\n{\n    #define segmap_tblock_sizze_87661 (sort_for_Skyline_doublezisegmap_87667zisegmap_tblock_sizze_87661)\n    \n    volatile __local int loc",
                                    "al_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97728;\n    int32_t tblock_sizze_97731;\n    int32_t wave_sizze_97730;\n    int32_t block_id_97729;\n    int32_t global_tid_97727;\n    int64_t phys_tid_87667;\n    int64_t global_tid_97732;\n    int64_t slice_97733;\n    int64_t slice_97734;\n    int64_t gtid_87665;\n    int64_t remnant_97735;\n    int64_t gtid_87666;\n    int64_t remnant_97736;\n    \n    local_tid_97728 = get_local_id(0);\n    tblock_sizze_97731 = get_local_size(0);\n    wave_sizze_97730 = LOCKSTEP_WIDTH;\n    block_id_97729 = get_tblock_id(0);\n    global_tid_97727 = block_id_97729 * tblock_sizze_97731 + local_tid_97728;\n    phys_tid_87667 = sext_i32_i64(global_tid_97727);\n    global_tid_97732 = sext_i32_i64(block_id_97729) * segmap_tblock_sizze_87661 + sext_i32_i64(local_tid_97728);\n    slice_97733 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n    slice_97734 = num_merges_68217 * slice_97733;\n    gtid_87665 = squot64(global_tid_97732, slice_97733);\n    remnant_97735 = global_tid_97732 - gtid_87665 * slice_97733;\n    gtid_87666 = remnant_97735;\n    remnant_97736 = remnant_97735 - gtid_87666;\n    if (slt64(gtid_87665, num_merges_68217) && slt64(gtid_87666, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234)) {\n        int64_t index_primexp_90427;\n        bool index_certs_87669;\n        bool index_certs_87670;\n        int64_t split_count_arg3_87672;\n        int64_t defunc_0_split_count_res_87673;\n        int64_t defunc_0_split_count_res_87674;\n        int64_t defunc_0_split_count_res_87675;\n        int64_t defunc_0_split_count_res_87676;\n        int64_t defunc_0_split_count_res_87677;\n        bool loop_cond_87678;\n        bool defunc_0_split_count_res_87679;\n        int64_t defunc_0_split_count_res_87680;\n        int64_t defunc_0_split_count_res_87681;\n        int64_t defunc_0_split_count_res_87682;\n        int64_t defunc_0_split_count_res_87683;\n        int64_t defunc_0_split_count_res_87684;\n        bool ", "loop_while_87685;\n        int64_t ss_87686;\n        int64_t ss_87687;\n        int64_t tt_87688;\n        int64_t tt_87689;\n        int64_t count_87690;\n        \n        index_primexp_90427 = mul64(next_stride_68213, gtid_87665);\n        index_certs_87669 = 0;\n        index_certs_87670 = 0;\n        split_count_arg3_87672 = mul64(merge_block_sizze_68035, gtid_87666);\n        futrts_lifted_normalizze_10027(&defunc_0_split_count_res_87673, &defunc_0_split_count_res_87674, &defunc_0_split_count_res_87675, &defunc_0_split_count_res_87676, &defunc_0_split_count_res_87677, (int64_t) 0, stride_68212, (int64_t) 0, j_m_i_68235, split_count_arg3_87672);\n        loop_cond_87678 = slt64((int64_t) 0, defunc_0_split_count_res_87677);\n        loop_while_87685 = loop_cond_87678;\n        ss_87686 = defunc_0_split_count_res_87673;\n        ss_87687 = defunc_0_split_count_res_87674;\n        tt_87688 = defunc_0_split_count_res_87675;\n        tt_87689 = defunc_0_split_count_res_87676;\n        count_87690 = defunc_0_split_count_res_87677;\n        while (loop_while_87685) {\n            int64_t zlze_lhs_87691;\n            bool cond_87692;\n            int64_t defunc_0_lifted_step_res_87693;\n            int64_t defunc_0_lifted_step_res_87694;\n            int64_t defunc_0_lifted_step_res_87695;\n            int64_t defunc_0_lifted_step_res_87696;\n            int64_t loopres_87775;\n            int64_t loopres_87776;\n            int64_t loopres_87777;\n            int64_t loopres_87778;\n            int64_t loopres_87779;\n            bool loop_cond_87780;\n            bool loop_while_tmp_97737;\n            int64_t ss_tmp_97738;\n            int64_t ss_tmp_97739;\n            int64_t tt_tmp_97740;\n            int64_t tt_tmp_97741;\n            int64_t count_tmp_97742;\n            \n            zlze_lhs_87691 = sub64(ss_87687, ss_87686);\n            cond_87692 = sle64(zlze_lhs_87691, (int64_t) 0);\n            if (cond_87692) {\n                int64_t tmp_87697 = add64(tt_87688, count_87690);\n                ", "\n                defunc_0_lifted_step_res_87693 = ss_87686;\n                defunc_0_lifted_step_res_87694 = tmp_87697;\n                defunc_0_lifted_step_res_87695 = tt_87689;\n                defunc_0_lifted_step_res_87696 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_87698;\n                bool cond_87699;\n                int64_t defunc_0_lifted_step_res_f_res_87700;\n                int64_t defunc_0_lifted_step_res_f_res_87701;\n                int64_t defunc_0_lifted_step_res_f_res_87702;\n                int64_t defunc_0_lifted_step_res_f_res_87703;\n                \n                zlze_lhs_87698 = sub64(tt_87689, tt_87688);\n                cond_87699 = sle64(zlze_lhs_87698, (int64_t) 0);\n                if (cond_87699) {\n                    int64_t tmp_87704 = add64(ss_87686, count_87690);\n                    \n                    defunc_0_lifted_step_res_f_res_87700 = tmp_87704;\n                    defunc_0_lifted_step_res_f_res_87701 = tt_87688;\n                    defunc_0_lifted_step_res_f_res_87702 = tt_87689;\n                    defunc_0_lifted_step_res_f_res_87703 = (int64_t) 0;\n                } else {\n                    bool cond_87705;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87706;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87707;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87708;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87709;\n                    \n                    cond_87705 = count_87690 == (int64_t) 1;\n                    if (cond_87705) {\n                        bool x_87710;\n                        bool y_87711;\n                        bool bounds_check_87712;\n                        bool index_certs_87713;\n                        bool x_87717;\n                        bool y_87718;\n                        bool bounds_check_87719;\n                        bool index_certs_87720;\n                        int64_t slice_87714;\n         ",
                                    "               int64_t leq_arg1_87715;\n                        double leq_arg1_87716;\n                        int64_t slice_87721;\n                        int64_t slice_87722;\n                        int64_t leq_arg0_87723;\n                        double leq_arg0_87724;\n                        bool cond_87725;\n                        bool cond_87726;\n                        bool lifted_lambda_res_f_res_t_res_87727;\n                        bool x_87728;\n                        bool x_87729;\n                        bool y_87730;\n                        bool lifted_lambda_res_87731;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_87732;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_87733;\n                        \n                        x_87710 = sle64((int64_t) 0, ss_87686);\n                        y_87711 = slt64(ss_87686, stride_68212);\n                        bounds_check_87712 = x_87710 && y_87711;\n                        if (!bounds_check_87712) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 153) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_87686;\n                                    global_failure_args[1] = (int64_t) stride_68212;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        x_87717 = sle64((int64_t) 0, tt_87688);\n                        y_87718 = slt64(tt_87688, j_m_i_68235);\n                        bounds_check_87719 = x_87717 && y_87718;\n                        if (!bounds_check_87719) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 154) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_87688;\n                                    global_failure_args[1] = (int64_", "t) j_m_i_68235;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        slice_87714 = ss_87686 + index_primexp_90427;\n                        leq_arg1_87715 = ((__global int64_t *) mem_param_91508)[slice_87714];\n                        leq_arg1_87716 = ((__global double *) mem_param_91511)[slice_87714];\n                        slice_87721 = stride_68212 + tt_87688;\n                        slice_87722 = slice_87721 + index_primexp_90427;\n                        leq_arg0_87723 = ((__global int64_t *) mem_param_91508)[slice_87722];\n                        leq_arg0_87724 = ((__global double *) mem_param_91511)[slice_87722];\n                        cond_87725 = slt64(leq_arg0_87723, leq_arg1_87715);\n                        cond_87726 = leq_arg0_87723 == leq_arg1_87715;\n                        lifted_lambda_res_f_res_t_res_87727 = leq_arg0_87724 <= leq_arg1_87716;\n                        x_87728 = cond_87726 && lifted_lambda_res_f_res_t_res_87727;\n                        x_87729 = !cond_87725;\n                        y_87730 = x_87728 && x_87729;\n                        lifted_lambda_res_87731 = cond_87725 || y_87730;\n                        if (lifted_lambda_res_87731) {\n                            int64_t tmp_87734 = add64((int64_t) 1, tt_87688);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87732 = ss_87686;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87733 = tmp_87734;\n                        } else {\n                            int64_t tmp_87735 = add64((int64_t) 1, ss_87686);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87732 = tmp_87735;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87733 = tt_87688;\n                        }\n                        defunc_0_lifted_step_res", "_f_res_f_res_87706 = defunc_0_lifted_step_res_f_res_f_res_t_res_87732;\n                        defunc_0_lifted_step_res_f_res_f_res_87707 = defunc_0_lifted_step_res_f_res_f_res_t_res_87733;\n                        defunc_0_lifted_step_res_f_res_f_res_87708 = tt_87689;\n                        defunc_0_lifted_step_res_f_res_f_res_87709 = (int64_t) 0;\n                    } else {\n                        int64_t m_87736;\n                        int64_t n_87737;\n                        bool cond_87738;\n                        int64_t zgze_lhs_87739;\n                        bool cond_f_res_87740;\n                        bool x_87741;\n                        bool y_87742;\n                        bool cond_87743;\n                        bool leq_y_x_87744;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_87769;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_87770;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_87771;\n                        \n                        m_87736 = sdiv64(count_87690, (int64_t) 2);\n                        n_87737 = sub64(count_87690, m_87736);\n                        cond_87738 = n_87737 == (int64_t) 0;\n                        zgze_lhs_87739 = add64(ss_87686, m_87736);\n                        cond_f_res_87740 = sle64(ss_87687, zgze_lhs_87739);\n                        x_87741 = !cond_87738;\n                        y_87742 = cond_f_res_87740 && x_87741;\n                        cond_87743 = cond_87738 || y_87742;\n                        if (cond_87743) {\n                            leq_y_x_87744 = 1;\n                        } else {\n                            bool x_87745;\n                            bool y_87746;\n                            bool bounds_check_87747;\n                            bool index_certs_87748;\n                            int64_t zm_lhs_87752;\n                            int64_t leq_arg0_87753;\n                            bool x_87754;\n          ",
                                    "                  bool y_87755;\n                            bool bounds_check_87756;\n                            bool index_certs_87757;\n                            int64_t slice_87749;\n                            int64_t leq_arg1_87750;\n                            double leq_arg1_87751;\n                            int64_t slice_87758;\n                            int64_t slice_87759;\n                            int64_t leq_arg0_87760;\n                            double leq_arg0_87761;\n                            bool cond_87762;\n                            bool cond_87763;\n                            bool lifted_lambda_res_f_res_t_res_87764;\n                            bool x_87765;\n                            bool x_87766;\n                            bool y_87767;\n                            bool lifted_lambda_res_87768;\n                            \n                            x_87745 = sle64((int64_t) 0, zgze_lhs_87739);\n                            y_87746 = slt64(zgze_lhs_87739, stride_68212);\n                            bounds_check_87747 = x_87745 && y_87746;\n                            if (!bounds_check_87747) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 155) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_87739;\n                                        global_failure_args[1] = (int64_t) stride_68212;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            zm_lhs_87752 = add64(tt_87688, n_87737);\n                            leq_arg0_87753 = sub64(zm_lhs_87752, (int64_t) 1);\n                            x_87754 = sle64((int64_t) 0, leq_arg0_87753);\n                            y_87755 = slt64(leq_arg0_87753, j_m_i_68235);\n                            bounds_check_87756 = x_87754 && y_8775", "5;\n                            if (!bounds_check_87756) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 156) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_87753;\n                                        global_failure_args[1] = (int64_t) j_m_i_68235;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            slice_87749 = zgze_lhs_87739 + index_primexp_90427;\n                            leq_arg1_87750 = ((__global int64_t *) mem_param_91508)[slice_87749];\n                            leq_arg1_87751 = ((__global double *) mem_param_91511)[slice_87749];\n                            slice_87758 = stride_68212 + leq_arg0_87753;\n                            slice_87759 = slice_87758 + index_primexp_90427;\n                            leq_arg0_87760 = ((__global int64_t *) mem_param_91508)[slice_87759];\n                            leq_arg0_87761 = ((__global double *) mem_param_91511)[slice_87759];\n                            cond_87762 = slt64(leq_arg0_87760, leq_arg1_87750);\n                            cond_87763 = leq_arg0_87760 == leq_arg1_87750;\n                            lifted_lambda_res_f_res_t_res_87764 = leq_arg0_87761 <= leq_arg1_87751;\n                            x_87765 = cond_87763 && lifted_lambda_res_f_res_t_res_87764;\n                            x_87766 = !cond_87762;\n                            y_87767 = x_87765 && x_87766;\n                            lifted_lambda_res_87768 = cond_87762 || y_87767;\n                            leq_y_x_87744 = lifted_lambda_res_87768;\n                        }\n                        if (leq_y_x_87744) {\n                            int64_t tmp_87772;\n                            int64_t tmp_87773;\n                            \n                            ", "tmp_87772 = add64(tt_87688, n_87737);\n                            tmp_87773 = sub64(count_87690, n_87737);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87769 = tmp_87772;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87770 = tt_87689;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87771 = tmp_87773;\n                        } else {\n                            int64_t tmp_87774 = add64(tt_87688, n_87737);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87769 = tt_87688;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87770 = tmp_87774;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87771 = count_87690;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_87706 = ss_87686;\n                        defunc_0_lifted_step_res_f_res_f_res_87707 = defunc_0_lifted_step_res_f_res_f_res_f_res_87769;\n                        defunc_0_lifted_step_res_f_res_f_res_87708 = defunc_0_lifted_step_res_f_res_f_res_f_res_87770;\n                        defunc_0_lifted_step_res_f_res_f_res_87709 = defunc_0_lifted_step_res_f_res_f_res_f_res_87771;\n                    }\n                    defunc_0_lifted_step_res_f_res_87700 = defunc_0_lifted_step_res_f_res_f_res_87706;\n                    defunc_0_lifted_step_res_f_res_87701 = defunc_0_lifted_step_res_f_res_f_res_87707;\n                    defunc_0_lifted_step_res_f_res_87702 = defunc_0_lifted_step_res_f_res_f_res_87708;\n                    defunc_0_lifted_step_res_f_res_87703 = defunc_0_lifted_step_res_f_res_f_res_87709;\n                }\n                defunc_0_lifted_step_res_87693 = defunc_0_lifted_step_res_f_res_87700;\n                defunc_0_lifted_step_res_87694 = defunc_0_lifted_step_res_f_res_87701;\n                defunc_0_lifted_step_res_87695 = defunc_0_lifted_step_res_f_res_87702;\n                defunc_0_lifted_step_res_8",
                                    "7696 = defunc_0_lifted_step_res_f_res_87703;\n            }\n            futrts_lifted_normalizze_10027(&loopres_87775, &loopres_87776, &loopres_87777, &loopres_87778, &loopres_87779, defunc_0_lifted_step_res_87693, ss_87687, defunc_0_lifted_step_res_87694, defunc_0_lifted_step_res_87695, defunc_0_lifted_step_res_87696);\n            loop_cond_87780 = slt64((int64_t) 0, loopres_87779);\n            loop_while_tmp_97737 = loop_cond_87780;\n            ss_tmp_97738 = loopres_87775;\n            ss_tmp_97739 = loopres_87776;\n            tt_tmp_97740 = loopres_87777;\n            tt_tmp_97741 = loopres_87778;\n            count_tmp_97742 = loopres_87779;\n            loop_while_87685 = loop_while_tmp_97737;\n            ss_87686 = ss_tmp_97738;\n            ss_87687 = ss_tmp_97739;\n            tt_87688 = tt_tmp_97740;\n            tt_87689 = tt_tmp_97741;\n            count_87690 = count_tmp_97742;\n        }\n        defunc_0_split_count_res_87679 = loop_while_87685;\n        defunc_0_split_count_res_87680 = ss_87686;\n        defunc_0_split_count_res_87681 = ss_87687;\n        defunc_0_split_count_res_87682 = tt_87688;\n        defunc_0_split_count_res_87683 = tt_87689;\n        defunc_0_split_count_res_87684 = count_87690;\n        ((__global int64_t *) mem_91525)[gtid_87665 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 + gtid_87666] = defunc_0_split_count_res_87680;\n        ((__global int64_t *) mem_91528)[gtid_87665 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 + gtid_87666] = defunc_0_split_count_res_87682;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87661\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87805_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87805(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t loop_dz2084Uz2082U_68206, int64_t stride_68212, int64_t next_stride_68213, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_6", "8234, int64_t num_tblocks_87791, int32_t virt_num_tblocks_97743, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_param_91518, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91525, __global unsigned char *mem_91528, __global unsigned char *mem_91539, __global unsigned char *mem_91544, __global unsigned char *mem_91547, __global unsigned char *mem_91550, __global unsigned char *mem_91567, __global unsigned char *mem_91570, __global unsigned char *mem_91573, __global unsigned char *mem_91576, __global unsigned char *mem_91577, __global unsigned char *mem_91580, __global unsigned char *mem_91581)\n{\n    #define segmap_tblock_sizze_87790 (sort_for_Skyline_doublezisegmap_87805zisegmap_tblock_sizze_87790)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97745;\n    int32_t tblock_sizze_97748;\n    int32_t wave_sizze_97747;\n    int32_t block_id_97746;\n    int32_t global_tid_97744;\n    int64_t phys_tid_87805;\n    int32_t phys_tblock_id_97749;\n    int32_t iterations_97750;\n    \n    local_tid_97745 = get_local_id(0);\n    tblock_sizze_97748 = get_local_size(0);\n    wave_sizze_97747 = LOCKSTEP_WIDTH;\n    block_id_97746 = get_tblock_id(0);\n    global_tid_97744 = block_id_97746 * tblock_sizze_97748 + local_tid_97745;\n    phys_tid_87805 = sext_i32_i64(global_tid_97744);\n    phys_tblock_id_97749 = get_tblock_id(0);\n    iterations_97750 = sdiv_up32(virt_num_tblocks_97743 - phys_tblock_id_97749, sext_i64_i32(num_tblocks_87791));\n    for (int32_t i_97751 = 0; i_97751 < iterations_97750; i_97751++) {\n        int32_t virt_tblock_id_97752;\n        int64_t global_tid_97753;\n        int64_t slice_97754;\n        int64_t slice_97755;\n        int64_t gtid_87803;\n        int6", "4_t remnant_97756;\n        int64_t gtid_87804;\n        int64_t remnant_97757;\n        \n        virt_tblock_id_97752 = phys_tblock_id_97749 + i_97751 * sext_i64_i32(num_tblocks_87791);\n        global_tid_97753 = sext_i32_i64(virt_tblock_id_97752) * segmap_tblock_sizze_87790 + sext_i32_i64(local_tid_97745);\n        slice_97754 = num_blocks_68233;\n        slice_97755 = num_merges_68217 * slice_97754;\n        gtid_87803 = squot64(global_tid_97753, slice_97754);\n        remnant_97756 = global_tid_97753 - gtid_87803 * slice_97754;\n        gtid_87804 = remnant_97756;\n        remnant_97757 = remnant_97756 - gtid_87804;\n        if (slt64(gtid_87803, num_merges_68217) && slt64(gtid_87804, num_blocks_68233)) {\n            bool y_87813;\n            bool index_certs_87815;\n            int64_t defunc_0_f_res_87816;\n            int64_t defunc_0_f_res_87817;\n            int64_t tmp_87818;\n            bool x_87819;\n            bool y_87820;\n            bool bounds_check_87821;\n            bool index_certs_87822;\n            int64_t defunc_0_f_res_87823;\n            int64_t defunc_0_f_res_87824;\n            int64_t merge_sequential_arg2_87825;\n            int64_t merge_sequential_arg2_87826;\n            int64_t j_m_i_87827;\n            bool empty_slice_87828;\n            int64_t m_87829;\n            int64_t i_p_m_t_s_87830;\n            bool zzero_leq_i_p_m_t_s_87831;\n            bool i_p_m_t_s_leq_w_87832;\n            bool zzero_lte_i_87833;\n            bool i_lte_j_87834;\n            bool y_87835;\n            bool y_87836;\n            bool forwards_ok_87837;\n            bool ok_or_empty_87838;\n            bool index_certs_87839;\n            int64_t j_m_i_87840;\n            bool empty_slice_87841;\n            int64_t m_87842;\n            int64_t i_p_m_t_s_87843;\n            bool zzero_leq_i_p_m_t_s_87844;\n            bool i_p_m_t_s_leq_w_87845;\n            bool zzero_lte_i_87846;\n            bool i_lte_j_87847;\n            bool y_87848;\n            bool y_87849;\n            bool forw",
                                    "ards_ok_87850;\n            bool ok_or_empty_87851;\n            bool index_certs_87852;\n            bool cond_87853;\n            bool y_87864;\n            bool protect_assert_disj_94815;\n            bool index_certs_87865;\n            int64_t index_primexp_90424;\n            bool index_certs_87807;\n            bool index_certs_87808;\n            int64_t slice_87866;\n            int64_t slice_87859;\n            int64_t ext_91541;\n            int64_t dummy_87854;\n            double dummy_87855;\n            int64_t dummy_87857;\n            \n            y_87813 = slt64(gtid_87804, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);\n            if (!y_87813) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 157) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_87804;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_87816 = ((__global int64_t *) mem_91525)[gtid_87803 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 + gtid_87804];\n            defunc_0_f_res_87817 = ((__global int64_t *) mem_91528)[gtid_87803 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 + gtid_87804];\n            tmp_87818 = add64((int64_t) 1, gtid_87804);\n            x_87819 = sle64((int64_t) 0, tmp_87818);\n            y_87820 = slt64(tmp_87818, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);\n            bounds_check_87821 = x_87819 && y_87820;\n            if (!bounds_check_87821) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 158) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_87818;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n                        ;\n                    }\n                 ", "   local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_87823 = ((__global int64_t *) mem_91525)[gtid_87803 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 + tmp_87818];\n            defunc_0_f_res_87824 = ((__global int64_t *) mem_91528)[gtid_87803 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 + tmp_87818];\n            merge_sequential_arg2_87825 = add64(stride_68212, defunc_0_f_res_87817);\n            merge_sequential_arg2_87826 = add64(stride_68212, defunc_0_f_res_87824);\n            j_m_i_87827 = sub64(merge_sequential_arg2_87826, merge_sequential_arg2_87825);\n            empty_slice_87828 = j_m_i_87827 == (int64_t) 0;\n            m_87829 = sub64(j_m_i_87827, (int64_t) 1);\n            i_p_m_t_s_87830 = add64(merge_sequential_arg2_87825, m_87829);\n            zzero_leq_i_p_m_t_s_87831 = sle64((int64_t) 0, i_p_m_t_s_87830);\n            i_p_m_t_s_leq_w_87832 = slt64(i_p_m_t_s_87830, next_stride_68213);\n            zzero_lte_i_87833 = sle64((int64_t) 0, merge_sequential_arg2_87825);\n            i_lte_j_87834 = sle64(merge_sequential_arg2_87825, merge_sequential_arg2_87826);\n            y_87835 = i_p_m_t_s_leq_w_87832 && zzero_lte_i_87833;\n            y_87836 = zzero_leq_i_p_m_t_s_87831 && y_87835;\n            forwards_ok_87837 = i_lte_j_87834 && y_87836;\n            ok_or_empty_87838 = empty_slice_87828 || forwards_ok_87837;\n            if (!ok_or_empty_87838) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 159) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_87825;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_87826;\n                        global_failure_args[2] = (int64_t) next_stride_68213;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            j_m_i_87840 = sub64(defunc_0_f_res_8", "7823, defunc_0_f_res_87816);\n            empty_slice_87841 = j_m_i_87840 == (int64_t) 0;\n            m_87842 = sub64(j_m_i_87840, (int64_t) 1);\n            i_p_m_t_s_87843 = add64(defunc_0_f_res_87816, m_87842);\n            zzero_leq_i_p_m_t_s_87844 = sle64((int64_t) 0, i_p_m_t_s_87843);\n            i_p_m_t_s_leq_w_87845 = slt64(i_p_m_t_s_87843, next_stride_68213);\n            zzero_lte_i_87846 = sle64((int64_t) 0, defunc_0_f_res_87816);\n            i_lte_j_87847 = sle64(defunc_0_f_res_87816, defunc_0_f_res_87823);\n            y_87848 = i_p_m_t_s_leq_w_87845 && zzero_lte_i_87846;\n            y_87849 = zzero_leq_i_p_m_t_s_87844 && y_87848;\n            forwards_ok_87850 = i_lte_j_87847 && y_87849;\n            ok_or_empty_87851 = empty_slice_87841 || forwards_ok_87850;\n            if (!ok_or_empty_87851) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 160) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_87816;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_87823;\n                        global_failure_args[2] = (int64_t) next_stride_68213;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            cond_87853 = slt64((int64_t) 0, j_m_i_87840);\n            y_87864 = slt64((int64_t) 0, j_m_i_87827);\n            protect_assert_disj_94815 = cond_87853 || y_87864;\n            if (!protect_assert_disj_94815) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 161) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_87827;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            index_primexp_90424 = mul64(next_stride_68213, gtid_87803",
                                    ");\n            index_certs_87807 = 0;\n            index_certs_87808 = 0;\n            slice_87866 = merge_sequential_arg2_87825 + index_primexp_90424;\n            slice_87859 = defunc_0_f_res_87816 + index_primexp_90424;\n            if (cond_87853) {\n                ext_91541 = slice_87859;\n            } else {\n                ext_91541 = slice_87866;\n            }\n            if (cond_87853) {\n                int64_t head_res_87860;\n                double head_res_87861;\n                int64_t head_res_87863;\n                \n                head_res_87860 = ((__global int64_t *) mem_param_91508)[slice_87859];\n                head_res_87861 = ((__global double *) mem_param_91511)[slice_87859];\n                head_res_87863 = ((__global int64_t *) mem_param_91518)[slice_87859];\n                dummy_87854 = head_res_87860;\n                dummy_87855 = head_res_87861;\n                dummy_87857 = head_res_87863;\n            } else {\n                int64_t head_res_87867;\n                double head_res_87868;\n                int64_t head_res_87870;\n                \n                head_res_87867 = ((__global int64_t *) mem_param_91508)[slice_87866];\n                head_res_87868 = ((__global double *) mem_param_91511)[slice_87866];\n                head_res_87870 = ((__global int64_t *) mem_param_91518)[slice_87866];\n                dummy_87854 = head_res_87867;\n                dummy_87855 = head_res_87868;\n                dummy_87857 = head_res_87870;\n            }\n            ((__global int64_t *) mem_91544)[gtid_87803 * num_blocks_68233 + gtid_87804] = dummy_87854;\n            ((__global double *) mem_91547)[gtid_87803 * num_blocks_68233 + gtid_87804] = dummy_87855;\n            ((__global int64_t *) mem_91550)[gtid_87803 * num_blocks_68233 + gtid_87804] = dummy_87857;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_91567)[gtid_87803 * num_blocks_68233 + gtid_87804 + i_0 * (num_blocks_68233 * num_merges_68217", ")] = ((__global double *) mem_91539)[ext_91541 + i_0 * loop_dz2084Uz2082U_68206];\n            }\n            ((__global int64_t *) mem_91570)[gtid_87803 * num_blocks_68233 + gtid_87804] = defunc_0_f_res_87816;\n            ((__global int64_t *) mem_91573)[gtid_87803 * num_blocks_68233 + gtid_87804] = merge_sequential_arg2_87825;\n            ((__global int64_t *) mem_91576)[gtid_87803 * num_blocks_68233 + gtid_87804] = j_m_i_87827;\n            ((__global int64_t *) mem_91580)[gtid_87803 * num_blocks_68233 + gtid_87804] = j_m_i_87840;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_87790\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87894_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87894(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t merge_block_sizze_68035, int64_t loop_dz2084Uz2082U_68206, int64_t next_stride_68213, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t nest_sizze_87789, int64_t num_tblocks_87886, int64_t binop_y_91661, int32_t virt_num_tblocks_97853, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_param_91518, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __global unsigned char *mem_91539, __global unsigned char *mem_91570, __global unsigned char *mem_91573, __global unsigned char *mem_91576, __global unsigned char *mem_91577, __global unsigned char *mem_91580, __global unsigned char *mem_91581, __global unsigned char *mem_91615, __global unsigned char *mem_91632, __global unsigned char *mem_91649, __global unsigned char *mem_91673, __global unsigned char *mem_91732, __global unsigned char *mem_91749, __global unsigned char *mem_91773, __global unsigned char", " *mem_91790)\n{\n    #define segmap_tblock_sizze_87885 (sort_for_Skyline_doublezisegmap_87894zisegmap_tblock_sizze_87885)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97855;\n    int32_t tblock_sizze_97858;\n    int32_t wave_sizze_97857;\n    int32_t block_id_97856;\n    int32_t global_tid_97854;\n    int64_t phys_tid_87894;\n    int32_t phys_tblock_id_97859;\n    int32_t iterations_97860;\n    \n    local_tid_97855 = get_local_id(0);\n    tblock_sizze_97858 = get_local_size(0);\n    wave_sizze_97857 = LOCKSTEP_WIDTH;\n    block_id_97856 = get_tblock_id(0);\n    global_tid_97854 = block_id_97856 * tblock_sizze_97858 + local_tid_97855;\n    phys_tid_87894 = sext_i32_i64(global_tid_97854);\n    phys_tblock_id_97859 = get_tblock_id(0);\n    iterations_97860 = sdiv_up32(virt_num_tblocks_97853 - phys_tblock_id_97859, sext_i64_i32(num_tblocks_87886));\n    for (int32_t i_97861 = 0; i_97861 < iterations_97860; i_97861++) {\n        int32_t virt_tblock_id_97862;\n        int64_t global_tid_97863;\n        int64_t slice_97864;\n        int64_t slice_97865;\n        int64_t gtid_87892;\n        int64_t remnant_97866;\n        int64_t gtid_87893;\n        int64_t remnant_97867;\n        \n        virt_tblock_id_97862 = phys_tblock_id_97859 + i_97861 * sext_i64_i32(num_tblocks_87886);\n        global_tid_97863 = sext_i32_i64(virt_tblock_id_97862) * segmap_tblock_sizze_87885 + sext_i32_i64(local_tid_97855);\n        slice_97864 = num_blocks_68233;\n        slice_97865 = num_merges_68217 * slice_97864;\n        gtid_87892 = squot64(global_tid_97863, slice_97864);\n        remnant_97866 = global_tid_97863 - gtid_87892 * slice_97864;\n        gtid_87893 = remnant_97866;\n        remnant_97867 = remnant_97866 - gtid_87893;\n        if (slt64(gtid_87892, num_merges_68217) && slt64(gtid_87893, num_blocks_6",
                                    "8233)) {\n            int64_t index_primexp_90421;\n            bool index_certs_87896;\n            bool index_certs_87897;\n            int64_t defunc_0_f_res_87898;\n            int64_t merge_sequential_arg2_87899;\n            int64_t j_m_i_87900;\n            bool index_certs_87901;\n            int64_t j_m_i_87902;\n            bool index_certs_87903;\n            int64_t binop_x_91688;\n            int64_t lmad_arg_91689;\n            int64_t data_87908;\n            int64_t i_87914;\n            \n            index_primexp_90421 = mul64(next_stride_68213, gtid_87892);\n            index_certs_87896 = 0;\n            index_certs_87897 = 0;\n            defunc_0_f_res_87898 = ((__global int64_t *) mem_91570)[gtid_87892 * num_blocks_68233 + gtid_87893];\n            merge_sequential_arg2_87899 = ((__global int64_t *) mem_91573)[gtid_87892 * num_blocks_68233 + gtid_87893];\n            j_m_i_87900 = ((__global int64_t *) mem_91576)[gtid_87892 * num_blocks_68233 + gtid_87893];\n            index_certs_87901 = 0;\n            j_m_i_87902 = ((__global int64_t *) mem_91580)[gtid_87892 * num_blocks_68233 + gtid_87893];\n            index_certs_87903 = 0;\n            binop_x_91688 = num_blocks_68233 * gtid_87892;\n            lmad_arg_91689 = gtid_87893 + binop_x_91688;\n            i_87914 = (int64_t) 0;\n            for (int64_t k_87913 = 0; k_87913 < merge_block_sizze_68035; k_87913++) {\n                int64_t j_87919;\n                bool cond_87920;\n                bool x_95049;\n                bool cond_87922;\n                bool x_87924;\n                bool y_87925;\n                bool bounds_check_87926;\n                bool loop_not_taken_95037;\n                bool protect_assert_disj_95038;\n                bool protect_assert_disj_95052;\n                bool index_certs_87927;\n                int64_t slice_87928;\n                int64_t slice_87929;\n                bool protect_cond_conj_95053;\n                int64_t leq_arg1_87930;\n                double leq_arg1_87931;\n      ", "          bool x_87932;\n                bool bounds_check_87933;\n                bool protect_assert_disj_95044;\n                bool protect_assert_disj_95056;\n                bool index_certs_87934;\n                int64_t slice_87935;\n                int64_t slice_87936;\n                int64_t leq_arg0_87937;\n                double leq_arg0_87938;\n                bool cond_87939;\n                bool cond_87940;\n                bool lifted_lambda_res_f_res_t_res_87941;\n                bool x_87942;\n                bool x_87943;\n                bool y_87944;\n                bool lifted_lambda_res_87945;\n                bool x_95089;\n                bool cond_87921;\n                bool protect_assert_disj_94807;\n                bool index_certs_87965;\n                bool loop_not_taken_94802;\n                bool protect_assert_disj_94803;\n                bool index_certs_87955;\n                int64_t ext_91702;\n                int64_t loopres_87946;\n                int64_t loopres_87947;\n                double loopres_87948;\n                int64_t loopres_87950;\n                int64_t i_tmp_97868;\n                \n                j_87919 = sub64(k_87913, i_87914);\n                cond_87920 = j_87919 == j_m_i_87900;\n                x_95049 = !cond_87920;\n                cond_87922 = slt64(i_87914, j_m_i_87902);\n                x_87924 = sle64((int64_t) 0, j_87919);\n                y_87925 = slt64(j_87919, j_m_i_87900);\n                bounds_check_87926 = x_87924 && y_87925;\n                loop_not_taken_95037 = !cond_87922;\n                protect_assert_disj_95038 = bounds_check_87926 || loop_not_taken_95037;\n                protect_assert_disj_95052 = cond_87920 || protect_assert_disj_95038;\n                if (!protect_assert_disj_95052) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 162) == -1) {\n                            global_failure_args[0] = (int64_t) j_87919;\n                            global_", "failure_args[1] = (int64_t) j_m_i_87900;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_87928 = merge_sequential_arg2_87899 + j_87919;\n                slice_87929 = slice_87928 + index_primexp_90421;\n                protect_cond_conj_95053 = cond_87922 && x_95049;\n                if (protect_cond_conj_95053) {\n                    int64_t x_95039 = ((__global int64_t *) mem_param_91508)[slice_87929];\n                    \n                    leq_arg1_87930 = x_95039;\n                } else {\n                    leq_arg1_87930 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95053) {\n                    double x_95041 = ((__global double *) mem_param_91511)[slice_87929];\n                    \n                    leq_arg1_87931 = x_95041;\n                } else {\n                    leq_arg1_87931 = 0.0;\n                }\n                x_87932 = sle64((int64_t) 0, i_87914);\n                bounds_check_87933 = cond_87922 && x_87932;\n                protect_assert_disj_95044 = bounds_check_87933 || loop_not_taken_95037;\n                protect_assert_disj_95056 = cond_87920 || protect_assert_disj_95044;\n                if (!protect_assert_disj_95056) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 163) == -1) {\n                            global_failure_args[0] = (int64_t) i_87914;\n                            global_failure_args[1] = (int64_t) j_m_i_87902;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_87935 = defunc_0_f_res_87898 + i_87914;\n                slice_87936 = slice_87935 + index_primexp_90421;\n                if (protect_cond_conj_95053) {\n                    int64_t x_95045 = ((__global i",
                                    "nt64_t *) mem_param_91508)[slice_87936];\n                    \n                    leq_arg0_87937 = x_95045;\n                } else {\n                    leq_arg0_87937 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95053) {\n                    double x_95047 = ((__global double *) mem_param_91511)[slice_87936];\n                    \n                    leq_arg0_87938 = x_95047;\n                } else {\n                    leq_arg0_87938 = 0.0;\n                }\n                cond_87939 = slt64(leq_arg0_87937, leq_arg1_87930);\n                cond_87940 = leq_arg0_87937 == leq_arg1_87930;\n                lifted_lambda_res_f_res_t_res_87941 = leq_arg0_87938 <= leq_arg1_87931;\n                x_87942 = cond_87940 && lifted_lambda_res_f_res_t_res_87941;\n                x_87943 = !cond_87939;\n                y_87944 = x_87942 && x_87943;\n                lifted_lambda_res_87945 = cond_87939 || y_87944;\n                x_95089 = cond_87922 && lifted_lambda_res_87945;\n                cond_87921 = cond_87920 || x_95089;\n                protect_assert_disj_94807 = cond_87921 || bounds_check_87926;\n                if (!protect_assert_disj_94807) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 164) == -1) {\n                            global_failure_args[0] = (int64_t) j_87919;\n                            global_failure_args[1] = (int64_t) j_m_i_87900;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_94802 = !cond_87921;\n                protect_assert_disj_94803 = bounds_check_87933 || loop_not_taken_94802;\n                if (!protect_assert_disj_94803) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 165) == -1) {\n                            global_failure_args[0] = (int64_t) i_87914;\n             ", "               global_failure_args[1] = (int64_t) j_m_i_87902;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_87921) {\n                    ext_91702 = slice_87936;\n                } else {\n                    ext_91702 = slice_87929;\n                }\n                if (cond_87921) {\n                    int64_t tmp_87951;\n                    int64_t tmp_87958;\n                    double tmp_87959;\n                    int64_t tmp_87961;\n                    \n                    tmp_87951 = add64((int64_t) 1, i_87914);\n                    tmp_87958 = ((__global int64_t *) mem_param_91508)[slice_87936];\n                    tmp_87959 = ((__global double *) mem_param_91511)[slice_87936];\n                    tmp_87961 = ((__global int64_t *) mem_param_91518)[slice_87936];\n                    loopres_87946 = tmp_87951;\n                    loopres_87947 = tmp_87958;\n                    loopres_87948 = tmp_87959;\n                    loopres_87950 = tmp_87961;\n                } else {\n                    int64_t tmp_87968;\n                    double tmp_87969;\n                    int64_t tmp_87971;\n                    \n                    tmp_87968 = ((__global int64_t *) mem_param_91508)[slice_87929];\n                    tmp_87969 = ((__global double *) mem_param_91511)[slice_87929];\n                    tmp_87971 = ((__global int64_t *) mem_param_91518)[slice_87929];\n                    loopres_87946 = i_87914;\n                    loopres_87947 = tmp_87968;\n                    loopres_87948 = tmp_87969;\n                    loopres_87950 = tmp_87971;\n                }\n                ((__global int64_t *) mem_91615)[lmad_arg_91689 + k_87913 * nest_sizze_87789] = loopres_87947;\n                ((__global double *) mem_91632)[lmad_arg_91689 + k_87913 * nest_sizze_87789] = loopres_87948;\n                for (int64_t i_0 = 0; i", "_0 < dim_48135; i_0++) {\n                    ((__global double *) mem_91673)[lmad_arg_91689 + k_87913 * binop_y_91661 + i_0 * nest_sizze_87789] = ((__global double *) mem_91539)[ext_91702 + i_0 * loop_dz2084Uz2082U_68206];\n                }\n                ((__global int64_t *) mem_91649)[lmad_arg_91689 + k_87913 * nest_sizze_87789] = loopres_87950;\n                i_tmp_97868 = loopres_87946;\n                i_87914 = i_tmp_97868;\n            }\n            data_87908 = i_87914;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                ((__global int64_t *) mem_91732)[gtid_87892 * num_blocks_68233 + gtid_87893 + i_0 * (num_blocks_68233 * num_merges_68217)] = ((__global int64_t *) mem_91615)[lmad_arg_91689 + i_0 * nest_sizze_87789];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                ((__global double *) mem_91749)[gtid_87892 * num_blocks_68233 + gtid_87893 + i_0 * (num_blocks_68233 * num_merges_68217)] = ((__global double *) mem_91632)[lmad_arg_91689 + i_0 * nest_sizze_87789];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__global double *) mem_91773)[gtid_87892 * num_blocks_68233 + gtid_87893 + (i_0 * (num_blocks_68233 * num_merges_68217 * dim_48135) + i_1 * (num_blocks_68233 * num_merges_68217))] = ((__global double *) mem_91673)[lmad_arg_91689 + (i_0 * binop_y_91661 + i_1 * nest_sizze_87789)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                ((__global int64_t *) mem_91790)[gtid_87892 * num_blocks_68233 + gtid_87893 + i_0 * (num_blocks_68233 * num_merges_68217)] = ((__global int64_t *) mem_91649)[lmad_arg_91689 + i_0 * nest_sizze_87789];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            ",
                                    "return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_87885\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89747_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89747(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *ext_mem_93624, __global unsigned char *mem_93733)\n{\n    #define segmap_tblock_sizze_89742 (sort_for_Skyline_doublezisegmap_89747zisegmap_tblock_sizze_89742)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98291;\n    int32_t tblock_sizze_98294;\n    int32_t wave_sizze_98293;\n    int32_t block_id_98292;\n    int32_t global_tid_98290;\n    int64_t phys_tid_89747;\n    int64_t global_tid_98295;\n    int64_t slice_98296;\n    int64_t slice_98297;\n    int64_t gtid_89745;\n    int64_t remnant_98298;\n    int64_t gtid_89746;\n    int64_t remnant_98299;\n    \n    local_tid_98291 = get_local_id(0);\n    tblock_sizze_98294 = get_local_size(0);\n    wave_sizze_98293 = LOCKSTEP_WIDTH;\n    block_id_98292 = get_tblock_id(0);\n    global_tid_98290 = block_id_98292 * tblock_sizze_98294 + local_tid_98291;\n    phys_tid_89747 = sext_i32_i64(global_tid_98290);\n    global_tid_98295 = sext_i32_i64(block_id_98292) * segmap_tblock_sizze_89742 + sext_i32_i64(local_tid_98291);\n    slice_98296 = dim_48135;\n    slice_98297 = n_48138 * slice_98296;\n    gtid_89745 = squot64(global_tid_98295, slice_98296);\n    remnant_98298 = global_tid_98295 - gtid_89745 * slice_98296;\n    gtid_89746 = remnant_98298;\n    remnant_98299 = remnant_98298 - gtid_89746;\n    if (slt64(gtid_89745, n_48138) && slt64(gtid_89746, dim_48135)) {\n        double eta_p_89748;\n        double eta_p_89749;\n        double defunc_0_f_res_89750;\n        \n        eta_p_89748 = ((__global double *) ext_mem_93624)[gtid_89745 * dim_48135 + gtid_89746];\n        eta_p_89749 = ((__global double *) start_of_grid_partition_mem_90818)[", "gtid_89746];\n        defunc_0_f_res_89750 = eta_p_89748 - eta_p_89749;\n        ((__global double *) mem_93733)[gtid_89745 * dim_48135 + gtid_89746] = defunc_0_f_res_89750;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89742\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89763_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89763(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_93733)\n{\n    #define segmap_tblock_sizze_89758 (sort_for_Skyline_doublezisegmap_89763zisegmap_tblock_sizze_89758)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98302;\n    int32_t tblock_sizze_98305;\n    int32_t wave_sizze_98304;\n    int32_t block_id_98303;\n    int32_t global_tid_98301;\n    int64_t phys_tid_89763;\n    int64_t global_tid_98306;\n    int64_t slice_98307;\n    int64_t slice_98308;\n    int64_t gtid_89761;\n    int64_t remnant_98309;\n    int64_t gtid_89762;\n    int64_t remnant_98310;\n    \n    local_tid_98302 = get_local_id(0);\n    tblock_sizze_98305 = get_local_size(0);\n    wave_sizze_98304 = LOCKSTEP_WIDTH;\n    block_id_98303 = get_tblock_id(0);\n    global_tid_98301 = block_id_98303 * tblock_sizze_98305 + local_tid_98302;\n    phys_tid_89763 = sext_i32_i64(global_tid_98301);\n    global_tid_98306 = sext_i32_i64(block_id_98303) * segmap_tblock_sizze_89758 + sext_i32_i64(local_tid_98302);\n    slice_98307 = dim_48135;\n    slice_98308 = n_48138 * slice_98307;\n    gtid_89761 = squot64(global_tid_98306, slice_98307);\n    remnant_98309 = global_tid_98306 - gtid_89761 * slice_98307;\n    gtid_89762 = remnant_98309;\n    remnant_98310 = remnant_98309 - gtid_89762;\n    if (slt64(gtid_89761, n_48138) && slt64(gtid_89762, dim_48135)) {\n        double eta_p_89764;\n        double eta_p_89765;\n        double defunc_0_f_res_89766;\n        \n        eta_p_89764 = ((__global double *) mem_93733)[gtid_89761 * dim_48135 + gtid_89762];\n        eta_p_8976", "5 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_89762];\n        defunc_0_f_res_89766 = eta_p_89764 / eta_p_89765;\n        ((__global double *) mem_93733)[gtid_89761 * dim_48135 + gtid_89762] = defunc_0_f_res_89766;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89758\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89775_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89775(__global int *global_failure, int64_t dim_48135, int64_t n_48138, __global unsigned char *mem_93733, __global unsigned char *mem_93736)\n{\n    #define segmap_tblock_sizze_89771 (sort_for_Skyline_doublezisegmap_89775zisegmap_tblock_sizze_89771)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98313;\n    int32_t tblock_sizze_98316;\n    int32_t wave_sizze_98315;\n    int32_t block_id_98314;\n    int32_t global_tid_98312;\n    int64_t phys_tid_89775;\n    int64_t global_tid_98317;\n    int64_t slice_98318;\n    int64_t gtid_89774;\n    int64_t remnant_98319;\n    \n    local_tid_98313 = get_local_id(0);\n    tblock_sizze_98316 = get_local_size(0);\n    wave_sizze_98315 = LOCKSTEP_WIDTH;\n    block_id_98314 = get_tblock_id(0);\n    global_tid_98312 = block_id_98314 * tblock_sizze_98316 + local_tid_98313;\n    phys_tid_89775 = sext_i32_i64(global_tid_98312);\n    global_tid_98317 = sext_i32_i64(block_id_98314) * segmap_tblock_sizze_89771 + sext_i32_i64(local_tid_98313);\n    slice_98318 = n_48138;\n    gtid_89774 = global_tid_98317;\n    remnant_98319 = global_tid_98317 - gtid_89774;\n    if (slt64(gtid_89774, n_48138)) {\n        double f_arg0_89777;\n        int64_t f64_res_89778;\n        \n        f_arg0_89777 = ((__global double *) mem_93733)[gtid_89774 * dim_48135];\n        f64_res_89778 = fptosi_f64_i64(f_arg0_89777);\n        ((__global int64_t *) mem_93736)[gtid_89774] = f64_res_89778;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89771\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89788_dim1, 1, 1)\nvoid sort_for_Skyline_doub",
                                    "lezisegmap_89788(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_89784, int32_t virt_num_tblocks_98340, __global unsigned char *mem_93750, __global unsigned char *mem_93761, __global unsigned char *mem_93779)\n{\n    #define segmap_tblock_sizze_89783 (sort_for_Skyline_doublezisegmap_89788zisegmap_tblock_sizze_89783)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98342;\n    int32_t tblock_sizze_98345;\n    int32_t wave_sizze_98344;\n    int32_t block_id_98343;\n    int32_t global_tid_98341;\n    int64_t phys_tid_89788;\n    int32_t phys_tblock_id_98346;\n    int32_t iterations_98347;\n    \n    local_tid_98342 = get_local_id(0);\n    tblock_sizze_98345 = get_local_size(0);\n    wave_sizze_98344 = LOCKSTEP_WIDTH;\n    block_id_98343 = get_tblock_id(0);\n    global_tid_98341 = block_id_98343 * tblock_sizze_98345 + local_tid_98342;\n    phys_tid_89788 = sext_i32_i64(global_tid_98341);\n    phys_tblock_id_98346 = get_tblock_id(0);\n    iterations_98347 = sdiv_up32(virt_num_tblocks_98340 - phys_tblock_id_98346, sext_i64_i32(num_tblocks_89784));\n    for (int32_t i_98348 = 0; i_98348 < iterations_98347; i_98348++) {\n        int32_t virt_tblock_id_98349;\n        int64_t global_tid_98350;\n        int64_t slice_98351;\n        int64_t gtid_89787;\n        int64_t remnant_98352;\n        \n        virt_tblock_id_98349 = phys_tblock_id_98346 + i_98348 * sext_i64_i32(num_tblocks_89784);\n        global_tid_98350 = sext_i32_i64(virt_tblock_id_98349) * segmap_tblock_sizze_89783 + sext_i32_i64(local_tid_98342);\n        slice_98351 = n_48138;\n        gtid_89787 = global_tid_98350;\n        remnant_98352 = global_tid_98350 - gtid_89787;\n        if (slt64(gtid_89787, n_48138)", ") {\n            for (int64_t i_89792 = 0; i_89792 < arg_67058; i_89792++) {\n                int64_t index_primexp_89794;\n                bool x_89795;\n                bool y_89796;\n                bool bounds_check_89797;\n                bool index_certs_89798;\n                double f_arg0_89799;\n                int64_t f64_res_89800;\n                \n                index_primexp_89794 = add64((int64_t) 1, i_89792);\n                x_89795 = sle64((int64_t) 0, index_primexp_89794);\n                y_89796 = slt64(index_primexp_89794, dim_48135);\n                bounds_check_89797 = x_89795 && y_89796;\n                if (!bounds_check_89797) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 186) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_89794;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_89799 = ((__global double *) mem_93761)[gtid_89787 + index_primexp_89794 * n_48138];\n                f64_res_89800 = fptosi_f64_i64(f_arg0_89799);\n                ((__global int64_t *) mem_93750)[gtid_89787 + index_primexp_89794 * n_48138] = f64_res_89800;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_93779)[gtid_89787 + i_0 * n_48138] = ((__global int64_t *) mem_93750)[gtid_89787 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_89783\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89808_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89808(__", "global int *global_failure, int64_t n_48138, int64_t ext_90914, __global unsigned char *ext_mem_93785, __global unsigned char *mem_93788)\n{\n    #define segmap_tblock_sizze_89804 (sort_for_Skyline_doublezisegmap_89808zisegmap_tblock_sizze_89804)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98356;\n    int32_t tblock_sizze_98359;\n    int32_t wave_sizze_98358;\n    int32_t block_id_98357;\n    int32_t global_tid_98355;\n    int64_t phys_tid_89808;\n    int64_t global_tid_98360;\n    int64_t slice_98361;\n    int64_t gtid_89807;\n    int64_t remnant_98362;\n    \n    local_tid_98356 = get_local_id(0);\n    tblock_sizze_98359 = get_local_size(0);\n    wave_sizze_98358 = LOCKSTEP_WIDTH;\n    block_id_98357 = get_tblock_id(0);\n    global_tid_98355 = block_id_98357 * tblock_sizze_98359 + local_tid_98356;\n    phys_tid_89808 = sext_i32_i64(global_tid_98355);\n    global_tid_98360 = sext_i32_i64(block_id_98357) * segmap_tblock_sizze_89804 + sext_i32_i64(local_tid_98356);\n    slice_98361 = n_48138;\n    gtid_89807 = global_tid_98360;\n    remnant_98362 = global_tid_98360 - gtid_89807;\n    if (slt64(gtid_89807, n_48138)) {\n        int64_t f_arg0_89810;\n        int64_t max_res_89811;\n        \n        f_arg0_89810 = ((__global int64_t *) ext_mem_93785)[gtid_89807 * ext_90914];\n        max_res_89811 = smax64((int64_t) 0, f_arg0_89810);\n        ((__global int64_t *) mem_93788)[gtid_89807] = max_res_89811;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89804\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89821_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89821(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_89817, int32_t virt_num_tblocks_98383, __global unsigned char *mem_93802, __global unsigned char *mem_93813, __global unsigned char *mem_93831)\n{\n    #define segmap_tblock_sizze_89816 (sort_for_Skyline_doublezisegmap_89",
                                    "821zisegmap_tblock_sizze_89816)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98385;\n    int32_t tblock_sizze_98388;\n    int32_t wave_sizze_98387;\n    int32_t block_id_98386;\n    int32_t global_tid_98384;\n    int64_t phys_tid_89821;\n    int32_t phys_tblock_id_98389;\n    int32_t iterations_98390;\n    \n    local_tid_98385 = get_local_id(0);\n    tblock_sizze_98388 = get_local_size(0);\n    wave_sizze_98387 = LOCKSTEP_WIDTH;\n    block_id_98386 = get_tblock_id(0);\n    global_tid_98384 = block_id_98386 * tblock_sizze_98388 + local_tid_98385;\n    phys_tid_89821 = sext_i32_i64(global_tid_98384);\n    phys_tblock_id_98389 = get_tblock_id(0);\n    iterations_98390 = sdiv_up32(virt_num_tblocks_98383 - phys_tblock_id_98389, sext_i64_i32(num_tblocks_89817));\n    for (int32_t i_98391 = 0; i_98391 < iterations_98390; i_98391++) {\n        int32_t virt_tblock_id_98392;\n        int64_t global_tid_98393;\n        int64_t slice_98394;\n        int64_t gtid_89820;\n        int64_t remnant_98395;\n        \n        virt_tblock_id_98392 = phys_tblock_id_98389 + i_98391 * sext_i64_i32(num_tblocks_89817);\n        global_tid_98393 = sext_i32_i64(virt_tblock_id_98392) * segmap_tblock_sizze_89816 + sext_i32_i64(local_tid_98385);\n        slice_98394 = n_48138;\n        gtid_89820 = global_tid_98393;\n        remnant_98395 = global_tid_98393 - gtid_89820;\n        if (slt64(gtid_89820, n_48138)) {\n            for (int64_t i_89825 = 0; i_89825 < arg_67058; i_89825++) {\n                int64_t index_primexp_89827;\n                bool x_89828;\n                bool y_89829;\n                bool bounds_check_89830;\n                bool index_certs_89831;\n                int64_t f_arg0_89832;\n                int64_t max_res_89833;\n                \n                index_primexp_89827 = add64((int64", "_t) 1, i_89825);\n                x_89828 = sle64((int64_t) 0, index_primexp_89827);\n                y_89829 = slt64(index_primexp_89827, dim_48135);\n                bounds_check_89830 = x_89828 && y_89829;\n                if (!bounds_check_89830) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 187) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_89827;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_89832 = ((__global int64_t *) mem_93813)[gtid_89820 + index_primexp_89827 * n_48138];\n                max_res_89833 = smax64((int64_t) 0, f_arg0_89832);\n                ((__global int64_t *) mem_93802)[gtid_89820 + index_primexp_89827 * n_48138] = max_res_89833;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_93831)[gtid_89820 + i_0 * n_48138] = ((__global int64_t *) mem_93802)[gtid_89820 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_89816\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89841_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89841(__global int *global_failure, int64_t n_48138, int64_t ext_93868, __global unsigned char *mem_90842, __global unsigned char *ext_mem_93869, __global unsigned char *mem_93872)\n{\n    #define segmap_tblock_sizze_89837 (sort_for_Skyline_doublezisegmap_89841zisegmap_tblock_sizze_89837)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98400;\n    int32_t tblock_sizze_98403;\n    int", "32_t wave_sizze_98402;\n    int32_t block_id_98401;\n    int32_t global_tid_98399;\n    int64_t phys_tid_89841;\n    int64_t global_tid_98404;\n    int64_t slice_98405;\n    int64_t gtid_89840;\n    int64_t remnant_98406;\n    \n    local_tid_98400 = get_local_id(0);\n    tblock_sizze_98403 = get_local_size(0);\n    wave_sizze_98402 = LOCKSTEP_WIDTH;\n    block_id_98401 = get_tblock_id(0);\n    global_tid_98399 = block_id_98401 * tblock_sizze_98403 + local_tid_98400;\n    phys_tid_89841 = sext_i32_i64(global_tid_98399);\n    global_tid_98404 = sext_i32_i64(block_id_98401) * segmap_tblock_sizze_89837 + sext_i32_i64(local_tid_98400);\n    slice_98405 = n_48138;\n    gtid_89840 = global_tid_98404;\n    remnant_98406 = global_tid_98404 - gtid_89840;\n    if (slt64(gtid_89840, n_48138)) {\n        int64_t min_arg1_90510;\n        int64_t f_arg0_89843;\n        int64_t min_res_89844;\n        \n        min_arg1_90510 = ((__global int64_t *) mem_90842)[(int64_t) 0];\n        f_arg0_89843 = ((__global int64_t *) ext_mem_93869)[gtid_89840 * ext_93868];\n        min_res_89844 = smin64(f_arg0_89843, min_arg1_90510);\n        ((__global int64_t *) mem_93872)[gtid_89840] = min_res_89844;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89837\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89854_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89854(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, int64_t num_tblocks_89850, int32_t virt_num_tblocks_98427, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *mem_93886, __global unsigned char *mem_93897, __global unsigned char *mem_93915)\n{\n    #define segmap_tblock_sizze_89849 (sort_for_Skyline_doublezisegmap_89854zisegmap_tblock_sizze_89849)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            ",
                                    "return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98429;\n    int32_t tblock_sizze_98432;\n    int32_t wave_sizze_98431;\n    int32_t block_id_98430;\n    int32_t global_tid_98428;\n    int64_t phys_tid_89854;\n    int32_t phys_tblock_id_98433;\n    int32_t iterations_98434;\n    \n    local_tid_98429 = get_local_id(0);\n    tblock_sizze_98432 = get_local_size(0);\n    wave_sizze_98431 = LOCKSTEP_WIDTH;\n    block_id_98430 = get_tblock_id(0);\n    global_tid_98428 = block_id_98430 * tblock_sizze_98432 + local_tid_98429;\n    phys_tid_89854 = sext_i32_i64(global_tid_98428);\n    phys_tblock_id_98433 = get_tblock_id(0);\n    iterations_98434 = sdiv_up32(virt_num_tblocks_98427 - phys_tblock_id_98433, sext_i64_i32(num_tblocks_89850));\n    for (int32_t i_98435 = 0; i_98435 < iterations_98434; i_98435++) {\n        int32_t virt_tblock_id_98436;\n        int64_t global_tid_98437;\n        int64_t slice_98438;\n        int64_t gtid_89853;\n        int64_t remnant_98439;\n        \n        virt_tblock_id_98436 = phys_tblock_id_98433 + i_98435 * sext_i64_i32(num_tblocks_89850);\n        global_tid_98437 = sext_i32_i64(virt_tblock_id_98436) * segmap_tblock_sizze_89849 + sext_i32_i64(local_tid_98429);\n        slice_98438 = n_48138;\n        gtid_89853 = global_tid_98437;\n        remnant_98439 = global_tid_98437 - gtid_89853;\n        if (slt64(gtid_89853, n_48138)) {\n            for (int64_t i_89858 = 0; i_89858 < arg_67058; i_89858++) {\n                int64_t index_primexp_89860;\n                bool x_89861;\n                bool y_89862;\n                bool bounds_check_89863;\n                bool index_certs_89864;\n                bool index_certs_89866;\n                int64_t f_arg0_89865;\n                int64_t zm_lhs_89867;\n                int64_t min_arg1_89868;\n                int64_t min_res_89869;\n                \n                index_primexp_89860 = add64((int64_t) 1, i_89858);\n                x_89861 = sle64((int64_t) 0, index_primexp_8986", "0);\n                y_89862 = slt64(index_primexp_89860, dim_48135);\n                bounds_check_89863 = x_89861 && y_89862;\n                if (!bounds_check_89863) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 188) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_89860;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_89863) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 189) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_89860;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_89865 = ((__global int64_t *) mem_93897)[gtid_89853 + index_primexp_89860 * n_48138];\n                zm_lhs_89867 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_89860];\n                min_arg1_89868 = sub64(zm_lhs_89867, (int64_t) 1);\n                min_res_89869 = smin64(f_arg0_89865, min_arg1_89868);\n                ((__global int64_t *) mem_93886)[gtid_89853 + index_primexp_89860 * n_48138] = min_res_89869;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global int64_t *) mem_93915)[gtid_89853 + i_0 * n_48138] = ((__global int64_t *) mem_93886)[gtid_89853 + i_0 * n_48138];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n", "    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_89849\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89883_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89883(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t ext_93964, int64_t ext_93965, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_93966, __global unsigned char *mem_93970)\n{\n    #define segmap_tblock_sizze_89878 (sort_for_Skyline_doublezisegmap_89883zisegmap_tblock_sizze_89878)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98444;\n    int32_t tblock_sizze_98447;\n    int32_t wave_sizze_98446;\n    int32_t block_id_98445;\n    int32_t global_tid_98443;\n    int64_t phys_tid_89883;\n    int64_t global_tid_98448;\n    int64_t slice_98449;\n    int64_t slice_98450;\n    int64_t gtid_89881;\n    int64_t remnant_98451;\n    int64_t gtid_89882;\n    int64_t remnant_98452;\n    \n    local_tid_98444 = get_local_id(0);\n    tblock_sizze_98447 = get_local_size(0);\n    wave_sizze_98446 = LOCKSTEP_WIDTH;\n    block_id_98445 = get_tblock_id(0);\n    global_tid_98443 = block_id_98445 * tblock_sizze_98447 + local_tid_98444;\n    phys_tid_89883 = sext_i32_i64(global_tid_98443);\n    global_tid_98448 = sext_i32_i64(block_id_98445) * segmap_tblock_sizze_89878 + sext_i32_i64(local_tid_98444);\n    slice_98449 = dim_48135;\n    slice_98450 = n_48138 * slice_98449;\n    gtid_89881 = squot64(global_tid_98448, slice_98449);\n    remnant_98451 = global_tid_98448 - gtid_89881 * slice_98449;\n    gtid_89882 = remnant_98451;\n    remnant_98452 = remnant_98451 - gtid_89882;\n    if (slt64(gtid_89881, n_48138) && slt64(gtid_89882, dim_48135)) {\n        int64_t eta_p_89884;\n        int64_t eta_p_89885;\n        int64_t defunc_0_f_res_89886;\n        \n        eta_p_89884 = ((__global int64_t *) ext_mem_93966)[gtid_89881 * ext_93965 + gtid_89882 * ext_93964];\n        eta_p_89885 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_89882];\n       ",
                                    " defunc_0_f_res_89886 = mul64(eta_p_89884, eta_p_89885);\n        ((__global int64_t *) mem_93970)[gtid_89881 * dim_48135 + gtid_89882] = defunc_0_f_res_89886;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89878\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89893_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89893(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t total_grid_no_48146, __global unsigned char *mem_90833, __global unsigned char *mem_93981, __global unsigned char *mem_93984)\n{\n    #define segmap_tblock_sizze_89889 (sort_for_Skyline_doublezisegmap_89893zisegmap_tblock_sizze_89889)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98455;\n    int32_t tblock_sizze_98458;\n    int32_t wave_sizze_98457;\n    int32_t block_id_98456;\n    int32_t global_tid_98454;\n    int64_t phys_tid_89893;\n    int64_t global_tid_98459;\n    int64_t slice_98460;\n    int64_t gtid_89892;\n    int64_t remnant_98461;\n    \n    local_tid_98455 = get_local_id(0);\n    tblock_sizze_98458 = get_local_size(0);\n    wave_sizze_98457 = LOCKSTEP_WIDTH;\n    block_id_98456 = get_tblock_id(0);\n    global_tid_98454 = block_id_98456 * tblock_sizze_98458 + local_tid_98455;\n    phys_tid_89893 = sext_i32_i64(global_tid_98454);\n    global_tid_98459 = sext_i32_i64(block_id_98456) * segmap_tblock_sizze_89889 + sext_i32_i64(local_tid_98455);\n    slice_98460 = n_48138;\n    gtid_89892 = global_tid_98459;\n    remnant_98461 = global_tid_98459 - gtid_89892;\n    if (slt64(gtid_89892, n_48138)) {\n        int64_t defunc_0_foldl_res_89895;\n        int64_t acc_89897;\n        bool x_89900;\n        bool y_89901;\n        bool bounds_check_89902;\n        bool index_certs_89903;\n        bool tmp_89904;\n        bool defunc_0_p_res_89905;\n        int64_t defunc_0_f_res_89906;\n        \n        acc_89897 = (int64_t) 0;\n        for (int64_t i_89896 = 0; i_89896 < dim_48135; i_89896++) {\n  ", "          int64_t b_89898;\n            int64_t defunc_0_f_res_89899;\n            int64_t acc_tmp_98462;\n            \n            b_89898 = ((__global int64_t *) mem_93981)[gtid_89892 + i_89896 * n_48138];\n            defunc_0_f_res_89899 = add64(acc_89897, b_89898);\n            acc_tmp_98462 = defunc_0_f_res_89899;\n            acc_89897 = acc_tmp_98462;\n        }\n        defunc_0_foldl_res_89895 = acc_89897;\n        x_89900 = sle64((int64_t) 0, defunc_0_foldl_res_89895);\n        y_89901 = slt64(defunc_0_foldl_res_89895, total_grid_no_48146);\n        bounds_check_89902 = x_89900 && y_89901;\n        if (!bounds_check_89902) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 190) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_89895;\n                    global_failure_args[1] = (int64_t) total_grid_no_48146;\n                    ;\n                }\n                return;\n            }\n        }\n        tmp_89904 = ((__global bool *) mem_90833)[defunc_0_foldl_res_89895];\n        defunc_0_p_res_89905 = !tmp_89904;\n        defunc_0_f_res_89906 = btoi_bool_i64(defunc_0_p_res_89905);\n        ((__global int64_t *) mem_93984)[gtid_89892] = defunc_0_f_res_89906;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89889\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89945_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89945(__global int *global_failure, int64_t n_48138, __global unsigned char *ext_mem_94107, __global unsigned char *ext_mem_94108, __global unsigned char *mem_94116, __global unsigned char *mem_94118)\n{\n    #define segmap_tblock_sizze_89940 (sort_for_Skyline_doublezisegmap_89945zisegmap_tblock_sizze_89940)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98571;\n    int32_t tblock_sizze_98574;\n    int32_t wave_sizze_98573;\n    int32_t block_id_98572;\n    int32_t global_tid_98570;\n    int64_t phys_tid_89945;\n    int64_t global_tid_98575;\n    int64_t slice", "_98576;\n    int64_t gtid_89944;\n    int64_t remnant_98577;\n    \n    local_tid_98571 = get_local_id(0);\n    tblock_sizze_98574 = get_local_size(0);\n    wave_sizze_98573 = LOCKSTEP_WIDTH;\n    block_id_98572 = get_tblock_id(0);\n    global_tid_98570 = block_id_98572 * tblock_sizze_98574 + local_tid_98571;\n    phys_tid_89945 = sext_i32_i64(global_tid_98570);\n    global_tid_98575 = sext_i32_i64(block_id_98572) * segmap_tblock_sizze_89940 + sext_i32_i64(local_tid_98571);\n    slice_98576 = n_48138;\n    gtid_89944 = global_tid_98575;\n    remnant_98577 = global_tid_98575 - gtid_89944;\n    if (slt64(gtid_89944, n_48138)) {\n        int64_t eta_p_89946;\n        bool cond_89948;\n        int64_t lifted_lambda_res_89949;\n        \n        eta_p_89946 = ((__global int64_t *) ext_mem_94107)[gtid_89944];\n        cond_89948 = eta_p_89946 == (int64_t) 1;\n        if (cond_89948) {\n            int64_t eta_p_89947;\n            int64_t lifted_lambda_res_t_res_89950;\n            \n            eta_p_89947 = ((__global int64_t *) ext_mem_94108)[gtid_89944];\n            lifted_lambda_res_t_res_89950 = sub64(eta_p_89947, (int64_t) 1);\n            lifted_lambda_res_89949 = lifted_lambda_res_t_res_89950;\n        } else {\n            lifted_lambda_res_89949 = (int64_t) -1;\n        }\n        ((__global int64_t *) mem_94116)[gtid_89944] = lifted_lambda_res_89949;\n        ((__global int64_t *) mem_94118)[gtid_89944] = lifted_lambda_res_89949;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89940\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89957_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89957(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t m_68889, int64_t num_tblocks_89963, int32_t virt_num_tblocks_98578, __global unsigned char *ext_mem_93624, __global unsigned char *mem_94111, __global unsigned char *mem_94116)\n{\n    #define segmap_tblock_sizze_89961 (sort_for_Skyline_doublezisegmap_89957zisegmap_tblock_sizze_89961)\n    if (*global_failure >=",
                                    " 0)\n        return;\n    \n    int32_t local_tid_98580;\n    int32_t tblock_sizze_98583;\n    int32_t wave_sizze_98582;\n    int32_t block_id_98581;\n    int32_t global_tid_98579;\n    int64_t phys_tid_89957;\n    int32_t phys_tblock_id_98584;\n    int32_t iterations_98585;\n    \n    local_tid_98580 = get_local_id(0);\n    tblock_sizze_98583 = get_local_size(0);\n    wave_sizze_98582 = LOCKSTEP_WIDTH;\n    block_id_98581 = get_tblock_id(0);\n    global_tid_98579 = block_id_98581 * tblock_sizze_98583 + local_tid_98580;\n    phys_tid_89957 = sext_i32_i64(global_tid_98579);\n    phys_tblock_id_98584 = get_tblock_id(0);\n    iterations_98585 = sdiv_up32(virt_num_tblocks_98578 - phys_tblock_id_98584, sext_i64_i32(num_tblocks_89963));\n    for (int32_t i_98586 = 0; i_98586 < iterations_98585; i_98586++) {\n        int32_t virt_tblock_id_98587;\n        int64_t global_tid_98588;\n        int64_t slice_98589;\n        int64_t slice_98590;\n        int64_t write_i_89953;\n        int64_t remnant_98591;\n        int64_t val_i_89954;\n        int64_t remnant_98592;\n        \n        virt_tblock_id_98587 = phys_tblock_id_98584 + i_98586 * sext_i64_i32(num_tblocks_89963);\n        global_tid_98588 = sext_i32_i64(virt_tblock_id_98587) * segmap_tblock_sizze_89961 + sext_i32_i64(local_tid_98580);\n        slice_98589 = dim_48135;\n        slice_98590 = n_48138 * slice_98589;\n        write_i_89953 = squot64(global_tid_98588, slice_98589);\n        remnant_98591 = global_tid_98588 - write_i_89953 * slice_98589;\n        val_i_89954 = remnant_98591;\n        remnant_98592 = remnant_98591 - val_i_89954;\n        if (slt64(write_i_89953, n_48138) && slt64(val_i_89954, dim_48135)) {\n            double scatter_tmp_elem_89955;\n            int64_t scatter_tmp_i_89956;\n            \n            scatter_tmp_elem_89955 = ((__global double *) ext_mem_93624)[write_i_89953 * dim_48135 + val_i_89954];\n            scatter_tmp_i_89956 = ((__global int64_t *) mem_94116)[write_i_89953];\n            if ((sle64((int64_t) 0, scatter_tmp_i", "_89956) && slt64(scatter_tmp_i_89956, m_68889)) && (sle64((int64_t) 0, val_i_89954) && slt64(val_i_89954, dim_48135))) {\n                ((__global double *) mem_94111)[scatter_tmp_i_89956 * dim_48135 + val_i_89954] = scatter_tmp_elem_89955;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_89961\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89968_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89968(__global int *global_failure, int64_t n_48138, int64_t m_68889, int64_t num_tblocks_89973, int32_t virt_num_tblocks_98593, __global unsigned char *ext_mem_93623, __global unsigned char *mem_94113, __global unsigned char *mem_94118)\n{\n    #define segmap_tblock_sizze_89971 (sort_for_Skyline_doublezisegmap_89968zisegmap_tblock_sizze_89971)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98595;\n    int32_t tblock_sizze_98598;\n    int32_t wave_sizze_98597;\n    int32_t block_id_98596;\n    int32_t global_tid_98594;\n    int64_t phys_tid_89968;\n    int32_t phys_tblock_id_98599;\n    int32_t iterations_98600;\n    \n    local_tid_98595 = get_local_id(0);\n    tblock_sizze_98598 = get_local_size(0);\n    wave_sizze_98597 = LOCKSTEP_WIDTH;\n    block_id_98596 = get_tblock_id(0);\n    global_tid_98594 = block_id_98596 * tblock_sizze_98598 + local_tid_98595;\n    phys_tid_89968 = sext_i32_i64(global_tid_98594);\n    phys_tblock_id_98599 = get_tblock_id(0);\n    iterations_98600 = sdiv_up32(virt_num_tblocks_98593 - phys_tblock_id_98599, sext_i64_i32(num_tblocks_89973));\n    for (int32_t i_98601 = 0; i_98601 < iterations_98600; i_98601++) {\n        int32_t virt_tblock_id_98602;\n        int64_t global_tid_98603;\n        int64_t slice_98604;\n        int64_t write_i_89965;\n        int64_t remnant_98605;\n        \n        virt_tblock_id_98602 = phys_tblock_id_98599 + i_98601 * sext_i64_i32(num_tblocks_89973);\n        global_tid_98603 = sext_i32_i64(virt_tblock_id_9860", "2) * segmap_tblock_sizze_89971 + sext_i32_i64(local_tid_98595);\n        slice_98604 = n_48138;\n        write_i_89965 = global_tid_98603;\n        remnant_98605 = global_tid_98603 - write_i_89965;\n        if (slt64(write_i_89965, n_48138)) {\n            int64_t scatter_tmp_elem_89966;\n            int64_t scatter_tmp_i_89967;\n            \n            scatter_tmp_elem_89966 = ((__global int64_t *) ext_mem_93623)[write_i_89965];\n            scatter_tmp_i_89967 = ((__global int64_t *) mem_94118)[write_i_89965];\n            if (sle64((int64_t) 0, scatter_tmp_i_89967) && slt64(scatter_tmp_i_89967, m_68889)) {\n                ((__global int64_t *) mem_94113)[scatter_tmp_i_89967] = scatter_tmp_elem_89966;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_89971\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_89991_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_89991(__global int *global_failure, int64_t dim_48135, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_94111, __global unsigned char *mem_94126)\n{\n    #define segmap_tblock_sizze_89987 (sort_for_Skyline_doublezisegmap_89991zisegmap_tblock_sizze_89987)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98608;\n    int32_t tblock_sizze_98611;\n    int32_t wave_sizze_98610;\n    int32_t block_id_98609;\n    int32_t global_tid_98607;\n    int64_t phys_tid_89991;\n    int64_t global_tid_98612;\n    int64_t slice_98613;\n    int64_t gtid_89990;\n    int64_t remnant_98614;\n    \n    local_tid_98608 = get_local_id(0);\n    tblock_sizze_98611 = get_local_size(0);\n    wave_sizze_98610 = LOCKSTEP_WIDTH;\n    block_id_98609 = get_tblock_id(0);\n    global_tid_98607 = block_id_98609 * tblock_sizze_98611 + local_tid_98608;\n    phys_tid_89991 = sext_i32_i64(global_tid_98607);\n    global_tid_98612 = sext_i32_i64(block_id_98609) * segmap_tblock_sizze_89987 + sext_i32_i64(local_tid_98",
                                    "608);\n    slice_98613 = dim_48135;\n    gtid_89990 = global_tid_98612;\n    remnant_98614 = global_tid_98612 - gtid_89990;\n    if (slt64(gtid_89990, dim_48135)) {\n        double eta_p_89992;\n        double eta_p_89993;\n        double defunc_0_f_res_89994;\n        \n        eta_p_89992 = ((__global double *) mem_94111)[gtid_89990];\n        eta_p_89993 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_89990];\n        defunc_0_f_res_89994 = eta_p_89992 - eta_p_89993;\n        ((__global double *) mem_94126)[gtid_89990] = defunc_0_f_res_89994;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_89987\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90011_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90011(__global int *global_failure, int64_t dim_48135, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_94126)\n{\n    #define segmap_tblock_sizze_90007 (sort_for_Skyline_doublezisegmap_90011zisegmap_tblock_sizze_90007)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98617;\n    int32_t tblock_sizze_98620;\n    int32_t wave_sizze_98619;\n    int32_t block_id_98618;\n    int32_t global_tid_98616;\n    int64_t phys_tid_90011;\n    int64_t global_tid_98621;\n    int64_t slice_98622;\n    int64_t gtid_90010;\n    int64_t remnant_98623;\n    \n    local_tid_98617 = get_local_id(0);\n    tblock_sizze_98620 = get_local_size(0);\n    wave_sizze_98619 = LOCKSTEP_WIDTH;\n    block_id_98618 = get_tblock_id(0);\n    global_tid_98616 = block_id_98618 * tblock_sizze_98620 + local_tid_98617;\n    phys_tid_90011 = sext_i32_i64(global_tid_98616);\n    global_tid_98621 = sext_i32_i64(block_id_98618) * segmap_tblock_sizze_90007 + sext_i32_i64(local_tid_98617);\n    slice_98622 = dim_48135;\n    gtid_90010 = global_tid_98621;\n    remnant_98623 = global_tid_98621 - gtid_90010;\n    if (slt64(gtid_90010, dim_48135)) {\n        double eta_p_90012;\n        double eta_p_90013;\n        double defunc_0_f_res_90014;\n        \n       ", " eta_p_90012 = ((__global double *) mem_94126)[gtid_90010];\n        eta_p_90013 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_90010];\n        defunc_0_f_res_90014 = eta_p_90012 / eta_p_90013;\n        ((__global double *) mem_94126)[gtid_90010] = defunc_0_f_res_90014;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90007\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90031_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90031(__global int *global_failure, int64_t dim_48135, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_94171, __global unsigned char *mem_94174)\n{\n    #define segmap_tblock_sizze_90027 (sort_for_Skyline_doublezisegmap_90031zisegmap_tblock_sizze_90027)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98725;\n    int32_t tblock_sizze_98728;\n    int32_t wave_sizze_98727;\n    int32_t block_id_98726;\n    int32_t global_tid_98724;\n    int64_t phys_tid_90031;\n    int64_t global_tid_98729;\n    int64_t slice_98730;\n    int64_t gtid_90030;\n    int64_t remnant_98731;\n    \n    local_tid_98725 = get_local_id(0);\n    tblock_sizze_98728 = get_local_size(0);\n    wave_sizze_98727 = LOCKSTEP_WIDTH;\n    block_id_98726 = get_tblock_id(0);\n    global_tid_98724 = block_id_98726 * tblock_sizze_98728 + local_tid_98725;\n    phys_tid_90031 = sext_i32_i64(global_tid_98724);\n    global_tid_98729 = sext_i32_i64(block_id_98726) * segmap_tblock_sizze_90027 + sext_i32_i64(local_tid_98725);\n    slice_98730 = dim_48135;\n    gtid_90030 = global_tid_98729;\n    remnant_98731 = global_tid_98729 - gtid_90030;\n    if (slt64(gtid_90030, dim_48135)) {\n        int64_t eta_p_90032;\n        int64_t eta_p_90033;\n        int64_t defunc_0_f_res_90034;\n        \n        eta_p_90032 = ((__global int64_t *) ext_mem_94171)[gtid_90030];\n        eta_p_90033 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_90030];\n        defunc_0_f_res_90034 = mul64(eta_p_90032, eta_p_90033);\n        ((__g", "lobal int64_t *) mem_94174)[gtid_90030] = defunc_0_f_res_90034;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90027\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90051_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90051(__global int *global_failure, int64_t dim_48135, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_94111, __global unsigned char *ext_mem_94182, __global unsigned char *mem_94206)\n{\n    #define segmap_tblock_sizze_90047 (sort_for_Skyline_doublezisegmap_90051zisegmap_tblock_sizze_90047)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98755;\n    int32_t tblock_sizze_98758;\n    int32_t wave_sizze_98757;\n    int32_t block_id_98756;\n    int32_t global_tid_98754;\n    int64_t phys_tid_90051;\n    int64_t global_tid_98759;\n    int64_t slice_98760;\n    int64_t gtid_90050;\n    int64_t remnant_98761;\n    \n    local_tid_98755 = get_local_id(0);\n    tblock_sizze_98758 = get_local_size(0);\n    wave_sizze_98757 = LOCKSTEP_WIDTH;\n    block_id_98756 = get_tblock_id(0);\n    global_tid_98754 = block_id_98756 * tblock_sizze_98758 + local_tid_98755;\n    phys_tid_90051 = sext_i32_i64(global_tid_98754);\n    global_tid_98759 = sext_i32_i64(block_id_98756) * segmap_tblock_sizze_90047 + sext_i32_i64(local_tid_98755);\n    slice_98760 = dim_48135;\n    gtid_90050 = global_tid_98759;\n    remnant_98761 = global_tid_98759 - gtid_90050;\n    if (slt64(gtid_90050, dim_48135)) {\n        int64_t defunc_0_foldl_res_90579;\n        double eta_p_90052;\n        double eta_p_90053;\n        double defunc_0_f_res_90054;\n        \n        defunc_0_foldl_res_90579 = ((__global int64_t *) ext_mem_94182)[(int64_t) 0];\n        eta_p_90052 = ((__global double *) mem_94111)[gtid_90050];\n        eta_p_90053 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_90579 * dim_48135 + gtid_90050];\n        defunc_0_f_res_90054 = eta_p_90052 - eta_p_90053;\n        ((__global double *) mem_94206)[g",
                                    "tid_90050] = defunc_0_f_res_90054;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90047\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90070_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90070(__global int *global_failure, int64_t map_arg1_69031, int64_t j_m_i_69032, __global unsigned char *ext_mem_94220, __global unsigned char *mem_94226)\n{\n    #define segmap_tblock_sizze_90066 (sort_for_Skyline_doublezisegmap_90070zisegmap_tblock_sizze_90066)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98792;\n    int32_t tblock_sizze_98795;\n    int32_t wave_sizze_98794;\n    int32_t block_id_98793;\n    int32_t global_tid_98791;\n    int64_t phys_tid_90070;\n    int64_t global_tid_98796;\n    int64_t slice_98797;\n    int64_t gtid_90069;\n    int64_t remnant_98798;\n    \n    local_tid_98792 = get_local_id(0);\n    tblock_sizze_98795 = get_local_size(0);\n    wave_sizze_98794 = LOCKSTEP_WIDTH;\n    block_id_98793 = get_tblock_id(0);\n    global_tid_98791 = block_id_98793 * tblock_sizze_98795 + local_tid_98792;\n    phys_tid_90070 = sext_i32_i64(global_tid_98791);\n    global_tid_98796 = sext_i32_i64(block_id_98793) * segmap_tblock_sizze_90066 + sext_i32_i64(local_tid_98792);\n    slice_98797 = j_m_i_69032;\n    gtid_90069 = global_tid_98796;\n    remnant_98798 = global_tid_98796 - gtid_90069;\n    if (slt64(gtid_90069, j_m_i_69032)) {\n        int64_t slice_90273;\n        double eta_p_90071;\n        double lifted_lambda_res_90072;\n        \n        slice_90273 = map_arg1_69031 + gtid_90069;\n        eta_p_90071 = ((__global double *) ext_mem_94220)[slice_90273];\n        lifted_lambda_res_90072 = eta_p_90071 * eta_p_90071;\n        ((__global double *) mem_94226)[gtid_90069] = lifted_lambda_res_90072;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90066\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90091_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90091(__global int *global_failure, int failure_is_an_option, __globa", "l int64_t *global_failure_args, int64_t arg_67058, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *ext_mem_94198, __global unsigned char *mem_94240)\n{\n    #define segmap_tblock_sizze_90087 (sort_for_Skyline_doublezisegmap_90091zisegmap_tblock_sizze_90087)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_98815;\n    int32_t tblock_sizze_98818;\n    int32_t wave_sizze_98817;\n    int32_t block_id_98816;\n    int32_t global_tid_98814;\n    int64_t phys_tid_90091;\n    int64_t global_tid_98819;\n    int64_t slice_98820;\n    int64_t gtid_90090;\n    int64_t remnant_98821;\n    \n    local_tid_98815 = get_local_id(0);\n    tblock_sizze_98818 = get_local_size(0);\n    wave_sizze_98817 = LOCKSTEP_WIDTH;\n    block_id_98816 = get_tblock_id(0);\n    global_tid_98814 = block_id_98816 * tblock_sizze_98818 + local_tid_98815;\n    phys_tid_90091 = sext_i32_i64(global_tid_98814);\n    global_tid_98819 = sext_i32_i64(block_id_98816) * segmap_tblock_sizze_90087 + sext_i32_i64(local_tid_98815);\n    slice_98820 = arg_67058;\n    gtid_90090 = global_tid_98819;\n    remnant_98821 = global_tid_98819 - gtid_90090;\n    if (slt64(gtid_90090, arg_67058)) {\n        double eta_p_90092;\n        double eta_p_90093;\n        int64_t eta_p_90094;\n        int64_t eta_p_90095;\n        int64_t defunc_0_f_res_90096;\n        \n        eta_p_90092 = ((__global double *) mem_94240)[gtid_90090];\n        eta_p_90093 = ((__global double *) ext_mem_94198)[gtid_90090];\n        eta_p_90094 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_90090];\n        eta_p_90095 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_90090];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_90096, eta_p_90092, eta_p_90093, eta_p_90094, eta_p_90095);\n        ((__global int64_t *) mem_94240)[gtid_90090] = defunc_0_f_res_90096;\n    }\n  ", "  \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90087\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90113_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90113(__global int *global_failure, int64_t dim_48135, int64_t index_primexp_69115, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_94111, __global unsigned char *mem_94259)\n{\n    #define segmap_tblock_sizze_90109 (sort_for_Skyline_doublezisegmap_90113zisegmap_tblock_sizze_90109)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98859;\n    int32_t tblock_sizze_98862;\n    int32_t wave_sizze_98861;\n    int32_t block_id_98860;\n    int32_t global_tid_98858;\n    int64_t phys_tid_90113;\n    int64_t global_tid_98863;\n    int64_t slice_98864;\n    int64_t gtid_90112;\n    int64_t remnant_98865;\n    \n    local_tid_98859 = get_local_id(0);\n    tblock_sizze_98862 = get_local_size(0);\n    wave_sizze_98861 = LOCKSTEP_WIDTH;\n    block_id_98860 = get_tblock_id(0);\n    global_tid_98858 = block_id_98860 * tblock_sizze_98862 + local_tid_98859;\n    phys_tid_90113 = sext_i32_i64(global_tid_98858);\n    global_tid_98863 = sext_i32_i64(block_id_98860) * segmap_tblock_sizze_90109 + sext_i32_i64(local_tid_98859);\n    slice_98864 = dim_48135;\n    gtid_90112 = global_tid_98863;\n    remnant_98865 = global_tid_98863 - gtid_90112;\n    if (slt64(gtid_90112, dim_48135)) {\n        double eta_p_90114;\n        double eta_p_90115;\n        double defunc_0_f_res_90116;\n        \n        eta_p_90114 = ((__global double *) mem_94111)[index_primexp_69115 * dim_48135 + gtid_90112];\n        eta_p_90115 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_90112];\n        defunc_0_f_res_90116 = eta_p_90114 - eta_p_90115;\n        ((__global double *) mem_94259)[gtid_90112] = defunc_0_f_res_90116;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90109\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90133_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap",
                                    "_90133(__global int *global_failure, int64_t dim_48135, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *mem_94259)\n{\n    #define segmap_tblock_sizze_90129 (sort_for_Skyline_doublezisegmap_90133zisegmap_tblock_sizze_90129)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98868;\n    int32_t tblock_sizze_98871;\n    int32_t wave_sizze_98870;\n    int32_t block_id_98869;\n    int32_t global_tid_98867;\n    int64_t phys_tid_90133;\n    int64_t global_tid_98872;\n    int64_t slice_98873;\n    int64_t gtid_90132;\n    int64_t remnant_98874;\n    \n    local_tid_98868 = get_local_id(0);\n    tblock_sizze_98871 = get_local_size(0);\n    wave_sizze_98870 = LOCKSTEP_WIDTH;\n    block_id_98869 = get_tblock_id(0);\n    global_tid_98867 = block_id_98869 * tblock_sizze_98871 + local_tid_98868;\n    phys_tid_90133 = sext_i32_i64(global_tid_98867);\n    global_tid_98872 = sext_i32_i64(block_id_98869) * segmap_tblock_sizze_90129 + sext_i32_i64(local_tid_98868);\n    slice_98873 = dim_48135;\n    gtid_90132 = global_tid_98872;\n    remnant_98874 = global_tid_98872 - gtid_90132;\n    if (slt64(gtid_90132, dim_48135)) {\n        double eta_p_90134;\n        double eta_p_90135;\n        double defunc_0_f_res_90136;\n        \n        eta_p_90134 = ((__global double *) mem_94259)[gtid_90132];\n        eta_p_90135 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_90132];\n        defunc_0_f_res_90136 = eta_p_90134 / eta_p_90135;\n        ((__global double *) mem_94259)[gtid_90132] = defunc_0_f_res_90136;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90129\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90153_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90153(__global int *global_failure, int64_t dim_48135, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *ext_mem_94304, __global unsigned char *mem_94307)\n{\n    #define segmap_tblock_sizze_90149 (sort_for_Skyline_doublezisegmap_90153zisegm", "ap_tblock_sizze_90149)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98976;\n    int32_t tblock_sizze_98979;\n    int32_t wave_sizze_98978;\n    int32_t block_id_98977;\n    int32_t global_tid_98975;\n    int64_t phys_tid_90153;\n    int64_t global_tid_98980;\n    int64_t slice_98981;\n    int64_t gtid_90152;\n    int64_t remnant_98982;\n    \n    local_tid_98976 = get_local_id(0);\n    tblock_sizze_98979 = get_local_size(0);\n    wave_sizze_98978 = LOCKSTEP_WIDTH;\n    block_id_98977 = get_tblock_id(0);\n    global_tid_98975 = block_id_98977 * tblock_sizze_98979 + local_tid_98976;\n    phys_tid_90153 = sext_i32_i64(global_tid_98975);\n    global_tid_98980 = sext_i32_i64(block_id_98977) * segmap_tblock_sizze_90149 + sext_i32_i64(local_tid_98976);\n    slice_98981 = dim_48135;\n    gtid_90152 = global_tid_98980;\n    remnant_98982 = global_tid_98980 - gtid_90152;\n    if (slt64(gtid_90152, dim_48135)) {\n        int64_t eta_p_90154;\n        int64_t eta_p_90155;\n        int64_t defunc_0_f_res_90156;\n        \n        eta_p_90154 = ((__global int64_t *) ext_mem_94304)[gtid_90152];\n        eta_p_90155 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_90152];\n        defunc_0_f_res_90156 = mul64(eta_p_90154, eta_p_90155);\n        ((__global int64_t *) mem_94307)[gtid_90152] = defunc_0_f_res_90156;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90149\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90173_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90173(__global int *global_failure, int64_t dim_48135, int64_t index_primexp_69115, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_94111, __global unsigned char *ext_mem_94314, __global unsigned char *mem_94334)\n{\n    #define segmap_tblock_sizze_90169 (sort_for_Skyline_doublezisegmap_90173zisegmap_tblock_sizze_90169)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99000;\n    int32_t tblock_sizze_99003;\n    int32_t wave_si", "zze_99002;\n    int32_t block_id_99001;\n    int32_t global_tid_98999;\n    int64_t phys_tid_90173;\n    int64_t global_tid_99004;\n    int64_t slice_99005;\n    int64_t gtid_90172;\n    int64_t remnant_99006;\n    \n    local_tid_99000 = get_local_id(0);\n    tblock_sizze_99003 = get_local_size(0);\n    wave_sizze_99002 = LOCKSTEP_WIDTH;\n    block_id_99001 = get_tblock_id(0);\n    global_tid_98999 = block_id_99001 * tblock_sizze_99003 + local_tid_99000;\n    phys_tid_90173 = sext_i32_i64(global_tid_98999);\n    global_tid_99004 = sext_i32_i64(block_id_99001) * segmap_tblock_sizze_90169 + sext_i32_i64(local_tid_99000);\n    slice_99005 = dim_48135;\n    gtid_90172 = global_tid_99004;\n    remnant_99006 = global_tid_99004 - gtid_90172;\n    if (slt64(gtid_90172, dim_48135)) {\n        int64_t defunc_0_foldl_res_90688;\n        double eta_p_90174;\n        double eta_p_90175;\n        double defunc_0_f_res_90176;\n        \n        defunc_0_foldl_res_90688 = ((__global int64_t *) ext_mem_94314)[(int64_t) 0];\n        eta_p_90174 = ((__global double *) mem_94111)[index_primexp_69115 * dim_48135 + gtid_90172];\n        eta_p_90175 = ((__global double *) start_of_grid_partition_mem_90818)[defunc_0_foldl_res_90688 * dim_48135 + gtid_90172];\n        defunc_0_f_res_90176 = eta_p_90174 - eta_p_90175;\n        ((__global double *) mem_94334)[gtid_90172] = defunc_0_f_res_90176;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90169\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90192_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90192(__global int *global_failure, int64_t map_arg1_69220, int64_t j_m_i_69221, __global unsigned char *ext_mem_94348, __global unsigned char *mem_94354)\n{\n    #define segmap_tblock_sizze_90188 (sort_for_Skyline_doublezisegmap_90192zisegmap_tblock_sizze_90188)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99037;\n    int32_t tblock_sizze_99040;\n    int32_t wave_sizze_99039;\n    int32_t block_id_99038;\n    int32_t global_tid_9",
                                    "9036;\n    int64_t phys_tid_90192;\n    int64_t global_tid_99041;\n    int64_t slice_99042;\n    int64_t gtid_90191;\n    int64_t remnant_99043;\n    \n    local_tid_99037 = get_local_id(0);\n    tblock_sizze_99040 = get_local_size(0);\n    wave_sizze_99039 = LOCKSTEP_WIDTH;\n    block_id_99038 = get_tblock_id(0);\n    global_tid_99036 = block_id_99038 * tblock_sizze_99040 + local_tid_99037;\n    phys_tid_90192 = sext_i32_i64(global_tid_99036);\n    global_tid_99041 = sext_i32_i64(block_id_99038) * segmap_tblock_sizze_90188 + sext_i32_i64(local_tid_99037);\n    slice_99042 = j_m_i_69221;\n    gtid_90191 = global_tid_99041;\n    remnant_99043 = global_tid_99041 - gtid_90191;\n    if (slt64(gtid_90191, j_m_i_69221)) {\n        int64_t slice_90270;\n        double eta_p_90193;\n        double lifted_lambda_res_90194;\n        \n        slice_90270 = map_arg1_69220 + gtid_90191;\n        eta_p_90193 = ((__global double *) ext_mem_94348)[slice_90270];\n        lifted_lambda_res_90194 = eta_p_90193 * eta_p_90193;\n        ((__global double *) mem_94354)[gtid_90191] = lifted_lambda_res_90194;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90188\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90213_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90213(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_67058, __global unsigned char *angle_part_prefix_sum_mem_90813, __global unsigned char *angle_partitions_per_dim_mem_90814, __global unsigned char *mem_94316, __global unsigned char *ext_mem_94329, __global unsigned char *mem_94368)\n{\n    #define segmap_tblock_sizze_90209 (sort_for_Skyline_doublezisegmap_90213zisegmap_tblock_sizze_90209)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_99060;\n    int32_t tblock_sizze_99063;\n    int32_t wave_sizze_99062;\n    int32_t block_id_99061;\n    int32_t global_tid_99059;\n    int64_t ph", "ys_tid_90213;\n    int64_t global_tid_99064;\n    int64_t slice_99065;\n    int64_t gtid_90212;\n    int64_t remnant_99066;\n    \n    local_tid_99060 = get_local_id(0);\n    tblock_sizze_99063 = get_local_size(0);\n    wave_sizze_99062 = LOCKSTEP_WIDTH;\n    block_id_99061 = get_tblock_id(0);\n    global_tid_99059 = block_id_99061 * tblock_sizze_99063 + local_tid_99060;\n    phys_tid_90213 = sext_i32_i64(global_tid_99059);\n    global_tid_99064 = sext_i32_i64(block_id_99061) * segmap_tblock_sizze_90209 + sext_i32_i64(local_tid_99060);\n    slice_99065 = arg_67058;\n    gtid_90212 = global_tid_99064;\n    remnant_99066 = global_tid_99064 - gtid_90212;\n    if (slt64(gtid_90212, arg_67058)) {\n        double eta_p_90214;\n        double eta_p_90215;\n        int64_t eta_p_90216;\n        int64_t eta_p_90217;\n        int64_t defunc_0_f_res_90218;\n        \n        eta_p_90214 = ((__global double *) mem_94316)[gtid_90212];\n        eta_p_90215 = ((__global double *) ext_mem_94329)[gtid_90212];\n        eta_p_90216 = ((__global int64_t *) angle_part_prefix_sum_mem_90813)[gtid_90212];\n        eta_p_90217 = ((__global int64_t *) angle_partitions_per_dim_mem_90814)[gtid_90212];\n        futrts_lifted_lambda_10058(&defunc_0_f_res_90218, eta_p_90214, eta_p_90215, eta_p_90216, eta_p_90217);\n        ((__global int64_t *) mem_94368)[gtid_90212] = defunc_0_f_res_90218;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90209\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90261_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90261(__global int *global_failure, int64_t total_part_no_48147, __global unsigned char *mem_94388, __global unsigned char *mem_94391)\n{\n    #define segmap_tblock_sizze_90257 (sort_for_Skyline_doublezisegmap_90261zisegmap_tblock_sizze_90257)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99346;\n    int32_t tblock_sizze_99349;\n    int32_t wave_sizze_99348;\n    int32_t block_id_99347;\n    int32_t global_tid_99345;\n    int64_t phys_tid_9", "0261;\n    int64_t global_tid_99350;\n    int64_t slice_99351;\n    int64_t gtid_90260;\n    int64_t remnant_99352;\n    \n    local_tid_99346 = get_local_id(0);\n    tblock_sizze_99349 = get_local_size(0);\n    wave_sizze_99348 = LOCKSTEP_WIDTH;\n    block_id_99347 = get_tblock_id(0);\n    global_tid_99345 = block_id_99347 * tblock_sizze_99349 + local_tid_99346;\n    phys_tid_90261 = sext_i32_i64(global_tid_99345);\n    global_tid_99350 = sext_i32_i64(block_id_99347) * segmap_tblock_sizze_90257 + sext_i32_i64(local_tid_99346);\n    slice_99351 = total_part_no_48147;\n    gtid_90260 = global_tid_99350;\n    remnant_99352 = global_tid_99350 - gtid_90260;\n    if (slt64(gtid_90260, total_part_no_48147)) {\n        int64_t zv_lhs_90263;\n        int64_t tmp_90264;\n        bool cond_90266;\n        int64_t lifted_lambda_res_90267;\n        \n        zv_lhs_90263 = add64((int64_t) -1, gtid_90260);\n        tmp_90264 = smod64(zv_lhs_90263, total_part_no_48147);\n        cond_90266 = gtid_90260 == (int64_t) 0;\n        if (cond_90266) {\n            lifted_lambda_res_90267 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_90265 = ((__global int64_t *) mem_94388)[tmp_90264];\n            \n            lifted_lambda_res_90267 = lifted_lambda_res_90265;\n        }\n        ((__global int64_t *) mem_94391)[gtid_90260] = lifted_lambda_res_90267;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90257\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_77149(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, unsigned char cond_67069_bits, int64_t binop_x_90867, int64_t maxSubHelper_95380, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xs_mem_90819, __global unsigned char *mem_90839, __global unsigned char *mem_9",
                                    "2587)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95385_backing_4 = &shared_mem[0];\n    const int64_t color_95385_backing_4_offset = 0 + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95384_backing_3 = &shared_mem[color_95385_backing_4_offset];\n    const int64_t color_95384_backing_3_offset = color_95385_backing_4_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95383_backing_2 = &shared_mem[color_95384_backing_3_offset];\n    const int64_t color_95383_backing_2_offset = color_95384_backing_3_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95382_backing_1 = &shared_mem[color_95383_backing_2_offset];\n    const int64_t color_95382_backing_1_offset = color_95383_backing_2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95381_backing_0 = &shared_mem[color_95382_backing_1_offset];\n    const int64_t color_95381_backing_0_offset = color_95382_backing_1_offset + (maxSubHelper_95380 + srem64((int64_t) 8 - srem64(maxSubHelper_95380, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_95930;\n    int32_t tblock_sizze_95933;\n    int32_t wave_sizze_95932;\n    int32_t block_id_95931;\n    int32_t global_tid_95929;\n    int64_t phys_tblock_id_77149;\n    int64_t slice_95935;\n    int64_t ltid_pre_95934;\n    int64_t remnant_95936;\n    int64_t slice_95937;\n    int64_t gtid_77148;\n    int64_t remnant_95938;\n    __local unsigned char *color_95381;\n    __local unsigned ", "char *color_95382;\n    __local unsigned char *color_95383;\n    __local unsigned char *color_95384;\n    __local unsigned char *color_95385;\n    int64_t min_arg1_90473;\n    __local unsigned char *ext_mem_92576;\n    int64_t f_arg0_77196;\n    int64_t min_res_77197;\n    int64_t rep_i_95946;\n    \n    local_tid_95930 = get_local_id(0);\n    tblock_sizze_95933 = get_local_size(0);\n    wave_sizze_95932 = LOCKSTEP_WIDTH;\n    block_id_95931 = get_tblock_id(0);\n    global_tid_95929 = block_id_95931 * tblock_sizze_95933 + local_tid_95930;\n    phys_tblock_id_77149 = sext_i32_i64(block_id_95931);\n    slice_95935 = dim_48135;\n    ltid_pre_95934 = sext_i32_i64(local_tid_95930);\n    remnant_95936 = sext_i32_i64(local_tid_95930) - ltid_pre_95934;\n    slice_95937 = n_48138;\n    gtid_77148 = sext_i32_i64(block_id_95931);\n    remnant_95938 = sext_i32_i64(block_id_95931) - gtid_77148;\n    color_95381 = (__local unsigned char *) color_95381_backing_0;\n    color_95382 = (__local unsigned char *) color_95382_backing_1;\n    color_95383 = (__local unsigned char *) color_95383_backing_2;\n    color_95384 = (__local unsigned char *) color_95384_backing_3;\n    color_95385 = (__local unsigned char *) color_95385_backing_4;\n    min_arg1_90473 = ((__global int64_t *) mem_90839)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_92576 = color_95382;\n    } else {\n        int64_t phys_tid_77156;\n        int64_t gtid_77155;\n        double eta_p_77157;\n        double eta_p_77158;\n        double defunc_0_f_res_77159;\n        int64_t phys_tid_77162;\n        int64_t gtid_77161;\n        double eta_p_77163;\n        double eta_p_77164;\n        double defunc_0_f_res_77165;\n        __local unsigned char *ext_mem_92563;\n        int64_t f_arg0_77182;\n        int64_t max_res_77183;\n        int64_t rep_i_95943;\n        \n        phys_tid_77156 = sext_i32_i64(local_tid_95930);\n        gtid_77155 = sext_i32_i64(sext_i64_i32(ltid_pre_95934));\n        eta_p_77157 = ((__global double *) xs", "_mem_90819)[gtid_77148 * dim_48135 + gtid_77155];\n        eta_p_77158 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_77155];\n        defunc_0_f_res_77159 = eta_p_77157 - eta_p_77158;\n        ((__local double *) color_95385)[gtid_77155] = defunc_0_f_res_77159;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_77162 = sext_i32_i64(local_tid_95930);\n        gtid_77161 = sext_i32_i64(sext_i64_i32(ltid_pre_95934));\n        eta_p_77163 = ((__local double *) color_95385)[gtid_77161];\n        eta_p_77164 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_77161];\n        defunc_0_f_res_77165 = eta_p_77163 / eta_p_77164;\n        ((__local double *) color_95385)[gtid_77161] = defunc_0_f_res_77165;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_67069) {\n            ext_mem_92563 = color_95381;\n        } else {\n            double f_arg0_77168;\n            int64_t f64_res_77169;\n            int64_t rep_i_95940;\n            \n            f_arg0_77168 = ((__local double *) color_95385)[(int64_t) 0];\n            f64_res_77169 = fptosi_f64_i64(f_arg0_77168);\n            rep_i_95940 = sext_i32_i64(sext_i64_i32(ltid_pre_95934));\n            ((__local int64_t *) color_95384)[rep_i_95940] = f64_res_77169;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_77172 = 0; i_77172 < arg_67058; i_77172++) {\n                int64_t index_primexp_77174;\n                bool x_77175;\n                bool y_77176;\n                bool bounds_check_77177;\n                bool index_certs_77178;\n                double f_arg0_77179;\n                int64_t f64_res_77180;\n                \n                index_primexp_77174 = add64((int64_t) 1, i_77172);\n                x_77175 = sle64((int64_t) 0, index_primexp_77174);\n                y_77176 = slt64(index_primexp_77174, dim_48135);\n                bounds_check_77177 = x_77175 && y_77176;\n                if (!bounds_",
                                    "check_77177) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 28) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77174;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_77179 = ((__local double *) color_95385)[index_primexp_77174];\n                f64_res_77180 = fptosi_f64_i64(f_arg0_77179);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_95930 == 0) {\n                    ((__local int64_t *) color_95384)[index_primexp_77174] = f64_res_77180;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_92563 = color_95384;\n        }\n        f_arg0_77182 = ((__local int64_t *) ext_mem_92563)[(int64_t) 0];\n        max_res_77183 = smax64((int64_t) 0, f_arg0_77182);\n        rep_i_95943 = sext_i32_i64(sext_i64_i32(ltid_pre_95934));\n        ((__local int64_t *) color_95383)[rep_i_95943] = max_res_77183;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_77186 = 0; i_77186 < arg_67058; i_77186++) {\n            int64_t index_primexp_77188;\n            bool x_77189;\n            bool y_77190;\n            bool bounds_check_77191;\n            bool index_certs_77192;\n            int64_t f_arg0_77193;\n            int64_t max_res_77194;\n            \n            index_primexp_77188 = add64((int64_t) 1, i_77186);\n            x_77189 = sle64((int64_t) 0, index_primexp_77188);\n            y_77190 = slt64(index_primexp_77188, dim_48135);\n            bounds_check_77191 = x_77189 && y_77190;\n            if (!bounds_check_77191) {\n                {\n              ", "      if (atomic_cmpxchg_i32_global(global_failure, -1, 29) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_77188;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_77193 = ((__local int64_t *) ext_mem_92563)[index_primexp_77188];\n            max_res_77194 = smax64((int64_t) 0, f_arg0_77193);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_95930 == 0) {\n                ((__local int64_t *) color_95383)[index_primexp_77188] = max_res_77194;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_92576 = color_95383;\n    }\n    f_arg0_77196 = ((__local int64_t *) ext_mem_92576)[(int64_t) 0];\n    min_res_77197 = smin64(f_arg0_77196, min_arg1_90473);\n    rep_i_95946 = sext_i32_i64(sext_i64_i32(ltid_pre_95934));\n    ((__local int64_t *) color_95381)[rep_i_95946] = min_res_77197;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_77200 = 0; i_77200 < arg_67058; i_77200++) {\n        int64_t index_primexp_77202;\n        bool x_77203;\n        bool y_77204;\n        bool bounds_check_77205;\n        bool index_certs_77206;\n        bool index_certs_77208;\n        int64_t f_arg0_77207;\n        int64_t zm_lhs_77209;\n        int64_t min_arg1_77210;\n        int64_t min_res_77211;\n        \n        index_primexp_77202 = add64((int64_t) 1, i_77200);\n        x_77203 = sle64((int64_t) 0, index_primexp_77202);\n        y_77204 = slt64(index_primexp_77202, dim_48135);\n        bounds_check_77205 = x_77203 && y_77204;\n        if (!bounds_check_77205) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 30) == -1) {\n                    global_failure_args[0] = (int64_t) index_", "primexp_77202;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_77205) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 31) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_77202;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_77207 = ((__local int64_t *) ext_mem_92576)[index_primexp_77202];\n        zm_lhs_77209 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_77202];\n        min_arg1_77210 = sub64(zm_lhs_77209, (int64_t) 1);\n        min_res_77211 = smin64(f_arg0_77207, min_arg1_77210);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_95930 == 0) {\n            ((__local int64_t *) color_95381)[index_primexp_77202] = min_res_77211;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_92587)[gtid_77148 * dim_48135 + sext_i32_i64(local_tid_95930)] = ((__local int64_t *) color_95381)[sext_i32_i64(local_tid_95930)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_77225(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, unsigned char cond_67069_bits, int64_t binop_x_90867, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xs_mem_90819, __global unsigned char *mem_92490)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95388_backing_2 = &shared_mem[0];\n    const int64_t color_95388_backing_2_offset = 0 + (binop_x_90867 +",
                                    " srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95387_backing_1 = &shared_mem[color_95388_backing_2_offset];\n    const int64_t color_95387_backing_1_offset = color_95388_backing_2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95386_backing_0 = &shared_mem[color_95387_backing_1_offset];\n    const int64_t color_95386_backing_0_offset = color_95387_backing_1_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_95951;\n    int32_t tblock_sizze_95954;\n    int32_t wave_sizze_95953;\n    int32_t block_id_95952;\n    int32_t global_tid_95950;\n    int64_t phys_tblock_id_77225;\n    int64_t slice_95956;\n    int64_t ltid_pre_95955;\n    int64_t remnant_95957;\n    int64_t slice_95958;\n    int64_t gtid_77224;\n    int64_t remnant_95959;\n    __local unsigned char *color_95386;\n    __local unsigned char *color_95387;\n    __local unsigned char *color_95388;\n    int64_t phys_tid_77230;\n    int64_t gtid_77229;\n    double eta_p_77231;\n    double eta_p_77232;\n    double defunc_0_f_res_77233;\n    int64_t phys_tid_77236;\n    int64_t gtid_77235;\n    double eta_p_77237;\n    double eta_p_77238;\n    double defunc_0_f_res_77239;\n    __local unsigned char *ext_mem_92479;\n    int64_t f_arg0_77256;\n    int64_t max_res_77257;\n    int64_t rep_i_95964;\n    \n    local_tid_95951 = get_local_id(0);\n    tblock_sizze_95954 = get_local_size(0);\n    wave_sizze_95953 = LOCKSTEP_WIDTH;\n    block_id_95952 = get_tblock_id(0);\n    global_tid_95950 = block_id_95952 * tblock_sizze_95954 + local_tid_95951;\n    phys_tblock_id_77225 = sext_i32_i64(block_id_95952);\n", "    slice_95956 = dim_48135;\n    ltid_pre_95955 = sext_i32_i64(local_tid_95951);\n    remnant_95957 = sext_i32_i64(local_tid_95951) - ltid_pre_95955;\n    slice_95958 = n_48138;\n    gtid_77224 = sext_i32_i64(block_id_95952);\n    remnant_95959 = sext_i32_i64(block_id_95952) - gtid_77224;\n    color_95386 = (__local unsigned char *) color_95386_backing_0;\n    color_95387 = (__local unsigned char *) color_95387_backing_1;\n    color_95388 = (__local unsigned char *) color_95388_backing_2;\n    phys_tid_77230 = sext_i32_i64(local_tid_95951);\n    gtid_77229 = sext_i32_i64(sext_i64_i32(ltid_pre_95955));\n    eta_p_77231 = ((__global double *) xs_mem_90819)[gtid_77224 * dim_48135 + gtid_77229];\n    eta_p_77232 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_77229];\n    defunc_0_f_res_77233 = eta_p_77231 - eta_p_77232;\n    ((__local double *) color_95386)[gtid_77229] = defunc_0_f_res_77233;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_77236 = sext_i32_i64(local_tid_95951);\n    gtid_77235 = sext_i32_i64(sext_i64_i32(ltid_pre_95955));\n    eta_p_77237 = ((__local double *) color_95386)[gtid_77235];\n    eta_p_77238 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_77235];\n    defunc_0_f_res_77239 = eta_p_77237 / eta_p_77238;\n    ((__local double *) color_95386)[gtid_77235] = defunc_0_f_res_77239;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_92479 = color_95387;\n    } else {\n        double f_arg0_77242;\n        int64_t f64_res_77243;\n        int64_t rep_i_95961;\n        \n        f_arg0_77242 = ((__local double *) color_95386)[(int64_t) 0];\n        f64_res_77243 = fptosi_f64_i64(f_arg0_77242);\n        rep_i_95961 = sext_i32_i64(sext_i64_i32(ltid_pre_95955));\n        ((__local int64_t *) color_95388)[rep_i_95961] = f64_res_77243;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_77246 = 0; i_77246 < arg_67058; i_77246++) {\n            int64_t index_", "primexp_77248;\n            bool x_77249;\n            bool y_77250;\n            bool bounds_check_77251;\n            bool index_certs_77252;\n            double f_arg0_77253;\n            int64_t f64_res_77254;\n            \n            index_primexp_77248 = add64((int64_t) 1, i_77246);\n            x_77249 = sle64((int64_t) 0, index_primexp_77248);\n            y_77250 = slt64(index_primexp_77248, dim_48135);\n            bounds_check_77251 = x_77249 && y_77250;\n            if (!bounds_check_77251) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 32) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_77248;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_77253 = ((__local double *) color_95386)[index_primexp_77248];\n            f64_res_77254 = fptosi_f64_i64(f_arg0_77253);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_95951 == 0) {\n                ((__local int64_t *) color_95388)[index_primexp_77248] = f64_res_77254;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_92479 = color_95388;\n    }\n    f_arg0_77256 = ((__local int64_t *) ext_mem_92479)[(int64_t) 0];\n    max_res_77257 = smax64((int64_t) 0, f_arg0_77256);\n    rep_i_95964 = sext_i32_i64(sext_i64_i32(ltid_pre_95955));\n    ((__local int64_t *) color_95386)[rep_i_95964] = max_res_77257;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_77260 = 0; i_77260 < arg_67058; i_77260++) {\n        int64_t index_primexp_77262;\n        bool x_77263;\n        bool y_77264;\n        bool bounds_check_77265;\n        bool index_certs_77266;\n        int64_t f_arg0_77267;\n        int64_t max_res_77",
                                    "268;\n        \n        index_primexp_77262 = add64((int64_t) 1, i_77260);\n        x_77263 = sle64((int64_t) 0, index_primexp_77262);\n        y_77264 = slt64(index_primexp_77262, dim_48135);\n        bounds_check_77265 = x_77263 && y_77264;\n        if (!bounds_check_77265) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 33) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_77262;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_77267 = ((__local int64_t *) ext_mem_92479)[index_primexp_77262];\n        max_res_77268 = smax64((int64_t) 0, f_arg0_77267);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_95951 == 0) {\n            ((__local int64_t *) color_95386)[index_primexp_77262] = max_res_77268;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_92490)[gtid_77224 * dim_48135 + sext_i32_i64(local_tid_95951)] = ((__local int64_t *) color_95386)[sext_i32_i64(local_tid_95951)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_78277(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t merge_block_sizze_67302, int64_t loop_dz2084Uz2082U_72241, int64_t stride_72246, int64_t next_stride_72247, unsigned char zzero_72248_bits, int64_t num_merges_72251, int64_t m_72256, unsigned char zzero_leq_i_p_m_t_s_72257_bits, unsigned char i_lte_j_72258_bits, unsigned char cond_72259_bits, int64_t num_blocks_72266, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, int64_t j_m_i_72268, unsigned char cond_72278_bits, int64_t computed_tblock_sizze_78020, int64_t bytes_93201, int64_t bytes_93210, int64_t bytes_93215, int64_t lmad_arg_93247, int64_t bytes_93264, int64_t bytes_93268, int", "64_t binop_x_93314, int64_t binop_x_93321, int64_t maxSubHelper_95391, int64_t maxSubHelper_95392, int64_t maxSubHelper_95393, int32_t num_chunks_96358, int32_t num_chunks_96359, int32_t num_chunks_96360, int32_t num_chunks_96361, __global unsigned char *mem_param_92944, __global unsigned char *mem_param_92948, __global unsigned char *mem_param_92951, __global unsigned char *mem_93569, __global unsigned char *mem_93573, __global unsigned char *mem_93576)\n{\n    bool zzero_72248 = zzero_72248_bits;\n    bool zzero_leq_i_p_m_t_s_72257 = zzero_leq_i_p_m_t_s_72257_bits;\n    bool i_lte_j_72258 = i_lte_j_72258_bits;\n    bool cond_72259 = cond_72259_bits;\n    bool cond_72278 = cond_72278_bits;\n    volatile __local unsigned char *color_95410_backing_16 = &shared_mem[0];\n    const int64_t color_95410_backing_16_offset = 0 + (bytes_93201 + srem64((int64_t) 8 - srem64(bytes_93201, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95409_backing_15 = &shared_mem[color_95410_backing_16_offset];\n    const int64_t color_95409_backing_15_offset = color_95410_backing_16_offset + (bytes_93215 + srem64((int64_t) 8 - srem64(bytes_93215, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95408_backing_14 = &shared_mem[color_95409_backing_15_offset];\n    const int64_t color_95408_backing_14_offset = color_95409_backing_15_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95407_backing_13 = &shared_mem[color_95408_backing_14_offset];\n    const int64_t color_95407_backing_13_offset = color_95408_backing_14_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95406_backing_12 = &shared_mem[color_95407_backing_13_offset];\n    const int64_t color_95406_backing_12_offset = color_95407_backing_13_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n  ", "  volatile __local unsigned char *color_95405_backing_11 = &shared_mem[color_95406_backing_12_offset];\n    const int64_t color_95405_backing_11_offset = color_95406_backing_12_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95404_backing_10 = &shared_mem[color_95405_backing_11_offset];\n    const int64_t color_95404_backing_10_offset = color_95405_backing_11_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95403_backing_9 = &shared_mem[color_95404_backing_10_offset];\n    const int64_t color_95403_backing_9_offset = color_95404_backing_10_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95402_backing_8 = &shared_mem[color_95403_backing_9_offset];\n    const int64_t color_95402_backing_8_offset = color_95403_backing_9_offset + (maxSubHelper_95393 + srem64((int64_t) 8 - srem64(maxSubHelper_95393, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95401_backing_7 = &shared_mem[color_95402_backing_8_offset];\n    const int64_t color_95401_backing_7_offset = color_95402_backing_8_offset + (maxSubHelper_95392 + srem64((int64_t) 8 - srem64(maxSubHelper_95392, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95400_backing_6 = &shared_mem[color_95401_backing_7_offset];\n    const int64_t color_95400_backing_6_offset = color_95401_backing_7_offset + (maxSubHelper_95391 + srem64((int64_t) 8 - srem64(maxSubHelper_95391, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95399_backing_5 = &shared_mem[color_95400_backing_6_offset];\n    const int64_t color_95399_backing_5_offset = color_95400_backing_6_offset + (bytes_93264 + srem64((int64_t) 8 - srem64(bytes_93264, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95398_backing_4 = &shared_mem[color_95399_backing_5_offset];\n    const int64_t color_95398_backing_4_offset = color_95399_backing_5_offset + (bytes_93268 + srem64((int64_t) 8 -",
                                    " srem64(bytes_93268, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95397_backing_3 = &shared_mem[color_95398_backing_4_offset];\n    const int64_t color_95397_backing_3_offset = color_95398_backing_4_offset + (bytes_93264 + srem64((int64_t) 8 - srem64(bytes_93264, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95396_backing_2 = &shared_mem[color_95397_backing_3_offset];\n    const int64_t color_95396_backing_2_offset = color_95397_backing_3_offset + (binop_x_93314 + srem64((int64_t) 8 - srem64(binop_x_93314, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95395_backing_1 = &shared_mem[color_95396_backing_2_offset];\n    const int64_t color_95395_backing_1_offset = color_95396_backing_2_offset + (binop_x_93314 + srem64((int64_t) 8 - srem64(binop_x_93314, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95394_backing_0 = &shared_mem[color_95395_backing_1_offset];\n    const int64_t color_95394_backing_0_offset = color_95395_backing_1_offset + (binop_x_93321 + srem64((int64_t) 8 - srem64(binop_x_93321, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96366;\n    int32_t tblock_sizze_96369;\n    int32_t wave_sizze_96368;\n    int32_t block_id_96367;\n    int32_t global_tid_96365;\n    int64_t phys_tblock_id_78277;\n    int64_t slice_96373;\n    int64_t slice_96374;\n    int64_t slice_96375;\n    int64_t ltid_pre_96370;\n    int64_t remnant_96376;\n    int64_t ltid_pre_96371;\n    int64_t remnant_96377;\n    int64_t ltid_pre_96372;\n    int64_t remnant_96378;\n    int64_t slice_96381;\n    int64_t slice_96382;\n    int64_t ltid_pre_96379;\n    int64_t remnant_96383;\n    int64_t ltid_pre_96380;\n    int64_t remnant_96384;\n    int64_t slice_96386;\n    int64_t ltid_pre_96385;\n    int64_t remnant_96387;\n    int64_t slice_96390;\n    int64_t slice_96391;\n    int64_t ltid_pre_96388;\n    i", "nt64_t remnant_96392;\n    int64_t ltid_pre_96389;\n    int64_t remnant_96393;\n    int64_t slice_96395;\n    int64_t ltid_pre_96394;\n    int64_t remnant_96396;\n    int64_t slice_96398;\n    int64_t ltid_pre_96397;\n    int64_t remnant_96399;\n    int64_t slice_96400;\n    int64_t gtid_78276;\n    int64_t remnant_96401;\n    __local unsigned char *color_95394;\n    __local unsigned char *color_95395;\n    __local unsigned char *color_95396;\n    __local unsigned char *color_95397;\n    __local unsigned char *color_95398;\n    __local unsigned char *color_95399;\n    __local unsigned char *color_95400;\n    __local unsigned char *color_95401;\n    __local unsigned char *color_95402;\n    __local unsigned char *color_95403;\n    __local unsigned char *color_95404;\n    __local unsigned char *color_95405;\n    __local unsigned char *color_95406;\n    __local unsigned char *color_95407;\n    __local unsigned char *color_95408;\n    __local unsigned char *color_95409;\n    __local unsigned char *color_95410;\n    int64_t start_78279;\n    int64_t j_m_i_78280;\n    bool empty_slice_78281;\n    int64_t m_78282;\n    int64_t i_p_m_t_s_78283;\n    bool zzero_leq_i_p_m_t_s_78284;\n    bool i_p_m_t_s_leq_w_78285;\n    bool zzero_lte_i_78286;\n    bool i_lte_j_78287;\n    bool y_78288;\n    bool y_78289;\n    bool forwards_ok_78290;\n    bool ok_or_empty_78291;\n    bool index_certs_78292;\n    bool i_p_m_t_s_leq_w_78293;\n    bool y_78294;\n    bool forwards_ok_78295;\n    bool ok_or_empty_78296;\n    bool index_certs_78297;\n    int64_t slice_78307;\n    int64_t binop_y_93520;\n    int64_t binop_y_93522;\n    int64_t ext_93524;\n    __local unsigned char *ext_mem_93566;\n    __local unsigned char *ext_mem_93563;\n    __local unsigned char *ext_mem_93559;\n    int32_t num_chunks_96474;\n    int32_t num_chunks_96477;\n    int32_t num_chunks_96480;\n    \n    local_tid_96366 = get_local_id(0);\n    tblock_sizze_96369 = get_local_size(0);\n    wave_sizze_96368 = LOCKSTEP_WIDTH;\n    block_id_96367 = get_tblock_id(0);\n    global_tid_96365 ", "= block_id_96367 * tblock_sizze_96369 + local_tid_96366;\n    phys_tblock_id_78277 = sext_i32_i64(block_id_96367);\n    slice_96373 = num_blocks_72266;\n    slice_96374 = dim_48135 * slice_96373;\n    slice_96375 = merge_block_sizze_67302 * slice_96374;\n    ltid_pre_96370 = squot64(sext_i32_i64(local_tid_96366), slice_96374);\n    remnant_96376 = sext_i32_i64(local_tid_96366) - ltid_pre_96370 * slice_96374;\n    ltid_pre_96371 = squot64(remnant_96376, slice_96373);\n    remnant_96377 = remnant_96376 - ltid_pre_96371 * slice_96373;\n    ltid_pre_96372 = remnant_96377;\n    remnant_96378 = remnant_96377 - ltid_pre_96372;\n    slice_96381 = num_blocks_72266;\n    slice_96382 = merge_block_sizze_67302 * slice_96381;\n    ltid_pre_96379 = squot64(sext_i32_i64(local_tid_96366), slice_96381);\n    remnant_96383 = sext_i32_i64(local_tid_96366) - ltid_pre_96379 * slice_96381;\n    ltid_pre_96380 = remnant_96383;\n    remnant_96384 = remnant_96383 - ltid_pre_96380;\n    slice_96386 = next_stride_72247;\n    ltid_pre_96385 = sext_i32_i64(local_tid_96366);\n    remnant_96387 = sext_i32_i64(local_tid_96366) - ltid_pre_96385;\n    slice_96390 = dim_48135;\n    slice_96391 = next_stride_72247 * slice_96390;\n    ltid_pre_96388 = squot64(sext_i32_i64(local_tid_96366), slice_96390);\n    remnant_96392 = sext_i32_i64(local_tid_96366) - ltid_pre_96388 * slice_96390;\n    ltid_pre_96389 = remnant_96392;\n    remnant_96393 = remnant_96392 - ltid_pre_96389;\n    slice_96395 = num_blocks_72266;\n    ltid_pre_96394 = sext_i32_i64(local_tid_96366);\n    remnant_96396 = sext_i32_i64(local_tid_96366) - ltid_pre_96394;\n    slice_96398 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n    ltid_pre_96397 = sext_i32_i64(local_tid_96366);\n    remnant_96399 = sext_i32_i64(local_tid_96366) - ltid_pre_96397;\n    slice_96400 = num_merges_72251;\n    gtid_78276 = sext_i32_i64(block_id_96367);\n    remnant_96401 = sext_i32_i64(block_id_96367) - gtid_78276;\n    color_95394 = (__local unsigned char *) color_95394_backing_0;\n    color_9",
                                    "5395 = (__local unsigned char *) color_95395_backing_1;\n    color_95396 = (__local unsigned char *) color_95396_backing_2;\n    color_95397 = (__local unsigned char *) color_95397_backing_3;\n    color_95398 = (__local unsigned char *) color_95398_backing_4;\n    color_95399 = (__local unsigned char *) color_95399_backing_5;\n    color_95400 = (__local unsigned char *) color_95400_backing_6;\n    color_95401 = (__local unsigned char *) color_95401_backing_7;\n    color_95402 = (__local unsigned char *) color_95402_backing_8;\n    color_95403 = (__local unsigned char *) color_95403_backing_9;\n    color_95404 = (__local unsigned char *) color_95404_backing_10;\n    color_95405 = (__local unsigned char *) color_95405_backing_11;\n    color_95406 = (__local unsigned char *) color_95406_backing_12;\n    color_95407 = (__local unsigned char *) color_95407_backing_13;\n    color_95408 = (__local unsigned char *) color_95408_backing_14;\n    color_95409 = (__local unsigned char *) color_95409_backing_15;\n    color_95410 = (__local unsigned char *) color_95410_backing_16;\n    start_78279 = mul64(next_stride_72247, gtid_78276);\n    j_m_i_78280 = sub64(loop_dz2084Uz2082U_72241, start_78279);\n    empty_slice_78281 = j_m_i_78280 == (int64_t) 0;\n    m_78282 = sub64(j_m_i_78280, (int64_t) 1);\n    i_p_m_t_s_78283 = add64(start_78279, m_78282);\n    zzero_leq_i_p_m_t_s_78284 = sle64((int64_t) 0, i_p_m_t_s_78283);\n    i_p_m_t_s_leq_w_78285 = slt64(i_p_m_t_s_78283, loop_dz2084Uz2082U_72241);\n    zzero_lte_i_78286 = sle64((int64_t) 0, start_78279);\n    i_lte_j_78287 = sle64(start_78279, loop_dz2084Uz2082U_72241);\n    y_78288 = i_p_m_t_s_leq_w_78285 && zzero_lte_i_78286;\n    y_78289 = zzero_leq_i_p_m_t_s_78284 && y_78288;\n    forwards_ok_78290 = i_lte_j_78287 && y_78289;\n    ok_or_empty_78291 = empty_slice_78281 || forwards_ok_78290;\n    if (!ok_or_empty_78291) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 46) == -1) {\n                global_failure_args[0] = (int64_t) st", "art_78279;\n                global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_72241;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    i_p_m_t_s_leq_w_78293 = slt64(m_72256, j_m_i_78280);\n    y_78294 = zzero_leq_i_p_m_t_s_72257 && i_p_m_t_s_leq_w_78293;\n    forwards_ok_78295 = i_lte_j_72258 && y_78294;\n    ok_or_empty_78296 = zzero_72248 || forwards_ok_78295;\n    if (!ok_or_empty_78296) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 47) == -1) {\n                global_failure_args[0] = (int64_t) (int64_t) 0;\n                global_failure_args[1] = (int64_t) next_stride_72247;\n                global_failure_args[2] = (int64_t) j_m_i_78280;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    slice_78307 = stride_72246 + start_78279;\n    binop_y_93520 = dim_48135 * slice_78307;\n    binop_y_93522 = dim_48135 * start_78279;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_72278) {\n        ext_93524 = binop_y_93522;\n    } else {\n        ext_93524 = binop_y_93520;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_72259) {\n        int64_t dummy_78301;\n        int64_t dummy_78303;\n        int64_t data_78314;\n        int64_t i_78319;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_72278) {\n            int64_t head_res_78304;\n            int64_t head_res_78306;\n            \n            head_res_78304 = ((__global int64_t *) mem_param_92944)[start_78279];\n            head_res_78306 = ((__global int64_t *) mem_param_92951)[start_78279];\n            dummy_78301 = head_res_78304;\n            dummy_78303 = head_res_78306;\n        } else {\n            int64_t head_res_78308;\n            int64_t head_res_78310;\n            \n            head_res_78308 = ((__global int64_t *) mem_param_92944)[slice_78307];\n            head_res_78310 = ((", "__global int64_t *) mem_param_92951)[slice_78307];\n            dummy_78301 = head_res_78308;\n            dummy_78303 = head_res_78310;\n        }\n        for (int32_t chunk_i_96404 = 0; chunk_i_96404 < num_chunks_96360; chunk_i_96404++) {\n            int32_t i_96405;\n            int64_t slice_96406;\n            int64_t rep_i_96403;\n            int64_t remnant_96407;\n            \n            i_96405 = chunk_i_96404 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n            slice_96406 = next_stride_72247;\n            rep_i_96403 = sext_i32_i64(i_96405);\n            remnant_96407 = sext_i32_i64(i_96405) - rep_i_96403;\n            if (sle64((int64_t) 0, rep_i_96403) && slt64(rep_i_96403, next_stride_72247)) {\n                ((__local int64_t *) color_95396)[rep_i_96403] = dummy_78301;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96410 = 0; chunk_i_96410 < num_chunks_96360; chunk_i_96410++) {\n            int32_t i_96411;\n            int64_t slice_96412;\n            int64_t rep_i_96409;\n            int64_t remnant_96413;\n            \n            i_96411 = chunk_i_96410 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n            slice_96412 = next_stride_72247;\n            rep_i_96409 = sext_i32_i64(i_96411);\n            remnant_96413 = sext_i32_i64(i_96411) - rep_i_96409;\n            if (sle64((int64_t) 0, rep_i_96409) && slt64(rep_i_96409, next_stride_72247)) {\n                ((__local int64_t *) color_95395)[rep_i_96409] = dummy_78303;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96417 = 0; chunk_i_96417 < num_chunks_96361; chunk_i_96417++) {\n            int32_t i_96418;\n            int64_t slice_96419;\n            int64_t slice_96420;\n            int64_t rep_i_96415;\n            int64_t remnant_96421;\n            int64_t rep_i_96416;\n            int64_t remnant_96422;\n            \n            i_96418 = chunk_i_96417 * sext_i64_i32(computed_tblock",
                                    "_sizze_78020) + local_tid_96366;\n            slice_96419 = dim_48135;\n            slice_96420 = next_stride_72247 * slice_96419;\n            rep_i_96415 = squot64(sext_i32_i64(i_96418), slice_96419);\n            remnant_96421 = sext_i32_i64(i_96418) - rep_i_96415 * slice_96419;\n            rep_i_96416 = remnant_96421;\n            remnant_96422 = remnant_96421 - rep_i_96416;\n            if ((sle64((int64_t) 0, rep_i_96415) && slt64(rep_i_96415, next_stride_72247)) && (sle64((int64_t) 0, rep_i_96416) && slt64(rep_i_96416, dim_48135))) {\n                double tmp_96423 = ((__global double *) mem_param_92948)[ext_93524 + rep_i_96416];\n                \n                ((__local double *) color_95394)[rep_i_96415 * dim_48135 + rep_i_96416] = tmp_96423;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        i_78319 = (int64_t) 0;\n        for (int64_t k_78318 = 0; k_78318 < next_stride_72247; k_78318++) {\n            int64_t j_78323;\n            bool cond_78324;\n            bool x_94856;\n            bool cond_78326;\n            bool x_78328;\n            bool y_78329;\n            bool bounds_check_78330;\n            bool loop_not_taken_94848;\n            bool protect_assert_disj_94849;\n            bool protect_assert_disj_94859;\n            bool index_certs_78331;\n            int64_t slice_78332;\n            int64_t slice_78333;\n            bool protect_cond_conj_94860;\n            int64_t leq_arg1_78334;\n            bool x_78335;\n            bool bounds_check_78336;\n            bool protect_assert_disj_94853;\n            bool protect_assert_disj_94862;\n            bool index_certs_78337;\n            int64_t slice_78338;\n            int64_t leq_arg0_78339;\n            bool lifted_lambda_res_78340;\n            bool x_95062;\n            bool cond_78325;\n            bool protect_assert_disj_94613;\n            bool index_certs_78357;\n            bool loop_not_taken_94608;\n            bool protect_assert_disj_94609;\n          ", "  bool index_certs_78349;\n            int64_t binop_y_93542;\n            int64_t binop_y_93544;\n            int64_t ext_93546;\n            int64_t loopres_78341;\n            int64_t loopres_78342;\n            int64_t loopres_78344;\n            int32_t num_chunks_96428;\n            int64_t i_tmp_96424;\n            \n            j_78323 = sub64(k_78318, i_78319);\n            cond_78324 = j_78323 == j_m_i_72268;\n            x_94856 = !cond_78324;\n            cond_78326 = slt64(i_78319, stride_72246);\n            x_78328 = sle64((int64_t) 0, j_78323);\n            y_78329 = slt64(j_78323, j_m_i_72268);\n            bounds_check_78330 = x_78328 && y_78329;\n            loop_not_taken_94848 = !cond_78326;\n            protect_assert_disj_94849 = bounds_check_78330 || loop_not_taken_94848;\n            protect_assert_disj_94859 = cond_78324 || protect_assert_disj_94849;\n            if (!protect_assert_disj_94859) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 48) == -1) {\n                        global_failure_args[0] = (int64_t) j_78323;\n                        global_failure_args[1] = (int64_t) j_m_i_72268;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            slice_78332 = stride_72246 + j_78323;\n            slice_78333 = start_78279 + slice_78332;\n            protect_cond_conj_94860 = cond_78326 && x_94856;\n            \n          error_4:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_94860) {\n                int64_t x_94850 = ((__global int64_t *) mem_param_92944)[slice_78333];\n                \n                leq_arg1_78334 = x_94850;\n            } else {\n                leq_arg1_78334 = (int64_t) 0;\n            }\n            x_78335 = sle64((int64_t) 0, i_78319);\n            bounds_check_78336 = c", "ond_78326 && x_78335;\n            protect_assert_disj_94853 = bounds_check_78336 || loop_not_taken_94848;\n            protect_assert_disj_94862 = cond_78324 || protect_assert_disj_94853;\n            if (!protect_assert_disj_94862) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 49) == -1) {\n                        global_failure_args[0] = (int64_t) i_78319;\n                        global_failure_args[1] = (int64_t) stride_72246;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_5;\n                }\n            }\n            slice_78338 = start_78279 + i_78319;\n            \n          error_5:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_94860) {\n                int64_t x_94854 = ((__global int64_t *) mem_param_92944)[slice_78338];\n                \n                leq_arg0_78339 = x_94854;\n            } else {\n                leq_arg0_78339 = (int64_t) 0;\n            }\n            lifted_lambda_res_78340 = sle64(leq_arg0_78339, leq_arg1_78334);\n            x_95062 = cond_78326 && lifted_lambda_res_78340;\n            cond_78325 = cond_78324 || x_95062;\n            protect_assert_disj_94613 = cond_78325 || bounds_check_78330;\n            if (!protect_assert_disj_94613) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 50) == -1) {\n                        global_failure_args[0] = (int64_t) j_78323;\n                        global_failure_args[1] = (int64_t) j_m_i_72268;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            loop_not_taken_94608 = !cond_78325;\n            protect_assert_disj_94609 = bounds_check_78336 || loop_not_taken_94608;\n            if (!protect_assert_disj_94609) {\n    ",
                                    "            {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 51) == -1) {\n                        global_failure_args[0] = (int64_t) i_78319;\n                        global_failure_args[1] = (int64_t) stride_72246;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            binop_y_93542 = dim_48135 * slice_78333;\n            binop_y_93544 = dim_48135 * slice_78338;\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_78325) {\n                ext_93546 = binop_y_93544;\n            } else {\n                ext_93546 = binop_y_93542;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_78325) {\n                int64_t tmp_78345;\n                int64_t tmp_78351;\n                int64_t tmp_78353;\n                \n                tmp_78345 = add64((int64_t) 1, i_78319);\n                tmp_78351 = ((__global int64_t *) mem_param_92944)[slice_78338];\n                tmp_78353 = ((__global int64_t *) mem_param_92951)[slice_78338];\n                loopres_78341 = tmp_78345;\n                loopres_78342 = tmp_78351;\n                loopres_78344 = tmp_78353;\n            } else {\n                int64_t tmp_78360;\n                int64_t tmp_78362;\n                \n                tmp_78360 = ((__global int64_t *) mem_param_92944)[slice_78333];\n                tmp_78362 = ((__global int64_t *) mem_param_92951)[slice_78333];\n                loopres_78341 = i_78319;\n                loopres_78342 = tmp_78360;\n                loopres_78344 = tmp_78362;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96366 == 0) {\n                ((__local int64_t *) color_95396)[k_78318] = loopres_78342;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            nu", "m_chunks_96428 = sdiv_up32(sext_i64_i32(dim_48135), sext_i64_i32(computed_tblock_sizze_78020));\n            for (int32_t chunk_i_96429 = 0; chunk_i_96429 < num_chunks_96428; chunk_i_96429++) {\n                int32_t i_96430 = chunk_i_96429 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n                \n                if (slt32(i_96430, sext_i64_i32(dim_48135))) {\n                    ((__local double *) color_95394)[k_78318 * dim_48135 + sext_i32_i64(i_96430)] = ((__global double *) mem_param_92948)[ext_93546 + sext_i32_i64(i_96430)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96366 == 0) {\n                ((__local int64_t *) color_95395)[k_78318] = loopres_78344;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            i_tmp_96424 = loopres_78341;\n            i_78319 = i_tmp_96424;\n        }\n        data_78314 = i_78319;\n        ext_mem_93566 = color_95396;\n        ext_mem_93563 = color_95394;\n        ext_mem_93559 = color_95395;\n    } else {\n        int64_t phys_tid_78370;\n        int64_t gtid_78369;\n        int64_t phys_tid_78476;\n        int64_t gtid_78475;\n        int64_t phys_tid_78547;\n        int64_t gtid_78546;\n        \n        phys_tid_78370 = sext_i32_i64(local_tid_96366);\n        gtid_78369 = sext_i32_i64(sext_i64_i32(ltid_pre_96397));\n        if (slt64(gtid_78369, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267)) {\n            int64_t split_count_arg3_78372;\n            int64_t defunc_0_split_count_res_78373;\n            int64_t defunc_0_split_count_res_78374;\n            int64_t defunc_0_split_count_res_78375;\n            int64_t defunc_0_split_count_res_78376;\n            int64_t defunc_0_split_count_res_78377;\n            bool loop_cond_78378;\n            bool defunc_0_split_count_res_78379;\n            int64_t defunc_0_split_count_res_78380;\n            int64_t defunc_0_split_count_res_78381;\n            int64_t defunc_0_split", "_count_res_78382;\n            int64_t defunc_0_split_count_res_78383;\n            int64_t defunc_0_split_count_res_78384;\n            bool loop_while_78385;\n            int64_t ss_78386;\n            int64_t ss_78387;\n            int64_t tt_78388;\n            int64_t tt_78389;\n            int64_t count_78390;\n            \n            split_count_arg3_78372 = mul64(merge_block_sizze_67302, gtid_78369);\n            futrts_lifted_normalizze_10027(&defunc_0_split_count_res_78373, &defunc_0_split_count_res_78374, &defunc_0_split_count_res_78375, &defunc_0_split_count_res_78376, &defunc_0_split_count_res_78377, (int64_t) 0, stride_72246, (int64_t) 0, j_m_i_72268, split_count_arg3_78372);\n            loop_cond_78378 = slt64((int64_t) 0, defunc_0_split_count_res_78377);\n            loop_while_78385 = loop_cond_78378;\n            ss_78386 = defunc_0_split_count_res_78373;\n            ss_78387 = defunc_0_split_count_res_78374;\n            tt_78388 = defunc_0_split_count_res_78375;\n            tt_78389 = defunc_0_split_count_res_78376;\n            count_78390 = defunc_0_split_count_res_78377;\n            while (loop_while_78385) {\n                int64_t zlze_lhs_78391;\n                bool cond_78392;\n                int64_t defunc_0_lifted_step_res_78393;\n                int64_t defunc_0_lifted_step_res_78394;\n                int64_t defunc_0_lifted_step_res_78395;\n                int64_t defunc_0_lifted_step_res_78396;\n                int64_t loopres_78459;\n                int64_t loopres_78460;\n                int64_t loopres_78461;\n                int64_t loopres_78462;\n                int64_t loopres_78463;\n                bool loop_cond_78464;\n                bool loop_while_tmp_96431;\n                int64_t ss_tmp_96432;\n                int64_t ss_tmp_96433;\n                int64_t tt_tmp_96434;\n                int64_t tt_tmp_96435;\n                int64_t count_tmp_96436;\n                \n                zlze_lhs_78391 = sub64(ss_78387, ss_78386);\n                cond",
                                    "_78392 = sle64(zlze_lhs_78391, (int64_t) 0);\n                if (cond_78392) {\n                    int64_t tmp_78397 = add64(tt_78388, count_78390);\n                    \n                    defunc_0_lifted_step_res_78393 = ss_78386;\n                    defunc_0_lifted_step_res_78394 = tmp_78397;\n                    defunc_0_lifted_step_res_78395 = tt_78389;\n                    defunc_0_lifted_step_res_78396 = (int64_t) 0;\n                } else {\n                    int64_t zlze_lhs_78398;\n                    bool cond_78399;\n                    int64_t defunc_0_lifted_step_res_f_res_78400;\n                    int64_t defunc_0_lifted_step_res_f_res_78401;\n                    int64_t defunc_0_lifted_step_res_f_res_78402;\n                    int64_t defunc_0_lifted_step_res_f_res_78403;\n                    \n                    zlze_lhs_78398 = sub64(tt_78389, tt_78388);\n                    cond_78399 = sle64(zlze_lhs_78398, (int64_t) 0);\n                    if (cond_78399) {\n                        int64_t tmp_78404 = add64(ss_78386, count_78390);\n                        \n                        defunc_0_lifted_step_res_f_res_78400 = tmp_78404;\n                        defunc_0_lifted_step_res_f_res_78401 = tt_78388;\n                        defunc_0_lifted_step_res_f_res_78402 = tt_78389;\n                        defunc_0_lifted_step_res_f_res_78403 = (int64_t) 0;\n                    } else {\n                        bool cond_78405;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_78406;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_78407;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_78408;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_78409;\n                        \n                        cond_78405 = count_78390 == (int64_t) 1;\n                        if (cond_78405) {\n                            bool x_78410;\n                            bool y_78411;\n                           ", " bool bounds_check_78412;\n                            bool index_certs_78413;\n                            bool x_78416;\n                            bool y_78417;\n                            bool bounds_check_78418;\n                            bool index_certs_78419;\n                            int64_t slice_78414;\n                            int64_t leq_arg1_78415;\n                            int64_t slice_78420;\n                            int64_t slice_78421;\n                            int64_t leq_arg0_78422;\n                            bool lifted_lambda_res_78423;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_78424;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_78425;\n                            \n                            x_78410 = sle64((int64_t) 0, ss_78386);\n                            y_78411 = slt64(ss_78386, stride_72246);\n                            bounds_check_78412 = x_78410 && y_78411;\n                            if (!bounds_check_78412) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 52) == -1) {\n                                        global_failure_args[0] = (int64_t) ss_78386;\n                                        global_failure_args[1] = (int64_t) stride_72246;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_8;\n                                }\n                            }\n                            x_78416 = sle64((int64_t) 0, tt_78388);\n                            y_78417 = slt64(tt_78388, j_m_i_72268);\n                            bounds_check_78418 = x_78416 && y_78417;\n                            if (!bounds_check_78418) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 53) == -1) {\n             ", "                           global_failure_args[0] = (int64_t) tt_78388;\n                                        global_failure_args[1] = (int64_t) j_m_i_72268;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_8;\n                                }\n                            }\n                            slice_78414 = start_78279 + ss_78386;\n                            leq_arg1_78415 = ((__global int64_t *) mem_param_92944)[slice_78414];\n                            slice_78420 = stride_72246 + tt_78388;\n                            slice_78421 = start_78279 + slice_78420;\n                            leq_arg0_78422 = ((__global int64_t *) mem_param_92944)[slice_78421];\n                            lifted_lambda_res_78423 = sle64(leq_arg0_78422, leq_arg1_78415);\n                            if (lifted_lambda_res_78423) {\n                                int64_t tmp_78426 = add64((int64_t) 1, tt_78388);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_78424 = ss_78386;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_78425 = tmp_78426;\n                            } else {\n                                int64_t tmp_78427 = add64((int64_t) 1, ss_78386);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_78424 = tmp_78427;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_78425 = tt_78388;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_78406 = defunc_0_lifted_step_res_f_res_f_res_t_res_78424;\n                            defunc_0_lifted_step_res_f_res_f_res_78407 = defunc_0_lifted_step_res_f_res_f_res_t_res_78425;\n                            defunc_0_lifted_step_res_f_res_f_res_78408 = tt_78389;\n                            defunc_0_lift",
                                    "ed_step_res_f_res_f_res_78409 = (int64_t) 0;\n                        } else {\n                            int64_t m_78428;\n                            int64_t n_78429;\n                            bool cond_78430;\n                            int64_t zgze_lhs_78431;\n                            bool cond_f_res_78432;\n                            bool x_78433;\n                            bool y_78434;\n                            bool cond_78435;\n                            bool leq_y_x_78436;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_78453;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_78454;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_78455;\n                            \n                            m_78428 = sdiv64(count_78390, (int64_t) 2);\n                            n_78429 = sub64(count_78390, m_78428);\n                            cond_78430 = n_78429 == (int64_t) 0;\n                            zgze_lhs_78431 = add64(ss_78386, m_78428);\n                            cond_f_res_78432 = sle64(ss_78387, zgze_lhs_78431);\n                            x_78433 = !cond_78430;\n                            y_78434 = cond_f_res_78432 && x_78433;\n                            cond_78435 = cond_78430 || y_78434;\n                            if (cond_78435) {\n                                leq_y_x_78436 = 1;\n                            } else {\n                                bool x_78437;\n                                bool y_78438;\n                                bool bounds_check_78439;\n                                bool index_certs_78440;\n                                int64_t zm_lhs_78443;\n                                int64_t leq_arg0_78444;\n                                bool x_78445;\n                                bool y_78446;\n                                bool bounds_check_78447;\n                                bool index_certs_78448;\n                             ", "   int64_t slice_78441;\n                                int64_t leq_arg1_78442;\n                                int64_t slice_78449;\n                                int64_t slice_78450;\n                                int64_t leq_arg0_78451;\n                                bool lifted_lambda_res_78452;\n                                \n                                x_78437 = sle64((int64_t) 0, zgze_lhs_78431);\n                                y_78438 = slt64(zgze_lhs_78431, stride_72246);\n                                bounds_check_78439 = x_78437 && y_78438;\n                                if (!bounds_check_78439) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 54) == -1) {\n                                            global_failure_args[0] = (int64_t) zgze_lhs_78431;\n                                            global_failure_args[1] = (int64_t) stride_72246;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_8;\n                                    }\n                                }\n                                zm_lhs_78443 = add64(tt_78388, n_78429);\n                                leq_arg0_78444 = sub64(zm_lhs_78443, (int64_t) 1);\n                                x_78445 = sle64((int64_t) 0, leq_arg0_78444);\n                                y_78446 = slt64(leq_arg0_78444, j_m_i_72268);\n                                bounds_check_78447 = x_78445 && y_78446;\n                                if (!bounds_check_78447) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 55) == -1) {\n                                            global_failure_args[0] = (int64_t) leq_arg0_78444;\n                                            global_failure_args[1] = (int64_t) j_m_i_72268;\n", "                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_8;\n                                    }\n                                }\n                                slice_78441 = start_78279 + zgze_lhs_78431;\n                                leq_arg1_78442 = ((__global int64_t *) mem_param_92944)[slice_78441];\n                                slice_78449 = stride_72246 + leq_arg0_78444;\n                                slice_78450 = start_78279 + slice_78449;\n                                leq_arg0_78451 = ((__global int64_t *) mem_param_92944)[slice_78450];\n                                lifted_lambda_res_78452 = sle64(leq_arg0_78451, leq_arg1_78442);\n                                leq_y_x_78436 = lifted_lambda_res_78452;\n                            }\n                            if (leq_y_x_78436) {\n                                int64_t tmp_78456;\n                                int64_t tmp_78457;\n                                \n                                tmp_78456 = add64(tt_78388, n_78429);\n                                tmp_78457 = sub64(count_78390, n_78429);\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_78453 = tmp_78456;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_78454 = tt_78389;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_78455 = tmp_78457;\n                            } else {\n                                int64_t tmp_78458 = add64(tt_78388, n_78429);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_f_res_78453 = tt_78388;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_78454 = tmp_78458;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_78455 = count_78390;\n                            }\n                            ",
                                    "defunc_0_lifted_step_res_f_res_f_res_78406 = ss_78386;\n                            defunc_0_lifted_step_res_f_res_f_res_78407 = defunc_0_lifted_step_res_f_res_f_res_f_res_78453;\n                            defunc_0_lifted_step_res_f_res_f_res_78408 = defunc_0_lifted_step_res_f_res_f_res_f_res_78454;\n                            defunc_0_lifted_step_res_f_res_f_res_78409 = defunc_0_lifted_step_res_f_res_f_res_f_res_78455;\n                        }\n                        defunc_0_lifted_step_res_f_res_78400 = defunc_0_lifted_step_res_f_res_f_res_78406;\n                        defunc_0_lifted_step_res_f_res_78401 = defunc_0_lifted_step_res_f_res_f_res_78407;\n                        defunc_0_lifted_step_res_f_res_78402 = defunc_0_lifted_step_res_f_res_f_res_78408;\n                        defunc_0_lifted_step_res_f_res_78403 = defunc_0_lifted_step_res_f_res_f_res_78409;\n                    }\n                    defunc_0_lifted_step_res_78393 = defunc_0_lifted_step_res_f_res_78400;\n                    defunc_0_lifted_step_res_78394 = defunc_0_lifted_step_res_f_res_78401;\n                    defunc_0_lifted_step_res_78395 = defunc_0_lifted_step_res_f_res_78402;\n                    defunc_0_lifted_step_res_78396 = defunc_0_lifted_step_res_f_res_78403;\n                }\n                futrts_lifted_normalizze_10027(&loopres_78459, &loopres_78460, &loopres_78461, &loopres_78462, &loopres_78463, defunc_0_lifted_step_res_78393, ss_78387, defunc_0_lifted_step_res_78394, defunc_0_lifted_step_res_78395, defunc_0_lifted_step_res_78396);\n                loop_cond_78464 = slt64((int64_t) 0, loopres_78463);\n                loop_while_tmp_96431 = loop_cond_78464;\n                ss_tmp_96432 = loopres_78459;\n                ss_tmp_96433 = loopres_78460;\n                tt_tmp_96434 = loopres_78461;\n                tt_tmp_96435 = loopres_78462;\n                count_tmp_96436 = loopres_78463;\n                loop_while_78385 = loop_while_tmp_96431;\n                ss_78386 = ss_tmp_964", "32;\n                ss_78387 = ss_tmp_96433;\n                tt_78388 = tt_tmp_96434;\n                tt_78389 = tt_tmp_96435;\n                count_78390 = count_tmp_96436;\n            }\n            defunc_0_split_count_res_78379 = loop_while_78385;\n            defunc_0_split_count_res_78380 = ss_78386;\n            defunc_0_split_count_res_78381 = ss_78387;\n            defunc_0_split_count_res_78382 = tt_78388;\n            defunc_0_split_count_res_78383 = tt_78389;\n            defunc_0_split_count_res_78384 = count_78390;\n            ((__local int64_t *) color_95410)[gtid_78369] = defunc_0_split_count_res_78380;\n            ((__local int64_t *) color_95402)[gtid_78369] = defunc_0_split_count_res_78382;\n        }\n        \n      error_8:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_78476 = sext_i32_i64(local_tid_96366);\n        gtid_78475 = sext_i32_i64(sext_i64_i32(ltid_pre_96394));\n        if (slt64(gtid_78475, num_blocks_72266)) {\n            bool y_78479;\n            bool index_certs_78481;\n            int64_t defunc_0_f_res_78482;\n            int64_t defunc_0_f_res_78483;\n            int64_t tmp_78484;\n            bool x_78485;\n            bool y_78486;\n            bool bounds_check_78487;\n            bool index_certs_78488;\n            int64_t defunc_0_f_res_78489;\n            int64_t defunc_0_f_res_78490;\n            int64_t merge_sequential_arg2_78491;\n            int64_t merge_sequential_arg2_78492;\n            int64_t j_m_i_78493;\n            bool empty_slice_78494;\n            int64_t m_78495;\n            int64_t i_p_m_t_s_78496;\n            bool zzero_leq_i_p_m_t_s_78497;\n            bool i_p_m_t_s_leq_w_78498;\n            bool zzero_lte_i_78499;\n            bool i_lte_j_78500;\n            bool y_78501;\n            bool y_78502;\n            bool forwards_ok_78503;\n            bool ok_or_empty_78504;\n            bool index_certs_78505;\n            int64_t j_m_i_7", "8506;\n            bool empty_slice_78507;\n            int64_t m_78508;\n            int64_t i_p_m_t_s_78509;\n            bool zzero_leq_i_p_m_t_s_78510;\n            bool i_p_m_t_s_leq_w_78511;\n            bool zzero_lte_i_78512;\n            bool i_lte_j_78513;\n            bool y_78514;\n            bool y_78515;\n            bool forwards_ok_78516;\n            bool ok_or_empty_78517;\n            bool index_certs_78518;\n            bool cond_78519;\n            bool y_78528;\n            bool protect_assert_disj_94634;\n            bool index_certs_78529;\n            int64_t slice_78530;\n            int64_t binop_y_93452;\n            int64_t slice_78524;\n            int64_t binop_y_93454;\n            int64_t ext_93456;\n            int64_t dummy_78520;\n            int64_t dummy_78522;\n            \n            y_78479 = slt64(gtid_78475, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);\n            if (!y_78479) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 56) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_78475;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            defunc_0_f_res_78482 = ((__local int64_t *) color_95410)[gtid_78475];\n            defunc_0_f_res_78483 = ((__local int64_t *) color_95402)[gtid_78475];\n            tmp_78484 = add64((int64_t) 1, gtid_78475);\n            x_78485 = sle64((int64_t) 0, tmp_78484);\n            y_78486 = slt64(tmp_78484, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);\n            bounds_check_78487 = x_78485 && y_78486;\n            if (!bounds_check_78487) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 57) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_78484;\n                        global_f",
                                    "ailure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            defunc_0_f_res_78489 = ((__local int64_t *) color_95410)[tmp_78484];\n            defunc_0_f_res_78490 = ((__local int64_t *) color_95402)[tmp_78484];\n            merge_sequential_arg2_78491 = add64(stride_72246, defunc_0_f_res_78483);\n            merge_sequential_arg2_78492 = add64(stride_72246, defunc_0_f_res_78490);\n            j_m_i_78493 = sub64(merge_sequential_arg2_78492, merge_sequential_arg2_78491);\n            empty_slice_78494 = j_m_i_78493 == (int64_t) 0;\n            m_78495 = sub64(j_m_i_78493, (int64_t) 1);\n            i_p_m_t_s_78496 = add64(merge_sequential_arg2_78491, m_78495);\n            zzero_leq_i_p_m_t_s_78497 = sle64((int64_t) 0, i_p_m_t_s_78496);\n            i_p_m_t_s_leq_w_78498 = slt64(i_p_m_t_s_78496, next_stride_72247);\n            zzero_lte_i_78499 = sle64((int64_t) 0, merge_sequential_arg2_78491);\n            i_lte_j_78500 = sle64(merge_sequential_arg2_78491, merge_sequential_arg2_78492);\n            y_78501 = i_p_m_t_s_leq_w_78498 && zzero_lte_i_78499;\n            y_78502 = zzero_leq_i_p_m_t_s_78497 && y_78501;\n            forwards_ok_78503 = i_lte_j_78500 && y_78502;\n            ok_or_empty_78504 = empty_slice_78494 || forwards_ok_78503;\n            if (!ok_or_empty_78504) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 58) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_78491;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_78492;\n                        global_failure_args[2] = (int64_t) next_stride_72247;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            j_m_i_78506 = sub", "64(defunc_0_f_res_78489, defunc_0_f_res_78482);\n            empty_slice_78507 = j_m_i_78506 == (int64_t) 0;\n            m_78508 = sub64(j_m_i_78506, (int64_t) 1);\n            i_p_m_t_s_78509 = add64(defunc_0_f_res_78482, m_78508);\n            zzero_leq_i_p_m_t_s_78510 = sle64((int64_t) 0, i_p_m_t_s_78509);\n            i_p_m_t_s_leq_w_78511 = slt64(i_p_m_t_s_78509, next_stride_72247);\n            zzero_lte_i_78512 = sle64((int64_t) 0, defunc_0_f_res_78482);\n            i_lte_j_78513 = sle64(defunc_0_f_res_78482, defunc_0_f_res_78489);\n            y_78514 = i_p_m_t_s_leq_w_78511 && zzero_lte_i_78512;\n            y_78515 = zzero_leq_i_p_m_t_s_78510 && y_78514;\n            forwards_ok_78516 = i_lte_j_78513 && y_78515;\n            ok_or_empty_78517 = empty_slice_78507 || forwards_ok_78516;\n            if (!ok_or_empty_78517) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 59) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_78482;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_78489;\n                        global_failure_args[2] = (int64_t) next_stride_72247;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            cond_78519 = slt64((int64_t) 0, j_m_i_78506);\n            y_78528 = slt64((int64_t) 0, j_m_i_78493);\n            protect_assert_disj_94634 = cond_78519 || y_78528;\n            if (!protect_assert_disj_94634) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 60) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_78493;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            slice_78530 = start_78279 + merge_sequen", "tial_arg2_78491;\n            binop_y_93452 = dim_48135 * slice_78530;\n            slice_78524 = start_78279 + defunc_0_f_res_78482;\n            binop_y_93454 = dim_48135 * slice_78524;\n            if (cond_78519) {\n                ext_93456 = binop_y_93454;\n            } else {\n                ext_93456 = binop_y_93452;\n            }\n            if (cond_78519) {\n                int64_t head_res_78525;\n                int64_t head_res_78527;\n                \n                head_res_78525 = ((__global int64_t *) mem_param_92944)[slice_78524];\n                head_res_78527 = ((__global int64_t *) mem_param_92951)[slice_78524];\n                dummy_78520 = head_res_78525;\n                dummy_78522 = head_res_78527;\n            } else {\n                int64_t head_res_78531;\n                int64_t head_res_78533;\n                \n                head_res_78531 = ((__global int64_t *) mem_param_92944)[slice_78530];\n                head_res_78533 = ((__global int64_t *) mem_param_92951)[slice_78530];\n                dummy_78520 = head_res_78531;\n                dummy_78522 = head_res_78533;\n            }\n            ((__local int64_t *) color_95401)[gtid_78475] = dummy_78520;\n            ((__local int64_t *) color_95400)[gtid_78475] = dummy_78522;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__local double *) color_95409)[gtid_78475 * dim_48135 + i_0] = ((__global double *) mem_param_92948)[ext_93456 + i_0];\n            }\n            ((__local int64_t *) color_95408)[gtid_78475] = defunc_0_f_res_78482;\n            ((__local int64_t *) color_95407)[gtid_78475] = merge_sequential_arg2_78491;\n            ((__local int64_t *) color_95406)[gtid_78475] = j_m_i_78493;\n            ((__local int64_t *) color_95404)[gtid_78475] = j_m_i_78506;\n        }\n        \n      error_9:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96440 = 0; chunk_",
                                    "i_96440 < num_chunks_96359; chunk_i_96440++) {\n            int32_t i_96441;\n            int64_t slice_96442;\n            int64_t slice_96443;\n            int64_t rep_i_96438;\n            int64_t remnant_96444;\n            int64_t rep_i_96439;\n            int64_t remnant_96445;\n            \n            i_96441 = chunk_i_96440 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n            slice_96442 = num_blocks_72266;\n            slice_96443 = merge_block_sizze_67302 * slice_96442;\n            rep_i_96438 = squot64(sext_i32_i64(i_96441), slice_96442);\n            remnant_96444 = sext_i32_i64(i_96441) - rep_i_96438 * slice_96442;\n            rep_i_96439 = remnant_96444;\n            remnant_96445 = remnant_96444 - rep_i_96439;\n            if ((sle64((int64_t) 0, rep_i_96438) && slt64(rep_i_96438, merge_block_sizze_67302)) && (sle64((int64_t) 0, rep_i_96439) && slt64(rep_i_96439, num_blocks_72266))) {\n                int64_t tmp_96446 = ((__local int64_t *) color_95401)[rep_i_96439];\n                \n                ((__local int64_t *) color_95402)[rep_i_96438 * num_blocks_72266 + rep_i_96439] = tmp_96446;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96450 = 0; chunk_i_96450 < num_chunks_96359; chunk_i_96450++) {\n            int32_t i_96451;\n            int64_t slice_96452;\n            int64_t slice_96453;\n            int64_t rep_i_96448;\n            int64_t remnant_96454;\n            int64_t rep_i_96449;\n            int64_t remnant_96455;\n            \n            i_96451 = chunk_i_96450 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n            slice_96452 = num_blocks_72266;\n            slice_96453 = merge_block_sizze_67302 * slice_96452;\n            rep_i_96448 = squot64(sext_i32_i64(i_96451), slice_96452);\n            remnant_96454 = sext_i32_i64(i_96451) - rep_i_96448 * slice_96452;\n            rep_i_96449 = remnant_96454;\n            remnant_96455 = remnant_96454 - rep_i_96449;\n           ", " if ((sle64((int64_t) 0, rep_i_96448) && slt64(rep_i_96448, merge_block_sizze_67302)) && (sle64((int64_t) 0, rep_i_96449) && slt64(rep_i_96449, num_blocks_72266))) {\n                int64_t tmp_96456 = ((__local int64_t *) color_95400)[rep_i_96449];\n                \n                ((__local int64_t *) color_95401)[rep_i_96448 * num_blocks_72266 + rep_i_96449] = tmp_96456;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96461 = 0; chunk_i_96461 < num_chunks_96358; chunk_i_96461++) {\n            int32_t i_96462;\n            int64_t slice_96463;\n            int64_t slice_96464;\n            int64_t slice_96465;\n            int64_t rep_i_96458;\n            int64_t remnant_96466;\n            int64_t rep_i_96459;\n            int64_t remnant_96467;\n            int64_t rep_i_96460;\n            int64_t remnant_96468;\n            \n            i_96462 = chunk_i_96461 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n            slice_96463 = num_blocks_72266;\n            slice_96464 = dim_48135 * slice_96463;\n            slice_96465 = merge_block_sizze_67302 * slice_96464;\n            rep_i_96458 = squot64(sext_i32_i64(i_96462), slice_96464);\n            remnant_96466 = sext_i32_i64(i_96462) - rep_i_96458 * slice_96464;\n            rep_i_96459 = squot64(remnant_96466, slice_96463);\n            remnant_96467 = remnant_96466 - rep_i_96459 * slice_96463;\n            rep_i_96460 = remnant_96467;\n            remnant_96468 = remnant_96467 - rep_i_96460;\n            if (((sle64((int64_t) 0, rep_i_96458) && slt64(rep_i_96458, merge_block_sizze_67302)) && (sle64((int64_t) 0, rep_i_96459) && slt64(rep_i_96459, dim_48135))) && (sle64((int64_t) 0, rep_i_96460) && slt64(rep_i_96460, num_blocks_72266))) {\n                double tmp_96469 = ((__local double *) color_95409)[rep_i_96459 + rep_i_96460 * dim_48135];\n                \n                ((__local double *) color_95400)[rep_i_96458 * (num_blocks_72266 * dim_48135) + rep_i_96459 *", " num_blocks_72266 + rep_i_96460] = tmp_96469;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_78547 = sext_i32_i64(local_tid_96366);\n        gtid_78546 = sext_i32_i64(sext_i64_i32(ltid_pre_96394));\n        if (slt64(gtid_78546, num_blocks_72266)) {\n            int64_t defunc_0_f_res_78548;\n            int64_t merge_sequential_arg2_78549;\n            int64_t j_m_i_78550;\n            bool index_certs_78551;\n            int64_t j_m_i_78552;\n            bool index_certs_78553;\n            int64_t data_78557;\n            int64_t i_78562;\n            \n            defunc_0_f_res_78548 = ((__local int64_t *) color_95408)[gtid_78546];\n            merge_sequential_arg2_78549 = ((__local int64_t *) color_95407)[gtid_78546];\n            j_m_i_78550 = ((__local int64_t *) color_95406)[gtid_78546];\n            index_certs_78551 = 0;\n            j_m_i_78552 = ((__local int64_t *) color_95404)[gtid_78546];\n            index_certs_78553 = 0;\n            i_78562 = (int64_t) 0;\n            for (int64_t k_78561 = 0; k_78561 < merge_block_sizze_67302; k_78561++) {\n                int64_t j_78566;\n                bool cond_78567;\n                bool x_94874;\n                bool cond_78569;\n                bool x_78571;\n                bool y_78572;\n                bool bounds_check_78573;\n                bool loop_not_taken_94866;\n                bool protect_assert_disj_94867;\n                bool protect_assert_disj_94877;\n                bool index_certs_78574;\n                int64_t slice_78575;\n                int64_t slice_78576;\n                bool protect_cond_conj_94878;\n                int64_t leq_arg1_78577;\n                bool x_78578;\n                bool bounds_check_78579;\n                bool protect_assert_disj_94871;\n                bool protect_assert_disj_94880;\n                bool index_certs_78580;\n                int64_t slice_78581;\n                int64_t slice_78582;\n                int64_t leq_arg0_78583;\n                boo",
                                    "l lifted_lambda_res_78584;\n                bool x_95065;\n                bool cond_78568;\n                bool protect_assert_disj_94626;\n                bool index_certs_78602;\n                bool loop_not_taken_94621;\n                bool protect_assert_disj_94622;\n                bool index_certs_78593;\n                int64_t binop_y_93495;\n                int64_t binop_y_93497;\n                int64_t ext_93499;\n                int64_t loopres_78585;\n                int64_t loopres_78586;\n                int64_t loopres_78588;\n                int64_t i_tmp_96470;\n                \n                j_78566 = sub64(k_78561, i_78562);\n                cond_78567 = j_78566 == j_m_i_78550;\n                x_94874 = !cond_78567;\n                cond_78569 = slt64(i_78562, j_m_i_78552);\n                x_78571 = sle64((int64_t) 0, j_78566);\n                y_78572 = slt64(j_78566, j_m_i_78550);\n                bounds_check_78573 = x_78571 && y_78572;\n                loop_not_taken_94866 = !cond_78569;\n                protect_assert_disj_94867 = bounds_check_78573 || loop_not_taken_94866;\n                protect_assert_disj_94877 = cond_78567 || protect_assert_disj_94867;\n                if (!protect_assert_disj_94877) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 61) == -1) {\n                            global_failure_args[0] = (int64_t) j_78566;\n                            global_failure_args[1] = (int64_t) j_m_i_78550;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                slice_78575 = merge_sequential_arg2_78549 + j_78566;\n                slice_78576 = start_78279 + slice_78575;\n                protect_cond_conj_94878 = cond_78569 && x_94874;\n                if (protect_cond_conj_94878) {\n                    int64_t x_94868 = ((__global int64_t *) mem_param_92944)[slice_78576];\n", "                    \n                    leq_arg1_78577 = x_94868;\n                } else {\n                    leq_arg1_78577 = (int64_t) 0;\n                }\n                x_78578 = sle64((int64_t) 0, i_78562);\n                bounds_check_78579 = cond_78569 && x_78578;\n                protect_assert_disj_94871 = bounds_check_78579 || loop_not_taken_94866;\n                protect_assert_disj_94880 = cond_78567 || protect_assert_disj_94871;\n                if (!protect_assert_disj_94880) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 62) == -1) {\n                            global_failure_args[0] = (int64_t) i_78562;\n                            global_failure_args[1] = (int64_t) j_m_i_78552;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                slice_78581 = defunc_0_f_res_78548 + i_78562;\n                slice_78582 = start_78279 + slice_78581;\n                if (protect_cond_conj_94878) {\n                    int64_t x_94872 = ((__global int64_t *) mem_param_92944)[slice_78582];\n                    \n                    leq_arg0_78583 = x_94872;\n                } else {\n                    leq_arg0_78583 = (int64_t) 0;\n                }\n                lifted_lambda_res_78584 = sle64(leq_arg0_78583, leq_arg1_78577);\n                x_95065 = cond_78569 && lifted_lambda_res_78584;\n                cond_78568 = cond_78567 || x_95065;\n                protect_assert_disj_94626 = cond_78568 || bounds_check_78573;\n                if (!protect_assert_disj_94626) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 63) == -1) {\n                            global_failure_args[0] = (int64_t) j_78566;\n                            global_failure_args[1] = (int64_t) j_m_i_78550;\n                            ;\n                        }\n           ", "             local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                loop_not_taken_94621 = !cond_78568;\n                protect_assert_disj_94622 = bounds_check_78579 || loop_not_taken_94621;\n                if (!protect_assert_disj_94622) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 64) == -1) {\n                            global_failure_args[0] = (int64_t) i_78562;\n                            global_failure_args[1] = (int64_t) j_m_i_78552;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                binop_y_93495 = dim_48135 * slice_78576;\n                binop_y_93497 = dim_48135 * slice_78582;\n                if (cond_78568) {\n                    ext_93499 = binop_y_93497;\n                } else {\n                    ext_93499 = binop_y_93495;\n                }\n                if (cond_78568) {\n                    int64_t tmp_78589;\n                    int64_t tmp_78596;\n                    int64_t tmp_78598;\n                    \n                    tmp_78589 = add64((int64_t) 1, i_78562);\n                    tmp_78596 = ((__global int64_t *) mem_param_92944)[slice_78582];\n                    tmp_78598 = ((__global int64_t *) mem_param_92951)[slice_78582];\n                    loopres_78585 = tmp_78589;\n                    loopres_78586 = tmp_78596;\n                    loopres_78588 = tmp_78598;\n                } else {\n                    int64_t tmp_78605;\n                    int64_t tmp_78607;\n                    \n                    tmp_78605 = ((__global int64_t *) mem_param_92944)[slice_78576];\n                    tmp_78607 = ((__global int64_t *) mem_param_92951)[slice_78576];\n                    loopres_78585 = i_78562;\n                    loopres_78586 = tmp_78605;\n                    loopres_78588 = tmp_78607;\n  ",
                                    "              }\n                ((__local int64_t *) color_95402)[gtid_78546 + k_78561 * num_blocks_72266] = loopres_78586;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__local double *) color_95400)[gtid_78546 + k_78561 * lmad_arg_93247 + i_0 * num_blocks_72266] = ((__global double *) mem_param_92948)[ext_93499 + i_0];\n                }\n                ((__local int64_t *) color_95401)[gtid_78546 + k_78561 * num_blocks_72266] = loopres_78588;\n                i_tmp_96470 = loopres_78585;\n                i_78562 = i_tmp_96470;\n            }\n            data_78557 = i_78562;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n                ((__local int64_t *) color_95399)[gtid_78546 * merge_block_sizze_67302 + i_0] = ((__local int64_t *) color_95402)[gtid_78546 + i_0 * num_blocks_72266];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__local double *) color_95398)[gtid_78546 * (dim_48135 * merge_block_sizze_67302) + (i_0 * dim_48135 + i_1)] = ((__local double *) color_95400)[gtid_78546 + (i_0 * lmad_arg_93247 + i_1 * num_blocks_72266)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n                ((__local int64_t *) color_95397)[gtid_78546 * merge_block_sizze_67302 + i_0] = ((__local int64_t *) color_95401)[gtid_78546 + i_0 * num_blocks_72266];\n            }\n        }\n        \n      error_10:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        ext_mem_93566 = color_95399;\n        ext_mem_93563 = color_95398;\n        ext_mem_93559 = color_95397;\n    }\n    num_chunks_96474 = sdiv_up32(sext_i64_i32(next_stride_72247), sext_i64_i32(computed_tblock_sizze_78020));\n    for (int32_t chunk_i_96475 = 0; chunk_i_96475 < num_chunks_96474; chunk_i_96475", "++) {\n        int32_t i_96476 = chunk_i_96475 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n        \n        if (slt32(i_96476, sext_i64_i32(next_stride_72247))) {\n            ((__global int64_t *) mem_93569)[gtid_78276 * next_stride_72247 + sext_i32_i64(i_96476)] = ((__local int64_t *) ext_mem_93566)[sext_i32_i64(i_96476)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96477 = sdiv_up32(sext_i64_i32(next_stride_72247) * sext_i64_i32(dim_48135), sext_i64_i32(computed_tblock_sizze_78020));\n    for (int32_t chunk_i_96478 = 0; chunk_i_96478 < num_chunks_96477; chunk_i_96478++) {\n        int32_t i_96479 = chunk_i_96478 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n        \n        if (slt32(i_96479, sext_i64_i32(next_stride_72247) * sext_i64_i32(dim_48135))) {\n            ((__global double *) mem_93573)[gtid_78276 * (dim_48135 * next_stride_72247) + sext_i32_i64(squot32(i_96479, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_96479 - squot32(i_96479, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))] = ((__local double *) ext_mem_93563)[sext_i32_i64(squot32(i_96479, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_96479 - squot32(i_96479, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96480 = sdiv_up32(sext_i64_i32(next_stride_72247), sext_i64_i32(computed_tblock_sizze_78020));\n    for (int32_t chunk_i_96481 = 0; chunk_i_96481 < num_chunks_96480; chunk_i_96481++) {\n        int32_t i_96482 = chunk_i_96481 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96366;\n        \n        if (slt32(i_96482, sext_i64_i32(next_stride_72247))) {\n            ((__global int64_t *) mem_93576)[gtid_78276 * next_stride_72247 + sext_i32_i64(i_96482)] = ((__local int64_t *) ext_mem_93559)[sext_i32_i64(i_96482)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_11:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intra", "block_81017(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t merge_block_sizze_67302, int64_t stride_72246, int64_t next_stride_72247, int64_t num_merges_72251, int64_t num_blocks_72266, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, int64_t j_m_i_72268, int64_t computed_tblock_sizze_78020, int64_t bytes_93210, int64_t bytes_93228, int64_t lmad_arg_93247, int64_t maxSubHelper_95411, int64_t maxSubHelper_95412, int64_t maxSubHelper_95413, int64_t maxSubHelper_95414, int64_t maxSubHelper_95415, int32_t num_chunks_96631, int32_t num_chunks_96632, __global unsigned char *mem_param_92944, __global unsigned char *mem_param_92948, __global unsigned char *mem_param_92951, __global unsigned char *mem_92953, __global unsigned char *mem_92954, __global unsigned char *mem_93275, __global unsigned char *mem_93279, __global unsigned char *mem_93282)\n{\n    volatile __local unsigned char *color_95427_backing_11 = &shared_mem[0];\n    const int64_t color_95427_backing_11_offset = 0 + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95426_backing_10 = &shared_mem[color_95427_backing_11_offset];\n    const int64_t color_95426_backing_10_offset = color_95427_backing_11_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95425_backing_9 = &shared_mem[color_95426_backing_10_offset];\n    const int64_t color_95425_backing_9_offset = color_95426_backing_10_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95424_backing_8 = &shared_mem[color_95425_backing_9_offset];\n    const int64_t color_95424_backing_8_offset = color_95425_backing_9_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95423_backing_7 = &shared_mem[color_95424_backing_8_offset];\n    const int",
                                    "64_t color_95423_backing_7_offset = color_95424_backing_8_offset + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95422_backing_6 = &shared_mem[color_95423_backing_7_offset];\n    const int64_t color_95422_backing_6_offset = color_95423_backing_7_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95421_backing_5 = &shared_mem[color_95422_backing_6_offset];\n    const int64_t color_95421_backing_5_offset = color_95422_backing_6_offset + (bytes_93228 + srem64((int64_t) 8 - srem64(bytes_93228, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95420_backing_4 = &shared_mem[color_95421_backing_5_offset];\n    const int64_t color_95420_backing_4_offset = color_95421_backing_5_offset + (maxSubHelper_95415 + srem64((int64_t) 8 - srem64(maxSubHelper_95415, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95419_backing_3 = &shared_mem[color_95420_backing_4_offset];\n    const int64_t color_95419_backing_3_offset = color_95420_backing_4_offset + (maxSubHelper_95414 + srem64((int64_t) 8 - srem64(maxSubHelper_95414, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95418_backing_2 = &shared_mem[color_95419_backing_3_offset];\n    const int64_t color_95418_backing_2_offset = color_95419_backing_3_offset + (maxSubHelper_95413 + srem64((int64_t) 8 - srem64(maxSubHelper_95413, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95417_backing_1 = &shared_mem[color_95418_backing_2_offset];\n    const int64_t color_95417_backing_1_offset = color_95418_backing_2_offset + (maxSubHelper_95412 + srem64((int64_t) 8 - srem64(maxSubHelper_95412, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95416_backing_0 = &shared_mem[color_95417_backing_1_offset];\n    const int64_t color_95416_backing_0_offset = color_95417_backing_1_offset + (maxSubHelper_95411 + srem64((int64_t) 8 - srem64(maxSubHelper_95411, (in", "t64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96637;\n    int32_t tblock_sizze_96640;\n    int32_t wave_sizze_96639;\n    int32_t block_id_96638;\n    int32_t global_tid_96636;\n    int64_t phys_tblock_id_81017;\n    int64_t slice_96644;\n    int64_t slice_96645;\n    int64_t slice_96646;\n    int64_t ltid_pre_96641;\n    int64_t remnant_96647;\n    int64_t ltid_pre_96642;\n    int64_t remnant_96648;\n    int64_t ltid_pre_96643;\n    int64_t remnant_96649;\n    int64_t slice_96652;\n    int64_t slice_96653;\n    int64_t ltid_pre_96650;\n    int64_t remnant_96654;\n    int64_t ltid_pre_96651;\n    int64_t remnant_96655;\n    int64_t slice_96657;\n    int64_t ltid_pre_96656;\n    int64_t remnant_96658;\n    int64_t slice_96660;\n    int64_t ltid_pre_96659;\n    int64_t remnant_96661;\n    int64_t slice_96662;\n    int64_t gtid_81016;\n    int64_t remnant_96663;\n    __local unsigned char *color_95416;\n    __local unsigned char *color_95417;\n    __local unsigned char *color_95418;\n    __local unsigned char *color_95419;\n    __local unsigned char *color_95420;\n    __local unsigned char *color_95421;\n    __local unsigned char *color_95422;\n    __local unsigned char *color_95423;\n    __local unsigned char *color_95424;\n    __local unsigned char *color_95425;\n    __local unsigned char *color_95426;\n    __local unsigned char *color_95427;\n    int64_t index_primexp_90388;\n    bool index_certs_81019;\n    bool index_certs_81020;\n    int64_t phys_tid_81024;\n    int64_t gtid_81023;\n    int64_t phys_tid_81129;\n    int64_t gtid_81128;\n    int64_t phys_tid_81200;\n    int64_t gtid_81199;\n    int32_t num_chunks_96707;\n    int32_t num_chunks_96710;\n    int32_t num_chunks_96713;\n    \n    local_tid_96637 = get_local_id(0);\n    tblock_sizze_96640 = get_local_size(0);\n    wave_sizze_96639 = LOCKSTEP_WIDTH;\n    block_id_96638 = get_tblock_id(0);\n    global_tid_96636 = block_id_96638 * tblock_sizze_9", "6640 + local_tid_96637;\n    phys_tblock_id_81017 = sext_i32_i64(block_id_96638);\n    slice_96644 = num_blocks_72266;\n    slice_96645 = dim_48135 * slice_96644;\n    slice_96646 = merge_block_sizze_67302 * slice_96645;\n    ltid_pre_96641 = squot64(sext_i32_i64(local_tid_96637), slice_96645);\n    remnant_96647 = sext_i32_i64(local_tid_96637) - ltid_pre_96641 * slice_96645;\n    ltid_pre_96642 = squot64(remnant_96647, slice_96644);\n    remnant_96648 = remnant_96647 - ltid_pre_96642 * slice_96644;\n    ltid_pre_96643 = remnant_96648;\n    remnant_96649 = remnant_96648 - ltid_pre_96643;\n    slice_96652 = num_blocks_72266;\n    slice_96653 = merge_block_sizze_67302 * slice_96652;\n    ltid_pre_96650 = squot64(sext_i32_i64(local_tid_96637), slice_96652);\n    remnant_96654 = sext_i32_i64(local_tid_96637) - ltid_pre_96650 * slice_96652;\n    ltid_pre_96651 = remnant_96654;\n    remnant_96655 = remnant_96654 - ltid_pre_96651;\n    slice_96657 = num_blocks_72266;\n    ltid_pre_96656 = sext_i32_i64(local_tid_96637);\n    remnant_96658 = sext_i32_i64(local_tid_96637) - ltid_pre_96656;\n    slice_96660 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n    ltid_pre_96659 = sext_i32_i64(local_tid_96637);\n    remnant_96661 = sext_i32_i64(local_tid_96637) - ltid_pre_96659;\n    slice_96662 = num_merges_72251;\n    gtid_81016 = sext_i32_i64(block_id_96638);\n    remnant_96663 = sext_i32_i64(block_id_96638) - gtid_81016;\n    color_95416 = (__local unsigned char *) color_95416_backing_0;\n    color_95417 = (__local unsigned char *) color_95417_backing_1;\n    color_95418 = (__local unsigned char *) color_95418_backing_2;\n    color_95419 = (__local unsigned char *) color_95419_backing_3;\n    color_95420 = (__local unsigned char *) color_95420_backing_4;\n    color_95421 = (__local unsigned char *) color_95421_backing_5;\n    color_95422 = (__local unsigned char *) color_95422_backing_6;\n    color_95423 = (__local unsigned char *) color_95423_backing_7;\n    color_95424 = (__local unsigned char *) color_95424_",
                                    "backing_8;\n    color_95425 = (__local unsigned char *) color_95425_backing_9;\n    color_95426 = (__local unsigned char *) color_95426_backing_10;\n    color_95427 = (__local unsigned char *) color_95427_backing_11;\n    index_primexp_90388 = mul64(next_stride_72247, gtid_81016);\n    index_certs_81019 = 0;\n    index_certs_81020 = 0;\n    phys_tid_81024 = sext_i32_i64(local_tid_96637);\n    gtid_81023 = sext_i32_i64(sext_i64_i32(ltid_pre_96659));\n    if (slt64(gtid_81023, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267)) {\n        int64_t split_count_arg3_81026;\n        int64_t defunc_0_split_count_res_81027;\n        int64_t defunc_0_split_count_res_81028;\n        int64_t defunc_0_split_count_res_81029;\n        int64_t defunc_0_split_count_res_81030;\n        int64_t defunc_0_split_count_res_81031;\n        bool loop_cond_81032;\n        bool defunc_0_split_count_res_81033;\n        int64_t defunc_0_split_count_res_81034;\n        int64_t defunc_0_split_count_res_81035;\n        int64_t defunc_0_split_count_res_81036;\n        int64_t defunc_0_split_count_res_81037;\n        int64_t defunc_0_split_count_res_81038;\n        bool loop_while_81039;\n        int64_t ss_81040;\n        int64_t ss_81041;\n        int64_t tt_81042;\n        int64_t tt_81043;\n        int64_t count_81044;\n        \n        split_count_arg3_81026 = mul64(merge_block_sizze_67302, gtid_81023);\n        futrts_lifted_normalizze_10027(&defunc_0_split_count_res_81027, &defunc_0_split_count_res_81028, &defunc_0_split_count_res_81029, &defunc_0_split_count_res_81030, &defunc_0_split_count_res_81031, (int64_t) 0, stride_72246, (int64_t) 0, j_m_i_72268, split_count_arg3_81026);\n        loop_cond_81032 = slt64((int64_t) 0, defunc_0_split_count_res_81031);\n        loop_while_81039 = loop_cond_81032;\n        ss_81040 = defunc_0_split_count_res_81027;\n        ss_81041 = defunc_0_split_count_res_81028;\n        tt_81042 = defunc_0_split_count_res_81029;\n        tt_81043 = defunc_0_split_count_res_81030;\n        count_81044 = defun", "c_0_split_count_res_81031;\n        while (loop_while_81039) {\n            int64_t zlze_lhs_81045;\n            bool cond_81046;\n            int64_t defunc_0_lifted_step_res_81047;\n            int64_t defunc_0_lifted_step_res_81048;\n            int64_t defunc_0_lifted_step_res_81049;\n            int64_t defunc_0_lifted_step_res_81050;\n            int64_t loopres_81113;\n            int64_t loopres_81114;\n            int64_t loopres_81115;\n            int64_t loopres_81116;\n            int64_t loopres_81117;\n            bool loop_cond_81118;\n            bool loop_while_tmp_96664;\n            int64_t ss_tmp_96665;\n            int64_t ss_tmp_96666;\n            int64_t tt_tmp_96667;\n            int64_t tt_tmp_96668;\n            int64_t count_tmp_96669;\n            \n            zlze_lhs_81045 = sub64(ss_81041, ss_81040);\n            cond_81046 = sle64(zlze_lhs_81045, (int64_t) 0);\n            if (cond_81046) {\n                int64_t tmp_81051 = add64(tt_81042, count_81044);\n                \n                defunc_0_lifted_step_res_81047 = ss_81040;\n                defunc_0_lifted_step_res_81048 = tmp_81051;\n                defunc_0_lifted_step_res_81049 = tt_81043;\n                defunc_0_lifted_step_res_81050 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_81052;\n                bool cond_81053;\n                int64_t defunc_0_lifted_step_res_f_res_81054;\n                int64_t defunc_0_lifted_step_res_f_res_81055;\n                int64_t defunc_0_lifted_step_res_f_res_81056;\n                int64_t defunc_0_lifted_step_res_f_res_81057;\n                \n                zlze_lhs_81052 = sub64(tt_81043, tt_81042);\n                cond_81053 = sle64(zlze_lhs_81052, (int64_t) 0);\n                if (cond_81053) {\n                    int64_t tmp_81058 = add64(ss_81040, count_81044);\n                    \n                    defunc_0_lifted_step_res_f_res_81054 = tmp_81058;\n                    defunc_0_lifted_step_res_f_res_81055 = tt_81042;\n             ", "       defunc_0_lifted_step_res_f_res_81056 = tt_81043;\n                    defunc_0_lifted_step_res_f_res_81057 = (int64_t) 0;\n                } else {\n                    bool cond_81059;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81060;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81061;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81062;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81063;\n                    \n                    cond_81059 = count_81044 == (int64_t) 1;\n                    if (cond_81059) {\n                        bool x_81064;\n                        bool y_81065;\n                        bool bounds_check_81066;\n                        bool index_certs_81067;\n                        bool x_81070;\n                        bool y_81071;\n                        bool bounds_check_81072;\n                        bool index_certs_81073;\n                        int64_t slice_81068;\n                        int64_t leq_arg1_81069;\n                        int64_t slice_81074;\n                        int64_t slice_81075;\n                        int64_t leq_arg0_81076;\n                        bool lifted_lambda_res_81077;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_81078;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_81079;\n                        \n                        x_81064 = sle64((int64_t) 0, ss_81040);\n                        y_81065 = slt64(ss_81040, stride_72246);\n                        bounds_check_81066 = x_81064 && y_81065;\n                        if (!bounds_check_81066) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 71) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_81040;\n                                    global_failure_args[1] = (int64_t) stride_72246;\n                                    ;\n        ",
                                    "                        }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        x_81070 = sle64((int64_t) 0, tt_81042);\n                        y_81071 = slt64(tt_81042, j_m_i_72268);\n                        bounds_check_81072 = x_81070 && y_81071;\n                        if (!bounds_check_81072) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 72) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_81042;\n                                    global_failure_args[1] = (int64_t) j_m_i_72268;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        slice_81068 = ss_81040 + index_primexp_90388;\n                        leq_arg1_81069 = ((__global int64_t *) mem_param_92944)[slice_81068];\n                        slice_81074 = stride_72246 + tt_81042;\n                        slice_81075 = slice_81074 + index_primexp_90388;\n                        leq_arg0_81076 = ((__global int64_t *) mem_param_92944)[slice_81075];\n                        lifted_lambda_res_81077 = sle64(leq_arg0_81076, leq_arg1_81069);\n                        if (lifted_lambda_res_81077) {\n                            int64_t tmp_81080 = add64((int64_t) 1, tt_81042);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81078 = ss_81040;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81079 = tmp_81080;\n                        } else {\n                            int64_t tmp_81081 = add64((int64_t) 1, ss_81040);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81078 = tmp_81081;\n        ", "                    defunc_0_lifted_step_res_f_res_f_res_t_res_81079 = tt_81042;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81060 = defunc_0_lifted_step_res_f_res_f_res_t_res_81078;\n                        defunc_0_lifted_step_res_f_res_f_res_81061 = defunc_0_lifted_step_res_f_res_f_res_t_res_81079;\n                        defunc_0_lifted_step_res_f_res_f_res_81062 = tt_81043;\n                        defunc_0_lifted_step_res_f_res_f_res_81063 = (int64_t) 0;\n                    } else {\n                        int64_t m_81082;\n                        int64_t n_81083;\n                        bool cond_81084;\n                        int64_t zgze_lhs_81085;\n                        bool cond_f_res_81086;\n                        bool x_81087;\n                        bool y_81088;\n                        bool cond_81089;\n                        bool leq_y_x_81090;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81107;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81108;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81109;\n                        \n                        m_81082 = sdiv64(count_81044, (int64_t) 2);\n                        n_81083 = sub64(count_81044, m_81082);\n                        cond_81084 = n_81083 == (int64_t) 0;\n                        zgze_lhs_81085 = add64(ss_81040, m_81082);\n                        cond_f_res_81086 = sle64(ss_81041, zgze_lhs_81085);\n                        x_81087 = !cond_81084;\n                        y_81088 = cond_f_res_81086 && x_81087;\n                        cond_81089 = cond_81084 || y_81088;\n                        if (cond_81089) {\n                            leq_y_x_81090 = 1;\n                        } else {\n                            bool x_81091;\n                            bool y_81092;\n                            bool bounds_check_81093;\n                            bool index_certs_81094;", "\n                            int64_t zm_lhs_81097;\n                            int64_t leq_arg0_81098;\n                            bool x_81099;\n                            bool y_81100;\n                            bool bounds_check_81101;\n                            bool index_certs_81102;\n                            int64_t slice_81095;\n                            int64_t leq_arg1_81096;\n                            int64_t slice_81103;\n                            int64_t slice_81104;\n                            int64_t leq_arg0_81105;\n                            bool lifted_lambda_res_81106;\n                            \n                            x_81091 = sle64((int64_t) 0, zgze_lhs_81085);\n                            y_81092 = slt64(zgze_lhs_81085, stride_72246);\n                            bounds_check_81093 = x_81091 && y_81092;\n                            if (!bounds_check_81093) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 73) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_81085;\n                                        global_failure_args[1] = (int64_t) stride_72246;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            zm_lhs_81097 = add64(tt_81042, n_81083);\n                            leq_arg0_81098 = sub64(zm_lhs_81097, (int64_t) 1);\n                            x_81099 = sle64((int64_t) 0, leq_arg0_81098);\n                            y_81100 = slt64(leq_arg0_81098, j_m_i_72268);\n                            bounds_check_81101 = x_81099 && y_81100;\n                            if (!bounds_check_81101) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure,",
                                    " -1, 74) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_81098;\n                                        global_failure_args[1] = (int64_t) j_m_i_72268;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            slice_81095 = zgze_lhs_81085 + index_primexp_90388;\n                            leq_arg1_81096 = ((__global int64_t *) mem_param_92944)[slice_81095];\n                            slice_81103 = stride_72246 + leq_arg0_81098;\n                            slice_81104 = slice_81103 + index_primexp_90388;\n                            leq_arg0_81105 = ((__global int64_t *) mem_param_92944)[slice_81104];\n                            lifted_lambda_res_81106 = sle64(leq_arg0_81105, leq_arg1_81096);\n                            leq_y_x_81090 = lifted_lambda_res_81106;\n                        }\n                        if (leq_y_x_81090) {\n                            int64_t tmp_81110;\n                            int64_t tmp_81111;\n                            \n                            tmp_81110 = add64(tt_81042, n_81083);\n                            tmp_81111 = sub64(count_81044, n_81083);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81107 = tmp_81110;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81108 = tt_81043;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81109 = tmp_81111;\n                        } else {\n                            int64_t tmp_81112 = add64(tt_81042, n_81083);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81107 = tt_81042;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81108 = tmp_81112;\n                            defunc_0_lifted_step_res_", "f_res_f_res_f_res_81109 = count_81044;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81060 = ss_81040;\n                        defunc_0_lifted_step_res_f_res_f_res_81061 = defunc_0_lifted_step_res_f_res_f_res_f_res_81107;\n                        defunc_0_lifted_step_res_f_res_f_res_81062 = defunc_0_lifted_step_res_f_res_f_res_f_res_81108;\n                        defunc_0_lifted_step_res_f_res_f_res_81063 = defunc_0_lifted_step_res_f_res_f_res_f_res_81109;\n                    }\n                    defunc_0_lifted_step_res_f_res_81054 = defunc_0_lifted_step_res_f_res_f_res_81060;\n                    defunc_0_lifted_step_res_f_res_81055 = defunc_0_lifted_step_res_f_res_f_res_81061;\n                    defunc_0_lifted_step_res_f_res_81056 = defunc_0_lifted_step_res_f_res_f_res_81062;\n                    defunc_0_lifted_step_res_f_res_81057 = defunc_0_lifted_step_res_f_res_f_res_81063;\n                }\n                defunc_0_lifted_step_res_81047 = defunc_0_lifted_step_res_f_res_81054;\n                defunc_0_lifted_step_res_81048 = defunc_0_lifted_step_res_f_res_81055;\n                defunc_0_lifted_step_res_81049 = defunc_0_lifted_step_res_f_res_81056;\n                defunc_0_lifted_step_res_81050 = defunc_0_lifted_step_res_f_res_81057;\n            }\n            futrts_lifted_normalizze_10027(&loopres_81113, &loopres_81114, &loopres_81115, &loopres_81116, &loopres_81117, defunc_0_lifted_step_res_81047, ss_81041, defunc_0_lifted_step_res_81048, defunc_0_lifted_step_res_81049, defunc_0_lifted_step_res_81050);\n            loop_cond_81118 = slt64((int64_t) 0, loopres_81117);\n            loop_while_tmp_96664 = loop_cond_81118;\n            ss_tmp_96665 = loopres_81113;\n            ss_tmp_96666 = loopres_81114;\n            tt_tmp_96667 = loopres_81115;\n            tt_tmp_96668 = loopres_81116;\n            count_tmp_96669 = loopres_81117;\n            loop_while_81039 = loop_while_tmp_96664;\n            ss_81040 = ss_tmp_96665;\n   ", "         ss_81041 = ss_tmp_96666;\n            tt_81042 = tt_tmp_96667;\n            tt_81043 = tt_tmp_96668;\n            count_81044 = count_tmp_96669;\n        }\n        defunc_0_split_count_res_81033 = loop_while_81039;\n        defunc_0_split_count_res_81034 = ss_81040;\n        defunc_0_split_count_res_81035 = ss_81041;\n        defunc_0_split_count_res_81036 = tt_81042;\n        defunc_0_split_count_res_81037 = tt_81043;\n        defunc_0_split_count_res_81038 = count_81044;\n        ((__local int64_t *) color_95420)[gtid_81023] = defunc_0_split_count_res_81034;\n        ((__local int64_t *) color_95419)[gtid_81023] = defunc_0_split_count_res_81036;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_81129 = sext_i32_i64(local_tid_96637);\n    gtid_81128 = sext_i32_i64(sext_i64_i32(ltid_pre_96656));\n    if (slt64(gtid_81128, num_blocks_72266)) {\n        bool y_81132;\n        bool index_certs_81134;\n        int64_t defunc_0_f_res_81135;\n        int64_t defunc_0_f_res_81136;\n        int64_t tmp_81137;\n        bool x_81138;\n        bool y_81139;\n        bool bounds_check_81140;\n        bool index_certs_81141;\n        int64_t defunc_0_f_res_81142;\n        int64_t defunc_0_f_res_81143;\n        int64_t merge_sequential_arg2_81144;\n        int64_t merge_sequential_arg2_81145;\n        int64_t j_m_i_81146;\n        bool empty_slice_81147;\n        int64_t m_81148;\n        int64_t i_p_m_t_s_81149;\n        bool zzero_leq_i_p_m_t_s_81150;\n        bool i_p_m_t_s_leq_w_81151;\n        bool zzero_lte_i_81152;\n        bool i_lte_j_81153;\n        bool y_81154;\n        bool y_81155;\n        bool forwards_ok_81156;\n        bool ok_or_empty_81157;\n        bool index_certs_81158;\n        int64_t j_m_i_81159;\n        bool empty_slice_81160;\n        int64_t m_81161;\n        int64_t i_p_m_t_s_81162;\n        bool zzero_leq_i_p_m_t_s_81163;\n        bool i_p_m_t_s_leq_w_81164;\n        bool zzero_lte_i_81165;\n   ",
                                    "     bool i_lte_j_81166;\n        bool y_81167;\n        bool y_81168;\n        bool forwards_ok_81169;\n        bool ok_or_empty_81170;\n        bool index_certs_81171;\n        bool cond_81172;\n        bool y_81181;\n        bool protect_assert_disj_94677;\n        bool index_certs_81182;\n        int64_t slice_81183;\n        int64_t binop_y_93205;\n        int64_t slice_81177;\n        int64_t binop_y_93207;\n        int64_t ext_93209;\n        int64_t dummy_81173;\n        int64_t dummy_81175;\n        \n        y_81132 = slt64(gtid_81128, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);\n        if (!y_81132) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 75) == -1) {\n                    global_failure_args[0] = (int64_t) gtid_81128;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_81135 = ((__local int64_t *) color_95420)[gtid_81128];\n        defunc_0_f_res_81136 = ((__local int64_t *) color_95419)[gtid_81128];\n        tmp_81137 = add64((int64_t) 1, gtid_81128);\n        x_81138 = sle64((int64_t) 0, tmp_81137);\n        y_81139 = slt64(tmp_81137, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);\n        bounds_check_81140 = x_81138 && y_81139;\n        if (!bounds_check_81140) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 76) == -1) {\n                    global_failure_args[0] = (int64_t) tmp_81137;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_81142 = ((__local int64_t *) color_95420)[tmp_81137];\n        defunc_0_f_res_81143 = ((__local int64_t *) color_95419)[tmp_81137];\n        merge_sequential_arg2_81144 = a", "dd64(stride_72246, defunc_0_f_res_81136);\n        merge_sequential_arg2_81145 = add64(stride_72246, defunc_0_f_res_81143);\n        j_m_i_81146 = sub64(merge_sequential_arg2_81145, merge_sequential_arg2_81144);\n        empty_slice_81147 = j_m_i_81146 == (int64_t) 0;\n        m_81148 = sub64(j_m_i_81146, (int64_t) 1);\n        i_p_m_t_s_81149 = add64(merge_sequential_arg2_81144, m_81148);\n        zzero_leq_i_p_m_t_s_81150 = sle64((int64_t) 0, i_p_m_t_s_81149);\n        i_p_m_t_s_leq_w_81151 = slt64(i_p_m_t_s_81149, next_stride_72247);\n        zzero_lte_i_81152 = sle64((int64_t) 0, merge_sequential_arg2_81144);\n        i_lte_j_81153 = sle64(merge_sequential_arg2_81144, merge_sequential_arg2_81145);\n        y_81154 = i_p_m_t_s_leq_w_81151 && zzero_lte_i_81152;\n        y_81155 = zzero_leq_i_p_m_t_s_81150 && y_81154;\n        forwards_ok_81156 = i_lte_j_81153 && y_81155;\n        ok_or_empty_81157 = empty_slice_81147 || forwards_ok_81156;\n        if (!ok_or_empty_81157) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 77) == -1) {\n                    global_failure_args[0] = (int64_t) merge_sequential_arg2_81144;\n                    global_failure_args[1] = (int64_t) merge_sequential_arg2_81145;\n                    global_failure_args[2] = (int64_t) next_stride_72247;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        j_m_i_81159 = sub64(defunc_0_f_res_81142, defunc_0_f_res_81135);\n        empty_slice_81160 = j_m_i_81159 == (int64_t) 0;\n        m_81161 = sub64(j_m_i_81159, (int64_t) 1);\n        i_p_m_t_s_81162 = add64(defunc_0_f_res_81135, m_81161);\n        zzero_leq_i_p_m_t_s_81163 = sle64((int64_t) 0, i_p_m_t_s_81162);\n        i_p_m_t_s_leq_w_81164 = slt64(i_p_m_t_s_81162, next_stride_72247);\n        zzero_lte_i_81165 = sle64((int64_t) 0, defunc_0_f_res_81135);\n        i_lte_j_81166 = sle64(defunc_0_f_res_81135, defunc_0_f_res_81142);\n        y_81167 = i_p_m", "_t_s_leq_w_81164 && zzero_lte_i_81165;\n        y_81168 = zzero_leq_i_p_m_t_s_81163 && y_81167;\n        forwards_ok_81169 = i_lte_j_81166 && y_81168;\n        ok_or_empty_81170 = empty_slice_81160 || forwards_ok_81169;\n        if (!ok_or_empty_81170) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 78) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_f_res_81135;\n                    global_failure_args[1] = (int64_t) defunc_0_f_res_81142;\n                    global_failure_args[2] = (int64_t) next_stride_72247;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        cond_81172 = slt64((int64_t) 0, j_m_i_81159);\n        y_81181 = slt64((int64_t) 0, j_m_i_81146);\n        protect_assert_disj_94677 = cond_81172 || y_81181;\n        if (!protect_assert_disj_94677) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 79) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) j_m_i_81146;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        slice_81183 = merge_sequential_arg2_81144 + index_primexp_90388;\n        binop_y_93205 = dim_48135 * slice_81183;\n        slice_81177 = defunc_0_f_res_81135 + index_primexp_90388;\n        binop_y_93207 = dim_48135 * slice_81177;\n        if (cond_81172) {\n            ext_93209 = binop_y_93207;\n        } else {\n            ext_93209 = binop_y_93205;\n        }\n        if (cond_81172) {\n            int64_t head_res_81178;\n            int64_t head_res_81180;\n            \n            head_res_81178 = ((__global int64_t *) mem_param_92944)[slice_81177];\n            head_res_81180 = ((__global int64_t *) mem_param_92951)[slice_81177];\n            dummy_81173 = head_res_81178;\n            dummy_81175 = head_res_81180;\n        ",
                                    "} else {\n            int64_t head_res_81184;\n            int64_t head_res_81186;\n            \n            head_res_81184 = ((__global int64_t *) mem_param_92944)[slice_81183];\n            head_res_81186 = ((__global int64_t *) mem_param_92951)[slice_81183];\n            dummy_81173 = head_res_81184;\n            dummy_81175 = head_res_81186;\n        }\n        ((__local int64_t *) color_95418)[gtid_81128] = dummy_81173;\n        ((__local int64_t *) color_95417)[gtid_81128] = dummy_81175;\n        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n            ((__local double *) color_95416)[gtid_81128 * dim_48135 + i_0] = ((__global double *) mem_param_92948)[ext_93209 + i_0];\n        }\n        ((__local int64_t *) color_95427)[gtid_81128] = defunc_0_f_res_81135;\n        ((__local int64_t *) color_95426)[gtid_81128] = merge_sequential_arg2_81144;\n        ((__local int64_t *) color_95425)[gtid_81128] = j_m_i_81146;\n        ((__local int64_t *) color_95423)[gtid_81128] = j_m_i_81159;\n    }\n    \n  error_1:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_96673 = 0; chunk_i_96673 < num_chunks_96632; chunk_i_96673++) {\n        int32_t i_96674;\n        int64_t slice_96675;\n        int64_t slice_96676;\n        int64_t rep_i_96671;\n        int64_t remnant_96677;\n        int64_t rep_i_96672;\n        int64_t remnant_96678;\n        \n        i_96674 = chunk_i_96673 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96637;\n        slice_96675 = num_blocks_72266;\n        slice_96676 = merge_block_sizze_67302 * slice_96675;\n        rep_i_96671 = squot64(sext_i32_i64(i_96674), slice_96675);\n        remnant_96677 = sext_i32_i64(i_96674) - rep_i_96671 * slice_96675;\n        rep_i_96672 = remnant_96677;\n        remnant_96678 = remnant_96677 - rep_i_96672;\n        if ((sle64((int64_t) 0, rep_i_96671) && slt64(rep_i_96671, merge_block_sizze_67302)) && (sle64((int64_t) 0, rep_i_96672) && slt64(rep_i_96672, n", "um_blocks_72266))) {\n            int64_t tmp_96679 = ((__local int64_t *) color_95418)[rep_i_96672];\n            \n            ((__local int64_t *) color_95421)[rep_i_96671 * num_blocks_72266 + rep_i_96672] = tmp_96679;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_96683 = 0; chunk_i_96683 < num_chunks_96632; chunk_i_96683++) {\n        int32_t i_96684;\n        int64_t slice_96685;\n        int64_t slice_96686;\n        int64_t rep_i_96681;\n        int64_t remnant_96687;\n        int64_t rep_i_96682;\n        int64_t remnant_96688;\n        \n        i_96684 = chunk_i_96683 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96637;\n        slice_96685 = num_blocks_72266;\n        slice_96686 = merge_block_sizze_67302 * slice_96685;\n        rep_i_96681 = squot64(sext_i32_i64(i_96684), slice_96685);\n        remnant_96687 = sext_i32_i64(i_96684) - rep_i_96681 * slice_96685;\n        rep_i_96682 = remnant_96687;\n        remnant_96688 = remnant_96687 - rep_i_96682;\n        if ((sle64((int64_t) 0, rep_i_96681) && slt64(rep_i_96681, merge_block_sizze_67302)) && (sle64((int64_t) 0, rep_i_96682) && slt64(rep_i_96682, num_blocks_72266))) {\n            int64_t tmp_96689 = ((__local int64_t *) color_95417)[rep_i_96682];\n            \n            ((__local int64_t *) color_95420)[rep_i_96681 * num_blocks_72266 + rep_i_96682] = tmp_96689;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_96694 = 0; chunk_i_96694 < num_chunks_96631; chunk_i_96694++) {\n        int32_t i_96695;\n        int64_t slice_96696;\n        int64_t slice_96697;\n        int64_t slice_96698;\n        int64_t rep_i_96691;\n        int64_t remnant_96699;\n        int64_t rep_i_96692;\n        int64_t remnant_96700;\n        int64_t rep_i_96693;\n        int64_t remnant_96701;\n        \n        i_96695 = chunk_i_96694 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96637;\n        slice_96696 = num_blocks_72266;\n        slice_96697 = dim_48135 * slice_96696;\n        s", "lice_96698 = merge_block_sizze_67302 * slice_96697;\n        rep_i_96691 = squot64(sext_i32_i64(i_96695), slice_96697);\n        remnant_96699 = sext_i32_i64(i_96695) - rep_i_96691 * slice_96697;\n        rep_i_96692 = squot64(remnant_96699, slice_96696);\n        remnant_96700 = remnant_96699 - rep_i_96692 * slice_96696;\n        rep_i_96693 = remnant_96700;\n        remnant_96701 = remnant_96700 - rep_i_96693;\n        if (((sle64((int64_t) 0, rep_i_96691) && slt64(rep_i_96691, merge_block_sizze_67302)) && (sle64((int64_t) 0, rep_i_96692) && slt64(rep_i_96692, dim_48135))) && (sle64((int64_t) 0, rep_i_96693) && slt64(rep_i_96693, num_blocks_72266))) {\n            double tmp_96702 = ((__local double *) color_95416)[rep_i_96692 + rep_i_96693 * dim_48135];\n            \n            ((__local double *) color_95419)[rep_i_96691 * (num_blocks_72266 * dim_48135) + rep_i_96692 * num_blocks_72266 + rep_i_96693] = tmp_96702;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_81200 = sext_i32_i64(local_tid_96637);\n    gtid_81199 = sext_i32_i64(sext_i64_i32(ltid_pre_96656));\n    if (slt64(gtid_81199, num_blocks_72266)) {\n        int64_t defunc_0_f_res_81201;\n        int64_t merge_sequential_arg2_81202;\n        int64_t j_m_i_81203;\n        bool index_certs_81204;\n        int64_t j_m_i_81205;\n        bool index_certs_81206;\n        int64_t data_81210;\n        int64_t i_81215;\n        \n        defunc_0_f_res_81201 = ((__local int64_t *) color_95427)[gtid_81199];\n        merge_sequential_arg2_81202 = ((__local int64_t *) color_95426)[gtid_81199];\n        j_m_i_81203 = ((__local int64_t *) color_95425)[gtid_81199];\n        index_certs_81204 = 0;\n        j_m_i_81205 = ((__local int64_t *) color_95423)[gtid_81199];\n        index_certs_81206 = 0;\n        i_81215 = (int64_t) 0;\n        for (int64_t k_81214 = 0; k_81214 < merge_block_sizze_67302; k_81214++) {\n            int64_t j_81219;\n            bool cond_81220;\n            bool x_94910;\n            bool cond_81222;\n           ",
                                    " bool x_81224;\n            bool y_81225;\n            bool bounds_check_81226;\n            bool loop_not_taken_94902;\n            bool protect_assert_disj_94903;\n            bool protect_assert_disj_94913;\n            bool index_certs_81227;\n            int64_t slice_81228;\n            int64_t slice_81229;\n            bool protect_cond_conj_94914;\n            int64_t leq_arg1_81230;\n            bool x_81231;\n            bool bounds_check_81232;\n            bool protect_assert_disj_94907;\n            bool protect_assert_disj_94916;\n            bool index_certs_81233;\n            int64_t slice_81234;\n            int64_t slice_81235;\n            int64_t leq_arg0_81236;\n            bool lifted_lambda_res_81237;\n            bool x_95071;\n            bool cond_81221;\n            bool protect_assert_disj_94669;\n            bool index_certs_81255;\n            bool loop_not_taken_94664;\n            bool protect_assert_disj_94665;\n            bool index_certs_81246;\n            int64_t binop_y_93248;\n            int64_t binop_y_93250;\n            int64_t ext_93252;\n            int64_t loopres_81238;\n            int64_t loopres_81239;\n            int64_t loopres_81241;\n            int64_t i_tmp_96703;\n            \n            j_81219 = sub64(k_81214, i_81215);\n            cond_81220 = j_81219 == j_m_i_81203;\n            x_94910 = !cond_81220;\n            cond_81222 = slt64(i_81215, j_m_i_81205);\n            x_81224 = sle64((int64_t) 0, j_81219);\n            y_81225 = slt64(j_81219, j_m_i_81203);\n            bounds_check_81226 = x_81224 && y_81225;\n            loop_not_taken_94902 = !cond_81222;\n            protect_assert_disj_94903 = bounds_check_81226 || loop_not_taken_94902;\n            protect_assert_disj_94913 = cond_81220 || protect_assert_disj_94903;\n            if (!protect_assert_disj_94913) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 80) == -1) {\n                        global_failure_args[0] = (int64_t) j_81219;\n          ", "              global_failure_args[1] = (int64_t) j_m_i_81203;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_81228 = merge_sequential_arg2_81202 + j_81219;\n            slice_81229 = slice_81228 + index_primexp_90388;\n            protect_cond_conj_94914 = cond_81222 && x_94910;\n            if (protect_cond_conj_94914) {\n                int64_t x_94904 = ((__global int64_t *) mem_param_92944)[slice_81229];\n                \n                leq_arg1_81230 = x_94904;\n            } else {\n                leq_arg1_81230 = (int64_t) 0;\n            }\n            x_81231 = sle64((int64_t) 0, i_81215);\n            bounds_check_81232 = cond_81222 && x_81231;\n            protect_assert_disj_94907 = bounds_check_81232 || loop_not_taken_94902;\n            protect_assert_disj_94916 = cond_81220 || protect_assert_disj_94907;\n            if (!protect_assert_disj_94916) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 81) == -1) {\n                        global_failure_args[0] = (int64_t) i_81215;\n                        global_failure_args[1] = (int64_t) j_m_i_81205;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_81234 = defunc_0_f_res_81201 + i_81215;\n            slice_81235 = slice_81234 + index_primexp_90388;\n            if (protect_cond_conj_94914) {\n                int64_t x_94908 = ((__global int64_t *) mem_param_92944)[slice_81235];\n                \n                leq_arg0_81236 = x_94908;\n            } else {\n                leq_arg0_81236 = (int64_t) 0;\n            }\n            lifted_lambda_res_81237 = sle64(leq_arg0_81236, leq_arg1_81230);\n            x_95071 = cond_81222 && lifted_lambda_res_81237;\n            cond_81221 = cond_81220 || x_95071;\n            protect_assert_disj_94669 = c", "ond_81221 || bounds_check_81226;\n            if (!protect_assert_disj_94669) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 82) == -1) {\n                        global_failure_args[0] = (int64_t) j_81219;\n                        global_failure_args[1] = (int64_t) j_m_i_81203;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            loop_not_taken_94664 = !cond_81221;\n            protect_assert_disj_94665 = bounds_check_81232 || loop_not_taken_94664;\n            if (!protect_assert_disj_94665) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 83) == -1) {\n                        global_failure_args[0] = (int64_t) i_81215;\n                        global_failure_args[1] = (int64_t) j_m_i_81205;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            binop_y_93248 = dim_48135 * slice_81229;\n            binop_y_93250 = dim_48135 * slice_81235;\n            if (cond_81221) {\n                ext_93252 = binop_y_93250;\n            } else {\n                ext_93252 = binop_y_93248;\n            }\n            if (cond_81221) {\n                int64_t tmp_81242;\n                int64_t tmp_81249;\n                int64_t tmp_81251;\n                \n                tmp_81242 = add64((int64_t) 1, i_81215);\n                tmp_81249 = ((__global int64_t *) mem_param_92944)[slice_81235];\n                tmp_81251 = ((__global int64_t *) mem_param_92951)[slice_81235];\n                loopres_81238 = tmp_81242;\n                loopres_81239 = tmp_81249;\n                loopres_81241 = tmp_81251;\n            } else {\n                int64_t tmp_81258;\n                int64_t tmp_81260;\n                \n                tmp_81258 = ((__global int64_t *) mem_param_92944)[slice_81229];\n         ",
                                    "       tmp_81260 = ((__global int64_t *) mem_param_92951)[slice_81229];\n                loopres_81238 = i_81215;\n                loopres_81239 = tmp_81258;\n                loopres_81241 = tmp_81260;\n            }\n            ((__local int64_t *) color_95421)[gtid_81199 + k_81214 * num_blocks_72266] = loopres_81239;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__local double *) color_95419)[gtid_81199 + k_81214 * lmad_arg_93247 + i_0 * num_blocks_72266] = ((__global double *) mem_param_92948)[ext_93252 + i_0];\n            }\n            ((__local int64_t *) color_95420)[gtid_81199 + k_81214 * num_blocks_72266] = loopres_81241;\n            i_tmp_96703 = loopres_81238;\n            i_81215 = i_tmp_96703;\n        }\n        data_81210 = i_81215;\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n            ((__local int64_t *) color_95418)[gtid_81199 * merge_block_sizze_67302 + i_0] = ((__local int64_t *) color_95421)[gtid_81199 + i_0 * num_blocks_72266];\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n            for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                ((__local double *) color_95417)[gtid_81199 * (dim_48135 * merge_block_sizze_67302) + (i_0 * dim_48135 + i_1)] = ((__local double *) color_95419)[gtid_81199 + (i_0 * lmad_arg_93247 + i_1 * num_blocks_72266)];\n            }\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_67302; i_0++) {\n            ((__local int64_t *) color_95416)[gtid_81199 * merge_block_sizze_67302 + i_0] = ((__local int64_t *) color_95420)[gtid_81199 + i_0 * num_blocks_72266];\n        }\n    }\n    \n  error_2:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96707 = sdiv_up32(sext_i64_i32(next_stride_72247), sext_i64_i32(computed_tblock_sizze_78020));\n    for (int32_t chunk_i_96708 = 0; chunk_i_96708 < num_chunks_96707; chunk_i_96708++) {\n        int32_t i_96709", " = chunk_i_96708 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96637;\n        \n        if (slt32(i_96709, sext_i64_i32(next_stride_72247))) {\n            ((__global int64_t *) mem_93275)[gtid_81016 * next_stride_72247 + sext_i32_i64(i_96709)] = ((__local int64_t *) color_95418)[sext_i32_i64(i_96709)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96710 = sdiv_up32(sext_i64_i32(next_stride_72247) * sext_i64_i32(dim_48135), sext_i64_i32(computed_tblock_sizze_78020));\n    for (int32_t chunk_i_96711 = 0; chunk_i_96711 < num_chunks_96710; chunk_i_96711++) {\n        int32_t i_96712 = chunk_i_96711 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96637;\n        \n        if (slt32(i_96712, sext_i64_i32(next_stride_72247) * sext_i64_i32(dim_48135))) {\n            ((__global double *) mem_93279)[gtid_81016 * (dim_48135 * next_stride_72247) + sext_i32_i64(squot32(i_96712, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_96712 - squot32(i_96712, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))] = ((__local double *) color_95417)[sext_i32_i64(squot32(i_96712, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_96712 - squot32(i_96712, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96713 = sdiv_up32(sext_i64_i32(next_stride_72247), sext_i64_i32(computed_tblock_sizze_78020));\n    for (int32_t chunk_i_96714 = 0; chunk_i_96714 < num_chunks_96713; chunk_i_96714++) {\n        int32_t i_96715 = chunk_i_96714 * sext_i64_i32(computed_tblock_sizze_78020) + local_tid_96637;\n        \n        if (slt32(i_96715, sext_i64_i32(next_stride_72247))) {\n            ((__global int64_t *) mem_93282)[gtid_81016 * next_stride_72247 + sext_i32_i64(i_96715)] = ((__local int64_t *) color_95416)[sext_i32_i64(i_96715)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_82878(__global int *global_fai", "lure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, unsigned char cond_67069_bits, int64_t binop_x_90867, int64_t maxSubHelper_95428, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xs_mem_90819, __global unsigned char *mem_90840, __global unsigned char *mem_91087)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95433_backing_4 = &shared_mem[0];\n    const int64_t color_95433_backing_4_offset = 0 + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95432_backing_3 = &shared_mem[color_95433_backing_4_offset];\n    const int64_t color_95432_backing_3_offset = color_95433_backing_4_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95431_backing_2 = &shared_mem[color_95432_backing_3_offset];\n    const int64_t color_95431_backing_2_offset = color_95432_backing_3_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95430_backing_1 = &shared_mem[color_95431_backing_2_offset];\n    const int64_t color_95430_backing_1_offset = color_95431_backing_2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95429_backing_0 = &shared_mem[color_95430_backing_1_offset];\n    const int64_t color_95429_backing_0_offset = color_95430_backing_1_offset + (maxSubHelper_95428 + srem64((int64_t) 8 - srem64(maxSubHelper_95428, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n ",
                                    "           return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96845;\n    int32_t tblock_sizze_96848;\n    int32_t wave_sizze_96847;\n    int32_t block_id_96846;\n    int32_t global_tid_96844;\n    int64_t phys_tblock_id_82878;\n    int64_t slice_96850;\n    int64_t ltid_pre_96849;\n    int64_t remnant_96851;\n    int64_t slice_96852;\n    int64_t gtid_82877;\n    int64_t remnant_96853;\n    __local unsigned char *color_95429;\n    __local unsigned char *color_95430;\n    __local unsigned char *color_95431;\n    __local unsigned char *color_95432;\n    __local unsigned char *color_95433;\n    int64_t min_arg1_90481;\n    __local unsigned char *ext_mem_91076;\n    int64_t f_arg0_82925;\n    int64_t min_res_82926;\n    int64_t rep_i_96861;\n    \n    local_tid_96845 = get_local_id(0);\n    tblock_sizze_96848 = get_local_size(0);\n    wave_sizze_96847 = LOCKSTEP_WIDTH;\n    block_id_96846 = get_tblock_id(0);\n    global_tid_96844 = block_id_96846 * tblock_sizze_96848 + local_tid_96845;\n    phys_tblock_id_82878 = sext_i32_i64(block_id_96846);\n    slice_96850 = dim_48135;\n    ltid_pre_96849 = sext_i32_i64(local_tid_96845);\n    remnant_96851 = sext_i32_i64(local_tid_96845) - ltid_pre_96849;\n    slice_96852 = n_48138;\n    gtid_82877 = sext_i32_i64(block_id_96846);\n    remnant_96853 = sext_i32_i64(block_id_96846) - gtid_82877;\n    color_95429 = (__local unsigned char *) color_95429_backing_0;\n    color_95430 = (__local unsigned char *) color_95430_backing_1;\n    color_95431 = (__local unsigned char *) color_95431_backing_2;\n    color_95432 = (__local unsigned char *) color_95432_backing_3;\n    color_95433 = (__local unsigned char *) color_95433_backing_4;\n    min_arg1_90481 = ((__global int64_t *) mem_90840)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_91076 = color_95430;\n    } else {\n        int64_t phys_tid_82885;\n        int64_t gtid_82884;\n        double eta_p_82886;\n        double eta_p_82887;\n        double", " defunc_0_f_res_82888;\n        int64_t phys_tid_82891;\n        int64_t gtid_82890;\n        double eta_p_82892;\n        double eta_p_82893;\n        double defunc_0_f_res_82894;\n        __local unsigned char *ext_mem_91063;\n        int64_t f_arg0_82911;\n        int64_t max_res_82912;\n        int64_t rep_i_96858;\n        \n        phys_tid_82885 = sext_i32_i64(local_tid_96845);\n        gtid_82884 = sext_i32_i64(sext_i64_i32(ltid_pre_96849));\n        eta_p_82886 = ((__global double *) xs_mem_90819)[gtid_82877 * dim_48135 + gtid_82884];\n        eta_p_82887 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_82884];\n        defunc_0_f_res_82888 = eta_p_82886 - eta_p_82887;\n        ((__local double *) color_95433)[gtid_82884] = defunc_0_f_res_82888;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_82891 = sext_i32_i64(local_tid_96845);\n        gtid_82890 = sext_i32_i64(sext_i64_i32(ltid_pre_96849));\n        eta_p_82892 = ((__local double *) color_95433)[gtid_82890];\n        eta_p_82893 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_82890];\n        defunc_0_f_res_82894 = eta_p_82892 / eta_p_82893;\n        ((__local double *) color_95433)[gtid_82890] = defunc_0_f_res_82894;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_67069) {\n            ext_mem_91063 = color_95429;\n        } else {\n            double f_arg0_82897;\n            int64_t f64_res_82898;\n            int64_t rep_i_96855;\n            \n            f_arg0_82897 = ((__local double *) color_95433)[(int64_t) 0];\n            f64_res_82898 = fptosi_f64_i64(f_arg0_82897);\n            rep_i_96855 = sext_i32_i64(sext_i64_i32(ltid_pre_96849));\n            ((__local int64_t *) color_95432)[rep_i_96855] = f64_res_82898;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_82901 = 0; i_82901 < arg_67058; i_82901++) {\n                int64_t index_primexp_82903;\n                bool x_82904;\n ", "               bool y_82905;\n                bool bounds_check_82906;\n                bool index_certs_82907;\n                double f_arg0_82908;\n                int64_t f64_res_82909;\n                \n                index_primexp_82903 = add64((int64_t) 1, i_82901);\n                x_82904 = sle64((int64_t) 0, index_primexp_82903);\n                y_82905 = slt64(index_primexp_82903, dim_48135);\n                bounds_check_82906 = x_82904 && y_82905;\n                if (!bounds_check_82906) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 97) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_82903;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_82908 = ((__local double *) color_95433)[index_primexp_82903];\n                f64_res_82909 = fptosi_f64_i64(f_arg0_82908);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_96845 == 0) {\n                    ((__local int64_t *) color_95432)[index_primexp_82903] = f64_res_82909;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_91063 = color_95432;\n        }\n        f_arg0_82911 = ((__local int64_t *) ext_mem_91063)[(int64_t) 0];\n        max_res_82912 = smax64((int64_t) 0, f_arg0_82911);\n        rep_i_96858 = sext_i32_i64(sext_i64_i32(ltid_pre_96849));\n        ((__local int64_t *) color_95431)[rep_i_96858] = max_res_82912;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_82915 = 0; i_82915 < arg_67058; i_82915++) {\n            int64_t index_primexp_82917;\n            bool x_82918;\n     ",
                                    "       bool y_82919;\n            bool bounds_check_82920;\n            bool index_certs_82921;\n            int64_t f_arg0_82922;\n            int64_t max_res_82923;\n            \n            index_primexp_82917 = add64((int64_t) 1, i_82915);\n            x_82918 = sle64((int64_t) 0, index_primexp_82917);\n            y_82919 = slt64(index_primexp_82917, dim_48135);\n            bounds_check_82920 = x_82918 && y_82919;\n            if (!bounds_check_82920) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 98) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_82917;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_82922 = ((__local int64_t *) ext_mem_91063)[index_primexp_82917];\n            max_res_82923 = smax64((int64_t) 0, f_arg0_82922);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96845 == 0) {\n                ((__local int64_t *) color_95431)[index_primexp_82917] = max_res_82923;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91076 = color_95431;\n    }\n    f_arg0_82925 = ((__local int64_t *) ext_mem_91076)[(int64_t) 0];\n    min_res_82926 = smin64(f_arg0_82925, min_arg1_90481);\n    rep_i_96861 = sext_i32_i64(sext_i64_i32(ltid_pre_96849));\n    ((__local int64_t *) color_95429)[rep_i_96861] = min_res_82926;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_82929 = 0; i_82929 < arg_67058; i_82929++) {\n        int64_t index_primexp_82931;\n        bool x_82932;\n        bool y_82933;\n        bool bounds_check_82934;\n        bool index_certs_82935;\n        bool index_certs_82937;\n        int64_t f_arg0_82936;\n        int64_t zm_lhs_82938", ";\n        int64_t min_arg1_82939;\n        int64_t min_res_82940;\n        \n        index_primexp_82931 = add64((int64_t) 1, i_82929);\n        x_82932 = sle64((int64_t) 0, index_primexp_82931);\n        y_82933 = slt64(index_primexp_82931, dim_48135);\n        bounds_check_82934 = x_82932 && y_82933;\n        if (!bounds_check_82934) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 99) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_82931;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_82934) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 100) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_82931;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_82936 = ((__local int64_t *) ext_mem_91076)[index_primexp_82931];\n        zm_lhs_82938 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_82931];\n        min_arg1_82939 = sub64(zm_lhs_82938, (int64_t) 1);\n        min_res_82940 = smin64(f_arg0_82936, min_arg1_82939);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96845 == 0) {\n            ((__local int64_t *) color_95429)[index_primexp_82931] = min_res_82940;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91087)[gtid_82877 * dim_48135 + sext_i32_i64(local_tid_96845)] = ((__local int64_t *) color_95429)[sext_i32_i64(local_tid_96845)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_82954(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args", ", int64_t dim_48135, int64_t n_48138, int64_t arg_67058, unsigned char cond_67069_bits, int64_t binop_x_90867, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *xs_mem_90819, __global unsigned char *mem_90990)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95436_backing_2 = &shared_mem[0];\n    const int64_t color_95436_backing_2_offset = 0 + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95435_backing_1 = &shared_mem[color_95436_backing_2_offset];\n    const int64_t color_95435_backing_1_offset = color_95436_backing_2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95434_backing_0 = &shared_mem[color_95435_backing_1_offset];\n    const int64_t color_95434_backing_0_offset = color_95435_backing_1_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96866;\n    int32_t tblock_sizze_96869;\n    int32_t wave_sizze_96868;\n    int32_t block_id_96867;\n    int32_t global_tid_96865;\n    int64_t phys_tblock_id_82954;\n    int64_t slice_96871;\n    int64_t ltid_pre_96870;\n    int64_t remnant_96872;\n    int64_t slice_96873;\n    int64_t gtid_82953;\n    int64_t remnant_96874;\n    __local unsigned char *color_95434;\n    __local unsigned char *color_95435;\n    __local unsigned char *color_95436;\n    int64_t phys_tid_82959;\n    int64_t gtid_82958;\n    double eta_p_82960;\n    double eta_p_82961;\n    double defunc_0_f_res_82962;\n    int64_t phys_tid_82965;\n    int64_t gtid_82964;\n    double eta",
                                    "_p_82966;\n    double eta_p_82967;\n    double defunc_0_f_res_82968;\n    __local unsigned char *ext_mem_90979;\n    int64_t f_arg0_82985;\n    int64_t max_res_82986;\n    int64_t rep_i_96879;\n    \n    local_tid_96866 = get_local_id(0);\n    tblock_sizze_96869 = get_local_size(0);\n    wave_sizze_96868 = LOCKSTEP_WIDTH;\n    block_id_96867 = get_tblock_id(0);\n    global_tid_96865 = block_id_96867 * tblock_sizze_96869 + local_tid_96866;\n    phys_tblock_id_82954 = sext_i32_i64(block_id_96867);\n    slice_96871 = dim_48135;\n    ltid_pre_96870 = sext_i32_i64(local_tid_96866);\n    remnant_96872 = sext_i32_i64(local_tid_96866) - ltid_pre_96870;\n    slice_96873 = n_48138;\n    gtid_82953 = sext_i32_i64(block_id_96867);\n    remnant_96874 = sext_i32_i64(block_id_96867) - gtid_82953;\n    color_95434 = (__local unsigned char *) color_95434_backing_0;\n    color_95435 = (__local unsigned char *) color_95435_backing_1;\n    color_95436 = (__local unsigned char *) color_95436_backing_2;\n    phys_tid_82959 = sext_i32_i64(local_tid_96866);\n    gtid_82958 = sext_i32_i64(sext_i64_i32(ltid_pre_96870));\n    eta_p_82960 = ((__global double *) xs_mem_90819)[gtid_82953 * dim_48135 + gtid_82958];\n    eta_p_82961 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_82958];\n    defunc_0_f_res_82962 = eta_p_82960 - eta_p_82961;\n    ((__local double *) color_95434)[gtid_82958] = defunc_0_f_res_82962;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_82965 = sext_i32_i64(local_tid_96866);\n    gtid_82964 = sext_i32_i64(sext_i64_i32(ltid_pre_96870));\n    eta_p_82966 = ((__local double *) color_95434)[gtid_82964];\n    eta_p_82967 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_82964];\n    defunc_0_f_res_82968 = eta_p_82966 / eta_p_82967;\n    ((__local double *) color_95434)[gtid_82964] = defunc_0_f_res_82968;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_90979 = color_95435;\n    } else {\n        double f_arg0_82971;\n        int64", "_t f64_res_82972;\n        int64_t rep_i_96876;\n        \n        f_arg0_82971 = ((__local double *) color_95434)[(int64_t) 0];\n        f64_res_82972 = fptosi_f64_i64(f_arg0_82971);\n        rep_i_96876 = sext_i32_i64(sext_i64_i32(ltid_pre_96870));\n        ((__local int64_t *) color_95436)[rep_i_96876] = f64_res_82972;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_82975 = 0; i_82975 < arg_67058; i_82975++) {\n            int64_t index_primexp_82977;\n            bool x_82978;\n            bool y_82979;\n            bool bounds_check_82980;\n            bool index_certs_82981;\n            double f_arg0_82982;\n            int64_t f64_res_82983;\n            \n            index_primexp_82977 = add64((int64_t) 1, i_82975);\n            x_82978 = sle64((int64_t) 0, index_primexp_82977);\n            y_82979 = slt64(index_primexp_82977, dim_48135);\n            bounds_check_82980 = x_82978 && y_82979;\n            if (!bounds_check_82980) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 101) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_82977;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_82982 = ((__local double *) color_95434)[index_primexp_82977];\n            f64_res_82983 = fptosi_f64_i64(f_arg0_82982);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96866 == 0) {\n                ((__local int64_t *) color_95436)[index_primexp_82977] = f64_res_82983;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_90979 = color_95436;\n    }\n    f_arg0_82985 = ((__local int64_t *) ext_mem_90979)[(int64_t) 0];\n    max_res_82986 = smax64((int64_t) 0, f_arg0_82985);\n    rep_i_96879 = sext_i32_i64(sext_i64_i32(ltid_pre_96870));\n  ", "  ((__local int64_t *) color_95434)[rep_i_96879] = max_res_82986;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_82989 = 0; i_82989 < arg_67058; i_82989++) {\n        int64_t index_primexp_82991;\n        bool x_82992;\n        bool y_82993;\n        bool bounds_check_82994;\n        bool index_certs_82995;\n        int64_t f_arg0_82996;\n        int64_t max_res_82997;\n        \n        index_primexp_82991 = add64((int64_t) 1, i_82989);\n        x_82992 = sle64((int64_t) 0, index_primexp_82991);\n        y_82993 = slt64(index_primexp_82991, dim_48135);\n        bounds_check_82994 = x_82992 && y_82993;\n        if (!bounds_check_82994) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 102) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_82991;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_82996 = ((__local int64_t *) ext_mem_90979)[index_primexp_82991];\n        max_res_82997 = smax64((int64_t) 0, f_arg0_82996);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96866 == 0) {\n            ((__local int64_t *) color_95434)[index_primexp_82991] = max_res_82997;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_90990)[gtid_82953 * dim_48135 + sext_i32_i64(local_tid_96866)] = ((__local int64_t *) color_95434)[sext_i32_i64(local_tid_96866)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_84192(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t merge_block_sizze_68035, int64_t loop_dz2084Uz2082U_68206, int64_t stride_68212, int64_t next_stride_6821",
                                    "3, unsigned char zzero_68214_bits, int64_t num_merges_68217, int64_t m_68222, unsigned char zzero_leq_i_p_m_t_s_68223_bits, unsigned char i_lte_j_68224_bits, unsigned char cond_68225_bits, int64_t num_blocks_68233, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, int64_t j_m_i_68235, unsigned char cond_68245_bits, int64_t computed_tblock_sizze_83896, int64_t bytes_91826, int64_t bytes_91835, int64_t bytes_91842, int64_t lmad_arg_91880, int64_t bytes_91900, int64_t bytes_91907, int64_t binop_x_91962, int64_t binop_x_91972, int64_t maxSubHelper_95439, int64_t maxSubHelper_95440, int64_t maxSubHelper_95441, int64_t maxSubHelper_95442, int32_t num_chunks_97312, int32_t num_chunks_97313, int32_t num_chunks_97314, int32_t num_chunks_97315, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_param_91515, __global unsigned char *mem_param_91518, __global unsigned char *mem_92276, __global unsigned char *mem_92279, __global unsigned char *mem_92283, __global unsigned char *mem_92286)\n{\n    bool zzero_68214 = zzero_68214_bits;\n    bool zzero_leq_i_p_m_t_s_68223 = zzero_leq_i_p_m_t_s_68223_bits;\n    bool i_lte_j_68224 = i_lte_j_68224_bits;\n    bool cond_68225 = cond_68225_bits;\n    bool cond_68245 = cond_68245_bits;\n    volatile __local unsigned char *color_95462_backing_19 = &shared_mem[0];\n    const int64_t color_95462_backing_19_offset = 0 + (bytes_91826 + srem64((int64_t) 8 - srem64(bytes_91826, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95461_backing_18 = &shared_mem[color_95462_backing_19_offset];\n    const int64_t color_95461_backing_18_offset = color_95462_backing_19_offset + (bytes_91842 + srem64((int64_t) 8 - srem64(bytes_91842, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95460_backing_17 = &shared_mem[color_95461_backing_18_offset];\n    const int64_t color_95460_backing_17_offset = color_95461_backing_18_offset + (bytes_91835 + srem64((int64_t) 8 - s", "rem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95459_backing_16 = &shared_mem[color_95460_backing_17_offset];\n    const int64_t color_95459_backing_16_offset = color_95460_backing_17_offset + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95458_backing_15 = &shared_mem[color_95459_backing_16_offset];\n    const int64_t color_95458_backing_15_offset = color_95459_backing_16_offset + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95457_backing_14 = &shared_mem[color_95458_backing_15_offset];\n    const int64_t color_95457_backing_14_offset = color_95458_backing_15_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95456_backing_13 = &shared_mem[color_95457_backing_14_offset];\n    const int64_t color_95456_backing_13_offset = color_95457_backing_14_offset + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95455_backing_12 = &shared_mem[color_95456_backing_13_offset];\n    const int64_t color_95455_backing_12_offset = color_95456_backing_13_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95454_backing_11 = &shared_mem[color_95455_backing_12_offset];\n    const int64_t color_95454_backing_11_offset = color_95455_backing_12_offset + (maxSubHelper_95442 + srem64((int64_t) 8 - srem64(maxSubHelper_95442, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95453_backing_10 = &shared_mem[color_95454_backing_11_offset];\n    const int64_t color_95453_backing_10_offset = color_95454_backing_11_offset + (maxSubHelper_95441 + srem64((int64_t) 8 - srem64(maxSubHelper_95441, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95452_backing_9 = &shared_mem[color_95453_backing_10_offset];\n    const int64_t color_95452_backing_9_offset = color_95453", "_backing_10_offset + (maxSubHelper_95440 + srem64((int64_t) 8 - srem64(maxSubHelper_95440, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95451_backing_8 = &shared_mem[color_95452_backing_9_offset];\n    const int64_t color_95451_backing_8_offset = color_95452_backing_9_offset + (maxSubHelper_95439 + srem64((int64_t) 8 - srem64(maxSubHelper_95439, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95450_backing_7 = &shared_mem[color_95451_backing_8_offset];\n    const int64_t color_95450_backing_7_offset = color_95451_backing_8_offset + (bytes_91900 + srem64((int64_t) 8 - srem64(bytes_91900, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95449_backing_6 = &shared_mem[color_95450_backing_7_offset];\n    const int64_t color_95449_backing_6_offset = color_95450_backing_7_offset + (bytes_91900 + srem64((int64_t) 8 - srem64(bytes_91900, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95448_backing_5 = &shared_mem[color_95449_backing_6_offset];\n    const int64_t color_95448_backing_5_offset = color_95449_backing_6_offset + (bytes_91907 + srem64((int64_t) 8 - srem64(bytes_91907, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95447_backing_4 = &shared_mem[color_95448_backing_5_offset];\n    const int64_t color_95447_backing_4_offset = color_95448_backing_5_offset + (bytes_91900 + srem64((int64_t) 8 - srem64(bytes_91900, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95446_backing_3 = &shared_mem[color_95447_backing_4_offset];\n    const int64_t color_95446_backing_3_offset = color_95447_backing_4_offset + (binop_x_91962 + srem64((int64_t) 8 - srem64(binop_x_91962, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95445_backing_2 = &shared_mem[color_95446_backing_3_offset];\n    const int64_t color_95445_backing_2_offset = color_95446_backing_3_offset + (binop_x_91962 + srem64((int64_t) 8 - srem64(binop_x_91962, (int64_t) 8",
                                    "), (int64_t) 8));\n    volatile __local unsigned char *color_95444_backing_1 = &shared_mem[color_95445_backing_2_offset];\n    const int64_t color_95444_backing_1_offset = color_95445_backing_2_offset + (binop_x_91962 + srem64((int64_t) 8 - srem64(binop_x_91962, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95443_backing_0 = &shared_mem[color_95444_backing_1_offset];\n    const int64_t color_95443_backing_0_offset = color_95444_backing_1_offset + (binop_x_91972 + srem64((int64_t) 8 - srem64(binop_x_91972, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97320;\n    int32_t tblock_sizze_97323;\n    int32_t wave_sizze_97322;\n    int32_t block_id_97321;\n    int32_t global_tid_97319;\n    int64_t phys_tblock_id_84192;\n    int64_t slice_97327;\n    int64_t slice_97328;\n    int64_t slice_97329;\n    int64_t ltid_pre_97324;\n    int64_t remnant_97330;\n    int64_t ltid_pre_97325;\n    int64_t remnant_97331;\n    int64_t ltid_pre_97326;\n    int64_t remnant_97332;\n    int64_t slice_97335;\n    int64_t slice_97336;\n    int64_t ltid_pre_97333;\n    int64_t remnant_97337;\n    int64_t ltid_pre_97334;\n    int64_t remnant_97338;\n    int64_t slice_97340;\n    int64_t ltid_pre_97339;\n    int64_t remnant_97341;\n    int64_t slice_97344;\n    int64_t slice_97345;\n    int64_t ltid_pre_97342;\n    int64_t remnant_97346;\n    int64_t ltid_pre_97343;\n    int64_t remnant_97347;\n    int64_t slice_97349;\n    int64_t ltid_pre_97348;\n    int64_t remnant_97350;\n    int64_t slice_97352;\n    int64_t ltid_pre_97351;\n    int64_t remnant_97353;\n    int64_t slice_97354;\n    int64_t gtid_84191;\n    int64_t remnant_97355;\n    __local unsigned char *color_95443;\n    __local unsigned char *color_95444;\n    __local unsigned char *color_95445;\n    __local unsigned char *color_95446;\n    __local unsigned char *color_95447;\n    __local unsigned char *color_95448;\n    __local unsigne", "d char *color_95449;\n    __local unsigned char *color_95450;\n    __local unsigned char *color_95451;\n    __local unsigned char *color_95452;\n    __local unsigned char *color_95453;\n    __local unsigned char *color_95454;\n    __local unsigned char *color_95455;\n    __local unsigned char *color_95456;\n    __local unsigned char *color_95457;\n    __local unsigned char *color_95458;\n    __local unsigned char *color_95459;\n    __local unsigned char *color_95460;\n    __local unsigned char *color_95461;\n    __local unsigned char *color_95462;\n    int64_t start_84194;\n    int64_t j_m_i_84195;\n    bool empty_slice_84196;\n    int64_t m_84197;\n    int64_t i_p_m_t_s_84198;\n    bool zzero_leq_i_p_m_t_s_84199;\n    bool i_p_m_t_s_leq_w_84200;\n    bool zzero_lte_i_84201;\n    bool i_lte_j_84202;\n    bool y_84203;\n    bool y_84204;\n    bool forwards_ok_84205;\n    bool ok_or_empty_84206;\n    bool index_certs_84207;\n    bool i_p_m_t_s_leq_w_84208;\n    bool y_84209;\n    bool forwards_ok_84210;\n    bool ok_or_empty_84211;\n    bool index_certs_84212;\n    int64_t slice_84225;\n    int64_t binop_y_92216;\n    int64_t binop_y_92218;\n    int64_t ext_92220;\n    __local unsigned char *ext_mem_92273;\n    __local unsigned char *ext_mem_92270;\n    __local unsigned char *ext_mem_92267;\n    __local unsigned char *ext_mem_92263;\n    int32_t num_chunks_97446;\n    int32_t num_chunks_97449;\n    int32_t num_chunks_97452;\n    int32_t num_chunks_97455;\n    \n    local_tid_97320 = get_local_id(0);\n    tblock_sizze_97323 = get_local_size(0);\n    wave_sizze_97322 = LOCKSTEP_WIDTH;\n    block_id_97321 = get_tblock_id(0);\n    global_tid_97319 = block_id_97321 * tblock_sizze_97323 + local_tid_97320;\n    phys_tblock_id_84192 = sext_i32_i64(block_id_97321);\n    slice_97327 = num_blocks_68233;\n    slice_97328 = dim_48135 * slice_97327;\n    slice_97329 = merge_block_sizze_68035 * slice_97328;\n    ltid_pre_97324 = squot64(sext_i32_i64(local_tid_97320), slice_97328);\n    remnant_97330 = sext_i32_i64(local_tid_97320) - ltid", "_pre_97324 * slice_97328;\n    ltid_pre_97325 = squot64(remnant_97330, slice_97327);\n    remnant_97331 = remnant_97330 - ltid_pre_97325 * slice_97327;\n    ltid_pre_97326 = remnant_97331;\n    remnant_97332 = remnant_97331 - ltid_pre_97326;\n    slice_97335 = num_blocks_68233;\n    slice_97336 = merge_block_sizze_68035 * slice_97335;\n    ltid_pre_97333 = squot64(sext_i32_i64(local_tid_97320), slice_97335);\n    remnant_97337 = sext_i32_i64(local_tid_97320) - ltid_pre_97333 * slice_97335;\n    ltid_pre_97334 = remnant_97337;\n    remnant_97338 = remnant_97337 - ltid_pre_97334;\n    slice_97340 = next_stride_68213;\n    ltid_pre_97339 = sext_i32_i64(local_tid_97320);\n    remnant_97341 = sext_i32_i64(local_tid_97320) - ltid_pre_97339;\n    slice_97344 = dim_48135;\n    slice_97345 = next_stride_68213 * slice_97344;\n    ltid_pre_97342 = squot64(sext_i32_i64(local_tid_97320), slice_97344);\n    remnant_97346 = sext_i32_i64(local_tid_97320) - ltid_pre_97342 * slice_97344;\n    ltid_pre_97343 = remnant_97346;\n    remnant_97347 = remnant_97346 - ltid_pre_97343;\n    slice_97349 = num_blocks_68233;\n    ltid_pre_97348 = sext_i32_i64(local_tid_97320);\n    remnant_97350 = sext_i32_i64(local_tid_97320) - ltid_pre_97348;\n    slice_97352 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n    ltid_pre_97351 = sext_i32_i64(local_tid_97320);\n    remnant_97353 = sext_i32_i64(local_tid_97320) - ltid_pre_97351;\n    slice_97354 = num_merges_68217;\n    gtid_84191 = sext_i32_i64(block_id_97321);\n    remnant_97355 = sext_i32_i64(block_id_97321) - gtid_84191;\n    color_95443 = (__local unsigned char *) color_95443_backing_0;\n    color_95444 = (__local unsigned char *) color_95444_backing_1;\n    color_95445 = (__local unsigned char *) color_95445_backing_2;\n    color_95446 = (__local unsigned char *) color_95446_backing_3;\n    color_95447 = (__local unsigned char *) color_95447_backing_4;\n    color_95448 = (__local unsigned char *) color_95448_backing_5;\n    color_95449 = (__local unsigned char *) color_95449_",
                                    "backing_6;\n    color_95450 = (__local unsigned char *) color_95450_backing_7;\n    color_95451 = (__local unsigned char *) color_95451_backing_8;\n    color_95452 = (__local unsigned char *) color_95452_backing_9;\n    color_95453 = (__local unsigned char *) color_95453_backing_10;\n    color_95454 = (__local unsigned char *) color_95454_backing_11;\n    color_95455 = (__local unsigned char *) color_95455_backing_12;\n    color_95456 = (__local unsigned char *) color_95456_backing_13;\n    color_95457 = (__local unsigned char *) color_95457_backing_14;\n    color_95458 = (__local unsigned char *) color_95458_backing_15;\n    color_95459 = (__local unsigned char *) color_95459_backing_16;\n    color_95460 = (__local unsigned char *) color_95460_backing_17;\n    color_95461 = (__local unsigned char *) color_95461_backing_18;\n    color_95462 = (__local unsigned char *) color_95462_backing_19;\n    start_84194 = mul64(next_stride_68213, gtid_84191);\n    j_m_i_84195 = sub64(loop_dz2084Uz2082U_68206, start_84194);\n    empty_slice_84196 = j_m_i_84195 == (int64_t) 0;\n    m_84197 = sub64(j_m_i_84195, (int64_t) 1);\n    i_p_m_t_s_84198 = add64(start_84194, m_84197);\n    zzero_leq_i_p_m_t_s_84199 = sle64((int64_t) 0, i_p_m_t_s_84198);\n    i_p_m_t_s_leq_w_84200 = slt64(i_p_m_t_s_84198, loop_dz2084Uz2082U_68206);\n    zzero_lte_i_84201 = sle64((int64_t) 0, start_84194);\n    i_lte_j_84202 = sle64(start_84194, loop_dz2084Uz2082U_68206);\n    y_84203 = i_p_m_t_s_leq_w_84200 && zzero_lte_i_84201;\n    y_84204 = zzero_leq_i_p_m_t_s_84199 && y_84203;\n    forwards_ok_84205 = i_lte_j_84202 && y_84204;\n    ok_or_empty_84206 = empty_slice_84196 || forwards_ok_84205;\n    if (!ok_or_empty_84206) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 115) == -1) {\n                global_failure_args[0] = (int64_t) start_84194;\n                global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_68206;\n                ;\n            }\n            local_failure = 1;\n            goto error_0", ";\n        }\n    }\n    i_p_m_t_s_leq_w_84208 = slt64(m_68222, j_m_i_84195);\n    y_84209 = zzero_leq_i_p_m_t_s_68223 && i_p_m_t_s_leq_w_84208;\n    forwards_ok_84210 = i_lte_j_68224 && y_84209;\n    ok_or_empty_84211 = zzero_68214 || forwards_ok_84210;\n    if (!ok_or_empty_84211) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 116) == -1) {\n                global_failure_args[0] = (int64_t) (int64_t) 0;\n                global_failure_args[1] = (int64_t) next_stride_68213;\n                global_failure_args[2] = (int64_t) j_m_i_84195;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    slice_84225 = stride_68212 + start_84194;\n    binop_y_92216 = dim_48135 * slice_84225;\n    binop_y_92218 = dim_48135 * start_84194;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_68245) {\n        ext_92220 = binop_y_92218;\n    } else {\n        ext_92220 = binop_y_92216;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_68225) {\n        int64_t dummy_84217;\n        double dummy_84218;\n        int64_t dummy_84220;\n        int64_t data_84234;\n        int64_t i_84240;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_68245) {\n            int64_t head_res_84221;\n            double head_res_84222;\n            int64_t head_res_84224;\n            \n            head_res_84221 = ((__global int64_t *) mem_param_91508)[start_84194];\n            head_res_84222 = ((__global double *) mem_param_91511)[start_84194];\n            head_res_84224 = ((__global int64_t *) mem_param_91518)[start_84194];\n            dummy_84217 = head_res_84221;\n            dummy_84218 = head_res_84222;\n            dummy_84220 = head_res_84224;\n        } else {\n            int64_t head_res_84226;\n            double head_res_84227;\n            int64_t head_res_84229;\n            \n            head_res_84226 = ((__global int64_t *) mem_param_91508", ")[slice_84225];\n            head_res_84227 = ((__global double *) mem_param_91511)[slice_84225];\n            head_res_84229 = ((__global int64_t *) mem_param_91518)[slice_84225];\n            dummy_84217 = head_res_84226;\n            dummy_84218 = head_res_84227;\n            dummy_84220 = head_res_84229;\n        }\n        for (int32_t chunk_i_97358 = 0; chunk_i_97358 < num_chunks_97314; chunk_i_97358++) {\n            int32_t i_97359;\n            int64_t slice_97360;\n            int64_t rep_i_97357;\n            int64_t remnant_97361;\n            \n            i_97359 = chunk_i_97358 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97360 = next_stride_68213;\n            rep_i_97357 = sext_i32_i64(i_97359);\n            remnant_97361 = sext_i32_i64(i_97359) - rep_i_97357;\n            if (sle64((int64_t) 0, rep_i_97357) && slt64(rep_i_97357, next_stride_68213)) {\n                ((__local int64_t *) color_95446)[rep_i_97357] = dummy_84217;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97364 = 0; chunk_i_97364 < num_chunks_97314; chunk_i_97364++) {\n            int32_t i_97365;\n            int64_t slice_97366;\n            int64_t rep_i_97363;\n            int64_t remnant_97367;\n            \n            i_97365 = chunk_i_97364 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97366 = next_stride_68213;\n            rep_i_97363 = sext_i32_i64(i_97365);\n            remnant_97367 = sext_i32_i64(i_97365) - rep_i_97363;\n            if (sle64((int64_t) 0, rep_i_97363) && slt64(rep_i_97363, next_stride_68213)) {\n                ((__local double *) color_95445)[rep_i_97363] = dummy_84218;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97370 = 0; chunk_i_97370 < num_chunks_97314; chunk_i_97370++) {\n            int32_t i_97371;\n            int64_t slice_97372;\n            int64_t rep_i_97369;\n            int64_t remnant_97373;\n           ",
                                    " \n            i_97371 = chunk_i_97370 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97372 = next_stride_68213;\n            rep_i_97369 = sext_i32_i64(i_97371);\n            remnant_97373 = sext_i32_i64(i_97371) - rep_i_97369;\n            if (sle64((int64_t) 0, rep_i_97369) && slt64(rep_i_97369, next_stride_68213)) {\n                ((__local int64_t *) color_95444)[rep_i_97369] = dummy_84220;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97377 = 0; chunk_i_97377 < num_chunks_97315; chunk_i_97377++) {\n            int32_t i_97378;\n            int64_t slice_97379;\n            int64_t slice_97380;\n            int64_t rep_i_97375;\n            int64_t remnant_97381;\n            int64_t rep_i_97376;\n            int64_t remnant_97382;\n            \n            i_97378 = chunk_i_97377 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97379 = dim_48135;\n            slice_97380 = next_stride_68213 * slice_97379;\n            rep_i_97375 = squot64(sext_i32_i64(i_97378), slice_97379);\n            remnant_97381 = sext_i32_i64(i_97378) - rep_i_97375 * slice_97379;\n            rep_i_97376 = remnant_97381;\n            remnant_97382 = remnant_97381 - rep_i_97376;\n            if ((sle64((int64_t) 0, rep_i_97375) && slt64(rep_i_97375, next_stride_68213)) && (sle64((int64_t) 0, rep_i_97376) && slt64(rep_i_97376, dim_48135))) {\n                double tmp_97383 = ((__global double *) mem_param_91515)[ext_92220 + rep_i_97376];\n                \n                ((__local double *) color_95443)[rep_i_97375 * dim_48135 + rep_i_97376] = tmp_97383;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        i_84240 = (int64_t) 0;\n        for (int64_t k_84239 = 0; k_84239 < next_stride_68213; k_84239++) {\n            int64_t j_84245;\n            bool cond_84246;\n            bool x_94953;\n            bool cond_84248;\n            bool x_84250;\n ", "           bool y_84251;\n            bool bounds_check_84252;\n            bool loop_not_taken_94941;\n            bool protect_assert_disj_94942;\n            bool protect_assert_disj_94956;\n            bool index_certs_84253;\n            int64_t slice_84254;\n            int64_t slice_84255;\n            bool protect_cond_conj_94957;\n            int64_t leq_arg1_84256;\n            double leq_arg1_84257;\n            bool x_84258;\n            bool bounds_check_84259;\n            bool protect_assert_disj_94948;\n            bool protect_assert_disj_94960;\n            bool index_certs_84260;\n            int64_t slice_84261;\n            int64_t leq_arg0_84262;\n            double leq_arg0_84263;\n            bool cond_84264;\n            bool cond_84265;\n            bool lifted_lambda_res_f_res_t_res_84266;\n            bool x_84267;\n            bool x_84268;\n            bool y_84269;\n            bool lifted_lambda_res_84270;\n            bool x_95077;\n            bool cond_84247;\n            bool protect_assert_disj_94731;\n            bool index_certs_84289;\n            bool loop_not_taken_94726;\n            bool protect_assert_disj_94727;\n            bool index_certs_84280;\n            int64_t binop_y_92243;\n            int64_t binop_y_92245;\n            int64_t ext_92247;\n            int64_t loopres_84271;\n            int64_t loopres_84272;\n            double loopres_84273;\n            int64_t loopres_84275;\n            int32_t num_chunks_97389;\n            int64_t i_tmp_97384;\n            \n            j_84245 = sub64(k_84239, i_84240);\n            cond_84246 = j_84245 == j_m_i_68235;\n            x_94953 = !cond_84246;\n            cond_84248 = slt64(i_84240, stride_68212);\n            x_84250 = sle64((int64_t) 0, j_84245);\n            y_84251 = slt64(j_84245, j_m_i_68235);\n            bounds_check_84252 = x_84250 && y_84251;\n            loop_not_taken_94941 = !cond_84248;\n            protect_assert_disj_94942 = bounds_check_84252 || loop_not_taken_94941;\n            protect_as", "sert_disj_94956 = cond_84246 || protect_assert_disj_94942;\n            if (!protect_assert_disj_94956) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 117) == -1) {\n                        global_failure_args[0] = (int64_t) j_84245;\n                        global_failure_args[1] = (int64_t) j_m_i_68235;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            slice_84254 = stride_68212 + j_84245;\n            slice_84255 = start_84194 + slice_84254;\n            protect_cond_conj_94957 = cond_84248 && x_94953;\n            \n          error_4:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_94957) {\n                int64_t x_94943 = ((__global int64_t *) mem_param_91508)[slice_84255];\n                \n                leq_arg1_84256 = x_94943;\n            } else {\n                leq_arg1_84256 = (int64_t) 0;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_94957) {\n                double x_94945 = ((__global double *) mem_param_91511)[slice_84255];\n                \n                leq_arg1_84257 = x_94945;\n            } else {\n                leq_arg1_84257 = 0.0;\n            }\n            x_84258 = sle64((int64_t) 0, i_84240);\n            bounds_check_84259 = cond_84248 && x_84258;\n            protect_assert_disj_94948 = bounds_check_84259 || loop_not_taken_94941;\n            protect_assert_disj_94960 = cond_84246 || protect_assert_disj_94948;\n            if (!protect_assert_disj_94960) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 118) == -1) {\n                        global_failure_args[0] = (int64_t) i_84240;\n                        global_failure_args[1] = (int64_t) stride_68212;\n                        ;\n      ",
                                    "              }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            slice_84261 = start_84194 + i_84240;\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_94957) {\n                int64_t x_94949 = ((__global int64_t *) mem_param_91508)[slice_84261];\n                \n                leq_arg0_84262 = x_94949;\n            } else {\n                leq_arg0_84262 = (int64_t) 0;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_94957) {\n                double x_94951 = ((__global double *) mem_param_91511)[slice_84261];\n                \n                leq_arg0_84263 = x_94951;\n            } else {\n                leq_arg0_84263 = 0.0;\n            }\n            cond_84264 = slt64(leq_arg0_84262, leq_arg1_84256);\n            cond_84265 = leq_arg0_84262 == leq_arg1_84256;\n            lifted_lambda_res_f_res_t_res_84266 = leq_arg0_84263 <= leq_arg1_84257;\n            x_84267 = cond_84265 && lifted_lambda_res_f_res_t_res_84266;\n            x_84268 = !cond_84264;\n            y_84269 = x_84267 && x_84268;\n            lifted_lambda_res_84270 = cond_84264 || y_84269;\n            x_95077 = cond_84248 && lifted_lambda_res_84270;\n            cond_84247 = cond_84246 || x_95077;\n            protect_assert_disj_94731 = cond_84247 || bounds_check_84252;\n            if (!protect_assert_disj_94731) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 119) == -1) {\n                        global_failure_args[0] = (int64_t) j_84245;\n                        global_failure_args[1] = (int64_t) j_m_i_68235;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            loop_not_taken_94726 = !cond_8424", "7;\n            protect_assert_disj_94727 = bounds_check_84259 || loop_not_taken_94726;\n            if (!protect_assert_disj_94727) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 120) == -1) {\n                        global_failure_args[0] = (int64_t) i_84240;\n                        global_failure_args[1] = (int64_t) stride_68212;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            binop_y_92243 = dim_48135 * slice_84255;\n            binop_y_92245 = dim_48135 * slice_84261;\n            \n          error_8:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_84247) {\n                ext_92247 = binop_y_92245;\n            } else {\n                ext_92247 = binop_y_92243;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_84247) {\n                int64_t tmp_84276;\n                int64_t tmp_84282;\n                double tmp_84283;\n                int64_t tmp_84285;\n                \n                tmp_84276 = add64((int64_t) 1, i_84240);\n                tmp_84282 = ((__global int64_t *) mem_param_91508)[slice_84261];\n                tmp_84283 = ((__global double *) mem_param_91511)[slice_84261];\n                tmp_84285 = ((__global int64_t *) mem_param_91518)[slice_84261];\n                loopres_84271 = tmp_84276;\n                loopres_84272 = tmp_84282;\n                loopres_84273 = tmp_84283;\n                loopres_84275 = tmp_84285;\n            } else {\n                int64_t tmp_84292;\n                double tmp_84293;\n                int64_t tmp_84295;\n                \n                tmp_84292 = ((__global int64_t *) mem_param_91508)[slice_84255];\n                tmp_84293 = ((__global double *) mem_param_91511)[slice_84255];\n                tmp_84295 = ((__global in", "t64_t *) mem_param_91518)[slice_84255];\n                loopres_84271 = i_84240;\n                loopres_84272 = tmp_84292;\n                loopres_84273 = tmp_84293;\n                loopres_84275 = tmp_84295;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97320 == 0) {\n                ((__local int64_t *) color_95446)[k_84239] = loopres_84272;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97320 == 0) {\n                ((__local double *) color_95445)[k_84239] = loopres_84273;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            num_chunks_97389 = sdiv_up32(sext_i64_i32(dim_48135), sext_i64_i32(computed_tblock_sizze_83896));\n            for (int32_t chunk_i_97390 = 0; chunk_i_97390 < num_chunks_97389; chunk_i_97390++) {\n                int32_t i_97391 = chunk_i_97390 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n                \n                if (slt32(i_97391, sext_i64_i32(dim_48135))) {\n                    ((__local double *) color_95443)[k_84239 * dim_48135 + sext_i32_i64(i_97391)] = ((__global double *) mem_param_91515)[ext_92247 + sext_i32_i64(i_97391)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97320 == 0) {\n                ((__local int64_t *) color_95444)[k_84239] = loopres_84275;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            i_tmp_97384 = loopres_84271;\n            i_84240 = i_tmp_97384;\n        }\n        data_84234 = i_84240;\n        ext_mem_92273 = color_95446;\n        ext_mem_92270 = color_95445;\n        ext_mem_92267 = color_95443;\n        ext_mem_92263 = color_95444;\n    } else {\n        int64_t phys_tid_84304;\n        int64_t gtid_84303;\n        int64_t phys_tid_84427;\n        int64_t gtid_84426;\n        int64_t phys_tid_84505;\n        int64_t gtid_84504;\n        \n        phys_tid_84304 ",
                                    "= sext_i32_i64(local_tid_97320);\n        gtid_84303 = sext_i32_i64(sext_i64_i32(ltid_pre_97351));\n        if (slt64(gtid_84303, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234)) {\n            int64_t split_count_arg3_84306;\n            int64_t defunc_0_split_count_res_84307;\n            int64_t defunc_0_split_count_res_84308;\n            int64_t defunc_0_split_count_res_84309;\n            int64_t defunc_0_split_count_res_84310;\n            int64_t defunc_0_split_count_res_84311;\n            bool loop_cond_84312;\n            bool defunc_0_split_count_res_84313;\n            int64_t defunc_0_split_count_res_84314;\n            int64_t defunc_0_split_count_res_84315;\n            int64_t defunc_0_split_count_res_84316;\n            int64_t defunc_0_split_count_res_84317;\n            int64_t defunc_0_split_count_res_84318;\n            bool loop_while_84319;\n            int64_t ss_84320;\n            int64_t ss_84321;\n            int64_t tt_84322;\n            int64_t tt_84323;\n            int64_t count_84324;\n            \n            split_count_arg3_84306 = mul64(merge_block_sizze_68035, gtid_84303);\n            futrts_lifted_normalizze_10027(&defunc_0_split_count_res_84307, &defunc_0_split_count_res_84308, &defunc_0_split_count_res_84309, &defunc_0_split_count_res_84310, &defunc_0_split_count_res_84311, (int64_t) 0, stride_68212, (int64_t) 0, j_m_i_68235, split_count_arg3_84306);\n            loop_cond_84312 = slt64((int64_t) 0, defunc_0_split_count_res_84311);\n            loop_while_84319 = loop_cond_84312;\n            ss_84320 = defunc_0_split_count_res_84307;\n            ss_84321 = defunc_0_split_count_res_84308;\n            tt_84322 = defunc_0_split_count_res_84309;\n            tt_84323 = defunc_0_split_count_res_84310;\n            count_84324 = defunc_0_split_count_res_84311;\n            while (loop_while_84319) {\n                int64_t zlze_lhs_84325;\n                bool cond_84326;\n                int64_t defunc_0_lifted_step_res_84327;\n                int64_t defunc_0", "_lifted_step_res_84328;\n                int64_t defunc_0_lifted_step_res_84329;\n                int64_t defunc_0_lifted_step_res_84330;\n                int64_t loopres_84409;\n                int64_t loopres_84410;\n                int64_t loopres_84411;\n                int64_t loopres_84412;\n                int64_t loopres_84413;\n                bool loop_cond_84414;\n                bool loop_while_tmp_97392;\n                int64_t ss_tmp_97393;\n                int64_t ss_tmp_97394;\n                int64_t tt_tmp_97395;\n                int64_t tt_tmp_97396;\n                int64_t count_tmp_97397;\n                \n                zlze_lhs_84325 = sub64(ss_84321, ss_84320);\n                cond_84326 = sle64(zlze_lhs_84325, (int64_t) 0);\n                if (cond_84326) {\n                    int64_t tmp_84331 = add64(tt_84322, count_84324);\n                    \n                    defunc_0_lifted_step_res_84327 = ss_84320;\n                    defunc_0_lifted_step_res_84328 = tmp_84331;\n                    defunc_0_lifted_step_res_84329 = tt_84323;\n                    defunc_0_lifted_step_res_84330 = (int64_t) 0;\n                } else {\n                    int64_t zlze_lhs_84332;\n                    bool cond_84333;\n                    int64_t defunc_0_lifted_step_res_f_res_84334;\n                    int64_t defunc_0_lifted_step_res_f_res_84335;\n                    int64_t defunc_0_lifted_step_res_f_res_84336;\n                    int64_t defunc_0_lifted_step_res_f_res_84337;\n                    \n                    zlze_lhs_84332 = sub64(tt_84323, tt_84322);\n                    cond_84333 = sle64(zlze_lhs_84332, (int64_t) 0);\n                    if (cond_84333) {\n                        int64_t tmp_84338 = add64(ss_84320, count_84324);\n                        \n                        defunc_0_lifted_step_res_f_res_84334 = tmp_84338;\n                        defunc_0_lifted_step_res_f_res_84335 = tt_84322;\n                        defunc_0_lifted_step_res_f_res_84336 = t", "t_84323;\n                        defunc_0_lifted_step_res_f_res_84337 = (int64_t) 0;\n                    } else {\n                        bool cond_84339;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_84340;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_84341;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_84342;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_84343;\n                        \n                        cond_84339 = count_84324 == (int64_t) 1;\n                        if (cond_84339) {\n                            bool x_84344;\n                            bool y_84345;\n                            bool bounds_check_84346;\n                            bool index_certs_84347;\n                            bool x_84351;\n                            bool y_84352;\n                            bool bounds_check_84353;\n                            bool index_certs_84354;\n                            int64_t slice_84348;\n                            int64_t leq_arg1_84349;\n                            double leq_arg1_84350;\n                            int64_t slice_84355;\n                            int64_t slice_84356;\n                            int64_t leq_arg0_84357;\n                            double leq_arg0_84358;\n                            bool cond_84359;\n                            bool cond_84360;\n                            bool lifted_lambda_res_f_res_t_res_84361;\n                            bool x_84362;\n                            bool x_84363;\n                            bool y_84364;\n                            bool lifted_lambda_res_84365;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_84366;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_84367;\n                            \n                            x_84344 = sle64((int64_t) 0, ss_84320);\n                            y_84345 = slt64(ss_84320, stride_6821",
                                    "2);\n                            bounds_check_84346 = x_84344 && y_84345;\n                            if (!bounds_check_84346) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 121) == -1) {\n                                        global_failure_args[0] = (int64_t) ss_84320;\n                                        global_failure_args[1] = (int64_t) stride_68212;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_10;\n                                }\n                            }\n                            x_84351 = sle64((int64_t) 0, tt_84322);\n                            y_84352 = slt64(tt_84322, j_m_i_68235);\n                            bounds_check_84353 = x_84351 && y_84352;\n                            if (!bounds_check_84353) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 122) == -1) {\n                                        global_failure_args[0] = (int64_t) tt_84322;\n                                        global_failure_args[1] = (int64_t) j_m_i_68235;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_10;\n                                }\n                            }\n                            slice_84348 = start_84194 + ss_84320;\n                            leq_arg1_84349 = ((__global int64_t *) mem_param_91508)[slice_84348];\n                            leq_arg1_84350 = ((__global double *) mem_param_91511)[slice_84348];\n                            slice_84355 = stride_68212 + tt_84322;\n                            slice_84356 = start_84194 + slice_84355;\n                            leq_arg0_84357 = ((__global int64_t *) mem_param_91508)[slice_84356];\n  ", "                          leq_arg0_84358 = ((__global double *) mem_param_91511)[slice_84356];\n                            cond_84359 = slt64(leq_arg0_84357, leq_arg1_84349);\n                            cond_84360 = leq_arg0_84357 == leq_arg1_84349;\n                            lifted_lambda_res_f_res_t_res_84361 = leq_arg0_84358 <= leq_arg1_84350;\n                            x_84362 = cond_84360 && lifted_lambda_res_f_res_t_res_84361;\n                            x_84363 = !cond_84359;\n                            y_84364 = x_84362 && x_84363;\n                            lifted_lambda_res_84365 = cond_84359 || y_84364;\n                            if (lifted_lambda_res_84365) {\n                                int64_t tmp_84368 = add64((int64_t) 1, tt_84322);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_84366 = ss_84320;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_84367 = tmp_84368;\n                            } else {\n                                int64_t tmp_84369 = add64((int64_t) 1, ss_84320);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_84366 = tmp_84369;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_84367 = tt_84322;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_84340 = defunc_0_lifted_step_res_f_res_f_res_t_res_84366;\n                            defunc_0_lifted_step_res_f_res_f_res_84341 = defunc_0_lifted_step_res_f_res_f_res_t_res_84367;\n                            defunc_0_lifted_step_res_f_res_f_res_84342 = tt_84323;\n                            defunc_0_lifted_step_res_f_res_f_res_84343 = (int64_t) 0;\n                        } else {\n                            int64_t m_84370;\n                            int64_t n_84371;\n                            bool cond_84372;\n                            int64_t zgze_lhs_84373;\n          ", "                  bool cond_f_res_84374;\n                            bool x_84375;\n                            bool y_84376;\n                            bool cond_84377;\n                            bool leq_y_x_84378;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_84403;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_84404;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_84405;\n                            \n                            m_84370 = sdiv64(count_84324, (int64_t) 2);\n                            n_84371 = sub64(count_84324, m_84370);\n                            cond_84372 = n_84371 == (int64_t) 0;\n                            zgze_lhs_84373 = add64(ss_84320, m_84370);\n                            cond_f_res_84374 = sle64(ss_84321, zgze_lhs_84373);\n                            x_84375 = !cond_84372;\n                            y_84376 = cond_f_res_84374 && x_84375;\n                            cond_84377 = cond_84372 || y_84376;\n                            if (cond_84377) {\n                                leq_y_x_84378 = 1;\n                            } else {\n                                bool x_84379;\n                                bool y_84380;\n                                bool bounds_check_84381;\n                                bool index_certs_84382;\n                                int64_t zm_lhs_84386;\n                                int64_t leq_arg0_84387;\n                                bool x_84388;\n                                bool y_84389;\n                                bool bounds_check_84390;\n                                bool index_certs_84391;\n                                int64_t slice_84383;\n                                int64_t leq_arg1_84384;\n                                double leq_arg1_84385;\n                                int64_t slice_84392;\n                                int64_t slice_84393;\n                                in",
                                    "t64_t leq_arg0_84394;\n                                double leq_arg0_84395;\n                                bool cond_84396;\n                                bool cond_84397;\n                                bool lifted_lambda_res_f_res_t_res_84398;\n                                bool x_84399;\n                                bool x_84400;\n                                bool y_84401;\n                                bool lifted_lambda_res_84402;\n                                \n                                x_84379 = sle64((int64_t) 0, zgze_lhs_84373);\n                                y_84380 = slt64(zgze_lhs_84373, stride_68212);\n                                bounds_check_84381 = x_84379 && y_84380;\n                                if (!bounds_check_84381) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 123) == -1) {\n                                            global_failure_args[0] = (int64_t) zgze_lhs_84373;\n                                            global_failure_args[1] = (int64_t) stride_68212;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_10;\n                                    }\n                                }\n                                zm_lhs_84386 = add64(tt_84322, n_84371);\n                                leq_arg0_84387 = sub64(zm_lhs_84386, (int64_t) 1);\n                                x_84388 = sle64((int64_t) 0, leq_arg0_84387);\n                                y_84389 = slt64(leq_arg0_84387, j_m_i_68235);\n                                bounds_check_84390 = x_84388 && y_84389;\n                                if (!bounds_check_84390) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 124) == -1) {\n                                       ", "     global_failure_args[0] = (int64_t) leq_arg0_84387;\n                                            global_failure_args[1] = (int64_t) j_m_i_68235;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_10;\n                                    }\n                                }\n                                slice_84383 = start_84194 + zgze_lhs_84373;\n                                leq_arg1_84384 = ((__global int64_t *) mem_param_91508)[slice_84383];\n                                leq_arg1_84385 = ((__global double *) mem_param_91511)[slice_84383];\n                                slice_84392 = stride_68212 + leq_arg0_84387;\n                                slice_84393 = start_84194 + slice_84392;\n                                leq_arg0_84394 = ((__global int64_t *) mem_param_91508)[slice_84393];\n                                leq_arg0_84395 = ((__global double *) mem_param_91511)[slice_84393];\n                                cond_84396 = slt64(leq_arg0_84394, leq_arg1_84384);\n                                cond_84397 = leq_arg0_84394 == leq_arg1_84384;\n                                lifted_lambda_res_f_res_t_res_84398 = leq_arg0_84395 <= leq_arg1_84385;\n                                x_84399 = cond_84397 && lifted_lambda_res_f_res_t_res_84398;\n                                x_84400 = !cond_84396;\n                                y_84401 = x_84399 && x_84400;\n                                lifted_lambda_res_84402 = cond_84396 || y_84401;\n                                leq_y_x_84378 = lifted_lambda_res_84402;\n                            }\n                            if (leq_y_x_84378) {\n                                int64_t tmp_84406;\n                                int64_t tmp_84407;\n                                \n                                tmp_84406 = add64(tt_84322, n_84371);\n                               ", " tmp_84407 = sub64(count_84324, n_84371);\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_84403 = tmp_84406;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_84404 = tt_84323;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_84405 = tmp_84407;\n                            } else {\n                                int64_t tmp_84408 = add64(tt_84322, n_84371);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_f_res_84403 = tt_84322;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_84404 = tmp_84408;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_84405 = count_84324;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_84340 = ss_84320;\n                            defunc_0_lifted_step_res_f_res_f_res_84341 = defunc_0_lifted_step_res_f_res_f_res_f_res_84403;\n                            defunc_0_lifted_step_res_f_res_f_res_84342 = defunc_0_lifted_step_res_f_res_f_res_f_res_84404;\n                            defunc_0_lifted_step_res_f_res_f_res_84343 = defunc_0_lifted_step_res_f_res_f_res_f_res_84405;\n                        }\n                        defunc_0_lifted_step_res_f_res_84334 = defunc_0_lifted_step_res_f_res_f_res_84340;\n                        defunc_0_lifted_step_res_f_res_84335 = defunc_0_lifted_step_res_f_res_f_res_84341;\n                        defunc_0_lifted_step_res_f_res_84336 = defunc_0_lifted_step_res_f_res_f_res_84342;\n                        defunc_0_lifted_step_res_f_res_84337 = defunc_0_lifted_step_res_f_res_f_res_84343;\n                    }\n                    defunc_0_lifted_step_res_84327 = defunc_0_lifted_step_res_f_res_84334;\n                    defunc_0_lifted_step_res_84328 = defunc_0_lifted_step_res_f_res_84335;\n                    defunc_0_lifted_step_res_84329 = defunc_0_lifted_step_res_f_res_84336;\n               ",
                                    "     defunc_0_lifted_step_res_84330 = defunc_0_lifted_step_res_f_res_84337;\n                }\n                futrts_lifted_normalizze_10027(&loopres_84409, &loopres_84410, &loopres_84411, &loopres_84412, &loopres_84413, defunc_0_lifted_step_res_84327, ss_84321, defunc_0_lifted_step_res_84328, defunc_0_lifted_step_res_84329, defunc_0_lifted_step_res_84330);\n                loop_cond_84414 = slt64((int64_t) 0, loopres_84413);\n                loop_while_tmp_97392 = loop_cond_84414;\n                ss_tmp_97393 = loopres_84409;\n                ss_tmp_97394 = loopres_84410;\n                tt_tmp_97395 = loopres_84411;\n                tt_tmp_97396 = loopres_84412;\n                count_tmp_97397 = loopres_84413;\n                loop_while_84319 = loop_while_tmp_97392;\n                ss_84320 = ss_tmp_97393;\n                ss_84321 = ss_tmp_97394;\n                tt_84322 = tt_tmp_97395;\n                tt_84323 = tt_tmp_97396;\n                count_84324 = count_tmp_97397;\n            }\n            defunc_0_split_count_res_84313 = loop_while_84319;\n            defunc_0_split_count_res_84314 = ss_84320;\n            defunc_0_split_count_res_84315 = ss_84321;\n            defunc_0_split_count_res_84316 = tt_84322;\n            defunc_0_split_count_res_84317 = tt_84323;\n            defunc_0_split_count_res_84318 = count_84324;\n            ((__local int64_t *) color_95462)[gtid_84303] = defunc_0_split_count_res_84314;\n            ((__local int64_t *) color_95454)[gtid_84303] = defunc_0_split_count_res_84316;\n        }\n        \n      error_10:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_84427 = sext_i32_i64(local_tid_97320);\n        gtid_84426 = sext_i32_i64(sext_i64_i32(ltid_pre_97348));\n        if (slt64(gtid_84426, num_blocks_68233)) {\n            bool y_84430;\n            bool index_certs_84432;\n            int64_t defunc_0_f_res_84433;\n            int64_t defunc_0_f_res_84434;", "\n            int64_t tmp_84435;\n            bool x_84436;\n            bool y_84437;\n            bool bounds_check_84438;\n            bool index_certs_84439;\n            int64_t defunc_0_f_res_84440;\n            int64_t defunc_0_f_res_84441;\n            int64_t merge_sequential_arg2_84442;\n            int64_t merge_sequential_arg2_84443;\n            int64_t j_m_i_84444;\n            bool empty_slice_84445;\n            int64_t m_84446;\n            int64_t i_p_m_t_s_84447;\n            bool zzero_leq_i_p_m_t_s_84448;\n            bool i_p_m_t_s_leq_w_84449;\n            bool zzero_lte_i_84450;\n            bool i_lte_j_84451;\n            bool y_84452;\n            bool y_84453;\n            bool forwards_ok_84454;\n            bool ok_or_empty_84455;\n            bool index_certs_84456;\n            int64_t j_m_i_84457;\n            bool empty_slice_84458;\n            int64_t m_84459;\n            int64_t i_p_m_t_s_84460;\n            bool zzero_leq_i_p_m_t_s_84461;\n            bool i_p_m_t_s_leq_w_84462;\n            bool zzero_lte_i_84463;\n            bool i_lte_j_84464;\n            bool y_84465;\n            bool y_84466;\n            bool forwards_ok_84467;\n            bool ok_or_empty_84468;\n            bool index_certs_84469;\n            bool cond_84470;\n            bool y_84481;\n            bool protect_assert_disj_94753;\n            bool index_certs_84482;\n            int64_t slice_84483;\n            int64_t binop_y_92134;\n            int64_t slice_84476;\n            int64_t binop_y_92136;\n            int64_t ext_92138;\n            int64_t dummy_84471;\n            double dummy_84472;\n            int64_t dummy_84474;\n            \n            y_84430 = slt64(gtid_84426, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);\n            if (!y_84430) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 125) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_84426;\n                        global_failure_args[1] = (int64_t) dzlz7bU", "ZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            defunc_0_f_res_84433 = ((__local int64_t *) color_95462)[gtid_84426];\n            defunc_0_f_res_84434 = ((__local int64_t *) color_95454)[gtid_84426];\n            tmp_84435 = add64((int64_t) 1, gtid_84426);\n            x_84436 = sle64((int64_t) 0, tmp_84435);\n            y_84437 = slt64(tmp_84435, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);\n            bounds_check_84438 = x_84436 && y_84437;\n            if (!bounds_check_84438) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 126) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_84435;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            defunc_0_f_res_84440 = ((__local int64_t *) color_95462)[tmp_84435];\n            defunc_0_f_res_84441 = ((__local int64_t *) color_95454)[tmp_84435];\n            merge_sequential_arg2_84442 = add64(stride_68212, defunc_0_f_res_84434);\n            merge_sequential_arg2_84443 = add64(stride_68212, defunc_0_f_res_84441);\n            j_m_i_84444 = sub64(merge_sequential_arg2_84443, merge_sequential_arg2_84442);\n            empty_slice_84445 = j_m_i_84444 == (int64_t) 0;\n            m_84446 = sub64(j_m_i_84444, (int64_t) 1);\n            i_p_m_t_s_84447 = add64(merge_sequential_arg2_84442, m_84446);\n            zzero_leq_i_p_m_t_s_84448 = sle64((int64_t) 0, i_p_m_t_s_84447);\n            i_p_m_t_s_leq_w_84449 = slt64(i_p_m_t_s_84447, next_stride_68213);\n            zzero_lte_i_84450 = sle64((int64_t) 0, merge_sequential_arg2_84442);\n            i_lte_j_84451 = sle64(merge_sequential_arg2_84442, merge_sequen",
                                    "tial_arg2_84443);\n            y_84452 = i_p_m_t_s_leq_w_84449 && zzero_lte_i_84450;\n            y_84453 = zzero_leq_i_p_m_t_s_84448 && y_84452;\n            forwards_ok_84454 = i_lte_j_84451 && y_84453;\n            ok_or_empty_84455 = empty_slice_84445 || forwards_ok_84454;\n            if (!ok_or_empty_84455) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 127) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_84442;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_84443;\n                        global_failure_args[2] = (int64_t) next_stride_68213;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            j_m_i_84457 = sub64(defunc_0_f_res_84440, defunc_0_f_res_84433);\n            empty_slice_84458 = j_m_i_84457 == (int64_t) 0;\n            m_84459 = sub64(j_m_i_84457, (int64_t) 1);\n            i_p_m_t_s_84460 = add64(defunc_0_f_res_84433, m_84459);\n            zzero_leq_i_p_m_t_s_84461 = sle64((int64_t) 0, i_p_m_t_s_84460);\n            i_p_m_t_s_leq_w_84462 = slt64(i_p_m_t_s_84460, next_stride_68213);\n            zzero_lte_i_84463 = sle64((int64_t) 0, defunc_0_f_res_84433);\n            i_lte_j_84464 = sle64(defunc_0_f_res_84433, defunc_0_f_res_84440);\n            y_84465 = i_p_m_t_s_leq_w_84462 && zzero_lte_i_84463;\n            y_84466 = zzero_leq_i_p_m_t_s_84461 && y_84465;\n            forwards_ok_84467 = i_lte_j_84464 && y_84466;\n            ok_or_empty_84468 = empty_slice_84458 || forwards_ok_84467;\n            if (!ok_or_empty_84468) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 128) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_84433;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_84440;\n                        global_failure_args[2] = (i", "nt64_t) next_stride_68213;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            cond_84470 = slt64((int64_t) 0, j_m_i_84457);\n            y_84481 = slt64((int64_t) 0, j_m_i_84444);\n            protect_assert_disj_94753 = cond_84470 || y_84481;\n            if (!protect_assert_disj_94753) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 129) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_84444;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            slice_84483 = start_84194 + merge_sequential_arg2_84442;\n            binop_y_92134 = dim_48135 * slice_84483;\n            slice_84476 = start_84194 + defunc_0_f_res_84433;\n            binop_y_92136 = dim_48135 * slice_84476;\n            if (cond_84470) {\n                ext_92138 = binop_y_92136;\n            } else {\n                ext_92138 = binop_y_92134;\n            }\n            if (cond_84470) {\n                int64_t head_res_84477;\n                double head_res_84478;\n                int64_t head_res_84480;\n                \n                head_res_84477 = ((__global int64_t *) mem_param_91508)[slice_84476];\n                head_res_84478 = ((__global double *) mem_param_91511)[slice_84476];\n                head_res_84480 = ((__global int64_t *) mem_param_91518)[slice_84476];\n                dummy_84471 = head_res_84477;\n                dummy_84472 = head_res_84478;\n                dummy_84474 = head_res_84480;\n            } else {\n                int64_t head_res_84484;\n                double head_res_84485;\n                int64_t head_res_84487;\n                \n                head_res_84484 = ((__global int64_t *) mem_param_91508)[slice_84483];\n     ", "           head_res_84485 = ((__global double *) mem_param_91511)[slice_84483];\n                head_res_84487 = ((__global int64_t *) mem_param_91518)[slice_84483];\n                dummy_84471 = head_res_84484;\n                dummy_84472 = head_res_84485;\n                dummy_84474 = head_res_84487;\n            }\n            ((__local int64_t *) color_95453)[gtid_84426] = dummy_84471;\n            ((__local double *) color_95452)[gtid_84426] = dummy_84472;\n            ((__local int64_t *) color_95451)[gtid_84426] = dummy_84474;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__local double *) color_95461)[gtid_84426 * dim_48135 + i_0] = ((__global double *) mem_param_91515)[ext_92138 + i_0];\n            }\n            ((__local int64_t *) color_95460)[gtid_84426] = defunc_0_f_res_84433;\n            ((__local int64_t *) color_95459)[gtid_84426] = merge_sequential_arg2_84442;\n            ((__local int64_t *) color_95458)[gtid_84426] = j_m_i_84444;\n            ((__local int64_t *) color_95456)[gtid_84426] = j_m_i_84457;\n        }\n        \n      error_11:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97401 = 0; chunk_i_97401 < num_chunks_97313; chunk_i_97401++) {\n            int32_t i_97402;\n            int64_t slice_97403;\n            int64_t slice_97404;\n            int64_t rep_i_97399;\n            int64_t remnant_97405;\n            int64_t rep_i_97400;\n            int64_t remnant_97406;\n            \n            i_97402 = chunk_i_97401 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97403 = num_blocks_68233;\n            slice_97404 = merge_block_sizze_68035 * slice_97403;\n            rep_i_97399 = squot64(sext_i32_i64(i_97402), slice_97403);\n            remnant_97405 = sext_i32_i64(i_97402) - rep_i_97399 * slice_97403;\n            rep_i_97400 = remnant_97405;\n            remnant_97406 = remnant_97405 ",
                                    "- rep_i_97400;\n            if ((sle64((int64_t) 0, rep_i_97399) && slt64(rep_i_97399, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97400) && slt64(rep_i_97400, num_blocks_68233))) {\n                int64_t tmp_97407 = ((__local int64_t *) color_95453)[rep_i_97400];\n                \n                ((__local int64_t *) color_95454)[rep_i_97399 * num_blocks_68233 + rep_i_97400] = tmp_97407;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97411 = 0; chunk_i_97411 < num_chunks_97313; chunk_i_97411++) {\n            int32_t i_97412;\n            int64_t slice_97413;\n            int64_t slice_97414;\n            int64_t rep_i_97409;\n            int64_t remnant_97415;\n            int64_t rep_i_97410;\n            int64_t remnant_97416;\n            \n            i_97412 = chunk_i_97411 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97413 = num_blocks_68233;\n            slice_97414 = merge_block_sizze_68035 * slice_97413;\n            rep_i_97409 = squot64(sext_i32_i64(i_97412), slice_97413);\n            remnant_97415 = sext_i32_i64(i_97412) - rep_i_97409 * slice_97413;\n            rep_i_97410 = remnant_97415;\n            remnant_97416 = remnant_97415 - rep_i_97410;\n            if ((sle64((int64_t) 0, rep_i_97409) && slt64(rep_i_97409, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97410) && slt64(rep_i_97410, num_blocks_68233))) {\n                double tmp_97417 = ((__local double *) color_95452)[rep_i_97410];\n                \n                ((__local double *) color_95453)[rep_i_97409 * num_blocks_68233 + rep_i_97410] = tmp_97417;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97421 = 0; chunk_i_97421 < num_chunks_97313; chunk_i_97421++) {\n            int32_t i_97422;\n            int64_t slice_97423;\n            int64_t slice_97424;\n            int64_t rep_i_97419;\n            int64_t remnant_97425;\n            int64_t rep_i_97420;\n        ", "    int64_t remnant_97426;\n            \n            i_97422 = chunk_i_97421 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97423 = num_blocks_68233;\n            slice_97424 = merge_block_sizze_68035 * slice_97423;\n            rep_i_97419 = squot64(sext_i32_i64(i_97422), slice_97423);\n            remnant_97425 = sext_i32_i64(i_97422) - rep_i_97419 * slice_97423;\n            rep_i_97420 = remnant_97425;\n            remnant_97426 = remnant_97425 - rep_i_97420;\n            if ((sle64((int64_t) 0, rep_i_97419) && slt64(rep_i_97419, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97420) && slt64(rep_i_97420, num_blocks_68233))) {\n                int64_t tmp_97427 = ((__local int64_t *) color_95451)[rep_i_97420];\n                \n                ((__local int64_t *) color_95452)[rep_i_97419 * num_blocks_68233 + rep_i_97420] = tmp_97427;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97432 = 0; chunk_i_97432 < num_chunks_97312; chunk_i_97432++) {\n            int32_t i_97433;\n            int64_t slice_97434;\n            int64_t slice_97435;\n            int64_t slice_97436;\n            int64_t rep_i_97429;\n            int64_t remnant_97437;\n            int64_t rep_i_97430;\n            int64_t remnant_97438;\n            int64_t rep_i_97431;\n            int64_t remnant_97439;\n            \n            i_97433 = chunk_i_97432 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n            slice_97434 = num_blocks_68233;\n            slice_97435 = dim_48135 * slice_97434;\n            slice_97436 = merge_block_sizze_68035 * slice_97435;\n            rep_i_97429 = squot64(sext_i32_i64(i_97433), slice_97435);\n            remnant_97437 = sext_i32_i64(i_97433) - rep_i_97429 * slice_97435;\n            rep_i_97430 = squot64(remnant_97437, slice_97434);\n            remnant_97438 = remnant_97437 - rep_i_97430 * slice_97434;\n            rep_i_97431 = remnant_97438;\n            remnant_97439 = remna", "nt_97438 - rep_i_97431;\n            if (((sle64((int64_t) 0, rep_i_97429) && slt64(rep_i_97429, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97430) && slt64(rep_i_97430, dim_48135))) && (sle64((int64_t) 0, rep_i_97431) && slt64(rep_i_97431, num_blocks_68233))) {\n                double tmp_97440 = ((__local double *) color_95461)[rep_i_97430 + rep_i_97431 * dim_48135];\n                \n                ((__local double *) color_95451)[rep_i_97429 * (num_blocks_68233 * dim_48135) + rep_i_97430 * num_blocks_68233 + rep_i_97431] = tmp_97440;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_84505 = sext_i32_i64(local_tid_97320);\n        gtid_84504 = sext_i32_i64(sext_i64_i32(ltid_pre_97348));\n        if (slt64(gtid_84504, num_blocks_68233)) {\n            int64_t defunc_0_f_res_84506;\n            int64_t merge_sequential_arg2_84507;\n            int64_t j_m_i_84508;\n            bool index_certs_84509;\n            int64_t j_m_i_84510;\n            bool index_certs_84511;\n            int64_t data_84516;\n            int64_t i_84522;\n            \n            defunc_0_f_res_84506 = ((__local int64_t *) color_95460)[gtid_84504];\n            merge_sequential_arg2_84507 = ((__local int64_t *) color_95459)[gtid_84504];\n            j_m_i_84508 = ((__local int64_t *) color_95458)[gtid_84504];\n            index_certs_84509 = 0;\n            j_m_i_84510 = ((__local int64_t *) color_95456)[gtid_84504];\n            index_certs_84511 = 0;\n            i_84522 = (int64_t) 0;\n            for (int64_t k_84521 = 0; k_84521 < merge_block_sizze_68035; k_84521++) {\n                int64_t j_84527;\n                bool cond_84528;\n                bool x_94977;\n                bool cond_84530;\n                bool x_84532;\n                bool y_84533;\n                bool bounds_check_84534;\n                bool loop_not_taken_94965;\n                bool protect_assert_disj_94966;\n                bool protect_assert_disj_94980;\n                bool index_certs_",
                                    "84535;\n                int64_t slice_84536;\n                int64_t slice_84537;\n                bool protect_cond_conj_94981;\n                int64_t leq_arg1_84538;\n                double leq_arg1_84539;\n                bool x_84540;\n                bool bounds_check_84541;\n                bool protect_assert_disj_94972;\n                bool protect_assert_disj_94984;\n                bool index_certs_84542;\n                int64_t slice_84543;\n                int64_t slice_84544;\n                int64_t leq_arg0_84545;\n                double leq_arg0_84546;\n                bool cond_84547;\n                bool cond_84548;\n                bool lifted_lambda_res_f_res_t_res_84549;\n                bool x_84550;\n                bool x_84551;\n                bool y_84552;\n                bool lifted_lambda_res_84553;\n                bool x_95080;\n                bool cond_84529;\n                bool protect_assert_disj_94745;\n                bool index_certs_84573;\n                bool loop_not_taken_94740;\n                bool protect_assert_disj_94741;\n                bool index_certs_84563;\n                int64_t binop_y_92185;\n                int64_t binop_y_92187;\n                int64_t ext_92189;\n                int64_t loopres_84554;\n                int64_t loopres_84555;\n                double loopres_84556;\n                int64_t loopres_84558;\n                int64_t i_tmp_97441;\n                \n                j_84527 = sub64(k_84521, i_84522);\n                cond_84528 = j_84527 == j_m_i_84508;\n                x_94977 = !cond_84528;\n                cond_84530 = slt64(i_84522, j_m_i_84510);\n                x_84532 = sle64((int64_t) 0, j_84527);\n                y_84533 = slt64(j_84527, j_m_i_84508);\n                bounds_check_84534 = x_84532 && y_84533;\n                loop_not_taken_94965 = !cond_84530;\n                protect_assert_disj_94966 = bounds_check_84534 || loop_not_taken_94965;\n                protect_assert_disj_94980 = cond_84528 || prot", "ect_assert_disj_94966;\n                if (!protect_assert_disj_94980) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 130) == -1) {\n                            global_failure_args[0] = (int64_t) j_84527;\n                            global_failure_args[1] = (int64_t) j_m_i_84508;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                slice_84536 = merge_sequential_arg2_84507 + j_84527;\n                slice_84537 = start_84194 + slice_84536;\n                protect_cond_conj_94981 = cond_84530 && x_94977;\n                if (protect_cond_conj_94981) {\n                    int64_t x_94967 = ((__global int64_t *) mem_param_91508)[slice_84537];\n                    \n                    leq_arg1_84538 = x_94967;\n                } else {\n                    leq_arg1_84538 = (int64_t) 0;\n                }\n                if (protect_cond_conj_94981) {\n                    double x_94969 = ((__global double *) mem_param_91511)[slice_84537];\n                    \n                    leq_arg1_84539 = x_94969;\n                } else {\n                    leq_arg1_84539 = 0.0;\n                }\n                x_84540 = sle64((int64_t) 0, i_84522);\n                bounds_check_84541 = cond_84530 && x_84540;\n                protect_assert_disj_94972 = bounds_check_84541 || loop_not_taken_94965;\n                protect_assert_disj_94984 = cond_84528 || protect_assert_disj_94972;\n                if (!protect_assert_disj_94984) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 131) == -1) {\n                            global_failure_args[0] = (int64_t) i_84522;\n                            global_failure_args[1] = (int64_t) j_m_i_84510;\n                            ;\n                        }\n                        local_failure = 1;\n                   ", "     goto error_12;\n                    }\n                }\n                slice_84543 = defunc_0_f_res_84506 + i_84522;\n                slice_84544 = start_84194 + slice_84543;\n                if (protect_cond_conj_94981) {\n                    int64_t x_94973 = ((__global int64_t *) mem_param_91508)[slice_84544];\n                    \n                    leq_arg0_84545 = x_94973;\n                } else {\n                    leq_arg0_84545 = (int64_t) 0;\n                }\n                if (protect_cond_conj_94981) {\n                    double x_94975 = ((__global double *) mem_param_91511)[slice_84544];\n                    \n                    leq_arg0_84546 = x_94975;\n                } else {\n                    leq_arg0_84546 = 0.0;\n                }\n                cond_84547 = slt64(leq_arg0_84545, leq_arg1_84538);\n                cond_84548 = leq_arg0_84545 == leq_arg1_84538;\n                lifted_lambda_res_f_res_t_res_84549 = leq_arg0_84546 <= leq_arg1_84539;\n                x_84550 = cond_84548 && lifted_lambda_res_f_res_t_res_84549;\n                x_84551 = !cond_84547;\n                y_84552 = x_84550 && x_84551;\n                lifted_lambda_res_84553 = cond_84547 || y_84552;\n                x_95080 = cond_84530 && lifted_lambda_res_84553;\n                cond_84529 = cond_84528 || x_95080;\n                protect_assert_disj_94745 = cond_84529 || bounds_check_84534;\n                if (!protect_assert_disj_94745) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 132) == -1) {\n                            global_failure_args[0] = (int64_t) j_84527;\n                            global_failure_args[1] = (int64_t) j_m_i_84508;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                loop_not_taken_94740 = !cond_84529;\n                protect_assert_disj_94741 = bounds_check",
                                    "_84541 || loop_not_taken_94740;\n                if (!protect_assert_disj_94741) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 133) == -1) {\n                            global_failure_args[0] = (int64_t) i_84522;\n                            global_failure_args[1] = (int64_t) j_m_i_84510;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                binop_y_92185 = dim_48135 * slice_84537;\n                binop_y_92187 = dim_48135 * slice_84544;\n                if (cond_84529) {\n                    ext_92189 = binop_y_92187;\n                } else {\n                    ext_92189 = binop_y_92185;\n                }\n                if (cond_84529) {\n                    int64_t tmp_84559;\n                    int64_t tmp_84566;\n                    double tmp_84567;\n                    int64_t tmp_84569;\n                    \n                    tmp_84559 = add64((int64_t) 1, i_84522);\n                    tmp_84566 = ((__global int64_t *) mem_param_91508)[slice_84544];\n                    tmp_84567 = ((__global double *) mem_param_91511)[slice_84544];\n                    tmp_84569 = ((__global int64_t *) mem_param_91518)[slice_84544];\n                    loopres_84554 = tmp_84559;\n                    loopres_84555 = tmp_84566;\n                    loopres_84556 = tmp_84567;\n                    loopres_84558 = tmp_84569;\n                } else {\n                    int64_t tmp_84576;\n                    double tmp_84577;\n                    int64_t tmp_84579;\n                    \n                    tmp_84576 = ((__global int64_t *) mem_param_91508)[slice_84537];\n                    tmp_84577 = ((__global double *) mem_param_91511)[slice_84537];\n                    tmp_84579 = ((__global int64_t *) mem_param_91518)[slice_84537];\n                    loopres_84554 = i_84522;\n                    loo", "pres_84555 = tmp_84576;\n                    loopres_84556 = tmp_84577;\n                    loopres_84558 = tmp_84579;\n                }\n                ((__local int64_t *) color_95454)[gtid_84504 + k_84521 * num_blocks_68233] = loopres_84555;\n                ((__local double *) color_95453)[gtid_84504 + k_84521 * num_blocks_68233] = loopres_84556;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__local double *) color_95451)[gtid_84504 + k_84521 * lmad_arg_91880 + i_0 * num_blocks_68233] = ((__global double *) mem_param_91515)[ext_92189 + i_0];\n                }\n                ((__local int64_t *) color_95452)[gtid_84504 + k_84521 * num_blocks_68233] = loopres_84558;\n                i_tmp_97441 = loopres_84554;\n                i_84522 = i_tmp_97441;\n            }\n            data_84516 = i_84522;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                ((__local int64_t *) color_95450)[gtid_84504 * merge_block_sizze_68035 + i_0] = ((__local int64_t *) color_95454)[gtid_84504 + i_0 * num_blocks_68233];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                ((__local double *) color_95449)[gtid_84504 * merge_block_sizze_68035 + i_0] = ((__local double *) color_95453)[gtid_84504 + i_0 * num_blocks_68233];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                    ((__local double *) color_95448)[gtid_84504 * (dim_48135 * merge_block_sizze_68035) + (i_0 * dim_48135 + i_1)] = ((__local double *) color_95451)[gtid_84504 + (i_0 * lmad_arg_91880 + i_1 * num_blocks_68233)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n                ((__local int64_t *) color_95447)[gtid_84504 * merge_block_sizze_68035 + i_0] = ((__local int64_t *) color_95452)[gtid_84504 + i_0 * num_blocks_68233];\n ", "           }\n        }\n        \n      error_12:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        ext_mem_92273 = color_95450;\n        ext_mem_92270 = color_95449;\n        ext_mem_92267 = color_95448;\n        ext_mem_92263 = color_95447;\n    }\n    num_chunks_97446 = sdiv_up32(sext_i64_i32(next_stride_68213), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97447 = 0; chunk_i_97447 < num_chunks_97446; chunk_i_97447++) {\n        int32_t i_97448 = chunk_i_97447 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n        \n        if (slt32(i_97448, sext_i64_i32(next_stride_68213))) {\n            ((__global int64_t *) mem_92276)[gtid_84191 * next_stride_68213 + sext_i32_i64(i_97448)] = ((__local int64_t *) ext_mem_92273)[sext_i32_i64(i_97448)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97449 = sdiv_up32(sext_i64_i32(next_stride_68213), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97450 = 0; chunk_i_97450 < num_chunks_97449; chunk_i_97450++) {\n        int32_t i_97451 = chunk_i_97450 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n        \n        if (slt32(i_97451, sext_i64_i32(next_stride_68213))) {\n            ((__global double *) mem_92279)[gtid_84191 * next_stride_68213 + sext_i32_i64(i_97451)] = ((__local double *) ext_mem_92270)[sext_i32_i64(i_97451)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97452 = sdiv_up32(sext_i64_i32(next_stride_68213) * sext_i64_i32(dim_48135), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97453 = 0; chunk_i_97453 < num_chunks_97452; chunk_i_97453++) {\n        int32_t i_97454 = chunk_i_97453 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n        \n        if (slt32(i_97454, sext_i64_i32(next_stride_68213) * sext_i64_i32(dim_48135))) {\n            ((__global double *) mem_92283)[gtid_84191 * (dim_48135 * next_st",
                                    "ride_68213) + sext_i32_i64(squot32(i_97454, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_97454 - squot32(i_97454, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))] = ((__local double *) ext_mem_92267)[sext_i32_i64(squot32(i_97454, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_97454 - squot32(i_97454, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97455 = sdiv_up32(sext_i64_i32(next_stride_68213), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97456 = 0; chunk_i_97456 < num_chunks_97455; chunk_i_97456++) {\n        int32_t i_97457 = chunk_i_97456 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97320;\n        \n        if (slt32(i_97457, sext_i64_i32(next_stride_68213))) {\n            ((__global int64_t *) mem_92286)[gtid_84191 * next_stride_68213 + sext_i32_i64(i_97457)] = ((__local int64_t *) ext_mem_92263)[sext_i32_i64(i_97457)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_13:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_87361(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t merge_block_sizze_68035, int64_t stride_68212, int64_t next_stride_68213, int64_t num_merges_68217, int64_t num_blocks_68233, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, int64_t j_m_i_68235, int64_t computed_tblock_sizze_83896, int64_t bytes_91835, int64_t bytes_91855, int64_t lmad_arg_91880, int64_t maxSubHelper_95463, int64_t maxSubHelper_95464, int64_t maxSubHelper_95465, int64_t maxSubHelper_95466, int64_t maxSubHelper_95467, int64_t maxSubHelper_95468, int32_t num_chunks_97627, int32_t num_chunks_97628, __global unsigned char *mem_param_91508, __global unsigned char *mem_param_91511, __global unsigned char *mem_param_91515, __global unsigned char *mem_param_91518, __global unsigned char *mem_91520, __global unsigned char *mem_91521, __glo", "bal unsigned char *mem_91914, __global unsigned char *mem_91917, __global unsigned char *mem_91921, __global unsigned char *mem_91924)\n{\n    volatile __local unsigned char *color_95482_backing_13 = &shared_mem[0];\n    const int64_t color_95482_backing_13_offset = 0 + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95481_backing_12 = &shared_mem[color_95482_backing_13_offset];\n    const int64_t color_95481_backing_12_offset = color_95482_backing_13_offset + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95480_backing_11 = &shared_mem[color_95481_backing_12_offset];\n    const int64_t color_95480_backing_11_offset = color_95481_backing_12_offset + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95479_backing_10 = &shared_mem[color_95480_backing_11_offset];\n    const int64_t color_95479_backing_10_offset = color_95480_backing_11_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95478_backing_9 = &shared_mem[color_95479_backing_10_offset];\n    const int64_t color_95478_backing_9_offset = color_95479_backing_10_offset + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95477_backing_8 = &shared_mem[color_95478_backing_9_offset];\n    const int64_t color_95477_backing_8_offset = color_95478_backing_9_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95476_backing_7 = &shared_mem[color_95477_backing_8_offset];\n    const int64_t color_95476_backing_7_offset = color_95477_backing_8_offset + (bytes_91855 + srem64((int64_t) 8 - srem64(bytes_91855, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95475_backing_6 = &shared_mem[color_95476_backing_7_offset];\n    const int64_t color_95475_backing_6_offset = color_95476_backi", "ng_7_offset + (bytes_91855 + srem64((int64_t) 8 - srem64(bytes_91855, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95474_backing_5 = &shared_mem[color_95475_backing_6_offset];\n    const int64_t color_95474_backing_5_offset = color_95475_backing_6_offset + (maxSubHelper_95468 + srem64((int64_t) 8 - srem64(maxSubHelper_95468, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95473_backing_4 = &shared_mem[color_95474_backing_5_offset];\n    const int64_t color_95473_backing_4_offset = color_95474_backing_5_offset + (maxSubHelper_95467 + srem64((int64_t) 8 - srem64(maxSubHelper_95467, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95472_backing_3 = &shared_mem[color_95473_backing_4_offset];\n    const int64_t color_95472_backing_3_offset = color_95473_backing_4_offset + (maxSubHelper_95466 + srem64((int64_t) 8 - srem64(maxSubHelper_95466, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95471_backing_2 = &shared_mem[color_95472_backing_3_offset];\n    const int64_t color_95471_backing_2_offset = color_95472_backing_3_offset + (maxSubHelper_95465 + srem64((int64_t) 8 - srem64(maxSubHelper_95465, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95470_backing_1 = &shared_mem[color_95471_backing_2_offset];\n    const int64_t color_95470_backing_1_offset = color_95471_backing_2_offset + (maxSubHelper_95464 + srem64((int64_t) 8 - srem64(maxSubHelper_95464, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95469_backing_0 = &shared_mem[color_95470_backing_1_offset];\n    const int64_t color_95469_backing_0_offset = color_95470_backing_1_offset + (maxSubHelper_95463 + srem64((int64_t) 8 - srem64(maxSubHelper_95463, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97633;\n    int32_t tblock_sizze_97636;\n    int32_t wave_sizze_97635",
                                    ";\n    int32_t block_id_97634;\n    int32_t global_tid_97632;\n    int64_t phys_tblock_id_87361;\n    int64_t slice_97640;\n    int64_t slice_97641;\n    int64_t slice_97642;\n    int64_t ltid_pre_97637;\n    int64_t remnant_97643;\n    int64_t ltid_pre_97638;\n    int64_t remnant_97644;\n    int64_t ltid_pre_97639;\n    int64_t remnant_97645;\n    int64_t slice_97648;\n    int64_t slice_97649;\n    int64_t ltid_pre_97646;\n    int64_t remnant_97650;\n    int64_t ltid_pre_97647;\n    int64_t remnant_97651;\n    int64_t slice_97653;\n    int64_t ltid_pre_97652;\n    int64_t remnant_97654;\n    int64_t slice_97656;\n    int64_t ltid_pre_97655;\n    int64_t remnant_97657;\n    int64_t slice_97658;\n    int64_t gtid_87360;\n    int64_t remnant_97659;\n    __local unsigned char *color_95469;\n    __local unsigned char *color_95470;\n    __local unsigned char *color_95471;\n    __local unsigned char *color_95472;\n    __local unsigned char *color_95473;\n    __local unsigned char *color_95474;\n    __local unsigned char *color_95475;\n    __local unsigned char *color_95476;\n    __local unsigned char *color_95477;\n    __local unsigned char *color_95478;\n    __local unsigned char *color_95479;\n    __local unsigned char *color_95480;\n    __local unsigned char *color_95481;\n    __local unsigned char *color_95482;\n    int64_t index_primexp_90418;\n    bool index_certs_87363;\n    bool index_certs_87364;\n    int64_t phys_tid_87368;\n    int64_t gtid_87367;\n    int64_t phys_tid_87490;\n    int64_t gtid_87489;\n    int64_t phys_tid_87568;\n    int64_t gtid_87567;\n    int32_t num_chunks_97714;\n    int32_t num_chunks_97717;\n    int32_t num_chunks_97720;\n    int32_t num_chunks_97723;\n    \n    local_tid_97633 = get_local_id(0);\n    tblock_sizze_97636 = get_local_size(0);\n    wave_sizze_97635 = LOCKSTEP_WIDTH;\n    block_id_97634 = get_tblock_id(0);\n    global_tid_97632 = block_id_97634 * tblock_sizze_97636 + local_tid_97633;\n    phys_tblock_id_87361 = sext_i32_i64(block_id_97634);\n    slice_97640 = num_blocks_68233;\n    slic", "e_97641 = dim_48135 * slice_97640;\n    slice_97642 = merge_block_sizze_68035 * slice_97641;\n    ltid_pre_97637 = squot64(sext_i32_i64(local_tid_97633), slice_97641);\n    remnant_97643 = sext_i32_i64(local_tid_97633) - ltid_pre_97637 * slice_97641;\n    ltid_pre_97638 = squot64(remnant_97643, slice_97640);\n    remnant_97644 = remnant_97643 - ltid_pre_97638 * slice_97640;\n    ltid_pre_97639 = remnant_97644;\n    remnant_97645 = remnant_97644 - ltid_pre_97639;\n    slice_97648 = num_blocks_68233;\n    slice_97649 = merge_block_sizze_68035 * slice_97648;\n    ltid_pre_97646 = squot64(sext_i32_i64(local_tid_97633), slice_97648);\n    remnant_97650 = sext_i32_i64(local_tid_97633) - ltid_pre_97646 * slice_97648;\n    ltid_pre_97647 = remnant_97650;\n    remnant_97651 = remnant_97650 - ltid_pre_97647;\n    slice_97653 = num_blocks_68233;\n    ltid_pre_97652 = sext_i32_i64(local_tid_97633);\n    remnant_97654 = sext_i32_i64(local_tid_97633) - ltid_pre_97652;\n    slice_97656 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n    ltid_pre_97655 = sext_i32_i64(local_tid_97633);\n    remnant_97657 = sext_i32_i64(local_tid_97633) - ltid_pre_97655;\n    slice_97658 = num_merges_68217;\n    gtid_87360 = sext_i32_i64(block_id_97634);\n    remnant_97659 = sext_i32_i64(block_id_97634) - gtid_87360;\n    color_95469 = (__local unsigned char *) color_95469_backing_0;\n    color_95470 = (__local unsigned char *) color_95470_backing_1;\n    color_95471 = (__local unsigned char *) color_95471_backing_2;\n    color_95472 = (__local unsigned char *) color_95472_backing_3;\n    color_95473 = (__local unsigned char *) color_95473_backing_4;\n    color_95474 = (__local unsigned char *) color_95474_backing_5;\n    color_95475 = (__local unsigned char *) color_95475_backing_6;\n    color_95476 = (__local unsigned char *) color_95476_backing_7;\n    color_95477 = (__local unsigned char *) color_95477_backing_8;\n    color_95478 = (__local unsigned char *) color_95478_backing_9;\n    color_95479 = (__local unsigned char *) col", "or_95479_backing_10;\n    color_95480 = (__local unsigned char *) color_95480_backing_11;\n    color_95481 = (__local unsigned char *) color_95481_backing_12;\n    color_95482 = (__local unsigned char *) color_95482_backing_13;\n    index_primexp_90418 = mul64(next_stride_68213, gtid_87360);\n    index_certs_87363 = 0;\n    index_certs_87364 = 0;\n    phys_tid_87368 = sext_i32_i64(local_tid_97633);\n    gtid_87367 = sext_i32_i64(sext_i64_i32(ltid_pre_97655));\n    if (slt64(gtid_87367, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234)) {\n        int64_t split_count_arg3_87370;\n        int64_t defunc_0_split_count_res_87371;\n        int64_t defunc_0_split_count_res_87372;\n        int64_t defunc_0_split_count_res_87373;\n        int64_t defunc_0_split_count_res_87374;\n        int64_t defunc_0_split_count_res_87375;\n        bool loop_cond_87376;\n        bool defunc_0_split_count_res_87377;\n        int64_t defunc_0_split_count_res_87378;\n        int64_t defunc_0_split_count_res_87379;\n        int64_t defunc_0_split_count_res_87380;\n        int64_t defunc_0_split_count_res_87381;\n        int64_t defunc_0_split_count_res_87382;\n        bool loop_while_87383;\n        int64_t ss_87384;\n        int64_t ss_87385;\n        int64_t tt_87386;\n        int64_t tt_87387;\n        int64_t count_87388;\n        \n        split_count_arg3_87370 = mul64(merge_block_sizze_68035, gtid_87367);\n        futrts_lifted_normalizze_10027(&defunc_0_split_count_res_87371, &defunc_0_split_count_res_87372, &defunc_0_split_count_res_87373, &defunc_0_split_count_res_87374, &defunc_0_split_count_res_87375, (int64_t) 0, stride_68212, (int64_t) 0, j_m_i_68235, split_count_arg3_87370);\n        loop_cond_87376 = slt64((int64_t) 0, defunc_0_split_count_res_87375);\n        loop_while_87383 = loop_cond_87376;\n        ss_87384 = defunc_0_split_count_res_87371;\n        ss_87385 = defunc_0_split_count_res_87372;\n        tt_87386 = defunc_0_split_count_res_87373;\n        tt_87387 = defunc_0_split_count_res_87374;\n        count_87",
                                    "388 = defunc_0_split_count_res_87375;\n        while (loop_while_87383) {\n            int64_t zlze_lhs_87389;\n            bool cond_87390;\n            int64_t defunc_0_lifted_step_res_87391;\n            int64_t defunc_0_lifted_step_res_87392;\n            int64_t defunc_0_lifted_step_res_87393;\n            int64_t defunc_0_lifted_step_res_87394;\n            int64_t loopres_87473;\n            int64_t loopres_87474;\n            int64_t loopres_87475;\n            int64_t loopres_87476;\n            int64_t loopres_87477;\n            bool loop_cond_87478;\n            bool loop_while_tmp_97660;\n            int64_t ss_tmp_97661;\n            int64_t ss_tmp_97662;\n            int64_t tt_tmp_97663;\n            int64_t tt_tmp_97664;\n            int64_t count_tmp_97665;\n            \n            zlze_lhs_87389 = sub64(ss_87385, ss_87384);\n            cond_87390 = sle64(zlze_lhs_87389, (int64_t) 0);\n            if (cond_87390) {\n                int64_t tmp_87395 = add64(tt_87386, count_87388);\n                \n                defunc_0_lifted_step_res_87391 = ss_87384;\n                defunc_0_lifted_step_res_87392 = tmp_87395;\n                defunc_0_lifted_step_res_87393 = tt_87387;\n                defunc_0_lifted_step_res_87394 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_87396;\n                bool cond_87397;\n                int64_t defunc_0_lifted_step_res_f_res_87398;\n                int64_t defunc_0_lifted_step_res_f_res_87399;\n                int64_t defunc_0_lifted_step_res_f_res_87400;\n                int64_t defunc_0_lifted_step_res_f_res_87401;\n                \n                zlze_lhs_87396 = sub64(tt_87387, tt_87386);\n                cond_87397 = sle64(zlze_lhs_87396, (int64_t) 0);\n                if (cond_87397) {\n                    int64_t tmp_87402 = add64(ss_87384, count_87388);\n                    \n                    defunc_0_lifted_step_res_f_res_87398 = tmp_87402;\n                    defunc_0_lifted_step_res_f_res_87399 = tt_87386;\n  ", "                  defunc_0_lifted_step_res_f_res_87400 = tt_87387;\n                    defunc_0_lifted_step_res_f_res_87401 = (int64_t) 0;\n                } else {\n                    bool cond_87403;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87404;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87405;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87406;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_87407;\n                    \n                    cond_87403 = count_87388 == (int64_t) 1;\n                    if (cond_87403) {\n                        bool x_87408;\n                        bool y_87409;\n                        bool bounds_check_87410;\n                        bool index_certs_87411;\n                        bool x_87415;\n                        bool y_87416;\n                        bool bounds_check_87417;\n                        bool index_certs_87418;\n                        int64_t slice_87412;\n                        int64_t leq_arg1_87413;\n                        double leq_arg1_87414;\n                        int64_t slice_87419;\n                        int64_t slice_87420;\n                        int64_t leq_arg0_87421;\n                        double leq_arg0_87422;\n                        bool cond_87423;\n                        bool cond_87424;\n                        bool lifted_lambda_res_f_res_t_res_87425;\n                        bool x_87426;\n                        bool x_87427;\n                        bool y_87428;\n                        bool lifted_lambda_res_87429;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_87430;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_87431;\n                        \n                        x_87408 = sle64((int64_t) 0, ss_87384);\n                        y_87409 = slt64(ss_87384, stride_68212);\n                        bounds_check_87410 = x_87408 && y_87409;\n                     ", "   if (!bounds_check_87410) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 140) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_87384;\n                                    global_failure_args[1] = (int64_t) stride_68212;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        x_87415 = sle64((int64_t) 0, tt_87386);\n                        y_87416 = slt64(tt_87386, j_m_i_68235);\n                        bounds_check_87417 = x_87415 && y_87416;\n                        if (!bounds_check_87417) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 141) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_87386;\n                                    global_failure_args[1] = (int64_t) j_m_i_68235;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        slice_87412 = ss_87384 + index_primexp_90418;\n                        leq_arg1_87413 = ((__global int64_t *) mem_param_91508)[slice_87412];\n                        leq_arg1_87414 = ((__global double *) mem_param_91511)[slice_87412];\n                        slice_87419 = stride_68212 + tt_87386;\n                        slice_87420 = slice_87419 + index_primexp_90418;\n                        leq_arg0_87421 = ((__global int64_t *) mem_param_91508)[slice_87420];\n                        leq_arg0_87422 = ((__global double *) mem_param_91511)[slice_87420];\n                        cond_87423 = slt64(leq_arg0_87421, leq_arg1_87413);\n                        cond_87424 = ",
                                    "leq_arg0_87421 == leq_arg1_87413;\n                        lifted_lambda_res_f_res_t_res_87425 = leq_arg0_87422 <= leq_arg1_87414;\n                        x_87426 = cond_87424 && lifted_lambda_res_f_res_t_res_87425;\n                        x_87427 = !cond_87423;\n                        y_87428 = x_87426 && x_87427;\n                        lifted_lambda_res_87429 = cond_87423 || y_87428;\n                        if (lifted_lambda_res_87429) {\n                            int64_t tmp_87432 = add64((int64_t) 1, tt_87386);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87430 = ss_87384;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87431 = tmp_87432;\n                        } else {\n                            int64_t tmp_87433 = add64((int64_t) 1, ss_87384);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87430 = tmp_87433;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_87431 = tt_87386;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_87404 = defunc_0_lifted_step_res_f_res_f_res_t_res_87430;\n                        defunc_0_lifted_step_res_f_res_f_res_87405 = defunc_0_lifted_step_res_f_res_f_res_t_res_87431;\n                        defunc_0_lifted_step_res_f_res_f_res_87406 = tt_87387;\n                        defunc_0_lifted_step_res_f_res_f_res_87407 = (int64_t) 0;\n                    } else {\n                        int64_t m_87434;\n                        int64_t n_87435;\n                        bool cond_87436;\n                        int64_t zgze_lhs_87437;\n                        bool cond_f_res_87438;\n                        bool x_87439;\n                        bool y_87440;\n                        bool cond_87441;\n                        bool leq_y_x_87442;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_87467;\n                        int64_t defu", "nc_0_lifted_step_res_f_res_f_res_f_res_87468;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_87469;\n                        \n                        m_87434 = sdiv64(count_87388, (int64_t) 2);\n                        n_87435 = sub64(count_87388, m_87434);\n                        cond_87436 = n_87435 == (int64_t) 0;\n                        zgze_lhs_87437 = add64(ss_87384, m_87434);\n                        cond_f_res_87438 = sle64(ss_87385, zgze_lhs_87437);\n                        x_87439 = !cond_87436;\n                        y_87440 = cond_f_res_87438 && x_87439;\n                        cond_87441 = cond_87436 || y_87440;\n                        if (cond_87441) {\n                            leq_y_x_87442 = 1;\n                        } else {\n                            bool x_87443;\n                            bool y_87444;\n                            bool bounds_check_87445;\n                            bool index_certs_87446;\n                            int64_t zm_lhs_87450;\n                            int64_t leq_arg0_87451;\n                            bool x_87452;\n                            bool y_87453;\n                            bool bounds_check_87454;\n                            bool index_certs_87455;\n                            int64_t slice_87447;\n                            int64_t leq_arg1_87448;\n                            double leq_arg1_87449;\n                            int64_t slice_87456;\n                            int64_t slice_87457;\n                            int64_t leq_arg0_87458;\n                            double leq_arg0_87459;\n                            bool cond_87460;\n                            bool cond_87461;\n                            bool lifted_lambda_res_f_res_t_res_87462;\n                            bool x_87463;\n                            bool x_87464;\n                            bool y_87465;\n                            bool lifted_lambda_res_87466;\n                            \n              ", "              x_87443 = sle64((int64_t) 0, zgze_lhs_87437);\n                            y_87444 = slt64(zgze_lhs_87437, stride_68212);\n                            bounds_check_87445 = x_87443 && y_87444;\n                            if (!bounds_check_87445) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 142) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_87437;\n                                        global_failure_args[1] = (int64_t) stride_68212;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            zm_lhs_87450 = add64(tt_87386, n_87435);\n                            leq_arg0_87451 = sub64(zm_lhs_87450, (int64_t) 1);\n                            x_87452 = sle64((int64_t) 0, leq_arg0_87451);\n                            y_87453 = slt64(leq_arg0_87451, j_m_i_68235);\n                            bounds_check_87454 = x_87452 && y_87453;\n                            if (!bounds_check_87454) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 143) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_87451;\n                                        global_failure_args[1] = (int64_t) j_m_i_68235;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            slice_87447 = zgze_lhs_87437 + index_primexp_90418;\n                            leq_arg1_87448 = ((__global int64_t *) mem_param_91508)[slice_87447];\n                  ",
                                    "          leq_arg1_87449 = ((__global double *) mem_param_91511)[slice_87447];\n                            slice_87456 = stride_68212 + leq_arg0_87451;\n                            slice_87457 = slice_87456 + index_primexp_90418;\n                            leq_arg0_87458 = ((__global int64_t *) mem_param_91508)[slice_87457];\n                            leq_arg0_87459 = ((__global double *) mem_param_91511)[slice_87457];\n                            cond_87460 = slt64(leq_arg0_87458, leq_arg1_87448);\n                            cond_87461 = leq_arg0_87458 == leq_arg1_87448;\n                            lifted_lambda_res_f_res_t_res_87462 = leq_arg0_87459 <= leq_arg1_87449;\n                            x_87463 = cond_87461 && lifted_lambda_res_f_res_t_res_87462;\n                            x_87464 = !cond_87460;\n                            y_87465 = x_87463 && x_87464;\n                            lifted_lambda_res_87466 = cond_87460 || y_87465;\n                            leq_y_x_87442 = lifted_lambda_res_87466;\n                        }\n                        if (leq_y_x_87442) {\n                            int64_t tmp_87470;\n                            int64_t tmp_87471;\n                            \n                            tmp_87470 = add64(tt_87386, n_87435);\n                            tmp_87471 = sub64(count_87388, n_87435);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87467 = tmp_87470;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87468 = tt_87387;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87469 = tmp_87471;\n                        } else {\n                            int64_t tmp_87472 = add64(tt_87386, n_87435);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87467 = tt_87386;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_87468 = tmp_87472;\n                            defunc_0_lifted_step_res_f_res_f_res", "_f_res_87469 = count_87388;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_87404 = ss_87384;\n                        defunc_0_lifted_step_res_f_res_f_res_87405 = defunc_0_lifted_step_res_f_res_f_res_f_res_87467;\n                        defunc_0_lifted_step_res_f_res_f_res_87406 = defunc_0_lifted_step_res_f_res_f_res_f_res_87468;\n                        defunc_0_lifted_step_res_f_res_f_res_87407 = defunc_0_lifted_step_res_f_res_f_res_f_res_87469;\n                    }\n                    defunc_0_lifted_step_res_f_res_87398 = defunc_0_lifted_step_res_f_res_f_res_87404;\n                    defunc_0_lifted_step_res_f_res_87399 = defunc_0_lifted_step_res_f_res_f_res_87405;\n                    defunc_0_lifted_step_res_f_res_87400 = defunc_0_lifted_step_res_f_res_f_res_87406;\n                    defunc_0_lifted_step_res_f_res_87401 = defunc_0_lifted_step_res_f_res_f_res_87407;\n                }\n                defunc_0_lifted_step_res_87391 = defunc_0_lifted_step_res_f_res_87398;\n                defunc_0_lifted_step_res_87392 = defunc_0_lifted_step_res_f_res_87399;\n                defunc_0_lifted_step_res_87393 = defunc_0_lifted_step_res_f_res_87400;\n                defunc_0_lifted_step_res_87394 = defunc_0_lifted_step_res_f_res_87401;\n            }\n            futrts_lifted_normalizze_10027(&loopres_87473, &loopres_87474, &loopres_87475, &loopres_87476, &loopres_87477, defunc_0_lifted_step_res_87391, ss_87385, defunc_0_lifted_step_res_87392, defunc_0_lifted_step_res_87393, defunc_0_lifted_step_res_87394);\n            loop_cond_87478 = slt64((int64_t) 0, loopres_87477);\n            loop_while_tmp_97660 = loop_cond_87478;\n            ss_tmp_97661 = loopres_87473;\n            ss_tmp_97662 = loopres_87474;\n            tt_tmp_97663 = loopres_87475;\n            tt_tmp_97664 = loopres_87476;\n            count_tmp_97665 = loopres_87477;\n            loop_while_87383 = loop_while_tmp_97660;\n            ss_87384 = ss_tmp_97661;\n            ss", "_87385 = ss_tmp_97662;\n            tt_87386 = tt_tmp_97663;\n            tt_87387 = tt_tmp_97664;\n            count_87388 = count_tmp_97665;\n        }\n        defunc_0_split_count_res_87377 = loop_while_87383;\n        defunc_0_split_count_res_87378 = ss_87384;\n        defunc_0_split_count_res_87379 = ss_87385;\n        defunc_0_split_count_res_87380 = tt_87386;\n        defunc_0_split_count_res_87381 = tt_87387;\n        defunc_0_split_count_res_87382 = count_87388;\n        ((__local int64_t *) color_95474)[gtid_87367] = defunc_0_split_count_res_87378;\n        ((__local int64_t *) color_95473)[gtid_87367] = defunc_0_split_count_res_87380;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_87490 = sext_i32_i64(local_tid_97633);\n    gtid_87489 = sext_i32_i64(sext_i64_i32(ltid_pre_97652));\n    if (slt64(gtid_87489, num_blocks_68233)) {\n        bool y_87493;\n        bool index_certs_87495;\n        int64_t defunc_0_f_res_87496;\n        int64_t defunc_0_f_res_87497;\n        int64_t tmp_87498;\n        bool x_87499;\n        bool y_87500;\n        bool bounds_check_87501;\n        bool index_certs_87502;\n        int64_t defunc_0_f_res_87503;\n        int64_t defunc_0_f_res_87504;\n        int64_t merge_sequential_arg2_87505;\n        int64_t merge_sequential_arg2_87506;\n        int64_t j_m_i_87507;\n        bool empty_slice_87508;\n        int64_t m_87509;\n        int64_t i_p_m_t_s_87510;\n        bool zzero_leq_i_p_m_t_s_87511;\n        bool i_p_m_t_s_leq_w_87512;\n        bool zzero_lte_i_87513;\n        bool i_lte_j_87514;\n        bool y_87515;\n        bool y_87516;\n        bool forwards_ok_87517;\n        bool ok_or_empty_87518;\n        bool index_certs_87519;\n        int64_t j_m_i_87520;\n        bool empty_slice_87521;\n        int64_t m_87522;\n        int64_t i_p_m_t_s_87523;\n        bool zzero_leq_i_p_m_t_s_87524;\n        bool i_p_m_t_s_leq_w_87525;\n        bool zzero_lte_i_87526;\n        bool i",
                                    "_lte_j_87527;\n        bool y_87528;\n        bool y_87529;\n        bool forwards_ok_87530;\n        bool ok_or_empty_87531;\n        bool index_certs_87532;\n        bool cond_87533;\n        bool y_87544;\n        bool protect_assert_disj_94799;\n        bool index_certs_87545;\n        int64_t slice_87546;\n        int64_t binop_y_91830;\n        int64_t slice_87539;\n        int64_t binop_y_91832;\n        int64_t ext_91834;\n        int64_t dummy_87534;\n        double dummy_87535;\n        int64_t dummy_87537;\n        \n        y_87493 = slt64(gtid_87489, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);\n        if (!y_87493) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 144) == -1) {\n                    global_failure_args[0] = (int64_t) gtid_87489;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_87496 = ((__local int64_t *) color_95474)[gtid_87489];\n        defunc_0_f_res_87497 = ((__local int64_t *) color_95473)[gtid_87489];\n        tmp_87498 = add64((int64_t) 1, gtid_87489);\n        x_87499 = sle64((int64_t) 0, tmp_87498);\n        y_87500 = slt64(tmp_87498, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);\n        bounds_check_87501 = x_87499 && y_87500;\n        if (!bounds_check_87501) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 145) == -1) {\n                    global_failure_args[0] = (int64_t) tmp_87498;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_87503 = ((__local int64_t *) color_95474)[tmp_87498];\n        defunc_0_f_res_87504 = ((__local int64_t *) color_95473)[tmp_87498];\n        merge_sequen", "tial_arg2_87505 = add64(stride_68212, defunc_0_f_res_87497);\n        merge_sequential_arg2_87506 = add64(stride_68212, defunc_0_f_res_87504);\n        j_m_i_87507 = sub64(merge_sequential_arg2_87506, merge_sequential_arg2_87505);\n        empty_slice_87508 = j_m_i_87507 == (int64_t) 0;\n        m_87509 = sub64(j_m_i_87507, (int64_t) 1);\n        i_p_m_t_s_87510 = add64(merge_sequential_arg2_87505, m_87509);\n        zzero_leq_i_p_m_t_s_87511 = sle64((int64_t) 0, i_p_m_t_s_87510);\n        i_p_m_t_s_leq_w_87512 = slt64(i_p_m_t_s_87510, next_stride_68213);\n        zzero_lte_i_87513 = sle64((int64_t) 0, merge_sequential_arg2_87505);\n        i_lte_j_87514 = sle64(merge_sequential_arg2_87505, merge_sequential_arg2_87506);\n        y_87515 = i_p_m_t_s_leq_w_87512 && zzero_lte_i_87513;\n        y_87516 = zzero_leq_i_p_m_t_s_87511 && y_87515;\n        forwards_ok_87517 = i_lte_j_87514 && y_87516;\n        ok_or_empty_87518 = empty_slice_87508 || forwards_ok_87517;\n        if (!ok_or_empty_87518) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 146) == -1) {\n                    global_failure_args[0] = (int64_t) merge_sequential_arg2_87505;\n                    global_failure_args[1] = (int64_t) merge_sequential_arg2_87506;\n                    global_failure_args[2] = (int64_t) next_stride_68213;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        j_m_i_87520 = sub64(defunc_0_f_res_87503, defunc_0_f_res_87496);\n        empty_slice_87521 = j_m_i_87520 == (int64_t) 0;\n        m_87522 = sub64(j_m_i_87520, (int64_t) 1);\n        i_p_m_t_s_87523 = add64(defunc_0_f_res_87496, m_87522);\n        zzero_leq_i_p_m_t_s_87524 = sle64((int64_t) 0, i_p_m_t_s_87523);\n        i_p_m_t_s_leq_w_87525 = slt64(i_p_m_t_s_87523, next_stride_68213);\n        zzero_lte_i_87526 = sle64((int64_t) 0, defunc_0_f_res_87496);\n        i_lte_j_87527 = sle64(defunc_0_f_res_87496, defunc_0_f_res_87503);\n   ", "     y_87528 = i_p_m_t_s_leq_w_87525 && zzero_lte_i_87526;\n        y_87529 = zzero_leq_i_p_m_t_s_87524 && y_87528;\n        forwards_ok_87530 = i_lte_j_87527 && y_87529;\n        ok_or_empty_87531 = empty_slice_87521 || forwards_ok_87530;\n        if (!ok_or_empty_87531) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 147) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_f_res_87496;\n                    global_failure_args[1] = (int64_t) defunc_0_f_res_87503;\n                    global_failure_args[2] = (int64_t) next_stride_68213;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        cond_87533 = slt64((int64_t) 0, j_m_i_87520);\n        y_87544 = slt64((int64_t) 0, j_m_i_87507);\n        protect_assert_disj_94799 = cond_87533 || y_87544;\n        if (!protect_assert_disj_94799) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 148) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) j_m_i_87507;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        slice_87546 = merge_sequential_arg2_87505 + index_primexp_90418;\n        binop_y_91830 = dim_48135 * slice_87546;\n        slice_87539 = defunc_0_f_res_87496 + index_primexp_90418;\n        binop_y_91832 = dim_48135 * slice_87539;\n        if (cond_87533) {\n            ext_91834 = binop_y_91832;\n        } else {\n            ext_91834 = binop_y_91830;\n        }\n        if (cond_87533) {\n            int64_t head_res_87540;\n            double head_res_87541;\n            int64_t head_res_87543;\n            \n            head_res_87540 = ((__global int64_t *) mem_param_91508)[slice_87539];\n            head_res_87541 = ((__global double *) mem_param_91511)[slice_87539];\n            head_res_87543 = ((__glo",
                                    "bal int64_t *) mem_param_91518)[slice_87539];\n            dummy_87534 = head_res_87540;\n            dummy_87535 = head_res_87541;\n            dummy_87537 = head_res_87543;\n        } else {\n            int64_t head_res_87547;\n            double head_res_87548;\n            int64_t head_res_87550;\n            \n            head_res_87547 = ((__global int64_t *) mem_param_91508)[slice_87546];\n            head_res_87548 = ((__global double *) mem_param_91511)[slice_87546];\n            head_res_87550 = ((__global int64_t *) mem_param_91518)[slice_87546];\n            dummy_87534 = head_res_87547;\n            dummy_87535 = head_res_87548;\n            dummy_87537 = head_res_87550;\n        }\n        ((__local int64_t *) color_95472)[gtid_87489] = dummy_87534;\n        ((__local double *) color_95471)[gtid_87489] = dummy_87535;\n        ((__local int64_t *) color_95470)[gtid_87489] = dummy_87537;\n        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n            ((__local double *) color_95469)[gtid_87489 * dim_48135 + i_0] = ((__global double *) mem_param_91515)[ext_91834 + i_0];\n        }\n        ((__local int64_t *) color_95482)[gtid_87489] = defunc_0_f_res_87496;\n        ((__local int64_t *) color_95481)[gtid_87489] = merge_sequential_arg2_87505;\n        ((__local int64_t *) color_95480)[gtid_87489] = j_m_i_87507;\n        ((__local int64_t *) color_95478)[gtid_87489] = j_m_i_87520;\n    }\n    \n  error_1:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97669 = 0; chunk_i_97669 < num_chunks_97628; chunk_i_97669++) {\n        int32_t i_97670;\n        int64_t slice_97671;\n        int64_t slice_97672;\n        int64_t rep_i_97667;\n        int64_t remnant_97673;\n        int64_t rep_i_97668;\n        int64_t remnant_97674;\n        \n        i_97670 = chunk_i_97669 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        slice_97671 = num_blocks_68233;\n        slice_97672 = merge_block_sizze", "_68035 * slice_97671;\n        rep_i_97667 = squot64(sext_i32_i64(i_97670), slice_97671);\n        remnant_97673 = sext_i32_i64(i_97670) - rep_i_97667 * slice_97671;\n        rep_i_97668 = remnant_97673;\n        remnant_97674 = remnant_97673 - rep_i_97668;\n        if ((sle64((int64_t) 0, rep_i_97667) && slt64(rep_i_97667, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97668) && slt64(rep_i_97668, num_blocks_68233))) {\n            int64_t tmp_97675 = ((__local int64_t *) color_95472)[rep_i_97668];\n            \n            ((__local int64_t *) color_95476)[rep_i_97667 * num_blocks_68233 + rep_i_97668] = tmp_97675;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97679 = 0; chunk_i_97679 < num_chunks_97628; chunk_i_97679++) {\n        int32_t i_97680;\n        int64_t slice_97681;\n        int64_t slice_97682;\n        int64_t rep_i_97677;\n        int64_t remnant_97683;\n        int64_t rep_i_97678;\n        int64_t remnant_97684;\n        \n        i_97680 = chunk_i_97679 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        slice_97681 = num_blocks_68233;\n        slice_97682 = merge_block_sizze_68035 * slice_97681;\n        rep_i_97677 = squot64(sext_i32_i64(i_97680), slice_97681);\n        remnant_97683 = sext_i32_i64(i_97680) - rep_i_97677 * slice_97681;\n        rep_i_97678 = remnant_97683;\n        remnant_97684 = remnant_97683 - rep_i_97678;\n        if ((sle64((int64_t) 0, rep_i_97677) && slt64(rep_i_97677, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97678) && slt64(rep_i_97678, num_blocks_68233))) {\n            double tmp_97685 = ((__local double *) color_95471)[rep_i_97678];\n            \n            ((__local double *) color_95475)[rep_i_97677 * num_blocks_68233 + rep_i_97678] = tmp_97685;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97689 = 0; chunk_i_97689 < num_chunks_97628; chunk_i_97689++) {\n        int32_t i_97690;\n        int64_t slice_97691;\n        int64_t slice_97692;\n      ", "  int64_t rep_i_97687;\n        int64_t remnant_97693;\n        int64_t rep_i_97688;\n        int64_t remnant_97694;\n        \n        i_97690 = chunk_i_97689 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        slice_97691 = num_blocks_68233;\n        slice_97692 = merge_block_sizze_68035 * slice_97691;\n        rep_i_97687 = squot64(sext_i32_i64(i_97690), slice_97691);\n        remnant_97693 = sext_i32_i64(i_97690) - rep_i_97687 * slice_97691;\n        rep_i_97688 = remnant_97693;\n        remnant_97694 = remnant_97693 - rep_i_97688;\n        if ((sle64((int64_t) 0, rep_i_97687) && slt64(rep_i_97687, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97688) && slt64(rep_i_97688, num_blocks_68233))) {\n            int64_t tmp_97695 = ((__local int64_t *) color_95470)[rep_i_97688];\n            \n            ((__local int64_t *) color_95474)[rep_i_97687 * num_blocks_68233 + rep_i_97688] = tmp_97695;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97700 = 0; chunk_i_97700 < num_chunks_97627; chunk_i_97700++) {\n        int32_t i_97701;\n        int64_t slice_97702;\n        int64_t slice_97703;\n        int64_t slice_97704;\n        int64_t rep_i_97697;\n        int64_t remnant_97705;\n        int64_t rep_i_97698;\n        int64_t remnant_97706;\n        int64_t rep_i_97699;\n        int64_t remnant_97707;\n        \n        i_97701 = chunk_i_97700 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        slice_97702 = num_blocks_68233;\n        slice_97703 = dim_48135 * slice_97702;\n        slice_97704 = merge_block_sizze_68035 * slice_97703;\n        rep_i_97697 = squot64(sext_i32_i64(i_97701), slice_97703);\n        remnant_97705 = sext_i32_i64(i_97701) - rep_i_97697 * slice_97703;\n        rep_i_97698 = squot64(remnant_97705, slice_97702);\n        remnant_97706 = remnant_97705 - rep_i_97698 * slice_97702;\n        rep_i_97699 = remnant_97706;\n        remnant_97707 = remnant_97706 - rep_i_97699;\n        if (((sle64((int64_t) 0, rep_",
                                    "i_97697) && slt64(rep_i_97697, merge_block_sizze_68035)) && (sle64((int64_t) 0, rep_i_97698) && slt64(rep_i_97698, dim_48135))) && (sle64((int64_t) 0, rep_i_97699) && slt64(rep_i_97699, num_blocks_68233))) {\n            double tmp_97708 = ((__local double *) color_95469)[rep_i_97698 + rep_i_97699 * dim_48135];\n            \n            ((__local double *) color_95473)[rep_i_97697 * (num_blocks_68233 * dim_48135) + rep_i_97698 * num_blocks_68233 + rep_i_97699] = tmp_97708;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_87568 = sext_i32_i64(local_tid_97633);\n    gtid_87567 = sext_i32_i64(sext_i64_i32(ltid_pre_97652));\n    if (slt64(gtid_87567, num_blocks_68233)) {\n        int64_t defunc_0_f_res_87569;\n        int64_t merge_sequential_arg2_87570;\n        int64_t j_m_i_87571;\n        bool index_certs_87572;\n        int64_t j_m_i_87573;\n        bool index_certs_87574;\n        int64_t data_87579;\n        int64_t i_87585;\n        \n        defunc_0_f_res_87569 = ((__local int64_t *) color_95482)[gtid_87567];\n        merge_sequential_arg2_87570 = ((__local int64_t *) color_95481)[gtid_87567];\n        j_m_i_87571 = ((__local int64_t *) color_95480)[gtid_87567];\n        index_certs_87572 = 0;\n        j_m_i_87573 = ((__local int64_t *) color_95478)[gtid_87567];\n        index_certs_87574 = 0;\n        i_87585 = (int64_t) 0;\n        for (int64_t k_87584 = 0; k_87584 < merge_block_sizze_68035; k_87584++) {\n            int64_t j_87590;\n            bool cond_87591;\n            bool x_95025;\n            bool cond_87593;\n            bool x_87595;\n            bool y_87596;\n            bool bounds_check_87597;\n            bool loop_not_taken_95013;\n            bool protect_assert_disj_95014;\n            bool protect_assert_disj_95028;\n            bool index_certs_87598;\n            int64_t slice_87599;\n            int64_t slice_87600;\n            bool protect_cond_conj_95029;\n            int64_t leq_arg1_87601;\n            double leq_arg1_87602;\n            bool x_87603;\n ", "           bool bounds_check_87604;\n            bool protect_assert_disj_95020;\n            bool protect_assert_disj_95032;\n            bool index_certs_87605;\n            int64_t slice_87606;\n            int64_t slice_87607;\n            int64_t leq_arg0_87608;\n            double leq_arg0_87609;\n            bool cond_87610;\n            bool cond_87611;\n            bool lifted_lambda_res_f_res_t_res_87612;\n            bool x_87613;\n            bool x_87614;\n            bool y_87615;\n            bool lifted_lambda_res_87616;\n            bool x_95086;\n            bool cond_87592;\n            bool protect_assert_disj_94791;\n            bool index_certs_87636;\n            bool loop_not_taken_94786;\n            bool protect_assert_disj_94787;\n            bool index_certs_87626;\n            int64_t binop_y_91881;\n            int64_t binop_y_91883;\n            int64_t ext_91885;\n            int64_t loopres_87617;\n            int64_t loopres_87618;\n            double loopres_87619;\n            int64_t loopres_87621;\n            int64_t i_tmp_97709;\n            \n            j_87590 = sub64(k_87584, i_87585);\n            cond_87591 = j_87590 == j_m_i_87571;\n            x_95025 = !cond_87591;\n            cond_87593 = slt64(i_87585, j_m_i_87573);\n            x_87595 = sle64((int64_t) 0, j_87590);\n            y_87596 = slt64(j_87590, j_m_i_87571);\n            bounds_check_87597 = x_87595 && y_87596;\n            loop_not_taken_95013 = !cond_87593;\n            protect_assert_disj_95014 = bounds_check_87597 || loop_not_taken_95013;\n            protect_assert_disj_95028 = cond_87591 || protect_assert_disj_95014;\n            if (!protect_assert_disj_95028) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 149) == -1) {\n                        global_failure_args[0] = (int64_t) j_87590;\n                        global_failure_args[1] = (int64_t) j_m_i_87571;\n                        ;\n                    }\n                    local_failure = 1;\n   ", "                 goto error_2;\n                }\n            }\n            slice_87599 = merge_sequential_arg2_87570 + j_87590;\n            slice_87600 = slice_87599 + index_primexp_90418;\n            protect_cond_conj_95029 = cond_87593 && x_95025;\n            if (protect_cond_conj_95029) {\n                int64_t x_95015 = ((__global int64_t *) mem_param_91508)[slice_87600];\n                \n                leq_arg1_87601 = x_95015;\n            } else {\n                leq_arg1_87601 = (int64_t) 0;\n            }\n            if (protect_cond_conj_95029) {\n                double x_95017 = ((__global double *) mem_param_91511)[slice_87600];\n                \n                leq_arg1_87602 = x_95017;\n            } else {\n                leq_arg1_87602 = 0.0;\n            }\n            x_87603 = sle64((int64_t) 0, i_87585);\n            bounds_check_87604 = cond_87593 && x_87603;\n            protect_assert_disj_95020 = bounds_check_87604 || loop_not_taken_95013;\n            protect_assert_disj_95032 = cond_87591 || protect_assert_disj_95020;\n            if (!protect_assert_disj_95032) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 150) == -1) {\n                        global_failure_args[0] = (int64_t) i_87585;\n                        global_failure_args[1] = (int64_t) j_m_i_87573;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_87606 = defunc_0_f_res_87569 + i_87585;\n            slice_87607 = slice_87606 + index_primexp_90418;\n            if (protect_cond_conj_95029) {\n                int64_t x_95021 = ((__global int64_t *) mem_param_91508)[slice_87607];\n                \n                leq_arg0_87608 = x_95021;\n            } else {\n                leq_arg0_87608 = (int64_t) 0;\n            }\n            if (protect_cond_conj_95029) {\n                double x_95023 = ((__global double *) mem_param_91511)[slic",
                                    "e_87607];\n                \n                leq_arg0_87609 = x_95023;\n            } else {\n                leq_arg0_87609 = 0.0;\n            }\n            cond_87610 = slt64(leq_arg0_87608, leq_arg1_87601);\n            cond_87611 = leq_arg0_87608 == leq_arg1_87601;\n            lifted_lambda_res_f_res_t_res_87612 = leq_arg0_87609 <= leq_arg1_87602;\n            x_87613 = cond_87611 && lifted_lambda_res_f_res_t_res_87612;\n            x_87614 = !cond_87610;\n            y_87615 = x_87613 && x_87614;\n            lifted_lambda_res_87616 = cond_87610 || y_87615;\n            x_95086 = cond_87593 && lifted_lambda_res_87616;\n            cond_87592 = cond_87591 || x_95086;\n            protect_assert_disj_94791 = cond_87592 || bounds_check_87597;\n            if (!protect_assert_disj_94791) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 151) == -1) {\n                        global_failure_args[0] = (int64_t) j_87590;\n                        global_failure_args[1] = (int64_t) j_m_i_87571;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            loop_not_taken_94786 = !cond_87592;\n            protect_assert_disj_94787 = bounds_check_87604 || loop_not_taken_94786;\n            if (!protect_assert_disj_94787) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 152) == -1) {\n                        global_failure_args[0] = (int64_t) i_87585;\n                        global_failure_args[1] = (int64_t) j_m_i_87573;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            binop_y_91881 = dim_48135 * slice_87600;\n            binop_y_91883 = dim_48135 * slice_87607;\n            if (cond_87592) {\n                ext_91885 = binop_y_91883;\n            } else {\n                ext_91885 = binop_y_91881;\n", "            }\n            if (cond_87592) {\n                int64_t tmp_87622;\n                int64_t tmp_87629;\n                double tmp_87630;\n                int64_t tmp_87632;\n                \n                tmp_87622 = add64((int64_t) 1, i_87585);\n                tmp_87629 = ((__global int64_t *) mem_param_91508)[slice_87607];\n                tmp_87630 = ((__global double *) mem_param_91511)[slice_87607];\n                tmp_87632 = ((__global int64_t *) mem_param_91518)[slice_87607];\n                loopres_87617 = tmp_87622;\n                loopres_87618 = tmp_87629;\n                loopres_87619 = tmp_87630;\n                loopres_87621 = tmp_87632;\n            } else {\n                int64_t tmp_87639;\n                double tmp_87640;\n                int64_t tmp_87642;\n                \n                tmp_87639 = ((__global int64_t *) mem_param_91508)[slice_87600];\n                tmp_87640 = ((__global double *) mem_param_91511)[slice_87600];\n                tmp_87642 = ((__global int64_t *) mem_param_91518)[slice_87600];\n                loopres_87617 = i_87585;\n                loopres_87618 = tmp_87639;\n                loopres_87619 = tmp_87640;\n                loopres_87621 = tmp_87642;\n            }\n            ((__local int64_t *) color_95476)[gtid_87567 + k_87584 * num_blocks_68233] = loopres_87618;\n            ((__local double *) color_95475)[gtid_87567 + k_87584 * num_blocks_68233] = loopres_87619;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__local double *) color_95473)[gtid_87567 + k_87584 * lmad_arg_91880 + i_0 * num_blocks_68233] = ((__global double *) mem_param_91515)[ext_91885 + i_0];\n            }\n            ((__local int64_t *) color_95474)[gtid_87567 + k_87584 * num_blocks_68233] = loopres_87621;\n            i_tmp_97709 = loopres_87617;\n            i_87585 = i_tmp_97709;\n        }\n        data_87579 = i_87585;\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n            ((__loc", "al int64_t *) color_95472)[gtid_87567 * merge_block_sizze_68035 + i_0] = ((__local int64_t *) color_95476)[gtid_87567 + i_0 * num_blocks_68233];\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n            ((__local double *) color_95471)[gtid_87567 * merge_block_sizze_68035 + i_0] = ((__local double *) color_95475)[gtid_87567 + i_0 * num_blocks_68233];\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n            for (int64_t i_1 = 0; i_1 < dim_48135; i_1++) {\n                ((__local double *) color_95470)[gtid_87567 * (dim_48135 * merge_block_sizze_68035) + (i_0 * dim_48135 + i_1)] = ((__local double *) color_95473)[gtid_87567 + (i_0 * lmad_arg_91880 + i_1 * num_blocks_68233)];\n            }\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_68035; i_0++) {\n            ((__local int64_t *) color_95469)[gtid_87567 * merge_block_sizze_68035 + i_0] = ((__local int64_t *) color_95474)[gtid_87567 + i_0 * num_blocks_68233];\n        }\n    }\n    \n  error_2:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97714 = sdiv_up32(sext_i64_i32(next_stride_68213), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97715 = 0; chunk_i_97715 < num_chunks_97714; chunk_i_97715++) {\n        int32_t i_97716 = chunk_i_97715 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        \n        if (slt32(i_97716, sext_i64_i32(next_stride_68213))) {\n            ((__global int64_t *) mem_91914)[gtid_87360 * next_stride_68213 + sext_i32_i64(i_97716)] = ((__local int64_t *) color_95472)[sext_i32_i64(i_97716)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97717 = sdiv_up32(sext_i64_i32(next_stride_68213), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97718 = 0; chunk_i_97718 < num_chunks_97717; chunk_i_97718++) {\n        int32_t i_97719 = chunk_i_97718 * sext_i64_i32(computed_tbl",
                                    "ock_sizze_83896) + local_tid_97633;\n        \n        if (slt32(i_97719, sext_i64_i32(next_stride_68213))) {\n            ((__global double *) mem_91917)[gtid_87360 * next_stride_68213 + sext_i32_i64(i_97719)] = ((__local double *) color_95471)[sext_i32_i64(i_97719)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97720 = sdiv_up32(sext_i64_i32(next_stride_68213) * sext_i64_i32(dim_48135), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97721 = 0; chunk_i_97721 < num_chunks_97720; chunk_i_97721++) {\n        int32_t i_97722 = chunk_i_97721 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        \n        if (slt32(i_97722, sext_i64_i32(next_stride_68213) * sext_i64_i32(dim_48135))) {\n            ((__global double *) mem_91921)[gtid_87360 * (dim_48135 * next_stride_68213) + sext_i32_i64(squot32(i_97722, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_97722 - squot32(i_97722, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))] = ((__local double *) color_95470)[sext_i32_i64(squot32(i_97722, sext_i64_i32(dim_48135))) * dim_48135 + sext_i32_i64(i_97722 - squot32(i_97722, sext_i64_i32(dim_48135)) * sext_i64_i32(dim_48135))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97723 = sdiv_up32(sext_i64_i32(next_stride_68213), sext_i64_i32(computed_tblock_sizze_83896));\n    for (int32_t chunk_i_97724 = 0; chunk_i_97724 < num_chunks_97723; chunk_i_97724++) {\n        int32_t i_97725 = chunk_i_97724 * sext_i64_i32(computed_tblock_sizze_83896) + local_tid_97633;\n        \n        if (slt32(i_97725, sext_i64_i32(next_stride_68213))) {\n            ((__global int64_t *) mem_91924)[gtid_87360 * next_stride_68213 + sext_i32_i64(i_97725)] = ((__local int64_t *) color_95469)[sext_i32_i64(i_97725)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_89519(__global int *global_failure, int failure_is_an_option, __global int64", "_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t total_grid_no_48146, int64_t arg_67058, unsigned char cond_67069_bits, int64_t min_arg1_90508, int64_t binop_x_90867, int64_t maxSubHelper_95502, __global unsigned char *grid_part_prefix_sum_mem_90815, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_90833, __global unsigned char *ext_mem_93624, __global unsigned char *mem_94032)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95509_backing_6 = &shared_mem[0];\n    const int64_t color_95509_backing_6_offset = 0 + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95508_backing_5 = &shared_mem[color_95509_backing_6_offset];\n    const int64_t color_95508_backing_5_offset = color_95509_backing_6_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95507_backing_4 = &shared_mem[color_95508_backing_5_offset];\n    const int64_t color_95507_backing_4_offset = color_95508_backing_5_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95506_backing_3 = &shared_mem[color_95507_backing_4_offset];\n    const int64_t color_95506_backing_3_offset = color_95507_backing_4_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95505_backing_2 = &shared_mem[color_95506_backing_3_offset];\n    const int64_t color_95505_backing_2_offset = color_95506_backing_3_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95504_backing_1 = &shared_mem[color_95505_backing_2_offset];\n    const int64_t color_95504_backing_1_offset = color_95505_backing_", "2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95503_backing_0 = &shared_mem[color_95504_backing_1_offset];\n    const int64_t color_95503_backing_0_offset = color_95504_backing_1_offset + (maxSubHelper_95502 + srem64((int64_t) 8 - srem64(maxSubHelper_95502, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98231;\n    int32_t tblock_sizze_98234;\n    int32_t wave_sizze_98233;\n    int32_t block_id_98232;\n    int32_t global_tid_98230;\n    int64_t phys_tblock_id_89519;\n    int64_t slice_98236;\n    int64_t ltid_pre_98235;\n    int64_t remnant_98237;\n    int64_t slice_98238;\n    int64_t gtid_89518;\n    int64_t remnant_98239;\n    __local unsigned char *color_95503;\n    __local unsigned char *color_95504;\n    __local unsigned char *color_95505;\n    __local unsigned char *color_95506;\n    __local unsigned char *color_95507;\n    __local unsigned char *color_95508;\n    __local unsigned char *color_95509;\n    __local unsigned char *ext_mem_94028;\n    int64_t phys_tid_89587;\n    int64_t gtid_89586;\n    int64_t eta_p_89588;\n    int64_t eta_p_89589;\n    int64_t defunc_0_f_res_89590;\n    int64_t defunc_0_foldl_res_89591;\n    int64_t acc_89593;\n    bool x_89596;\n    bool y_89597;\n    bool bounds_check_89598;\n    bool index_certs_89599;\n    bool tmp_89600;\n    bool defunc_0_p_res_89601;\n    int64_t defunc_0_f_res_89602;\n    \n    local_tid_98231 = get_local_id(0);\n    tblock_sizze_98234 = get_local_size(0);\n    wave_sizze_98233 = LOCKSTEP_WIDTH;\n    block_id_98232 = get_tblock_id(0);\n    global_tid_98230 = block_id_98232 * tblock_sizze_98234 + local_tid_98231;\n    phys_tblock_id_89519 = sext_i32_i64(block_id_98232);\n    slice_98236 = dim_48135;\n    ltid_pre_98",
                                    "235 = sext_i32_i64(local_tid_98231);\n    remnant_98237 = sext_i32_i64(local_tid_98231) - ltid_pre_98235;\n    slice_98238 = n_48138;\n    gtid_89518 = sext_i32_i64(block_id_98232);\n    remnant_98239 = sext_i32_i64(block_id_98232) - gtid_89518;\n    color_95503 = (__local unsigned char *) color_95503_backing_0;\n    color_95504 = (__local unsigned char *) color_95504_backing_1;\n    color_95505 = (__local unsigned char *) color_95505_backing_2;\n    color_95506 = (__local unsigned char *) color_95506_backing_3;\n    color_95507 = (__local unsigned char *) color_95507_backing_4;\n    color_95508 = (__local unsigned char *) color_95508_backing_5;\n    color_95509 = (__local unsigned char *) color_95509_backing_6;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_94028 = color_95504;\n    } else {\n        __local unsigned char *ext_mem_94015;\n        int64_t f_arg0_89568;\n        int64_t min_res_89569;\n        int64_t rep_i_98247;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_67069) {\n            ext_mem_94015 = color_95503;\n        } else {\n            int64_t phys_tid_89528;\n            int64_t gtid_89527;\n            double eta_p_89529;\n            double eta_p_89530;\n            double defunc_0_f_res_89531;\n            int64_t phys_tid_89534;\n            int64_t gtid_89533;\n            double eta_p_89535;\n            double eta_p_89536;\n            double defunc_0_f_res_89537;\n            __local unsigned char *ext_mem_94002;\n            int64_t f_arg0_89554;\n            int64_t max_res_89555;\n            int64_t rep_i_98244;\n            \n            phys_tid_89528 = sext_i32_i64(local_tid_98231);\n            gtid_89527 = sext_i32_i64(sext_i64_i32(ltid_pre_98235));\n            eta_p_89529 = ((__global double *) ext_mem_93624)[gtid_89518 * dim_48135 + gtid_89527];\n            eta_p_89530 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_89527];\n            defunc_0_f_res_89531 = eta_p_89529 - eta_p_89530;\n            ((__loc", "al double *) color_95509)[gtid_89527] = defunc_0_f_res_89531;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            phys_tid_89534 = sext_i32_i64(local_tid_98231);\n            gtid_89533 = sext_i32_i64(sext_i64_i32(ltid_pre_98235));\n            eta_p_89535 = ((__local double *) color_95509)[gtid_89533];\n            eta_p_89536 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_89533];\n            defunc_0_f_res_89537 = eta_p_89535 / eta_p_89536;\n            ((__local double *) color_95509)[gtid_89533] = defunc_0_f_res_89537;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_67069) {\n                ext_mem_94002 = color_95507;\n            } else {\n                double f_arg0_89540;\n                int64_t f64_res_89541;\n                int64_t rep_i_98241;\n                \n                f_arg0_89540 = ((__local double *) color_95509)[(int64_t) 0];\n                f64_res_89541 = fptosi_f64_i64(f_arg0_89540);\n                rep_i_98241 = sext_i32_i64(sext_i64_i32(ltid_pre_98235));\n                ((__local int64_t *) color_95508)[rep_i_98241] = f64_res_89541;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                for (int64_t i_89544 = 0; i_89544 < arg_67058; i_89544++) {\n                    int64_t index_primexp_89546;\n                    bool x_89547;\n                    bool y_89548;\n                    bool bounds_check_89549;\n                    bool index_certs_89550;\n                    double f_arg0_89551;\n                    int64_t f64_res_89552;\n                    \n                    index_primexp_89546 = add64((int64_t) 1, i_89544);\n                    x_89547 = sle64((int64_t) 0, index_primexp_89546);\n                    y_89548 = slt64(index_primexp_89546, dim_48135);\n                    bounds_check_89549 = x_89547 && y_89548;\n                    if (!bounds_check_89549) {\n                        {\n                            i", "f (atomic_cmpxchg_i32_global(global_failure, -1, 175) == -1) {\n                                global_failure_args[0] = (int64_t) index_primexp_89546;\n                                global_failure_args[1] = (int64_t) dim_48135;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_6;\n                        }\n                    }\n                    f_arg0_89551 = ((__local double *) color_95509)[index_primexp_89546];\n                    f64_res_89552 = fptosi_f64_i64(f_arg0_89551);\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    if (local_tid_98231 == 0) {\n                        ((__local int64_t *) color_95508)[index_primexp_89546] = f64_res_89552;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                ext_mem_94002 = color_95508;\n            }\n            f_arg0_89554 = ((__local int64_t *) ext_mem_94002)[(int64_t) 0];\n            max_res_89555 = smax64((int64_t) 0, f_arg0_89554);\n            rep_i_98244 = sext_i32_i64(sext_i64_i32(ltid_pre_98235));\n            ((__local int64_t *) color_95506)[rep_i_98244] = max_res_89555;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_89558 = 0; i_89558 < arg_67058; i_89558++) {\n                int64_t index_primexp_89560;\n                bool x_89561;\n                bool y_89562;\n                bool bounds_check_89563;\n                bool index_certs_89564;\n                int64_t f_arg0_89565;\n                int64_t max_res_89566;\n                \n                index_primexp_89560 = add64((int64_t) 1, i_89558);\n                x_89561 = sle64((int64_t) 0, index_primexp_89560);\n                y_89562 = slt64(index_primexp_89560, dim_48135);\n                bound",
                                    "s_check_89563 = x_89561 && y_89562;\n                if (!bounds_check_89563) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 176) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_89560;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_7;\n                    }\n                }\n                f_arg0_89565 = ((__local int64_t *) ext_mem_94002)[index_primexp_89560];\n                max_res_89566 = smax64((int64_t) 0, f_arg0_89565);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_98231 == 0) {\n                    ((__local int64_t *) color_95506)[index_primexp_89560] = max_res_89566;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_94015 = color_95506;\n        }\n        f_arg0_89568 = ((__local int64_t *) ext_mem_94015)[(int64_t) 0];\n        min_res_89569 = smin64(f_arg0_89568, min_arg1_90508);\n        rep_i_98247 = sext_i32_i64(sext_i64_i32(ltid_pre_98235));\n        ((__local int64_t *) color_95505)[rep_i_98247] = min_res_89569;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_7:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_89572 = 0; i_89572 < arg_67058; i_89572++) {\n            int64_t index_primexp_89574;\n            bool x_89575;\n            bool y_89576;\n            bool bounds_check_89577;\n            bool index_certs_89578;\n            bool index_certs_89580;\n            int64_t f_arg0_89579;\n            int64_t zm_lhs_89581;\n            int64_t min_arg1_89582;\n            int64_t min_res_89583;\n            \n            index_primexp_89574 = add64((int64_t) 1, i_89572);\n            x_89575 = sle64((int64_t) 0, index_primexp_89574);\n   ", "         y_89576 = slt64(index_primexp_89574, dim_48135);\n            bounds_check_89577 = x_89575 && y_89576;\n            if (!bounds_check_89577) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 177) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_89574;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            if (!bounds_check_89577) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 178) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_89574;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            f_arg0_89579 = ((__local int64_t *) ext_mem_94015)[index_primexp_89574];\n            zm_lhs_89581 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_89574];\n            min_arg1_89582 = sub64(zm_lhs_89581, (int64_t) 1);\n            min_res_89583 = smin64(f_arg0_89579, min_arg1_89582);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98231 == 0) {\n                ((__local int64_t *) color_95505)[index_primexp_89574] = min_res_89583;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_94028 = color_95505;\n    }\n    phys_tid_89587 = sext_i32_i64(local_tid_98231);\n    gtid_89586 = sext_i32_i64(sext_i64_i32(ltid_pre_98235));\n    eta_p_89588 = ((__local int64_t *) ext_mem_94028)[gtid_89586];\n    eta_p_89589 = ((__global int64_t *) grid_part_prefix_sum_mem_90815)[gtid_89586];\n    defunc_0_f_res_89590 = mul64(eta_p_89588, eta_p_89589);\n    ((__local int64_t *) color_95503)[gtid_89586] = defunc_0_f_res_89590;\n   ", " \n  error_8:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    acc_89593 = (int64_t) 0;\n    for (int64_t i_89592 = 0; i_89592 < dim_48135; i_89592++) {\n        int64_t b_89594;\n        int64_t defunc_0_f_res_89595;\n        int64_t acc_tmp_98249;\n        \n        b_89594 = ((__local int64_t *) color_95503)[i_89592];\n        defunc_0_f_res_89595 = add64(acc_89593, b_89594);\n        acc_tmp_98249 = defunc_0_f_res_89595;\n        acc_89593 = acc_tmp_98249;\n    }\n    defunc_0_foldl_res_89591 = acc_89593;\n    x_89596 = sle64((int64_t) 0, defunc_0_foldl_res_89591);\n    y_89597 = slt64(defunc_0_foldl_res_89591, total_grid_no_48146);\n    bounds_check_89598 = x_89596 && y_89597;\n    if (!bounds_check_89598) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 179) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_89591;\n                global_failure_args[1] = (int64_t) total_grid_no_48146;\n                ;\n            }\n            local_failure = 1;\n            goto error_10;\n        }\n    }\n    tmp_89600 = ((__global bool *) mem_90833)[defunc_0_foldl_res_89591];\n    defunc_0_p_res_89601 = !tmp_89600;\n    defunc_0_f_res_89602 = btoi_bool_i64(defunc_0_p_res_89601);\n    if (local_tid_98231 == 0) {\n        ((__global int64_t *) mem_94032)[gtid_89518] = defunc_0_f_res_89602;\n    }\n    \n  error_10:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_89615(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, unsigned char cond_67069_bits, int64_t binop_x_90867, int64_t maxSubHelper_95510, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *grid_partitions_per_dim_mem_90817, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_90842, __global unsigned cha",
                                    "r *ext_mem_93624, __global unsigned char *mem_93957)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95515_backing_4 = &shared_mem[0];\n    const int64_t color_95515_backing_4_offset = 0 + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95514_backing_3 = &shared_mem[color_95515_backing_4_offset];\n    const int64_t color_95514_backing_3_offset = color_95515_backing_4_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95513_backing_2 = &shared_mem[color_95514_backing_3_offset];\n    const int64_t color_95513_backing_2_offset = color_95514_backing_3_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95512_backing_1 = &shared_mem[color_95513_backing_2_offset];\n    const int64_t color_95512_backing_1_offset = color_95513_backing_2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95511_backing_0 = &shared_mem[color_95512_backing_1_offset];\n    const int64_t color_95511_backing_0_offset = color_95512_backing_1_offset + (maxSubHelper_95510 + srem64((int64_t) 8 - srem64(maxSubHelper_95510, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98253;\n    int32_t tblock_sizze_98256;\n    int32_t wave_sizze_98255;\n    int32_t block_id_98254;\n    int32_t global_tid_98252;\n    int64_t phys_tblock_id_89615;\n    int64_t slice_98258;\n    int64_t ltid_pre_98257;\n    int64_t remnant_98259;\n    int64_t slice_98260;\n    int64_t gtid_89614;\n    int64_t remnant_98261;\n    __local un", "signed char *color_95511;\n    __local unsigned char *color_95512;\n    __local unsigned char *color_95513;\n    __local unsigned char *color_95514;\n    __local unsigned char *color_95515;\n    int64_t min_arg1_90509;\n    __local unsigned char *ext_mem_93946;\n    int64_t f_arg0_89662;\n    int64_t min_res_89663;\n    int64_t rep_i_98269;\n    \n    local_tid_98253 = get_local_id(0);\n    tblock_sizze_98256 = get_local_size(0);\n    wave_sizze_98255 = LOCKSTEP_WIDTH;\n    block_id_98254 = get_tblock_id(0);\n    global_tid_98252 = block_id_98254 * tblock_sizze_98256 + local_tid_98253;\n    phys_tblock_id_89615 = sext_i32_i64(block_id_98254);\n    slice_98258 = dim_48135;\n    ltid_pre_98257 = sext_i32_i64(local_tid_98253);\n    remnant_98259 = sext_i32_i64(local_tid_98253) - ltid_pre_98257;\n    slice_98260 = n_48138;\n    gtid_89614 = sext_i32_i64(block_id_98254);\n    remnant_98261 = sext_i32_i64(block_id_98254) - gtid_89614;\n    color_95511 = (__local unsigned char *) color_95511_backing_0;\n    color_95512 = (__local unsigned char *) color_95512_backing_1;\n    color_95513 = (__local unsigned char *) color_95513_backing_2;\n    color_95514 = (__local unsigned char *) color_95514_backing_3;\n    color_95515 = (__local unsigned char *) color_95515_backing_4;\n    min_arg1_90509 = ((__global int64_t *) mem_90842)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_93946 = color_95512;\n    } else {\n        int64_t phys_tid_89622;\n        int64_t gtid_89621;\n        double eta_p_89623;\n        double eta_p_89624;\n        double defunc_0_f_res_89625;\n        int64_t phys_tid_89628;\n        int64_t gtid_89627;\n        double eta_p_89629;\n        double eta_p_89630;\n        double defunc_0_f_res_89631;\n        __local unsigned char *ext_mem_93933;\n        int64_t f_arg0_89648;\n        int64_t max_res_89649;\n        int64_t rep_i_98266;\n        \n        phys_tid_89622 = sext_i32_i64(local_tid_98253);\n        gtid_89621 = sext_i32_i64(sext_i64_i32(ltid_pre_98257))", ";\n        eta_p_89623 = ((__global double *) ext_mem_93624)[gtid_89614 * dim_48135 + gtid_89621];\n        eta_p_89624 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_89621];\n        defunc_0_f_res_89625 = eta_p_89623 - eta_p_89624;\n        ((__local double *) color_95515)[gtid_89621] = defunc_0_f_res_89625;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_89628 = sext_i32_i64(local_tid_98253);\n        gtid_89627 = sext_i32_i64(sext_i64_i32(ltid_pre_98257));\n        eta_p_89629 = ((__local double *) color_95515)[gtid_89627];\n        eta_p_89630 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_89627];\n        defunc_0_f_res_89631 = eta_p_89629 / eta_p_89630;\n        ((__local double *) color_95515)[gtid_89627] = defunc_0_f_res_89631;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_67069) {\n            ext_mem_93933 = color_95511;\n        } else {\n            double f_arg0_89634;\n            int64_t f64_res_89635;\n            int64_t rep_i_98263;\n            \n            f_arg0_89634 = ((__local double *) color_95515)[(int64_t) 0];\n            f64_res_89635 = fptosi_f64_i64(f_arg0_89634);\n            rep_i_98263 = sext_i32_i64(sext_i64_i32(ltid_pre_98257));\n            ((__local int64_t *) color_95514)[rep_i_98263] = f64_res_89635;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_89638 = 0; i_89638 < arg_67058; i_89638++) {\n                int64_t index_primexp_89640;\n                bool x_89641;\n                bool y_89642;\n                bool bounds_check_89643;\n                bool index_certs_89644;\n                double f_arg0_89645;\n                int64_t f64_res_89646;\n                \n                index_primexp_89640 = add64((int64_t) 1, i_89638);\n                x_89641 = sle64((int64_t) 0, index_primexp_89640);\n                y_89642 = slt64(index_primexp_89640, dim_48135);\n                bounds_check_89643 = ",
                                    "x_89641 && y_89642;\n                if (!bounds_check_89643) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 180) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_89640;\n                            global_failure_args[1] = (int64_t) dim_48135;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_89645 = ((__local double *) color_95515)[index_primexp_89640];\n                f64_res_89646 = fptosi_f64_i64(f_arg0_89645);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_98253 == 0) {\n                    ((__local int64_t *) color_95514)[index_primexp_89640] = f64_res_89646;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_93933 = color_95514;\n        }\n        f_arg0_89648 = ((__local int64_t *) ext_mem_93933)[(int64_t) 0];\n        max_res_89649 = smax64((int64_t) 0, f_arg0_89648);\n        rep_i_98266 = sext_i32_i64(sext_i64_i32(ltid_pre_98257));\n        ((__local int64_t *) color_95513)[rep_i_98266] = max_res_89649;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_89652 = 0; i_89652 < arg_67058; i_89652++) {\n            int64_t index_primexp_89654;\n            bool x_89655;\n            bool y_89656;\n            bool bounds_check_89657;\n            bool index_certs_89658;\n            int64_t f_arg0_89659;\n            int64_t max_res_89660;\n            \n            index_primexp_89654 = add64((int64_t) 1, i_89652);\n            x_89655 = sle64((int64_t) 0, index_primexp_89654);\n            y_89656 = slt64(index_primexp_89654, dim_48135);\n            bounds_check_89657 = x_89655 && y_89656;\n            if (!bound", "s_check_89657) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 181) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_89654;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_89659 = ((__local int64_t *) ext_mem_93933)[index_primexp_89654];\n            max_res_89660 = smax64((int64_t) 0, f_arg0_89659);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98253 == 0) {\n                ((__local int64_t *) color_95513)[index_primexp_89654] = max_res_89660;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_93946 = color_95513;\n    }\n    f_arg0_89662 = ((__local int64_t *) ext_mem_93946)[(int64_t) 0];\n    min_res_89663 = smin64(f_arg0_89662, min_arg1_90509);\n    rep_i_98269 = sext_i32_i64(sext_i64_i32(ltid_pre_98257));\n    ((__local int64_t *) color_95511)[rep_i_98269] = min_res_89663;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_89666 = 0; i_89666 < arg_67058; i_89666++) {\n        int64_t index_primexp_89668;\n        bool x_89669;\n        bool y_89670;\n        bool bounds_check_89671;\n        bool index_certs_89672;\n        bool index_certs_89674;\n        int64_t f_arg0_89673;\n        int64_t zm_lhs_89675;\n        int64_t min_arg1_89676;\n        int64_t min_res_89677;\n        \n        index_primexp_89668 = add64((int64_t) 1, i_89666);\n        x_89669 = sle64((int64_t) 0, index_primexp_89668);\n        y_89670 = slt64(index_primexp_89668, dim_48135);\n        bounds_check_89671 = x_89669 && y_89670;\n        if (!bounds_check_89671) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 182) == -1) {\n          ", "          global_failure_args[0] = (int64_t) index_primexp_89668;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_89671) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 183) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_89668;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_89673 = ((__local int64_t *) ext_mem_93946)[index_primexp_89668];\n        zm_lhs_89675 = ((__global int64_t *) grid_partitions_per_dim_mem_90817)[index_primexp_89668];\n        min_arg1_89676 = sub64(zm_lhs_89675, (int64_t) 1);\n        min_res_89677 = smin64(f_arg0_89673, min_arg1_89676);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_98253 == 0) {\n            ((__local int64_t *) color_95511)[index_primexp_89668] = min_res_89677;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_93957)[gtid_89614 * dim_48135 + sext_i32_i64(local_tid_98253)] = ((__local int64_t *) color_95511)[sext_i32_i64(local_tid_98253)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_89691(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t n_48138, int64_t arg_67058, unsigned char cond_67069_bits, int64_t binop_x_90867, __global unsigned char *grid_part_sizze_per_dim_mem_90816, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *ext_mem_93624, __global unsigned char *mem_93860)\n{\n    bool cond_67069 = cond_67069_bits;\n    volatile __local unsigned char *color_95518_backing_2 = &shared_mem[0];\n    const int64_",
                                    "t color_95518_backing_2_offset = 0 + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95517_backing_1 = &shared_mem[color_95518_backing_2_offset];\n    const int64_t color_95517_backing_1_offset = color_95518_backing_2_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95516_backing_0 = &shared_mem[color_95517_backing_1_offset];\n    const int64_t color_95516_backing_0_offset = color_95517_backing_1_offset + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98274;\n    int32_t tblock_sizze_98277;\n    int32_t wave_sizze_98276;\n    int32_t block_id_98275;\n    int32_t global_tid_98273;\n    int64_t phys_tblock_id_89691;\n    int64_t slice_98279;\n    int64_t ltid_pre_98278;\n    int64_t remnant_98280;\n    int64_t slice_98281;\n    int64_t gtid_89690;\n    int64_t remnant_98282;\n    __local unsigned char *color_95516;\n    __local unsigned char *color_95517;\n    __local unsigned char *color_95518;\n    int64_t phys_tid_89696;\n    int64_t gtid_89695;\n    double eta_p_89697;\n    double eta_p_89698;\n    double defunc_0_f_res_89699;\n    int64_t phys_tid_89702;\n    int64_t gtid_89701;\n    double eta_p_89703;\n    double eta_p_89704;\n    double defunc_0_f_res_89705;\n    __local unsigned char *ext_mem_93849;\n    int64_t f_arg0_89722;\n    int64_t max_res_89723;\n    int64_t rep_i_98287;\n    \n    local_tid_98274 = get_local_id(0);\n    tblock_sizze_98277 = get_local_size(0);\n    wave_sizze_98276 = LOCKSTEP_WIDTH;\n    block_id_98275 = get_tblock_id(0);\n    global_tid_98273 = block_id_98275 * tblock_sizze_98277 + local_tid_98274;\n    ", "phys_tblock_id_89691 = sext_i32_i64(block_id_98275);\n    slice_98279 = dim_48135;\n    ltid_pre_98278 = sext_i32_i64(local_tid_98274);\n    remnant_98280 = sext_i32_i64(local_tid_98274) - ltid_pre_98278;\n    slice_98281 = n_48138;\n    gtid_89690 = sext_i32_i64(block_id_98275);\n    remnant_98282 = sext_i32_i64(block_id_98275) - gtid_89690;\n    color_95516 = (__local unsigned char *) color_95516_backing_0;\n    color_95517 = (__local unsigned char *) color_95517_backing_1;\n    color_95518 = (__local unsigned char *) color_95518_backing_2;\n    phys_tid_89696 = sext_i32_i64(local_tid_98274);\n    gtid_89695 = sext_i32_i64(sext_i64_i32(ltid_pre_98278));\n    eta_p_89697 = ((__global double *) ext_mem_93624)[gtid_89690 * dim_48135 + gtid_89695];\n    eta_p_89698 = ((__global double *) start_of_grid_partition_mem_90818)[gtid_89695];\n    defunc_0_f_res_89699 = eta_p_89697 - eta_p_89698;\n    ((__local double *) color_95516)[gtid_89695] = defunc_0_f_res_89699;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_89702 = sext_i32_i64(local_tid_98274);\n    gtid_89701 = sext_i32_i64(sext_i64_i32(ltid_pre_98278));\n    eta_p_89703 = ((__local double *) color_95516)[gtid_89701];\n    eta_p_89704 = ((__global double *) grid_part_sizze_per_dim_mem_90816)[gtid_89701];\n    defunc_0_f_res_89705 = eta_p_89703 / eta_p_89704;\n    ((__local double *) color_95516)[gtid_89701] = defunc_0_f_res_89705;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_67069) {\n        ext_mem_93849 = color_95517;\n    } else {\n        double f_arg0_89708;\n        int64_t f64_res_89709;\n        int64_t rep_i_98284;\n        \n        f_arg0_89708 = ((__local double *) color_95516)[(int64_t) 0];\n        f64_res_89709 = fptosi_f64_i64(f_arg0_89708);\n        rep_i_98284 = sext_i32_i64(sext_i64_i32(ltid_pre_98278));\n        ((__local int64_t *) color_95518)[rep_i_98284] = f64_res_89709;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_89712 = 0; i_8971", "2 < arg_67058; i_89712++) {\n            int64_t index_primexp_89714;\n            bool x_89715;\n            bool y_89716;\n            bool bounds_check_89717;\n            bool index_certs_89718;\n            double f_arg0_89719;\n            int64_t f64_res_89720;\n            \n            index_primexp_89714 = add64((int64_t) 1, i_89712);\n            x_89715 = sle64((int64_t) 0, index_primexp_89714);\n            y_89716 = slt64(index_primexp_89714, dim_48135);\n            bounds_check_89717 = x_89715 && y_89716;\n            if (!bounds_check_89717) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 184) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_89714;\n                        global_failure_args[1] = (int64_t) dim_48135;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_89719 = ((__local double *) color_95516)[index_primexp_89714];\n            f64_res_89720 = fptosi_f64_i64(f_arg0_89719);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98274 == 0) {\n                ((__local int64_t *) color_95518)[index_primexp_89714] = f64_res_89720;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_93849 = color_95518;\n    }\n    f_arg0_89722 = ((__local int64_t *) ext_mem_93849)[(int64_t) 0];\n    max_res_89723 = smax64((int64_t) 0, f_arg0_89722);\n    rep_i_98287 = sext_i32_i64(sext_i64_i32(ltid_pre_98278));\n    ((__local int64_t *) color_95516)[rep_i_98287] = max_res_89723;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_89726 = 0; i_89726 < arg_67058; i_89726++) {\n        int64_t index_primexp_89728;\n        bool x_89729;\n        bool y_89730;\n        bool bounds_check_89731;\n        bool index_certs_89732;\n ",
                                    "       int64_t f_arg0_89733;\n        int64_t max_res_89734;\n        \n        index_primexp_89728 = add64((int64_t) 1, i_89726);\n        x_89729 = sle64((int64_t) 0, index_primexp_89728);\n        y_89730 = slt64(index_primexp_89728, dim_48135);\n        bounds_check_89731 = x_89729 && y_89730;\n        if (!bounds_check_89731) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 185) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_89728;\n                    global_failure_args[1] = (int64_t) dim_48135;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_89733 = ((__local int64_t *) ext_mem_93849)[index_primexp_89728];\n        max_res_89734 = smax64((int64_t) 0, f_arg0_89733);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_98274 == 0) {\n            ((__local int64_t *) color_95516)[index_primexp_89728] = max_res_89734;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_93860)[gtid_89690 * dim_48135 + sext_i32_i64(local_tid_98274)] = ((__local int64_t *) color_95516)[sext_i32_i64(local_tid_98274)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_large_97981_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_large_97981(__global int *global_failure, int64_t total_grid_no_48146, int64_t num_tblocks_88038, int64_t num_subhistos_97875, int64_t blocks_per_segment_98012, int64_t q_98013, int64_t num_virtblocks_98014, int64_t threads_per_segment_98015, __global unsigned char *mem_90832, __global unsigned char *defunc_0_map_res_subhistos_mem_97876, __global unsigned char *segred_tmp_mem_98016, __global unsigned char *counters_mem_98018)\n{\n    #define seghist_tblock_sizze_88036 (sort_for_Skyline_doublezisegred_large_97981ziseghist_tblock_sizze_88036)\n    #define chunk_sizze_97982 (sort_for_Skyline_doublezisegred_large_97", "981zichunk_sizze_97982)\n    \n    volatile __local unsigned char *sync_arr_mem_98027_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_98027_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i32_mem_98025_backing_0 = &shared_mem[sync_arr_mem_98027_backing_1_offset];\n    const int64_t red_arr_i32_mem_98025_backing_0_offset = sync_arr_mem_98027_backing_1_offset + ((int64_t) 4 * seghist_tblock_sizze_88036 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88036, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98021;\n    int32_t tblock_sizze_98024;\n    int32_t wave_sizze_98023;\n    int32_t block_id_98022;\n    int32_t global_tid_98020;\n    int64_t flat_gtid_97981;\n    __local unsigned char *red_arr_i32_mem_98025;\n    __local unsigned char *sync_arr_mem_98027;\n    int32_t phys_tblock_id_98029;\n    int32_t iterations_98030;\n    \n    local_tid_98021 = get_local_id(0);\n    tblock_sizze_98024 = get_local_size(0);\n    wave_sizze_98023 = LOCKSTEP_WIDTH;\n    block_id_98022 = get_tblock_id(0);\n    global_tid_98020 = block_id_98022 * tblock_sizze_98024 + local_tid_98021;\n    flat_gtid_97981 = sext_i32_i64(global_tid_98020);\n    red_arr_i32_mem_98025 = (__local unsigned char *) red_arr_i32_mem_98025_backing_0;\n    sync_arr_mem_98027 = (__local unsigned char *) sync_arr_mem_98027_backing_1;\n    phys_tblock_id_98029 = get_tblock_id(0);\n    iterations_98030 = sdiv_up32(sext_i64_i32(num_virtblocks_98014) - phys_tblock_id_98029, sext_i64_i32(num_tblocks_88038));\n    for (int32_t i_98031 = 0; i_98031 < iterations_98030; i_98031++) {\n        int32_t virt_tblock_id_98032;\n        int64_t flat_segment_id_98033;\n        int64_t global_tid_98034;\n        int64_t slice_98035;\n        int64_t bucket_id_97979;\n        int64_t remnant_98036;\n        int64_t subhistogram_id_97980;\n        int32_t eta_p_block_res_acc_98037;\n        int32_t eta_p_88044;\n        int32_t eta_p_88045;\n        int64_t tb", "lock_id_in_segment_98041;\n        int64_t block_base_offset_98042;\n        int32_t offset_98045;\n        int32_t skip_waves_98046;\n        int32_t eta_p_98038;\n        int32_t eta_p_98039;\n        \n        virt_tblock_id_98032 = phys_tblock_id_98029 + i_98031 * sext_i64_i32(num_tblocks_88038);\n        flat_segment_id_98033 = squot64(sext_i32_i64(virt_tblock_id_98032), blocks_per_segment_98012);\n        global_tid_98034 = srem64(sext_i32_i64(virt_tblock_id_98032) * seghist_tblock_sizze_88036 + sext_i32_i64(local_tid_98021), threads_per_segment_98015);\n        slice_98035 = total_grid_no_48146;\n        bucket_id_97979 = flat_segment_id_98033;\n        remnant_98036 = flat_segment_id_98033 - bucket_id_97979;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_98037 = 0;\n        }\n        tblock_id_in_segment_98041 = squot64(global_tid_98034, seghist_tblock_sizze_88036);\n        block_base_offset_98042 = tblock_id_in_segment_98041 * q_98013 * seghist_tblock_sizze_88036;\n        for (int64_t i_98043 = 0; i_98043 < q_98013; i_98043++) {\n            int64_t block_offset_98044 = block_base_offset_98042 + i_98043 * seghist_tblock_sizze_88036;\n            \n            subhistogram_id_97980 = global_tid_98034 + threads_per_segment_98015 * i_98043;\n            if (slt64(subhistogram_id_97980, num_subhistos_97875)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_88044 = eta_p_block_res_acc_98037;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_88045 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_97876)[subhistogram_id_97980 * total_grid_no_48146 + bucket_id_97979];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int32_t defunc_0_op_res_88046 = add32(eta_p_88044, eta_p_88045);\n  ",
                                    "                      \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_98037 = defunc_0_op_res_88046;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021)] = eta_p_block_res_acc_98037;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_98046 = 1;\n        offset_98045 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_98021, sext_i64_i32(seghist_tblock_sizze_88036))) {\n                eta_p_98038 = ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021 + offset_98045)];\n            }\n        }\n        offset_98045 = 1;\n        while (slt32(offset_98045, wave_sizze_98023)) {\n            if (slt32(local_tid_98021 + offset_98045, sext_i64_i32(seghist_tblock_sizze_88036)) && ((local_tid_98021 - squot32(local_tid_98021, wave_sizze_98023) * wave_sizze_98023) & (2 * offset_98045 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_98039 = ((volatile __local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021 + offset_98045)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_0_op_res_98040 = add32(eta_p_98038, eta_p_98039);\n                    \n                    eta_p_98038 = defunc_0_op_res_98040;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021)] = eta_p_98038;\n                }\n            }\n            offset_98045 *= 2;\n        }\n        while (slt32(skip_waves_98046, squot32(sext_i64_i32(seghist_tblock_sizze_880", "36) + wave_sizze_98023 - 1, wave_sizze_98023))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_98045 = skip_waves_98046 * wave_sizze_98023;\n            if (slt32(local_tid_98021 + offset_98045, sext_i64_i32(seghist_tblock_sizze_88036)) && ((local_tid_98021 - squot32(local_tid_98021, wave_sizze_98023) * wave_sizze_98023) == 0 && (squot32(local_tid_98021, wave_sizze_98023) & (2 * skip_waves_98046 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_98039 = ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021 + offset_98045)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_0_op_res_98040 = add32(eta_p_98038, eta_p_98039);\n                    \n                    eta_p_98038 = defunc_0_op_res_98040;\n                }\n                // write result of operation\n                {\n                    ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021)] = eta_p_98038;\n                }\n            }\n            skip_waves_98046 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_98021) == (int64_t) 0) {\n                eta_p_block_res_acc_98037 = eta_p_98038;\n            } else {\n                eta_p_block_res_acc_98037 = 0;\n            }\n        }\n        if (blocks_per_segment_98012 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_98021 == 0) {\n                    ((__global int32_t *) mem_90832)[bucket_id_97979] = eta_p_block_res_acc_98037;\n                }\n            }\n        } else {\n            int32_t old_counter_98047;\n            bool is_last_block_98048;\n            \n            // first thread in block saves block result to global memory\n            {\n            ", "    if (local_tid_98021 == 0) {\n                    ((__global int32_t *) segred_tmp_mem_98016)[sext_i32_i64(virt_tblock_id_98032)] = eta_p_block_res_acc_98037;\n                    mem_fence_global();\n                    old_counter_98047 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98018)[srem64(flat_segment_id_98033, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_98027)[(int64_t) 0] = old_counter_98047 == sext_i64_i32(blocks_per_segment_98012 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_98048 = ((__local bool *) sync_arr_mem_98027)[(int64_t) 0];\n            if (is_last_block_98048) {\n                if (local_tid_98021 == 0) {\n                    old_counter_98047 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98018)[srem64(flat_segment_id_98033, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_98012));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_98049 = sdiv_up64(blocks_per_segment_98012, seghist_tblock_sizze_88036);\n                    \n                    eta_p_88044 = 0;\n                    for (int64_t i_98050 = 0; i_98050 < read_per_thread_98049; i_98050++) {\n                        int64_t block_res_id_98051 = sext_i32_i64(local_tid_98021) * read_per_thread_98049 + i_98050;\n                        int64_t index_of_block_res_98052 = flat_segment_id_98033 * blocks_per_segment_98012 + block_res_id_98051;\n                        \n                        if (slt64(block_res_id_98051, blocks_per_segment_98012)) {\n                            eta_p_88045 = ((__global int32_t *) segred_tmp_mem_98016)[index_of_block_res_98052];\n                            \n                            int32_t defunc_0_op_res_88046 = add32(eta_p_88044, eta_p_88045);\n                            \n                        ",
                                    "    eta_p_88044 = defunc_0_op_res_88046;\n                        }\n                    }\n                }\n                ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021)] = eta_p_88044;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_98053;\n                    int32_t skip_waves_98054 = 1;\n                    int32_t eta_p_98038;\n                    int32_t eta_p_98039;\n                    \n                    offset_98053 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_98021, sext_i64_i32(seghist_tblock_sizze_88036))) {\n                            eta_p_98038 = ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021 + offset_98053)];\n                        }\n                    }\n                    offset_98053 = 1;\n                    while (slt32(offset_98053, wave_sizze_98023)) {\n                        if (slt32(local_tid_98021 + offset_98053, sext_i64_i32(seghist_tblock_sizze_88036)) && ((local_tid_98021 - squot32(local_tid_98021, wave_sizze_98023) * wave_sizze_98023) & (2 * offset_98053 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_98039 = ((volatile __local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021 + offset_98053)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_0_op_res_98040 = add32(eta_p_98038, eta_p_98039);\n                                \n                                eta_p_98038 = defunc_0_op_res_98040;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int32_t *) red_arr_i32_mem_98", "025)[sext_i32_i64(local_tid_98021)] = eta_p_98038;\n                            }\n                        }\n                        offset_98053 *= 2;\n                    }\n                    while (slt32(skip_waves_98054, squot32(sext_i64_i32(seghist_tblock_sizze_88036) + wave_sizze_98023 - 1, wave_sizze_98023))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_98053 = skip_waves_98054 * wave_sizze_98023;\n                        if (slt32(local_tid_98021 + offset_98053, sext_i64_i32(seghist_tblock_sizze_88036)) && ((local_tid_98021 - squot32(local_tid_98021, wave_sizze_98023) * wave_sizze_98023) == 0 && (squot32(local_tid_98021, wave_sizze_98023) & (2 * skip_waves_98054 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_98039 = ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021 + offset_98053)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_0_op_res_98040 = add32(eta_p_98038, eta_p_98039);\n                                \n                                eta_p_98038 = defunc_0_op_res_98040;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int32_t *) red_arr_i32_mem_98025)[sext_i32_i64(local_tid_98021)] = eta_p_98038;\n                            }\n                        }\n                        skip_waves_98054 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_98021 == 0) {\n                            ((__global int32_t *) mem_90832)[bucket_id_97979] = eta_p_98038;\n                        }\n                    }\n                }\n            }\n        }", "\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_88036\n    #undef chunk_sizze_97982\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_large_99168_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_large_99168(__global int *global_failure, int64_t total_part_no_48147, int64_t num_tblocks_90223, int64_t num_subhistos_99082, int64_t blocks_per_segment_99199, int64_t q_99200, int64_t num_virtblocks_99201, int64_t threads_per_segment_99202, __global unsigned char *mem_90838, __global unsigned char *defunc_0_map_res_subhistos_mem_99083, __global unsigned char *segred_tmp_mem_99203, __global unsigned char *counters_mem_99205)\n{\n    #define seghist_tblock_sizze_90221 (sort_for_Skyline_doublezisegred_large_99168ziseghist_tblock_sizze_90221)\n    #define chunk_sizze_99169 (sort_for_Skyline_doublezisegred_large_99168zichunk_sizze_99169)\n    \n    volatile __local unsigned char *sync_arr_mem_99214_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_99214_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_99212_backing_0 = &shared_mem[sync_arr_mem_99214_backing_1_offset];\n    const int64_t red_arr_i64_mem_99212_backing_0_offset = sync_arr_mem_99214_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_90221 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_90221, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99208;\n    int32_t tblock_sizze_99211;\n    int32_t wave_sizze_99210;\n    int32_t block_id_99209;\n    int32_t global_tid_99207;\n    int64_t flat_gtid_99168;\n    __local unsigned char *red_arr_i64_mem_99212;\n    __local unsigned char *sync_arr_mem_99214;\n    int32_t phys_tblock_id_99216;\n    int32_t iterations_99217;\n    \n    local_tid_99208 = get_local_id(0);\n    tblock_sizze_99211 = get_local_size(0);\n    wave_sizze_99210 = LOCKSTEP_WIDTH;\n    block_id_99209 = get_tblock_id(0);\n    globa",
                                    "l_tid_99207 = block_id_99209 * tblock_sizze_99211 + local_tid_99208;\n    flat_gtid_99168 = sext_i32_i64(global_tid_99207);\n    red_arr_i64_mem_99212 = (__local unsigned char *) red_arr_i64_mem_99212_backing_0;\n    sync_arr_mem_99214 = (__local unsigned char *) sync_arr_mem_99214_backing_1;\n    phys_tblock_id_99216 = get_tblock_id(0);\n    iterations_99217 = sdiv_up32(sext_i64_i32(num_virtblocks_99201) - phys_tblock_id_99216, sext_i64_i32(num_tblocks_90223));\n    for (int32_t i_99218 = 0; i_99218 < iterations_99217; i_99218++) {\n        int32_t virt_tblock_id_99219;\n        int64_t flat_segment_id_99220;\n        int64_t global_tid_99221;\n        int64_t slice_99222;\n        int64_t bucket_id_99166;\n        int64_t remnant_99223;\n        int64_t subhistogram_id_99167;\n        int64_t eta_p_block_res_acc_99224;\n        int64_t eta_p_90229;\n        int64_t eta_p_90230;\n        int64_t tblock_id_in_segment_99228;\n        int64_t block_base_offset_99229;\n        int32_t offset_99232;\n        int32_t skip_waves_99233;\n        int64_t eta_p_99225;\n        int64_t eta_p_99226;\n        \n        virt_tblock_id_99219 = phys_tblock_id_99216 + i_99218 * sext_i64_i32(num_tblocks_90223);\n        flat_segment_id_99220 = squot64(sext_i32_i64(virt_tblock_id_99219), blocks_per_segment_99199);\n        global_tid_99221 = srem64(sext_i32_i64(virt_tblock_id_99219) * seghist_tblock_sizze_90221 + sext_i32_i64(local_tid_99208), threads_per_segment_99202);\n        slice_99222 = total_part_no_48147;\n        bucket_id_99166 = flat_segment_id_99220;\n        remnant_99223 = flat_segment_id_99220 - bucket_id_99166;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_99224 = (int64_t) 0;\n        }\n        tblock_id_in_segment_99228 = squot64(global_tid_99221, seghist_tblock_sizze_90221);\n        block_base_offset_99229 = tblock_id_in_segment_99228 * q_99200 * seghist_tblock_sizze_90221;\n        for (int64_t i_99230 = 0; i_99230 < q_99200; i_99230++)", " {\n            int64_t block_offset_99231 = block_base_offset_99229 + i_99230 * seghist_tblock_sizze_90221;\n            \n            subhistogram_id_99167 = global_tid_99221 + threads_per_segment_99202 * i_99230;\n            if (slt64(subhistogram_id_99167, num_subhistos_99082)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_90229 = eta_p_block_res_acc_99224;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_90230 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_99083)[subhistogram_id_99167 * total_part_no_48147 + bucket_id_99166];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t defunc_0_op_res_90231 = add64(eta_p_90229, eta_p_90230);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_99224 = defunc_0_op_res_90231;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208)] = eta_p_block_res_acc_99224;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_99233 = 1;\n        offset_99232 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_99208, sext_i64_i32(seghist_tblock_sizze_90221))) {\n                eta_p_99225 = ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208 + offset_99232)];\n            }\n        }\n        offset_99232 = 1;\n        while (slt32(offset_99232, wave_sizze_99210)) {\n            if (slt32(local_tid_99208 + offset_99232, sext_i64_i32(seghist_tblock_sizze_90221)) && ((l", "ocal_tid_99208 - squot32(local_tid_99208, wave_sizze_99210) * wave_sizze_99210) & (2 * offset_99232 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_99226 = ((volatile __local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208 + offset_99232)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_99227 = add64(eta_p_99225, eta_p_99226);\n                    \n                    eta_p_99225 = defunc_0_op_res_99227;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208)] = eta_p_99225;\n                }\n            }\n            offset_99232 *= 2;\n        }\n        while (slt32(skip_waves_99233, squot32(sext_i64_i32(seghist_tblock_sizze_90221) + wave_sizze_99210 - 1, wave_sizze_99210))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_99232 = skip_waves_99233 * wave_sizze_99210;\n            if (slt32(local_tid_99208 + offset_99232, sext_i64_i32(seghist_tblock_sizze_90221)) && ((local_tid_99208 - squot32(local_tid_99208, wave_sizze_99210) * wave_sizze_99210) == 0 && (squot32(local_tid_99208, wave_sizze_99210) & (2 * skip_waves_99233 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_99226 = ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208 + offset_99232)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_99227 = add64(eta_p_99225, eta_p_99226);\n                    \n                    eta_p_99225 = defunc_0_op_res_99227;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208)] = eta_p_99225;\n                }\n            }\n            skip_w",
                                    "aves_99233 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_99208) == (int64_t) 0) {\n                eta_p_block_res_acc_99224 = eta_p_99225;\n            } else {\n                eta_p_block_res_acc_99224 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_99199 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_99208 == 0) {\n                    ((__global int64_t *) mem_90838)[bucket_id_99166] = eta_p_block_res_acc_99224;\n                }\n            }\n        } else {\n            int32_t old_counter_99234;\n            bool is_last_block_99235;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_99208 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_99203)[sext_i32_i64(virt_tblock_id_99219)] = eta_p_block_res_acc_99224;\n                    mem_fence_global();\n                    old_counter_99234 = atomic_add_i32_global(&((volatile __global int *) counters_mem_99205)[srem64(flat_segment_id_99220, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_99214)[(int64_t) 0] = old_counter_99234 == sext_i64_i32(blocks_per_segment_99199 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_99235 = ((__local bool *) sync_arr_mem_99214)[(int64_t) 0];\n            if (is_last_block_99235) {\n                if (local_tid_99208 == 0) {\n                    old_counter_99234 = atomic_add_i32_global(&((volatile __global int *) counters_mem_99205)[srem64(flat_segment_id_99220, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_99199));\n                }\n                // read in the per-block-results\n              ", "  {\n                    int64_t read_per_thread_99236 = sdiv_up64(blocks_per_segment_99199, seghist_tblock_sizze_90221);\n                    \n                    eta_p_90229 = (int64_t) 0;\n                    for (int64_t i_99237 = 0; i_99237 < read_per_thread_99236; i_99237++) {\n                        int64_t block_res_id_99238 = sext_i32_i64(local_tid_99208) * read_per_thread_99236 + i_99237;\n                        int64_t index_of_block_res_99239 = flat_segment_id_99220 * blocks_per_segment_99199 + block_res_id_99238;\n                        \n                        if (slt64(block_res_id_99238, blocks_per_segment_99199)) {\n                            eta_p_90230 = ((__global int64_t *) segred_tmp_mem_99203)[index_of_block_res_99239];\n                            \n                            int64_t defunc_0_op_res_90231 = add64(eta_p_90229, eta_p_90230);\n                            \n                            eta_p_90229 = defunc_0_op_res_90231;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208)] = eta_p_90229;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_99240;\n                    int32_t skip_waves_99241 = 1;\n                    int64_t eta_p_99225;\n                    int64_t eta_p_99226;\n                    \n                    offset_99240 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_99208, sext_i64_i32(seghist_tblock_sizze_90221))) {\n                            eta_p_99225 = ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208 + offset_99240)];\n                        }\n                    }\n                    offset_99240 = 1;\n                    while (slt32(offset_99240, wave_sizze_99210)) {\n                        if (slt32(local_ti", "d_99208 + offset_99240, sext_i64_i32(seghist_tblock_sizze_90221)) && ((local_tid_99208 - squot32(local_tid_99208, wave_sizze_99210) * wave_sizze_99210) & (2 * offset_99240 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_99226 = ((volatile __local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208 + offset_99240)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_99227 = add64(eta_p_99225, eta_p_99226);\n                                \n                                eta_p_99225 = defunc_0_op_res_99227;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208)] = eta_p_99225;\n                            }\n                        }\n                        offset_99240 *= 2;\n                    }\n                    while (slt32(skip_waves_99241, squot32(sext_i64_i32(seghist_tblock_sizze_90221) + wave_sizze_99210 - 1, wave_sizze_99210))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_99240 = skip_waves_99241 * wave_sizze_99210;\n                        if (slt32(local_tid_99208 + offset_99240, sext_i64_i32(seghist_tblock_sizze_90221)) && ((local_tid_99208 - squot32(local_tid_99208, wave_sizze_99210) * wave_sizze_99210) == 0 && (squot32(local_tid_99208, wave_sizze_99210) & (2 * skip_waves_99241 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_99226 = ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208 + offset_99240)];\n                            }\n                            // apply reduction operation\n                            {\n        ",
                                    "                        int64_t defunc_0_op_res_99227 = add64(eta_p_99225, eta_p_99226);\n                                \n                                eta_p_99225 = defunc_0_op_res_99227;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_99212)[sext_i32_i64(local_tid_99208)] = eta_p_99225;\n                            }\n                        }\n                        skip_waves_99241 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_99208 == 0) {\n                            ((__global int64_t *) mem_90838)[bucket_id_99166] = eta_p_99225;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_90221\n    #undef chunk_sizze_99169\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_77600_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_77600(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t reduce_arg1_72111, int64_t num_tblocks_77593, int64_t num_threads_92751, __global unsigned char *xs_mem_90819, __global unsigned char *mem_92739, __global unsigned char *mem_92750, __global unsigned char *mem_92755, __global unsigned char *mem_92760, __global unsigned char *mem_92762, __global unsigned char *mem_92763, __global unsigned char *counters_mem_96247, __global unsigned char *segred_tmp_mem_96249, __global unsigned char *segred_tmp_mem_96251, __global unsigned char *segred_tmp_mem_96253)\n{\n    #define segred_tblock_sizze_77591 (sort_for_Skyline_doublezisegred_nonseg_77600zisegred_tblock_sizze_77591)\n    #define chunk_sizze_96246 (sort_for_Skyline_doublezisegred_nonseg_77600zichunk_sizze_96", "246)\n    \n    volatile __local unsigned char *sync_arr_mem_96266_backing_2 = &shared_mem[0];\n    const int64_t sync_arr_mem_96266_backing_2_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_96264_backing_1 = &shared_mem[sync_arr_mem_96266_backing_2_offset];\n    const int64_t red_arr_i64_mem_96264_backing_1_offset = sync_arr_mem_96266_backing_2_offset + ((int64_t) 8 * segred_tblock_sizze_77591 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_77591, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_i64_mem_96261_backing_0 = &shared_mem[red_arr_i64_mem_96264_backing_1_offset];\n    const int64_t red_arr_i64_mem_96261_backing_0_offset = red_arr_i64_mem_96264_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_77591 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_77591, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96257;\n    int32_t tblock_sizze_96260;\n    int32_t wave_sizze_96259;\n    int32_t block_id_96258;\n    int32_t global_tid_96256;\n    int64_t phys_tid_77600;\n    __local unsigned char *red_arr_i64_mem_96261;\n    __local unsigned char *red_arr_i64_mem_96264;\n    __local unsigned char *sync_arr_mem_96266;\n    int64_t dummy_77598;\n    int64_t gtid_77599;\n    int64_t q_96268;\n    int64_t eta_p_block_res_acc_96269;\n    int64_t eta_p_block_res_acc_96270;\n    int64_t eta_p_72122;\n    int64_t eta_p_72124;\n    int64_t eta_p_72125;\n    int64_t eta_p_72127;\n    int64_t tblock_id_in_segment_96285;\n    int64_t block_base_offset_96286;\n    int32_t old_counter_96291;\n    bool is_last_block_96294;\n    \n    local_tid_96257 = get_local_id(0);\n    tblock_sizze_96260 = get_local_size(0);\n    wave_sizze_96259 = LOCKSTEP_WIDTH;\n    block_id_96258 = get_tblock_id(0);\n    global_tid_96256 = block_id_96258 * tblock_sizze_96260 + local_tid_96257;\n    phys_tid_77600 = sext_i32_i64(global_tid_96256);\n    red_arr_i64_mem_96261 = (__local unsigned char *) red_a", "rr_i64_mem_96261_backing_0;\n    red_arr_i64_mem_96264 = (__local unsigned char *) red_arr_i64_mem_96264_backing_1;\n    sync_arr_mem_96266 = (__local unsigned char *) sync_arr_mem_96266_backing_2;\n    dummy_77598 = (int64_t) 0;\n    gtid_77599 = (int64_t) 0;\n    q_96268 = sdiv_up64(n_48138, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_77591 * num_tblocks_77593)) * chunk_sizze_96246);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_96269 = reduce_arg1_72111;\n        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n            ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591] = ((__global double *) xs_mem_90819)[i_0];\n        }\n        eta_p_block_res_acc_96270 = (int64_t) 0;\n    }\n    tblock_id_in_segment_96285 = squot64(phys_tid_77600, segred_tblock_sizze_77591);\n    block_base_offset_96286 = tblock_id_in_segment_96285 * q_96268 * segred_tblock_sizze_77591;\n    for (int64_t i_96287 = 0; i_96287 < q_96268; i_96287++) {\n        int64_t block_offset_96288;\n        int32_t offset_96289;\n        int32_t skip_waves_96290;\n        int64_t eta_p_96271;\n        int64_t eta_p_96273;\n        int64_t eta_p_96274;\n        int64_t eta_p_96276;\n        \n        block_offset_96288 = block_base_offset_96286 + i_96287 * segred_tblock_sizze_77591;\n        gtid_77599 = block_offset_96288 + sext_i32_i64(local_tid_96257);\n        if (slt64(gtid_77599, n_48138)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_72119 = ((__global int64_t *) mem_92739)[gtid_77599];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_72122 = eta_p_block_res_acc_96269;\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) ",
                                    "mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591];\n                        }\n                        eta_p_72124 = eta_p_block_res_acc_96270;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_72125 = x_72119;\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[(phys_tid_77600 + num_threads_92751) * dim_48135 + i_0] = ((__global double *) mem_92750)[gtid_77599 + i_0 * n_48138];\n                        }\n                        eta_p_72127 = gtid_77599;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool lifted_lambda_res_72128 = sle64(eta_p_72122, eta_p_72125);\n                        int64_t defunc_0_op_res_72129;\n                        \n                        if (lifted_lambda_res_72128) {\n                            defunc_0_op_res_72129 = eta_p_72125;\n                        } else {\n                            defunc_0_op_res_72129 = eta_p_72122;\n                        }\n                        \n                        int64_t defunc_0_op_res_72130;\n                        \n                        if (lifted_lambda_res_72128) {\n                            defunc_0_op_res_72130 = eta_p_72127;\n                        } else {\n                            defunc_0_op_res_72130 = eta_p_72124;\n                        }\n                        \n                        int64_t lmad_ext_92756 = dim_48135 * phys_tid_77600;\n                        int64_t binop_x_92757 = phys_tid_77600 + num_threads_92751;\n                        int64_t lmad_ext_92758 = dim_48135 * binop_x_92757;\n                        int64_t ext_92759;\n                        \n                        if (lifted", "_lambda_res_72128) {\n                            ext_92759 = lmad_ext_92758;\n                        } else {\n                            ext_92759 = lmad_ext_92756;\n                        }\n                        if (lifted_lambda_res_72128) { }\n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96269 = defunc_0_op_res_72129;\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591] = ((__global double *) mem_92755)[ext_92759 + i_0];\n                            }\n                            eta_p_block_res_acc_96270 = defunc_0_op_res_72130;\n                        }\n                    }\n                }\n            }\n        }\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257)] = eta_p_block_res_acc_96269;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591];\n            }\n            ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257)] = eta_p_block_res_acc_96270;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_96290 = 1;\n        offset_96289 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_96257, sext_i64_i32(segred_tblock_sizze_77591))) {\n                eta_p_96271 = ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257 + offset_96289)];\n                if (", "!(phys_tid_77600 * dim_48135 == sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96289) * dim_48135)) {\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96289) * dim_48135 + i_0];\n                    }\n                }\n                eta_p_96273 = ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257 + offset_96289)];\n            }\n        }\n        offset_96289 = 1;\n        while (slt32(offset_96289, wave_sizze_96259)) {\n            if (slt32(local_tid_96257 + offset_96289, sext_i64_i32(segred_tblock_sizze_77591)) && ((local_tid_96257 - squot32(local_tid_96257, wave_sizze_96259) * wave_sizze_96259) & (2 * offset_96289 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_96274 = ((volatile __local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257 + offset_96289)];\n                    if (!((phys_tid_77600 + num_threads_92751) * dim_48135 == sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96289) * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[(phys_tid_77600 + num_threads_92751) * dim_48135 + i_0] = ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96289) * dim_48135 + i_0];\n                        }\n                    }\n                    eta_p_96276 = ((volatile __local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257 + offset_96289)];\n                }\n                // apply reduction operation\n               ",
                                    " {\n                    bool lifted_lambda_res_96277 = sle64(eta_p_96271, eta_p_96274);\n                    int64_t defunc_0_op_res_96278;\n                    \n                    if (lifted_lambda_res_96277) {\n                        defunc_0_op_res_96278 = eta_p_96274;\n                    } else {\n                        defunc_0_op_res_96278 = eta_p_96271;\n                    }\n                    \n                    int64_t defunc_0_op_res_96279;\n                    \n                    if (lifted_lambda_res_96277) {\n                        defunc_0_op_res_96279 = eta_p_96276;\n                    } else {\n                        defunc_0_op_res_96279 = eta_p_96273;\n                    }\n                    \n                    int64_t lmad_ext_96280 = dim_48135 * phys_tid_77600;\n                    int64_t binop_x_96281 = phys_tid_77600 + num_threads_92751;\n                    int64_t lmad_ext_96282 = dim_48135 * binop_x_96281;\n                    int64_t ext_96283;\n                    \n                    if (lifted_lambda_res_96277) {\n                        ext_96283 = lmad_ext_96282;\n                    } else {\n                        ext_96283 = lmad_ext_96280;\n                    }\n                    if (lifted_lambda_res_96277) { }\n                    eta_p_96271 = defunc_0_op_res_96278;\n                    if (!(phys_tid_77600 * dim_48135 == ext_96283)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[ext_96283 + i_0];\n                        }\n                    }\n                    eta_p_96273 = defunc_0_op_res_96279;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257)] = eta_p_96271;\n                    ((volatile __local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64", "(local_tid_96257)] = eta_p_96273;\n                }\n            }\n            offset_96289 *= 2;\n        }\n        while (slt32(skip_waves_96290, squot32(sext_i64_i32(segred_tblock_sizze_77591) + wave_sizze_96259 - 1, wave_sizze_96259))) {\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            offset_96289 = skip_waves_96290 * wave_sizze_96259;\n            if (slt32(local_tid_96257 + offset_96289, sext_i64_i32(segred_tblock_sizze_77591)) && ((local_tid_96257 - squot32(local_tid_96257, wave_sizze_96259) * wave_sizze_96259) == 0 && (squot32(local_tid_96257, wave_sizze_96259) & (2 * skip_waves_96290 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_96274 = ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257 + offset_96289)];\n                    if (!((phys_tid_77600 + num_threads_92751) * dim_48135 == sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96289) * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[(phys_tid_77600 + num_threads_92751) * dim_48135 + i_0] = ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96289) * dim_48135 + i_0];\n                        }\n                    }\n                    eta_p_96276 = ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257 + offset_96289)];\n                }\n                // apply reduction operation\n                {\n                    bool lifted_lambda_res_96277 = sle64(eta_p_96271, eta_p_96274);\n                    int64_t defunc_0_op_res_96278;\n                    \n                    if (lifted_lambda_res_96277) {\n                        defunc_0_op_res_96278 = eta_p_96274;\n                    } else {\n                        defunc_0_op_res_96278 = eta_p_9", "6271;\n                    }\n                    \n                    int64_t defunc_0_op_res_96279;\n                    \n                    if (lifted_lambda_res_96277) {\n                        defunc_0_op_res_96279 = eta_p_96276;\n                    } else {\n                        defunc_0_op_res_96279 = eta_p_96273;\n                    }\n                    \n                    int64_t lmad_ext_96280 = dim_48135 * phys_tid_77600;\n                    int64_t binop_x_96281 = phys_tid_77600 + num_threads_92751;\n                    int64_t lmad_ext_96282 = dim_48135 * binop_x_96281;\n                    int64_t ext_96283;\n                    \n                    if (lifted_lambda_res_96277) {\n                        ext_96283 = lmad_ext_96282;\n                    } else {\n                        ext_96283 = lmad_ext_96280;\n                    }\n                    if (lifted_lambda_res_96277) { }\n                    eta_p_96271 = defunc_0_op_res_96278;\n                    if (!(phys_tid_77600 * dim_48135 == ext_96283)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[ext_96283 + i_0];\n                        }\n                    }\n                    eta_p_96273 = defunc_0_op_res_96279;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257)] = eta_p_96271;\n                    ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257)] = eta_p_96273;\n                }\n            }\n            skip_waves_96290 *= 2;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Copy array-typed operands to result array\n        {\n            if (local_tid_96257 == 0) {\n                if (!((sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + se",
                                    "xt_i32_i64(local_tid_96257) * dim_48135) == phys_tid_77600 * dim_48135)) {\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257) * dim_48135 + i_0] = ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0];\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_96257) == (int64_t) 0) {\n                eta_p_block_res_acc_96269 = eta_p_96271;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591] = ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0];\n                }\n                eta_p_block_res_acc_96270 = eta_p_96273;\n            } else {\n                eta_p_block_res_acc_96269 = reduce_arg1_72111;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591] = ((__global double *) xs_mem_90819)[i_0];\n                }\n                eta_p_block_res_acc_96270 = (int64_t) 0;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_96257 == 0) {\n            ((__global int64_t *) segred_tmp_mem_96249)[sext_i32_i64(block_id_96258)] = eta_p_block_res_acc_96269;\n            mem_fence_global();\n            for (int64_t nest_i_96292 = 0; nest_i_96292 < dim_48135; nest_i_96292++) {\n                double tmp_96293 ", "= ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(local_tid_96257) + sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + nest_i_96292 * segred_tblock_sizze_77591];\n                \n                ((__global double *) segred_tmp_mem_96251)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + nest_i_96292 * segred_tblock_sizze_77591] = tmp_96293;\n                mem_fence_global();\n            }\n            ((__global int64_t *) segred_tmp_mem_96253)[sext_i32_i64(block_id_96258)] = eta_p_block_res_acc_96270;\n            mem_fence_global();\n            old_counter_96291 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96247)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_96266)[(int64_t) 0] = old_counter_96291 == sext_i64_i32(num_tblocks_77593 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_96294 = ((__local bool *) sync_arr_mem_96266)[(int64_t) 0];\n    if (is_last_block_96294) {\n        if (local_tid_96257 == 0) {\n            old_counter_96291 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96247)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_77593));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_96295 = sdiv_up64(num_tblocks_77593, segred_tblock_sizze_77591);\n            \n            eta_p_72122 = reduce_arg1_72111;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) xs_mem_90819)[i_0];\n            }\n            eta_p_72124 = (int64_t) 0;\n            for (int64_t i_96296 = 0; i_96296 < read_per_thread_96295; i_96296++) {\n                int64_t block_res_id_96297 = sext_i32_i64(local_tid_96257) * read_per_thread_96295 + i_96296;\n                int64_t index_of_block_res_96298 = block_res_id_96297;\n                \n                if ", "(slt64(block_res_id_96297, num_tblocks_77593)) {\n                    eta_p_72125 = ((__global int64_t *) segred_tmp_mem_96249)[index_of_block_res_96298];\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_92755)[(phys_tid_77600 + num_threads_92751) * dim_48135 + i_0] = ((__global double *) segred_tmp_mem_96251)[index_of_block_res_96298 * (segred_tblock_sizze_77591 * dim_48135) + i_0 * segred_tblock_sizze_77591];\n                    }\n                    eta_p_72127 = ((__global int64_t *) segred_tmp_mem_96253)[index_of_block_res_96298];\n                    \n                    bool lifted_lambda_res_72128 = sle64(eta_p_72122, eta_p_72125);\n                    int64_t defunc_0_op_res_72129;\n                    \n                    if (lifted_lambda_res_72128) {\n                        defunc_0_op_res_72129 = eta_p_72125;\n                    } else {\n                        defunc_0_op_res_72129 = eta_p_72122;\n                    }\n                    \n                    int64_t defunc_0_op_res_72130;\n                    \n                    if (lifted_lambda_res_72128) {\n                        defunc_0_op_res_72130 = eta_p_72127;\n                    } else {\n                        defunc_0_op_res_72130 = eta_p_72124;\n                    }\n                    \n                    int64_t lmad_ext_92756 = dim_48135 * phys_tid_77600;\n                    int64_t binop_x_92757 = phys_tid_77600 + num_threads_92751;\n                    int64_t lmad_ext_92758 = dim_48135 * binop_x_92757;\n                    int64_t ext_92759;\n                    \n                    if (lifted_lambda_res_72128) {\n                        ext_92759 = lmad_ext_92758;\n                    } else {\n                        ext_92759 = lmad_ext_92756;\n                    }\n                    if (lifted_lambda_res_72128) { }\n                    eta_p_72122 = defunc_0_op_res_72129;\n                    if (!(phys_tid_77600 * dim_4813",
                                    "5 == ext_92759)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[ext_92759 + i_0];\n                        }\n                    }\n                    eta_p_72124 = defunc_0_op_res_72130;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257)] = eta_p_72122;\n        ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257)] = eta_p_72124;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_96299;\n            int32_t skip_waves_96300 = 1;\n            int64_t eta_p_96271;\n            int64_t eta_p_96273;\n            int64_t eta_p_96274;\n            int64_t eta_p_96276;\n            \n            offset_96299 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_96257, sext_i64_i32(segred_tblock_sizze_77591))) {\n                    eta_p_96271 = ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257 + offset_96299)];\n                    if (!(phys_tid_77600 * dim_48135 == sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96299) * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96299) * dim_48135 + i_0];\n                        }\n                    }\n                    eta_p_96273 = ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257 + offset_96299)];\n                }\n            }\n            offset_96299 = 1;\n            while (slt32(offse", "t_96299, wave_sizze_96259)) {\n                if (slt32(local_tid_96257 + offset_96299, sext_i64_i32(segred_tblock_sizze_77591)) && ((local_tid_96257 - squot32(local_tid_96257, wave_sizze_96259) * wave_sizze_96259) & (2 * offset_96299 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_96274 = ((volatile __local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257 + offset_96299)];\n                        if (!((phys_tid_77600 + num_threads_92751) * dim_48135 == sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96299) * dim_48135)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_92755)[(phys_tid_77600 + num_threads_92751) * dim_48135 + i_0] = ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96299) * dim_48135 + i_0];\n                            }\n                        }\n                        eta_p_96276 = ((volatile __local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257 + offset_96299)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool lifted_lambda_res_96277 = sle64(eta_p_96271, eta_p_96274);\n                        int64_t defunc_0_op_res_96278;\n                        \n                        if (lifted_lambda_res_96277) {\n                            defunc_0_op_res_96278 = eta_p_96274;\n                        } else {\n                            defunc_0_op_res_96278 = eta_p_96271;\n                        }\n                        \n                        int64_t defunc_0_op_res_96279;\n                        \n                        if (lifted_lambda_res_96277) {\n                            defunc_0_op_res_96279 = eta_p_96276;\n                        } else {\n        ", "                    defunc_0_op_res_96279 = eta_p_96273;\n                        }\n                        \n                        int64_t lmad_ext_96280 = dim_48135 * phys_tid_77600;\n                        int64_t binop_x_96281 = phys_tid_77600 + num_threads_92751;\n                        int64_t lmad_ext_96282 = dim_48135 * binop_x_96281;\n                        int64_t ext_96283;\n                        \n                        if (lifted_lambda_res_96277) {\n                            ext_96283 = lmad_ext_96282;\n                        } else {\n                            ext_96283 = lmad_ext_96280;\n                        }\n                        if (lifted_lambda_res_96277) { }\n                        eta_p_96271 = defunc_0_op_res_96278;\n                        if (!(phys_tid_77600 * dim_48135 == ext_96283)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[ext_96283 + i_0];\n                            }\n                        }\n                        eta_p_96273 = defunc_0_op_res_96279;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257)] = eta_p_96271;\n                        ((volatile __local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257)] = eta_p_96273;\n                    }\n                }\n                offset_96299 *= 2;\n            }\n            while (slt32(skip_waves_96300, squot32(sext_i64_i32(segred_tblock_sizze_77591) + wave_sizze_96259 - 1, wave_sizze_96259))) {\n                barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n                offset_96299 = skip_waves_96300 * wave_sizze_96259;\n                if (slt32(local_tid_96257 + offset_96299, sext_i64_i32(segred_tblock_sizze_77591)) && ((local_tid_96257 - sq",
                                    "uot32(local_tid_96257, wave_sizze_96259) * wave_sizze_96259) == 0 && (squot32(local_tid_96257, wave_sizze_96259) & (2 * skip_waves_96300 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_96274 = ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257 + offset_96299)];\n                        if (!((phys_tid_77600 + num_threads_92751) * dim_48135 == sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96299) * dim_48135)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_92755)[(phys_tid_77600 + num_threads_92751) * dim_48135 + i_0] = ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257 + offset_96299) * dim_48135 + i_0];\n                            }\n                        }\n                        eta_p_96276 = ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257 + offset_96299)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool lifted_lambda_res_96277 = sle64(eta_p_96271, eta_p_96274);\n                        int64_t defunc_0_op_res_96278;\n                        \n                        if (lifted_lambda_res_96277) {\n                            defunc_0_op_res_96278 = eta_p_96274;\n                        } else {\n                            defunc_0_op_res_96278 = eta_p_96271;\n                        }\n                        \n                        int64_t defunc_0_op_res_96279;\n                        \n                        if (lifted_lambda_res_96277) {\n                            defunc_0_op_res_96279 = eta_p_96276;\n                        } else {\n                            defunc_0_op_res_96279 = eta_p_96273;\n                        }\n                        \n       ", "                 int64_t lmad_ext_96280 = dim_48135 * phys_tid_77600;\n                        int64_t binop_x_96281 = phys_tid_77600 + num_threads_92751;\n                        int64_t lmad_ext_96282 = dim_48135 * binop_x_96281;\n                        int64_t ext_96283;\n                        \n                        if (lifted_lambda_res_96277) {\n                            ext_96283 = lmad_ext_96282;\n                        } else {\n                            ext_96283 = lmad_ext_96280;\n                        }\n                        if (lifted_lambda_res_96277) { }\n                        eta_p_96271 = defunc_0_op_res_96278;\n                        if (!(phys_tid_77600 * dim_48135 == ext_96283)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0] = ((__global double *) mem_92755)[ext_96283 + i_0];\n                            }\n                        }\n                        eta_p_96273 = defunc_0_op_res_96279;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_96261)[sext_i32_i64(local_tid_96257)] = eta_p_96271;\n                        ((__local int64_t *) red_arr_i64_mem_96264)[sext_i32_i64(local_tid_96257)] = eta_p_96273;\n                    }\n                }\n                skip_waves_96300 *= 2;\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            // Copy array-typed operands to result array\n            {\n                if (local_tid_96257 == 0) {\n                    if (!((sext_i32_i64(block_id_96258) * (segred_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257) * dim_48135) == phys_tid_77600 * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_92755)[sext_i32_i64(block_id_96258) * (segred", "_tblock_sizze_77591 * dim_48135) + sext_i32_i64(local_tid_96257) * dim_48135 + i_0] = ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0];\n                        }\n                    }\n                }\n            }\n            // and back to memory with the final result\n            {\n                if (local_tid_96257 == 0) {\n                    ((__global int64_t *) mem_92760)[(int64_t) 0] = eta_p_96271;\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_92762)[i_0] = ((__global double *) mem_92755)[phys_tid_77600 * dim_48135 + i_0];\n                    }\n                    ((__global int64_t *) mem_92763)[(int64_t) 0] = eta_p_96273;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_77591\n    #undef chunk_sizze_96246\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_83358_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_83358(__global int *global_failure, int64_t dim_48135, int64_t n_48138, int64_t reduce_arg1_68023, double reduce_arg1_68025, int64_t num_tblocks_83350, int64_t num_threads_91269, __global unsigned char *xs_mem_90819, __global unsigned char *mem_91190, __global unsigned char *mem_91257, __global unsigned char *mem_91268, __global unsigned char *mem_91273, __global unsigned char *mem_91278, __global unsigned char *mem_91279, __global unsigned char *mem_91281, __global unsigned char *mem_91282, __global unsigned char *counters_mem_97183, __global unsigned char *segred_tmp_mem_97185, __global unsigned char *segred_tmp_mem_97187, __global unsigned char *segred_tmp_mem_97189, __global unsigned char *segred_tmp_mem_97191)\n{\n    #define segred_tblock_sizze_83348 (sort_for_Skyline_doublezisegred_nonseg_83358zisegred_tblock_sizze_83348)\n    #define chunk_sizze_97182 (sort_for_Skyline_doublezisegred_nonseg_83358zichunk_sizze_97182)\n    \n    volatile __local unsigned char *sync_arr_mem_97206_backing_3 ",
                                    "= &shared_mem[0];\n    const int64_t sync_arr_mem_97206_backing_3_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_97204_backing_2 = &shared_mem[sync_arr_mem_97206_backing_3_offset];\n    const int64_t red_arr_i64_mem_97204_backing_2_offset = sync_arr_mem_97206_backing_3_offset + ((int64_t) 8 * segred_tblock_sizze_83348 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_83348, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_f64_mem_97201_backing_1 = &shared_mem[red_arr_i64_mem_97204_backing_2_offset];\n    const int64_t red_arr_f64_mem_97201_backing_1_offset = red_arr_i64_mem_97204_backing_2_offset + ((int64_t) 8 * segred_tblock_sizze_83348 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_83348, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_i64_mem_97199_backing_0 = &shared_mem[red_arr_f64_mem_97201_backing_1_offset];\n    const int64_t red_arr_i64_mem_97199_backing_0_offset = red_arr_f64_mem_97201_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_83348 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_83348, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97195;\n    int32_t tblock_sizze_97198;\n    int32_t wave_sizze_97197;\n    int32_t block_id_97196;\n    int32_t global_tid_97194;\n    int64_t phys_tid_83358;\n    __local unsigned char *red_arr_i64_mem_97199;\n    __local unsigned char *red_arr_f64_mem_97201;\n    __local unsigned char *red_arr_i64_mem_97204;\n    __local unsigned char *sync_arr_mem_97206;\n    int64_t dummy_83356;\n    int64_t gtid_83357;\n    int64_t q_97208;\n    int64_t eta_p_block_res_acc_97209;\n    double eta_p_block_res_acc_97210;\n    int64_t eta_p_block_res_acc_97211;\n    int64_t eta_p_68045;\n    double eta_p_68046;\n    int64_t eta_p_68048;\n    int64_t eta_p_68049;\n    double eta_p_68050;\n    int64_t eta_p_68052;\n    int64_t tblock_id_in_segment_97235;\n    int64_t block_base_offset", "_97236;\n    int32_t old_counter_97241;\n    bool is_last_block_97244;\n    \n    local_tid_97195 = get_local_id(0);\n    tblock_sizze_97198 = get_local_size(0);\n    wave_sizze_97197 = LOCKSTEP_WIDTH;\n    block_id_97196 = get_tblock_id(0);\n    global_tid_97194 = block_id_97196 * tblock_sizze_97198 + local_tid_97195;\n    phys_tid_83358 = sext_i32_i64(global_tid_97194);\n    red_arr_i64_mem_97199 = (__local unsigned char *) red_arr_i64_mem_97199_backing_0;\n    red_arr_f64_mem_97201 = (__local unsigned char *) red_arr_f64_mem_97201_backing_1;\n    red_arr_i64_mem_97204 = (__local unsigned char *) red_arr_i64_mem_97204_backing_2;\n    sync_arr_mem_97206 = (__local unsigned char *) sync_arr_mem_97206_backing_3;\n    dummy_83356 = (int64_t) 0;\n    gtid_83357 = (int64_t) 0;\n    q_97208 = sdiv_up64(n_48138, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_83348 * num_tblocks_83350)) * chunk_sizze_97182);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_97209 = reduce_arg1_68023;\n        eta_p_block_res_acc_97210 = reduce_arg1_68025;\n        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n            ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348] = ((__global double *) xs_mem_90819)[i_0];\n        }\n        eta_p_block_res_acc_97211 = (int64_t) 0;\n    }\n    tblock_id_in_segment_97235 = squot64(phys_tid_83358, segred_tblock_sizze_83348);\n    block_base_offset_97236 = tblock_id_in_segment_97235 * q_97208 * segred_tblock_sizze_83348;\n    for (int64_t i_97237 = 0; i_97237 < q_97208; i_97237++) {\n        int64_t block_offset_97238;\n        int32_t offset_97239;\n        int32_t skip_waves_97240;\n        int64_t eta_p_97212;\n        double eta_p_97213;\n        int64_t eta_p_97215;\n        int64_t eta_p_97216;\n        double eta_p_97217;\n        int64_t eta_p_97219;\n        \n        block_offset_97238 = block_base_offset_", "97236 + i_97237 * segred_tblock_sizze_83348;\n        gtid_83357 = block_offset_97238 + sext_i32_i64(local_tid_97195);\n        if (slt64(gtid_83357, n_48138)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_68041 = ((__global int64_t *) mem_91257)[gtid_83357];\n                    double x_68042 = ((__global double *) mem_91190)[gtid_83357];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_68045 = eta_p_block_res_acc_97209;\n                        eta_p_68046 = eta_p_block_res_acc_97210;\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348];\n                        }\n                        eta_p_68048 = eta_p_block_res_acc_97211;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_68049 = x_68041;\n                        eta_p_68050 = x_68042;\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[(phys_tid_83358 + num_threads_91269) * dim_48135 + i_0] = ((__global double *) mem_91268)[gtid_83357 + i_0 * n_48138];\n                        }\n                        eta_p_68052 = gtid_83357;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool cond_68053 = slt64(eta_p_68045, eta_p_68049);\n                        bool cond_68054 = eta_p_68045 == eta_p_68049;\n                        bool lifted_lambda_res_f_res_t_res_68055 = eta_p_68046 <= eta_p_68050;\n                        bool x_68056 = cond_68054 && lifted_lambda_r",
                                    "es_f_res_t_res_68055;\n                        bool x_68057 = !cond_68053;\n                        bool y_68058 = x_68056 && x_68057;\n                        bool lifted_lambda_res_68059 = cond_68053 || y_68058;\n                        int64_t defunc_0_op_res_68060;\n                        \n                        if (lifted_lambda_res_68059) {\n                            defunc_0_op_res_68060 = eta_p_68049;\n                        } else {\n                            defunc_0_op_res_68060 = eta_p_68045;\n                        }\n                        \n                        double defunc_0_op_res_68061;\n                        \n                        if (lifted_lambda_res_68059) {\n                            defunc_0_op_res_68061 = eta_p_68050;\n                        } else {\n                            defunc_0_op_res_68061 = eta_p_68046;\n                        }\n                        \n                        int64_t defunc_0_op_res_68062;\n                        \n                        if (lifted_lambda_res_68059) {\n                            defunc_0_op_res_68062 = eta_p_68052;\n                        } else {\n                            defunc_0_op_res_68062 = eta_p_68048;\n                        }\n                        \n                        int64_t lmad_ext_91274 = dim_48135 * phys_tid_83358;\n                        int64_t binop_x_91275 = phys_tid_83358 + num_threads_91269;\n                        int64_t lmad_ext_91276 = dim_48135 * binop_x_91275;\n                        int64_t ext_91277;\n                        \n                        if (lifted_lambda_res_68059) {\n                            ext_91277 = lmad_ext_91276;\n                        } else {\n                            ext_91277 = lmad_ext_91274;\n                        }\n                        if (lifted_lambda_res_68059) { }\n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_97209 = defunc_0_op_res_68060;", "\n                            eta_p_block_res_acc_97210 = defunc_0_op_res_68061;\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348] = ((__global double *) mem_91273)[ext_91277 + i_0];\n                            }\n                            eta_p_block_res_acc_97211 = defunc_0_op_res_68062;\n                        }\n                    }\n                }\n            }\n        }\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195)] = eta_p_block_res_acc_97209;\n            ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195)] = eta_p_block_res_acc_97210;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348];\n            }\n            ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195)] = eta_p_block_res_acc_97211;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_97240 = 1;\n        offset_97239 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_97195, sext_i64_i32(segred_tblock_sizze_83348))) {\n                eta_p_97212 = ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                eta_p_97213 = ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                if (!(phys_tid_83358 * dim_48135 == sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 ", "* dim_48135) + sext_i32_i64(local_tid_97195 + offset_97239) * dim_48135)) {\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97239) * dim_48135 + i_0];\n                    }\n                }\n                eta_p_97215 = ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195 + offset_97239)];\n            }\n        }\n        offset_97239 = 1;\n        while (slt32(offset_97239, wave_sizze_97197)) {\n            if (slt32(local_tid_97195 + offset_97239, sext_i64_i32(segred_tblock_sizze_83348)) && ((local_tid_97195 - squot32(local_tid_97195, wave_sizze_97197) * wave_sizze_97197) & (2 * offset_97239 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_97216 = ((volatile __local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                    eta_p_97217 = ((volatile __local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                    if (!((phys_tid_83358 + num_threads_91269) * dim_48135 == sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97239) * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[(phys_tid_83358 + num_threads_91269) * dim_48135 + i_0] = ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97239) * dim_48135 + i_0];\n                        }\n                    }\n                    eta_p_97219 = ((volatile __local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                }\n                /",
                                    "/ apply reduction operation\n                {\n                    bool cond_97220 = slt64(eta_p_97212, eta_p_97216);\n                    bool cond_97221 = eta_p_97212 == eta_p_97216;\n                    bool lifted_lambda_res_f_res_t_res_97222 = eta_p_97213 <= eta_p_97217;\n                    bool x_97223 = cond_97221 && lifted_lambda_res_f_res_t_res_97222;\n                    bool x_97224 = !cond_97220;\n                    bool y_97225 = x_97223 && x_97224;\n                    bool lifted_lambda_res_97226 = cond_97220 || y_97225;\n                    int64_t defunc_0_op_res_97227;\n                    \n                    if (lifted_lambda_res_97226) {\n                        defunc_0_op_res_97227 = eta_p_97216;\n                    } else {\n                        defunc_0_op_res_97227 = eta_p_97212;\n                    }\n                    \n                    double defunc_0_op_res_97228;\n                    \n                    if (lifted_lambda_res_97226) {\n                        defunc_0_op_res_97228 = eta_p_97217;\n                    } else {\n                        defunc_0_op_res_97228 = eta_p_97213;\n                    }\n                    \n                    int64_t defunc_0_op_res_97229;\n                    \n                    if (lifted_lambda_res_97226) {\n                        defunc_0_op_res_97229 = eta_p_97219;\n                    } else {\n                        defunc_0_op_res_97229 = eta_p_97215;\n                    }\n                    \n                    int64_t lmad_ext_97230 = dim_48135 * phys_tid_83358;\n                    int64_t binop_x_97231 = phys_tid_83358 + num_threads_91269;\n                    int64_t lmad_ext_97232 = dim_48135 * binop_x_97231;\n                    int64_t ext_97233;\n                    \n                    if (lifted_lambda_res_97226) {\n                        ext_97233 = lmad_ext_97232;\n                    } else {\n                        ext_97233 = lmad_ext_97230;\n                    }\n                    if", " (lifted_lambda_res_97226) { }\n                    eta_p_97212 = defunc_0_op_res_97227;\n                    eta_p_97213 = defunc_0_op_res_97228;\n                    if (!(phys_tid_83358 * dim_48135 == ext_97233)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[ext_97233 + i_0];\n                        }\n                    }\n                    eta_p_97215 = defunc_0_op_res_97229;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195)] = eta_p_97212;\n                    ((volatile __local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195)] = eta_p_97213;\n                    ((volatile __local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195)] = eta_p_97215;\n                }\n            }\n            offset_97239 *= 2;\n        }\n        while (slt32(skip_waves_97240, squot32(sext_i64_i32(segred_tblock_sizze_83348) + wave_sizze_97197 - 1, wave_sizze_97197))) {\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            offset_97239 = skip_waves_97240 * wave_sizze_97197;\n            if (slt32(local_tid_97195 + offset_97239, sext_i64_i32(segred_tblock_sizze_83348)) && ((local_tid_97195 - squot32(local_tid_97195, wave_sizze_97197) * wave_sizze_97197) == 0 && (squot32(local_tid_97195, wave_sizze_97197) & (2 * skip_waves_97240 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_97216 = ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                    eta_p_97217 = ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                    if (!((phys_tid_83358 + num_threads_91269) * dim_48135 == sext_i32_i64(block_id_97196) * (seg", "red_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97239) * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[(phys_tid_83358 + num_threads_91269) * dim_48135 + i_0] = ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97239) * dim_48135 + i_0];\n                        }\n                    }\n                    eta_p_97219 = ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195 + offset_97239)];\n                }\n                // apply reduction operation\n                {\n                    bool cond_97220 = slt64(eta_p_97212, eta_p_97216);\n                    bool cond_97221 = eta_p_97212 == eta_p_97216;\n                    bool lifted_lambda_res_f_res_t_res_97222 = eta_p_97213 <= eta_p_97217;\n                    bool x_97223 = cond_97221 && lifted_lambda_res_f_res_t_res_97222;\n                    bool x_97224 = !cond_97220;\n                    bool y_97225 = x_97223 && x_97224;\n                    bool lifted_lambda_res_97226 = cond_97220 || y_97225;\n                    int64_t defunc_0_op_res_97227;\n                    \n                    if (lifted_lambda_res_97226) {\n                        defunc_0_op_res_97227 = eta_p_97216;\n                    } else {\n                        defunc_0_op_res_97227 = eta_p_97212;\n                    }\n                    \n                    double defunc_0_op_res_97228;\n                    \n                    if (lifted_lambda_res_97226) {\n                        defunc_0_op_res_97228 = eta_p_97217;\n                    } else {\n                        defunc_0_op_res_97228 = eta_p_97213;\n                    }\n                    \n                    int64_t defunc_0_op_res_97229;\n                    \n                    if (lifted_lambda_res_97226) {\n                        defunc_0_op_res_",
                                    "97229 = eta_p_97219;\n                    } else {\n                        defunc_0_op_res_97229 = eta_p_97215;\n                    }\n                    \n                    int64_t lmad_ext_97230 = dim_48135 * phys_tid_83358;\n                    int64_t binop_x_97231 = phys_tid_83358 + num_threads_91269;\n                    int64_t lmad_ext_97232 = dim_48135 * binop_x_97231;\n                    int64_t ext_97233;\n                    \n                    if (lifted_lambda_res_97226) {\n                        ext_97233 = lmad_ext_97232;\n                    } else {\n                        ext_97233 = lmad_ext_97230;\n                    }\n                    if (lifted_lambda_res_97226) { }\n                    eta_p_97212 = defunc_0_op_res_97227;\n                    eta_p_97213 = defunc_0_op_res_97228;\n                    if (!(phys_tid_83358 * dim_48135 == ext_97233)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[ext_97233 + i_0];\n                        }\n                    }\n                    eta_p_97215 = defunc_0_op_res_97229;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195)] = eta_p_97212;\n                    ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195)] = eta_p_97213;\n                    ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195)] = eta_p_97215;\n                }\n            }\n            skip_waves_97240 *= 2;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Copy array-typed operands to result array\n        {\n            if (local_tid_97195 == 0) {\n                if (!((sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195) * dim_48135) == ph", "ys_tid_83358 * dim_48135)) {\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195) * dim_48135 + i_0] = ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0];\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_97195) == (int64_t) 0) {\n                eta_p_block_res_acc_97209 = eta_p_97212;\n                eta_p_block_res_acc_97210 = eta_p_97213;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348] = ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0];\n                }\n                eta_p_block_res_acc_97211 = eta_p_97215;\n            } else {\n                eta_p_block_res_acc_97209 = reduce_arg1_68023;\n                eta_p_block_res_acc_97210 = reduce_arg1_68025;\n                for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                    ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348] = ((__global double *) xs_mem_90819)[i_0];\n                }\n                eta_p_block_res_acc_97211 = (int64_t) 0;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_97195 == 0) {\n            ((__global int64_t *) segred_tmp_mem_97185)[sext_i32_i64(block_id_97196)] = eta_p_block_res_acc_97209;\n            mem_fence_global();\n            ((__global double *) segred_tmp_me", "m_97187)[sext_i32_i64(block_id_97196)] = eta_p_block_res_acc_97210;\n            mem_fence_global();\n            for (int64_t nest_i_97242 = 0; nest_i_97242 < dim_48135; nest_i_97242++) {\n                double tmp_97243 = ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(local_tid_97195) + sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + nest_i_97242 * segred_tblock_sizze_83348];\n                \n                ((__global double *) segred_tmp_mem_97189)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + nest_i_97242 * segred_tblock_sizze_83348] = tmp_97243;\n                mem_fence_global();\n            }\n            ((__global int64_t *) segred_tmp_mem_97191)[sext_i32_i64(block_id_97196)] = eta_p_block_res_acc_97211;\n            mem_fence_global();\n            old_counter_97241 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97183)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_97206)[(int64_t) 0] = old_counter_97241 == sext_i64_i32(num_tblocks_83350 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_97244 = ((__local bool *) sync_arr_mem_97206)[(int64_t) 0];\n    if (is_last_block_97244) {\n        if (local_tid_97195 == 0) {\n            old_counter_97241 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97183)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_83350));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_97245 = sdiv_up64(num_tblocks_83350, segred_tblock_sizze_83348);\n            \n            eta_p_68045 = reduce_arg1_68023;\n            eta_p_68046 = reduce_arg1_68025;\n            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) xs_mem_90819)[i_0];\n            }\n            eta_p_68048 = (int64_t) 0;\n            for (int64_t i_97246 = 0",
                                    "; i_97246 < read_per_thread_97245; i_97246++) {\n                int64_t block_res_id_97247 = sext_i32_i64(local_tid_97195) * read_per_thread_97245 + i_97246;\n                int64_t index_of_block_res_97248 = block_res_id_97247;\n                \n                if (slt64(block_res_id_97247, num_tblocks_83350)) {\n                    eta_p_68049 = ((__global int64_t *) segred_tmp_mem_97185)[index_of_block_res_97248];\n                    eta_p_68050 = ((__global double *) segred_tmp_mem_97187)[index_of_block_res_97248];\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_91273)[(phys_tid_83358 + num_threads_91269) * dim_48135 + i_0] = ((__global double *) segred_tmp_mem_97189)[index_of_block_res_97248 * (segred_tblock_sizze_83348 * dim_48135) + i_0 * segred_tblock_sizze_83348];\n                    }\n                    eta_p_68052 = ((__global int64_t *) segred_tmp_mem_97191)[index_of_block_res_97248];\n                    \n                    bool cond_68053 = slt64(eta_p_68045, eta_p_68049);\n                    bool cond_68054 = eta_p_68045 == eta_p_68049;\n                    bool lifted_lambda_res_f_res_t_res_68055 = eta_p_68046 <= eta_p_68050;\n                    bool x_68056 = cond_68054 && lifted_lambda_res_f_res_t_res_68055;\n                    bool x_68057 = !cond_68053;\n                    bool y_68058 = x_68056 && x_68057;\n                    bool lifted_lambda_res_68059 = cond_68053 || y_68058;\n                    int64_t defunc_0_op_res_68060;\n                    \n                    if (lifted_lambda_res_68059) {\n                        defunc_0_op_res_68060 = eta_p_68049;\n                    } else {\n                        defunc_0_op_res_68060 = eta_p_68045;\n                    }\n                    \n                    double defunc_0_op_res_68061;\n                    \n                    if (lifted_lambda_res_68059) {\n                        defunc_0_op_res_68061 = eta_p_68050;\n          ", "          } else {\n                        defunc_0_op_res_68061 = eta_p_68046;\n                    }\n                    \n                    int64_t defunc_0_op_res_68062;\n                    \n                    if (lifted_lambda_res_68059) {\n                        defunc_0_op_res_68062 = eta_p_68052;\n                    } else {\n                        defunc_0_op_res_68062 = eta_p_68048;\n                    }\n                    \n                    int64_t lmad_ext_91274 = dim_48135 * phys_tid_83358;\n                    int64_t binop_x_91275 = phys_tid_83358 + num_threads_91269;\n                    int64_t lmad_ext_91276 = dim_48135 * binop_x_91275;\n                    int64_t ext_91277;\n                    \n                    if (lifted_lambda_res_68059) {\n                        ext_91277 = lmad_ext_91276;\n                    } else {\n                        ext_91277 = lmad_ext_91274;\n                    }\n                    if (lifted_lambda_res_68059) { }\n                    eta_p_68045 = defunc_0_op_res_68060;\n                    eta_p_68046 = defunc_0_op_res_68061;\n                    if (!(phys_tid_83358 * dim_48135 == ext_91277)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[ext_91277 + i_0];\n                        }\n                    }\n                    eta_p_68048 = defunc_0_op_res_68062;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195)] = eta_p_68045;\n        ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195)] = eta_p_68046;\n        ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195)] = eta_p_68048;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_97249;\n            int32_t skip_waves_97250 = 1;\n          ", "  int64_t eta_p_97212;\n            double eta_p_97213;\n            int64_t eta_p_97215;\n            int64_t eta_p_97216;\n            double eta_p_97217;\n            int64_t eta_p_97219;\n            \n            offset_97249 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_97195, sext_i64_i32(segred_tblock_sizze_83348))) {\n                    eta_p_97212 = ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                    eta_p_97213 = ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                    if (!(phys_tid_83358 * dim_48135 == sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97249) * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97249) * dim_48135 + i_0];\n                        }\n                    }\n                    eta_p_97215 = ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                }\n            }\n            offset_97249 = 1;\n            while (slt32(offset_97249, wave_sizze_97197)) {\n                if (slt32(local_tid_97195 + offset_97249, sext_i64_i32(segred_tblock_sizze_83348)) && ((local_tid_97195 - squot32(local_tid_97195, wave_sizze_97197) * wave_sizze_97197) & (2 * offset_97249 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_97216 = ((volatile __local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                        eta_p_97217 = ((volatile __local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97",
                                    "195 + offset_97249)];\n                        if (!((phys_tid_83358 + num_threads_91269) * dim_48135 == sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97249) * dim_48135)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_91273)[(phys_tid_83358 + num_threads_91269) * dim_48135 + i_0] = ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97249) * dim_48135 + i_0];\n                            }\n                        }\n                        eta_p_97219 = ((volatile __local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool cond_97220 = slt64(eta_p_97212, eta_p_97216);\n                        bool cond_97221 = eta_p_97212 == eta_p_97216;\n                        bool lifted_lambda_res_f_res_t_res_97222 = eta_p_97213 <= eta_p_97217;\n                        bool x_97223 = cond_97221 && lifted_lambda_res_f_res_t_res_97222;\n                        bool x_97224 = !cond_97220;\n                        bool y_97225 = x_97223 && x_97224;\n                        bool lifted_lambda_res_97226 = cond_97220 || y_97225;\n                        int64_t defunc_0_op_res_97227;\n                        \n                        if (lifted_lambda_res_97226) {\n                            defunc_0_op_res_97227 = eta_p_97216;\n                        } else {\n                            defunc_0_op_res_97227 = eta_p_97212;\n                        }\n                        \n                        double defunc_0_op_res_97228;\n                        \n                        if (lifted_lambda_res_97226) {\n                            defunc_0_op_res_97228 = eta_p_97217;\n                        } else {\n       ", "                     defunc_0_op_res_97228 = eta_p_97213;\n                        }\n                        \n                        int64_t defunc_0_op_res_97229;\n                        \n                        if (lifted_lambda_res_97226) {\n                            defunc_0_op_res_97229 = eta_p_97219;\n                        } else {\n                            defunc_0_op_res_97229 = eta_p_97215;\n                        }\n                        \n                        int64_t lmad_ext_97230 = dim_48135 * phys_tid_83358;\n                        int64_t binop_x_97231 = phys_tid_83358 + num_threads_91269;\n                        int64_t lmad_ext_97232 = dim_48135 * binop_x_97231;\n                        int64_t ext_97233;\n                        \n                        if (lifted_lambda_res_97226) {\n                            ext_97233 = lmad_ext_97232;\n                        } else {\n                            ext_97233 = lmad_ext_97230;\n                        }\n                        if (lifted_lambda_res_97226) { }\n                        eta_p_97212 = defunc_0_op_res_97227;\n                        eta_p_97213 = defunc_0_op_res_97228;\n                        if (!(phys_tid_83358 * dim_48135 == ext_97233)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[ext_97233 + i_0];\n                            }\n                        }\n                        eta_p_97215 = defunc_0_op_res_97229;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195)] = eta_p_97212;\n                        ((volatile __local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195)] = eta_p_97213;\n                        ((volatile __local int64_t *) red_arr_i64_mem_97204)[", "sext_i32_i64(local_tid_97195)] = eta_p_97215;\n                    }\n                }\n                offset_97249 *= 2;\n            }\n            while (slt32(skip_waves_97250, squot32(sext_i64_i32(segred_tblock_sizze_83348) + wave_sizze_97197 - 1, wave_sizze_97197))) {\n                barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n                offset_97249 = skip_waves_97250 * wave_sizze_97197;\n                if (slt32(local_tid_97195 + offset_97249, sext_i64_i32(segred_tblock_sizze_83348)) && ((local_tid_97195 - squot32(local_tid_97195, wave_sizze_97197) * wave_sizze_97197) == 0 && (squot32(local_tid_97195, wave_sizze_97197) & (2 * skip_waves_97250 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_97216 = ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                        eta_p_97217 = ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                        if (!((phys_tid_83358 + num_threads_91269) * dim_48135 == sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97249) * dim_48135)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_91273)[(phys_tid_83358 + num_threads_91269) * dim_48135 + i_0] = ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195 + offset_97249) * dim_48135 + i_0];\n                            }\n                        }\n                        eta_p_97219 = ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195 + offset_97249)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool cond_97220 = slt64(eta_p_97212, eta_p_97216);\n                        bool cond_97221 = eta_p_97212 == ",
                                    "eta_p_97216;\n                        bool lifted_lambda_res_f_res_t_res_97222 = eta_p_97213 <= eta_p_97217;\n                        bool x_97223 = cond_97221 && lifted_lambda_res_f_res_t_res_97222;\n                        bool x_97224 = !cond_97220;\n                        bool y_97225 = x_97223 && x_97224;\n                        bool lifted_lambda_res_97226 = cond_97220 || y_97225;\n                        int64_t defunc_0_op_res_97227;\n                        \n                        if (lifted_lambda_res_97226) {\n                            defunc_0_op_res_97227 = eta_p_97216;\n                        } else {\n                            defunc_0_op_res_97227 = eta_p_97212;\n                        }\n                        \n                        double defunc_0_op_res_97228;\n                        \n                        if (lifted_lambda_res_97226) {\n                            defunc_0_op_res_97228 = eta_p_97217;\n                        } else {\n                            defunc_0_op_res_97228 = eta_p_97213;\n                        }\n                        \n                        int64_t defunc_0_op_res_97229;\n                        \n                        if (lifted_lambda_res_97226) {\n                            defunc_0_op_res_97229 = eta_p_97219;\n                        } else {\n                            defunc_0_op_res_97229 = eta_p_97215;\n                        }\n                        \n                        int64_t lmad_ext_97230 = dim_48135 * phys_tid_83358;\n                        int64_t binop_x_97231 = phys_tid_83358 + num_threads_91269;\n                        int64_t lmad_ext_97232 = dim_48135 * binop_x_97231;\n                        int64_t ext_97233;\n                        \n                        if (lifted_lambda_res_97226) {\n                            ext_97233 = lmad_ext_97232;\n                        } else {\n                            ext_97233 = lmad_ext_97230;\n                        }\n                        if (lifted_l", "ambda_res_97226) { }\n                        eta_p_97212 = defunc_0_op_res_97227;\n                        eta_p_97213 = defunc_0_op_res_97228;\n                        if (!(phys_tid_83358 * dim_48135 == ext_97233)) {\n                            for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                                ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0] = ((__global double *) mem_91273)[ext_97233 + i_0];\n                            }\n                        }\n                        eta_p_97215 = defunc_0_op_res_97229;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_97199)[sext_i32_i64(local_tid_97195)] = eta_p_97212;\n                        ((__local double *) red_arr_f64_mem_97201)[sext_i32_i64(local_tid_97195)] = eta_p_97213;\n                        ((__local int64_t *) red_arr_i64_mem_97204)[sext_i32_i64(local_tid_97195)] = eta_p_97215;\n                    }\n                }\n                skip_waves_97250 *= 2;\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            // Copy array-typed operands to result array\n            {\n                if (local_tid_97195 == 0) {\n                    if (!((sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195) * dim_48135) == phys_tid_83358 * dim_48135)) {\n                        for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                            ((__global double *) mem_91273)[sext_i32_i64(block_id_97196) * (segred_tblock_sizze_83348 * dim_48135) + sext_i32_i64(local_tid_97195) * dim_48135 + i_0] = ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0];\n                        }\n                    }\n                }\n            }\n            // and back to memory with the final result\n            {\n                if (local_tid_97195 == 0) {\n                    ((__global int64_t ", "*) mem_91278)[(int64_t) 0] = eta_p_97212;\n                    ((__global double *) mem_91279)[(int64_t) 0] = eta_p_97213;\n                    for (int64_t i_0 = 0; i_0 < dim_48135; i_0++) {\n                        ((__global double *) mem_91281)[i_0] = ((__global double *) mem_91273)[phys_tid_83358 * dim_48135 + i_0];\n                    }\n                    ((__global int64_t *) mem_91282)[(int64_t) 0] = eta_p_97215;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_83348\n    #undef chunk_sizze_97182\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_88126_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_88126(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_48135, int64_t dz2080U_48136, int64_t total_grid_no_48146, int64_t i_68761, int64_t num_tblocks_88121, int64_t num_threads_95693, int64_t num_threads_98061, __global unsigned char *start_of_grid_partition_mem_90818, __global unsigned char *mem_90832, __global unsigned char *mem_90833, __global unsigned char *mem_93710, __global unsigned char *color_95492, __global unsigned char *counters_mem_98057, __global unsigned char *segred_tmp_mem_98059)\n{\n    #define segred_tblock_sizze_88119 (sort_for_Skyline_doublezisegred_nonseg_88126zisegred_tblock_sizze_88119)\n    #define chunk_sizze_98056 (sort_for_Skyline_doublezisegred_nonseg_88126zichunk_sizze_98056)\n    \n    volatile __local unsigned char *sync_arr_mem_98069_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_98069_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_bool_mem_98067_backing_0 = &shared_mem[sync_arr_mem_98069_backing_1_offset];\n    const int64_t red_arr_bool_mem_98067_backing_0_offset = sync_arr_mem_98069_backing_1_offset + (segred_tblock_sizze_88119 + srem64((int64_t) 8 - srem64(segred_tblock_sizze_88119, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (fail",
                                    "ure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98063;\n    int32_t tblock_sizze_98066;\n    int32_t wave_sizze_98065;\n    int32_t block_id_98064;\n    int32_t global_tid_98062;\n    int64_t phys_tid_88126;\n    __local unsigned char *red_arr_bool_mem_98067;\n    __local unsigned char *sync_arr_mem_98069;\n    int64_t dummy_88124;\n    int64_t gtid_88125;\n    int64_t q_98071;\n    bool eta_p_block_res_acc_98072;\n    bool eta_p_68793;\n    bool eta_p_68794;\n    int64_t tblock_id_in_segment_98076;\n    int64_t block_base_offset_98077;\n    int32_t offset_98082;\n    int32_t skip_waves_98083;\n    bool eta_p_98073;\n    bool eta_p_98074;\n    int32_t old_counter_98084;\n    bool is_last_block_98085;\n    \n    local_tid_98063 = get_local_id(0);\n    tblock_sizze_98066 = get_local_size(0);\n    wave_sizze_98065 = LOCKSTEP_WIDTH;\n    block_id_98064 = get_tblock_id(0);\n    global_tid_98062 = block_id_98064 * tblock_sizze_98066 + local_tid_98063;\n    phys_tid_88126 = sext_i32_i64(global_tid_98062);\n    red_arr_bool_mem_98067 = (__local unsigned char *) red_arr_bool_mem_98067_backing_0;\n    sync_arr_mem_98069 = (__local unsigned char *) sync_arr_mem_98069_backing_1;\n    dummy_88124 = (int64_t) 0;\n    gtid_88125 = (int64_t) 0;\n    q_98071 = sdiv_up64(total_grid_no_48146, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_88119 * num_tblocks_88121)) * chunk_sizze_98056);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_98072 = 0;\n    }\n    tblock_id_in_segment_98076 = squot64(phys_tid_88126, segred_tblock_sizze_88119);\n    block_base_offset_98077 = tblock_id_in_segment_98076 * q_98071 * segred_tblock_sizze_88119;\n    for (int64_t i_98078 = 0; i_98078 < q_98071; i_98078++) {\n        int64_t block_offset_98079 = block_base_offset_98077 + i_98078 * segred_tblock_sizze_88119;\n        \n        gtid_88125 = phys_t", "id_88126 + num_threads_98061 * i_98078;\n        if (slt64(gtid_88125, total_grid_no_48146)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    bool cond_71297 = gtid_88125 == i_68761;\n                    bool x_94564 = !cond_71297;\n                    int32_t zeze_lhs_71303;\n                    \n                    if (x_94564) {\n                        int32_t x_94566 = ((__global int32_t *) mem_90832)[gtid_88125];\n                        \n                        zeze_lhs_71303 = x_94566;\n                    } else {\n                        zeze_lhs_71303 = 0;\n                    }\n                    \n                    bool cond_f_res_71304 = zeze_lhs_71303 == 0;\n                    bool cond_71298 = cond_71297 || cond_f_res_71304;\n                    bool defunc_0_f_res_71305;\n                    \n                    if (cond_71298) {\n                        defunc_0_f_res_71305 = 0;\n                    } else {\n                        bool y_71307 = slt64(gtid_88125, dz2080U_48136);\n                        bool index_certs_71309;\n                        \n                        if (!y_71307) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 174) == -1) {\n                                    global_failure_args[0] = (int64_t) gtid_88125;\n                                    global_failure_args[1] = (int64_t) dz2080U_48136;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        for (int64_t i_90445 = 0; i_90445 < dim_48135; i_90445++) {\n                            double eta_p_71312 = ((__global double *) start_of_grid_partition_mem_90818)[i_68761 * dim_48135 + i_90445];\n                            double eta_p_71313 = ((__global doub", "le *) mem_93710)[gtid_88125 + i_90445 * dz2080U_48136];\n                            bool defunc_0_f_res_71314 = eta_p_71313 < eta_p_71312;\n                            \n                            ((__global bool *) color_95492)[phys_tid_88126 + i_90445 * num_threads_95693] = defunc_0_f_res_71314;\n                        }\n                        \n                        bool defunc_0_foldl_res_71315;\n                        bool acc_71317 = 1;\n                        \n                        for (int64_t i_71316 = 0; i_71316 < dim_48135; i_71316++) {\n                            bool b_71318 = ((__global bool *) color_95492)[phys_tid_88126 + i_71316 * num_threads_95693];\n                            bool x_71319 = acc_71317 && b_71318;\n                            bool acc_tmp_98081 = x_71319;\n                            \n                            acc_71317 = acc_tmp_98081;\n                        }\n                        defunc_0_foldl_res_71315 = acc_71317;\n                        defunc_0_f_res_71305 = defunc_0_foldl_res_71315;\n                    }\n                    // load accumulator(s)\n                    {\n                        eta_p_68793 = eta_p_block_res_acc_98072;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_68794 = defunc_0_f_res_71305;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool defunc_0_op_res_68795 = eta_p_68793 || eta_p_68794;\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_98072 = defunc_0_op_res_68795;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n",
                                    "        ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063)] = eta_p_block_res_acc_98072;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_98083 = 1;\n    offset_98082 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_98063, sext_i64_i32(segred_tblock_sizze_88119))) {\n            eta_p_98073 = ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063 + offset_98082)];\n        }\n    }\n    offset_98082 = 1;\n    while (slt32(offset_98082, wave_sizze_98065)) {\n        if (slt32(local_tid_98063 + offset_98082, sext_i64_i32(segred_tblock_sizze_88119)) && ((local_tid_98063 - squot32(local_tid_98063, wave_sizze_98065) * wave_sizze_98065) & (2 * offset_98082 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_98074 = ((volatile __local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063 + offset_98082)];\n            }\n            // apply reduction operation\n            {\n                bool defunc_0_op_res_98075 = eta_p_98073 || eta_p_98074;\n                \n                eta_p_98073 = defunc_0_op_res_98075;\n            }\n            // write result of operation\n            {\n                ((volatile __local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063)] = eta_p_98073;\n            }\n        }\n        offset_98082 *= 2;\n    }\n    while (slt32(skip_waves_98083, squot32(sext_i64_i32(segred_tblock_sizze_88119) + wave_sizze_98065 - 1, wave_sizze_98065))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_98082 = skip_waves_98083 * wave_sizze_98065;\n        if (slt32(local_tid_98063 + offset_98082, sext_i64_i32(segred_tblock_sizze_88119)) && ((local_tid_98063 - squot32(local_tid_98063, wave_sizze_98065) * wave_sizze_98065) == 0 && (squot32(local_tid_98063, wave_sizze_98065) & (2 * skip_waves_98083 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_98074 = ((__local bool *) red_arr_bool_mem_98067)[sext_", "i32_i64(local_tid_98063 + offset_98082)];\n            }\n            // apply reduction operation\n            {\n                bool defunc_0_op_res_98075 = eta_p_98073 || eta_p_98074;\n                \n                eta_p_98073 = defunc_0_op_res_98075;\n            }\n            // write result of operation\n            {\n                ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063)] = eta_p_98073;\n            }\n        }\n        skip_waves_98083 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_98063) == (int64_t) 0) {\n            eta_p_block_res_acc_98072 = eta_p_98073;\n        } else {\n            eta_p_block_res_acc_98072 = 0;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_98063 == 0) {\n            ((__global bool *) segred_tmp_mem_98059)[sext_i32_i64(block_id_98064)] = eta_p_block_res_acc_98072;\n            mem_fence_global();\n            old_counter_98084 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98057)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_98069)[(int64_t) 0] = old_counter_98084 == sext_i64_i32(num_tblocks_88121 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_98085 = ((__local bool *) sync_arr_mem_98069)[(int64_t) 0];\n    if (is_last_block_98085) {\n        if (local_tid_98063 == 0) {\n            old_counter_98084 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98057)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_88121));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_98086 = sdiv_up64(num_tblocks_88121, segred_tblock_sizze_88119);\n            \n            eta_p_68793 = 0;\n            for (int64_t i_98087 = 0; i_98087 < read_per_thread_98086; i_98087++) {\n    ", "            int64_t block_res_id_98088 = sext_i32_i64(local_tid_98063) * read_per_thread_98086 + i_98087;\n                int64_t index_of_block_res_98089 = block_res_id_98088;\n                \n                if (slt64(block_res_id_98088, num_tblocks_88121)) {\n                    eta_p_68794 = ((__global bool *) segred_tmp_mem_98059)[index_of_block_res_98089];\n                    \n                    bool defunc_0_op_res_68795 = eta_p_68793 || eta_p_68794;\n                    \n                    eta_p_68793 = defunc_0_op_res_68795;\n                }\n            }\n        }\n        ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063)] = eta_p_68793;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_98090;\n            int32_t skip_waves_98091 = 1;\n            bool eta_p_98073;\n            bool eta_p_98074;\n            \n            offset_98090 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_98063, sext_i64_i32(segred_tblock_sizze_88119))) {\n                    eta_p_98073 = ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063 + offset_98090)];\n                }\n            }\n            offset_98090 = 1;\n            while (slt32(offset_98090, wave_sizze_98065)) {\n                if (slt32(local_tid_98063 + offset_98090, sext_i64_i32(segred_tblock_sizze_88119)) && ((local_tid_98063 - squot32(local_tid_98063, wave_sizze_98065) * wave_sizze_98065) & (2 * offset_98090 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_98074 = ((volatile __local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063 + offset_98090)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool defunc_0_op_res_98075 = eta_p_98073 || eta_p_98074;\n                        \n                        eta_p",
                                    "_98073 = defunc_0_op_res_98075;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063)] = eta_p_98073;\n                    }\n                }\n                offset_98090 *= 2;\n            }\n            while (slt32(skip_waves_98091, squot32(sext_i64_i32(segred_tblock_sizze_88119) + wave_sizze_98065 - 1, wave_sizze_98065))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_98090 = skip_waves_98091 * wave_sizze_98065;\n                if (slt32(local_tid_98063 + offset_98090, sext_i64_i32(segred_tblock_sizze_88119)) && ((local_tid_98063 - squot32(local_tid_98063, wave_sizze_98065) * wave_sizze_98065) == 0 && (squot32(local_tid_98063, wave_sizze_98065) & (2 * skip_waves_98091 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_98074 = ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063 + offset_98090)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool defunc_0_op_res_98075 = eta_p_98073 || eta_p_98074;\n                        \n                        eta_p_98073 = defunc_0_op_res_98075;\n                    }\n                    // write result of operation\n                    {\n                        ((__local bool *) red_arr_bool_mem_98067)[sext_i32_i64(local_tid_98063)] = eta_p_98073;\n                    }\n                }\n                skip_waves_98091 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_98063 == 0) {\n                    ((__global bool *) mem_90833)[i_68761] = eta_p_98073;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_88119\n    #undef chunk_sizze_98056\n}\nFUTHARK_KERNEL_", "SIZED(sort_for_Skyline_doublezisegred_small_97981_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_small_97981(__global int *global_failure, int64_t total_grid_no_48146, int64_t num_tblocks_88038, int64_t num_subhistos_97875, int64_t segment_sizze_nonzzero_97983, __global unsigned char *mem_90832, __global unsigned char *defunc_0_map_res_subhistos_mem_97876)\n{\n    #define seghist_tblock_sizze_88036 (sort_for_Skyline_doublezisegred_small_97981ziseghist_tblock_sizze_88036)\n    \n    volatile __local unsigned char *red_arr_i32_mem_97990_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i32_mem_97990_backing_0_offset = 0 + ((int64_t) 4 * seghist_tblock_sizze_88036 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88036, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97986;\n    int32_t tblock_sizze_97989;\n    int32_t wave_sizze_97988;\n    int32_t block_id_97987;\n    int32_t global_tid_97985;\n    int64_t flat_gtid_97981;\n    __local unsigned char *red_arr_i32_mem_97990;\n    int32_t phys_tblock_id_97992;\n    int32_t iterations_97993;\n    \n    local_tid_97986 = get_local_id(0);\n    tblock_sizze_97989 = get_local_size(0);\n    wave_sizze_97988 = LOCKSTEP_WIDTH;\n    block_id_97987 = get_tblock_id(0);\n    global_tid_97985 = block_id_97987 * tblock_sizze_97989 + local_tid_97986;\n    flat_gtid_97981 = sext_i32_i64(global_tid_97985);\n    red_arr_i32_mem_97990 = (__local unsigned char *) red_arr_i32_mem_97990_backing_0;\n    phys_tblock_id_97992 = get_tblock_id(0);\n    iterations_97993 = sdiv_up32(sext_i64_i32(sdiv_up64(total_grid_no_48146, squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983))) - phys_tblock_id_97992, sext_i64_i32(num_tblocks_88038));\n    for (int32_t i_97994 = 0; i_97994 < iterations_97993; i_97994++) {\n        int32_t virt_tblock_id_97995;\n        int64_t slice_97996;\n        int64_t bucket_id_97979;\n        int64_t remnant_97997;\n        int64_t subhistogram_id_97980;\n     ", "   \n        virt_tblock_id_97995 = phys_tblock_id_97992 + i_97994 * sext_i64_i32(num_tblocks_88038);\n        slice_97996 = total_grid_no_48146;\n        bucket_id_97979 = squot64(sext_i32_i64(local_tid_97986), segment_sizze_nonzzero_97983) + sext_i32_i64(virt_tblock_id_97995) * squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983);\n        remnant_97997 = squot64(sext_i32_i64(local_tid_97986), segment_sizze_nonzzero_97983) + sext_i32_i64(virt_tblock_id_97995) * squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983) - bucket_id_97979;\n        subhistogram_id_97980 = srem64(sext_i32_i64(local_tid_97986), num_subhistos_97875);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_97875) && (slt64(bucket_id_97979, total_grid_no_48146) && slt64(sext_i32_i64(local_tid_97986), num_subhistos_97875 * squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983)))) {\n                // save results to be reduced\n                {\n                    int32_t tmp_97998 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_97876)[subhistogram_id_97980 * total_grid_no_48146 + bucket_id_97979];\n                    \n                    ((__local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)] = tmp_97998;\n                }\n            } else {\n                ((__local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)] = 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_97875)) {\n            // perform segmented scan to imitate reduction\n            {\n                int32_t eta_p_88044;\n                int32_t eta_p_88045;\n                int32_t eta_p_97999;\n                int32_t eta_p_98000;\n                bool ltid_in_bounds_98002 = slt64(sext_i32_i64(local_tid_97986), num_subhistos_97875 * squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983));\n                int32_t skip_threads_98003;\n           ",
                                    "     \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_98002) {\n                        eta_p_88045 = ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)];\n                        if ((local_tid_97986 - squot32(local_tid_97986, 32) * 32) == 0) {\n                            eta_p_88044 = eta_p_88045;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_98003 = 1;\n                    while (slt32(skip_threads_98003, 32)) {\n                        bool thread_active_98004 = sle32(skip_threads_98003, local_tid_97986 - squot32(local_tid_97986, 32) * 32) && ltid_in_bounds_98002;\n                        \n                        if (thread_active_98004) {\n                            // read operands\n                            {\n                                eta_p_88044 = ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986) - sext_i32_i64(skip_threads_98003)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_98005 = slt64(srem64(sext_i32_i64(local_tid_97986), num_subhistos_97875), sext_i32_i64(local_tid_97986) - sext_i32_i64(local_tid_97986 - skip_threads_98003));\n                            \n                            if (thread_active_98004 && inactive_98005) {\n                                eta_p_88044 = eta_p_88045;\n                            }\n                            if (thread_active_98004) {\n                                if (!inactive_98005) {\n                                    int32_t defunc_0_op_res_88046 = add32(eta_p_88044, eta_p_88045);\n                                    \n                                    eta_p_88044 = defunc_0_op_res_88046;\n                                }\n              ", "              }\n                        }\n                        if (sle32(wave_sizze_97988, skip_threads_98003)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_98004) {\n                            // write result\n                            {\n                                ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)] = eta_p_88044;\n                                eta_p_88045 = eta_p_88044;\n                            }\n                        }\n                        if (sle32(wave_sizze_97988, skip_threads_98003)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_98003 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_97986 - squot32(local_tid_97986, 32) * 32) == 31 && ltid_in_bounds_98002) {\n                        ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(squot32(local_tid_97986, 32))] = eta_p_88044;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_98006;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_97986, 32) == 0 && ltid_in_bounds_98002) {\n                            eta_p_98000 = ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)];\n                            if ((local_tid_97986 - squot32(local_tid_97986, 32) * 32) == 0) {\n                                eta_p_97999 = eta_p_98000;\n                            }\n                        }\n                    }\n ", "                   // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_98006 = 1;\n                        while (slt32(skip_threads_98006, 32)) {\n                            bool thread_active_98007 = sle32(skip_threads_98006, local_tid_97986 - squot32(local_tid_97986, 32) * 32) && (squot32(local_tid_97986, 32) == 0 && ltid_in_bounds_98002);\n                            \n                            if (thread_active_98007) {\n                                // read operands\n                                {\n                                    eta_p_97999 = ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986) - sext_i32_i64(skip_threads_98006)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_98008 = slt64(srem64(sext_i32_i64(local_tid_97986 * 32 + 32 - 1), num_subhistos_97875), sext_i32_i64(local_tid_97986 * 32 + 32 - 1) - sext_i32_i64((local_tid_97986 - skip_threads_98006) * 32 + 32 - 1));\n                                \n                                if (thread_active_98007 && inactive_98008) {\n                                    eta_p_97999 = eta_p_98000;\n                                }\n                                if (thread_active_98007) {\n                                    if (!inactive_98008) {\n                                        int32_t defunc_0_op_res_98001 = add32(eta_p_97999, eta_p_98000);\n                                        \n                                        eta_p_97999 = defunc_0_op_res_98001;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_97988, skip_threads_98006)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_98007",
                                    ") {\n                                // write result\n                                {\n                                    ((volatile __local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)] = eta_p_97999;\n                                    eta_p_98000 = eta_p_97999;\n                                }\n                            }\n                            if (sle32(wave_sizze_97988, skip_threads_98006)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_98006 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_98009 = squot32(local_tid_97986, 32) == 0 || !ltid_in_bounds_98002;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_98009) {\n                            eta_p_88045 = eta_p_88044;\n                            eta_p_88044 = ((__local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(squot32(local_tid_97986, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_98010 = slt64(srem64(sext_i32_i64(local_tid_97986), num_subhistos_97875), sext_i32_i64(local_tid_97986) - sext_i32_i64(squot32(local_tid_97986, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_98009) {\n                            if (inactive_98010) {\n                                eta_p_88044 = eta_p_88045;\n                            }\n                        }\n                        if (!no_carry_in_98009) {\n                            if (!inactive_98010) {\n                                int32_t defunc_0_op_res_88046 = add32(eta_p_88044, eta_p_88045);\n                                \n             ", "                   eta_p_88044 = defunc_0_op_res_88046;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_98009) {\n                            ((__local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)] = eta_p_88044;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_97986, 32) == 0 && ltid_in_bounds_98002) {\n                        ((__local int32_t *) red_arr_i32_mem_97990)[sext_i32_i64(local_tid_97986)] = eta_p_88045;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_97995) * squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983) + sext_i32_i64(local_tid_97986), total_grid_no_48146) && slt64(sext_i32_i64(local_tid_97986), squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983))) {\n                int32_t tmp_98011 = ((__local int32_t *) red_arr_i32_mem_97990)[(sext_i32_i64(local_tid_97986) + (int64_t) 1) * segment_sizze_nonzzero_97983 - (int64_t) 1];\n                \n                ((__global int32_t *) mem_90832)[sext_i32_i64(virt_tblock_id_97995) * squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983) + sext_i32_i64(local_tid_97986)] = tmp_98011;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_88036\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_small_99168_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_small_99168(__global int *global_failure, int64_t total_part", "_no_48147, int64_t num_tblocks_90223, int64_t num_subhistos_99082, int64_t segment_sizze_nonzzero_99170, __global unsigned char *mem_90838, __global unsigned char *defunc_0_map_res_subhistos_mem_99083)\n{\n    #define seghist_tblock_sizze_90221 (sort_for_Skyline_doublezisegred_small_99168ziseghist_tblock_sizze_90221)\n    \n    volatile __local unsigned char *red_arr_i64_mem_99177_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_99177_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_90221 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_90221, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99173;\n    int32_t tblock_sizze_99176;\n    int32_t wave_sizze_99175;\n    int32_t block_id_99174;\n    int32_t global_tid_99172;\n    int64_t flat_gtid_99168;\n    __local unsigned char *red_arr_i64_mem_99177;\n    int32_t phys_tblock_id_99179;\n    int32_t iterations_99180;\n    \n    local_tid_99173 = get_local_id(0);\n    tblock_sizze_99176 = get_local_size(0);\n    wave_sizze_99175 = LOCKSTEP_WIDTH;\n    block_id_99174 = get_tblock_id(0);\n    global_tid_99172 = block_id_99174 * tblock_sizze_99176 + local_tid_99173;\n    flat_gtid_99168 = sext_i32_i64(global_tid_99172);\n    red_arr_i64_mem_99177 = (__local unsigned char *) red_arr_i64_mem_99177_backing_0;\n    phys_tblock_id_99179 = get_tblock_id(0);\n    iterations_99180 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_48147, squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170))) - phys_tblock_id_99179, sext_i64_i32(num_tblocks_90223));\n    for (int32_t i_99181 = 0; i_99181 < iterations_99180; i_99181++) {\n        int32_t virt_tblock_id_99182;\n        int64_t slice_99183;\n        int64_t bucket_id_99166;\n        int64_t remnant_99184;\n        int64_t subhistogram_id_99167;\n        \n        virt_tblock_id_99182 = phys_tblock_id_99179 + i_99181 * sext_i64_i32(num_tblocks_90223);\n        slice_99183 = total_part_no_48147;\n        bucket_",
                                    "id_99166 = squot64(sext_i32_i64(local_tid_99173), segment_sizze_nonzzero_99170) + sext_i32_i64(virt_tblock_id_99182) * squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170);\n        remnant_99184 = squot64(sext_i32_i64(local_tid_99173), segment_sizze_nonzzero_99170) + sext_i32_i64(virt_tblock_id_99182) * squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170) - bucket_id_99166;\n        subhistogram_id_99167 = srem64(sext_i32_i64(local_tid_99173), num_subhistos_99082);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_99082) && (slt64(bucket_id_99166, total_part_no_48147) && slt64(sext_i32_i64(local_tid_99173), num_subhistos_99082 * squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170)))) {\n                // save results to be reduced\n                {\n                    int64_t tmp_99185 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_99083)[subhistogram_id_99167 * total_part_no_48147 + bucket_id_99166];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)] = tmp_99185;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_99082)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_90229;\n                int64_t eta_p_90230;\n                int64_t eta_p_99186;\n                int64_t eta_p_99187;\n                bool ltid_in_bounds_99189 = slt64(sext_i32_i64(local_tid_99173), num_subhistos_99082 * squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170));\n                int32_t skip_threads_99190;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_99189) {\n                        eta_p", "_90230 = ((volatile __local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)];\n                        if ((local_tid_99173 - squot32(local_tid_99173, 32) * 32) == 0) {\n                            eta_p_90229 = eta_p_90230;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_99190 = 1;\n                    while (slt32(skip_threads_99190, 32)) {\n                        bool thread_active_99191 = sle32(skip_threads_99190, local_tid_99173 - squot32(local_tid_99173, 32) * 32) && ltid_in_bounds_99189;\n                        \n                        if (thread_active_99191) {\n                            // read operands\n                            {\n                                eta_p_90229 = ((volatile __local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173) - sext_i32_i64(skip_threads_99190)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_99192 = slt64(srem64(sext_i32_i64(local_tid_99173), num_subhistos_99082), sext_i32_i64(local_tid_99173) - sext_i32_i64(local_tid_99173 - skip_threads_99190));\n                            \n                            if (thread_active_99191 && inactive_99192) {\n                                eta_p_90229 = eta_p_90230;\n                            }\n                            if (thread_active_99191) {\n                                if (!inactive_99192) {\n                                    int64_t defunc_0_op_res_90231 = add64(eta_p_90229, eta_p_90230);\n                                    \n                                    eta_p_90229 = defunc_0_op_res_90231;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_99175, skip_threads_99190)) {\n                            barr", "ier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_99191) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)] = eta_p_90229;\n                                eta_p_90230 = eta_p_90229;\n                            }\n                        }\n                        if (sle32(wave_sizze_99175, skip_threads_99190)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_99190 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_99173 - squot32(local_tid_99173, 32) * 32) == 31 && ltid_in_bounds_99189) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(squot32(local_tid_99173, 32))] = eta_p_90229;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_99193;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_99173, 32) == 0 && ltid_in_bounds_99189) {\n                            eta_p_99187 = ((volatile __local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)];\n                            if ((local_tid_99173 - squot32(local_tid_99173, 32) * 32) == 0) {\n                                eta_p_99186 = eta_p_99187;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_99193 = 1;\n            ",
                                    "            while (slt32(skip_threads_99193, 32)) {\n                            bool thread_active_99194 = sle32(skip_threads_99193, local_tid_99173 - squot32(local_tid_99173, 32) * 32) && (squot32(local_tid_99173, 32) == 0 && ltid_in_bounds_99189);\n                            \n                            if (thread_active_99194) {\n                                // read operands\n                                {\n                                    eta_p_99186 = ((volatile __local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173) - sext_i32_i64(skip_threads_99193)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_99195 = slt64(srem64(sext_i32_i64(local_tid_99173 * 32 + 32 - 1), num_subhistos_99082), sext_i32_i64(local_tid_99173 * 32 + 32 - 1) - sext_i32_i64((local_tid_99173 - skip_threads_99193) * 32 + 32 - 1));\n                                \n                                if (thread_active_99194 && inactive_99195) {\n                                    eta_p_99186 = eta_p_99187;\n                                }\n                                if (thread_active_99194) {\n                                    if (!inactive_99195) {\n                                        int64_t defunc_0_op_res_99188 = add64(eta_p_99186, eta_p_99187);\n                                        \n                                        eta_p_99186 = defunc_0_op_res_99188;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_99175, skip_threads_99193)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_99194) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t ", "*) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)] = eta_p_99186;\n                                    eta_p_99187 = eta_p_99186;\n                                }\n                            }\n                            if (sle32(wave_sizze_99175, skip_threads_99193)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_99193 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_99196 = squot32(local_tid_99173, 32) == 0 || !ltid_in_bounds_99189;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_99196) {\n                            eta_p_90230 = eta_p_90229;\n                            eta_p_90229 = ((__local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(squot32(local_tid_99173, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_99197 = slt64(srem64(sext_i32_i64(local_tid_99173), num_subhistos_99082), sext_i32_i64(local_tid_99173) - sext_i32_i64(squot32(local_tid_99173, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_99196) {\n                            if (inactive_99197) {\n                                eta_p_90229 = eta_p_90230;\n                            }\n                        }\n                        if (!no_carry_in_99196) {\n                            if (!inactive_99197) {\n                                int64_t defunc_0_op_res_90231 = add64(eta_p_90229, eta_p_90230);\n                                \n                                eta_p_90229 = defunc_0_op_res_90231;\n                            }\n                        }\n                    }\n               ", "     // write final result\n                    {\n                        if (!no_carry_in_99196) {\n                            ((__local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)] = eta_p_90229;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_99173, 32) == 0 && ltid_in_bounds_99189) {\n                        ((__local int64_t *) red_arr_i64_mem_99177)[sext_i32_i64(local_tid_99173)] = eta_p_90230;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_99182) * squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170) + sext_i32_i64(local_tid_99173), total_part_no_48147) && slt64(sext_i32_i64(local_tid_99173), squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170))) {\n                int64_t tmp_99198 = ((__local int64_t *) red_arr_i64_mem_99177)[(sext_i32_i64(local_tid_99173) + (int64_t) 1) * segment_sizze_nonzzero_99170 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_90838)[sext_i32_i64(virt_tblock_id_99182) * squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170) + sext_i32_i64(local_tid_99173)] = tmp_99198;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_90221\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegscan_89915_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegscan_89915(__global int *global_failure, int64_t n_48138, int64_t num_tblocks_89911, int64_t num_virt_blocks_98469, int64_t num_virt_threads_98470, __global unsigned char *ext_mem_94033, __global unsigned char *mem_940",
                                    "38, __global unsigned char *status_flags_mem_98471, __global unsigned char *aggregates_mem_98473, __global unsigned char *incprefixes_mem_98475, __global unsigned char *global_dynid_mem_98477)\n{\n    #define segscan_tblock_sizze_89910 (sort_for_Skyline_doublezisegscan_89915zisegscan_tblock_sizze_89910)\n    #define chunk_sizze_98468 (sort_for_Skyline_doublezisegscan_89915zichunk_sizze_98468)\n    \n    volatile __local unsigned char *local_mem_98487_backing_0 = &shared_mem[0];\n    const int64_t local_mem_98487_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_89910), chunk_sizze_98468 * segscan_tblock_sizze_89910 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_89910), chunk_sizze_98468 * segscan_tblock_sizze_89910 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98480;\n    int32_t tblock_sizze_98483;\n    int32_t wave_sizze_98482;\n    int32_t block_id_98481;\n    int32_t global_tid_98479;\n    int64_t phys_tid_89915;\n    int32_t chunk_sizze_32b_98484;\n    int64_t byte_offsets_98485;\n    int64_t warp_byte_offset_98486;\n    __local unsigned char *local_mem_98487;\n    int64_t trans_arr_len_98488;\n    int64_t phys_block_id_98494;\n    int64_t virtloop_bound_98495;\n    \n    local_tid_98480 = get_local_id(0);\n    tblock_sizze_98483 = get_local_size(0);\n    wave_sizze_98482 = LOCKSTEP_WIDTH;\n    block_id_98481 = get_tblock_id(0);\n    global_tid_98479 = block_id_98481 * tblock_sizze_98483 + local_tid_98480;\n    phys_tid_89915 = sext_i32_i64(global_tid_98479);\n    chunk_sizze_32b_98484 = sext_i64_i32(chunk_sizze_98468);\n    byte_offsets_98485 = segscan_tblock_sizze_89910 * (int64_t) 8;\n    warp_byte_offset_98486 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_98487 = (__local unsigned char *) local_mem_98487_backing_0;\n    trans_arr_len_98488 = chunk_sizze_98468 * segscan_tblock_sizz", "e_89910;\n    phys_block_id_98494 = get_tblock_id(0);\n    virtloop_bound_98495 = sdiv_up64(num_virt_blocks_98469 - phys_block_id_98494, num_tblocks_89911);\n    for (int64_t virtloop_i_98496 = 0; virtloop_i_98496 < virtloop_bound_98495; virtloop_i_98496++) {\n        int64_t dynamic_id_98497;\n        int64_t block_offset_98498;\n        int64_t sgm_idx_98499;\n        int32_t boundary_98500;\n        int32_t segsizze_compact_98501;\n        int64_t private_mem_98502[chunk_sizze_98468];\n        int64_t thd_offset_98504;\n        int64_t acc_98520;\n        int64_t prefix_98530;\n        bool block_new_sgm_98531;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_98480 == 0) {\n                dynamic_id_98497 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_98477)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_98487)[(int64_t) 0] = dynamic_id_98497;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_98497 == num_virt_blocks_98469 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_98477)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_98497 = ((__local int32_t *) local_mem_98487)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_98498 = dynamic_id_98497 * chunk_sizze_98468 * segscan_tblock_sizze_89910;\n        sgm_idx_98499 = smod64(block_offset_98498, n_48138);\n        boundary_98500 = sext_i64_i32(smin64(chunk_sizze_98468 * segscan_tblock_sizze_89910, n_48138 - sgm_idx_98499));\n        segsizze_compact_98501 = sext_i64_i32(smin64(chunk_sizze_98468 * segscan_tblock_sizze_89910, n_48138));\n        thd_offset_98504 = block_offset_98498 + sext_i32_i64(local_tid_98480);\n ", "       // Load and map\n        {\n            for (int64_t i_98505 = 0; i_98505 < chunk_sizze_98468; i_98505++) {\n                int64_t virt_tid_98506 = thd_offset_98504 + i_98505 * segscan_tblock_sizze_89910;\n                int64_t slice_98507 = n_48138;\n                int64_t gtid_89914 = virt_tid_98506;\n                int64_t remnant_98508 = virt_tid_98506 - gtid_89914;\n                \n                if (slt64(virt_tid_98506, n_48138)) {\n                    int64_t x_89919 = ((__global int64_t *) ext_mem_94033)[gtid_89914];\n                    \n                    private_mem_98502[i_98505] = x_89919;\n                } else {\n                    private_mem_98502[i_98505] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_98509 = 0; i_98509 < chunk_sizze_98468; i_98509++) {\n                int64_t sharedIdx_98510 = sext_i32_i64(local_tid_98480) + i_98509 * segscan_tblock_sizze_89910;\n                int64_t tmp_98511 = private_mem_98502[i_98509];\n                \n                ((__local int64_t *) local_mem_98487)[sharedIdx_98510] = tmp_98511;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_98512 = 0; i_98512 < chunk_sizze_98468; i_98512++) {\n                int64_t sharedIdx_98513 = sext_i32_i64(local_tid_98480) * chunk_sizze_98468 + i_98512;\n                int64_t tmp_98514 = ((__local int64_t *) local_mem_98487)[sharedIdx_98513];\n                \n                private_mem_98502[i_98512] = tmp_98514;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_98515 = 0; i_98515 < chunk_sizze_98468 - (int64_t) 1; i_98515++) {\n                int64_t eta_p_89916;\n                int64_t eta_p_89917;\n                \n                eta_p_89916 = private_mem_98502[i_98515];\n                eta_p_89917 = private_mem_98502[i_98515 + (int64_",
                                    "t) 1];\n                \n                int64_t defunc_0_op_res_89918 = add64(eta_p_89916, eta_p_89917);\n                \n                private_mem_98502[i_98515 + (int64_t) 1] = defunc_0_op_res_89918;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_98516 = private_mem_98502[chunk_sizze_98468 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = tmp_98516;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_98517;\n            int64_t eta_p_98518;\n            int64_t eta_p_98521;\n            int64_t eta_p_98522;\n            bool ltid_in_bounds_98524 = slt64(sext_i32_i64(local_tid_98480), num_virt_threads_98470);\n            int32_t skip_threads_98525;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_98524) {\n                    eta_p_98518 = ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)];\n                    if ((local_tid_98480 - squot32(local_tid_98480, 32) * 32) == 0) {\n                        eta_p_98517 = eta_p_98518;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_98525 = 1;\n                while (slt32(skip_threads_98525, 32)) {\n                    bool thread_active_98526 = sle32(skip_threads_98525, local_tid_98480 - squot32(local_tid_98480, 32) * 32) && ltid_in_bounds_98524;\n                    \n                    if (thread_active_98526) {\n                        // read operands\n                        {\n                            eta_p_98517 = ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480) - sext_i32_i64(skip_threads_98525)];\n                        }\n                    }\n                    // perform operation\n                    {\n        ", "                if (thread_active_98526) {\n                            int64_t defunc_0_op_res_98519 = add64(eta_p_98517, eta_p_98518);\n                            \n                            eta_p_98517 = defunc_0_op_res_98519;\n                        }\n                    }\n                    if (sle32(wave_sizze_98482, skip_threads_98525)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_98526) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = eta_p_98517;\n                            eta_p_98518 = eta_p_98517;\n                        }\n                    }\n                    if (sle32(wave_sizze_98482, skip_threads_98525)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_98525 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_98480 - squot32(local_tid_98480, 32) * 32) == 31 && ltid_in_bounds_98524) {\n                    ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(squot32(local_tid_98480, 32))] = eta_p_98517;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_98527;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_98480, 32) == 0 && ltid_in_bounds_98524) {\n                        eta_p_98522 = ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)];\n                        if ((local_tid_98480 - squot32(local_tid_98480, 32) * 32) == 0) {\n                            eta_p_98521 = eta_p_9852", "2;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_98527 = 1;\n                    while (slt32(skip_threads_98527, 32)) {\n                        bool thread_active_98528 = sle32(skip_threads_98527, local_tid_98480 - squot32(local_tid_98480, 32) * 32) && (squot32(local_tid_98480, 32) == 0 && ltid_in_bounds_98524);\n                        \n                        if (thread_active_98528) {\n                            // read operands\n                            {\n                                eta_p_98521 = ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480) - sext_i32_i64(skip_threads_98527)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_98528) {\n                                int64_t defunc_0_op_res_98523 = add64(eta_p_98521, eta_p_98522);\n                                \n                                eta_p_98521 = defunc_0_op_res_98523;\n                            }\n                        }\n                        if (sle32(wave_sizze_98482, skip_threads_98527)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_98528) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = eta_p_98521;\n                                eta_p_98522 = eta_p_98521;\n                            }\n                        }\n                        if (sle32(wave_sizze_98482, skip_threads_98527)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_98527 *= 2;\n                    }\n                }\n            }\n            barri",
                                    "er(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_98529 = squot32(local_tid_98480, 32) == 0 || !ltid_in_bounds_98524;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_98529) {\n                        eta_p_98518 = eta_p_98517;\n                        eta_p_98517 = ((__local int64_t *) local_mem_98487)[sext_i32_i64(squot32(local_tid_98480, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_98529) {\n                        int64_t defunc_0_op_res_98519 = add64(eta_p_98517, eta_p_98518);\n                        \n                        eta_p_98517 = defunc_0_op_res_98519;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_98529) {\n                        ((__local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = eta_p_98517;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_98480, 32) == 0 && ltid_in_bounds_98524) {\n                    ((__local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = eta_p_98518;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98480 == 0) {\n                acc_98520 = ((__local int64_t *) local_mem_98487)[segscan_tblock_sizze_89910 - (int64_t) 1];\n            } else {\n                acc_98520 = ((__local int64_t *) local_mem_98487)[sext_i32_i64(local_tid_98480) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_98530 = (int64_t) 0;\n        block_new_sgm_98531 = sgm_idx_98499 == (int64_t) 0;\n        // Perform look", "back\n        {\n            if (block_new_sgm_98531 && local_tid_98480 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_98475)[dynamic_id_98497] = acc_98520;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_98471)[dynamic_id_98497] = (int8_t) 2;\n                acc_98520 = (int64_t) 0;\n            }\n            if (!block_new_sgm_98531 && slt32(local_tid_98480, wave_sizze_98482)) {\n                if (local_tid_98480 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_98473)[dynamic_id_98497] = acc_98520;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_98471)[dynamic_id_98497] = (int8_t) 1;\n                    \n                    int8_t tmp_98532 = ((volatile __global int8_t *) status_flags_mem_98471)[dynamic_id_98497 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_98487)[(int64_t) 0] = tmp_98532;\n                }\n                mem_fence_local();\n                \n                int8_t status_98533 = ((__local int8_t *) local_mem_98487)[(int64_t) 0];\n                \n                if (status_98533 == (int8_t) 2) {\n                    if (local_tid_98480 == 0) {\n                        prefix_98530 = ((volatile __global int64_t *) incprefixes_mem_98475)[dynamic_id_98497 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_98534 = sext_i64_i32(dynamic_id_98497 - sext_i32_i64(wave_sizze_98482));\n                    \n                    while (slt32(wave_sizze_98482 * -1, readOffset_98534)) {\n                        int32_t read_i_98535 = readOffset_98534 + local_tid_98480;\n                        int64_t aggr_98536 = (int64_t) 0;\n                        int8_t flag_98537 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_98535)) {\n                            flag_98537 = ((volatile __glo", "bal int8_t *) status_flags_mem_98471)[sext_i32_i64(read_i_98535)];\n                            if (flag_98537 == (int8_t) 2) {\n                                aggr_98536 = ((volatile __global int64_t *) incprefixes_mem_98475)[sext_i32_i64(read_i_98535)];\n                            } else if (flag_98537 == (int8_t) 1) {\n                                aggr_98536 = ((volatile __global int64_t *) aggregates_mem_98473)[sext_i32_i64(read_i_98535)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_98487)[(int64_t) 4 + sext_i32_i64(local_tid_98480)] = aggr_98536;\n                        ((__local int8_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = flag_98537;\n                        flag_98537 = ((__local int8_t *) local_mem_98487)[sext_i32_i64(wave_sizze_98482) - (int64_t) 1];\n                        if (slt8(flag_98537, (int8_t) 2)) {\n                            int8_t flg_x_98541;\n                            int8_t flg_y_98542;\n                            int64_t eta_p_98538;\n                            int64_t eta_p_98539;\n                            int32_t skip_threads_98543;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_98542 = ((volatile __local int8_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)];\n                                eta_p_98539 = ((volatile __local int64_t *) local_mem_98487)[(int64_t) 4 + sext_i32_i64(local_tid_98480)];\n                                if ((local_tid_98480 - squot32(local_tid_98480, 32) * 32) == 0) {\n                                    eta_p_98538 = eta_p_98539;\n                                    flg_x_98541 = flg_y_98542;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_98543 = 1;\n     ",
                                    "                           while (slt32(skip_threads_98543, 32)) {\n                                    if (sle32(skip_threads_98543, local_tid_98480 - squot32(local_tid_98480, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_98541 = ((volatile __local int8_t *) local_mem_98487)[sext_i32_i64(local_tid_98480) - sext_i32_i64(skip_threads_98543)];\n                                            eta_p_98538 = ((volatile __local int64_t *) local_mem_98487)[(int64_t) 4 + (sext_i32_i64(local_tid_98480) - sext_i32_i64(skip_threads_98543))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_98542 == (int8_t) 2 || flg_y_98542 == (int8_t) 0) {\n                                                flg_x_98541 = flg_y_98542;\n                                                eta_p_98538 = eta_p_98539;\n                                            } else {\n                                                int64_t defunc_0_op_res_98540 = add64(eta_p_98538, eta_p_98539);\n                                                \n                                                eta_p_98538 = defunc_0_op_res_98540;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_98487)[sext_i32_i64(local_tid_98480)] = flg_x_98541;\n                                            flg_y_98542 = flg_x_98541;\n                                            ((volatile __local int64_t *) local_mem_98487)[(int64_t) 4 + sext_i32_i64(local_tid_98480)] = eta_p_98538;\n                                            eta_p_98539 = eta_p_98538;\n                                     ", "   }\n                                    }\n                                    skip_threads_98543 *= 2;\n                                }\n                            }\n                        }\n                        flag_98537 = ((__local int8_t *) local_mem_98487)[sext_i32_i64(wave_sizze_98482) - (int64_t) 1];\n                        aggr_98536 = ((__local int64_t *) local_mem_98487)[(int64_t) 4 + (sext_i32_i64(wave_sizze_98482) - (int64_t) 1)];\n                        if (flag_98537 == (int8_t) 2) {\n                            readOffset_98534 = wave_sizze_98482 * -1;\n                        } else if (flag_98537 == (int8_t) 1) {\n                            readOffset_98534 -= wave_sizze_98482;\n                        }\n                        if (slt8((int8_t) 0, flag_98537)) {\n                            int64_t eta_p_98544 = aggr_98536;\n                            int64_t eta_p_98545 = prefix_98530;\n                            int64_t defunc_0_op_res_98546 = add64(eta_p_98544, eta_p_98545);\n                            \n                            prefix_98530 = defunc_0_op_res_98546;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_98480 == 0) {\n                    if (boundary_98500 == sext_i64_i32(segscan_tblock_sizze_89910 * chunk_sizze_98468)) {\n                        int64_t eta_p_98547 = prefix_98530;\n                        int64_t eta_p_98548 = acc_98520;\n                        int64_t defunc_0_op_res_98549 = add64(eta_p_98547, eta_p_98548);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_98475)[dynamic_id_98497] = defunc_0_op_res_98549;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_98471)[dynamic_id_98497] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_98487)[(int64_t) 4] = prefix_98530;\n                  ", "  acc_98520 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_98497 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_98530 = ((__local int64_t *) local_mem_98487)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_98550;\n            int64_t eta_p_98551;\n            int64_t eta_p_98553 = prefix_98530;\n            int64_t eta_p_98554 = acc_98520;\n            \n            if (slt32(local_tid_98480 * chunk_sizze_32b_98484, boundary_98500) && !block_new_sgm_98531) {\n                int64_t defunc_0_op_res_98555 = add64(eta_p_98553, eta_p_98554);\n                \n                eta_p_98550 = defunc_0_op_res_98555;\n            } else {\n                eta_p_98550 = acc_98520;\n            }\n            \n            int32_t stopping_point_98556 = segsizze_compact_98501 - srem32(local_tid_98480 * chunk_sizze_32b_98484 - 1 + segsizze_compact_98501 - boundary_98500, segsizze_compact_98501);\n            \n            for (int64_t i_98557 = 0; i_98557 < chunk_sizze_98468; i_98557++) {\n                if (slt32(sext_i64_i32(i_98557), stopping_point_98556 - 1)) {\n                    eta_p_98551 = private_mem_98502[i_98557];\n                    \n                    int64_t defunc_0_op_res_98552 = add64(eta_p_98550, eta_p_98551);\n                    \n                    private_mem_98502[i_98557] = defunc_0_op_res_98552;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_98558 = 0; i_98558 < chunk_sizze_98468; i_98558++) {\n                int64_t sharedIdx_98559 = sext_i32_i64(local_tid_98480) * chunk_sizze_98468 + i_98558;\n                int64_t tmp_98560 = private_mem_98502[i_98558];\n                \n                ((__local int64_t *) local_mem_98487)[sharedIdx_98559] = tmp_98560;\n            }\n            b",
                                    "arrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_98561 = 0; i_98561 < chunk_sizze_98468; i_98561++) {\n                int64_t flat_idx_98562 = thd_offset_98504 + i_98561 * segscan_tblock_sizze_89910;\n                int64_t slice_98563 = n_48138;\n                int64_t gtid_89914 = flat_idx_98562;\n                int64_t remnant_98564 = flat_idx_98562 - gtid_89914;\n                \n                if (slt64(flat_idx_98562, n_48138)) {\n                    int64_t tmp_98565 = ((__local int64_t *) local_mem_98487)[flat_idx_98562 - block_offset_98498];\n                    \n                    ((__global int64_t *) mem_94038)[gtid_89914] = tmp_98565;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_89910\n    #undef chunk_sizze_98468\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegscan_90241_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegscan_90241(__global int *global_failure, int64_t total_part_no_48147, int64_t num_tblocks_90238, int64_t num_virt_blocks_99247, int64_t num_virt_threads_99248, __global unsigned char *mem_90838, __global unsigned char *mem_94388, __global unsigned char *status_flags_mem_99249, __global unsigned char *aggregates_mem_99251, __global unsigned char *incprefixes_mem_99253, __global unsigned char *global_dynid_mem_99255)\n{\n    #define segscan_tblock_sizze_90236 (sort_for_Skyline_doublezisegscan_90241zisegscan_tblock_sizze_90236)\n    #define chunk_sizze_99246 (sort_for_Skyline_doublezisegscan_90241zichunk_sizze_99246)\n    \n    volatile __local unsigned char *local_mem_99265_backing_0 = &shared_mem[0];\n    const int64_t local_mem_99265_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_90236), chunk_sizze_99246 * segscan_tblock_sizze_90236 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_90236), chunk_sizze_99246 * segscan_tblock_sizze_90236 *", " (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99258;\n    int32_t tblock_sizze_99261;\n    int32_t wave_sizze_99260;\n    int32_t block_id_99259;\n    int32_t global_tid_99257;\n    int64_t phys_tid_90241;\n    int32_t chunk_sizze_32b_99262;\n    int64_t byte_offsets_99263;\n    int64_t warp_byte_offset_99264;\n    __local unsigned char *local_mem_99265;\n    int64_t trans_arr_len_99266;\n    int64_t phys_block_id_99272;\n    int64_t virtloop_bound_99273;\n    \n    local_tid_99258 = get_local_id(0);\n    tblock_sizze_99261 = get_local_size(0);\n    wave_sizze_99260 = LOCKSTEP_WIDTH;\n    block_id_99259 = get_tblock_id(0);\n    global_tid_99257 = block_id_99259 * tblock_sizze_99261 + local_tid_99258;\n    phys_tid_90241 = sext_i32_i64(global_tid_99257);\n    chunk_sizze_32b_99262 = sext_i64_i32(chunk_sizze_99246);\n    byte_offsets_99263 = segscan_tblock_sizze_90236 * (int64_t) 8;\n    warp_byte_offset_99264 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_99265 = (__local unsigned char *) local_mem_99265_backing_0;\n    trans_arr_len_99266 = chunk_sizze_99246 * segscan_tblock_sizze_90236;\n    phys_block_id_99272 = get_tblock_id(0);\n    virtloop_bound_99273 = sdiv_up64(num_virt_blocks_99247 - phys_block_id_99272, num_tblocks_90238);\n    for (int64_t virtloop_i_99274 = 0; virtloop_i_99274 < virtloop_bound_99273; virtloop_i_99274++) {\n        int64_t dynamic_id_99275;\n        int64_t block_offset_99276;\n        int64_t sgm_idx_99277;\n        int32_t boundary_99278;\n        int32_t segsizze_compact_99279;\n        int64_t private_mem_99280[chunk_sizze_99246];\n        int64_t thd_offset_99282;\n        int64_t acc_99298;\n        int64_t prefix_99308;\n        bool block_new_sgm_99309;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_99258 == 0) {\n                dynamic_id_99275 = atomic_add_i32_global(&((volatile __global int *) gl", "obal_dynid_mem_99255)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_99265)[(int64_t) 0] = dynamic_id_99275;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_99275 == num_virt_blocks_99247 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_99255)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_99275 = ((__local int32_t *) local_mem_99265)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_99276 = dynamic_id_99275 * chunk_sizze_99246 * segscan_tblock_sizze_90236;\n        sgm_idx_99277 = smod64(block_offset_99276, total_part_no_48147);\n        boundary_99278 = sext_i64_i32(smin64(chunk_sizze_99246 * segscan_tblock_sizze_90236, total_part_no_48147 - sgm_idx_99277));\n        segsizze_compact_99279 = sext_i64_i32(smin64(chunk_sizze_99246 * segscan_tblock_sizze_90236, total_part_no_48147));\n        thd_offset_99282 = block_offset_99276 + sext_i32_i64(local_tid_99258);\n        // Load and map\n        {\n            for (int64_t i_99283 = 0; i_99283 < chunk_sizze_99246; i_99283++) {\n                int64_t virt_tid_99284 = thd_offset_99282 + i_99283 * segscan_tblock_sizze_90236;\n                int64_t slice_99285 = total_part_no_48147;\n                int64_t gtid_90240 = virt_tid_99284;\n                int64_t remnant_99286 = virt_tid_99284 - gtid_90240;\n                \n                if (slt64(virt_tid_99284, total_part_no_48147)) {\n                    int64_t x_69286 = ((__global int64_t *) mem_90838)[gtid_90240];\n                    \n                    private_mem_99280[i_99283] = x_69286;\n                } else {\n                    private_mem_99280[i_99283] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(C",
                                    "LK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_99287 = 0; i_99287 < chunk_sizze_99246; i_99287++) {\n                int64_t sharedIdx_99288 = sext_i32_i64(local_tid_99258) + i_99287 * segscan_tblock_sizze_90236;\n                int64_t tmp_99289 = private_mem_99280[i_99287];\n                \n                ((__local int64_t *) local_mem_99265)[sharedIdx_99288] = tmp_99289;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_99290 = 0; i_99290 < chunk_sizze_99246; i_99290++) {\n                int64_t sharedIdx_99291 = sext_i32_i64(local_tid_99258) * chunk_sizze_99246 + i_99290;\n                int64_t tmp_99292 = ((__local int64_t *) local_mem_99265)[sharedIdx_99291];\n                \n                private_mem_99280[i_99290] = tmp_99292;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_99293 = 0; i_99293 < chunk_sizze_99246 - (int64_t) 1; i_99293++) {\n                int64_t eta_p_69287;\n                int64_t eta_p_69288;\n                \n                eta_p_69287 = private_mem_99280[i_99293];\n                eta_p_69288 = private_mem_99280[i_99293 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_69289 = add64(eta_p_69287, eta_p_69288);\n                \n                private_mem_99280[i_99293 + (int64_t) 1] = defunc_0_op_res_69289;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_99294 = private_mem_99280[chunk_sizze_99246 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = tmp_99294;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_99295;\n            int64_t eta_p_99296;\n            int64_t eta_p_99299;\n            int64_t eta_p_99300;\n            bool ltid_in_bounds_99302 = slt64(sext_i32_i", "64(local_tid_99258), num_virt_threads_99248);\n            int32_t skip_threads_99303;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_99302) {\n                    eta_p_99296 = ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)];\n                    if ((local_tid_99258 - squot32(local_tid_99258, 32) * 32) == 0) {\n                        eta_p_99295 = eta_p_99296;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_99303 = 1;\n                while (slt32(skip_threads_99303, 32)) {\n                    bool thread_active_99304 = sle32(skip_threads_99303, local_tid_99258 - squot32(local_tid_99258, 32) * 32) && ltid_in_bounds_99302;\n                    \n                    if (thread_active_99304) {\n                        // read operands\n                        {\n                            eta_p_99295 = ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258) - sext_i32_i64(skip_threads_99303)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_99304) {\n                            int64_t defunc_0_op_res_99297 = add64(eta_p_99295, eta_p_99296);\n                            \n                            eta_p_99295 = defunc_0_op_res_99297;\n                        }\n                    }\n                    if (sle32(wave_sizze_99260, skip_threads_99303)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_99304) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = eta_p_99295;\n                            eta_p_99296 = eta_p_99295;\n                        }\n                    }\n  ", "                  if (sle32(wave_sizze_99260, skip_threads_99303)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_99303 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_99258 - squot32(local_tid_99258, 32) * 32) == 31 && ltid_in_bounds_99302) {\n                    ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(squot32(local_tid_99258, 32))] = eta_p_99295;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_99305;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_99258, 32) == 0 && ltid_in_bounds_99302) {\n                        eta_p_99300 = ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)];\n                        if ((local_tid_99258 - squot32(local_tid_99258, 32) * 32) == 0) {\n                            eta_p_99299 = eta_p_99300;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_99305 = 1;\n                    while (slt32(skip_threads_99305, 32)) {\n                        bool thread_active_99306 = sle32(skip_threads_99305, local_tid_99258 - squot32(local_tid_99258, 32) * 32) && (squot32(local_tid_99258, 32) == 0 && ltid_in_bounds_99302);\n                        \n                        if (thread_active_99306) {\n                            // read operands\n                            {\n                                eta_p_99299 = ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258) - sext_i32_i64(skip_threads_99305)];\n    ",
                                    "                        }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_99306) {\n                                int64_t defunc_0_op_res_99301 = add64(eta_p_99299, eta_p_99300);\n                                \n                                eta_p_99299 = defunc_0_op_res_99301;\n                            }\n                        }\n                        if (sle32(wave_sizze_99260, skip_threads_99305)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_99306) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = eta_p_99299;\n                                eta_p_99300 = eta_p_99299;\n                            }\n                        }\n                        if (sle32(wave_sizze_99260, skip_threads_99305)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_99305 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_99307 = squot32(local_tid_99258, 32) == 0 || !ltid_in_bounds_99302;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_99307) {\n                        eta_p_99296 = eta_p_99295;\n                        eta_p_99295 = ((__local int64_t *) local_mem_99265)[sext_i32_i64(squot32(local_tid_99258, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_99307) {\n                        int64_t defunc_0_op_res_99297 = add64(eta_p_99295, eta_p_99296);\n                        \n       ", "                 eta_p_99295 = defunc_0_op_res_99297;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_99307) {\n                        ((__local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = eta_p_99295;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_99258, 32) == 0 && ltid_in_bounds_99302) {\n                    ((__local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = eta_p_99296;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_99258 == 0) {\n                acc_99298 = ((__local int64_t *) local_mem_99265)[segscan_tblock_sizze_90236 - (int64_t) 1];\n            } else {\n                acc_99298 = ((__local int64_t *) local_mem_99265)[sext_i32_i64(local_tid_99258) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_99308 = (int64_t) 0;\n        block_new_sgm_99309 = sgm_idx_99277 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_99309 && local_tid_99258 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_99253)[dynamic_id_99275] = acc_99298;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_99249)[dynamic_id_99275] = (int8_t) 2;\n                acc_99298 = (int64_t) 0;\n            }\n            if (!block_new_sgm_99309 && slt32(local_tid_99258, wave_sizze_99260)) {\n                if (local_tid_99258 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_99251)[dynamic_id_99275] = acc_99298;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_99249)[dynamic_id_99275] = (int8_t) 1;\n              ", "      \n                    int8_t tmp_99310 = ((volatile __global int8_t *) status_flags_mem_99249)[dynamic_id_99275 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_99265)[(int64_t) 0] = tmp_99310;\n                }\n                mem_fence_local();\n                \n                int8_t status_99311 = ((__local int8_t *) local_mem_99265)[(int64_t) 0];\n                \n                if (status_99311 == (int8_t) 2) {\n                    if (local_tid_99258 == 0) {\n                        prefix_99308 = ((volatile __global int64_t *) incprefixes_mem_99253)[dynamic_id_99275 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_99312 = sext_i64_i32(dynamic_id_99275 - sext_i32_i64(wave_sizze_99260));\n                    \n                    while (slt32(wave_sizze_99260 * -1, readOffset_99312)) {\n                        int32_t read_i_99313 = readOffset_99312 + local_tid_99258;\n                        int64_t aggr_99314 = (int64_t) 0;\n                        int8_t flag_99315 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_99313)) {\n                            flag_99315 = ((volatile __global int8_t *) status_flags_mem_99249)[sext_i32_i64(read_i_99313)];\n                            if (flag_99315 == (int8_t) 2) {\n                                aggr_99314 = ((volatile __global int64_t *) incprefixes_mem_99253)[sext_i32_i64(read_i_99313)];\n                            } else if (flag_99315 == (int8_t) 1) {\n                                aggr_99314 = ((volatile __global int64_t *) aggregates_mem_99251)[sext_i32_i64(read_i_99313)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_99265)[(int64_t) 4 + sext_i32_i64(local_tid_99258)] = aggr_99314;\n                        ((__local int8_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = flag_99315;\n                        flag_993",
                                    "15 = ((__local int8_t *) local_mem_99265)[sext_i32_i64(wave_sizze_99260) - (int64_t) 1];\n                        if (slt8(flag_99315, (int8_t) 2)) {\n                            int8_t flg_x_99319;\n                            int8_t flg_y_99320;\n                            int64_t eta_p_99316;\n                            int64_t eta_p_99317;\n                            int32_t skip_threads_99321;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_99320 = ((volatile __local int8_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)];\n                                eta_p_99317 = ((volatile __local int64_t *) local_mem_99265)[(int64_t) 4 + sext_i32_i64(local_tid_99258)];\n                                if ((local_tid_99258 - squot32(local_tid_99258, 32) * 32) == 0) {\n                                    eta_p_99316 = eta_p_99317;\n                                    flg_x_99319 = flg_y_99320;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_99321 = 1;\n                                while (slt32(skip_threads_99321, 32)) {\n                                    if (sle32(skip_threads_99321, local_tid_99258 - squot32(local_tid_99258, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_99319 = ((volatile __local int8_t *) local_mem_99265)[sext_i32_i64(local_tid_99258) - sext_i32_i64(skip_threads_99321)];\n                                            eta_p_99316 = ((volatile __local int64_t *) local_mem_99265)[(int64_t) 4 + (sext_i32_i64(local_tid_99258) - sext_i32_i64(skip_threads_99321))];\n                                        }\n                                        // perform operation\n              ", "                          {\n                                            if (flg_y_99320 == (int8_t) 2 || flg_y_99320 == (int8_t) 0) {\n                                                flg_x_99319 = flg_y_99320;\n                                                eta_p_99316 = eta_p_99317;\n                                            } else {\n                                                int64_t defunc_0_op_res_99318 = add64(eta_p_99316, eta_p_99317);\n                                                \n                                                eta_p_99316 = defunc_0_op_res_99318;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_99265)[sext_i32_i64(local_tid_99258)] = flg_x_99319;\n                                            flg_y_99320 = flg_x_99319;\n                                            ((volatile __local int64_t *) local_mem_99265)[(int64_t) 4 + sext_i32_i64(local_tid_99258)] = eta_p_99316;\n                                            eta_p_99317 = eta_p_99316;\n                                        }\n                                    }\n                                    skip_threads_99321 *= 2;\n                                }\n                            }\n                        }\n                        flag_99315 = ((__local int8_t *) local_mem_99265)[sext_i32_i64(wave_sizze_99260) - (int64_t) 1];\n                        aggr_99314 = ((__local int64_t *) local_mem_99265)[(int64_t) 4 + (sext_i32_i64(wave_sizze_99260) - (int64_t) 1)];\n                        if (flag_99315 == (int8_t) 2) {\n                            readOffset_99312 = wave_sizze_99260 * -1;\n                        } else if (flag_99315 == (int8_t) 1) {\n                            readOffset_99312 -= wave_sizze_99260;\n                        }\n                        if (sl", "t8((int8_t) 0, flag_99315)) {\n                            int64_t eta_p_99322 = aggr_99314;\n                            int64_t eta_p_99323 = prefix_99308;\n                            int64_t defunc_0_op_res_99324 = add64(eta_p_99322, eta_p_99323);\n                            \n                            prefix_99308 = defunc_0_op_res_99324;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_99258 == 0) {\n                    if (boundary_99278 == sext_i64_i32(segscan_tblock_sizze_90236 * chunk_sizze_99246)) {\n                        int64_t eta_p_99325 = prefix_99308;\n                        int64_t eta_p_99326 = acc_99298;\n                        int64_t defunc_0_op_res_99327 = add64(eta_p_99325, eta_p_99326);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_99253)[dynamic_id_99275] = defunc_0_op_res_99327;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_99249)[dynamic_id_99275] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_99265)[(int64_t) 4] = prefix_99308;\n                    acc_99298 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_99275 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_99308 = ((__local int64_t *) local_mem_99265)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_99328;\n            int64_t eta_p_99329;\n            int64_t eta_p_99331 = prefix_99308;\n            int64_t eta_p_99332 = acc_99298;\n            \n            if (slt32(local_tid_99258 * chunk_sizze_32b_99262, boundary_99278) && !block_new_sgm_99309) {\n                int64_t defunc_0_op_res_99333 = add64(eta_p_99331, eta_p_99332);\n                \n                eta_p_99328 = defunc",
                                    "_0_op_res_99333;\n            } else {\n                eta_p_99328 = acc_99298;\n            }\n            \n            int32_t stopping_point_99334 = segsizze_compact_99279 - srem32(local_tid_99258 * chunk_sizze_32b_99262 - 1 + segsizze_compact_99279 - boundary_99278, segsizze_compact_99279);\n            \n            for (int64_t i_99335 = 0; i_99335 < chunk_sizze_99246; i_99335++) {\n                if (slt32(sext_i64_i32(i_99335), stopping_point_99334 - 1)) {\n                    eta_p_99329 = private_mem_99280[i_99335];\n                    \n                    int64_t defunc_0_op_res_99330 = add64(eta_p_99328, eta_p_99329);\n                    \n                    private_mem_99280[i_99335] = defunc_0_op_res_99330;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_99336 = 0; i_99336 < chunk_sizze_99246; i_99336++) {\n                int64_t sharedIdx_99337 = sext_i32_i64(local_tid_99258) * chunk_sizze_99246 + i_99336;\n                int64_t tmp_99338 = private_mem_99280[i_99336];\n                \n                ((__local int64_t *) local_mem_99265)[sharedIdx_99337] = tmp_99338;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_99339 = 0; i_99339 < chunk_sizze_99246; i_99339++) {\n                int64_t flat_idx_99340 = thd_offset_99282 + i_99339 * segscan_tblock_sizze_90236;\n                int64_t slice_99341 = total_part_no_48147;\n                int64_t gtid_90240 = flat_idx_99340;\n                int64_t remnant_99342 = flat_idx_99340 - gtid_90240;\n                \n                if (slt64(flat_idx_99340, total_part_no_48147)) {\n                    int64_t tmp_99343 = ((__local int64_t *) local_mem_99265)[flat_idx_99340 - block_offset_99276];\n                    \n                    ((__global int64_t *) mem_94388)[gtid_90240] = tmp_99343;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n    ", "    }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_90236\n    #undef chunk_sizze_99246\n}\n", NULL};
// Start of gpu_prototypes.h

// Constants used for transpositions.  In principle these should be configurable.
#define TR_BLOCK_DIM 16
#define TR_TILE_DIM (TR_BLOCK_DIM*2)
#define TR_ELEMS_PER_THREAD 8

// Config stuff included in every GPU backend.
struct gpu_config {
  size_t default_block_size;
  size_t default_grid_size;
  size_t default_tile_size;
  size_t default_reg_tile_size;
  size_t default_cache;
  size_t default_shared_memory;
  size_t default_registers;
  size_t default_threshold;

  int default_block_size_changed;
  int default_grid_size_changed;
  int default_tile_size_changed;
};

// The following are dummy sizes that mean the concrete defaults
// will be set during initialisation via hardware-inspection-based
// heuristics.
struct gpu_config gpu_config_initial = {
  0
};

// Must be defined by the user.
static int gpu_macros(struct futhark_context *ctx, char*** names, int64_t** values);

static void gpu_init_log(struct futhark_context *ctx);
struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx);
void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels);
static int gpu_free_all(struct futhark_context *ctx);

// End of gpu_prototypes.h

// Start of backends/cuda.h.

// Forward declarations.
// Invoked by setup_opencl() after the platform and device has been
// found, but before the program is loaded.  Its intended use is to
// tune constants based on the selected platform and device.
static void set_tuning_params(struct futhark_context* ctx);
static char* get_failure_msg(int failure_idx, int64_t args[]);

#define CUDA_SUCCEED_FATAL(x) cuda_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define CUDA_SUCCEED_NONFATAL(x) cuda_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_FATAL(x) nvrtc_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_NONFATAL(x) nvrtc_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
// Take care not to override an existing error.
#define CUDA_SUCCEED_OR_RETURN(e) {             \
    char *serror = CUDA_SUCCEED_NONFATAL(e);    \
    if (serror) {                               \
      if (!ctx->error) {                        \
        ctx->error = serror;                    \
      } else {                                  \
        free(serror);                           \
      }                                         \
      return bad;                               \
    }                                           \
  }

// CUDA_SUCCEED_OR_RETURN returns the value of the variable 'bad' in
// scope.  By default, it will be this one.  Create a local variable
// of some other type if needed.  This is a bit of a hack, but it
// saves effort in the code generator.
static const int bad = 1;

static inline void cuda_api_succeed_fatal(CUresult res, const char *call,
                                          const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    futhark_panic(-1, "%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* cuda_api_succeed_nonfatal(CUresult res, const char *call,
                                       const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    return msgprintf("%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

static inline void nvrtc_api_succeed_fatal(nvrtcResult res, const char *call,
                                           const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    futhark_panic(-1, "%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* nvrtc_api_succeed_nonfatal(nvrtcResult res, const char *call,
                                        const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    return msgprintf("%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char* cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
  // Uniform fields above.

  char* program;
  int num_nvrtc_opts;
  char* *nvrtc_opts;

  char* preferred_device;
  int preferred_device_num;

  int unified_memory;

  char* dump_ptx_to;
  char* load_ptx_from;

  struct gpu_config gpu;
};

static void backend_context_config_setup(struct futhark_context_config *cfg) {
  cfg->num_nvrtc_opts = 0;
  cfg->nvrtc_opts = (char**) malloc(sizeof(char*));
  cfg->nvrtc_opts[0] = NULL;

  cfg->program = strconcat(gpu_program);

  cfg->preferred_device_num = 0;
  cfg->preferred_device = strdup("");

  cfg->dump_ptx_to = NULL;
  cfg->load_ptx_from = NULL;

  cfg->unified_memory = 2;

  cfg->gpu = gpu_config_initial;
  cfg->gpu.default_block_size = 256;
  cfg->gpu.default_tile_size = 32;
  cfg->gpu.default_reg_tile_size = 2;
  cfg->gpu.default_threshold = 32*1024;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  for (int i = 0; i < cfg->num_nvrtc_opts; i++) {
    free(cfg->nvrtc_opts[i]);
  }
  free(cfg->nvrtc_opts);
  free(cfg->dump_ptx_to);
  free(cfg->load_ptx_from);
  free(cfg->preferred_device);
  free(cfg->program);
}

void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt) {
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = strdup(opt);
  cfg->num_nvrtc_opts++;
  cfg->nvrtc_opts = (char **) realloc(cfg->nvrtc_opts, (cfg->num_nvrtc_opts + 1) * sizeof(char *));
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = NULL;
}

void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s) {
  int x = 0;
  if (*s == '#') {
    s++;
    while (isdigit(*s)) {
      x = x * 10 + (*s++)-'0';
    }
    // Skip trailing spaces.
    while (isspace(*s)) {
      s++;
    }
  }
  free(cfg->preferred_device);
  cfg->preferred_device = strdup(s);
  cfg->preferred_device_num = x;
}

const char* futhark_context_config_get_program(struct futhark_context_config *cfg) {
  return cfg->program;
}

void futhark_context_config_set_program(struct futhark_context_config *cfg, const char *s) {
  free(cfg->program);
  cfg->program = strdup(s);
}

void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *path) {
  free(cfg->dump_ptx_to);
  cfg->dump_ptx_to = strdup(path);
}

void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *path) {
  free(cfg->load_ptx_from);
  cfg->load_ptx_from = strdup(path);
}

void futhark_context_config_set_unified_memory(struct futhark_context_config* cfg, int flag) {
  cfg->unified_memory = flag;
}

// A record of something that happened.
struct profiling_record {
  cudaEvent_t *events; // Points to two events.
  const char *name;
};

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
  // Uniform fields above.

  CUdeviceptr global_failure;
  CUdeviceptr global_failure_args;
  struct tuning_params tuning_params;
  // True if a potentially failing kernel has been enqueued.
  int32_t failure_is_an_option;
  int total_runs;
  long int total_runtime;
  int64_t peak_mem_usage_device;
  int64_t cur_mem_usage_device;

  CUdevice dev;
  CUcontext cu_ctx;
  CUmodule module;
  CUstream stream;

  struct free_list gpu_free_list;

  size_t max_thread_block_size;
  size_t max_grid_size;
  size_t max_tile_size;
  size_t max_threshold;
  size_t max_shared_memory;
  size_t max_bespoke;
  size_t max_registers;
  size_t max_cache;

  size_t lockstep_width;

  struct builtin_kernels* kernels;
};

#define CU_DEV_ATTR(x) (CU_DEVICE_ATTRIBUTE_##x)
#define device_query(dev,attrib) _device_query(dev, CU_DEV_ATTR(attrib))
static int _device_query(CUdevice dev, CUdevice_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuDeviceGetAttribute(&val, attrib, dev));
  return val;
}

#define CU_FUN_ATTR(x) (CU_FUNC_ATTRIBUTE_##x)
#define function_query(fn,attrib) _function_query(dev, CU_FUN_ATTR(attrib))
static int _function_query(CUfunction dev, CUfunction_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuFuncGetAttribute(&val, attrib, dev));
  return val;
}

static int cuda_device_setup(struct futhark_context *ctx) {
  struct futhark_context_config *cfg = ctx->cfg;
  char name[256];
  int count, chosen = -1, best_cc = -1;
  int cc_major_best = 0, cc_minor_best = 0;
  int cc_major = 0, cc_minor = 0;
  CUdevice dev;

  CUDA_SUCCEED_FATAL(cuDeviceGetCount(&count));
  if (count == 0) { return 1; }

  int num_device_matches = 0;

  // XXX: Current device selection policy is to choose the device with the
  // highest compute capability (if no preferred device is set).
  // This should maybe be changed, since greater compute capability is not
  // necessarily an indicator of better performance.
  for (int i = 0; i < count; i++) {
    CUDA_SUCCEED_FATAL(cuDeviceGet(&dev, i));

    cc_major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
    cc_minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

    CUDA_SUCCEED_FATAL(cuDeviceGetName(name, sizeof(name) - 1, dev));
    name[sizeof(name) - 1] = 0;

    if (cfg->logging) {
      fprintf(ctx->log, "Device #%d: name=\"%s\", compute capability=%d.%d\n",
              i, name, cc_major, cc_minor);
    }

    if (device_query(dev, COMPUTE_MODE) == CU_COMPUTEMODE_PROHIBITED) {
      if (cfg->logging) {
        fprintf(ctx->log, "Device #%d is compute-prohibited, ignoring\n", i);
      }
      continue;
    }

    if (best_cc == -1 || cc_major > cc_major_best ||
        (cc_major == cc_major_best && cc_minor > cc_minor_best)) {
      best_cc = i;
      cc_major_best = cc_major;
      cc_minor_best = cc_minor;
    }

    if (strstr(name, cfg->preferred_device) != NULL &&
        num_device_matches++ == cfg->preferred_device_num) {
      chosen = i;
      break;
    }
  }

  if (chosen == -1) { chosen = best_cc; }
  if (chosen == -1) { return 1; }

  if (cfg->logging) {
    fprintf(ctx->log, "Using device #%d\n", chosen);
  }

  CUDA_SUCCEED_FATAL(cuDeviceGet(&ctx->dev, chosen));
  return 0;
}

static const char *cuda_nvrtc_get_arch(CUdevice dev) {
  static struct {
    int major;
    int minor;
    const char *arch_str;
  } const x[] = {
    { 3, 0, "compute_30" },
    { 3, 2, "compute_32" },
    { 3, 5, "compute_35" },
    { 3, 7, "compute_37" },
    { 5, 0, "compute_50" },
    { 5, 2, "compute_52" },
    { 5, 3, "compute_53" },
    { 6, 0, "compute_60" },
    { 6, 1, "compute_61" },
    { 6, 2, "compute_62" },
    { 7, 0, "compute_70" },
    { 7, 2, "compute_72" },
    { 7, 5, "compute_75" },
    { 8, 0, "compute_80" },
    { 8, 6, "compute_80" },
    { 8, 7, "compute_80" }
  };

  int major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
  int minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

  int chosen = -1;
  int num_archs = sizeof(x)/sizeof(x[0]);
  for (int i = 0; i < num_archs; i++) {
    if (x[i].major < major || (x[i].major == major && x[i].minor <= minor)) {
      chosen = i;
    } else {
      break;
    }
  }

  if (chosen == -1) {
    futhark_panic(-1, "Unsupported compute capability %d.%d\n", major, minor);
  }

  if (x[chosen].major != major || x[chosen].minor != minor) {
    fprintf(stderr,
            "Warning: device compute capability is %d.%d, but newest supported by Futhark is %d.%d.\n",
            major, minor, x[chosen].major, x[chosen].minor);
  }

  return x[chosen].arch_str;
}

static void cuda_nvrtc_mk_build_options(struct futhark_context *ctx, const char *extra_opts[],
                                        char*** opts_out, size_t *n_opts) {
  int arch_set = 0, num_extra_opts;
  struct futhark_context_config *cfg = ctx->cfg;

  char** macro_names;
  int64_t* macro_vals;
  int num_macros = gpu_macros(ctx, &macro_names, &macro_vals);

  // nvrtc cannot handle multiple -arch options.  Hence, if one of the
  // extra_opts is -arch, we have to be careful not to do our usual
  // automatic generation.
  for (num_extra_opts = 0; extra_opts[num_extra_opts] != NULL; num_extra_opts++) {
    if (strstr(extra_opts[num_extra_opts], "-arch")
        == extra_opts[num_extra_opts] ||
        strstr(extra_opts[num_extra_opts], "--gpu-architecture")
        == extra_opts[num_extra_opts]) {
      arch_set = 1;
    }
  }

  size_t i = 0, n_opts_alloc = 20 + num_macros + num_extra_opts + cfg->num_tuning_params;
  char **opts = (char**) malloc(n_opts_alloc * sizeof(char *));
  if (!arch_set) {
    opts[i++] = strdup("-arch");
    opts[i++] = strdup(cuda_nvrtc_get_arch(ctx->dev));
  }
  opts[i++] = strdup("-default-device");
  if (cfg->debugging) {
    opts[i++] = strdup("-G");
    opts[i++] = strdup("-lineinfo");
  } else {
    opts[i++] = strdup("--disable-warnings");
  }
  opts[i++] = msgprintf("-D%s=%d",
                        "max_thread_block_size",
                        (int)ctx->max_thread_block_size);
  opts[i++] = msgprintf("-D%s=%d",
                        "max_shared_memory",
                        (int)ctx->max_shared_memory);
  opts[i++] = msgprintf("-D%s=%d",
                        "max_registers",
                        (int)ctx->max_registers);

  for (int j = 0; j < num_macros; j++) {
    opts[i++] = msgprintf("-D%s=%zu", macro_names[j], macro_vals[j]);
  }

  for (int j = 0; j < cfg->num_tuning_params; j++) {
    opts[i++] = msgprintf("-D%s=%zu", cfg->tuning_param_vars[j],
                          cfg->tuning_params[j]);
  }
  opts[i++] = msgprintf("-DLOCKSTEP_WIDTH=%zu", ctx->lockstep_width);
  opts[i++] = msgprintf("-DMAX_THREADS_PER_BLOCK=%zu", ctx->max_thread_block_size);

  // Time for the best lines of the code in the entire compiler.
  if (getenv("CUDA_HOME") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_HOME"));
  }
  if (getenv("CUDA_ROOT") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_ROOT"));
  }
  if (getenv("CUDA_PATH") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_PATH"));
  }
  opts[i++] = msgprintf("-I/usr/local/cuda/include");
  opts[i++] = msgprintf("-I/usr/include");

  for (int j = 0; extra_opts[j] != NULL; j++) {
    opts[i++] = strdup(extra_opts[j]);
  }

  opts[i++] = msgprintf("-DTR_BLOCK_DIM=%d", TR_BLOCK_DIM);
  opts[i++] = msgprintf("-DTR_TILE_DIM=%d", TR_TILE_DIM);
  opts[i++] = msgprintf("-DTR_ELEMS_PER_THREAD=%d", TR_ELEMS_PER_THREAD);

  free(macro_names);
  free(macro_vals);

  *n_opts = i;
  *opts_out = opts;
}

static char* cuda_nvrtc_build(const char *src, const char *opts[], size_t n_opts,
                              char **ptx) {
  nvrtcProgram prog;
  char *problem = NULL;

  problem = NVRTC_SUCCEED_NONFATAL(nvrtcCreateProgram(&prog, src, "futhark-cuda", 0, NULL, NULL));

  if (problem) {
    return problem;
  }

  nvrtcResult res = nvrtcCompileProgram(prog, n_opts, opts);
  if (res != NVRTC_SUCCESS) {
    size_t log_size;
    if (nvrtcGetProgramLogSize(prog, &log_size) == NVRTC_SUCCESS) {
      char *log = (char*) malloc(log_size);
      if (nvrtcGetProgramLog(prog, log) == NVRTC_SUCCESS) {
        problem = msgprintf("NVRTC compilation failed.\n\n%s\n", log);
      } else {
        problem = msgprintf("Could not retrieve compilation log\n");
      }
      free(log);
    }
    return problem;
  }

  size_t ptx_size;
  NVRTC_SUCCEED_FATAL(nvrtcGetPTXSize(prog, &ptx_size));
  *ptx = (char*) malloc(ptx_size);
  NVRTC_SUCCEED_FATAL(nvrtcGetPTX(prog, *ptx));

  NVRTC_SUCCEED_FATAL(nvrtcDestroyProgram(&prog));

  return NULL;
}

static void cuda_load_ptx_from_cache(struct futhark_context_config *cfg,
                                     const char *src,
                                     const char *opts[], size_t n_opts,
                                     struct cache_hash *h, const char *cache_fname,
                                     char **ptx) {
  if (cfg->logging) {
    fprintf(stderr, "Restoring cache from from %s...\n", cache_fname);
  }
  cache_hash_init(h);
  for (size_t i = 0; i < n_opts; i++) {
    cache_hash(h, opts[i], strlen(opts[i]));
  }
  cache_hash(h, src, strlen(src));
  size_t ptxsize;
  errno = 0;
  if (cache_restore(cache_fname, h, (unsigned char**)ptx, &ptxsize) != 0) {
    if (cfg->logging) {
      fprintf(stderr, "Failed to restore cache (errno: %s)\n", strerror(errno));
    }
  }
}

static void cuda_size_setup(struct futhark_context *ctx)
{
  struct futhark_context_config *cfg = ctx->cfg;
  if (cfg->gpu.default_block_size > ctx->max_thread_block_size) {
    if (cfg->gpu.default_block_size_changed) {
      fprintf(stderr,
              "Note: Device limits default block size to %zu (down from %zu).\n",
              ctx->max_thread_block_size, cfg->gpu.default_block_size);
    }
    cfg->gpu.default_block_size = ctx->max_thread_block_size;
  }
  if (cfg->gpu.default_grid_size > ctx->max_grid_size) {
    if (cfg->gpu.default_grid_size_changed) {
      fprintf(stderr,
              "Note: Device limits default grid size to %zu (down from %zu).\n",
              ctx->max_grid_size, cfg->gpu.default_grid_size);
    }
    cfg->gpu.default_grid_size = ctx->max_grid_size;
  }
  if (cfg->gpu.default_tile_size > ctx->max_tile_size) {
    if (cfg->gpu.default_tile_size_changed) {
      fprintf(stderr,
              "Note: Device limits default tile size to %zu (down from %zu).\n",
              ctx->max_tile_size, cfg->gpu.default_tile_size);
    }
    cfg->gpu.default_tile_size = ctx->max_tile_size;
  }

  if (!cfg->gpu.default_grid_size_changed) {
    cfg->gpu.default_grid_size =
      (device_query(ctx->dev, MULTIPROCESSOR_COUNT) *
       device_query(ctx->dev, MAX_THREADS_PER_MULTIPROCESSOR))
      / cfg->gpu.default_block_size;
  }

  for (int i = 0; i < cfg->num_tuning_params; i++) {
    const char *size_class = cfg->tuning_param_classes[i];
    int64_t *size_value = &cfg->tuning_params[i];
    const char* size_name = cfg->tuning_param_names[i];
    int64_t max_value = 0, default_value = 0;

    if (strstr(size_class, "thread_block_size") == size_class) {
      max_value = ctx->max_thread_block_size;
      default_value = cfg->gpu.default_block_size;
    } else if (strstr(size_class, "grid_size") == size_class) {
      max_value = ctx->max_grid_size;
      default_value = cfg->gpu.default_grid_size;
      // XXX: as a quick and dirty hack, use twice as many threads for
      // histograms by default.  We really should just be smarter
      // about sizes somehow.
      if (strstr(size_name, ".seghist_") != NULL) {
        default_value *= 2;
      }
    } else if (strstr(size_class, "tile_size") == size_class) {
      max_value = ctx->max_tile_size;
      default_value = cfg->gpu.default_tile_size;
    } else if (strstr(size_class, "reg_tile_size") == size_class) {
      max_value = 0; // No limit.
      default_value = cfg->gpu.default_reg_tile_size;
    } else if (strstr(size_class, "shared_memory") == size_class) {
      max_value = ctx->max_shared_memory;
      default_value = ctx->max_shared_memory;
    } else if (strstr(size_class, "cache") == size_class) {
      max_value = ctx->max_cache;
      default_value = ctx->max_cache;
    } else if (strstr(size_class, "threshold") == size_class) {
      // Threshold can be as large as it takes.
      default_value = cfg->gpu.default_threshold;
    } else {
      // Bespoke sizes have no limit or default.
    }

    if (*size_value == 0) {
      *size_value = default_value;
    } else if (max_value > 0 && *size_value > max_value) {
      fprintf(stderr, "Note: Device limits %s to %zu (down from %zu)\n",
              size_name, max_value, *size_value);
      *size_value = max_value;
    }
  }
}

static char* cuda_module_setup(struct futhark_context *ctx,
                               const char *src,
                               const char *extra_opts[],
                               const char* cache_fname) {
  char *ptx = NULL;
  struct futhark_context_config *cfg = ctx->cfg;

  if (cfg->load_ptx_from) {
    ptx = slurp_file(cfg->load_ptx_from, NULL);
  }

  char **opts;
  size_t n_opts;
  cuda_nvrtc_mk_build_options(ctx, extra_opts, &opts, &n_opts);

  if (cfg->logging) {
    fprintf(stderr, "NVRTC compile options:\n");
    for (size_t j = 0; j < n_opts; j++) {
      fprintf(stderr, "\t%s\n", opts[j]);
    }
    fprintf(stderr, "\n");
  }

  struct cache_hash h;
  int loaded_ptx_from_cache = 0;
  if (cache_fname != NULL) {
    cuda_load_ptx_from_cache(cfg, src, (const char**)opts, n_opts, &h, cache_fname, &ptx);

    if (ptx != NULL) {
      if (cfg->logging) {
        fprintf(stderr, "Restored PTX from cache; now loading module...\n");
      }
      if (cuModuleLoadData(&ctx->module, ptx) == CUDA_SUCCESS) {
        if (cfg->logging) {
          fprintf(stderr, "Success!\n");
        }
        loaded_ptx_from_cache = 1;
      } else {
        if (cfg->logging) {
          fprintf(stderr, "Failed!\n");
        }
        free(ptx);
        ptx = NULL;
      }
    }
  }

  if (ptx == NULL) {
    char* problem = cuda_nvrtc_build(src, (const char**)opts, n_opts, &ptx);
    if (problem != NULL) {
      return problem;
    }
  }

  if (cfg->dump_ptx_to != NULL) {
    dump_file(cfg->dump_ptx_to, ptx, strlen(ptx));
  }

  if (!loaded_ptx_from_cache) {
    CUDA_SUCCEED_FATAL(cuModuleLoadData(&ctx->module, ptx));
  }

  if (cache_fname != NULL && !loaded_ptx_from_cache) {
    if (cfg->logging) {
      fprintf(stderr, "Caching PTX in %s...\n", cache_fname);
    }
    errno = 0;
    if (cache_store(cache_fname, &h, (const unsigned char*)ptx, strlen(ptx)) != 0) {
      fprintf(stderr, "Failed to cache PTX: %s\n", strerror(errno));
    }
  }

  for (size_t i = 0; i < n_opts; i++) {
    free((char *)opts[i]);
  }
  free(opts);
  free(ptx);

  return NULL;
}

struct cuda_event {
  cudaEvent_t start;
  cudaEvent_t end;
};

static struct cuda_event* cuda_event_new(struct futhark_context* ctx) {
  if (ctx->profiling && !ctx->profiling_paused) {
    struct cuda_event* e = malloc(sizeof(struct cuda_event));
    cudaEventCreate(&e->start);
    cudaEventCreate(&e->end);
    return e;
  } else {
    return NULL;
  }
}

static int cuda_event_report(struct str_builder* sb, struct cuda_event* e) {
  float ms;
  CUresult err;
  if ((err = cuEventElapsedTime(&ms, e->start, e->end)) != CUDA_SUCCESS) {
    return err;
  }

  // CUDA provides milisecond resolution, but we want microseconds.
  str_builder(sb, ",\"duration\":%f", ms*1000);

  if ((err = cuEventDestroy(e->start)) != CUDA_SUCCESS) {
    return 1;
  }

  if ((err = cuEventDestroy(e->end)) != CUDA_SUCCESS) {
    return 1;
  }

  free(e);

  return 0;
}

int futhark_context_sync(struct futhark_context* ctx) {
  CUDA_SUCCEED_OR_RETURN(cuCtxPushCurrent(ctx->cu_ctx));
  CUDA_SUCCEED_OR_RETURN(cuCtxSynchronize());
  if (ctx->failure_is_an_option) {
    // Check for any delayed error.
    int32_t failure_idx;
    CUDA_SUCCEED_OR_RETURN(
                           cuMemcpyDtoH(&failure_idx,
                                        ctx->global_failure,
                                        sizeof(int32_t)));
    ctx->failure_is_an_option = 0;

    if (failure_idx >= 0) {
      // We have to clear global_failure so that the next entry point
      // is not considered a failure from the start.
      int32_t no_failure = -1;
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyHtoD(ctx->global_failure,
                                          &no_failure,
                                          sizeof(int32_t)));

      int64_t args[max_failure_args+1];
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyDtoH(&args,
                                          ctx->global_failure_args,
                                          sizeof(args)));

      ctx->error = get_failure_msg(failure_idx, args);

      return FUTHARK_PROGRAM_ERROR;
    }
  }

  CUDA_SUCCEED_OR_RETURN(cuCtxPopCurrent(&ctx->cu_ctx));
  return 0;
}

struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx);
void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels);

int backend_context_setup(struct futhark_context* ctx) {
  ctx->failure_is_an_option = 0;
  ctx->total_runs = 0;
  ctx->total_runtime = 0;
  ctx->peak_mem_usage_device = 0;
  ctx->cur_mem_usage_device = 0;
  ctx->kernels = NULL;

  CUDA_SUCCEED_FATAL(cuInit(0));
  if (cuda_device_setup(ctx) != 0) {
    futhark_panic(-1, "No suitable CUDA device found.\n");
  }
  CUDA_SUCCEED_FATAL(cuCtxCreate(&ctx->cu_ctx, 0, ctx->dev));

  free_list_init(&ctx->gpu_free_list);

  if (ctx->cfg->unified_memory == 2) {
    ctx->cfg->unified_memory = device_query(ctx->dev, MANAGED_MEMORY);
  }

  if (ctx->cfg->logging) {
    if (ctx->cfg->unified_memory) {
      fprintf(ctx->log, "Using managed memory\n");
    } else {
      fprintf(ctx->log, "Using unmanaged memory\n");
    }
  }

  ctx->max_thread_block_size = device_query(ctx->dev, MAX_THREADS_PER_BLOCK);
  ctx->max_grid_size = device_query(ctx->dev, MAX_GRID_DIM_X);
  ctx->max_tile_size = sqrt(ctx->max_thread_block_size);
  ctx->max_threshold = 1U<<31; // No limit.
  ctx->max_bespoke = 1U<<31; // No limit.

  if (ctx->cfg->gpu.default_registers != 0) {
    ctx->max_registers = ctx->cfg->gpu.default_registers;
  } else {
    ctx->max_registers = device_query(ctx->dev, MAX_REGISTERS_PER_BLOCK);
  }

  if (ctx->cfg->gpu.default_shared_memory != 0) {
    ctx->max_shared_memory = ctx->cfg->gpu.default_shared_memory;
  } else {
    // MAX_SHARED_MEMORY_PER_BLOCK gives bogus numbers (48KiB); probably
    // for backwards compatibility.  Add _OPTIN and you seem to get the
    // right number.
    ctx->max_shared_memory = device_query(ctx->dev, MAX_SHARED_MEMORY_PER_BLOCK_OPTIN);
#if CUDART_VERSION >= 12000
    ctx->max_shared_memory -= device_query(ctx->dev, RESERVED_SHARED_MEMORY_PER_BLOCK);
#endif
  }

  if (ctx->cfg->gpu.default_cache != 0) {
    ctx->max_cache = ctx->cfg->gpu.default_cache;
  } else {
    ctx->max_cache = device_query(ctx->dev, L2_CACHE_SIZE);
  }

  ctx->lockstep_width = device_query(ctx->dev, WARP_SIZE);
  CUDA_SUCCEED_FATAL(cuStreamCreate(&ctx->stream, CU_STREAM_DEFAULT));
  cuda_size_setup(ctx);

  gpu_init_log(ctx);

  ctx->error = cuda_module_setup(ctx,
                                 ctx->cfg->program,
                                 (const char**)ctx->cfg->nvrtc_opts,
                                 ctx->cfg->cache_fname);

  if (ctx->error != NULL) {
    futhark_panic(1, "During CUDA initialisation:\n%s\n", ctx->error);
  }

  int32_t no_error = -1;
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure, sizeof(no_error)));
  CUDA_SUCCEED_FATAL(cuMemcpyHtoD(ctx->global_failure, &no_error, sizeof(no_error)));
  // The +1 is to avoid zero-byte allocations.
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure_args, sizeof(int64_t)*(max_failure_args+1)));

  if ((ctx->kernels = init_builtin_kernels(ctx)) == NULL) {
    return 1;
  }

  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  if (ctx->kernels != NULL) {
    free_builtin_kernels(ctx, ctx->kernels);
    cuMemFree(ctx->global_failure);
    cuMemFree(ctx->global_failure_args);
    CUDA_SUCCEED_FATAL(gpu_free_all(ctx));
    CUDA_SUCCEED_FATAL(cuStreamDestroy(ctx->stream));
    CUDA_SUCCEED_FATAL(cuModuleUnload(ctx->module));
    CUDA_SUCCEED_FATAL(cuCtxDestroy(ctx->cu_ctx));
  }
  free_list_destroy(&ctx->gpu_free_list);
}

// GPU ABSTRACTION LAYER

// Types.

typedef CUfunction gpu_kernel;
typedef CUdeviceptr gpu_mem;

static void gpu_create_kernel(struct futhark_context *ctx,
                              gpu_kernel* kernel,
                              const char* name) {
  if (ctx->debugging) {
    fprintf(ctx->log, "Creating kernel %s.\n", name);
  }
  CUDA_SUCCEED_FATAL(cuModuleGetFunction(kernel, ctx->module, name));
  // Unless the below is set, the kernel is limited to 48KiB of memory.
  CUDA_SUCCEED_FATAL(cuFuncSetAttribute(*kernel,
                                        cudaFuncAttributeMaxDynamicSharedMemorySize,
                                        ctx->max_shared_memory));
}

static void gpu_free_kernel(struct futhark_context *ctx,
                            gpu_kernel kernel) {
  (void)ctx;
  (void)kernel;
}

static int gpu_scalar_to_device(struct futhark_context* ctx,
                                gpu_mem dst, size_t offset, size_t size,
                                void *src) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_scalar_to_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoD(dst + offset, src, size));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int gpu_scalar_from_device(struct futhark_context* ctx,
                                  void *dst,
                                  gpu_mem src, size_t offset, size_t size) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_scalar_from_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(dst, src + offset, size));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int gpu_memcpy(struct futhark_context* ctx,
                      gpu_mem dst, int64_t dst_offset,
                      gpu_mem src, int64_t src_offset,
                      int64_t nbytes) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_dev_to_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyAsync(dst+dst_offset, src+src_offset, nbytes, ctx->stream));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int memcpy_host2gpu(struct futhark_context* ctx, bool sync,
                           gpu_mem dst, int64_t dst_offset,
                           const unsigned char* src, int64_t src_offset,
                           int64_t nbytes) {
  if (nbytes > 0) {
    struct cuda_event *event = cuda_event_new(ctx);
    if (event != NULL) {
      add_event(ctx,
                "copy_host_to_dev",
                strdup(""),
                event,
                (event_report_fn)cuda_event_report);
      CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    }
    if (sync) {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyHtoD(dst + dst_offset, src + src_offset, nbytes));
    } else {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyHtoDAsync(dst + dst_offset, src + src_offset, nbytes, ctx->stream));
    }
    if (event != NULL) {
      CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
    }
  }
  return FUTHARK_SUCCESS;
}

static int memcpy_gpu2host(struct futhark_context* ctx, bool sync,
                           unsigned char* dst, int64_t dst_offset,
                           gpu_mem src, int64_t src_offset,
                           int64_t nbytes) {
  if (nbytes > 0) {
    struct cuda_event *event = cuda_event_new(ctx);
    if (event != NULL) {
      add_event(ctx,
                "copy_dev_to_host",
                strdup(""),
                event,
                (event_report_fn)cuda_event_report);
      CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    }
    if (sync) {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyDtoH(dst + dst_offset, src + src_offset, nbytes));
    } else {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyDtoHAsync(dst + dst_offset, src + src_offset, nbytes, ctx->stream));
    }
    if (event != NULL) {
      CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
    }
    if (sync &&
        ctx->failure_is_an_option &&
        futhark_context_sync(ctx) != 0) {
      return 1;
    }
  }
  return FUTHARK_SUCCESS;
}

static int gpu_launch_kernel(struct futhark_context* ctx,
                             gpu_kernel kernel, const char *name,
                             const int32_t grid[3],
                             const int32_t block[3],
                             unsigned int shared_mem_bytes,
                             int num_args,
                             void* args[num_args],
                             size_t args_sizes[num_args]) {
  (void) args_sizes;

  if (shared_mem_bytes > ctx->max_shared_memory) {
    set_error(ctx, msgprintf("Kernel %s with %d bytes of memory exceeds device limit of %d\n",
                             name, shared_mem_bytes, (int)ctx->max_shared_memory));
    return 1;
  }

  int64_t time_start = 0, time_end = 0;
  if (ctx->debugging) {
    time_start = get_wall_time();
  }

  struct cuda_event *event = cuda_event_new(ctx);

  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    add_event(ctx,
              name,
              msgprintf("Kernel %s with\n"
                        "  grid=(%d,%d,%d)\n"
                        "  block=(%d,%d,%d)\n"
                        "  shared memory=%d",
                        name,
                        grid[0], grid[1], grid[2],
                        block[0], block[1], block[2],
                        shared_mem_bytes),
              event,
              (event_report_fn)cuda_event_report);
  }

  CUDA_SUCCEED_OR_RETURN
    (cuLaunchKernel(kernel,
                    grid[0], grid[1], grid[2],
                    block[0], block[1], block[2],
                    shared_mem_bytes, ctx->stream,
                    args, NULL));

  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }

  if (ctx->debugging) {
    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
    time_end = get_wall_time();
    long int time_diff = time_end - time_start;
    fprintf(ctx->log, "  runtime: %ldus\n", time_diff);
  }
  if (ctx->logging) {
    fprintf(ctx->log, "\n");
  }

  return FUTHARK_SUCCESS;
}

static int gpu_alloc_actual(struct futhark_context *ctx, size_t size, gpu_mem *mem_out) {
  CUresult res;
  if (ctx->cfg->unified_memory) {
    res = cuMemAllocManaged(mem_out, size, CU_MEM_ATTACH_GLOBAL);
  } else {
    res = cuMemAlloc(mem_out, size);
  }

  if (res == CUDA_ERROR_OUT_OF_MEMORY) {
    return FUTHARK_OUT_OF_MEMORY;
  }

  CUDA_SUCCEED_OR_RETURN(res);
  return FUTHARK_SUCCESS;
}

static int gpu_free_actual(struct futhark_context *ctx, gpu_mem mem) {
  (void)ctx;
  CUDA_SUCCEED_OR_RETURN(cuMemFree(mem));
  return FUTHARK_SUCCESS;
}

// End of backends/cuda.h.

// Start of gpu.h

// Generic functions that use our tiny GPU abstraction layer.  The
// entire context must be defined before this header is included.  In
// particular we expect the following functions to be available:

static int gpu_free_actual(struct futhark_context *ctx, gpu_mem mem);
static int gpu_alloc_actual(struct futhark_context *ctx, size_t size, gpu_mem *mem_out);
int gpu_launch_kernel(struct futhark_context* ctx,
                      gpu_kernel kernel, const char *name,
                      const int32_t grid[3],
                      const int32_t block[3],
                      unsigned int shared_mem_bytes,
                      int num_args,
                      void* args[num_args],
                      size_t args_sizes[num_args]);
int gpu_memcpy(struct futhark_context* ctx,
               gpu_mem dst, int64_t dst_offset,
               gpu_mem src, int64_t src_offset,
               int64_t nbytes);
int gpu_scalar_from_device(struct futhark_context* ctx,
                           void *dst,
                           gpu_mem src, size_t offset, size_t size);
int gpu_scalar_to_device(struct futhark_context* ctx,
                         gpu_mem dst, size_t offset, size_t size,
                         void *src);
void gpu_create_kernel(struct futhark_context *ctx,
                       gpu_kernel* kernel,
                       const char* name);

static void gpu_init_log(struct futhark_context *ctx) {
  if (ctx->cfg->logging) {
    fprintf(ctx->log, "Default block size: %ld\n", (long)ctx->cfg->gpu.default_block_size);
    fprintf(ctx->log, "Default grid size: %ld\n", (long)ctx->cfg->gpu.default_grid_size);
    fprintf(ctx->log, "Default tile size: %ld\n", (long)ctx->cfg->gpu.default_tile_size);
    fprintf(ctx->log, "Default register tile size: %ld\n", (long)ctx->cfg->gpu.default_reg_tile_size);
    fprintf(ctx->log, "Default cache: %ld\n", (long)ctx->cfg->gpu.default_cache);
    fprintf(ctx->log, "Default registers: %ld\n", (long)ctx->cfg->gpu.default_registers);
    fprintf(ctx->log, "Default threshold: %ld\n", (long)ctx->cfg->gpu.default_threshold);
    fprintf(ctx->log, "Max thread block size: %ld\n", (long)ctx->max_thread_block_size);
    fprintf(ctx->log, "Max grid size: %ld\n", (long)ctx->max_grid_size);
    fprintf(ctx->log, "Max tile size: %ld\n", (long)ctx->max_tile_size);
    fprintf(ctx->log, "Max threshold: %ld\n", (long)ctx->max_threshold);
    fprintf(ctx->log, "Max shared memory: %ld\n", (long)ctx->max_shared_memory);
    fprintf(ctx->log, "Max registers: %ld\n", (long)ctx->max_registers);
    fprintf(ctx->log, "Max cache: %ld\n", (long)ctx->max_cache);
    fprintf(ctx->log, "Lockstep width: %ld\n", (long)ctx->lockstep_width);
  }
}

// Generic GPU command line options.

void futhark_context_config_set_default_thread_block_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_block_size = size;
  cfg->gpu.default_block_size_changed = 1;
}

void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size) {
  futhark_context_config_set_default_thread_block_size(cfg, size);
}

void futhark_context_config_set_default_grid_size(struct futhark_context_config *cfg, int num) {
  cfg->gpu.default_grid_size = num;
  cfg->gpu.default_grid_size_changed = 1;
}

void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int num) {
  futhark_context_config_set_default_grid_size(cfg, num);
}

void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_tile_size = size;
  cfg->gpu.default_tile_size_changed = 1;
}

void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_reg_tile_size = size;
}

void futhark_context_config_set_default_cache(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_cache = size;
}

void futhark_context_config_set_default_registers(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_registers = size;
}

void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_threshold = size;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t new_value) {
  for (int i = 0; i < cfg->num_tuning_params; i++) {
    if (strcmp(param_name, cfg->tuning_param_names[i]) == 0) {
      cfg->tuning_params[i] = new_value;
      return 0;
    }
  }
  if (strcmp(param_name, "default_thread_block_size") == 0 ||
      strcmp(param_name, "default_group_size") == 0) {
    cfg->gpu.default_block_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_grid_size") == 0 ||
      strcmp(param_name, "default_num_groups") == 0) {
    cfg->gpu.default_grid_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_threshold") == 0) {
    cfg->gpu.default_threshold = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_tile_size") == 0) {
    cfg->gpu.default_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_reg_tile_size") == 0) {
    cfg->gpu.default_reg_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_cache") == 0) {
    cfg->gpu.default_cache = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_shared_memory") == 0) {
    cfg->gpu.default_shared_memory = new_value;
    return 0;
  }

  return 1;
}

// End of GPU command line optiopns.

// Max number of thead blocks we allow along the second or third
// dimension for transpositions.
#define MAX_TR_THREAD_BLOCKS 65535

struct builtin_kernels {
  // We have a lot of ways to transpose arrays.
  gpu_kernel map_transpose_1b;
  gpu_kernel map_transpose_1b_low_height;
  gpu_kernel map_transpose_1b_low_width;
  gpu_kernel map_transpose_1b_small;
  gpu_kernel map_transpose_1b_large;
  gpu_kernel map_transpose_2b;
  gpu_kernel map_transpose_2b_low_height;
  gpu_kernel map_transpose_2b_low_width;
  gpu_kernel map_transpose_2b_small;
  gpu_kernel map_transpose_2b_large;
  gpu_kernel map_transpose_4b;
  gpu_kernel map_transpose_4b_low_height;
  gpu_kernel map_transpose_4b_low_width;
  gpu_kernel map_transpose_4b_small;
  gpu_kernel map_transpose_4b_large;
  gpu_kernel map_transpose_8b;
  gpu_kernel map_transpose_8b_low_height;
  gpu_kernel map_transpose_8b_low_width;
  gpu_kernel map_transpose_8b_small;
  gpu_kernel map_transpose_8b_large;

  // And a few ways of copying.
  gpu_kernel lmad_copy_1b;
  gpu_kernel lmad_copy_2b;
  gpu_kernel lmad_copy_4b;
  gpu_kernel lmad_copy_8b;
};

struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx) {
  struct builtin_kernels *kernels = malloc(sizeof(struct builtin_kernels));
  gpu_create_kernel(ctx, &kernels->map_transpose_1b, "map_transpose_1b");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_large, "map_transpose_1b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_low_height, "map_transpose_1b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_low_width, "map_transpose_1b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_small, "map_transpose_1b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_2b, "map_transpose_2b");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_large, "map_transpose_2b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_low_height, "map_transpose_2b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_low_width, "map_transpose_2b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_small, "map_transpose_2b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_4b, "map_transpose_4b");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_large, "map_transpose_4b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_low_height, "map_transpose_4b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_low_width, "map_transpose_4b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_small, "map_transpose_4b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_8b, "map_transpose_8b");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_large, "map_transpose_8b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_low_height, "map_transpose_8b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_low_width, "map_transpose_8b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_small, "map_transpose_8b_small");

  gpu_create_kernel(ctx, &kernels->lmad_copy_1b, "lmad_copy_1b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_2b, "lmad_copy_2b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_4b, "lmad_copy_4b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_8b, "lmad_copy_8b");

  return kernels;
}

void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels) {
  gpu_free_kernel(ctx, kernels->map_transpose_1b);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_2b);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_4b);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_8b);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_small);

  gpu_free_kernel(ctx, kernels->lmad_copy_1b);
  gpu_free_kernel(ctx, kernels->lmad_copy_2b);
  gpu_free_kernel(ctx, kernels->lmad_copy_4b);
  gpu_free_kernel(ctx, kernels->lmad_copy_8b);

  free(kernels);
}

static int gpu_alloc(struct futhark_context *ctx, FILE *log,
                     size_t min_size, const char *tag,
                     gpu_mem *mem_out, size_t *size_out) {
  if (min_size < sizeof(int)) {
    min_size = sizeof(int);
  }

  gpu_mem* memptr;
  if (free_list_find(&ctx->gpu_free_list, min_size, tag, size_out, (fl_mem*)&memptr) == 0) {
    // Successfully found a free block.  Is it big enough?
    if (*size_out >= min_size) {
      if (ctx->cfg->debugging) {
        fprintf(log, "No need to allocate: Found a block in the free list.\n");
      }
      *mem_out = *memptr;
      free(memptr);
      return FUTHARK_SUCCESS;
    } else {
      if (ctx->cfg->debugging) {
        fprintf(log, "Found a free block, but it was too small.\n");
      }
      int error = gpu_free_actual(ctx, *memptr);
      free(memptr);
      if (error != FUTHARK_SUCCESS) {
        return error;
      }
    }
  }

  *size_out = min_size;

  // We have to allocate a new block from the driver.  If the
  // allocation does not succeed, then we might be in an out-of-memory
  // situation.  We now start freeing things from the free list until
  // we think we have freed enough that the allocation will succeed.
  // Since we don't know how far the allocation is from fitting, we
  // have to check after every deallocation.  This might be pretty
  // expensive.  Let's hope that this case is hit rarely.

  if (ctx->cfg->debugging) {
    fprintf(log, "Actually allocating the desired block.\n");
  }

  int error = gpu_alloc_actual(ctx, min_size, mem_out);

  while (error == FUTHARK_OUT_OF_MEMORY) {
    if (ctx->cfg->debugging) {
      fprintf(log, "Out of GPU memory: releasing entry from the free list...\n");
    }
    gpu_mem* memptr;
    if (free_list_first(&ctx->gpu_free_list, (fl_mem*)&memptr) == 0) {
      gpu_mem mem = *memptr;
      free(memptr);
      error = gpu_free_actual(ctx, mem);
      if (error != FUTHARK_SUCCESS) {
        return error;
      }
    } else {
      break;
    }
    error = gpu_alloc_actual(ctx, min_size, mem_out);
  }

  return error;
}

static int gpu_free(struct futhark_context *ctx,
                    gpu_mem mem, size_t size, const char *tag) {
  gpu_mem* memptr = malloc(sizeof(gpu_mem));
  *memptr = mem;
  free_list_insert(&ctx->gpu_free_list, size, (fl_mem)memptr, tag);
  return FUTHARK_SUCCESS;
}

static int gpu_free_all(struct futhark_context *ctx) {
  free_list_pack(&ctx->gpu_free_list);
  gpu_mem* memptr;
  while (free_list_first(&ctx->gpu_free_list, (fl_mem*)&memptr) == 0) {
    gpu_mem mem = *memptr;
    free(memptr);
    int error = gpu_free_actual(ctx, mem);
    if (error != FUTHARK_SUCCESS) {
      return error;
    }
  }

  return FUTHARK_SUCCESS;
}

static int gpu_map_transpose(struct futhark_context* ctx,
                             gpu_kernel kernel_default,
                             gpu_kernel kernel_low_height,
                             gpu_kernel kernel_low_width,
                             gpu_kernel kernel_small,
                             gpu_kernel kernel_large,
                             const char *name, size_t elem_size,
                             gpu_mem dst, int64_t dst_offset,
                             gpu_mem src, int64_t src_offset,
                             int64_t k, int64_t n, int64_t m) {
  int64_t mulx = TR_BLOCK_DIM / n;
  int64_t muly = TR_BLOCK_DIM / m;
  int32_t mulx32 = mulx;
  int32_t muly32 = muly;
  int32_t k32 = k;
  int32_t n32 = n;
  int32_t m32 = m;

  gpu_kernel kernel = kernel_default;
  int32_t grid[3];
  int32_t block[3];

  void* args[11];
  size_t args_sizes[11] = {
    sizeof(gpu_mem), sizeof(int64_t),
    sizeof(gpu_mem), sizeof(int64_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t)
  };

  args[0] = &dst;
  args[1] = &dst_offset;
  args[2] = &src;
  args[3] = &src_offset;
  args[7] = &mulx;
  args[8] = &muly;

  if (dst_offset + k * n * m <= 2147483647L &&
      src_offset + k * n * m <= 2147483647L) {
    if (m <= TR_BLOCK_DIM/2 && n <= TR_BLOCK_DIM/2) {
      if (ctx->logging) { fprintf(ctx->log, "Using small kernel\n"); }
      kernel = kernel_small;
      grid[0] = ((k * n * m) + (TR_BLOCK_DIM*TR_BLOCK_DIM) - 1) / (TR_BLOCK_DIM*TR_BLOCK_DIM);
      grid[1] = 1;
      grid[2] = 1;
      block[0] = TR_BLOCK_DIM*TR_BLOCK_DIM;
      block[1] = 1;
      block[2] = 1;
    } else if (m <= TR_BLOCK_DIM/2 && TR_BLOCK_DIM < n) {
      if (ctx->logging) { fprintf(ctx->log, "Using low-width kernel\n"); }
      kernel = kernel_low_width;
      int64_t x_elems = m;
      int64_t y_elems = (n + muly - 1) / muly;
      grid[0] = (x_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[1] = (y_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[2] = k;
      block[0] = TR_BLOCK_DIM;
      block[1] = TR_BLOCK_DIM;
      block[2] = 1;
    } else if (n <= TR_BLOCK_DIM/2 && TR_BLOCK_DIM < m) {
      if (ctx->logging) { fprintf(ctx->log, "Using low-height kernel\n"); }
      kernel = kernel_low_height;
      int64_t x_elems = (m + mulx - 1) / mulx;
      int64_t y_elems = n;
      grid[0] = (x_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[1] = (y_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[2] = k;
      block[0] = TR_BLOCK_DIM;
      block[1] = TR_BLOCK_DIM;
      block[2] = 1;
    } else {
      if (ctx->logging) { fprintf(ctx->log, "Using default kernel\n"); }
      kernel = kernel_default;
      grid[0] = (m+TR_TILE_DIM-1)/TR_TILE_DIM;
      grid[1] = (n+TR_TILE_DIM-1)/TR_TILE_DIM;
      grid[2] = k;
      block[0] = TR_TILE_DIM;
      block[1] = TR_TILE_DIM/TR_ELEMS_PER_THREAD;
      block[2] = 1;
    }
    args[4] = &k32;
    args[5] = &m32;
    args[6] = &n32;
    args[7] = &mulx32;
    args[8] = &muly32;
  } else {
    if (ctx->logging) { fprintf(ctx->log, "Using large kernel\n"); }
    kernel = kernel_large;
    grid[0] = (m+TR_TILE_DIM-1)/TR_TILE_DIM;
    grid[1] = (n+TR_TILE_DIM-1)/TR_TILE_DIM;
    grid[2] = k;
    block[0] = TR_TILE_DIM;
    block[1] = TR_TILE_DIM/TR_ELEMS_PER_THREAD;
    block[2] = 1;
    args[4] = &k;
    args[5] = &m;
    args[6] = &n;
    args[7] = &mulx;
    args[8] = &muly;
    args_sizes[4] = sizeof(int64_t);
    args_sizes[5] = sizeof(int64_t);
    args_sizes[6] = sizeof(int64_t);
    args_sizes[7] = sizeof(int64_t);
    args_sizes[8] = sizeof(int64_t);
  }

  // Cap the number of thead blocks we launch and figure out how many
  // repeats we need alongside each dimension.
  int32_t repeat_1 = grid[1] / MAX_TR_THREAD_BLOCKS;
  int32_t repeat_2 = grid[2] / MAX_TR_THREAD_BLOCKS;
  grid[1] = repeat_1 > 0 ? MAX_TR_THREAD_BLOCKS : grid[1];
  grid[2] = repeat_2 > 0 ? MAX_TR_THREAD_BLOCKS : grid[2];
  args[9] = &repeat_1;
  args[10] = &repeat_2;
  args_sizes[9] = sizeof(repeat_1);
  args_sizes[10] = sizeof(repeat_2);

  if (ctx->logging) {
    fprintf(ctx->log, "\n");
  }

  return gpu_launch_kernel(ctx, kernel, name, grid, block,
                           TR_TILE_DIM*(TR_TILE_DIM+1)*elem_size,
                           sizeof(args)/sizeof(args[0]), args, args_sizes);
}

#define GEN_MAP_TRANSPOSE_GPU2GPU(NAME, ELEM_TYPE)                      \
  static int map_transpose_gpu2gpu_##NAME                               \
  (struct futhark_context* ctx,                                         \
   gpu_mem dst, int64_t dst_offset,                                     \
   gpu_mem src, int64_t src_offset,                                     \
   int64_t k, int64_t m, int64_t n)                                     \
  {                                                                     \
    return                                                              \
      gpu_map_transpose                                                 \
      (ctx,                                                             \
       ctx->kernels->map_transpose_##NAME,                              \
       ctx->kernels->map_transpose_##NAME##_low_height,                 \
       ctx->kernels->map_transpose_##NAME##_low_width,                  \
       ctx->kernels->map_transpose_##NAME##_small,                      \
       ctx->kernels->map_transpose_##NAME##_large,                      \
       "map_transpose_" #NAME, sizeof(ELEM_TYPE),                       \
       dst, dst_offset, src, src_offset,                                \
       k, n, m);                                                        \
  }

static int gpu_lmad_copy(struct futhark_context* ctx,
                         gpu_kernel kernel, int r,
                         gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                         gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                         int64_t shape[r]) {
  if (r > 8) {
    set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy array of greater than rank 8.\n"));
    return 1;
  }

  int64_t n = 1;
  for (int i = 0; i < r; i++) { n *= shape[i]; }

  void* args[6+(8*3)];
  size_t args_sizes[6+(8*3)];

  args[0] = &dst;
  args_sizes[0] = sizeof(gpu_mem);
  args[1] = &dst_offset;
  args_sizes[1] = sizeof(dst_offset);
  args[2] = &src;
  args_sizes[2] = sizeof(gpu_mem);
  args[3] = &src_offset;
  args_sizes[3] = sizeof(src_offset);
  args[4] = &n;
  args_sizes[4] = sizeof(n);
  args[5] = &r;
  args_sizes[5] = sizeof(r);

  int64_t zero = 0;

  for (int i = 0; i < 8; i++) {
    args_sizes[6+i*3] = sizeof(int64_t);
    args_sizes[6+i*3+1] = sizeof(int64_t);
    args_sizes[6+i*3+2] = sizeof(int64_t);
    if (i < r) {
      args[6+i*3] = &shape[i];
      args[6+i*3+1] = &dst_strides[i];
      args[6+i*3+2] = &src_strides[i];
    } else {
      args[6+i*3] = &zero;
      args[6+i*3+1] = &zero;
      args[6+i*3+2] = &zero;
    }
  }
  const size_t w = 256; // XXX: hardcoded thread block size.

  return gpu_launch_kernel(ctx, kernel, "copy_lmad_dev_to_dev",
                           (const int32_t[3]) {(n+w-1)/w,1,1},
                           (const int32_t[3]) {w,1,1},
                           0, 6+(8*3), args, args_sizes);
}

#define GEN_LMAD_COPY_ELEMENTS_GPU2GPU(NAME, ELEM_TYPE)                 \
  static int lmad_copy_elements_gpu2gpu_##NAME                          \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    return gpu_lmad_copy(ctx, ctx->kernels->lmad_copy_##NAME, r,        \
                         dst, dst_offset, dst_strides,                  \
                         src, src_offset, src_strides,                  \
                         shape);                                        \
  }                                                                     \

#define GEN_LMAD_COPY_GPU2GPU(NAME, ELEM_TYPE)                          \
  static int lmad_copy_gpu2gpu_##NAME                                   \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "GPU to GPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return FUTHARK_SUCCESS; }                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                       r, dst_strides, src_strides, shape)) {           \
      log_transpose(ctx, k, n, m);                                      \
      return map_transpose_gpu2gpu_##NAME                               \
        (ctx, dst, dst_offset, src, src_offset, k, n, m);               \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}        \
      return gpu_memcpy(ctx,                                            \
                        dst, dst_offset*sizeof(ELEM_TYPE),              \
                        src, src_offset*sizeof(ELEM_TYPE),              \
                        size * sizeof(ELEM_TYPE));                      \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}     \
      return lmad_copy_elements_gpu2gpu_##NAME                          \
        (ctx, r,                                                        \
         dst, dst_offset, dst_strides,                                  \
         src, src_offset, src_strides,                                  \
         shape);                                                        \
    }                                                                   \
  }

static int
lmad_copy_elements_host2gpu(struct futhark_context *ctx, size_t elem_size,
                            int r,
                            gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                            unsigned char* src, int64_t src_offset, int64_t src_strides[r],
                            int64_t shape[r]) {
  (void)ctx; (void)elem_size; (void)r;
  (void)dst; (void)dst_offset; (void)dst_strides;
  (void)src; (void)src_offset; (void)src_strides;
  (void)shape;
  set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy unstructured array from host to GPU.\n"));
  return 1;
}

static int
lmad_copy_elements_gpu2host (struct futhark_context *ctx, size_t elem_size,
                             int r,
                             unsigned char* dst, int64_t dst_offset, int64_t dst_strides[r],
                             gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                             int64_t shape[r]) {
  (void)ctx; (void)elem_size; (void)r;
  (void)dst; (void)dst_offset; (void)dst_strides;
  (void)src; (void)src_offset; (void)src_strides;
  (void)shape;
  set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy unstructured array from GPU to host.\n"));
  return 1;
}

#define GEN_LMAD_COPY_ELEMENTS_HOSTGPU(NAME, ELEM_TYPE)                 \
  static int lmad_copy_elements_gpu2gpu_##NAME                          \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    return (ctx, ctx->kernels->lmad_copy_##NAME, r,                     \
                         dst, dst_offset, dst_strides,                  \
                         src, src_offset, src_strides,                  \
                         shape);                                        \
  }                                                                     \


static int lmad_copy_host2gpu(struct futhark_context* ctx, size_t elem_size, bool sync,
                              int r,
                              gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                              unsigned char* src, int64_t src_offset, int64_t src_strides[r],
                              int64_t shape[r]) {
  log_copy(ctx, "Host to GPU", r, dst_offset, dst_strides,
           src_offset, src_strides, shape);
  int64_t size = elem_size;
  for (int i = 0; i < r; i++) { size *= shape[i]; }
  if (size == 0) { return FUTHARK_SUCCESS; }
  int64_t k, n, m;
  if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {
    if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}
    return memcpy_host2gpu(ctx, sync,
                           dst, dst_offset*elem_size,
                           src, src_offset*elem_size,
                           size);
  } else {
    if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}
    int error;
    error = lmad_copy_elements_host2gpu
      (ctx, elem_size, r,
       dst, dst_offset, dst_strides,
       src, src_offset, src_strides,
       shape);
    if (error == 0 && sync) {
      error = futhark_context_sync(ctx);
    }
    return error;
  }
}

static int lmad_copy_gpu2host(struct futhark_context* ctx, size_t elem_size, bool sync,
                              int r,
                              unsigned char* dst, int64_t dst_offset, int64_t dst_strides[r],
                              gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                              int64_t shape[r]) {
  log_copy(ctx, "Host to GPU", r, dst_offset, dst_strides,
           src_offset, src_strides, shape);
  int64_t size = elem_size;
  for (int i = 0; i < r; i++) { size *= shape[i]; }
  if (size == 0) { return FUTHARK_SUCCESS; }
  int64_t k, n, m;
  if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {
    if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}
    return memcpy_gpu2host(ctx, sync,
                           dst, dst_offset*elem_size,
                           src, src_offset*elem_size,
                           size);
  } else {
    if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}
    int error;
    error = lmad_copy_elements_gpu2host
      (ctx, elem_size, r,
       dst, dst_offset, dst_strides,
       src, src_offset, src_strides,
       shape);
    if (error == 0 && sync) {
      error = futhark_context_sync(ctx);
    }
    return error;
  }
}

GEN_MAP_TRANSPOSE_GPU2GPU(1b, uint8_t)
GEN_MAP_TRANSPOSE_GPU2GPU(2b, uint16_t)
GEN_MAP_TRANSPOSE_GPU2GPU(4b, uint32_t)
GEN_MAP_TRANSPOSE_GPU2GPU(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS_GPU2GPU(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(8b, uint64_t)

GEN_LMAD_COPY_GPU2GPU(1b, uint8_t)
GEN_LMAD_COPY_GPU2GPU(2b, uint16_t)
GEN_LMAD_COPY_GPU2GPU(4b, uint32_t)
GEN_LMAD_COPY_GPU2GPU(8b, uint64_t)

// End of gpu.h

static int gpu_macros(struct futhark_context *ctx, char ***names_out, int64_t **values_out)
{
    int num_macros = 376;
    char **names = malloc(num_macros * sizeof(char *));
    int64_t *values = malloc(num_macros * sizeof(int64_t));
    
    {
        names[0] = "sort_for_Skyline_doublezisegmap_90261_dim1";
        values[0] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90245;
    }
    {
        names[1] = "sort_for_Skyline_doublezisegmap_90261zisegmap_tblock_sizze_90257";
        values[1] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90245;
    }
    {
        names[2] = "sort_for_Skyline_doublezisegscan_90241_dim1";
        values[2] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90235;
    }
    {
        names[3] = "sort_for_Skyline_doublezisegscan_90241zisegscan_tblock_sizze_90236";
        values[3] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90235;
    }
    {
        names[4] = "sort_for_Skyline_doublezisegscan_90241zichunk_sizze_99246";
        values[4] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[5] = "sort_for_Skyline_doublezisegred_large_99168_dim1";
        values[5] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    }
    {
        names[6] = "sort_for_Skyline_doublezisegred_large_99168ziseghist_tblock_sizze_90221";
        values[6] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    }
    {
        names[7] = "sort_for_Skyline_doublezisegred_large_99168zichunk_sizze_99169";
        values[7] = (int64_t) 1;
    }
    {
        names[8] = "sort_for_Skyline_doublezisegred_small_99168_dim1";
        values[8] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    }
    {
        names[9] = "sort_for_Skyline_doublezisegred_small_99168ziseghist_tblock_sizze_90221";
        values[9] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    }
    {
        names[10] = "sort_for_Skyline_doubleziseghist_global_90228_dim1";
        values[10] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    }
    {
        names[11] = "sort_for_Skyline_doubleziseghist_global_90228ziseghist_tblock_sizze_90221";
        values[11] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    }
    {
        names[12] = "sort_for_Skyline_doubleziseghist_local_90228_dim1";
        values[12] = ctx->max_thread_block_size;
    }
    {
        names[13] = "sort_for_Skyline_doubleziseghist_local_90228zimax_tblock_sizze_99092";
        values[13] = ctx->max_thread_block_size;
    }
    {
        names[14] = "sort_for_Skyline_doublezigpuseq_99075_dim1";
        values[14] = (int64_t) 1;
    }
    {
        names[15] = "sort_for_Skyline_doublezigpuseq_99069_dim1";
        values[15] = (int64_t) 1;
    }
    {
        names[16] = "sort_for_Skyline_doublezisegmap_90213_dim1";
        values[16] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90198;
    }
    {
        names[17] = "sort_for_Skyline_doublezisegmap_90213zisegmap_tblock_sizze_90209";
        values[17] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90198;
    }
    {
        names[18] = "sort_for_Skyline_doublezigpuseq_99052_dim1";
        values[18] = (int64_t) 1;
    }
    {
        names[19] = "sort_for_Skyline_doublezigpuseq_99046_dim1";
        values[19] = (int64_t) 1;
    }
    {
        names[20] = "sort_for_Skyline_doublezisegmap_90192_dim1";
        values[20] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90180;
    }
    {
        names[21] = "sort_for_Skyline_doublezisegmap_90192zisegmap_tblock_sizze_90188";
        values[21] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90180;
    }
    {
        names[22] = "sort_for_Skyline_doublezigpuseq_99007_dim1";
        values[22] = (int64_t) 1;
    }
    {
        names[23] = "sort_for_Skyline_doublezisegmap_90173_dim1";
        values[23] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90160;
    }
    {
        names[24] = "sort_for_Skyline_doublezisegmap_90173zisegmap_tblock_sizze_90169";
        values[24] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90160;
    }
    {
        names[25] = "sort_for_Skyline_doublezigpuseq_98992_dim1";
        values[25] = (int64_t) 1;
    }
    {
        names[26] = "sort_for_Skyline_doublezigpuseq_98985_dim1";
        values[26] = (int64_t) 1;
    }
    {
        names[27] = "sort_for_Skyline_doublezisegmap_90153_dim1";
        values[27] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90140;
    }
    {
        names[28] = "sort_for_Skyline_doublezisegmap_90153zisegmap_tblock_sizze_90149";
        values[28] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90140;
    }
    {
        names[29] = "sort_for_Skyline_doublezigpuseq_98968_dim1";
        values[29] = (int64_t) 1;
    }
    {
        names[30] = "sort_for_Skyline_doublezigpuseq_98941_dim1";
        values[30] = (int64_t) 1;
    }
    {
        names[31] = "sort_for_Skyline_doublezigpuseq_98935_dim1";
        values[31] = (int64_t) 1;
    }
    {
        names[32] = "sort_for_Skyline_doublezigpuseq_98908_dim1";
        values[32] = (int64_t) 1;
    }
    {
        names[33] = "sort_for_Skyline_doublezigpuseq_98902_dim1";
        values[33] = (int64_t) 1;
    }
    {
        names[34] = "sort_for_Skyline_doublezigpuseq_98875_dim1";
        values[34] = (int64_t) 1;
    }
    {
        names[35] = "sort_for_Skyline_doublezisegmap_90133_dim1";
        values[35] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90120;
    }
    {
        names[36] = "sort_for_Skyline_doublezisegmap_90133zisegmap_tblock_sizze_90129";
        values[36] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90120;
    }
    {
        names[37] = "sort_for_Skyline_doublezisegmap_90113_dim1";
        values[37] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90100;
    }
    {
        names[38] = "sort_for_Skyline_doublezisegmap_90113zisegmap_tblock_sizze_90109";
        values[38] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90100;
    }
    {
        names[39] = "sort_for_Skyline_doublezigpuseq_98830_dim1";
        values[39] = (int64_t) 1;
    }
    {
        names[40] = "sort_for_Skyline_doublezigpuseq_98824_dim1";
        values[40] = (int64_t) 1;
    }
    {
        names[41] = "sort_for_Skyline_doublezisegmap_90091_dim1";
        values[41] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90076;
    }
    {
        names[42] = "sort_for_Skyline_doublezisegmap_90091zisegmap_tblock_sizze_90087";
        values[42] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90076;
    }
    {
        names[43] = "sort_for_Skyline_doublezigpuseq_98807_dim1";
        values[43] = (int64_t) 1;
    }
    {
        names[44] = "sort_for_Skyline_doublezigpuseq_98801_dim1";
        values[44] = (int64_t) 1;
    }
    {
        names[45] = "sort_for_Skyline_doublezisegmap_90070_dim1";
        values[45] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90058;
    }
    {
        names[46] = "sort_for_Skyline_doublezisegmap_90070zisegmap_tblock_sizze_90066";
        values[46] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90058;
    }
    {
        names[47] = "sort_for_Skyline_doublezigpuseq_98762_dim1";
        values[47] = (int64_t) 1;
    }
    {
        names[48] = "sort_for_Skyline_doublezisegmap_90051_dim1";
        values[48] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90038;
    }
    {
        names[49] = "sort_for_Skyline_doublezisegmap_90051zisegmap_tblock_sizze_90047";
        values[49] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90038;
    }
    {
        names[50] = "sort_for_Skyline_doublezigpuseq_98747_dim1";
        values[50] = (int64_t) 1;
    }
    {
        names[51] = "sort_for_Skyline_doublezigpuseq_98741_dim1";
        values[51] = (int64_t) 1;
    }
    {
        names[52] = "sort_for_Skyline_doublezigpuseq_98734_dim1";
        values[52] = (int64_t) 1;
    }
    {
        names[53] = "sort_for_Skyline_doublezisegmap_90031_dim1";
        values[53] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90018;
    }
    {
        names[54] = "sort_for_Skyline_doublezisegmap_90031zisegmap_tblock_sizze_90027";
        values[54] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90018;
    }
    {
        names[55] = "sort_for_Skyline_doublezigpuseq_98717_dim1";
        values[55] = (int64_t) 1;
    }
    {
        names[56] = "sort_for_Skyline_doublezigpuseq_98690_dim1";
        values[56] = (int64_t) 1;
    }
    {
        names[57] = "sort_for_Skyline_doublezigpuseq_98684_dim1";
        values[57] = (int64_t) 1;
    }
    {
        names[58] = "sort_for_Skyline_doublezigpuseq_98657_dim1";
        values[58] = (int64_t) 1;
    }
    {
        names[59] = "sort_for_Skyline_doublezigpuseq_98651_dim1";
        values[59] = (int64_t) 1;
    }
    {
        names[60] = "sort_for_Skyline_doublezigpuseq_98624_dim1";
        values[60] = (int64_t) 1;
    }
    {
        names[61] = "sort_for_Skyline_doublezisegmap_90011_dim1";
        values[61] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89998;
    }
    {
        names[62] = "sort_for_Skyline_doublezisegmap_90011zisegmap_tblock_sizze_90007";
        values[62] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89998;
    }
    {
        names[63] = "sort_for_Skyline_doublezisegmap_89991_dim1";
        values[63] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89978;
    }
    {
        names[64] = "sort_for_Skyline_doublezisegmap_89991zisegmap_tblock_sizze_89987";
        values[64] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89978;
    }
    {
        names[65] = "sort_for_Skyline_doublezisegmap_89968_dim1";
        values[65] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89970;
    }
    {
        names[66] = "sort_for_Skyline_doublezisegmap_89968zisegmap_tblock_sizze_89971";
        values[66] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89970;
    }
    {
        names[67] = "sort_for_Skyline_doublezisegmap_89957_dim1";
        values[67] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89960;
    }
    {
        names[68] = "sort_for_Skyline_doublezisegmap_89957zisegmap_tblock_sizze_89961";
        values[68] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89960;
    }
    {
        names[69] = "sort_for_Skyline_doublezisegmap_89945_dim1";
        values[69] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89929;
    }
    {
        names[70] = "sort_for_Skyline_doublezisegmap_89945zisegmap_tblock_sizze_89940";
        values[70] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89929;
    }
    {
        names[71] = "sort_for_Skyline_doublezisegscan_89915_dim1";
        values[71] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_89502;
    }
    {
        names[72] = "sort_for_Skyline_doublezisegscan_89915zisegscan_tblock_sizze_89910";
        values[72] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_89502;
    }
    {
        names[73] = "sort_for_Skyline_doublezisegscan_89915zichunk_sizze_98468";
        values[73] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[74] = "sort_for_Skyline_doublezisegmap_89893_dim1";
        values[74] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88347;
    }
    {
        names[75] = "sort_for_Skyline_doublezisegmap_89893zisegmap_tblock_sizze_89889";
        values[75] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88347;
    }
    {
        names[76] = "sort_for_Skyline_doublezisegmap_89883_dim1";
        values[76] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88379;
    }
    {
        names[77] = "sort_for_Skyline_doublezisegmap_89883zisegmap_tblock_sizze_89878";
        values[77] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88379;
    }
    {
        names[78] = "sort_for_Skyline_doublezisegmap_89854_dim1";
        values[78] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88556;
    }
    {
        names[79] = "sort_for_Skyline_doublezisegmap_89854zisegmap_tblock_sizze_89849";
        values[79] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88556;
    }
    {
        names[80] = "sort_for_Skyline_doublezisegmap_89841_dim1";
        values[80] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88585;
    }
    {
        names[81] = "sort_for_Skyline_doublezisegmap_89841zisegmap_tblock_sizze_89837";
        values[81] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88585;
    }
    {
        names[82] = "sort_for_Skyline_doublezisegmap_89821_dim1";
        values[82] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88712;
    }
    {
        names[83] = "sort_for_Skyline_doublezisegmap_89821zisegmap_tblock_sizze_89816";
        values[83] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88712;
    }
    {
        names[84] = "sort_for_Skyline_doublezisegmap_89808_dim1";
        values[84] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88738;
    }
    {
        names[85] = "sort_for_Skyline_doublezisegmap_89808zisegmap_tblock_sizze_89804";
        values[85] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88738;
    }
    {
        names[86] = "sort_for_Skyline_doublezisegmap_89788_dim1";
        values[86] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88770;
    }
    {
        names[87] = "sort_for_Skyline_doublezisegmap_89788zisegmap_tblock_sizze_89783";
        values[87] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88770;
    }
    {
        names[88] = "sort_for_Skyline_doublezisegmap_89775_dim1";
        values[88] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88796;
    }
    {
        names[89] = "sort_for_Skyline_doublezisegmap_89775zisegmap_tblock_sizze_89771";
        values[89] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88796;
    }
    {
        names[90] = "sort_for_Skyline_doublezisegmap_89763_dim1";
        values[90] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88850;
    }
    {
        names[91] = "sort_for_Skyline_doublezisegmap_89763zisegmap_tblock_sizze_89758";
        values[91] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88850;
    }
    {
        names[92] = "sort_for_Skyline_doublezisegmap_89747_dim1";
        values[92] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88883;
    }
    {
        names[93] = "sort_for_Skyline_doublezisegmap_89747zisegmap_tblock_sizze_89742";
        values[93] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88883;
    }
    {
        names[94] = "sort_for_Skyline_doublezisegred_nonseg_88126_dim1";
        values[94] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88118;
    }
    {
        names[95] = "sort_for_Skyline_doublezisegred_nonseg_88126zisegred_tblock_sizze_88119";
        values[95] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88118;
    }
    {
        names[96] = "sort_for_Skyline_doublezisegred_nonseg_88126zichunk_sizze_98056";
        values[96] = (int64_t) 1;
    }
    {
        names[97] = "sort_for_Skyline_doublezisegred_large_97981_dim1";
        values[97] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    }
    {
        names[98] = "sort_for_Skyline_doublezisegred_large_97981ziseghist_tblock_sizze_88036";
        values[98] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    }
    {
        names[99] = "sort_for_Skyline_doublezisegred_large_97981zichunk_sizze_97982";
        values[99] = (int64_t) 1;
    }
    {
        names[100] = "sort_for_Skyline_doublezisegred_small_97981_dim1";
        values[100] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    }
    {
        names[101] = "sort_for_Skyline_doublezisegred_small_97981ziseghist_tblock_sizze_88036";
        values[101] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    }
    {
        names[102] = "sort_for_Skyline_doubleziseghist_global_88043_dim1";
        values[102] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    }
    {
        names[103] = "sort_for_Skyline_doubleziseghist_global_88043ziseghist_tblock_sizze_88036";
        values[103] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    }
    {
        names[104] = "sort_for_Skyline_doubleziseghist_local_88043_dim1";
        values[104] = ctx->max_thread_block_size;
    }
    {
        names[105] = "sort_for_Skyline_doubleziseghist_local_88043zimax_tblock_sizze_97885";
        values[105] = ctx->max_thread_block_size;
    }
    {
        names[106] = "sort_for_Skyline_doublezisegmap_87894_dim1";
        values[106] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86099;
    }
    {
        names[107] = "sort_for_Skyline_doublezisegmap_87894zisegmap_tblock_sizze_87885";
        values[107] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86099;
    }
    {
        names[108] = "sort_for_Skyline_doublezisegmap_87805_dim1";
        values[108] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86211;
    }
    {
        names[109] = "sort_for_Skyline_doublezisegmap_87805zisegmap_tblock_sizze_87790";
        values[109] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86211;
    }
    {
        names[110] = "sort_for_Skyline_doublezisegmap_87667_dim1";
        values[110] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86485;
    }
    {
        names[111] = "sort_for_Skyline_doublezisegmap_87667zisegmap_tblock_sizze_87661";
        values[111] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86485;
    }
    {
        names[112] = "sort_for_Skyline_doublezisegmap_87264_dim1";
        values[112] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84957;
    }
    {
        names[113] = "sort_for_Skyline_doublezisegmap_87264zisegmap_tblock_sizze_87256";
        values[113] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84957;
    }
    {
        names[114] = "sort_for_Skyline_doublezisegmap_87234_dim1";
        values[114] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85151;
    }
    {
        names[115] = "sort_for_Skyline_doublezisegmap_87234zisegmap_tblock_sizze_87230";
        values[115] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85151;
    }
    {
        names[116] = "sort_for_Skyline_doublezisegmap_87224_dim1";
        values[116] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85166;
    }
    {
        names[117] = "sort_for_Skyline_doublezisegmap_87224zisegmap_tblock_sizze_87219";
        values[117] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85166;
    }
    {
        names[118] = "sort_for_Skyline_doublezisegmap_87210_dim1";
        values[118] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85179;
    }
    {
        names[119] = "sort_for_Skyline_doublezisegmap_87210zisegmap_tblock_sizze_87204";
        values[119] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85179;
    }
    {
        names[120] = "sort_for_Skyline_doublezisegmap_87194_dim1";
        values[120] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85075;
    }
    {
        names[121] = "sort_for_Skyline_doublezisegmap_87194zisegmap_tblock_sizze_87190";
        values[121] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85075;
    }
    {
        names[122] = "sort_for_Skyline_doublezisegmap_87184_dim1";
        values[122] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85090;
    }
    {
        names[123] = "sort_for_Skyline_doublezisegmap_87184zisegmap_tblock_sizze_87179";
        values[123] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85090;
    }
    {
        names[124] = "sort_for_Skyline_doublezisegmap_87171_dim1";
        values[124] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85103;
    }
    {
        names[125] = "sort_for_Skyline_doublezisegmap_87171zisegmap_tblock_sizze_87166";
        values[125] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85103;
    }
    {
        names[126] = "sort_for_Skyline_doublezisegmap_87136_dim1";
        values[126] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87104;
    }
    {
        names[127] = "sort_for_Skyline_doublezisegmap_87136zisegmap_tblock_sizze_87130";
        values[127] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87104;
    }
    {
        names[128] = "sort_for_Skyline_doublezisegmap_83800_dim1";
        values[128] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83467;
    }
    {
        names[129] = "sort_for_Skyline_doublezisegmap_83800zisegmap_tblock_sizze_83792";
        values[129] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83467;
    }
    {
        names[130] = "sort_for_Skyline_doublezisegmap_83764_dim1";
        values[130] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83682;
    }
    {
        names[131] = "sort_for_Skyline_doublezisegmap_83764zisegmap_tblock_sizze_83755";
        values[131] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83682;
    }
    {
        names[132] = "sort_for_Skyline_doublezigpuseq_97251_dim1";
        values[132] = (int64_t) 1;
    }
    {
        names[133] = "sort_for_Skyline_doublezisegred_nonseg_83358_dim1";
        values[133] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_83347;
    }
    {
        names[134] = "sort_for_Skyline_doublezisegred_nonseg_83358zisegred_tblock_sizze_83348";
        values[134] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_83347;
    }
    {
        names[135] = "sort_for_Skyline_doublezisegred_nonseg_83358zichunk_sizze_97182";
        values[135] = (int64_t) 1;
    }
    {
        names[136] = "sort_for_Skyline_doublezisegmap_83336_dim1";
        values[136] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81653;
    }
    {
        names[137] = "sort_for_Skyline_doublezisegmap_83336zisegmap_tblock_sizze_83332";
        values[137] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81653;
    }
    {
        names[138] = "sort_for_Skyline_doublezisegmap_83324_dim1";
        values[138] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81681;
    }
    {
        names[139] = "sort_for_Skyline_doublezisegmap_83324zisegmap_tblock_sizze_83319";
        values[139] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81681;
    }
    {
        names[140] = "sort_for_Skyline_doublezisegmap_83300_dim1";
        values[140] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81717;
    }
    {
        names[141] = "sort_for_Skyline_doublezisegmap_83300zisegmap_tblock_sizze_83295";
        values[141] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81717;
    }
    {
        names[142] = "sort_for_Skyline_doublezisegmap_83290_dim1";
        values[142] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81748;
    }
    {
        names[143] = "sort_for_Skyline_doublezisegmap_83290zisegmap_tblock_sizze_83285";
        values[143] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81748;
    }
    {
        names[144] = "sort_for_Skyline_doublezisegmap_83248_dim1";
        values[144] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81803;
    }
    {
        names[145] = "sort_for_Skyline_doublezisegmap_83248zisegmap_tblock_sizze_83244";
        values[145] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81803;
    }
    {
        names[146] = "sort_for_Skyline_doublezisegmap_83239_dim1";
        values[146] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81828;
    }
    {
        names[147] = "sort_for_Skyline_doublezisegmap_83239zisegmap_tblock_sizze_83234";
        values[147] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81828;
    }
    {
        names[148] = "sort_for_Skyline_doublezisegmap_83214_dim1";
        values[148] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81878;
    }
    {
        names[149] = "sort_for_Skyline_doublezisegmap_83214zisegmap_tblock_sizze_83209";
        values[149] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81878;
    }
    {
        names[150] = "sort_for_Skyline_doublezisegmap_83192_dim1";
        values[150] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81924;
    }
    {
        names[151] = "sort_for_Skyline_doublezisegmap_83192zisegmap_tblock_sizze_83187";
        values[151] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81924;
    }
    {
        names[152] = "sort_for_Skyline_doublezisegmap_83177_dim1";
        values[152] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81950;
    }
    {
        names[153] = "sort_for_Skyline_doublezisegmap_83177zisegmap_tblock_sizze_83172";
        values[153] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81950;
    }
    {
        names[154] = "sort_for_Skyline_doublezisegmap_83157_dim1";
        values[154] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82020;
    }
    {
        names[155] = "sort_for_Skyline_doublezisegmap_83157zisegmap_tblock_sizze_83152";
        values[155] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82020;
    }
    {
        names[156] = "sort_for_Skyline_doublezisegmap_83146_dim1";
        values[156] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82049;
    }
    {
        names[157] = "sort_for_Skyline_doublezisegmap_83146zisegmap_tblock_sizze_83141";
        values[157] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82049;
    }
    {
        names[158] = "sort_for_Skyline_doublezisegmap_83117_dim1";
        values[158] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82226;
    }
    {
        names[159] = "sort_for_Skyline_doublezisegmap_83117zisegmap_tblock_sizze_83112";
        values[159] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82226;
    }
    {
        names[160] = "sort_for_Skyline_doublezisegmap_83104_dim1";
        values[160] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82255;
    }
    {
        names[161] = "sort_for_Skyline_doublezisegmap_83104zisegmap_tblock_sizze_83100";
        values[161] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82255;
    }
    {
        names[162] = "sort_for_Skyline_doublezisegmap_83084_dim1";
        values[162] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82382;
    }
    {
        names[163] = "sort_for_Skyline_doublezisegmap_83084zisegmap_tblock_sizze_83079";
        values[163] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82382;
    }
    {
        names[164] = "sort_for_Skyline_doublezisegmap_83071_dim1";
        values[164] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82408;
    }
    {
        names[165] = "sort_for_Skyline_doublezisegmap_83071zisegmap_tblock_sizze_83067";
        values[165] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82408;
    }
    {
        names[166] = "sort_for_Skyline_doublezisegmap_83051_dim1";
        values[166] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82440;
    }
    {
        names[167] = "sort_for_Skyline_doublezisegmap_83051zisegmap_tblock_sizze_83046";
        values[167] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82440;
    }
    {
        names[168] = "sort_for_Skyline_doublezisegmap_83038_dim1";
        values[168] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82466;
    }
    {
        names[169] = "sort_for_Skyline_doublezisegmap_83038zisegmap_tblock_sizze_83034";
        values[169] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82466;
    }
    {
        names[170] = "sort_for_Skyline_doublezisegmap_83026_dim1";
        values[170] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82520;
    }
    {
        names[171] = "sort_for_Skyline_doublezisegmap_83026zisegmap_tblock_sizze_83021";
        values[171] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82520;
    }
    {
        names[172] = "sort_for_Skyline_doublezisegmap_83010_dim1";
        values[172] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82553;
    }
    {
        names[173] = "sort_for_Skyline_doublezisegmap_83010zisegmap_tblock_sizze_83005";
        values[173] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82553;
    }
    {
        names[174] = "sort_for_Skyline_doublezisegmap_81485_dim1";
        values[174] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79914;
    }
    {
        names[175] = "sort_for_Skyline_doublezisegmap_81485zisegmap_tblock_sizze_81477";
        values[175] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79914;
    }
    {
        names[176] = "sort_for_Skyline_doublezisegmap_81403_dim1";
        values[176] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80007;
    }
    {
        names[177] = "sort_for_Skyline_doublezisegmap_81403zisegmap_tblock_sizze_81389";
        values[177] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80007;
    }
    {
        names[178] = "sort_for_Skyline_doublezisegmap_81282_dim1";
        values[178] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80255;
    }
    {
        names[179] = "sort_for_Skyline_doublezisegmap_81282zisegmap_tblock_sizze_81276";
        values[179] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80255;
    }
    {
        names[180] = "sort_for_Skyline_doublezisegmap_80938_dim1";
        values[180] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78924;
    }
    {
        names[181] = "sort_for_Skyline_doublezisegmap_80938zisegmap_tblock_sizze_80931";
        values[181] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78924;
    }
    {
        names[182] = "sort_for_Skyline_doublezisegmap_80913_dim1";
        values[182] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79093;
    }
    {
        names[183] = "sort_for_Skyline_doublezisegmap_80913zisegmap_tblock_sizze_80909";
        values[183] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79093;
    }
    {
        names[184] = "sort_for_Skyline_doublezisegmap_80903_dim1";
        values[184] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79108;
    }
    {
        names[185] = "sort_for_Skyline_doublezisegmap_80903zisegmap_tblock_sizze_80898";
        values[185] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79108;
    }
    {
        names[186] = "sort_for_Skyline_doublezisegmap_80890_dim1";
        values[186] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79121;
    }
    {
        names[187] = "sort_for_Skyline_doublezisegmap_80890zisegmap_tblock_sizze_80885";
        values[187] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79121;
    }
    {
        names[188] = "sort_for_Skyline_doublezisegmap_80876_dim1";
        values[188] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79020;
    }
    {
        names[189] = "sort_for_Skyline_doublezisegmap_80876zisegmap_tblock_sizze_80872";
        values[189] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79020;
    }
    {
        names[190] = "sort_for_Skyline_doublezisegmap_80866_dim1";
        values[190] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79035;
    }
    {
        names[191] = "sort_for_Skyline_doublezisegmap_80866zisegmap_tblock_sizze_80861";
        values[191] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79035;
    }
    {
        names[192] = "sort_for_Skyline_doublezisegmap_80854_dim1";
        values[192] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79048;
    }
    {
        names[193] = "sort_for_Skyline_doublezisegmap_80854zisegmap_tblock_sizze_80850";
        values[193] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79048;
    }
    {
        names[194] = "sort_for_Skyline_doublezisegmap_80822_dim1";
        values[194] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80790;
    }
    {
        names[195] = "sort_for_Skyline_doublezisegmap_80822zisegmap_tblock_sizze_80816";
        values[195] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80790;
    }
    {
        names[196] = "sort_for_Skyline_doublezisegmap_77950_dim1";
        values[196] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77680;
    }
    {
        names[197] = "sort_for_Skyline_doublezisegmap_77950zisegmap_tblock_sizze_77943";
        values[197] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77680;
    }
    {
        names[198] = "sort_for_Skyline_doublezisegmap_77920_dim1";
        values[198] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77844;
    }
    {
        names[199] = "sort_for_Skyline_doublezisegmap_77920zisegmap_tblock_sizze_77912";
        values[199] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77844;
    }
    {
        names[200] = "sort_for_Skyline_doublezigpuseq_96301_dim1";
        values[200] = (int64_t) 1;
    }
    {
        names[201] = "sort_for_Skyline_doublezisegred_nonseg_77600_dim1";
        values[201] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_77590;
    }
    {
        names[202] = "sort_for_Skyline_doublezisegred_nonseg_77600zisegred_tblock_sizze_77591";
        values[202] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_77590;
    }
    {
        names[203] = "sort_for_Skyline_doublezisegred_nonseg_77600zichunk_sizze_96246";
        values[203] = (int64_t) 1;
    }
    {
        names[204] = "sort_for_Skyline_doublezisegmap_77579_dim1";
        values[204] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75971;
    }
    {
        names[205] = "sort_for_Skyline_doublezisegmap_77579zisegmap_tblock_sizze_77575";
        values[205] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75971;
    }
    {
        names[206] = "sort_for_Skyline_doublezisegmap_77567_dim1";
        values[206] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75999;
    }
    {
        names[207] = "sort_for_Skyline_doublezisegmap_77567zisegmap_tblock_sizze_77562";
        values[207] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75999;
    }
    {
        names[208] = "sort_for_Skyline_doublezisegmap_77543_dim1";
        values[208] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76035;
    }
    {
        names[209] = "sort_for_Skyline_doublezisegmap_77543zisegmap_tblock_sizze_77538";
        values[209] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76035;
    }
    {
        names[210] = "sort_for_Skyline_doublezisegmap_77533_dim1";
        values[210] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76066;
    }
    {
        names[211] = "sort_for_Skyline_doublezisegmap_77533zisegmap_tblock_sizze_77528";
        values[211] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76066;
    }
    {
        names[212] = "sort_for_Skyline_doublezisegmap_77485_dim1";
        values[212] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76149;
    }
    {
        names[213] = "sort_for_Skyline_doublezisegmap_77485zisegmap_tblock_sizze_77480";
        values[213] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76149;
    }
    {
        names[214] = "sort_for_Skyline_doublezisegmap_77463_dim1";
        values[214] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76195;
    }
    {
        names[215] = "sort_for_Skyline_doublezisegmap_77463zisegmap_tblock_sizze_77458";
        values[215] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76195;
    }
    {
        names[216] = "sort_for_Skyline_doublezisegmap_77448_dim1";
        values[216] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76221;
    }
    {
        names[217] = "sort_for_Skyline_doublezisegmap_77448zisegmap_tblock_sizze_77443";
        values[217] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76221;
    }
    {
        names[218] = "sort_for_Skyline_doublezisegmap_77428_dim1";
        values[218] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76291;
    }
    {
        names[219] = "sort_for_Skyline_doublezisegmap_77428zisegmap_tblock_sizze_77423";
        values[219] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76291;
    }
    {
        names[220] = "sort_for_Skyline_doublezisegmap_77417_dim1";
        values[220] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76320;
    }
    {
        names[221] = "sort_for_Skyline_doublezisegmap_77417zisegmap_tblock_sizze_77412";
        values[221] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76320;
    }
    {
        names[222] = "sort_for_Skyline_doublezisegmap_77388_dim1";
        values[222] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76497;
    }
    {
        names[223] = "sort_for_Skyline_doublezisegmap_77388zisegmap_tblock_sizze_77383";
        values[223] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76497;
    }
    {
        names[224] = "sort_for_Skyline_doublezisegmap_77375_dim1";
        values[224] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76526;
    }
    {
        names[225] = "sort_for_Skyline_doublezisegmap_77375zisegmap_tblock_sizze_77371";
        values[225] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76526;
    }
    {
        names[226] = "sort_for_Skyline_doublezisegmap_77355_dim1";
        values[226] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76653;
    }
    {
        names[227] = "sort_for_Skyline_doublezisegmap_77355zisegmap_tblock_sizze_77350";
        values[227] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76653;
    }
    {
        names[228] = "sort_for_Skyline_doublezisegmap_77342_dim1";
        values[228] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76679;
    }
    {
        names[229] = "sort_for_Skyline_doublezisegmap_77342zisegmap_tblock_sizze_77338";
        values[229] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76679;
    }
    {
        names[230] = "sort_for_Skyline_doublezisegmap_77322_dim1";
        values[230] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76711;
    }
    {
        names[231] = "sort_for_Skyline_doublezisegmap_77322zisegmap_tblock_sizze_77317";
        values[231] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76711;
    }
    {
        names[232] = "sort_for_Skyline_doublezisegmap_77309_dim1";
        values[232] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76737;
    }
    {
        names[233] = "sort_for_Skyline_doublezisegmap_77309zisegmap_tblock_sizze_77305";
        values[233] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76737;
    }
    {
        names[234] = "sort_for_Skyline_doublezisegmap_77297_dim1";
        values[234] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76791;
    }
    {
        names[235] = "sort_for_Skyline_doublezisegmap_77297zisegmap_tblock_sizze_77292";
        values[235] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76791;
    }
    {
        names[236] = "sort_for_Skyline_doublezisegmap_77281_dim1";
        values[236] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76824;
    }
    {
        names[237] = "sort_for_Skyline_doublezisegmap_77281zisegmap_tblock_sizze_77276";
        values[237] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76824;
    }
    {
        names[238] = "sort_for_Skyline_doublezigpuseq_95892_dim1";
        values[238] = (int64_t) 1;
    }
    {
        names[239] = "sort_for_Skyline_doublezigpuseq_95881_dim1";
        values[239] = (int64_t) 1;
    }
    {
        names[240] = "sort_for_Skyline_doublezigpuseq_95833_dim1";
        values[240] = (int64_t) 1;
    }
    {
        names[241] = "sort_for_Skyline_doublezigpuseq_95807_dim1";
        values[241] = (int64_t) 1;
    }
    {
        names[242] = "sort_for_Skyline_doublezigpuseq_95781_dim1";
        values[242] = (int64_t) 1;
    }
    {
        names[243] = "define_skyline_space_doublezisegmap_73450_dim1";
        values[243] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73383;
    }
    {
        names[244] = "define_skyline_space_doublezisegmap_73450zisegmap_tblock_sizze_73445";
        values[244] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73383;
    }
    {
        names[245] = "define_skyline_space_doublezisegmap_73363_dim1";
        values[245] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73347;
    }
    {
        names[246] = "define_skyline_space_doublezisegmap_73363zisegmap_tblock_sizze_73359";
        values[246] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73347;
    }
    {
        names[247] = "define_skyline_space_doublezisegmap_73337_dim1";
        values[247] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73321;
    }
    {
        names[248] = "define_skyline_space_doublezisegmap_73337zisegmap_tblock_sizze_73333";
        values[248] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73321;
    }
    {
        names[249] = "define_skyline_space_doublezisegred_nonseg_73317_dim1";
        values[249] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73309;
    }
    {
        names[250] = "define_skyline_space_doublezisegred_nonseg_73317zisegred_tblock_sizze_73310";
        values[250] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73309;
    }
    {
        names[251] = "define_skyline_space_doublezisegred_nonseg_73317zichunk_sizze_96049";
        values[251] = (int64_t) 1;
    }
    {
        names[252] = "define_skyline_space_doublezisegscan_73307_dim1";
        values[252] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73301;
    }
    {
        names[253] = "define_skyline_space_doublezisegscan_73307zisegscan_tblock_sizze_73302";
        values[253] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73301;
    }
    {
        names[254] = "define_skyline_space_doublezisegscan_73307zichunk_sizze_95950";
        values[254] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[255] = "define_skyline_space_doublezisegred_nonseg_73297_dim1";
        values[255] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73289;
    }
    {
        names[256] = "define_skyline_space_doublezisegred_nonseg_73297zisegred_tblock_sizze_73290";
        values[256] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73289;
    }
    {
        names[257] = "define_skyline_space_doublezisegred_nonseg_73297zichunk_sizze_95911";
        values[257] = (int64_t) 1;
    }
    {
        names[258] = "define_skyline_space_doublezisegscan_73287_dim1";
        values[258] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73281;
    }
    {
        names[259] = "define_skyline_space_doublezisegscan_73287zisegscan_tblock_sizze_73282";
        values[259] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73281;
    }
    {
        names[260] = "define_skyline_space_doublezisegscan_73287zichunk_sizze_95772";
        values[260] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[261] = "calc_local_Skyline_GFUR_doublezisegmap_75913_dim1";
        values[261] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897;
    }
    {
        names[262] = "calc_local_Skyline_GFUR_doublezisegmap_75913zisegmap_tblock_sizze_75909";
        values[262] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897;
    }
    {
        names[263] = "calc_local_Skyline_GFUR_doublezisegscan_75893_dim1";
        values[263] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887;
    }
    {
        names[264] = "calc_local_Skyline_GFUR_doublezisegscan_75893zisegscan_tblock_sizze_75888";
        values[264] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887;
    }
    {
        names[265] = "calc_local_Skyline_GFUR_doublezisegscan_75893zichunk_sizze_97049";
        values[265] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[266] = "calc_local_Skyline_GFUR_doublezisegred_large_96971_dim1";
        values[266] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    }
    {
        names[267] = "calc_local_Skyline_GFUR_doublezisegred_large_96971ziseghist_tblock_sizze_75873";
        values[267] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    }
    {
        names[268] = "calc_local_Skyline_GFUR_doublezisegred_large_96971zichunk_sizze_96972";
        values[268] = (int64_t) 1;
    }
    {
        names[269] = "calc_local_Skyline_GFUR_doublezisegred_small_96971_dim1";
        values[269] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    }
    {
        names[270] = "calc_local_Skyline_GFUR_doublezisegred_small_96971ziseghist_tblock_sizze_75873";
        values[270] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    }
    {
        names[271] = "calc_local_Skyline_GFUR_doubleziseghist_global_75880_dim1";
        values[271] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    }
    {
        names[272] = "calc_local_Skyline_GFUR_doubleziseghist_global_75880ziseghist_tblock_sizze_75873";
        values[272] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    }
    {
        names[273] = "calc_local_Skyline_GFUR_doubleziseghist_local_75880_dim1";
        values[273] = ctx->max_thread_block_size;
    }
    {
        names[274] = "calc_local_Skyline_GFUR_doubleziseghist_local_75880zimax_tblock_sizze_96895";
        values[274] = ctx->max_thread_block_size;
    }
    {
        names[275] = "calc_local_Skyline_GFUR_doublezigpuseq_96878_dim1";
        values[275] = (int64_t) 1;
    }
    {
        names[276] = "calc_local_Skyline_GFUR_doublezigpuseq_96872_dim1";
        values[276] = (int64_t) 1;
    }
    {
        names[277] = "calc_local_Skyline_GFUR_doublezisegmap_75865_dim1";
        values[277] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850;
    }
    {
        names[278] = "calc_local_Skyline_GFUR_doublezisegmap_75865zisegmap_tblock_sizze_75861";
        values[278] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850;
    }
    {
        names[279] = "calc_local_Skyline_GFUR_doublezigpuseq_96855_dim1";
        values[279] = (int64_t) 1;
    }
    {
        names[280] = "calc_local_Skyline_GFUR_doublezigpuseq_96849_dim1";
        values[280] = (int64_t) 1;
    }
    {
        names[281] = "calc_local_Skyline_GFUR_doublezisegmap_75844_dim1";
        values[281] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832;
    }
    {
        names[282] = "calc_local_Skyline_GFUR_doublezisegmap_75844zisegmap_tblock_sizze_75840";
        values[282] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832;
    }
    {
        names[283] = "calc_local_Skyline_GFUR_doublezigpuseq_96810_dim1";
        values[283] = (int64_t) 1;
    }
    {
        names[284] = "calc_local_Skyline_GFUR_doublezisegmap_75825_dim1";
        values[284] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812;
    }
    {
        names[285] = "calc_local_Skyline_GFUR_doublezisegmap_75825zisegmap_tblock_sizze_75821";
        values[285] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812;
    }
    {
        names[286] = "calc_local_Skyline_GFUR_doublezigpuseq_96795_dim1";
        values[286] = (int64_t) 1;
    }
    {
        names[287] = "calc_local_Skyline_GFUR_doublezigpuseq_96788_dim1";
        values[287] = (int64_t) 1;
    }
    {
        names[288] = "calc_local_Skyline_GFUR_doublezisegmap_75805_dim1";
        values[288] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792;
    }
    {
        names[289] = "calc_local_Skyline_GFUR_doublezisegmap_75805zisegmap_tblock_sizze_75801";
        values[289] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792;
    }
    {
        names[290] = "calc_local_Skyline_GFUR_doublezigpuseq_96771_dim1";
        values[290] = (int64_t) 1;
    }
    {
        names[291] = "calc_local_Skyline_GFUR_doublezigpuseq_96744_dim1";
        values[291] = (int64_t) 1;
    }
    {
        names[292] = "calc_local_Skyline_GFUR_doublezigpuseq_96738_dim1";
        values[292] = (int64_t) 1;
    }
    {
        names[293] = "calc_local_Skyline_GFUR_doublezigpuseq_96711_dim1";
        values[293] = (int64_t) 1;
    }
    {
        names[294] = "calc_local_Skyline_GFUR_doublezigpuseq_96705_dim1";
        values[294] = (int64_t) 1;
    }
    {
        names[295] = "calc_local_Skyline_GFUR_doublezigpuseq_96678_dim1";
        values[295] = (int64_t) 1;
    }
    {
        names[296] = "calc_local_Skyline_GFUR_doublezisegmap_75785_dim1";
        values[296] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772;
    }
    {
        names[297] = "calc_local_Skyline_GFUR_doublezisegmap_75785zisegmap_tblock_sizze_75781";
        values[297] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772;
    }
    {
        names[298] = "calc_local_Skyline_GFUR_doublezisegmap_75765_dim1";
        values[298] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752;
    }
    {
        names[299] = "calc_local_Skyline_GFUR_doublezisegmap_75765zisegmap_tblock_sizze_75761";
        values[299] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752;
    }
    {
        names[300] = "calc_local_Skyline_GFUR_doublezigpuseq_96633_dim1";
        values[300] = (int64_t) 1;
    }
    {
        names[301] = "calc_local_Skyline_GFUR_doublezigpuseq_96627_dim1";
        values[301] = (int64_t) 1;
    }
    {
        names[302] = "calc_local_Skyline_GFUR_doublezisegmap_75743_dim1";
        values[302] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728;
    }
    {
        names[303] = "calc_local_Skyline_GFUR_doublezisegmap_75743zisegmap_tblock_sizze_75739";
        values[303] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728;
    }
    {
        names[304] = "calc_local_Skyline_GFUR_doublezigpuseq_96610_dim1";
        values[304] = (int64_t) 1;
    }
    {
        names[305] = "calc_local_Skyline_GFUR_doublezigpuseq_96604_dim1";
        values[305] = (int64_t) 1;
    }
    {
        names[306] = "calc_local_Skyline_GFUR_doublezisegmap_75722_dim1";
        values[306] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710;
    }
    {
        names[307] = "calc_local_Skyline_GFUR_doublezisegmap_75722zisegmap_tblock_sizze_75718";
        values[307] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710;
    }
    {
        names[308] = "calc_local_Skyline_GFUR_doublezigpuseq_96565_dim1";
        values[308] = (int64_t) 1;
    }
    {
        names[309] = "calc_local_Skyline_GFUR_doublezisegmap_75703_dim1";
        values[309] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690;
    }
    {
        names[310] = "calc_local_Skyline_GFUR_doublezisegmap_75703zisegmap_tblock_sizze_75699";
        values[310] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690;
    }
    {
        names[311] = "calc_local_Skyline_GFUR_doublezigpuseq_96550_dim1";
        values[311] = (int64_t) 1;
    }
    {
        names[312] = "calc_local_Skyline_GFUR_doublezigpuseq_96544_dim1";
        values[312] = (int64_t) 1;
    }
    {
        names[313] = "calc_local_Skyline_GFUR_doublezigpuseq_96537_dim1";
        values[313] = (int64_t) 1;
    }
    {
        names[314] = "calc_local_Skyline_GFUR_doublezisegmap_75683_dim1";
        values[314] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670;
    }
    {
        names[315] = "calc_local_Skyline_GFUR_doublezisegmap_75683zisegmap_tblock_sizze_75679";
        values[315] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670;
    }
    {
        names[316] = "calc_local_Skyline_GFUR_doublezigpuseq_96520_dim1";
        values[316] = (int64_t) 1;
    }
    {
        names[317] = "calc_local_Skyline_GFUR_doublezigpuseq_96493_dim1";
        values[317] = (int64_t) 1;
    }
    {
        names[318] = "calc_local_Skyline_GFUR_doublezigpuseq_96487_dim1";
        values[318] = (int64_t) 1;
    }
    {
        names[319] = "calc_local_Skyline_GFUR_doublezigpuseq_96460_dim1";
        values[319] = (int64_t) 1;
    }
    {
        names[320] = "calc_local_Skyline_GFUR_doublezigpuseq_96454_dim1";
        values[320] = (int64_t) 1;
    }
    {
        names[321] = "calc_local_Skyline_GFUR_doublezigpuseq_96427_dim1";
        values[321] = (int64_t) 1;
    }
    {
        names[322] = "calc_local_Skyline_GFUR_doublezisegmap_75663_dim1";
        values[322] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650;
    }
    {
        names[323] = "calc_local_Skyline_GFUR_doublezisegmap_75663zisegmap_tblock_sizze_75659";
        values[323] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650;
    }
    {
        names[324] = "calc_local_Skyline_GFUR_doublezisegmap_75643_dim1";
        values[324] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    }
    {
        names[325] = "calc_local_Skyline_GFUR_doublezisegmap_75643zisegmap_tblock_sizze_75639";
        values[325] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    }
    {
        names[326] = "calc_local_Skyline_GFUR_doublezisegmap_75623_dim1";
        values[326] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560;
    }
    {
        names[327] = "calc_local_Skyline_GFUR_doublezisegmap_75623zisegmap_tblock_sizze_75619";
        values[327] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560;
    }
    {
        names[328] = "calc_local_Skyline_GFUR_doublezisegmap_75614_dim1";
        values[328] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574;
    }
    {
        names[329] = "calc_local_Skyline_GFUR_doublezisegmap_75614zisegmap_tblock_sizze_75609";
        values[329] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574;
    }
    {
        names[330] = "calc_local_Skyline_GFUR_doublezisegmap_75601_dim1";
        values[330] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586;
    }
    {
        names[331] = "calc_local_Skyline_GFUR_doublezisegmap_75601zisegmap_tblock_sizze_75597";
        values[331] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586;
    }
    {
        names[332] = "calc_local_Skyline_GFUR_doublezisegmap_75549_dim1";
        values[332] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551;
    }
    {
        names[333] = "calc_local_Skyline_GFUR_doublezisegmap_75549zisegmap_tblock_sizze_75552";
        values[333] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551;
    }
    {
        names[334] = "calc_local_Skyline_GFUR_doublezisegscan_75547_dim1";
        values[334] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541;
    }
    {
        names[335] = "calc_local_Skyline_GFUR_doublezisegscan_75547zisegscan_tblock_sizze_75542";
        values[335] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541;
    }
    {
        names[336] = "calc_local_Skyline_GFUR_doublezisegscan_75547zichunk_sizze_96247";
        values[336] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[337] = "calc_local_Skyline_GFUR_doublezisegmap_75443_dim1";
        values[337] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535;
    }
    {
        names[338] = "calc_local_Skyline_GFUR_doublezisegmap_75443zisegmap_tblock_sizze_75439";
        values[338] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535;
    }
    {
        names[339] = "calc_local_Skyline_GFUR_doublezisegmap_75431_dim1";
        values[339] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650;
    }
    {
        names[340] = "calc_local_Skyline_GFUR_doublezisegmap_75431zisegmap_tblock_sizze_75426";
        values[340] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650;
    }
    {
        names[341] = "calc_local_Skyline_GFUR_doublezisegmap_75407_dim1";
        values[341] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686;
    }
    {
        names[342] = "calc_local_Skyline_GFUR_doublezisegmap_75407zisegmap_tblock_sizze_75402";
        values[342] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686;
    }
    {
        names[343] = "calc_local_Skyline_GFUR_doublezisegmap_75397_dim1";
        values[343] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717;
    }
    {
        names[344] = "calc_local_Skyline_GFUR_doublezisegmap_75397zisegmap_tblock_sizze_75392";
        values[344] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717;
    }
    {
        names[345] = "calc_local_Skyline_GFUR_doublezisegmap_75349_dim1";
        values[345] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800;
    }
    {
        names[346] = "calc_local_Skyline_GFUR_doublezisegmap_75349zisegmap_tblock_sizze_75344";
        values[346] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800;
    }
    {
        names[347] = "calc_local_Skyline_GFUR_doublezisegmap_75327_dim1";
        values[347] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846;
    }
    {
        names[348] = "calc_local_Skyline_GFUR_doublezisegmap_75327zisegmap_tblock_sizze_75322";
        values[348] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846;
    }
    {
        names[349] = "calc_local_Skyline_GFUR_doublezisegmap_75312_dim1";
        values[349] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872;
    }
    {
        names[350] = "calc_local_Skyline_GFUR_doublezisegmap_75312zisegmap_tblock_sizze_75307";
        values[350] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872;
    }
    {
        names[351] = "calc_local_Skyline_GFUR_doublezisegmap_75292_dim1";
        values[351] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942;
    }
    {
        names[352] = "calc_local_Skyline_GFUR_doublezisegmap_75292zisegmap_tblock_sizze_75287";
        values[352] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942;
    }
    {
        names[353] = "calc_local_Skyline_GFUR_doublezisegmap_75281_dim1";
        values[353] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971;
    }
    {
        names[354] = "calc_local_Skyline_GFUR_doublezisegmap_75281zisegmap_tblock_sizze_75276";
        values[354] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971;
    }
    {
        names[355] = "calc_local_Skyline_GFUR_doublezisegmap_75252_dim1";
        values[355] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148;
    }
    {
        names[356] = "calc_local_Skyline_GFUR_doublezisegmap_75252zisegmap_tblock_sizze_75247";
        values[356] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148;
    }
    {
        names[357] = "calc_local_Skyline_GFUR_doublezisegmap_75239_dim1";
        values[357] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177;
    }
    {
        names[358] = "calc_local_Skyline_GFUR_doublezisegmap_75239zisegmap_tblock_sizze_75235";
        values[358] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177;
    }
    {
        names[359] = "calc_local_Skyline_GFUR_doublezisegmap_75219_dim1";
        values[359] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304;
    }
    {
        names[360] = "calc_local_Skyline_GFUR_doublezisegmap_75219zisegmap_tblock_sizze_75214";
        values[360] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304;
    }
    {
        names[361] = "calc_local_Skyline_GFUR_doublezisegmap_75206_dim1";
        values[361] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330;
    }
    {
        names[362] = "calc_local_Skyline_GFUR_doublezisegmap_75206zisegmap_tblock_sizze_75202";
        values[362] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330;
    }
    {
        names[363] = "calc_local_Skyline_GFUR_doublezisegmap_75186_dim1";
        values[363] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425;
    }
    {
        names[364] = "calc_local_Skyline_GFUR_doublezisegmap_75186zisegmap_tblock_sizze_75181";
        values[364] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425;
    }
    {
        names[365] = "calc_local_Skyline_GFUR_doublezisegmap_75173_dim1";
        values[365] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451;
    }
    {
        names[366] = "calc_local_Skyline_GFUR_doublezisegmap_75173zisegmap_tblock_sizze_75169";
        values[366] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451;
    }
    {
        names[367] = "calc_local_Skyline_GFUR_doublezisegmap_75163_dim1";
        values[367] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473;
    }
    {
        names[368] = "calc_local_Skyline_GFUR_doublezisegmap_75163zisegmap_tblock_sizze_75158";
        values[368] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473;
    }
    {
        names[369] = "calc_local_Skyline_GFUR_doublezisegmap_75147_dim1";
        values[369] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506;
    }
    {
        names[370] = "calc_local_Skyline_GFUR_doublezisegmap_75147zisegmap_tblock_sizze_75142";
        values[370] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506;
    }
    {
        names[371] = "calc_local_Skyline_GFUR_doublezigpuseq_95867_dim1";
        values[371] = (int64_t) 1;
    }
    {
        names[372] = "calc_local_Skyline_GFUR_doublezigpuseq_95835_dim1";
        values[372] = (int64_t) 1;
    }
    {
        names[373] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_73483_dim1";
        values[373] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474;
    }
    {
        names[374] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_73483zisegred_tblock_sizze_73475";
        values[374] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474;
    }
    {
        names[375] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_73483zichunk_sizze_95764";
        values[375] = (int64_t) 1;
    }
    *names_out = names;
    *values_out = values;
    return num_macros;
}
static char *get_failure_msg(int failure_idx, int64_t args[])
{
    (void) args;
    switch (failure_idx) {
        
      case 0:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:359:38-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 1:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 2:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 3:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 4:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 5:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 6:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 7:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 8:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 9:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 10:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 11:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 12:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 13:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 14:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:371:63-78\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:371:44-80\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 15:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:372:95-112\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 16:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:373:56-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:373:44-70\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 17:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:378:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 18:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:378:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 19:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:378:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 20:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:380:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 21:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:380:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 22:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:380:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 23:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:389:39-49\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:389:28-50\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 24:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 25:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n", args[0], args[1]);
            break;
        }
        
      case 26:
        {
            return msgprintf("division by zero\n-> #0  ftSkyline.fut:62:78-86\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:59:36-64:34\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:57:20-65:18\n   #5  ftSkyline.fut:95:90-114\n   #6  ftSkyline.fut:721:17-41\n   #7  ftSkyline.fut:710:1-721:41\n");
            break;
        }
        
      case 27:
        {
            return msgprintf("division by zero\n-> #0  ftSkyline.fut:62:87-94\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:59:36-64:34\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:57:20-65:18\n   #5  ftSkyline.fut:95:90-114\n   #6  ftSkyline.fut:721:17-41\n   #7  ftSkyline.fut:710:1-721:41\n");
            break;
        }
        
      case 28:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 29:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 30:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 31:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 32:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 33:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 34:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 35:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 36:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 37:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 38:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 39:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 40:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 41:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 42:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 43:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 44:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 45:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 46:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 47:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 48:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 49:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 50:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 51:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 52:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 53:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 54:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 55:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 56:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 57:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 58:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 59:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 60:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:733:17-40\n   #11 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 61:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 62:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 63:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 64:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 65:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 66:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 67:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 68:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 69:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 70:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 71:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 72:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 73:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 74:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 75:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 76:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 77:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 78:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 79:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:733:17-40\n   #11 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 80:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 81:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 82:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 83:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 84:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 85:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 86:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 87:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 88:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 89:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 90:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 91:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 92:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:733:17-40\n   #11 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 93:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 94:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 95:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 96:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 97:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 98:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 99:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 100:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 101:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 102:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 103:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 104:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 105:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 106:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 107:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 108:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 109:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 110:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 111:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 112:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 113:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 114:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 115:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 116:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 117:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 118:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 119:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 120:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 121:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 122:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 123:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 124:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 125:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 126:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 127:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 128:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 129:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:733:17-40\n   #11 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 130:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 131:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 132:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 133:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 134:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 135:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 136:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 137:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 138:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 139:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 140:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 141:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 142:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 143:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 144:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 145:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 146:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 147:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 148:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:733:17-40\n   #11 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 149:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 150:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 151:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 152:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 153:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 154:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 155:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 156:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:733:17-40\n   #12 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 157:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 158:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 159:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 160:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 161:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:733:17-40\n   #11 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 162:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 163:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 164:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 165:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 166:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 167:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 168:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 169:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 170:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 171:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 172:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 173:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 174:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:309:103-133\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 175:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 176:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 177:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 178:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 179:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:327:30-53\n   #1  /prelude/soacs.fut:255:31-32\n   #2  /prelude/soacs.fut:255:48-50\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 180:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 181:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 182:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 183:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 184:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 185:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 186:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 187:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 188:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 189:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 190:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:327:30-53\n   #1  /prelude/soacs.fut:255:31-32\n   #2  /prelude/soacs.fut:255:48-50\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 191:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
        
      case 192:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n", args[0], args[1]);
            break;
        }
    }
    return strdup("Unknown error.  This is a compiler bug.");
}
struct program {
    int dummy;
    gpu_kernel builtinzhiota_i64ziiota_i64_95769;
    gpu_kernel builtinzhreplicate_boolzireplicate_95865;
    gpu_kernel builtinzhreplicate_f64zireplicate_95911;
    gpu_kernel builtinzhreplicate_i32zireplicate_95844;
    gpu_kernel builtinzhreplicate_i64zireplicate_95792;
    gpu_kernel builtinzhreplicate_i8zireplicate_98110;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_95835;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_95867;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96427;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96454;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96460;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96487;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96493;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96520;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96537;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96544;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96550;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96565;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96604;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96610;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96627;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96633;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96678;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96705;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96711;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96738;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96744;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96771;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96788;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96795;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96810;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96849;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96855;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96872;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96878;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_95965;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96009;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96053;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96154;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96434;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96467;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96500;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96572;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96640;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96685;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96718;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96751;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96817;
    gpu_kernel calc_local_Skyline_GFUR_doubleziseghist_global_75880;
    gpu_kernel calc_local_Skyline_GFUR_doubleziseghist_local_75880;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75147;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75163;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75173;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75186;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75206;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75219;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75239;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75252;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75281;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75292;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75312;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75327;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75349;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75397;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75407;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75431;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75443;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75549;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75601;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75614;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75623;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75643;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75663;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75683;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75703;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75722;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75743;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75765;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75785;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75805;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75825;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75844;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75865;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_75913;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_large_96971;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_nonseg_73483;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_small_96971;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegscan_75547;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegscan_75893;
    gpu_kernel define_skyline_space_doublezisegmap_73337;
    gpu_kernel define_skyline_space_doublezisegmap_73363;
    gpu_kernel define_skyline_space_doublezisegmap_73450;
    gpu_kernel define_skyline_space_doublezisegred_nonseg_73297;
    gpu_kernel define_skyline_space_doublezisegred_nonseg_73317;
    gpu_kernel define_skyline_space_doublezisegscan_73287;
    gpu_kernel define_skyline_space_doublezisegscan_73307;
    gpu_kernel sort_for_Skyline_doublezigpuseq_95781;
    gpu_kernel sort_for_Skyline_doublezigpuseq_95807;
    gpu_kernel sort_for_Skyline_doublezigpuseq_95833;
    gpu_kernel sort_for_Skyline_doublezigpuseq_95881;
    gpu_kernel sort_for_Skyline_doublezigpuseq_95892;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96301;
    gpu_kernel sort_for_Skyline_doublezigpuseq_97251;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98624;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98651;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98657;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98684;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98690;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98717;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98734;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98741;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98747;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98762;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98801;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98807;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98824;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98830;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98875;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98902;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98908;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98935;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98941;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98968;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98985;
    gpu_kernel sort_for_Skyline_doublezigpuseq_98992;
    gpu_kernel sort_for_Skyline_doublezigpuseq_99007;
    gpu_kernel sort_for_Skyline_doublezigpuseq_99046;
    gpu_kernel sort_for_Skyline_doublezigpuseq_99052;
    gpu_kernel sort_for_Skyline_doublezigpuseq_99069;
    gpu_kernel sort_for_Skyline_doublezigpuseq_99075;
    gpu_kernel sort_for_Skyline_doublezireplicate_95998;
    gpu_kernel sort_for_Skyline_doublezireplicate_96041;
    gpu_kernel sort_for_Skyline_doublezireplicate_96085;
    gpu_kernel sort_for_Skyline_doublezireplicate_96163;
    gpu_kernel sort_for_Skyline_doublezireplicate_96551;
    gpu_kernel sort_for_Skyline_doublezireplicate_96571;
    gpu_kernel sort_for_Skyline_doublezireplicate_96591;
    gpu_kernel sort_for_Skyline_doublezireplicate_96749;
    gpu_kernel sort_for_Skyline_doublezireplicate_96772;
    gpu_kernel sort_for_Skyline_doublezireplicate_96795;
    gpu_kernel sort_for_Skyline_doublezireplicate_96913;
    gpu_kernel sort_for_Skyline_doublezireplicate_96956;
    gpu_kernel sort_for_Skyline_doublezireplicate_97000;
    gpu_kernel sort_for_Skyline_doublezireplicate_97078;
    gpu_kernel sort_for_Skyline_doublezireplicate_97526;
    gpu_kernel sort_for_Skyline_doublezireplicate_97546;
    gpu_kernel sort_for_Skyline_doublezireplicate_97566;
    gpu_kernel sort_for_Skyline_doublezireplicate_97586;
    gpu_kernel sort_for_Skyline_doublezireplicate_97759;
    gpu_kernel sort_for_Skyline_doublezireplicate_97782;
    gpu_kernel sort_for_Skyline_doublezireplicate_97805;
    gpu_kernel sort_for_Skyline_doublezireplicate_97828;
    gpu_kernel sort_for_Skyline_doublezireplicate_98321;
    gpu_kernel sort_for_Skyline_doublezireplicate_98364;
    gpu_kernel sort_for_Skyline_doublezireplicate_98408;
    gpu_kernel sort_for_Skyline_doublezireplicate_98631;
    gpu_kernel sort_for_Skyline_doublezireplicate_98664;
    gpu_kernel sort_for_Skyline_doublezireplicate_98697;
    gpu_kernel sort_for_Skyline_doublezireplicate_98769;
    gpu_kernel sort_for_Skyline_doublezireplicate_98837;
    gpu_kernel sort_for_Skyline_doublezireplicate_98882;
    gpu_kernel sort_for_Skyline_doublezireplicate_98915;
    gpu_kernel sort_for_Skyline_doublezireplicate_98948;
    gpu_kernel sort_for_Skyline_doublezireplicate_99014;
    gpu_kernel sort_for_Skyline_doubleziseghist_global_88043;
    gpu_kernel sort_for_Skyline_doubleziseghist_global_90228;
    gpu_kernel sort_for_Skyline_doubleziseghist_local_88043;
    gpu_kernel sort_for_Skyline_doubleziseghist_local_90228;
    gpu_kernel sort_for_Skyline_doublezisegmap_77281;
    gpu_kernel sort_for_Skyline_doublezisegmap_77297;
    gpu_kernel sort_for_Skyline_doublezisegmap_77309;
    gpu_kernel sort_for_Skyline_doublezisegmap_77322;
    gpu_kernel sort_for_Skyline_doublezisegmap_77342;
    gpu_kernel sort_for_Skyline_doublezisegmap_77355;
    gpu_kernel sort_for_Skyline_doublezisegmap_77375;
    gpu_kernel sort_for_Skyline_doublezisegmap_77388;
    gpu_kernel sort_for_Skyline_doublezisegmap_77417;
    gpu_kernel sort_for_Skyline_doublezisegmap_77428;
    gpu_kernel sort_for_Skyline_doublezisegmap_77448;
    gpu_kernel sort_for_Skyline_doublezisegmap_77463;
    gpu_kernel sort_for_Skyline_doublezisegmap_77485;
    gpu_kernel sort_for_Skyline_doublezisegmap_77533;
    gpu_kernel sort_for_Skyline_doublezisegmap_77543;
    gpu_kernel sort_for_Skyline_doublezisegmap_77567;
    gpu_kernel sort_for_Skyline_doublezisegmap_77579;
    gpu_kernel sort_for_Skyline_doublezisegmap_77920;
    gpu_kernel sort_for_Skyline_doublezisegmap_77950;
    gpu_kernel sort_for_Skyline_doublezisegmap_80822;
    gpu_kernel sort_for_Skyline_doublezisegmap_80854;
    gpu_kernel sort_for_Skyline_doublezisegmap_80866;
    gpu_kernel sort_for_Skyline_doublezisegmap_80876;
    gpu_kernel sort_for_Skyline_doublezisegmap_80890;
    gpu_kernel sort_for_Skyline_doublezisegmap_80903;
    gpu_kernel sort_for_Skyline_doublezisegmap_80913;
    gpu_kernel sort_for_Skyline_doublezisegmap_80938;
    gpu_kernel sort_for_Skyline_doublezisegmap_81282;
    gpu_kernel sort_for_Skyline_doublezisegmap_81403;
    gpu_kernel sort_for_Skyline_doublezisegmap_81485;
    gpu_kernel sort_for_Skyline_doublezisegmap_83010;
    gpu_kernel sort_for_Skyline_doublezisegmap_83026;
    gpu_kernel sort_for_Skyline_doublezisegmap_83038;
    gpu_kernel sort_for_Skyline_doublezisegmap_83051;
    gpu_kernel sort_for_Skyline_doublezisegmap_83071;
    gpu_kernel sort_for_Skyline_doublezisegmap_83084;
    gpu_kernel sort_for_Skyline_doublezisegmap_83104;
    gpu_kernel sort_for_Skyline_doublezisegmap_83117;
    gpu_kernel sort_for_Skyline_doublezisegmap_83146;
    gpu_kernel sort_for_Skyline_doublezisegmap_83157;
    gpu_kernel sort_for_Skyline_doublezisegmap_83177;
    gpu_kernel sort_for_Skyline_doublezisegmap_83192;
    gpu_kernel sort_for_Skyline_doublezisegmap_83214;
    gpu_kernel sort_for_Skyline_doublezisegmap_83239;
    gpu_kernel sort_for_Skyline_doublezisegmap_83248;
    gpu_kernel sort_for_Skyline_doublezisegmap_83290;
    gpu_kernel sort_for_Skyline_doublezisegmap_83300;
    gpu_kernel sort_for_Skyline_doublezisegmap_83324;
    gpu_kernel sort_for_Skyline_doublezisegmap_83336;
    gpu_kernel sort_for_Skyline_doublezisegmap_83764;
    gpu_kernel sort_for_Skyline_doublezisegmap_83800;
    gpu_kernel sort_for_Skyline_doublezisegmap_87136;
    gpu_kernel sort_for_Skyline_doublezisegmap_87171;
    gpu_kernel sort_for_Skyline_doublezisegmap_87184;
    gpu_kernel sort_for_Skyline_doublezisegmap_87194;
    gpu_kernel sort_for_Skyline_doublezisegmap_87210;
    gpu_kernel sort_for_Skyline_doublezisegmap_87224;
    gpu_kernel sort_for_Skyline_doublezisegmap_87234;
    gpu_kernel sort_for_Skyline_doublezisegmap_87264;
    gpu_kernel sort_for_Skyline_doublezisegmap_87667;
    gpu_kernel sort_for_Skyline_doublezisegmap_87805;
    gpu_kernel sort_for_Skyline_doublezisegmap_87894;
    gpu_kernel sort_for_Skyline_doublezisegmap_89747;
    gpu_kernel sort_for_Skyline_doublezisegmap_89763;
    gpu_kernel sort_for_Skyline_doublezisegmap_89775;
    gpu_kernel sort_for_Skyline_doublezisegmap_89788;
    gpu_kernel sort_for_Skyline_doublezisegmap_89808;
    gpu_kernel sort_for_Skyline_doublezisegmap_89821;
    gpu_kernel sort_for_Skyline_doublezisegmap_89841;
    gpu_kernel sort_for_Skyline_doublezisegmap_89854;
    gpu_kernel sort_for_Skyline_doublezisegmap_89883;
    gpu_kernel sort_for_Skyline_doublezisegmap_89893;
    gpu_kernel sort_for_Skyline_doublezisegmap_89945;
    gpu_kernel sort_for_Skyline_doublezisegmap_89957;
    gpu_kernel sort_for_Skyline_doublezisegmap_89968;
    gpu_kernel sort_for_Skyline_doublezisegmap_89991;
    gpu_kernel sort_for_Skyline_doublezisegmap_90011;
    gpu_kernel sort_for_Skyline_doublezisegmap_90031;
    gpu_kernel sort_for_Skyline_doublezisegmap_90051;
    gpu_kernel sort_for_Skyline_doublezisegmap_90070;
    gpu_kernel sort_for_Skyline_doublezisegmap_90091;
    gpu_kernel sort_for_Skyline_doublezisegmap_90113;
    gpu_kernel sort_for_Skyline_doublezisegmap_90133;
    gpu_kernel sort_for_Skyline_doublezisegmap_90153;
    gpu_kernel sort_for_Skyline_doublezisegmap_90173;
    gpu_kernel sort_for_Skyline_doublezisegmap_90192;
    gpu_kernel sort_for_Skyline_doublezisegmap_90213;
    gpu_kernel sort_for_Skyline_doublezisegmap_90261;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_77149;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_77225;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_78277;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_81017;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_82878;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_82954;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_84192;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_87361;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_89519;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_89615;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_89691;
    gpu_kernel sort_for_Skyline_doublezisegred_large_97981;
    gpu_kernel sort_for_Skyline_doublezisegred_large_99168;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_77600;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_83358;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_88126;
    gpu_kernel sort_for_Skyline_doublezisegred_small_97981;
    gpu_kernel sort_for_Skyline_doublezisegred_small_99168;
    gpu_kernel sort_for_Skyline_doublezisegscan_89915;
    gpu_kernel sort_for_Skyline_doublezisegscan_90241;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
    gpu_create_kernel(ctx, &ctx->program->builtinzhiota_i64ziiota_i64_95769, "builtinzhiota_i64ziiota_i64_95769");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_boolzireplicate_95865, "builtinzhreplicate_boolzireplicate_95865");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_f64zireplicate_95911, "builtinzhreplicate_f64zireplicate_95911");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i32zireplicate_95844, "builtinzhreplicate_i32zireplicate_95844");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i64zireplicate_95792, "builtinzhreplicate_i64zireplicate_95792");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i8zireplicate_98110, "builtinzhreplicate_i8zireplicate_98110");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_95835, "calc_local_Skyline_GFUR_doublezigpuseq_95835");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_95867, "calc_local_Skyline_GFUR_doublezigpuseq_95867");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96427, "calc_local_Skyline_GFUR_doublezigpuseq_96427");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96454, "calc_local_Skyline_GFUR_doublezigpuseq_96454");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96460, "calc_local_Skyline_GFUR_doublezigpuseq_96460");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96487, "calc_local_Skyline_GFUR_doublezigpuseq_96487");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96493, "calc_local_Skyline_GFUR_doublezigpuseq_96493");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96520, "calc_local_Skyline_GFUR_doublezigpuseq_96520");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96537, "calc_local_Skyline_GFUR_doublezigpuseq_96537");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96544, "calc_local_Skyline_GFUR_doublezigpuseq_96544");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96550, "calc_local_Skyline_GFUR_doublezigpuseq_96550");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96565, "calc_local_Skyline_GFUR_doublezigpuseq_96565");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96604, "calc_local_Skyline_GFUR_doublezigpuseq_96604");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96610, "calc_local_Skyline_GFUR_doublezigpuseq_96610");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96627, "calc_local_Skyline_GFUR_doublezigpuseq_96627");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96633, "calc_local_Skyline_GFUR_doublezigpuseq_96633");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96678, "calc_local_Skyline_GFUR_doublezigpuseq_96678");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96705, "calc_local_Skyline_GFUR_doublezigpuseq_96705");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96711, "calc_local_Skyline_GFUR_doublezigpuseq_96711");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96738, "calc_local_Skyline_GFUR_doublezigpuseq_96738");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96744, "calc_local_Skyline_GFUR_doublezigpuseq_96744");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96771, "calc_local_Skyline_GFUR_doublezigpuseq_96771");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96788, "calc_local_Skyline_GFUR_doublezigpuseq_96788");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96795, "calc_local_Skyline_GFUR_doublezigpuseq_96795");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96810, "calc_local_Skyline_GFUR_doublezigpuseq_96810");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96849, "calc_local_Skyline_GFUR_doublezigpuseq_96849");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96855, "calc_local_Skyline_GFUR_doublezigpuseq_96855");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96872, "calc_local_Skyline_GFUR_doublezigpuseq_96872");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96878, "calc_local_Skyline_GFUR_doublezigpuseq_96878");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_95965, "calc_local_Skyline_GFUR_doublezireplicate_95965");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96009, "calc_local_Skyline_GFUR_doublezireplicate_96009");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96053, "calc_local_Skyline_GFUR_doublezireplicate_96053");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96154, "calc_local_Skyline_GFUR_doublezireplicate_96154");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96434, "calc_local_Skyline_GFUR_doublezireplicate_96434");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96467, "calc_local_Skyline_GFUR_doublezireplicate_96467");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96500, "calc_local_Skyline_GFUR_doublezireplicate_96500");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96572, "calc_local_Skyline_GFUR_doublezireplicate_96572");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96640, "calc_local_Skyline_GFUR_doublezireplicate_96640");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96685, "calc_local_Skyline_GFUR_doublezireplicate_96685");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96718, "calc_local_Skyline_GFUR_doublezireplicate_96718");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96751, "calc_local_Skyline_GFUR_doublezireplicate_96751");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96817, "calc_local_Skyline_GFUR_doublezireplicate_96817");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_75880, "calc_local_Skyline_GFUR_doubleziseghist_global_75880");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_75880, "calc_local_Skyline_GFUR_doubleziseghist_local_75880");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75147, "calc_local_Skyline_GFUR_doublezisegmap_75147");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75163, "calc_local_Skyline_GFUR_doublezisegmap_75163");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75173, "calc_local_Skyline_GFUR_doublezisegmap_75173");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75186, "calc_local_Skyline_GFUR_doublezisegmap_75186");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75206, "calc_local_Skyline_GFUR_doublezisegmap_75206");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75219, "calc_local_Skyline_GFUR_doublezisegmap_75219");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75239, "calc_local_Skyline_GFUR_doublezisegmap_75239");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75252, "calc_local_Skyline_GFUR_doublezisegmap_75252");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75281, "calc_local_Skyline_GFUR_doublezisegmap_75281");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75292, "calc_local_Skyline_GFUR_doublezisegmap_75292");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75312, "calc_local_Skyline_GFUR_doublezisegmap_75312");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75327, "calc_local_Skyline_GFUR_doublezisegmap_75327");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75349, "calc_local_Skyline_GFUR_doublezisegmap_75349");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75397, "calc_local_Skyline_GFUR_doublezisegmap_75397");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75407, "calc_local_Skyline_GFUR_doublezisegmap_75407");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75431, "calc_local_Skyline_GFUR_doublezisegmap_75431");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75443, "calc_local_Skyline_GFUR_doublezisegmap_75443");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75549, "calc_local_Skyline_GFUR_doublezisegmap_75549");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75601, "calc_local_Skyline_GFUR_doublezisegmap_75601");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75614, "calc_local_Skyline_GFUR_doublezisegmap_75614");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75623, "calc_local_Skyline_GFUR_doublezisegmap_75623");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75643, "calc_local_Skyline_GFUR_doublezisegmap_75643");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75663, "calc_local_Skyline_GFUR_doublezisegmap_75663");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75683, "calc_local_Skyline_GFUR_doublezisegmap_75683");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75703, "calc_local_Skyline_GFUR_doublezisegmap_75703");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75722, "calc_local_Skyline_GFUR_doublezisegmap_75722");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75743, "calc_local_Skyline_GFUR_doublezisegmap_75743");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75765, "calc_local_Skyline_GFUR_doublezisegmap_75765");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75785, "calc_local_Skyline_GFUR_doublezisegmap_75785");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75805, "calc_local_Skyline_GFUR_doublezisegmap_75805");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75825, "calc_local_Skyline_GFUR_doublezisegmap_75825");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75844, "calc_local_Skyline_GFUR_doublezisegmap_75844");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75865, "calc_local_Skyline_GFUR_doublezisegmap_75865");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75913, "calc_local_Skyline_GFUR_doublezisegmap_75913");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_96971, "calc_local_Skyline_GFUR_doublezisegred_large_96971");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_73483, "calc_local_Skyline_GFUR_doublezisegred_nonseg_73483");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_96971, "calc_local_Skyline_GFUR_doublezisegred_small_96971");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegscan_75547, "calc_local_Skyline_GFUR_doublezisegscan_75547");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegscan_75893, "calc_local_Skyline_GFUR_doublezisegscan_75893");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_73337, "define_skyline_space_doublezisegmap_73337");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_73363, "define_skyline_space_doublezisegmap_73363");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_73450, "define_skyline_space_doublezisegmap_73450");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegred_nonseg_73297, "define_skyline_space_doublezisegred_nonseg_73297");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegred_nonseg_73317, "define_skyline_space_doublezisegred_nonseg_73317");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegscan_73287, "define_skyline_space_doublezisegscan_73287");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegscan_73307, "define_skyline_space_doublezisegscan_73307");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_95781, "sort_for_Skyline_doublezigpuseq_95781");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_95807, "sort_for_Skyline_doublezigpuseq_95807");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_95833, "sort_for_Skyline_doublezigpuseq_95833");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_95881, "sort_for_Skyline_doublezigpuseq_95881");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_95892, "sort_for_Skyline_doublezigpuseq_95892");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96301, "sort_for_Skyline_doublezigpuseq_96301");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_97251, "sort_for_Skyline_doublezigpuseq_97251");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98624, "sort_for_Skyline_doublezigpuseq_98624");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98651, "sort_for_Skyline_doublezigpuseq_98651");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98657, "sort_for_Skyline_doublezigpuseq_98657");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98684, "sort_for_Skyline_doublezigpuseq_98684");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98690, "sort_for_Skyline_doublezigpuseq_98690");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98717, "sort_for_Skyline_doublezigpuseq_98717");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98734, "sort_for_Skyline_doublezigpuseq_98734");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98741, "sort_for_Skyline_doublezigpuseq_98741");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98747, "sort_for_Skyline_doublezigpuseq_98747");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98762, "sort_for_Skyline_doublezigpuseq_98762");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98801, "sort_for_Skyline_doublezigpuseq_98801");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98807, "sort_for_Skyline_doublezigpuseq_98807");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98824, "sort_for_Skyline_doublezigpuseq_98824");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98830, "sort_for_Skyline_doublezigpuseq_98830");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98875, "sort_for_Skyline_doublezigpuseq_98875");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98902, "sort_for_Skyline_doublezigpuseq_98902");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98908, "sort_for_Skyline_doublezigpuseq_98908");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98935, "sort_for_Skyline_doublezigpuseq_98935");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98941, "sort_for_Skyline_doublezigpuseq_98941");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98968, "sort_for_Skyline_doublezigpuseq_98968");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98985, "sort_for_Skyline_doublezigpuseq_98985");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_98992, "sort_for_Skyline_doublezigpuseq_98992");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_99007, "sort_for_Skyline_doublezigpuseq_99007");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_99046, "sort_for_Skyline_doublezigpuseq_99046");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_99052, "sort_for_Skyline_doublezigpuseq_99052");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_99069, "sort_for_Skyline_doublezigpuseq_99069");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_99075, "sort_for_Skyline_doublezigpuseq_99075");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_95998, "sort_for_Skyline_doublezireplicate_95998");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96041, "sort_for_Skyline_doublezireplicate_96041");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96085, "sort_for_Skyline_doublezireplicate_96085");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96163, "sort_for_Skyline_doublezireplicate_96163");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96551, "sort_for_Skyline_doublezireplicate_96551");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96571, "sort_for_Skyline_doublezireplicate_96571");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96591, "sort_for_Skyline_doublezireplicate_96591");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96749, "sort_for_Skyline_doublezireplicate_96749");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96772, "sort_for_Skyline_doublezireplicate_96772");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96795, "sort_for_Skyline_doublezireplicate_96795");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96913, "sort_for_Skyline_doublezireplicate_96913");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96956, "sort_for_Skyline_doublezireplicate_96956");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97000, "sort_for_Skyline_doublezireplicate_97000");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97078, "sort_for_Skyline_doublezireplicate_97078");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97526, "sort_for_Skyline_doublezireplicate_97526");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97546, "sort_for_Skyline_doublezireplicate_97546");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97566, "sort_for_Skyline_doublezireplicate_97566");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97586, "sort_for_Skyline_doublezireplicate_97586");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97759, "sort_for_Skyline_doublezireplicate_97759");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97782, "sort_for_Skyline_doublezireplicate_97782");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97805, "sort_for_Skyline_doublezireplicate_97805");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97828, "sort_for_Skyline_doublezireplicate_97828");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98321, "sort_for_Skyline_doublezireplicate_98321");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98364, "sort_for_Skyline_doublezireplicate_98364");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98408, "sort_for_Skyline_doublezireplicate_98408");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98631, "sort_for_Skyline_doublezireplicate_98631");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98664, "sort_for_Skyline_doublezireplicate_98664");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98697, "sort_for_Skyline_doublezireplicate_98697");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98769, "sort_for_Skyline_doublezireplicate_98769");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98837, "sort_for_Skyline_doublezireplicate_98837");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98882, "sort_for_Skyline_doublezireplicate_98882");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98915, "sort_for_Skyline_doublezireplicate_98915");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98948, "sort_for_Skyline_doublezireplicate_98948");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_99014, "sort_for_Skyline_doublezireplicate_99014");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_global_88043, "sort_for_Skyline_doubleziseghist_global_88043");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_global_90228, "sort_for_Skyline_doubleziseghist_global_90228");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_local_88043, "sort_for_Skyline_doubleziseghist_local_88043");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_local_90228, "sort_for_Skyline_doubleziseghist_local_90228");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77281, "sort_for_Skyline_doublezisegmap_77281");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77297, "sort_for_Skyline_doublezisegmap_77297");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77309, "sort_for_Skyline_doublezisegmap_77309");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77322, "sort_for_Skyline_doublezisegmap_77322");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77342, "sort_for_Skyline_doublezisegmap_77342");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77355, "sort_for_Skyline_doublezisegmap_77355");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77375, "sort_for_Skyline_doublezisegmap_77375");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77388, "sort_for_Skyline_doublezisegmap_77388");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77417, "sort_for_Skyline_doublezisegmap_77417");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77428, "sort_for_Skyline_doublezisegmap_77428");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77448, "sort_for_Skyline_doublezisegmap_77448");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77463, "sort_for_Skyline_doublezisegmap_77463");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77485, "sort_for_Skyline_doublezisegmap_77485");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77533, "sort_for_Skyline_doublezisegmap_77533");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77543, "sort_for_Skyline_doublezisegmap_77543");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77567, "sort_for_Skyline_doublezisegmap_77567");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77579, "sort_for_Skyline_doublezisegmap_77579");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77920, "sort_for_Skyline_doublezisegmap_77920");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77950, "sort_for_Skyline_doublezisegmap_77950");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80822, "sort_for_Skyline_doublezisegmap_80822");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80854, "sort_for_Skyline_doublezisegmap_80854");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80866, "sort_for_Skyline_doublezisegmap_80866");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80876, "sort_for_Skyline_doublezisegmap_80876");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80890, "sort_for_Skyline_doublezisegmap_80890");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80903, "sort_for_Skyline_doublezisegmap_80903");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80913, "sort_for_Skyline_doublezisegmap_80913");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_80938, "sort_for_Skyline_doublezisegmap_80938");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81282, "sort_for_Skyline_doublezisegmap_81282");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81403, "sort_for_Skyline_doublezisegmap_81403");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81485, "sort_for_Skyline_doublezisegmap_81485");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83010, "sort_for_Skyline_doublezisegmap_83010");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83026, "sort_for_Skyline_doublezisegmap_83026");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83038, "sort_for_Skyline_doublezisegmap_83038");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83051, "sort_for_Skyline_doublezisegmap_83051");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83071, "sort_for_Skyline_doublezisegmap_83071");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83084, "sort_for_Skyline_doublezisegmap_83084");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83104, "sort_for_Skyline_doublezisegmap_83104");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83117, "sort_for_Skyline_doublezisegmap_83117");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83146, "sort_for_Skyline_doublezisegmap_83146");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83157, "sort_for_Skyline_doublezisegmap_83157");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83177, "sort_for_Skyline_doublezisegmap_83177");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83192, "sort_for_Skyline_doublezisegmap_83192");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83214, "sort_for_Skyline_doublezisegmap_83214");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83239, "sort_for_Skyline_doublezisegmap_83239");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83248, "sort_for_Skyline_doublezisegmap_83248");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83290, "sort_for_Skyline_doublezisegmap_83290");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83300, "sort_for_Skyline_doublezisegmap_83300");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83324, "sort_for_Skyline_doublezisegmap_83324");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83336, "sort_for_Skyline_doublezisegmap_83336");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83764, "sort_for_Skyline_doublezisegmap_83764");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83800, "sort_for_Skyline_doublezisegmap_83800");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87136, "sort_for_Skyline_doublezisegmap_87136");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87171, "sort_for_Skyline_doublezisegmap_87171");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87184, "sort_for_Skyline_doublezisegmap_87184");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87194, "sort_for_Skyline_doublezisegmap_87194");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87210, "sort_for_Skyline_doublezisegmap_87210");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87224, "sort_for_Skyline_doublezisegmap_87224");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87234, "sort_for_Skyline_doublezisegmap_87234");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87264, "sort_for_Skyline_doublezisegmap_87264");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87667, "sort_for_Skyline_doublezisegmap_87667");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87805, "sort_for_Skyline_doublezisegmap_87805");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87894, "sort_for_Skyline_doublezisegmap_87894");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89747, "sort_for_Skyline_doublezisegmap_89747");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89763, "sort_for_Skyline_doublezisegmap_89763");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89775, "sort_for_Skyline_doublezisegmap_89775");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89788, "sort_for_Skyline_doublezisegmap_89788");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89808, "sort_for_Skyline_doublezisegmap_89808");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89821, "sort_for_Skyline_doublezisegmap_89821");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89841, "sort_for_Skyline_doublezisegmap_89841");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89854, "sort_for_Skyline_doublezisegmap_89854");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89883, "sort_for_Skyline_doublezisegmap_89883");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89893, "sort_for_Skyline_doublezisegmap_89893");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89945, "sort_for_Skyline_doublezisegmap_89945");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89957, "sort_for_Skyline_doublezisegmap_89957");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89968, "sort_for_Skyline_doublezisegmap_89968");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_89991, "sort_for_Skyline_doublezisegmap_89991");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90011, "sort_for_Skyline_doublezisegmap_90011");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90031, "sort_for_Skyline_doublezisegmap_90031");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90051, "sort_for_Skyline_doublezisegmap_90051");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90070, "sort_for_Skyline_doublezisegmap_90070");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90091, "sort_for_Skyline_doublezisegmap_90091");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90113, "sort_for_Skyline_doublezisegmap_90113");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90133, "sort_for_Skyline_doublezisegmap_90133");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90153, "sort_for_Skyline_doublezisegmap_90153");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90173, "sort_for_Skyline_doublezisegmap_90173");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90192, "sort_for_Skyline_doublezisegmap_90192");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90213, "sort_for_Skyline_doublezisegmap_90213");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90261, "sort_for_Skyline_doublezisegmap_90261");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77149, "sort_for_Skyline_doublezisegmap_intrablock_77149");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77225, "sort_for_Skyline_doublezisegmap_intrablock_77225");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_78277, "sort_for_Skyline_doublezisegmap_intrablock_78277");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_81017, "sort_for_Skyline_doublezisegmap_intrablock_81017");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_82878, "sort_for_Skyline_doublezisegmap_intrablock_82878");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_82954, "sort_for_Skyline_doublezisegmap_intrablock_82954");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_84192, "sort_for_Skyline_doublezisegmap_intrablock_84192");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_87361, "sort_for_Skyline_doublezisegmap_intrablock_87361");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89519, "sort_for_Skyline_doublezisegmap_intrablock_89519");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89615, "sort_for_Skyline_doublezisegmap_intrablock_89615");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89691, "sort_for_Skyline_doublezisegmap_intrablock_89691");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_large_97981, "sort_for_Skyline_doublezisegred_large_97981");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_large_99168, "sort_for_Skyline_doublezisegred_large_99168");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_77600, "sort_for_Skyline_doublezisegred_nonseg_77600");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_83358, "sort_for_Skyline_doublezisegred_nonseg_83358");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_88126, "sort_for_Skyline_doublezisegred_nonseg_88126");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_small_97981, "sort_for_Skyline_doublezisegred_small_97981");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_small_99168, "sort_for_Skyline_doublezisegred_small_99168");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegscan_89915, "sort_for_Skyline_doublezisegscan_89915");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegscan_90241, "sort_for_Skyline_doublezisegscan_90241");
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    gpu_free_kernel(ctx, ctx->program->builtinzhiota_i64ziiota_i64_95769);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_boolzireplicate_95865);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_f64zireplicate_95911);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i32zireplicate_95844);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i64zireplicate_95792);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i8zireplicate_98110);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_95835);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_95867);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96427);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96454);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96460);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96487);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96493);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96520);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96537);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96544);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96550);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96565);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96604);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96610);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96627);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96633);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96678);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96705);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96711);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96738);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96744);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96771);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96788);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96795);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96810);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96849);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96855);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96872);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96878);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_95965);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96009);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96053);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96154);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96434);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96467);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96500);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96572);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96640);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96685);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96718);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96751);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96817);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_75880);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_75880);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75147);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75163);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75173);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75186);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75206);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75219);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75239);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75252);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75281);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75292);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75312);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75327);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75349);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75397);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75407);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75431);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75443);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75549);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75601);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75614);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75623);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75643);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75663);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75683);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75703);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75722);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75743);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75765);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75785);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75805);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75825);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75844);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75865);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75913);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_96971);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_73483);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_96971);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_75547);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_75893);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_73337);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_73363);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_73450);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_73297);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_73317);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_73287);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_73307);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95781);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95807);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95833);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95881);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95892);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96301);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_97251);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98624);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98651);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98657);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98684);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98690);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98717);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98734);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98741);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98747);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98762);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98801);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98807);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98824);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98830);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98875);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98902);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98908);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98935);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98941);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98968);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98985);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98992);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99007);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99046);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99052);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99069);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99075);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_95998);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96041);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96085);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96163);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96551);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96571);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96591);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96749);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96772);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96795);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96913);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96956);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97000);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97078);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97526);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97546);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97566);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97586);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97759);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97782);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97805);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97828);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98321);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98364);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98408);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98631);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98664);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98697);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98769);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98837);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98882);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98915);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98948);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_99014);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_88043);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_90228);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_88043);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_90228);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77281);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77297);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77309);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77322);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77342);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77355);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77375);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77388);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77417);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77428);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77448);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77463);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77485);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77533);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77543);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77567);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77579);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77920);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77950);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80822);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80854);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80866);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80876);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80890);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80903);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80913);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80938);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81282);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81403);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81485);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83010);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83026);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83038);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83051);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83071);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83084);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83104);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83117);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83146);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83157);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83177);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83192);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83214);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83239);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83248);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83290);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83300);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83324);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83336);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83764);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83800);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87136);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87171);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87184);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87194);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87210);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87224);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87234);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87264);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87667);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87805);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87894);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89747);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89763);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89775);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89788);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89808);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89821);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89841);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89854);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89883);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89893);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89945);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89957);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89968);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89991);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90011);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90031);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90051);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90070);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90091);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90113);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90133);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90153);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90173);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90192);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90213);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90261);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77149);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77225);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_78277);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_81017);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_82878);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_82954);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_84192);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_87361);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89519);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89615);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89691);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_97981);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_99168);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_77600);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_83358);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_88126);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_97981);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_99168);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_89915);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_90241);
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
    ctx->tuning_params.builtinzhiota_i64zitblock_sizze_95773 = &ctx->cfg->tuning_params[0];
    ctx->tuning_params.builtinzhreplicate_boolzitblock_sizze_95869 = &ctx->cfg->tuning_params[1];
    ctx->tuning_params.builtinzhreplicate_f64zitblock_sizze_95915 = &ctx->cfg->tuning_params[2];
    ctx->tuning_params.builtinzhreplicate_i32zitblock_sizze_95848 = &ctx->cfg->tuning_params[3];
    ctx->tuning_params.builtinzhreplicate_i64zitblock_sizze_95796 = &ctx->cfg->tuning_params[4];
    ctx->tuning_params.builtinzhreplicate_i8zitblock_sizze_98114 = &ctx->cfg->tuning_params[5];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L2_96947 = &ctx->cfg->tuning_params[6];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L_96894 = &ctx->cfg->tuning_params[7];
    ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_75874 = &ctx->cfg->tuning_params[8];
    ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872 = &ctx->cfg->tuning_params[9];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73688 = &ctx->cfg->tuning_params[10];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73802 = &ctx->cfg->tuning_params[11];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74150 = &ctx->cfg->tuning_params[12];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74306 = &ctx->cfg->tuning_params[13];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74427 = &ctx->cfg->tuning_params[14];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_75553 = &ctx->cfg->tuning_params[15];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535 = &ctx->cfg->tuning_params[16];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650 = &ctx->cfg->tuning_params[17];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686 = &ctx->cfg->tuning_params[18];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717 = &ctx->cfg->tuning_params[19];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800 = &ctx->cfg->tuning_params[20];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846 = &ctx->cfg->tuning_params[21];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872 = &ctx->cfg->tuning_params[22];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942 = &ctx->cfg->tuning_params[23];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971 = &ctx->cfg->tuning_params[24];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148 = &ctx->cfg->tuning_params[25];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177 = &ctx->cfg->tuning_params[26];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304 = &ctx->cfg->tuning_params[27];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330 = &ctx->cfg->tuning_params[28];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425 = &ctx->cfg->tuning_params[29];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451 = &ctx->cfg->tuning_params[30];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473 = &ctx->cfg->tuning_params[31];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506 = &ctx->cfg->tuning_params[32];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551 = &ctx->cfg->tuning_params[33];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560 = &ctx->cfg->tuning_params[34];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574 = &ctx->cfg->tuning_params[35];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586 = &ctx->cfg->tuning_params[36];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630 = &ctx->cfg->tuning_params[37];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650 = &ctx->cfg->tuning_params[38];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670 = &ctx->cfg->tuning_params[39];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690 = &ctx->cfg->tuning_params[40];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710 = &ctx->cfg->tuning_params[41];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728 = &ctx->cfg->tuning_params[42];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752 = &ctx->cfg->tuning_params[43];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772 = &ctx->cfg->tuning_params[44];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792 = &ctx->cfg->tuning_params[45];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812 = &ctx->cfg->tuning_params[46];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832 = &ctx->cfg->tuning_params[47];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850 = &ctx->cfg->tuning_params[48];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897 = &ctx->cfg->tuning_params[49];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_num_tblocks_73476 = &ctx->cfg->tuning_params[50];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474 = &ctx->cfg->tuning_params[51];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75543 = &ctx->cfg->tuning_params[52];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75889 = &ctx->cfg->tuning_params[53];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541 = &ctx->cfg->tuning_params[54];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887 = &ctx->cfg->tuning_params[55];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[56];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[57];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_2 = &ctx->cfg->tuning_params[58];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_95969 = &ctx->cfg->tuning_params[59];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96013 = &ctx->cfg->tuning_params[60];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96057 = &ctx->cfg->tuning_params[61];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96158 = &ctx->cfg->tuning_params[62];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96438 = &ctx->cfg->tuning_params[63];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96471 = &ctx->cfg->tuning_params[64];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96504 = &ctx->cfg->tuning_params[65];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96576 = &ctx->cfg->tuning_params[66];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96644 = &ctx->cfg->tuning_params[67];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96689 = &ctx->cfg->tuning_params[68];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96722 = &ctx->cfg->tuning_params[69];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96755 = &ctx->cfg->tuning_params[70];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96821 = &ctx->cfg->tuning_params[71];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73321 = &ctx->cfg->tuning_params[72];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73347 = &ctx->cfg->tuning_params[73];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73383 = &ctx->cfg->tuning_params[74];
    ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_73291 = &ctx->cfg->tuning_params[75];
    ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_73311 = &ctx->cfg->tuning_params[76];
    ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73289 = &ctx->cfg->tuning_params[77];
    ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73309 = &ctx->cfg->tuning_params[78];
    ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_73283 = &ctx->cfg->tuning_params[79];
    ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_73303 = &ctx->cfg->tuning_params[80];
    ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73281 = &ctx->cfg->tuning_params[81];
    ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73301 = &ctx->cfg->tuning_params[82];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L2_97947 = &ctx->cfg->tuning_params[83];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L2_99144 = &ctx->cfg->tuning_params[84];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L_97884 = &ctx->cfg->tuning_params[85];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L_99091 = &ctx->cfg->tuning_params[86];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_88037 = &ctx->cfg->tuning_params[87];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_90222 = &ctx->cfg->tuning_params[88];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035 = &ctx->cfg->tuning_params[89];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220 = &ctx->cfg->tuning_params[90];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76037 = &ctx->cfg->tuning_params[91];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76151 = &ctx->cfg->tuning_params[92];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76499 = &ctx->cfg->tuning_params[93];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76655 = &ctx->cfg->tuning_params[94];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76713 = &ctx->cfg->tuning_params[95];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77682 = &ctx->cfg->tuning_params[96];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77846 = &ctx->cfg->tuning_params[97];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_78926 = &ctx->cfg->tuning_params[98];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_79916 = &ctx->cfg->tuning_params[99];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_80009 = &ctx->cfg->tuning_params[100];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_81719 = &ctx->cfg->tuning_params[101];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_81880 = &ctx->cfg->tuning_params[102];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82228 = &ctx->cfg->tuning_params[103];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82384 = &ctx->cfg->tuning_params[104];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82442 = &ctx->cfg->tuning_params[105];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83469 = &ctx->cfg->tuning_params[106];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83684 = &ctx->cfg->tuning_params[107];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_84959 = &ctx->cfg->tuning_params[108];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86101 = &ctx->cfg->tuning_params[109];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86213 = &ctx->cfg->tuning_params[110];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_88558 = &ctx->cfg->tuning_params[111];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_88714 = &ctx->cfg->tuning_params[112];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_88772 = &ctx->cfg->tuning_params[113];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89962 = &ctx->cfg->tuning_params[114];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89972 = &ctx->cfg->tuning_params[115];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75971 = &ctx->cfg->tuning_params[116];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75999 = &ctx->cfg->tuning_params[117];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76035 = &ctx->cfg->tuning_params[118];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76066 = &ctx->cfg->tuning_params[119];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76149 = &ctx->cfg->tuning_params[120];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76195 = &ctx->cfg->tuning_params[121];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76221 = &ctx->cfg->tuning_params[122];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76291 = &ctx->cfg->tuning_params[123];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76320 = &ctx->cfg->tuning_params[124];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76497 = &ctx->cfg->tuning_params[125];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76526 = &ctx->cfg->tuning_params[126];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76653 = &ctx->cfg->tuning_params[127];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76679 = &ctx->cfg->tuning_params[128];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76711 = &ctx->cfg->tuning_params[129];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76737 = &ctx->cfg->tuning_params[130];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76791 = &ctx->cfg->tuning_params[131];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76824 = &ctx->cfg->tuning_params[132];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77680 = &ctx->cfg->tuning_params[133];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77844 = &ctx->cfg->tuning_params[134];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78924 = &ctx->cfg->tuning_params[135];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79020 = &ctx->cfg->tuning_params[136];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79035 = &ctx->cfg->tuning_params[137];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79048 = &ctx->cfg->tuning_params[138];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79093 = &ctx->cfg->tuning_params[139];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79108 = &ctx->cfg->tuning_params[140];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79121 = &ctx->cfg->tuning_params[141];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79914 = &ctx->cfg->tuning_params[142];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80007 = &ctx->cfg->tuning_params[143];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80255 = &ctx->cfg->tuning_params[144];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80790 = &ctx->cfg->tuning_params[145];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81653 = &ctx->cfg->tuning_params[146];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81681 = &ctx->cfg->tuning_params[147];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81717 = &ctx->cfg->tuning_params[148];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81748 = &ctx->cfg->tuning_params[149];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81803 = &ctx->cfg->tuning_params[150];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81828 = &ctx->cfg->tuning_params[151];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81878 = &ctx->cfg->tuning_params[152];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81924 = &ctx->cfg->tuning_params[153];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81950 = &ctx->cfg->tuning_params[154];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82020 = &ctx->cfg->tuning_params[155];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82049 = &ctx->cfg->tuning_params[156];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82226 = &ctx->cfg->tuning_params[157];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82255 = &ctx->cfg->tuning_params[158];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82382 = &ctx->cfg->tuning_params[159];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82408 = &ctx->cfg->tuning_params[160];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82440 = &ctx->cfg->tuning_params[161];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82466 = &ctx->cfg->tuning_params[162];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82520 = &ctx->cfg->tuning_params[163];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82553 = &ctx->cfg->tuning_params[164];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83467 = &ctx->cfg->tuning_params[165];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83682 = &ctx->cfg->tuning_params[166];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84957 = &ctx->cfg->tuning_params[167];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85075 = &ctx->cfg->tuning_params[168];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85090 = &ctx->cfg->tuning_params[169];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85103 = &ctx->cfg->tuning_params[170];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85151 = &ctx->cfg->tuning_params[171];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85166 = &ctx->cfg->tuning_params[172];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85179 = &ctx->cfg->tuning_params[173];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86099 = &ctx->cfg->tuning_params[174];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86211 = &ctx->cfg->tuning_params[175];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86485 = &ctx->cfg->tuning_params[176];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87104 = &ctx->cfg->tuning_params[177];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88347 = &ctx->cfg->tuning_params[178];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88379 = &ctx->cfg->tuning_params[179];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88556 = &ctx->cfg->tuning_params[180];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88585 = &ctx->cfg->tuning_params[181];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88712 = &ctx->cfg->tuning_params[182];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88738 = &ctx->cfg->tuning_params[183];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88770 = &ctx->cfg->tuning_params[184];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88796 = &ctx->cfg->tuning_params[185];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88850 = &ctx->cfg->tuning_params[186];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88883 = &ctx->cfg->tuning_params[187];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89929 = &ctx->cfg->tuning_params[188];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89960 = &ctx->cfg->tuning_params[189];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89970 = &ctx->cfg->tuning_params[190];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89978 = &ctx->cfg->tuning_params[191];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89998 = &ctx->cfg->tuning_params[192];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90018 = &ctx->cfg->tuning_params[193];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90038 = &ctx->cfg->tuning_params[194];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90058 = &ctx->cfg->tuning_params[195];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90076 = &ctx->cfg->tuning_params[196];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90100 = &ctx->cfg->tuning_params[197];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90120 = &ctx->cfg->tuning_params[198];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90140 = &ctx->cfg->tuning_params[199];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90160 = &ctx->cfg->tuning_params[200];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90180 = &ctx->cfg->tuning_params[201];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90198 = &ctx->cfg->tuning_params[202];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90245 = &ctx->cfg->tuning_params[203];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_77592 = &ctx->cfg->tuning_params[204];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_83349 = &ctx->cfg->tuning_params[205];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_88120 = &ctx->cfg->tuning_params[206];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_77590 = &ctx->cfg->tuning_params[207];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_83347 = &ctx->cfg->tuning_params[208];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88118 = &ctx->cfg->tuning_params[209];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_88132 = &ctx->cfg->tuning_params[210];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_89504 = &ctx->cfg->tuning_params[211];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_90237 = &ctx->cfg->tuning_params[212];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_88130 = &ctx->cfg->tuning_params[213];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_89502 = &ctx->cfg->tuning_params[214];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90235 = &ctx->cfg->tuning_params[215];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[216];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[217];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_10 = &ctx->cfg->tuning_params[218];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_11 = &ctx->cfg->tuning_params[219];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_2 = &ctx->cfg->tuning_params[220];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_3 = &ctx->cfg->tuning_params[221];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_4 = &ctx->cfg->tuning_params[222];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_5 = &ctx->cfg->tuning_params[223];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_6 = &ctx->cfg->tuning_params[224];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_7 = &ctx->cfg->tuning_params[225];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_9 = &ctx->cfg->tuning_params[226];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_outer_screma_8 = &ctx->cfg->tuning_params[227];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96002 = &ctx->cfg->tuning_params[228];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96045 = &ctx->cfg->tuning_params[229];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96089 = &ctx->cfg->tuning_params[230];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96167 = &ctx->cfg->tuning_params[231];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96555 = &ctx->cfg->tuning_params[232];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96575 = &ctx->cfg->tuning_params[233];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96595 = &ctx->cfg->tuning_params[234];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96753 = &ctx->cfg->tuning_params[235];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96776 = &ctx->cfg->tuning_params[236];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96799 = &ctx->cfg->tuning_params[237];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96917 = &ctx->cfg->tuning_params[238];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96960 = &ctx->cfg->tuning_params[239];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97004 = &ctx->cfg->tuning_params[240];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97082 = &ctx->cfg->tuning_params[241];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97530 = &ctx->cfg->tuning_params[242];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97550 = &ctx->cfg->tuning_params[243];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97570 = &ctx->cfg->tuning_params[244];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97590 = &ctx->cfg->tuning_params[245];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97763 = &ctx->cfg->tuning_params[246];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97786 = &ctx->cfg->tuning_params[247];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97809 = &ctx->cfg->tuning_params[248];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97832 = &ctx->cfg->tuning_params[249];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98325 = &ctx->cfg->tuning_params[250];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98368 = &ctx->cfg->tuning_params[251];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98412 = &ctx->cfg->tuning_params[252];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98635 = &ctx->cfg->tuning_params[253];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98668 = &ctx->cfg->tuning_params[254];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98701 = &ctx->cfg->tuning_params[255];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98773 = &ctx->cfg->tuning_params[256];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98841 = &ctx->cfg->tuning_params[257];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98886 = &ctx->cfg->tuning_params[258];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98919 = &ctx->cfg->tuning_params[259];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98952 = &ctx->cfg->tuning_params[260];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_99018 = &ctx->cfg->tuning_params[261];
}
int memblock_unref_device(struct futhark_context *ctx, struct memblock_device *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "space 'device'", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_device -= block->size;
            (void) gpu_free(ctx, block->mem, block->size, desc);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_device);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc_device(struct futhark_context *ctx, struct memblock_device *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "space 'device'", ctx->cur_mem_usage_device);
    
    int ret = memblock_unref_device(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "space 'device'", (long long) ctx->cur_mem_usage_device);
    (void) gpu_alloc(ctx, ctx->log, (size_t) size, desc, &block->mem, (size_t *) &size);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_device + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_device = new_usage;
        if (new_usage > ctx->peak_mem_usage_device) {
            ctx->peak_mem_usage_device = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "space 'device'", (long long) size, (long long) ctx->cur_mem_usage_device, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set_device(struct futhark_context *ctx, struct memblock_device *lhs, struct memblock_device *rhs, const char *lhs_desc)
{
    int ret = memblock_unref_device(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"space 'device'\": %lld", (long long) ctx->peak_mem_usage_device);
    str_builder_char(&builder, ',');
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    ctx->peak_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    if (ctx->error == NULL)
        gpu_free_all(ctx);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_builtinzhiota_i64(struct futhark_context *ctx, struct memblock_device mem_95764, int64_t n_95765, int64_t x_95766, int64_t s_95767);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_95860, int64_t num_elems_95861, bool val_95862);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_f64(struct futhark_context *ctx, struct memblock_device mem_95906, int64_t num_elems_95907, double val_95908);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_95839, int64_t num_elems_95840, int32_t val_95841);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i64(struct futhark_context *ctx, struct memblock_device mem_95787, int64_t num_elems_95788, int64_t val_95789);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i8(struct futhark_context *ctx, struct memblock_device mem_98105, int64_t num_elems_98106, int8_t val_98107);
FUTHARK_FUN_ATTR int futrts_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99353, struct memblock_device *mem_out_p_99354, struct memblock_device *mem_out_p_99355, struct memblock_device *mem_out_p_99356, int64_t *out_prim_out_99357, int64_t *out_prim_out_99358, struct memblock_device angle_part_prefix_sum_mem_90813, struct memblock_device angle_partitions_per_dim_mem_90814, struct memblock_device grid_part_prefix_sum_mem_90815, struct memblock_device grid_part_sizze_per_dim_mem_90816, struct memblock_device grid_partitions_per_dim_mem_90817, struct memblock_device start_of_grid_partition_mem_90818, struct memblock_device isPartitionDominated_mem_90819, struct memblock_device part_idx_mem_90820, struct memblock_device xys_mem_90821, struct memblock_device xys_mem_90822, int64_t dim_54946, int64_t dz2080U_54947, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, int64_t dz2081U_54949, int64_t dz2082U_54950, int64_t dz2083U_54951, int64_t total_angle_no_54958, int64_t total_grid_no_54959, int64_t total_part_no_54960);
FUTHARK_FUN_ATTR int futrts_entry_define_skyline_space_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99364, struct memblock_device *mem_out_p_99365, struct memblock_device *mem_out_p_99366, struct memblock_device *mem_out_p_99367, struct memblock_device *mem_out_p_99368, struct memblock_device *mem_out_p_99369, int64_t *out_prim_out_99370, int64_t *out_prim_out_99371, int64_t *out_prim_out_99372, int64_t *out_prim_out_99373, struct memblock_device min_per_dim_mem_90813, struct memblock_device max_per_dim_mem_90814, struct memblock_device grid_partitions_per_dim_mem_90815, struct memblock_device angle_partitions_per_dim_mem_90816, int64_t dim_30964, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965);
FUTHARK_FUN_ATTR int futrts_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99376, struct memblock_device *mem_out_p_99377, struct memblock_device *mem_out_p_99378, struct memblock_device *mem_out_p_99379, int64_t *out_prim_out_99380, int64_t *out_prim_out_99381, int64_t *out_prim_out_99382, struct memblock_device angle_part_prefix_sum_mem_90813, struct memblock_device angle_partitions_per_dim_mem_90814, struct memblock_device grid_part_prefix_sum_mem_90815, struct memblock_device grid_part_sizze_per_dim_mem_90816, struct memblock_device grid_partitions_per_dim_mem_90817, struct memblock_device start_of_grid_partition_mem_90818, struct memblock_device xs_mem_90819, int64_t dim_48135, int64_t dz2080U_48136, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, int64_t n_48138, int64_t total_angle_no_48145, int64_t total_grid_no_48146, int64_t total_part_no_48147, bool use_measure_for_sorting_48149);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_99394, int64_t upper_bound_31355, int64_t n_31356);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10057(struct futhark_context *ctx, double *out_prim_out_99395, struct memblock_device angle_partitions_per_dim_mem_90813, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_31073, int64_t dim_31074, int64_t i_31076);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10058(struct futhark_context *ctx, int64_t *out_prim_out_99397, double a_31088, double ba_31089, int64_t pf_31090, int64_t pd_31091);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_10027(struct futhark_context *ctx, int64_t *out_prim_out_99398, int64_t *out_prim_out_99399, int64_t *out_prim_out_99400, int64_t *out_prim_out_99401, int64_t *out_prim_out_99402, int64_t slo_31659, int64_t shi_31660, int64_t tlo_31661, int64_t thi_31662, int64_t count_31663);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    #define counters_mem_95765 (ctx->constants->counters_mem_95765)
    #define counters_mem_95912 (ctx->constants->counters_mem_95912)
    #define counters_mem_96050 (ctx->constants->counters_mem_96050)
    #define counters_mem_96247 (ctx->constants->counters_mem_96247)
    #define counters_mem_97008 (ctx->constants->counters_mem_97008)
    #define counters_mem_97183 (ctx->constants->counters_mem_97183)
    #define counters_mem_98018 (ctx->constants->counters_mem_98018)
    #define counters_mem_98057 (ctx->constants->counters_mem_98057)
    #define counters_mem_99205 (ctx->constants->counters_mem_99205)
    #define global_dynid_mem_95801 (ctx->constants->global_dynid_mem_95801)
    #define global_dynid_mem_95959 (ctx->constants->global_dynid_mem_95959)
    #define global_dynid_mem_96276 (ctx->constants->global_dynid_mem_96276)
    #define global_dynid_mem_97058 (ctx->constants->global_dynid_mem_97058)
    #define global_dynid_mem_98129 (ctx->constants->global_dynid_mem_98129)
    #define global_dynid_mem_98477 (ctx->constants->global_dynid_mem_98477)
    #define global_dynid_mem_99255 (ctx->constants->global_dynid_mem_99255)
    counters_mem_95765.references = NULL;
    counters_mem_95912.references = NULL;
    counters_mem_96050.references = NULL;
    counters_mem_96247.references = NULL;
    counters_mem_97008.references = NULL;
    counters_mem_97183.references = NULL;
    counters_mem_98018.references = NULL;
    counters_mem_98057.references = NULL;
    counters_mem_99205.references = NULL;
    global_dynid_mem_95801.references = NULL;
    global_dynid_mem_95959.references = NULL;
    global_dynid_mem_96276.references = NULL;
    global_dynid_mem_97058.references = NULL;
    global_dynid_mem_98129.references = NULL;
    global_dynid_mem_98477.references = NULL;
    global_dynid_mem_99255.references = NULL;
    if (memblock_alloc_device(ctx, &global_dynid_mem_95801, (int64_t) 4, "global_dynid_mem_95801")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_95801, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_95912, (int64_t) 80, "counters_mem_95912")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_95912, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_95959, (int64_t) 4, "global_dynid_mem_95959")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_95959, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96050, (int64_t) 80, "counters_mem_96050")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96050, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_95765, (int64_t) 80, "counters_mem_95765")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_95765, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_96276, (int64_t) 4, "global_dynid_mem_96276")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_96276, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_97008, (int64_t) 81920, "counters_mem_97008")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_97008, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_97058, (int64_t) 4, "global_dynid_mem_97058")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_97058, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96247, (int64_t) 80, "counters_mem_96247")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96247, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_97183, (int64_t) 80, "counters_mem_97183")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_97183, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_98018, (int64_t) 81920, "counters_mem_98018")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_98018, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_98057, (int64_t) 80, "counters_mem_98057")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_98057, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_98129, (int64_t) 4, "global_dynid_mem_98129")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_98129, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_98477, (int64_t) 4, "global_dynid_mem_98477")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_98477, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_99205, (int64_t) 81920, "counters_mem_99205")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_99205, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_99255, (int64_t) 4, "global_dynid_mem_99255")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_99255, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    #undef counters_mem_95765
    #undef counters_mem_95912
    #undef counters_mem_96050
    #undef counters_mem_96247
    #undef counters_mem_97008
    #undef counters_mem_97183
    #undef counters_mem_98018
    #undef counters_mem_98057
    #undef counters_mem_99205
    #undef global_dynid_mem_95801
    #undef global_dynid_mem_95959
    #undef global_dynid_mem_96276
    #undef global_dynid_mem_97058
    #undef global_dynid_mem_98129
    #undef global_dynid_mem_98477
    #undef global_dynid_mem_99255
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_95765, "ctx->constants->counters_mem_95765") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_95912, "ctx->constants->counters_mem_95912") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96050, "ctx->constants->counters_mem_96050") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96247, "ctx->constants->counters_mem_96247") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_97008, "ctx->constants->counters_mem_97008") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_97183, "ctx->constants->counters_mem_97183") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_98018, "ctx->constants->counters_mem_98018") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_98057, "ctx->constants->counters_mem_98057") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_99205, "ctx->constants->counters_mem_99205") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_95801, "ctx->constants->global_dynid_mem_95801") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_95959, "ctx->constants->global_dynid_mem_95959") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_96276, "ctx->constants->global_dynid_mem_96276") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_97058, "ctx->constants->global_dynid_mem_97058") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_98129, "ctx->constants->global_dynid_mem_98129") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_98477, "ctx->constants->global_dynid_mem_98477") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_99255, "ctx->constants->global_dynid_mem_99255") != 0)
        return 1;
    return 0;
}
static int gpu_kernel_builtinzhiota_i64ziiota_i64_95769(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhiota_i64ziiota_i64_95769, "builtin#iota_i64.iota_i64_95769", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_boolzireplicate_95865(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, bool arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_boolzireplicate_95865, "builtin#replicate_bool.replicate_95865", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_f64zireplicate_95911(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, double arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_f64zireplicate_95911, "builtin#replicate_f64.replicate_95911", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i32zireplicate_95844(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int32_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i32zireplicate_95844, "builtin#replicate_i32.replicate_95844", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i64zireplicate_95792(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i64zireplicate_95792, "builtin#replicate_i64.replicate_95792", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i8zireplicate_98110(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int8_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i8zireplicate_98110, "builtin#replicate_i8.replicate_98110", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_nonseg_73483(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_73483, "calc_local_Skyline_GFUR_double.segred_nonseg_73483", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_95835(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_95835, "calc_local_Skyline_GFUR_double.gpuseq_95835", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_95867(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_95867, "calc_local_Skyline_GFUR_double.gpuseq_95867", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974, "calc_local_Skyline_GFUR_double.segmap_intrablock_74974", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050, "calc_local_Skyline_GFUR_double.segmap_intrablock_75050", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107, "calc_local_Skyline_GFUR_double.segmap_intrablock_75107", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75147(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75147, "calc_local_Skyline_GFUR_double.segmap_75147", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75163(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75163, "calc_local_Skyline_GFUR_double.segmap_75163", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75173(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75173, "calc_local_Skyline_GFUR_double.segmap_75173", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_95965(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_95965, "calc_local_Skyline_GFUR_double.replicate_95965", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75186(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75186, "calc_local_Skyline_GFUR_double.segmap_75186", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75206(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75206, "calc_local_Skyline_GFUR_double.segmap_75206", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96009(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96009, "calc_local_Skyline_GFUR_double.replicate_96009", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75219(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75219, "calc_local_Skyline_GFUR_double.segmap_75219", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75239(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75239, "calc_local_Skyline_GFUR_double.segmap_75239", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96053(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96053, "calc_local_Skyline_GFUR_double.replicate_96053", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75252(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75252, "calc_local_Skyline_GFUR_double.segmap_75252", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75281(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75281, "calc_local_Skyline_GFUR_double.segmap_75281", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75292(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75292, "calc_local_Skyline_GFUR_double.segmap_75292", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75312(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75312, "calc_local_Skyline_GFUR_double.segmap_75312", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75327(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75327, "calc_local_Skyline_GFUR_double.segmap_75327", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96154(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96154, "calc_local_Skyline_GFUR_double.replicate_96154", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75349(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75349, "calc_local_Skyline_GFUR_double.segmap_75349", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75397(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75397, "calc_local_Skyline_GFUR_double.segmap_75397", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75407(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75407, "calc_local_Skyline_GFUR_double.segmap_75407", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75431(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75431, "calc_local_Skyline_GFUR_double.segmap_75431", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75443(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, bool arg7, int64_t arg8, bool arg9, int64_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[24] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20};
        size_t args_sizes[24] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75443, "calc_local_Skyline_GFUR_double.segmap_75443", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 24, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_75547(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_75547, "calc_local_Skyline_GFUR_double.segscan_75547", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75549(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75549, "calc_local_Skyline_GFUR_double.segmap_75549", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75601(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75601, "calc_local_Skyline_GFUR_double.segmap_75601", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75614(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75614, "calc_local_Skyline_GFUR_double.segmap_75614", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75623(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75623, "calc_local_Skyline_GFUR_double.segmap_75623", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75643(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75643, "calc_local_Skyline_GFUR_double.segmap_75643", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75663(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75663, "calc_local_Skyline_GFUR_double.segmap_75663", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96427(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96427, "calc_local_Skyline_GFUR_double.gpuseq_96427", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96434(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96434, "calc_local_Skyline_GFUR_double.replicate_96434", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96454(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96454, "calc_local_Skyline_GFUR_double.gpuseq_96454", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96460(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96460, "calc_local_Skyline_GFUR_double.gpuseq_96460", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96467(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96467, "calc_local_Skyline_GFUR_double.replicate_96467", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96487(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96487, "calc_local_Skyline_GFUR_double.gpuseq_96487", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96493(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96493, "calc_local_Skyline_GFUR_double.gpuseq_96493", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96500(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96500, "calc_local_Skyline_GFUR_double.replicate_96500", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96520(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96520, "calc_local_Skyline_GFUR_double.gpuseq_96520", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75683(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75683, "calc_local_Skyline_GFUR_double.segmap_75683", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96537(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96537, "calc_local_Skyline_GFUR_double.gpuseq_96537", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96544(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96544, "calc_local_Skyline_GFUR_double.gpuseq_96544", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96550(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96550, "calc_local_Skyline_GFUR_double.gpuseq_96550", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75703(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75703, "calc_local_Skyline_GFUR_double.segmap_75703", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96565(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96565, "calc_local_Skyline_GFUR_double.gpuseq_96565", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96572(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96572, "calc_local_Skyline_GFUR_double.replicate_96572", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75722(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75722, "calc_local_Skyline_GFUR_double.segmap_75722", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96604(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96604, "calc_local_Skyline_GFUR_double.gpuseq_96604", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96610(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96610, "calc_local_Skyline_GFUR_double.gpuseq_96610", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75743(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75743, "calc_local_Skyline_GFUR_double.segmap_75743", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96627(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96627, "calc_local_Skyline_GFUR_double.gpuseq_96627", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96633(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96633, "calc_local_Skyline_GFUR_double.gpuseq_96633", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96640(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96640, "calc_local_Skyline_GFUR_double.replicate_96640", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75765(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75765, "calc_local_Skyline_GFUR_double.segmap_75765", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75785(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75785, "calc_local_Skyline_GFUR_double.segmap_75785", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96678(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96678, "calc_local_Skyline_GFUR_double.gpuseq_96678", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96685(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96685, "calc_local_Skyline_GFUR_double.replicate_96685", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96705(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96705, "calc_local_Skyline_GFUR_double.gpuseq_96705", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96711(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96711, "calc_local_Skyline_GFUR_double.gpuseq_96711", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96718(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96718, "calc_local_Skyline_GFUR_double.replicate_96718", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96738(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96738, "calc_local_Skyline_GFUR_double.gpuseq_96738", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96744(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96744, "calc_local_Skyline_GFUR_double.gpuseq_96744", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96751(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96751, "calc_local_Skyline_GFUR_double.replicate_96751", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96771(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96771, "calc_local_Skyline_GFUR_double.gpuseq_96771", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75805(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75805, "calc_local_Skyline_GFUR_double.segmap_75805", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96788(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96788, "calc_local_Skyline_GFUR_double.gpuseq_96788", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96795(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96795, "calc_local_Skyline_GFUR_double.gpuseq_96795", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75825(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75825, "calc_local_Skyline_GFUR_double.segmap_75825", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96810(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96810, "calc_local_Skyline_GFUR_double.gpuseq_96810", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96817(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96817, "calc_local_Skyline_GFUR_double.replicate_96817", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75844(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75844, "calc_local_Skyline_GFUR_double.segmap_75844", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96849(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96849, "calc_local_Skyline_GFUR_double.gpuseq_96849", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96855(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96855, "calc_local_Skyline_GFUR_double.gpuseq_96855", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75865(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75865, "calc_local_Skyline_GFUR_double.segmap_75865", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96872(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96872, "calc_local_Skyline_GFUR_double.gpuseq_96872", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96878(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96878, "calc_local_Skyline_GFUR_double.gpuseq_96878", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_local_75880(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int32_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_75880, "calc_local_Skyline_GFUR_double.seghist_local_75880", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_global_75880(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_75880, "calc_local_Skyline_GFUR_double.seghist_global_75880", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_small_96971(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_96971, "calc_local_Skyline_GFUR_double.segred_small_96971", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_large_96971(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_96971, "calc_local_Skyline_GFUR_double.segred_large_96971", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_75893(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_75893, "calc_local_Skyline_GFUR_double.segscan_75893", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75913(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_75913, "calc_local_Skyline_GFUR_double.segmap_75913", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegscan_73287(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_73287, "define_skyline_space_double.segscan_73287", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegred_nonseg_73297(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_73297, "define_skyline_space_double.segred_nonseg_73297", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegscan_73307(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_73307, "define_skyline_space_double.segscan_73307", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegred_nonseg_73317(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_73317, "define_skyline_space_double.segred_nonseg_73317", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_73337(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_73337, "define_skyline_space_double.segmap_73337", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_73363(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_73363, "define_skyline_space_double.segmap_73363", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_73450(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_73450, "define_skyline_space_double.segmap_73450", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_95781(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95781, "sort_for_Skyline_double.gpuseq_95781", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_95807(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95807, "sort_for_Skyline_double.gpuseq_95807", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_95833(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95833, "sort_for_Skyline_double.gpuseq_95833", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_95881(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95881, "sort_for_Skyline_double.gpuseq_95881", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_95892(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_95892, "sort_for_Skyline_double.gpuseq_95892", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77149(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77149, "sort_for_Skyline_double.segmap_intrablock_77149", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77225(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77225, "sort_for_Skyline_double.segmap_intrablock_77225", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77281(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77281, "sort_for_Skyline_double.segmap_77281", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77297(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77297, "sort_for_Skyline_double.segmap_77297", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77309(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77309, "sort_for_Skyline_double.segmap_77309", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_95998(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_95998, "sort_for_Skyline_double.replicate_95998", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77322(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77322, "sort_for_Skyline_double.segmap_77322", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77342(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77342, "sort_for_Skyline_double.segmap_77342", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96041(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96041, "sort_for_Skyline_double.replicate_96041", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77355(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77355, "sort_for_Skyline_double.segmap_77355", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77375(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77375, "sort_for_Skyline_double.segmap_77375", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96085(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96085, "sort_for_Skyline_double.replicate_96085", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77388(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77388, "sort_for_Skyline_double.segmap_77388", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77417(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77417, "sort_for_Skyline_double.segmap_77417", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77428(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77428, "sort_for_Skyline_double.segmap_77428", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77448(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77448, "sort_for_Skyline_double.segmap_77448", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77463(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77463, "sort_for_Skyline_double.segmap_77463", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96163(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96163, "sort_for_Skyline_double.replicate_96163", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77485(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77485, "sort_for_Skyline_double.segmap_77485", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77533(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77533, "sort_for_Skyline_double.segmap_77533", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77543(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77543, "sort_for_Skyline_double.segmap_77543", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77567(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77567, "sort_for_Skyline_double.segmap_77567", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77579(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77579, "sort_for_Skyline_double.segmap_77579", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_77600(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_77600, "sort_for_Skyline_double.segred_nonseg_77600", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96301(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96301, "sort_for_Skyline_double.gpuseq_96301", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77920(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77920, "sort_for_Skyline_double.segmap_77920", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77950(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[19] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15};
        size_t args_sizes[19] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77950, "sort_for_Skyline_double.segmap_77950", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 19, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_78277(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, int64_t arg6, int64_t arg7, bool arg8, bool arg9, bool arg10, int64_t arg11, int64_t arg12, int64_t arg13, bool arg14, int64_t arg15, int64_t arg16, int64_t arg17, int64_t arg18, int64_t arg19, int64_t arg20, int64_t arg21, int64_t arg22, int64_t arg23, int64_t arg24, int64_t arg25, int64_t arg26, int32_t arg27, int32_t arg28, int32_t arg29, int32_t arg30, gpu_mem arg31, gpu_mem arg32, gpu_mem arg33, gpu_mem arg34, gpu_mem arg35, gpu_mem arg36)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[40] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29, &arg30, &arg31, &arg32, &arg33, &arg34, &arg35, &arg36};
        size_t args_sizes[40] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29), sizeof(arg30), sizeof(arg31), sizeof(arg32), sizeof(arg33), sizeof(arg34), sizeof(arg35), sizeof(arg36)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_78277, "sort_for_Skyline_double.segmap_intrablock_78277", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 40, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80822(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, bool arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80822, "sort_for_Skyline_double.segmap_80822", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80854(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80854, "sort_for_Skyline_double.segmap_80854", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80866(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80866, "sort_for_Skyline_double.segmap_80866", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80876(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80876, "sort_for_Skyline_double.segmap_80876", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80890(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80890, "sort_for_Skyline_double.segmap_80890", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80903(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80903, "sort_for_Skyline_double.segmap_80903", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80913(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80913, "sort_for_Skyline_double.segmap_80913", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96551(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96551, "sort_for_Skyline_double.replicate_96551", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96571(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96571, "sort_for_Skyline_double.replicate_96571", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96591(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96591, "sort_for_Skyline_double.replicate_96591", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_80938(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[23] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19};
        size_t args_sizes[23] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_80938, "sort_for_Skyline_double.segmap_80938", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 23, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_81017(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int64_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int64_t arg14, int64_t arg15, int64_t arg16, int32_t arg17, int32_t arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_81017, "sort_for_Skyline_double.segmap_intrablock_81017", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81282(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[14] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[14] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81282, "sort_for_Skyline_double.segmap_81282", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 14, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81403(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[28] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24};
        size_t args_sizes[28] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81403, "sort_for_Skyline_double.segmap_81403", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 28, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96749(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96749, "sort_for_Skyline_double.replicate_96749", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96772(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96772, "sort_for_Skyline_double.replicate_96772", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96795(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[9] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96795, "sort_for_Skyline_double.replicate_96795", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81485(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81485, "sort_for_Skyline_double.segmap_81485", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_82878(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_82878, "sort_for_Skyline_double.segmap_intrablock_82878", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_82954(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_82954, "sort_for_Skyline_double.segmap_intrablock_82954", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83010(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83010, "sort_for_Skyline_double.segmap_83010", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83026(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83026, "sort_for_Skyline_double.segmap_83026", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83038(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83038, "sort_for_Skyline_double.segmap_83038", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96913(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96913, "sort_for_Skyline_double.replicate_96913", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83051(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83051, "sort_for_Skyline_double.segmap_83051", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83071(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83071, "sort_for_Skyline_double.segmap_83071", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96956(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96956, "sort_for_Skyline_double.replicate_96956", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83084(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83084, "sort_for_Skyline_double.segmap_83084", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83104(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83104, "sort_for_Skyline_double.segmap_83104", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97000(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97000, "sort_for_Skyline_double.replicate_97000", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83117(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83117, "sort_for_Skyline_double.segmap_83117", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83146(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83146, "sort_for_Skyline_double.segmap_83146", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83157(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83157, "sort_for_Skyline_double.segmap_83157", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83177(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83177, "sort_for_Skyline_double.segmap_83177", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83192(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83192, "sort_for_Skyline_double.segmap_83192", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97078(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97078, "sort_for_Skyline_double.replicate_97078", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83214(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83214, "sort_for_Skyline_double.segmap_83214", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83239(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83239, "sort_for_Skyline_double.segmap_83239", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83248(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83248, "sort_for_Skyline_double.segmap_83248", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83290(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83290, "sort_for_Skyline_double.segmap_83290", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83300(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83300, "sort_for_Skyline_double.segmap_83300", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83324(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83324, "sort_for_Skyline_double.segmap_83324", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83336(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83336, "sort_for_Skyline_double.segmap_83336", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_83358(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, double arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[21] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19};
        size_t args_sizes[21] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_83358, "sort_for_Skyline_double.segred_nonseg_83358", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 21, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_97251(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_97251, "sort_for_Skyline_double.gpuseq_97251", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83764(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[20] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16};
        size_t args_sizes[20] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83764, "sort_for_Skyline_double.segmap_83764", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 20, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83800(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[21] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17};
        size_t args_sizes[21] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83800, "sort_for_Skyline_double.segmap_83800", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 21, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_84192(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, int64_t arg6, int64_t arg7, bool arg8, bool arg9, bool arg10, int64_t arg11, int64_t arg12, int64_t arg13, bool arg14, int64_t arg15, int64_t arg16, int64_t arg17, int64_t arg18, int64_t arg19, int64_t arg20, int64_t arg21, int64_t arg22, int64_t arg23, int64_t arg24, int64_t arg25, int64_t arg26, int64_t arg27, int32_t arg28, int32_t arg29, int32_t arg30, int32_t arg31, gpu_mem arg32, gpu_mem arg33, gpu_mem arg34, gpu_mem arg35, gpu_mem arg36, gpu_mem arg37, gpu_mem arg38, gpu_mem arg39)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[43] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29, &arg30, &arg31, &arg32, &arg33, &arg34, &arg35, &arg36, &arg37, &arg38, &arg39};
        size_t args_sizes[43] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29), sizeof(arg30), sizeof(arg31), sizeof(arg32), sizeof(arg33), sizeof(arg34), sizeof(arg35), sizeof(arg36), sizeof(arg37), sizeof(arg38), sizeof(arg39)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_84192, "sort_for_Skyline_double.segmap_intrablock_84192", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 43, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87136(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, bool arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87136, "sort_for_Skyline_double.segmap_87136", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87171(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87171, "sort_for_Skyline_double.segmap_87171", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87184(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87184, "sort_for_Skyline_double.segmap_87184", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87194(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87194, "sort_for_Skyline_double.segmap_87194", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87210(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87210, "sort_for_Skyline_double.segmap_87210", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87224(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87224, "sort_for_Skyline_double.segmap_87224", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87234(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87234, "sort_for_Skyline_double.segmap_87234", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97526(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97526, "sort_for_Skyline_double.replicate_97526", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97546(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97546, "sort_for_Skyline_double.replicate_97546", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97566(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97566, "sort_for_Skyline_double.replicate_97566", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97586(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97586, "sort_for_Skyline_double.replicate_97586", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87264(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[26] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22};
        size_t args_sizes[26] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87264, "sort_for_Skyline_double.segmap_87264", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 26, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_87361(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int64_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int64_t arg14, int64_t arg15, int64_t arg16, int64_t arg17, int32_t arg18, int32_t arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27, gpu_mem arg28, gpu_mem arg29)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[33] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29};
        size_t args_sizes[33] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_87361, "sort_for_Skyline_double.segmap_intrablock_87361", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 33, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87667(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87667, "sort_for_Skyline_double.segmap_87667", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87805(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87805, "sort_for_Skyline_double.segmap_87805", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97759(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97759, "sort_for_Skyline_double.replicate_97759", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97782(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97782, "sort_for_Skyline_double.replicate_97782", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97805(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97805, "sort_for_Skyline_double.replicate_97805", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97828(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[9] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97828, "sort_for_Skyline_double.replicate_97828", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87894(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27, gpu_mem arg28, gpu_mem arg29)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[33] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29};
        size_t args_sizes[33] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87894, "sort_for_Skyline_double.segmap_87894", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 33, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_local_88043(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, int32_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int32_t arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[31] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27};
        size_t args_sizes[31] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_88043, "sort_for_Skyline_double.seghist_local_88043", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 31, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_global_88043(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, int64_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[27] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23};
        size_t args_sizes[27] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_88043, "sort_for_Skyline_double.seghist_global_88043", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 27, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_small_97981(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_97981, "sort_for_Skyline_double.segred_small_97981", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_large_97981(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_97981, "sort_for_Skyline_double.segred_large_97981", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_88126(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_88126, "sort_for_Skyline_double.segred_nonseg_88126", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_89519(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[18] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14};
        size_t args_sizes[18] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89519, "sort_for_Skyline_double.segmap_intrablock_89519", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 18, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_89615(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89615, "sort_for_Skyline_double.segmap_intrablock_89615", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_89691(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_89691, "sort_for_Skyline_double.segmap_intrablock_89691", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89747(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89747, "sort_for_Skyline_double.segmap_89747", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89763(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89763, "sort_for_Skyline_double.segmap_89763", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89775(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89775, "sort_for_Skyline_double.segmap_89775", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98321(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98321, "sort_for_Skyline_double.replicate_98321", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89788(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89788, "sort_for_Skyline_double.segmap_89788", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89808(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89808, "sort_for_Skyline_double.segmap_89808", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98364(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98364, "sort_for_Skyline_double.replicate_98364", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89821(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89821, "sort_for_Skyline_double.segmap_89821", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89841(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89841, "sort_for_Skyline_double.segmap_89841", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98408(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98408, "sort_for_Skyline_double.replicate_98408", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89854(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89854, "sort_for_Skyline_double.segmap_89854", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89883(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89883, "sort_for_Skyline_double.segmap_89883", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89893(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89893, "sort_for_Skyline_double.segmap_89893", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegscan_89915(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_89915, "sort_for_Skyline_double.segscan_89915", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89945(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89945, "sort_for_Skyline_double.segmap_89945", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89957(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89957, "sort_for_Skyline_double.segmap_89957", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89968(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89968, "sort_for_Skyline_double.segmap_89968", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_89991(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_89991, "sort_for_Skyline_double.segmap_89991", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90011(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90011, "sort_for_Skyline_double.segmap_90011", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98624(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98624, "sort_for_Skyline_double.gpuseq_98624", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98631(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98631, "sort_for_Skyline_double.replicate_98631", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98651(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98651, "sort_for_Skyline_double.gpuseq_98651", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98657(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98657, "sort_for_Skyline_double.gpuseq_98657", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98664(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98664, "sort_for_Skyline_double.replicate_98664", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98684(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98684, "sort_for_Skyline_double.gpuseq_98684", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98690(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98690, "sort_for_Skyline_double.gpuseq_98690", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98697(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98697, "sort_for_Skyline_double.replicate_98697", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98717(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98717, "sort_for_Skyline_double.gpuseq_98717", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90031(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90031, "sort_for_Skyline_double.segmap_90031", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98734(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98734, "sort_for_Skyline_double.gpuseq_98734", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98741(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98741, "sort_for_Skyline_double.gpuseq_98741", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98747(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98747, "sort_for_Skyline_double.gpuseq_98747", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90051(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90051, "sort_for_Skyline_double.segmap_90051", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98762(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98762, "sort_for_Skyline_double.gpuseq_98762", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98769(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98769, "sort_for_Skyline_double.replicate_98769", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90070(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90070, "sort_for_Skyline_double.segmap_90070", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98801(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98801, "sort_for_Skyline_double.gpuseq_98801", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98807(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98807, "sort_for_Skyline_double.gpuseq_98807", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90091(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90091, "sort_for_Skyline_double.segmap_90091", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98824(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98824, "sort_for_Skyline_double.gpuseq_98824", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98830(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98830, "sort_for_Skyline_double.gpuseq_98830", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98837(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98837, "sort_for_Skyline_double.replicate_98837", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90113(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90113, "sort_for_Skyline_double.segmap_90113", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90133(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90133, "sort_for_Skyline_double.segmap_90133", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98875(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98875, "sort_for_Skyline_double.gpuseq_98875", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98882(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98882, "sort_for_Skyline_double.replicate_98882", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98902(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98902, "sort_for_Skyline_double.gpuseq_98902", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98908(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98908, "sort_for_Skyline_double.gpuseq_98908", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98915(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98915, "sort_for_Skyline_double.replicate_98915", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98935(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98935, "sort_for_Skyline_double.gpuseq_98935", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98941(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98941, "sort_for_Skyline_double.gpuseq_98941", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98948(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98948, "sort_for_Skyline_double.replicate_98948", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98968(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98968, "sort_for_Skyline_double.gpuseq_98968", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90153(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90153, "sort_for_Skyline_double.segmap_90153", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98985(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98985, "sort_for_Skyline_double.gpuseq_98985", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_98992(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_98992, "sort_for_Skyline_double.gpuseq_98992", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90173(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90173, "sort_for_Skyline_double.segmap_90173", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_99007(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99007, "sort_for_Skyline_double.gpuseq_99007", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_99014(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_99014, "sort_for_Skyline_double.replicate_99014", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90192(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90192, "sort_for_Skyline_double.segmap_90192", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_99046(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99046, "sort_for_Skyline_double.gpuseq_99046", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_99052(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99052, "sort_for_Skyline_double.gpuseq_99052", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90213(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90213, "sort_for_Skyline_double.segmap_90213", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_99069(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99069, "sort_for_Skyline_double.gpuseq_99069", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_99075(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_99075, "sort_for_Skyline_double.gpuseq_99075", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_local_90228(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int32_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_90228, "sort_for_Skyline_double.seghist_local_90228", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_global_90228(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_90228, "sort_for_Skyline_double.seghist_global_90228", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_small_99168(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_99168, "sort_for_Skyline_double.segred_small_99168", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_large_99168(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_99168, "sort_for_Skyline_double.segred_large_99168", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegscan_90241(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_90241, "sort_for_Skyline_double.segscan_90241", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90261(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90261, "sort_for_Skyline_double.segmap_90261", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
struct futhark_i64_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_2d {
    struct memblock_device mem;
    int64_t shape[2];
};
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const double *data, int64_t dim0, int64_t dim1)
{
    int err = 0;
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) (dim0 * dim1) * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0, int64_t dim1)
{
    int err = 0;
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) (arr->shape[0] * arr->shape[1]) * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_2d(struct futhark_context *ctx, double *out, struct futhark_f64_2d *arr, int64_t i0, int64_t i1)
{
    int err = 0;
    
    if ((i0 >= 0 && i0 < arr->shape[0]) && (i1 >= 0 && i1 < arr->shape[1])) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * arr->shape[1] + i1 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_bool_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_bool_1d *futhark_new_bool_1d(struct futhark_context *ctx, const bool *data, int64_t dim0)
{
    int err = 0;
    struct futhark_bool_1d *bad = NULL;
    struct futhark_bool_1d *arr = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 1);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_bool_1d *futhark_new_raw_bool_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_bool_1d *bad = NULL;
    struct futhark_bool_1d *arr = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr, bool *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 1);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_bool_1d(struct futhark_context *ctx, bool *out, struct futhark_bool_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 1 * (i0 * 1), 1);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_skylineBase_double {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_i64_1d *v2;
    struct futhark_f64_1d *v3;
    struct futhark_i64_1d *v4;
    struct futhark_f64_2d *v5;
    int64_t v6;
    int64_t v7;
    int64_t v8;
};
int futhark_project_opaque_skylineBase_double_angle_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_angle_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_part_size_per_dim(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v3, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v4, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_start_of_grid_partition(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_2d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_2d));
    memcpy(v, obj->v5, sizeof(struct futhark_f64_2d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_angle_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v6;
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_grid_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v7;
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_part_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v8;
    *out = v;
    return 0;
}
int futhark_new_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out, const struct futhark_i64_1d *f_angle_part_prefix_sum, const struct futhark_i64_1d *f_angle_partitions_per_dim, const struct futhark_i64_1d *f_grid_part_prefix_sum, const struct futhark_f64_1d *f_grid_part_sizze_per_dim, const struct futhark_i64_1d *f_grid_partitions_per_dim, const struct futhark_f64_2d *f_start_of_grid_partition, const int64_t f_total_angle_no, const int64_t f_total_grid_no, const int64_t f_total_part_no)
{
    struct futhark_opaque_skylineBase_double *v = malloc(sizeof(struct futhark_opaque_skylineBase_double));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_angle_part_prefix_sum;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_angle_partitions_per_dim;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_grid_part_prefix_sum;
        (void) (*v->v2->mem.references)++;
    }
    {
        v->v3 = malloc(sizeof(struct futhark_f64_1d));
        *v->v3 = *f_grid_part_sizze_per_dim;
        (void) (*v->v3->mem.references)++;
    }
    {
        v->v4 = malloc(sizeof(struct futhark_i64_1d));
        *v->v4 = *f_grid_partitions_per_dim;
        (void) (*v->v4->mem.references)++;
    }
    {
        v->v5 = malloc(sizeof(struct futhark_f64_2d));
        *v->v5 = *f_start_of_grid_partition;
        (void) (*v->v5->mem.references)++;
    }
    v->v6 = f_total_angle_no;
    v->v7 = f_total_grid_no;
    v->v8 = f_total_part_no;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v5)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_skylineBase_double(struct futhark_context *ctx, const struct futhark_opaque_skylineBase_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v3)[0] * sizeof(double);
    int64_t size_4 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v4)[0] * sizeof(int64_t);
    int64_t size_5 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v5)[0] * futhark_shape_f64_2d(ctx, obj->v5)[1] * sizeof(double);
    int64_t size_6 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    int64_t size_7 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    int64_t size_8 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v3)[0] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v4), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v4, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v4)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v5), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v5)[0] * futhark_shape_f64_2d(ctx, obj->v5)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v6, sizeof(obj->v6));
        out += sizeof(obj->v6);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v7, sizeof(obj->v7));
        out += sizeof(obj->v7);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v8, sizeof(obj->v8));
        out += sizeof(obj->v8);
    }
    return ret;
}
struct futhark_opaque_skylineBase_double *futhark_restore_opaque_skylineBase_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_skylineBase_double *obj = malloc(sizeof(struct futhark_opaque_skylineBase_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * sizeof(double);
    
    int64_t shape_4[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * sizeof(int64_t);
    
    int64_t shape_5[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * shape_5[1] * sizeof(double);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    src += sizeof(obj->v6);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    src += sizeof(obj->v7);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    src += sizeof(obj->v8);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f64_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_i64_1d(ctx, data_4, shape_4[0]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f64_2d(ctx, data_5, shape_5[0], shape_5[1]);
        if (obj->v5 == NULL)
            err = 1;
        memcpy(&obj->v6, data_6, sizeof(obj->v6));
        memcpy(&obj->v7, data_7, sizeof(obj->v7));
        memcpy(&obj->v8, data_8, sizeof(obj->v8));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v5)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_tup2_arr1d_f64_i64 {
    struct futhark_f64_1d *v0;
    int64_t v1;
};
int futhark_project_opaque_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v1;
    *out = v;
    return 0;
}
int futhark_new_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, const struct futhark_f64_1d *f_0, const int64_t f_1)
{
    struct futhark_opaque_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_f64_1d));
        *v->v0 = *f_0;
        (void) (*v->v0->mem.references)++;
    }
    v->v1 = f_1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v0)[0] * sizeof(double);
    int64_t size_1 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v0)[0] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v1, sizeof(obj->v1));
        out += sizeof(obj->v1);
    }
    return ret;
}
struct futhark_opaque_tup2_arr1d_f64_i64 *futhark_restore_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_tup2_arr1d_f64_i64 *obj = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(double);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    src += sizeof(obj->v1);
    if (err == 0) {
        obj->v0 = futhark_new_f64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        memcpy(&obj->v1, data_1, sizeof(obj->v1));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 {
    struct futhark_f64_2d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_f64_2d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_2d));
    memcpy(v, obj->v0, sizeof(struct futhark_f64_2d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_zip_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_f64_2d *f_0, const struct futhark_i64_1d *f_1)
{
    if (!(f_0->shape[0] == f_1->shape[0])) {
        set_error(ctx, strdup("Cannot zip arrays with different shapes."));
        return 1;
    }
    
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_f64_2d));
        *v->v0 = *f_0;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_1;
        (void) (*v->v1->mem.references)++;
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_index_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->v0->shape[0]) {
        struct futhark_opaque_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
        
        v->v0 = malloc(sizeof(*v->v0));
        v->v0->mem.references = NULL;
        if (memblock_alloc_device(ctx, &v->v0->mem, arr->v0->shape[1] * 8, "v->v0->mem"))
            err = 1;
        v->v0->shape[0] = arr->v0->shape[1];
        err = gpu_memcpy(ctx, v->v0->mem.mem, 0, arr->v0->mem.mem, 8 * (i0 * arr->v0->shape[1]), 8 * arr->v0->shape[1]);
        err = memcpy_gpu2host(ctx, false, (unsigned char *) &v->v1, 0, arr->v1->mem.mem, 8 * (i0 * 1), 8);
        if (err == 0)
            *out = v;
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
const int64_t *futhark_shape_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr)
{
    (void) ctx;
    return arr->v0->shape;
}
int futhark_free_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v0)[0] * futhark_shape_f64_2d(ctx, obj->v0)[1] * sizeof(double);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v0)[0] * futhark_shape_f64_2d(ctx, obj->v0)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *futhark_restore_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * sizeof(double);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_f64_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_skylineInfo_GFUR_double {
    struct futhark_bool_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_f64_2d *v2;
    struct futhark_i64_1d *v3;
};
int futhark_project_opaque_skylineInfo_GFUR_double_isPartitionDominated(struct futhark_context *ctx, struct futhark_bool_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_bool_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_bool_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_bool_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineInfo_GFUR_double_part_idx(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineInfo_GFUR_double_xys(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v2;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v3;
    (void) (*v->v1->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out, const struct futhark_bool_1d *f_isPartitionDominated, const struct futhark_i64_1d *f_part_idx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *f_xys)
{
    struct futhark_opaque_skylineInfo_GFUR_double *v = malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_bool_1d));
        *v->v0 = *f_isPartitionDominated;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_part_idx;
        (void) (*v->v1->mem.references)++;
    }
    {
        {
            v->v2 = malloc(sizeof(*f_xys->v0));
            *v->v2 = *f_xys->v0;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*f_xys->v1));
            *v->v3 = *f_xys->v1;
            (void) (*v->v3->mem.references)++;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_bool_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const struct futhark_opaque_skylineInfo_GFUR_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_bool_1d(ctx, obj->v0)[0] * sizeof(bool);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v2)[0] * futhark_shape_f64_2d(ctx, obj->v2)[1] * sizeof(double);
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v3)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2 + size_3;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "bool", 4);
        out += 4;
        memcpy(out, futhark_shape_bool_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_bool_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_bool_1d(ctx, obj->v0)[0] * sizeof(bool);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v2), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v2)[0] * futhark_shape_f64_2d(ctx, obj->v2)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v3)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_skylineInfo_GFUR_double *futhark_restore_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_skylineInfo_GFUR_double *obj = malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "bool", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(bool);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * shape_2[1] * sizeof(double);
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_bool_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_2d(ctx, data_2, shape_2[0], shape_2[1]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_i64_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_bool_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_builtinzhiota_i64(struct futhark_context *ctx, struct memblock_device mem_95764, int64_t n_95765, int64_t x_95766, int64_t s_95767)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t tblock_sizze_95773;
    
    tblock_sizze_95773 = *ctx->tuning_params.builtinzhiota_i64zitblock_sizze_95773;
    
    int64_t virt_num_tblocks_95774 = sdiv_up64(n_95765, tblock_sizze_95773);
    int64_t num_tblocks_95775 = smin64(virt_num_tblocks_95774, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhiota_i64ziiota_i64_95769(ctx, num_tblocks_95775, 1, 1, tblock_sizze_95773, 1, 1, (int64_t) 0, n_95765, x_95766, s_95767, virt_num_tblocks_95774, num_tblocks_95775, mem_95764.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_95860, int64_t num_elems_95861, bool val_95862)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t replicate_n_95864 = num_elems_95861;
    int64_t tblock_sizze_95869;
    
    tblock_sizze_95869 = *ctx->tuning_params.builtinzhreplicate_boolzitblock_sizze_95869;
    
    int64_t virt_num_tblocks_95870 = sdiv_up64(replicate_n_95864, tblock_sizze_95869);
    int64_t num_tblocks_95871 = smin64(virt_num_tblocks_95870, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_boolzireplicate_95865(ctx, num_tblocks_95871, 1, 1, tblock_sizze_95869, 1, 1, (int64_t) 0, num_elems_95861, val_95862, replicate_n_95864, virt_num_tblocks_95870, num_tblocks_95871, mem_95860.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_f64(struct futhark_context *ctx, struct memblock_device mem_95906, int64_t num_elems_95907, double val_95908)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t replicate_n_95910 = num_elems_95907;
    int64_t tblock_sizze_95915;
    
    tblock_sizze_95915 = *ctx->tuning_params.builtinzhreplicate_f64zitblock_sizze_95915;
    
    int64_t virt_num_tblocks_95916 = sdiv_up64(replicate_n_95910, tblock_sizze_95915);
    int64_t num_tblocks_95917 = smin64(virt_num_tblocks_95916, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_f64zireplicate_95911(ctx, num_tblocks_95917, 1, 1, tblock_sizze_95915, 1, 1, (int64_t) 0, num_elems_95907, val_95908, replicate_n_95910, virt_num_tblocks_95916, num_tblocks_95917, mem_95906.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_95839, int64_t num_elems_95840, int32_t val_95841)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t replicate_n_95843 = num_elems_95840;
    int64_t tblock_sizze_95848;
    
    tblock_sizze_95848 = *ctx->tuning_params.builtinzhreplicate_i32zitblock_sizze_95848;
    
    int64_t virt_num_tblocks_95849 = sdiv_up64(replicate_n_95843, tblock_sizze_95848);
    int64_t num_tblocks_95850 = smin64(virt_num_tblocks_95849, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i32zireplicate_95844(ctx, num_tblocks_95850, 1, 1, tblock_sizze_95848, 1, 1, (int64_t) 0, num_elems_95840, val_95841, replicate_n_95843, virt_num_tblocks_95849, num_tblocks_95850, mem_95839.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i64(struct futhark_context *ctx, struct memblock_device mem_95787, int64_t num_elems_95788, int64_t val_95789)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t replicate_n_95791 = num_elems_95788;
    int64_t tblock_sizze_95796;
    
    tblock_sizze_95796 = *ctx->tuning_params.builtinzhreplicate_i64zitblock_sizze_95796;
    
    int64_t virt_num_tblocks_95797 = sdiv_up64(replicate_n_95791, tblock_sizze_95796);
    int64_t num_tblocks_95798 = smin64(virt_num_tblocks_95797, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i64zireplicate_95792(ctx, num_tblocks_95798, 1, 1, tblock_sizze_95796, 1, 1, (int64_t) 0, num_elems_95788, val_95789, replicate_n_95791, virt_num_tblocks_95797, num_tblocks_95798, mem_95787.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i8(struct futhark_context *ctx, struct memblock_device mem_98105, int64_t num_elems_98106, int8_t val_98107)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t replicate_n_98109 = num_elems_98106;
    int64_t tblock_sizze_98114;
    
    tblock_sizze_98114 = *ctx->tuning_params.builtinzhreplicate_i8zitblock_sizze_98114;
    
    int64_t virt_num_tblocks_98115 = sdiv_up64(replicate_n_98109, tblock_sizze_98114);
    int64_t num_tblocks_98116 = smin64(virt_num_tblocks_98115, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i8zireplicate_98110(ctx, num_tblocks_98116, 1, 1, tblock_sizze_98114, 1, 1, (int64_t) 0, num_elems_98106, val_98107, replicate_n_98109, virt_num_tblocks_98115, num_tblocks_98116, mem_98105.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99353, struct memblock_device *mem_out_p_99354, struct memblock_device *mem_out_p_99355, struct memblock_device *mem_out_p_99356, int64_t *out_prim_out_99357, int64_t *out_prim_out_99358, struct memblock_device angle_part_prefix_sum_mem_90813, struct memblock_device angle_partitions_per_dim_mem_90814, struct memblock_device grid_part_prefix_sum_mem_90815, struct memblock_device grid_part_sizze_per_dim_mem_90816, struct memblock_device grid_partitions_per_dim_mem_90817, struct memblock_device start_of_grid_partition_mem_90818, struct memblock_device isPartitionDominated_mem_90819, struct memblock_device part_idx_mem_90820, struct memblock_device xys_mem_90821, struct memblock_device xys_mem_90822, int64_t dim_54946, int64_t dz2080U_54947, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, int64_t dz2081U_54949, int64_t dz2082U_54950, int64_t dz2083U_54951, int64_t total_angle_no_54958, int64_t total_grid_no_54959, int64_t total_part_no_54960)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_91577;
    
    mem_91577.references = NULL;
    
    struct memblock_device incprefixes_mem_97056;
    
    incprefixes_mem_97056.references = NULL;
    
    struct memblock_device aggregates_mem_97054;
    
    aggregates_mem_97054.references = NULL;
    
    struct memblock_device status_flags_mem_97052;
    
    status_flags_mem_97052.references = NULL;
    
    struct memblock_device mem_91574;
    
    mem_91574.references = NULL;
    
    struct memblock_device segred_tmp_mem_97006;
    
    segred_tmp_mem_97006.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_96886;
    
    defunc_0_map_res_subhistos_mem_96886.references = NULL;
    
    struct memblock_device mem_param_tmp_96870;
    
    mem_param_tmp_96870.references = NULL;
    
    struct memblock_device mem_91558;
    
    mem_91558.references = NULL;
    
    struct memblock_device mem_param_91557;
    
    mem_param_91557.references = NULL;
    
    struct memblock_device ext_mem_91561;
    
    ext_mem_91561.references = NULL;
    
    struct memblock_device mem_param_tmp_96847;
    
    mem_param_tmp_96847.references = NULL;
    
    struct memblock_device mem_91544;
    
    mem_91544.references = NULL;
    
    struct memblock_device mem_param_91543;
    
    mem_param_91543.references = NULL;
    
    struct memblock_device ext_mem_91547;
    
    ext_mem_91547.references = NULL;
    
    struct memblock_device mem_91540;
    
    mem_91540.references = NULL;
    
    struct memblock_device mem_91523;
    
    mem_91523.references = NULL;
    
    struct memblock_device mem_91521;
    
    mem_91521.references = NULL;
    
    struct memblock_device mem_91520;
    
    mem_91520.references = NULL;
    
    struct memblock_device mem_91531;
    
    mem_91531.references = NULL;
    
    struct memblock_device ext_mem_91534;
    
    ext_mem_91534.references = NULL;
    
    struct memblock_device mem_91504;
    
    mem_91504.references = NULL;
    
    struct memblock_device mem_91512;
    
    mem_91512.references = NULL;
    
    struct memblock_device ext_mem_91515;
    
    ext_mem_91515.references = NULL;
    
    struct memblock_device mem_param_tmp_96786;
    
    mem_param_tmp_96786.references = NULL;
    
    struct memblock_device mem_91497;
    
    mem_91497.references = NULL;
    
    struct memblock_device mem_param_91496;
    
    mem_param_91496.references = NULL;
    
    struct memblock_device ext_mem_91500;
    
    ext_mem_91500.references = NULL;
    
    struct memblock_device mem_91478;
    
    mem_91478.references = NULL;
    
    struct memblock_device mem_91476;
    
    mem_91476.references = NULL;
    
    struct memblock_device mem_91463;
    
    mem_91463.references = NULL;
    
    struct memblock_device mem_91461;
    
    mem_91461.references = NULL;
    
    struct memblock_device mem_91448;
    
    mem_91448.references = NULL;
    
    struct memblock_device mem_91446;
    
    mem_91446.references = NULL;
    
    struct memblock_device mem_91457;
    
    mem_91457.references = NULL;
    
    struct memblock_device ext_mem_91460;
    
    ext_mem_91460.references = NULL;
    
    struct memblock_device mem_91472;
    
    mem_91472.references = NULL;
    
    struct memblock_device ext_mem_91475;
    
    ext_mem_91475.references = NULL;
    
    struct memblock_device mem_91445;
    
    mem_91445.references = NULL;
    
    struct memblock_device mem_91487;
    
    mem_91487.references = NULL;
    
    struct memblock_device ext_mem_91490;
    
    ext_mem_91490.references = NULL;
    
    struct memblock_device mem_91554;
    
    mem_91554.references = NULL;
    
    struct memblock_device mem_91517;
    
    mem_91517.references = NULL;
    
    struct memblock_device mem_91516;
    
    mem_91516.references = NULL;
    
    struct memblock_device mem_91502;
    
    mem_91502.references = NULL;
    
    struct memblock_device mem_91493;
    
    mem_91493.references = NULL;
    
    struct memblock_device mem_91436;
    
    mem_91436.references = NULL;
    
    struct memblock_device mem_91434;
    
    mem_91434.references = NULL;
    
    struct memblock_device mem_param_tmp_96625;
    
    mem_param_tmp_96625.references = NULL;
    
    struct memblock_device mem_91430;
    
    mem_91430.references = NULL;
    
    struct memblock_device mem_param_91429;
    
    mem_param_91429.references = NULL;
    
    struct memblock_device ext_mem_91433;
    
    ext_mem_91433.references = NULL;
    
    struct memblock_device mem_param_tmp_96602;
    
    mem_param_tmp_96602.references = NULL;
    
    struct memblock_device mem_91416;
    
    mem_91416.references = NULL;
    
    struct memblock_device mem_param_91415;
    
    mem_param_91415.references = NULL;
    
    struct memblock_device ext_mem_91419;
    
    ext_mem_91419.references = NULL;
    
    struct memblock_device mem_91412;
    
    mem_91412.references = NULL;
    
    struct memblock_device mem_91395;
    
    mem_91395.references = NULL;
    
    struct memblock_device mem_91393;
    
    mem_91393.references = NULL;
    
    struct memblock_device mem_91392;
    
    mem_91392.references = NULL;
    
    struct memblock_device mem_91403;
    
    mem_91403.references = NULL;
    
    struct memblock_device ext_mem_91406;
    
    ext_mem_91406.references = NULL;
    
    struct memblock_device mem_91389;
    
    mem_91389.references = NULL;
    
    struct memblock_device mem_91388;
    
    mem_91388.references = NULL;
    
    struct memblock_device mem_91387;
    
    mem_91387.references = NULL;
    
    struct memblock_device mem_91385;
    
    mem_91385.references = NULL;
    
    struct memblock_device ext_mem_91386;
    
    ext_mem_91386.references = NULL;
    
    struct memblock_device mem_91373;
    
    mem_91373.references = NULL;
    
    struct memblock_device mem_91381;
    
    mem_91381.references = NULL;
    
    struct memblock_device ext_mem_91384;
    
    ext_mem_91384.references = NULL;
    
    struct memblock_device mem_91371;
    
    mem_91371.references = NULL;
    
    struct memblock_device mem_91426;
    
    mem_91426.references = NULL;
    
    struct memblock_device mem_param_tmp_96535;
    
    mem_param_tmp_96535.references = NULL;
    
    struct memblock_device mem_91365;
    
    mem_91365.references = NULL;
    
    struct memblock_device mem_param_91364;
    
    mem_param_91364.references = NULL;
    
    struct memblock_device ext_mem_91368;
    
    ext_mem_91368.references = NULL;
    
    struct memblock_device mem_91361;
    
    mem_91361.references = NULL;
    
    struct memblock_device mem_91360;
    
    mem_91360.references = NULL;
    
    struct memblock_device mem_91345;
    
    mem_91345.references = NULL;
    
    struct memblock_device mem_91343;
    
    mem_91343.references = NULL;
    
    struct memblock_device mem_91330;
    
    mem_91330.references = NULL;
    
    struct memblock_device mem_91328;
    
    mem_91328.references = NULL;
    
    struct memblock_device mem_91315;
    
    mem_91315.references = NULL;
    
    struct memblock_device mem_91313;
    
    mem_91313.references = NULL;
    
    struct memblock_device mem_91324;
    
    mem_91324.references = NULL;
    
    struct memblock_device ext_mem_91327;
    
    ext_mem_91327.references = NULL;
    
    struct memblock_device mem_91339;
    
    mem_91339.references = NULL;
    
    struct memblock_device ext_mem_91342;
    
    ext_mem_91342.references = NULL;
    
    struct memblock_device mem_91312;
    
    mem_91312.references = NULL;
    
    struct memblock_device mem_91354;
    
    mem_91354.references = NULL;
    
    struct memblock_device ext_mem_91357;
    
    ext_mem_91357.references = NULL;
    
    struct memblock_device mem_91567;
    
    mem_91567.references = NULL;
    
    struct memblock_device ext_mem_91570;
    
    ext_mem_91570.references = NULL;
    
    struct memblock_device mem_91306;
    
    mem_91306.references = NULL;
    
    struct memblock_device mem_91303;
    
    mem_91303.references = NULL;
    
    struct memblock_device mem_91299;
    
    mem_91299.references = NULL;
    
    struct memblock_device mem_91296;
    
    mem_91296.references = NULL;
    
    struct memblock_device mem_90833;
    
    mem_90833.references = NULL;
    
    struct memblock_device incprefixes_mem_96274;
    
    incprefixes_mem_96274.references = NULL;
    
    struct memblock_device aggregates_mem_96272;
    
    aggregates_mem_96272.references = NULL;
    
    struct memblock_device status_flags_mem_96250;
    
    status_flags_mem_96250.references = NULL;
    
    struct memblock_device mem_91294;
    
    mem_91294.references = NULL;
    
    struct memblock_device mem_91292;
    
    mem_91292.references = NULL;
    
    struct memblock_device mem_param_tmp_96108;
    
    mem_param_tmp_96108.references = NULL;
    
    struct memblock_device mem_91286;
    
    mem_91286.references = NULL;
    
    struct memblock_device mem_param_tmp_96187;
    
    mem_param_tmp_96187.references = NULL;
    
    struct memblock_device mem_91242;
    
    mem_91242.references = NULL;
    
    struct memblock_device mem_91230;
    
    mem_91230.references = NULL;
    
    struct memblock_device mem_91208;
    
    mem_91208.references = NULL;
    
    struct memblock_device mem_param_91204;
    
    mem_param_91204.references = NULL;
    
    struct memblock_device ext_mem_91246;
    
    ext_mem_91246.references = NULL;
    
    struct memblock_device mem_91191;
    
    mem_91191.references = NULL;
    
    struct memblock_device mem_91173;
    
    mem_91173.references = NULL;
    
    struct memblock_device mem_91162;
    
    mem_91162.references = NULL;
    
    struct memblock_device mem_91151;
    
    mem_91151.references = NULL;
    
    struct memblock_device mem_91148;
    
    mem_91148.references = NULL;
    
    struct memblock_device mem_91194;
    
    mem_91194.references = NULL;
    
    struct memblock_device ext_mem_91197;
    
    ext_mem_91197.references = NULL;
    
    struct memblock_device mem_91129;
    
    mem_91129.references = NULL;
    
    struct memblock_device mem_91137;
    
    mem_91137.references = NULL;
    
    struct memblock_device ext_mem_91140;
    
    ext_mem_91140.references = NULL;
    
    struct memblock_device mem_param_91127;
    
    mem_param_91127.references = NULL;
    
    struct memblock_device ext_mem_91289;
    
    ext_mem_91289.references = NULL;
    
    struct memblock_device color_95392;
    
    color_95392.references = NULL;
    
    struct memblock_device color_95391;
    
    color_95391.references = NULL;
    
    struct memblock_device mem_91261;
    
    mem_91261.references = NULL;
    
    struct memblock_device mem_91250;
    
    mem_91250.references = NULL;
    
    struct memblock_device mem_91219;
    
    mem_91219.references = NULL;
    
    struct memblock_device mem_91200;
    
    mem_91200.references = NULL;
    
    struct memblock_device mem_91124;
    
    mem_91124.references = NULL;
    
    struct memblock_device mem_91113;
    
    mem_91113.references = NULL;
    
    struct memblock_device mem_91111;
    
    mem_91111.references = NULL;
    
    struct memblock_device mem_91109;
    
    mem_91109.references = NULL;
    
    struct memblock_device mem_91098;
    
    mem_91098.references = NULL;
    
    struct memblock_device mem_91043;
    
    mem_91043.references = NULL;
    
    struct memblock_device mem_91025;
    
    mem_91025.references = NULL;
    
    struct memblock_device mem_91014;
    
    mem_91014.references = NULL;
    
    struct memblock_device mem_91003;
    
    mem_91003.references = NULL;
    
    struct memblock_device mem_91000;
    
    mem_91000.references = NULL;
    
    struct memblock_device mem_90959;
    
    mem_90959.references = NULL;
    
    struct memblock_device mem_90941;
    
    mem_90941.references = NULL;
    
    struct memblock_device mem_90930;
    
    mem_90930.references = NULL;
    
    struct memblock_device mem_90919;
    
    mem_90919.references = NULL;
    
    struct memblock_device mem_90916;
    
    mem_90916.references = NULL;
    
    struct memblock_device mem_90888;
    
    mem_90888.references = NULL;
    
    struct memblock_device mem_90870;
    
    mem_90870.references = NULL;
    
    struct memblock_device mem_90859;
    
    mem_90859.references = NULL;
    
    struct memblock_device mem_90848;
    
    mem_90848.references = NULL;
    
    struct memblock_device mem_90845;
    
    mem_90845.references = NULL;
    
    struct memblock_device mem_90842;
    
    mem_90842.references = NULL;
    
    struct memblock_device mem_90904;
    
    mem_90904.references = NULL;
    
    struct memblock_device ext_mem_90907;
    
    ext_mem_90907.references = NULL;
    
    struct memblock_device mem_90910;
    
    mem_90910.references = NULL;
    
    struct memblock_device ext_mem_90913;
    
    ext_mem_90913.references = NULL;
    
    struct memblock_device mem_90988;
    
    mem_90988.references = NULL;
    
    struct memblock_device ext_mem_90991;
    
    ext_mem_90991.references = NULL;
    
    struct memblock_device mem_90994;
    
    mem_90994.references = NULL;
    
    struct memblock_device ext_mem_90997;
    
    ext_mem_90997.references = NULL;
    
    struct memblock_device mem_91085;
    
    mem_91085.references = NULL;
    
    struct memblock_device ext_mem_91088;
    
    ext_mem_91088.references = NULL;
    
    struct memblock_device mem_91091;
    
    mem_91091.references = NULL;
    
    struct memblock_device ext_mem_91094;
    
    ext_mem_91094.references = NULL;
    
    struct memblock_device mem_90834;
    
    mem_90834.references = NULL;
    
    struct memblock_device mem_90829;
    
    mem_90829.references = NULL;
    
    struct memblock_device mem_90830;
    
    mem_90830.references = NULL;
    
    struct memblock_device ext_mem_90831;
    
    ext_mem_90831.references = NULL;
    
    struct memblock_device mem_90828;
    
    mem_90828.references = NULL;
    
    struct memblock_device segred_tmp_mem_95787;
    
    segred_tmp_mem_95787.references = NULL;
    
    struct memblock_device mem_90826;
    
    mem_90826.references = NULL;
    
    struct memblock_device mem_90824;
    
    mem_90824.references = NULL;
    
    struct memblock_device mem_out_95760;
    
    mem_out_95760.references = NULL;
    
    struct memblock_device mem_out_95759;
    
    mem_out_95759.references = NULL;
    
    struct memblock_device mem_out_95758;
    
    mem_out_95758.references = NULL;
    
    struct memblock_device mem_out_95757;
    
    mem_out_95757.references = NULL;
    
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t prim_out_95761;
    int64_t prim_out_95762;
    int64_t arg_61323 = sub64(dim_54946, (int64_t) 1);
    bool assert_cond_61324 = arg_61323 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948;
    bool assert_c_61325;
    
    if (!assert_cond_61324) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  ftSkyline.fut:737:10-739:27\n   #1  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zeze_rhs_61327 = sub64(dz2082U_54950, (int64_t) 1);
    int64_t segred_tblock_sizze_73475;
    
    segred_tblock_sizze_73475 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474;
    
    int64_t num_tblocks_73477;
    int64_t max_num_tblocks_95763;
    
    max_num_tblocks_95763 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_num_tblocks_73476;
    num_tblocks_73477 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2082U_54950, segred_tblock_sizze_73475), max_num_tblocks_95763)));
    
    int64_t bytes_90825 = (int64_t) 8 * dz2082U_54950;
    
    if (memblock_alloc_device(ctx, &mem_90824, (int64_t) 8, "mem_90824")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90826, bytes_90825, "mem_90826")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_95764 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_95787, (int64_t) 8 * num_tblocks_73477, "segred_tmp_mem_95787")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_95789 = num_tblocks_73477 * segred_tblock_sizze_73475;
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_nonseg_73483(ctx, num_tblocks_73477, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_73474, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_73475 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_73475, (int64_t) 8), (int64_t) 8)), dz2082U_54950, dz2083U_54951, zeze_rhs_61327, num_tblocks_73477, num_threads_95789, part_idx_mem_90820.mem, mem_90824.mem, mem_90826.mem, counters_mem_95765.mem, segred_tmp_mem_95787.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t read_res_99359;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99359, mem_90824.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_0_reduce_res_71074 = read_res_99359;
    
    if (memblock_unref_device(ctx, &mem_90824, "mem_90824") != 0)
        return 1;
    
    int64_t bytes_90827 = (int64_t) 8 * dz2083U_54951;
    
    if (memblock_alloc_device(ctx, &mem_90828, bytes_90827, "mem_90828")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_90828, dz2083U_54951, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_61356 = slt64(defunc_0_reduce_res_71074, (int64_t) 0);
    bool valid_61357 = !bounds_invalid_upwards_61356;
    bool range_valid_c_61358;
    
    if (!valid_61357) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) defunc_0_reduce_res_71074, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  ftSkyline.fut:363:65-83\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_61359 = slt64((int64_t) 0, defunc_0_reduce_res_71074);
    bool y_61360 = slt64((int64_t) 0, dz2080U_54947);
    bool loop_not_taken_61361 = !loop_nonempty_61359;
    bool protect_assert_disj_61362 = y_61360 || loop_not_taken_61361;
    bool index_certs_61363;
    
    if (!protect_assert_disj_61362) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_54947, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_61364 = dim_54946 == (int64_t) 0;
    bool cond_61366 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948 == (int64_t) 0;
    bool protect_assert_disj_61368 = assert_cond_61324 || loop_not_taken_61361;
    bool empty_or_match_cert_61369;
    
    if (!protect_assert_disj_61368) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_61372 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948);
    bool bounds_invalid_upwards_61373 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, (int64_t) 1);
    int64_t distance_61374 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, (int64_t) 1);
    bool y_61375 = slt64((int64_t) 0, dim_54946);
    bool bounds_invalid_upwards_61376 = slt64(dim_54946, (int64_t) 1);
    bool protect_assert_disj_61377 = cond_61366 || y_61372;
    bool protect_assert_disj_61378 = loop_not_taken_61361 || protect_assert_disj_61377;
    bool index_certs_61379;
    
    if (!protect_assert_disj_61378) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_61380 = !bounds_invalid_upwards_61373;
    bool protect_assert_disj_61381 = cond_61364 || y_61375;
    bool protect_assert_disj_61382 = loop_not_taken_61361 || protect_assert_disj_61381;
    bool index_certs_61383;
    
    if (!protect_assert_disj_61382) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_61384 = !bounds_invalid_upwards_61376;
    bool x_61386 = !cond_61366;
    bool protect_cond_conj_61387 = loop_nonempty_61359 && x_61386;
    double defunc_0_f_res_61388;
    
    if (protect_cond_conj_61387) {
        double x_70728;
        
        if (futrts_lifted_lambda_10057(ctx, &x_70728, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dim_54946, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_61388 = x_70728;
    } else {
        defunc_0_f_res_61388 = 0.0;
    }
    
    bool protect_assert_disj_61390 = cond_61366 || valid_61380;
    bool protect_assert_disj_61391 = loop_not_taken_61361 || protect_assert_disj_61390;
    bool range_valid_c_61392;
    
    if (!protect_assert_disj_61391) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_61393 = cond_61364 || valid_61384;
    bool protect_assert_disj_61394 = loop_not_taken_61361 || protect_assert_disj_61393;
    bool range_valid_c_61395;
    
    if (!protect_assert_disj_61394) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54946, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_61396;
    
    if (!protect_assert_disj_61394) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54946, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_69372;
    
    if (!protect_assert_disj_61382) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_69517 = !cond_61364;
    bool protect_cond_conj_69522 = loop_nonempty_61359 && x_69517;
    
    if (protect_cond_conj_69522) {
        if (memblock_alloc_device(ctx, &mem_90830, (int64_t) 8, "mem_90830")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_95835(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_90830.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90831, &mem_90830, "mem_90830") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_90829, (int64_t) 8, "mem_90829")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_90829, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90831, &mem_90829, "mem_90829") != 0)
            return 1;
    }
    
    int64_t max_tblock_sizze_74966;
    
    max_tblock_sizze_74966 = ctx->max_thread_block_size;
    
    bool suff_intra_par_74969;
    
    suff_intra_par_74969 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_0 <= dim_54946;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_0", (long) dim_54946, suff_intra_par_74969 ? "true" : "false");
    
    bool suff_intra_par_75045;
    
    suff_intra_par_75045 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_1 <= dim_54946;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_1", (long) dim_54946, suff_intra_par_75045 ? "true" : "false");
    
    bool suff_intra_par_75102;
    
    suff_intra_par_75102 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_2 <= dim_54946;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_2", (long) dim_54946, suff_intra_par_75102 ? "true" : "false");
    
    int64_t nest_sizze_75141 = dim_54946 * dz2083U_54951;
    int64_t segmap_tblock_sizze_75142;
    
    segmap_tblock_sizze_75142 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506;
    
    int64_t segmap_tblock_sizze_75158;
    
    segmap_tblock_sizze_75158 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473;
    
    int64_t segmap_tblock_sizze_75169;
    
    segmap_tblock_sizze_75169 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451;
    
    int64_t segmap_tblock_sizze_75181;
    
    segmap_tblock_sizze_75181 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425;
    
    int64_t segmap_tblock_sizze_75202;
    
    segmap_tblock_sizze_75202 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330;
    
    int64_t segmap_tblock_sizze_75214;
    
    segmap_tblock_sizze_75214 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304;
    
    int64_t segmap_tblock_sizze_75235;
    
    segmap_tblock_sizze_75235 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177;
    
    int64_t segmap_tblock_sizze_75247;
    
    segmap_tblock_sizze_75247 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148;
    
    int64_t segmap_tblock_sizze_75276;
    
    segmap_tblock_sizze_75276 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971;
    
    int64_t segmap_usable_groups_75277 = sdiv_up_safe64(nest_sizze_75141, segmap_tblock_sizze_75276);
    int64_t segmap_tblock_sizze_75287;
    
    segmap_tblock_sizze_75287 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942;
    
    int64_t segmap_usable_groups_75288 = sdiv_up_safe64(dz2083U_54951, segmap_tblock_sizze_75287);
    int64_t segmap_tblock_sizze_75307;
    
    segmap_tblock_sizze_75307 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872;
    
    int64_t segmap_tblock_sizze_75322;
    
    segmap_tblock_sizze_75322 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846;
    
    int64_t segmap_tblock_sizze_75344;
    
    segmap_tblock_sizze_75344 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800;
    
    int64_t segmap_tblock_sizze_75392;
    
    segmap_tblock_sizze_75392 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717;
    
    int64_t segmap_tblock_sizze_75402;
    
    segmap_tblock_sizze_75402 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686;
    
    int64_t num_tblocks_75403;
    int64_t max_num_tblocks_95861;
    
    max_num_tblocks_95861 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73688;
    num_tblocks_75403 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75402), max_num_tblocks_95861)));
    
    int64_t nest_sizze_75425 = dz2083U_54951 * arg_61323;
    int64_t segmap_tblock_sizze_75426;
    
    segmap_tblock_sizze_75426 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650;
    
    int64_t segmap_usable_groups_75427 = sdiv_up_safe64(nest_sizze_75425, segmap_tblock_sizze_75426);
    int64_t segmap_tblock_sizze_75439;
    
    segmap_tblock_sizze_75439 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535;
    
    int64_t segmap_usable_groups_75440 = sdiv_up_safe64(dz2083U_54951, segmap_tblock_sizze_75439);
    bool fits_74967 = sle64(dim_54946, max_tblock_sizze_74966);
    int64_t num_tblocks_75248;
    int64_t max_num_tblocks_95862;
    
    max_num_tblocks_95862 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74150;
    num_tblocks_75248 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75247), max_num_tblocks_95862)));
    
    int64_t num_tblocks_75215;
    int64_t max_num_tblocks_95863;
    
    max_num_tblocks_95863 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74306;
    num_tblocks_75215 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75214), max_num_tblocks_95863)));
    
    int64_t num_tblocks_75182;
    int64_t max_num_tblocks_95864;
    
    max_num_tblocks_95864 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_74427;
    num_tblocks_75182 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75181), max_num_tblocks_95864)));
    
    int64_t segmap_usable_groups_75308 = sdiv_up_safe64(nest_sizze_75141, segmap_tblock_sizze_75307);
    int64_t segmap_usable_groups_75323 = sdiv_up_safe64(nest_sizze_75141, segmap_tblock_sizze_75322);
    int64_t num_tblocks_75345;
    int64_t max_num_tblocks_95865;
    
    max_num_tblocks_95865 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73802;
    num_tblocks_75345 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75344), max_num_tblocks_95865)));
    
    bool intra_suff_and_fits_74970 = fits_74967 && suff_intra_par_74969;
    bool intra_suff_and_fits_75046 = fits_74967 && suff_intra_par_75045;
    bool intra_suff_and_fits_75103 = fits_74967 && suff_intra_par_75102;
    int64_t segmap_usable_groups_75143 = sdiv_up_safe64(nest_sizze_75141, segmap_tblock_sizze_75142);
    int64_t segmap_usable_groups_75159 = sdiv_up_safe64(nest_sizze_75141, segmap_tblock_sizze_75158);
    int64_t segmap_usable_groups_75170 = sdiv_up_safe64(dz2083U_54951, segmap_tblock_sizze_75169);
    int64_t segmap_usable_groups_75203 = sdiv_up_safe64(dz2083U_54951, segmap_tblock_sizze_75202);
    int64_t segmap_usable_groups_75236 = sdiv_up_safe64(dz2083U_54951, segmap_tblock_sizze_75235);
    int64_t segscan_tblock_sizze_75542;
    
    segscan_tblock_sizze_75542 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541;
    
    int64_t num_tblocks_75544;
    int64_t max_num_tblocks_95866;
    
    max_num_tblocks_95866 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75543;
    num_tblocks_75544 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segscan_tblock_sizze_75542), max_num_tblocks_95866)));
    
    bool cond_61663 = dz2083U_54951 == (int64_t) 0;
    bool x_61664 = !cond_61663;
    int64_t tmp_61665 = sub64(dz2083U_54951, (int64_t) 1);
    bool x_61666 = sle64((int64_t) 0, tmp_61665);
    bool y_61667 = slt64(tmp_61665, dz2083U_54951);
    bool bounds_check_61668 = x_61666 && y_61667;
    bool protect_assert_disj_61669 = cond_61663 || bounds_check_61668;
    bool index_certs_61670;
    
    if (!protect_assert_disj_61669) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_61665, "] out of bounds for array of shape [", (long long) dz2083U_54951, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_62062 = slt64(total_part_no_54960, (int64_t) 0);
    bool valid_62063 = !bounds_invalid_upwards_62062;
    bool range_valid_c_62064;
    
    if (!valid_62063) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) total_part_no_54960, " is invalid.", "-> #0  /prelude/soacs.fut:133:41-49\n   #1  ftSkyline.fut:396:74-92\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_90832 = (int64_t) 8 * total_part_no_54960;
    
    if (memblock_alloc_device(ctx, &mem_90834, (int64_t) 8, "mem_90834")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_95867(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_90831.mem, mem_90834.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_90831, "ext_mem_90831") != 0)
        return 1;
    
    int64_t ext_91087;
    int64_t shared_memory_capacity_95873;
    
    shared_memory_capacity_95873 = ctx->max_shared_memory;
    if (intra_suff_and_fits_74970) {
        ext_91087 = dim_54946;
    } else {
        ext_91087 = (int64_t) 1;
    }
    
    int64_t ext_91086;
    int64_t shared_memory_capacity_95874;
    
    shared_memory_capacity_95874 = ctx->max_shared_memory;
    if (intra_suff_and_fits_74970) {
        ext_91086 = (int64_t) 1;
    } else {
        ext_91086 = dz2083U_54951;
    }
    
    int64_t ext_90990;
    int64_t shared_memory_capacity_95875;
    
    shared_memory_capacity_95875 = ctx->max_shared_memory;
    if (intra_suff_and_fits_75046) {
        ext_90990 = dim_54946;
    } else {
        ext_90990 = (int64_t) 1;
    }
    
    int64_t ext_90989;
    int64_t shared_memory_capacity_95876;
    
    shared_memory_capacity_95876 = ctx->max_shared_memory;
    if (intra_suff_and_fits_75046) {
        ext_90989 = (int64_t) 1;
    } else {
        ext_90989 = dz2083U_54951;
    }
    
    int64_t ext_90906;
    int64_t shared_memory_capacity_95877;
    
    shared_memory_capacity_95877 = ctx->max_shared_memory;
    if (intra_suff_and_fits_75103) {
        ext_90906 = dim_54946;
    } else {
        ext_90906 = (int64_t) 1;
    }
    
    int64_t ext_90905;
    int64_t shared_memory_capacity_95878;
    
    shared_memory_capacity_95878 = ctx->max_shared_memory;
    if (intra_suff_and_fits_75103) {
        ext_90905 = (int64_t) 1;
    } else {
        ext_90905 = dz2083U_54951;
    }
    
    int64_t bytes_90837 = dim_54946 * bytes_90827;
    int64_t binop_x_90846 = (int64_t) 8 * dim_54946;
    int64_t bytes_90847 = dz2083U_54951 * binop_x_90846;
    int64_t binop_x_90851 = smax64((int64_t) 0, tmp_61665);
    int64_t binop_x_90853 = smax64((int64_t) 0, arg_61323);
    int64_t binop_y_90854 = dz2083U_54951 * binop_x_90853;
    int64_t binop_y_90855 = smax64((int64_t) 0, binop_y_90854);
    int64_t binop_y_90856 = binop_x_90851 + binop_y_90855;
    int64_t binop_y_90857 = (int64_t) 1 + binop_y_90856;
    int64_t bytes_90858 = (int64_t) 8 * binop_y_90857;
    int64_t binop_y_90885 = binop_x_90851 + binop_y_90855;
    int64_t binop_y_90886 = (int64_t) 1 + binop_y_90885;
    int64_t bytes_90887 = (int64_t) 8 * binop_y_90886;
    int64_t binop_y_90956 = binop_x_90851 + binop_y_90855;
    int64_t binop_y_90957 = (int64_t) 1 + binop_y_90956;
    int64_t bytes_90958 = (int64_t) 8 * binop_y_90957;
    int64_t binop_y_91040 = binop_x_90851 + binop_y_90855;
    int64_t binop_y_91041 = (int64_t) 1 + binop_y_91040;
    int64_t bytes_91042 = (int64_t) 8 * binop_y_91041;
    int64_t ext_91093;
    
    if (cond_61364) {
        ext_91093 = dim_54946;
    } else {
        ext_91093 = ext_91087;
    }
    
    int64_t ext_91092;
    
    if (cond_61364) {
        ext_91092 = (int64_t) 1;
    } else {
        ext_91092 = ext_91086;
    }
    
    int64_t ext_90996;
    
    if (cond_61364) {
        ext_90996 = dim_54946;
    } else {
        ext_90996 = ext_90990;
    }
    
    int64_t ext_90995;
    
    if (cond_61364) {
        ext_90995 = (int64_t) 1;
    } else {
        ext_90995 = ext_90989;
    }
    
    int64_t ext_90912;
    
    if (cond_61364) {
        ext_90912 = dim_54946;
    } else {
        ext_90912 = ext_90906;
    }
    
    int64_t ext_90911;
    
    if (cond_61364) {
        ext_90911 = (int64_t) 1;
    } else {
        ext_90911 = ext_90905;
    }
    
    int64_t maxSubHelper_95380 = umax64((int64_t) 0, binop_x_90846);
    
    if (cond_61364) {
        if (memblock_alloc_device(ctx, &mem_91091, bytes_90837, "mem_91091")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91094, &mem_91091, "mem_91091") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_96086;
        
        shared_memory_capacity_96086 = ctx->max_shared_memory;
        if (intra_suff_and_fits_74970 && sle64(sdiv_up64(maxSubHelper_95380, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96086)) {
            if (memblock_alloc_device(ctx, &mem_91085, bytes_90837, "mem_91085")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_95879 = sext_i64_i32(sdiv_up64(dim_54946, dim_54946));
            int32_t virt_num_tblocks_95880 = sext_i64_i32(dz2083U_54951);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_74974(ctx, dz2083U_54951, 1, 1, dim_54946, 1, 1, binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8) + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8)) + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8)) + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95380 + srem64((int64_t) 8 - srem64(maxSubHelper_95380, (int64_t) 8), (int64_t) 8)), dim_54946, dz2083U_54951, arg_61323, cond_61364, binop_x_90846, maxSubHelper_95380, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, xys_mem_90821.mem, mem_90834.mem, mem_91085.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_91088, &mem_91085, "mem_91085") != 0)
                return 1;
        } else {
            if (cond_61364) {
                if (memblock_alloc_device(ctx, &mem_90994, bytes_90837, "mem_90994")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_90997, &mem_90994, "mem_90994") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_96042;
                
                shared_memory_capacity_96042 = ctx->max_shared_memory;
                if (intra_suff_and_fits_75046 && sle64(sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96042)) {
                    if (memblock_alloc_device(ctx, &mem_90988, bytes_90837, "mem_90988")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_95900 = sext_i64_i32(sdiv_up64(dim_54946, dim_54946));
                    int32_t virt_num_tblocks_95901 = sext_i64_i32(dz2083U_54951);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_75050(ctx, dz2083U_54951, 1, 1, dim_54946, 1, 1, binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8) + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8)) + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8)), dim_54946, dz2083U_54951, arg_61323, cond_61364, binop_x_90846, grid_part_sizze_per_dim_mem_90816.mem, start_of_grid_partition_mem_90818.mem, xys_mem_90821.mem, mem_90988.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_90991, &mem_90988, "mem_90988") != 0)
                        return 1;
                } else {
                    if (cond_61364) {
                        if (memblock_alloc_device(ctx, &mem_90910, bytes_90837, "mem_90910")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_90913, &mem_90910, "mem_90910") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_95998;
                        
                        shared_memory_capacity_95998 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_75103 && sle64(sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90846, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_95998)) {
                            if (memblock_alloc_device(ctx, &mem_90904, bytes_90837, "mem_90904")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_95918 = sext_i64_i32(sdiv_up64(dim_54946, dim_54946));
                            int32_t virt_num_tblocks_95919 = sext_i64_i32(dz2083U_54951);
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_75107(ctx, dz2083U_54951, 1, 1, dim_54946, 1, 1, binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8) + (binop_x_90846 + srem64((int64_t) 8 - srem64(binop_x_90846, (int64_t) 8), (int64_t) 8)), dim_54946, dz2083U_54951, arg_61323, binop_x_90846, grid_part_sizze_per_dim_mem_90816.mem, start_of_grid_partition_mem_90818.mem, xys_mem_90821.mem, mem_90904.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_90907, &mem_90904, "mem_90904") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_90842, bytes_90837, "mem_90842")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_95933 = sext_i64_i32(sdiv_up64(dz2083U_54951 * dim_54946, segmap_tblock_sizze_75142));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75147(ctx, segmap_usable_groups_75143, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74506, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, start_of_grid_partition_mem_90818.mem, xys_mem_90821.mem, mem_90842.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_95944 = sext_i64_i32(sdiv_up64(dz2083U_54951 * dim_54946, segmap_tblock_sizze_75158));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75163(ctx, segmap_usable_groups_75159, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74473, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, grid_part_sizze_per_dim_mem_90816.mem, mem_90842.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_90845, bytes_90827, "mem_90845")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_95955 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75169));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75173(ctx, segmap_usable_groups_75170, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74451, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, mem_90842.mem, mem_90845.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_90848, bytes_90847, "mem_90848")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_95964 = dim_54946 * dz2083U_54951;
                            int64_t tblock_sizze_95969;
                            
                            tblock_sizze_95969 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_95969;
                            
                            int64_t virt_num_tblocks_95970 = sdiv_up64(replicate_n_95964, tblock_sizze_95969);
                            int64_t num_tblocks_95971 = smin64(virt_num_tblocks_95970, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_95965(ctx, num_tblocks_95971, 1, 1, tblock_sizze_95969, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, replicate_n_95964, virt_num_tblocks_95970, num_tblocks_95971, mem_90845.mem, mem_90848.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_90845, "mem_90845") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_90859, bytes_90858, "mem_90859")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90859.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_90848.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_90848, "mem_90848") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_90870, bytes_90858, "mem_90870")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90870.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_90842.mem, (int64_t) 0, (int64_t []) {dim_54946, (int64_t) 1}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_90842, "mem_90842") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_90888, bytes_90887, "mem_90888")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_95984 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75181));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75186(ctx, num_tblocks_75182, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74425, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, arg_61323, num_tblocks_75182, virt_num_tblocks_95984, mem_90859.mem, mem_90870.mem, mem_90888.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_90859, "mem_90859") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_90870, "mem_90870") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_90907, &mem_90888, "mem_90888") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_90913, &ext_mem_90907, "ext_mem_90907") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_90916, bytes_90827, "mem_90916")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_95999 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75202));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75206(ctx, segmap_usable_groups_75203, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74330, 1, 1, (int64_t) 0, dz2083U_54951, ext_90912, ext_mem_90913.mem, mem_90916.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_90919, bytes_90847, "mem_90919")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_96008 = dim_54946 * dz2083U_54951;
                    int64_t tblock_sizze_96013;
                    
                    tblock_sizze_96013 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96013;
                    
                    int64_t virt_num_tblocks_96014 = sdiv_up64(replicate_n_96008, tblock_sizze_96013);
                    int64_t num_tblocks_96015 = smin64(virt_num_tblocks_96014, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96009(ctx, num_tblocks_96015, 1, 1, tblock_sizze_96013, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, replicate_n_96008, virt_num_tblocks_96014, num_tblocks_96015, mem_90916.mem, mem_90919.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_90916, "mem_90916") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_90930, bytes_90858, "mem_90930")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90930.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_90919.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_90919, "mem_90919") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_90941, bytes_90858, "mem_90941")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90941.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, ext_mem_90913.mem, (int64_t) 0, (int64_t []) {ext_90912, ext_90911}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_90913, "ext_mem_90913") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_90959, bytes_90958, "mem_90959")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96028 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75214));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75219(ctx, num_tblocks_75215, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74304, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, arg_61323, num_tblocks_75215, virt_num_tblocks_96028, mem_90930.mem, mem_90941.mem, mem_90959.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_90930, "mem_90930") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_90941, "mem_90941") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_90991, &mem_90959, "mem_90959") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_90997, &ext_mem_90991, "ext_mem_90991") != 0)
                    return 1;
            }
            if (memblock_alloc_device(ctx, &mem_91000, bytes_90827, "mem_91000")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96043 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75235));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75239(ctx, segmap_usable_groups_75236, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74177, 1, 1, (int64_t) 0, dz2083U_54951, ext_90996, mem_90834.mem, ext_mem_90997.mem, mem_91000.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91003, bytes_90847, "mem_91003")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96052 = dim_54946 * dz2083U_54951;
            int64_t tblock_sizze_96057;
            
            tblock_sizze_96057 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96057;
            
            int64_t virt_num_tblocks_96058 = sdiv_up64(replicate_n_96052, tblock_sizze_96057);
            int64_t num_tblocks_96059 = smin64(virt_num_tblocks_96058, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96053(ctx, num_tblocks_96059, 1, 1, tblock_sizze_96057, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, replicate_n_96052, virt_num_tblocks_96058, num_tblocks_96059, mem_91000.mem, mem_91003.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91000, "mem_91000") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91014, bytes_90858, "mem_91014")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91014.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_91003.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91003, "mem_91003") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91025, bytes_90858, "mem_91025")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91025.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, ext_mem_90997.mem, (int64_t) 0, (int64_t []) {ext_90996, ext_90995}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_90997, "ext_mem_90997") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91043, bytes_91042, "mem_91043")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96072 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75247));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75252(ctx, num_tblocks_75248, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74148, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, arg_61323, num_tblocks_75248, virt_num_tblocks_96072, grid_partitions_per_dim_mem_90817.mem, mem_91014.mem, mem_91025.mem, mem_91043.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91014, "mem_91014") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91025, "mem_91025") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91088, &mem_91043, "mem_91043") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_91094, &ext_mem_91088, "ext_mem_91088") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_90834, "mem_90834") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91098, bytes_90837, "mem_91098")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96087 = sext_i64_i32(sdiv_up64(dz2083U_54951 * dim_54946, segmap_tblock_sizze_75276));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75281(ctx, segmap_usable_groups_75277, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73971, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, ext_91092, ext_91093, grid_part_prefix_sum_mem_90815.mem, ext_mem_91094.mem, mem_91098.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91094, "ext_mem_91094") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91109, bytes_90858, "mem_91109")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91109.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_91098.mem, (int64_t) 0, (int64_t []) {dim_54946, (int64_t) 1}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_91098, "mem_91098") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91111, (int64_t) 0, "mem_91111")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91113, bytes_90827, "mem_91113")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96098 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75287));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75292(ctx, segmap_usable_groups_75288, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73942, 1, 1, (int64_t) 0, dim_54946, dz2080U_54947, dz2083U_54951, mem_91109.mem, mem_91111.mem, mem_91113.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91109, "mem_91109") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91124, bytes_90858, "mem_91124")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91124.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, xys_mem_90821.mem, (int64_t) 0, (int64_t []) {dim_54946, (int64_t) 1}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
        goto cleanup;
    
    int64_t bytes_91128 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948;
    int64_t ext_91196;
    
    if (cond_61364) {
        ext_91196 = dim_54946;
    } else {
        ext_91196 = (int64_t) 1;
    }
    
    int64_t ext_91195;
    
    if (cond_61364) {
        ext_91195 = (int64_t) 1;
    } else {
        ext_91195 = dz2083U_54951;
    }
    
    int64_t binop_y_91188 = binop_x_90851 + binop_y_90855;
    int64_t binop_y_91189 = (int64_t) 1 + binop_y_91188;
    int64_t bytes_91190 = (int64_t) 8 * binop_y_91189;
    int64_t bytes_91199 = arg_61323 * bytes_90827;
    int64_t binop_y_91212 = arg_61323 - (int64_t) 1;
    int64_t binop_x_91213 = smax64((int64_t) 0, binop_y_91212);
    int64_t binop_y_91214 = dz2083U_54951 * binop_x_91213;
    int64_t binop_y_91215 = smax64((int64_t) 0, binop_y_91214);
    int64_t binop_y_91216 = binop_x_90851 + binop_y_91215;
    int64_t binop_y_91217 = (int64_t) 1 + binop_y_91216;
    int64_t bytes_91218 = (int64_t) 8 * binop_y_91217;
    
    if (memblock_alloc_device(ctx, &mem_91200, bytes_91199, "mem_91200")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91219, bytes_91218, "mem_91219")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91250, bytes_91199, "mem_91250")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91261, bytes_91218, "mem_91261")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_95519 = segmap_tblock_sizze_75439 * segmap_usable_groups_75440;
    int64_t total_sizze_95520 = dim_54946 * num_threads_95519;
    
    if (memblock_alloc_device(ctx, &color_95391, total_sizze_95520, "color_95391")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95521 = dim_54946 * num_threads_95519;
    
    if (memblock_alloc_device(ctx, &color_95392, total_sizze_95521, "color_95392")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_set_device(ctx, &mem_param_91127, &mem_90828, "mem_90828") != 0)
        return 1;
    for (int64_t i_61398 = 0; i_61398 < defunc_0_reduce_res_71074; i_61398++) {
        if (cond_61366) {
            if (memblock_alloc_device(ctx, &mem_91137, bytes_91128, "mem_91137")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91140, &mem_91137, "mem_91137") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91129, bytes_91128, "mem_91129")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_91129, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, defunc_0_f_res_61388) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_61405 = 0; i_61405 < distance_61374; i_61405++) {
                int64_t index_primexp_61407 = add64((int64_t) 1, i_61405);
                bool x_61408 = sle64((int64_t) 0, index_primexp_61407);
                bool y_61409 = slt64(index_primexp_61407, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948);
                bool bounds_check_61410 = x_61408 && y_61409;
                bool index_certs_61411;
                
                if (!bounds_check_61410) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61407, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:366:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_61412;
                
                if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_61412, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dim_54946, index_primexp_61407) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99360 = defunc_0_f_res_61412;
                
                if ((err = gpu_scalar_to_device(ctx, mem_91129.mem, index_primexp_61407 * sizeof(double), sizeof(double), &write_tmp_99360)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91140, &mem_91129, "mem_91129") != 0)
                return 1;
        }
        if (cond_61364) {
            if (memblock_alloc_device(ctx, &mem_91194, bytes_90837, "mem_91194")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91197, &mem_91194, "mem_91194") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91148, bytes_90837, "mem_91148")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96131 = sext_i64_i32(sdiv_up64(dz2083U_54951 * dim_54946, segmap_tblock_sizze_75307));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75312(ctx, segmap_usable_groups_75308, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73872, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, start_of_grid_partition_mem_90818.mem, mem_91111.mem, mem_91113.mem, mem_91148.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96142 = sext_i64_i32(sdiv_up64(dz2083U_54951 * dim_54946, segmap_tblock_sizze_75322));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75327(ctx, segmap_usable_groups_75323, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73846, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, xys_mem_90821.mem, mem_91148.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91151, bytes_90847, "mem_91151")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96153 = dim_54946 * dz2083U_54951;
            int64_t tblock_sizze_96158;
            
            tblock_sizze_96158 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96158;
            
            int64_t virt_num_tblocks_96159 = sdiv_up64(replicate_n_96153, tblock_sizze_96158);
            int64_t num_tblocks_96160 = smin64(virt_num_tblocks_96159, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96154(ctx, num_tblocks_96160, 1, 1, tblock_sizze_96158, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, replicate_n_96153, virt_num_tblocks_96159, num_tblocks_96160, mem_91148.mem, mem_91151.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91162, bytes_90858, "mem_91162")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91162.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_91151.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91151, "mem_91151") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91173, bytes_90858, "mem_91173")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91173.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_91148.mem, (int64_t) 0, (int64_t []) {dim_54946, (int64_t) 1}, (int64_t []) {dz2083U_54951, dim_54946})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91148, "mem_91148") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91191, bytes_91190, "mem_91191")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96173 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75344));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75349(ctx, num_tblocks_75345, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73800, 1, 1, (int64_t) 0, dim_54946, dz2083U_54951, arg_61323, num_tblocks_75345, virt_num_tblocks_96173, mem_91162.mem, mem_91173.mem, mem_91191.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91162, "mem_91162") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91173, "mem_91173") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91197, &mem_91191, "mem_91191") != 0)
                return 1;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91200, dz2083U_54951 * arg_61323, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_91244;
        int64_t ext_91243;
        int64_t ctx_param_ext_91202;
        int64_t ctx_param_ext_91203;
        
        if (memblock_set_device(ctx, &mem_param_91204, &mem_91200, "mem_91200") != 0)
            return 1;
        ctx_param_ext_91202 = arg_61323;
        ctx_param_ext_91203 = (int64_t) 1;
        for (int64_t i_75366 = 0; i_75366 < arg_61323; i_75366++) {
            bool y_75368 = slt64(i_75366, dim_54946);
            bool index_certs_75369;
            
            if (!y_75368) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_75366, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_75370 = add64((int64_t) 1, i_75366);
            int64_t j_m_i_75371 = sub64(dim_54946, map_arg1_75370);
            bool empty_slice_75372 = j_m_i_75371 == (int64_t) 0;
            int64_t m_75373 = sub64(j_m_i_75371, (int64_t) 1);
            int64_t i_p_m_t_s_75374 = add64(map_arg1_75370, m_75373);
            bool zzero_leq_i_p_m_t_s_75375 = sle64((int64_t) 0, i_p_m_t_s_75374);
            bool i_p_m_t_s_leq_w_75376 = slt64(i_p_m_t_s_75374, dim_54946);
            bool zzero_lte_i_75377 = sle64((int64_t) 0, map_arg1_75370);
            bool i_lte_j_75378 = sle64(map_arg1_75370, dim_54946);
            bool y_75379 = i_p_m_t_s_leq_w_75376 && zzero_lte_i_75377;
            bool y_75380 = zzero_leq_i_p_m_t_s_75375 && y_75379;
            bool forwards_ok_75381 = i_lte_j_75378 && y_75380;
            bool ok_or_empty_75382 = empty_slice_75372 || forwards_ok_75381;
            bool index_certs_75383;
            
            if (!ok_or_empty_75382) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_75370, ":", (long long) dim_54946, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:366:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:737:10-13\n   #4  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_91207 = j_m_i_75371 * bytes_90827;
            int64_t binop_x_91224 = smax64((int64_t) 0, m_75373);
            int64_t binop_y_91225 = dz2083U_54951 * binop_x_91224;
            int64_t binop_y_91226 = smax64((int64_t) 0, binop_y_91225);
            int64_t binop_y_91227 = binop_x_90851 + binop_y_91226;
            int64_t binop_y_91228 = (int64_t) 1 + binop_y_91227;
            int64_t bytes_91229 = (int64_t) 8 * binop_y_91228;
            int64_t binop_y_91239 = binop_x_90851 + binop_y_91215;
            int64_t binop_y_91240 = (int64_t) 1 + binop_y_91239;
            int64_t bytes_91241 = (int64_t) 8 * binop_y_91240;
            int64_t nest_sizze_75391 = dz2083U_54951 * j_m_i_75371;
            int64_t segmap_usable_groups_75393 = sdiv_up64(nest_sizze_75391, segmap_tblock_sizze_75392);
            
            if (memblock_alloc_device(ctx, &mem_91208, bytes_91207, "mem_91208")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96191 = sext_i64_i32(sdiv_up64(dz2083U_54951 * j_m_i_75371, segmap_tblock_sizze_75392));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75397(ctx, segmap_usable_groups_75393, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73717, 1, 1, (int64_t) 0, dz2083U_54951, map_arg1_75370, j_m_i_75371, ext_91195, ext_91196, ext_mem_91197.mem, mem_91208.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91219.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_param_91204.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_91202, ctx_param_ext_91203}, (int64_t []) {dz2083U_54951, arg_61323})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_91230, bytes_91229, "mem_91230")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91230.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_91208.mem, (int64_t) 0, (int64_t []) {j_m_i_75371, (int64_t) 1}, (int64_t []) {dz2083U_54951, j_m_i_75371})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91208, "mem_91208") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91242, bytes_91241, "mem_91242")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96202 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75402));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75407(ctx, num_tblocks_75403, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73686, 1, 1, (int64_t) 0, dz2083U_54951, arg_61323, i_75366, j_m_i_75371, num_tblocks_75403, ext_91195, ext_91196, virt_num_tblocks_96202, ext_mem_91197.mem, mem_91219.mem, mem_91230.mem, mem_91242.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91230, "mem_91230") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_96187, &mem_91242, "mem_91242") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_96188 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_96189 = dz2083U_54951;
            
            if (memblock_set_device(ctx, &mem_param_91204, &mem_param_tmp_96187, "mem_param_tmp_96187") != 0)
                return 1;
            ctx_param_ext_91202 = ctx_param_ext_tmp_96188;
            ctx_param_ext_91203 = ctx_param_ext_tmp_96189;
        }
        if (memblock_set_device(ctx, &ext_mem_91246, &mem_param_91204, "mem_param_91204") != 0)
            return 1;
        ext_91244 = ctx_param_ext_91202;
        ext_91243 = ctx_param_ext_91203;
        if (memblock_unref_device(ctx, &ext_mem_91197, "ext_mem_91197") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96216 = sext_i64_i32(sdiv_up64(dz2083U_54951 * arg_61323, segmap_tblock_sizze_75426));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75431(ctx, segmap_usable_groups_75427, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73650, 1, 1, (int64_t) 0, dz2083U_54951, arg_61323, ext_91243, ext_91244, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, ext_mem_91140.mem, ext_mem_91246.mem, mem_91250.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91140, "ext_mem_91140") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91246, "ext_mem_91246") != 0)
            return 1;
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91261.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54951}, mem_91250.mem, (int64_t) 0, (int64_t []) {arg_61323, (int64_t) 1}, (int64_t []) {dz2083U_54951, arg_61323})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_91286, bytes_90827, "mem_91286")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96227 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75439));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75443(ctx, segmap_usable_groups_75440, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73535, 1, 1, (int64_t) 0, dim_54946, dz2082U_54950, dz2083U_54951, total_angle_no_54958, arg_61323, cond_61364, protect_assert_disj_61381, protect_assert_disj_61393, i_61398, x_69517, num_threads_95519, part_idx_mem_90820.mem, xys_mem_90821.mem, mem_90826.mem, mem_91113.mem, mem_91124.mem, mem_param_91127.mem, mem_91261.mem, mem_91286.mem, color_95391.mem, color_95392.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &mem_param_tmp_96108, &mem_91286, "mem_91286") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_91127, &mem_param_tmp_96108, "mem_param_tmp_96108") != 0)
            return 1;
    }
    if (memblock_set_device(ctx, &ext_mem_91289, &mem_param_91127, "mem_param_91127") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_90826, "mem_90826") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_90828, "mem_90828") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91111, "mem_91111") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91113, "mem_91113") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91124, "mem_91124") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91200, "mem_91200") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91219, "mem_91219") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91250, "mem_91250") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91261, "mem_91261") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95391, "color_95391") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95392, "color_95392") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91292, bytes_90827, "mem_91292")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91294, bytes_90827, "mem_91294")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dz2083U_54951)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_96243;
        
        shared_memory_96243 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_96244;
        
        thread_block_sizze_96244 = ctx->max_thread_block_size;
        
        int64_t registers_96245;
        
        registers_96245 = ctx->max_registers;
        
        int64_t thread_block_sizze_96246;
        
        thread_block_sizze_96246 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_96247 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_96243, thread_block_sizze_96244), (int64_t) 8), squot64(squot64(registers_96245, thread_block_sizze_96246) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_96248 = sdiv_up64(dz2083U_54951, segscan_tblock_sizze_75542 * chunk_sizze_96247);
        int64_t num_virt_threads_96249 = num_virt_blocks_96248 * segscan_tblock_sizze_75542;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_96247, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_96250, num_virt_blocks_96248, "status_flags_mem_96250")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_96250, num_virt_blocks_96248, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_96272, (int64_t) 8 * num_virt_blocks_96248, "aggregates_mem_96272")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_96274, (int64_t) 8 * num_virt_blocks_96248, "incprefixes_mem_96274")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_75547(ctx, num_tblocks_75544, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75541, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75542), chunk_sizze_96247 * segscan_tblock_sizze_75542 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75542), chunk_sizze_96247 * segscan_tblock_sizze_75542 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dz2083U_54951, num_tblocks_75544, num_virt_blocks_96248, num_virt_threads_96249, ext_mem_91289.mem, mem_91292.mem, mem_91294.mem, status_flags_mem_96250.mem, aggregates_mem_96272.mem, incprefixes_mem_96274.mem, global_dynid_mem_96276.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t m_f_res_61671;
    
    if (x_61664) {
        int64_t read_res_99361;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99361, mem_91292.mem, tmp_61665 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_70796 = read_res_99361;
        
        m_f_res_61671 = x_70796;
    } else {
        m_f_res_61671 = (int64_t) 0;
    }
    
    int64_t m_61673;
    
    if (cond_61663) {
        m_61673 = (int64_t) 0;
    } else {
        m_61673 = m_f_res_61671;
    }
    
    int64_t m_61683 = sub64(m_61673, (int64_t) 1);
    bool i_p_m_t_s_leq_w_61685 = slt64(m_61683, dz2083U_54951);
    bool zzero_leq_i_p_m_t_s_61684 = sle64((int64_t) 0, m_61683);
    bool y_61687 = zzero_leq_i_p_m_t_s_61684 && i_p_m_t_s_leq_w_61685;
    bool i_lte_j_61686 = sle64((int64_t) 0, m_61673);
    bool forwards_ok_61688 = i_lte_j_61686 && y_61687;
    bool eq_x_zz_61680 = (int64_t) 0 == m_f_res_61671;
    bool p_and_eq_x_y_61681 = x_61664 && eq_x_zz_61680;
    bool empty_slice_61682 = cond_61663 || p_and_eq_x_y_61681;
    bool ok_or_empty_61689 = empty_slice_61682 || forwards_ok_61688;
    bool index_certs_61690;
    
    if (!ok_or_empty_61689) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_61673, "] out of bounds for array of shape [", (long long) dz2083U_54951, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91295 = (int64_t) 8 * m_61673;
    int64_t bytes_91302 = dim_54946 * bytes_91295;
    bool protect_assert_disj_94449 = assert_cond_61324 || empty_slice_61682;
    bool empty_or_match_cert_61865;
    
    if (!protect_assert_disj_94449) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_61881 = slt64(m_61673, (int64_t) 1);
    bool valid_61882 = !bounds_invalid_upwards_61881;
    bool protect_assert_disj_94451 = empty_slice_61682 || valid_61882;
    bool range_valid_c_61883;
    
    if (!protect_assert_disj_94451) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) m_61673, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_61884 = slt64((int64_t) 0, m_61683);
    bool loop_not_taken_61885 = !loop_nonempty_61884;
    bool protect_assert_disj_61888 = assert_cond_61324 || loop_not_taken_61885;
    bool protect_assert_disj_94453 = empty_slice_61682 || protect_assert_disj_61888;
    bool empty_or_match_cert_61889;
    
    if (!protect_assert_disj_94453) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_75552;
    
    segmap_tblock_sizze_75552 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551;
    
    int64_t num_tblocks_75554;
    int64_t max_num_tblocks_96365;
    
    max_num_tblocks_96365 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_75553;
    num_tblocks_75554 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75552), max_num_tblocks_96365)));
    
    int64_t segmap_tblock_sizze_75597;
    
    segmap_tblock_sizze_75597 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586;
    
    int64_t segmap_tblock_sizze_75609;
    
    segmap_tblock_sizze_75609 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574;
    
    int64_t segmap_tblock_sizze_75619;
    
    segmap_tblock_sizze_75619 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560;
    if (memblock_alloc_device(ctx, &mem_90833, bytes_90832, "mem_90833")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_90833, total_part_no_54960, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_75873;
    
    seghist_tblock_sizze_75873 = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872;
    
    int64_t segscan_tblock_sizze_75888;
    
    segscan_tblock_sizze_75888 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887;
    
    int64_t num_tblocks_75890;
    int64_t max_num_tblocks_96366;
    
    max_num_tblocks_96366 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_75889;
    num_tblocks_75890 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_54960, segscan_tblock_sizze_75888), max_num_tblocks_96366)));
    
    int64_t segmap_tblock_sizze_75909;
    
    segmap_tblock_sizze_75909 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897;
    
    int64_t segmap_usable_groups_75910 = sdiv_up64(total_part_no_54960, segmap_tblock_sizze_75909);
    
    if (memblock_alloc_device(ctx, &mem_91296, bytes_91295, "mem_91296")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_91296.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_91289.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_61673})) != 0)
        goto cleanup;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96367 = sext_i64_i32(sdiv_up64(dz2083U_54951, segmap_tblock_sizze_75552));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75549(ctx, num_tblocks_75554, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75551, 1, 1, (int64_t) 0, dz2083U_54951, m_61673, num_tblocks_75554, virt_num_tblocks_96367, ext_mem_91289.mem, mem_91292.mem, mem_91294.mem, mem_91296.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91289, "ext_mem_91289") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91292, "mem_91292") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91294, "mem_91294") != 0)
        return 1;
    
    int64_t segmap_usable_groups_75598 = sdiv_up64(m_61673, segmap_tblock_sizze_75597);
    
    if (memblock_alloc_device(ctx, &mem_91299, (int64_t) 0, "mem_91299")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96380 = sext_i64_i32(sdiv_up64(m_61673, segmap_tblock_sizze_75597));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75601(ctx, segmap_usable_groups_75598, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75586, 1, 1, (int64_t) 0, dz2083U_54951, m_61673, mem_91296.mem, mem_91299.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t nest_sizze_75608 = dim_54946 * m_61673;
    int64_t segmap_usable_groups_75610 = sdiv_up64(nest_sizze_75608, segmap_tblock_sizze_75609);
    
    if (memblock_alloc_device(ctx, &mem_91303, bytes_91302, "mem_91303")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96389 = sext_i64_i32(sdiv_up64(m_61673 * dim_54946, segmap_tblock_sizze_75609));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75614(ctx, segmap_usable_groups_75610, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75574, 1, 1, (int64_t) 0, dim_54946, m_61673, xys_mem_90821.mem, mem_91296.mem, mem_91299.mem, mem_91303.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_usable_groups_75620 = sdiv_up64(m_61673, segmap_tblock_sizze_75619);
    
    if (memblock_alloc_device(ctx, &mem_91306, bytes_91295, "mem_91306")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96400 = sext_i64_i32(sdiv_up64(m_61673, segmap_tblock_sizze_75619));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75623(ctx, segmap_usable_groups_75620, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75560, 1, 1, (int64_t) 0, m_61673, xys_mem_90822.mem, mem_91296.mem, mem_91299.mem, mem_91306.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91296, "mem_91296") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91299, "mem_91299") != 0)
        return 1;
    
    int64_t bytes_91369 = (int64_t) 8 * arg_61323;
    
    if (empty_slice_61682) {
        if (memblock_alloc_device(ctx, &mem_91567, bytes_91295, "mem_91567")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91570, &mem_91567, "mem_91567") != 0)
            return 1;
    } else {
        bool y_61710 = slt64((int64_t) 0, m_61673);
        bool index_certs_61711;
        
        if (!y_61710) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) m_61673, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_61713;
        
        if (!y_61360) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_54947, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_61768;
        
        if (!protect_assert_disj_61393) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54946, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_61854;
        
        if (!protect_assert_disj_61390) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_61886 = y_61360 || loop_not_taken_61885;
        bool index_certs_61887;
        
        if (!protect_assert_disj_61886) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_54947, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_61890 = protect_assert_disj_61381 || loop_not_taken_61885;
        bool index_certs_61891;
        
        if (!protect_assert_disj_61890) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_61892;
        
        if (!protect_assert_disj_61890) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_61893 = protect_assert_disj_61377 || loop_not_taken_61885;
        bool index_certs_61894;
        
        if (!protect_assert_disj_61893) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_61895 = protect_assert_disj_61393 || loop_not_taken_61885;
        bool range_valid_c_61896;
        
        if (!protect_assert_disj_61895) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54946, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_61897;
        
        if (!protect_assert_disj_61895) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54946, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_61901 = protect_assert_disj_61390 || loop_not_taken_61885;
        bool range_valid_c_61902;
        
        if (!protect_assert_disj_61901) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_69416;
        
        if (!protect_assert_disj_61890) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_61804;
        
        if (!protect_assert_disj_61393) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54946, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (cond_61364) {
            if (memblock_alloc_device(ctx, &mem_91354, binop_x_90846, "mem_91354")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91357, &mem_91354, "mem_91354") != 0)
                return 1;
        } else {
            bool index_certs_61764;
            
            if (!y_61375) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_69394;
            
            if (!y_61375) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t segmap_tblock_sizze_75639;
            
            segmap_tblock_sizze_75639 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
            
            int64_t segmap_usable_groups_75640 = sdiv_up64(dim_54946, segmap_tblock_sizze_75639);
            
            if (memblock_alloc_device(ctx, &mem_91312, binop_x_90846, "mem_91312")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96409 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75639));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75643(ctx, segmap_usable_groups_75640, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75630, 1, 1, (int64_t) 0, dim_54946, start_of_grid_partition_mem_90818.mem, mem_91303.mem, mem_91312.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_tblock_sizze_75659;
            
            segmap_tblock_sizze_75659 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650;
            
            int64_t segmap_usable_groups_75660 = sdiv_up64(dim_54946, segmap_tblock_sizze_75659);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96418 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75659));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75663(ctx, segmap_usable_groups_75660, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75650, 1, 1, (int64_t) 0, dim_54946, grid_part_sizze_per_dim_mem_90816.mem, mem_91312.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (cond_61364) {
                if (memblock_alloc_device(ctx, &mem_91339, binop_x_90846, "mem_91339")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91342, &mem_91339, "mem_91339") != 0)
                    return 1;
            } else {
                if (cond_61364) {
                    if (memblock_alloc_device(ctx, &mem_91324, binop_x_90846, "mem_91324")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_91327, &mem_91324, "mem_91324") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_91313, (int64_t) 8, "mem_91313")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96427(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91312.mem, mem_91313.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_91315, binop_x_90846, "mem_91315")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_96433 = dim_54946;
                    int64_t tblock_sizze_96438;
                    
                    tblock_sizze_96438 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96438;
                    
                    int64_t virt_num_tblocks_96439 = sdiv_up64(replicate_n_96433, tblock_sizze_96438);
                    int64_t num_tblocks_96440 = smin64(virt_num_tblocks_96439, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96434(ctx, num_tblocks_96440, 1, 1, tblock_sizze_96438, 1, 1, (int64_t) 0, dim_54946, replicate_n_96433, virt_num_tblocks_96439, num_tblocks_96440, mem_91313.mem, mem_91315.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_91313, "mem_91313") != 0)
                        return 1;
                    for (int64_t i_61732 = 0; i_61732 < arg_61323; i_61732++) {
                        int64_t index_primexp_61734 = add64((int64_t) 1, i_61732);
                        bool x_61735 = sle64((int64_t) 0, index_primexp_61734);
                        bool y_61736 = slt64(index_primexp_61734, dim_54946);
                        bool bounds_check_61737 = x_61735 && y_61736;
                        bool index_certs_61738;
                        
                        if (!bounds_check_61737) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61734, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96454(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61734, mem_91312.mem, mem_91315.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_set_device(ctx, &ext_mem_91327, &mem_91315, "mem_91315") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_91328, (int64_t) 8, "mem_91328")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96460(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_91327.mem, mem_91328.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_91330, binop_x_90846, "mem_91330")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_96466 = dim_54946;
                int64_t tblock_sizze_96471;
                
                tblock_sizze_96471 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96471;
                
                int64_t virt_num_tblocks_96472 = sdiv_up64(replicate_n_96466, tblock_sizze_96471);
                int64_t num_tblocks_96473 = smin64(virt_num_tblocks_96472, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96467(ctx, num_tblocks_96473, 1, 1, tblock_sizze_96471, 1, 1, (int64_t) 0, dim_54946, replicate_n_96466, virt_num_tblocks_96472, num_tblocks_96473, mem_91328.mem, mem_91330.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_91328, "mem_91328") != 0)
                    return 1;
                for (int64_t i_61751 = 0; i_61751 < arg_61323; i_61751++) {
                    int64_t index_primexp_61753 = add64((int64_t) 1, i_61751);
                    bool x_61754 = sle64((int64_t) 0, index_primexp_61753);
                    bool y_61755 = slt64(index_primexp_61753, dim_54946);
                    bool bounds_check_61756 = x_61754 && y_61755;
                    bool index_certs_61757;
                    
                    if (!bounds_check_61756) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61753, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96487(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61753, ext_mem_91327.mem, mem_91330.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_91327, "ext_mem_91327") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91342, &mem_91330, "mem_91330") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_91312, "mem_91312") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91343, (int64_t) 8, "mem_91343")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96493(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, ext_mem_91342.mem, mem_91343.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91345, binop_x_90846, "mem_91345")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96499 = dim_54946;
            int64_t tblock_sizze_96504;
            
            tblock_sizze_96504 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96504;
            
            int64_t virt_num_tblocks_96505 = sdiv_up64(replicate_n_96499, tblock_sizze_96504);
            int64_t num_tblocks_96506 = smin64(virt_num_tblocks_96505, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96500(ctx, num_tblocks_96506, 1, 1, tblock_sizze_96504, 1, 1, (int64_t) 0, dim_54946, replicate_n_96499, virt_num_tblocks_96505, num_tblocks_96506, mem_91343.mem, mem_91345.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91343, "mem_91343") != 0)
                return 1;
            for (int64_t i_61770 = 0; i_61770 < arg_61323; i_61770++) {
                int64_t index_primexp_61772 = add64((int64_t) 1, i_61770);
                bool x_61773 = sle64((int64_t) 0, index_primexp_61772);
                bool y_61774 = slt64(index_primexp_61772, dim_54946);
                bool bounds_check_61775 = x_61773 && y_61774;
                bool index_certs_61776;
                
                if (!bounds_check_61775) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61772, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_certs_69405;
                
                if (!bounds_check_61775) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61772, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96520(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61772, grid_partitions_per_dim_mem_90817.mem, ext_mem_91342.mem, mem_91345.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
            if (memblock_unref_device(ctx, &ext_mem_91342, "ext_mem_91342") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91357, &mem_91345, "mem_91345") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_75679;
        
        segmap_tblock_sizze_75679 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670;
        
        int64_t segmap_usable_groups_75680 = sdiv_up64(dim_54946, segmap_tblock_sizze_75679);
        
        if (memblock_alloc_device(ctx, &mem_91360, binop_x_90846, "mem_91360")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96526 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75679));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75683(ctx, segmap_usable_groups_75680, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75670, 1, 1, (int64_t) 0, dim_54946, grid_part_prefix_sum_mem_90815.mem, ext_mem_91357.mem, mem_91360.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91357, "ext_mem_91357") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91361, (int64_t) 8, "mem_91361")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91361, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &mem_param_91364, &mem_91361, "mem_91361") != 0)
            return 1;
        for (int64_t i_61785 = 0; i_61785 < dim_54946; i_61785++) {
            if (memblock_alloc_device(ctx, &mem_91365, (int64_t) 8, "mem_91365")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96537(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_61785, mem_91360.mem, mem_param_91364.mem, mem_91365.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_96535, &mem_91365, "mem_91365") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91364, &mem_param_tmp_96535, "mem_param_tmp_96535") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_91368, &mem_param_91364, "mem_param_91364") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91360, "mem_91360") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91426, bytes_91369, "mem_91426")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91426, arg_61323, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t segmap_tblock_sizze_75718;
        
        segmap_tblock_sizze_75718 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710;
        if (memblock_alloc_device(ctx, &mem_91371, (int64_t) 8, "mem_91371")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91371, (int64_t) 1, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (cond_61366) {
            if (memblock_alloc_device(ctx, &mem_91381, bytes_91128, "mem_91381")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91384, &mem_91381, "mem_91381") != 0)
                return 1;
        } else {
            bool index_certs_61851;
            
            if (!y_61372) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_61852;
            
            if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_61852, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dim_54946, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91373, bytes_91128, "mem_91373")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_91373, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, defunc_0_f_res_61852) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_61856 = 0; i_61856 < distance_61374; i_61856++) {
                int64_t index_primexp_61858 = add64((int64_t) 1, i_61856);
                bool x_61859 = sle64((int64_t) 0, index_primexp_61858);
                bool y_61860 = slt64(index_primexp_61858, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948);
                bool bounds_check_61861 = x_61859 && y_61860;
                bool index_certs_61862;
                
                if (!bounds_check_61861) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61858, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_61863;
                
                if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_61863, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dim_54946, index_primexp_61858) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99362 = defunc_0_f_res_61863;
                
                if ((err = gpu_scalar_to_device(ctx, mem_91373.mem, index_primexp_61858 * sizeof(double), sizeof(double), &write_tmp_99362)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91384, &mem_91373, "mem_91373") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_75739;
        
        segmap_tblock_sizze_75739 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728;
        
        int64_t segmap_usable_groups_75740 = sdiv_up64(arg_61323, segmap_tblock_sizze_75739);
        bool protect_cond_conj_61898 = x_61386 && loop_nonempty_61884;
        double defunc_0_f_res_61899;
        
        if (protect_cond_conj_61898) {
            double x_70945;
            
            if (futrts_lifted_lambda_10057(ctx, &x_70945, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dim_54946, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            defunc_0_f_res_61899 = x_70945;
        } else {
            defunc_0_f_res_61899 = 0.0;
        }
        
        bool protect_cond_conj_69516 = loop_nonempty_61884 && x_69517;
        
        if (protect_cond_conj_69516) {
            if (memblock_alloc_device(ctx, &mem_91385, (int64_t) 8, "mem_91385")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96544(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_91385.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91386, &mem_91385, "mem_91385") != 0)
                return 1;
        } else if (memblock_set_device(ctx, &ext_mem_91386, &mem_91361, "mem_91361") != 0)
            return 1;
        
        int64_t segmap_tblock_sizze_75761;
        
        segmap_tblock_sizze_75761 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752;
        
        int64_t segmap_tblock_sizze_75781;
        
        segmap_tblock_sizze_75781 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772;
        
        int64_t segmap_tblock_sizze_75801;
        
        segmap_tblock_sizze_75801 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792;
        
        int64_t segmap_usable_groups_75802 = sdiv_up_safe64(dim_54946, segmap_tblock_sizze_75801);
        int64_t segmap_tblock_sizze_75821;
        
        segmap_tblock_sizze_75821 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812;
        
        int64_t segmap_tblock_sizze_75840;
        
        segmap_tblock_sizze_75840 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832;
        
        int64_t segmap_tblock_sizze_75861;
        
        segmap_tblock_sizze_75861 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850;
        
        int64_t segmap_usable_groups_75862 = sdiv_up_safe64(arg_61323, segmap_tblock_sizze_75861);
        int64_t segmap_usable_groups_75762 = sdiv_up_safe64(dim_54946, segmap_tblock_sizze_75761);
        int64_t segmap_usable_groups_75782 = sdiv_up_safe64(dim_54946, segmap_tblock_sizze_75781);
        int64_t segmap_usable_groups_75822 = sdiv_up_safe64(dim_54946, segmap_tblock_sizze_75821);
        
        if (memblock_alloc_device(ctx, &mem_91387, (int64_t) 0, "mem_91387")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91388, (int64_t) 8, "mem_91388")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91389, (int64_t) 8, "mem_91389")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96550(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_54947, total_angle_no_54958, ext_mem_91368.mem, ext_mem_91386.mem, mem_91387.mem, mem_91388.mem, mem_91389.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (memblock_unref_device(ctx, &ext_mem_91386, "ext_mem_91386") != 0)
            return 1;
        if (cond_61364) {
            if (memblock_alloc_device(ctx, &mem_91403, binop_x_90846, "mem_91403")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91406, &mem_91403, "mem_91403") != 0)
                return 1;
        } else {
            bool index_certs_61801;
            
            if (!y_61375) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_61792 = 0;
            int64_t segmap_tblock_sizze_75699;
            
            segmap_tblock_sizze_75699 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690;
            
            int64_t segmap_usable_groups_75700 = sdiv_up64(dim_54946, segmap_tblock_sizze_75699);
            
            if (memblock_alloc_device(ctx, &mem_91392, binop_x_90846, "mem_91392")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96556 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75699));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75703(ctx, segmap_usable_groups_75700, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75690, 1, 1, (int64_t) 0, dim_54946, start_of_grid_partition_mem_90818.mem, mem_91303.mem, ext_mem_91368.mem, mem_91392.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91393, (int64_t) 8, "mem_91393")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96565(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91392.mem, mem_91393.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91395, binop_x_90846, "mem_91395")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96571 = dim_54946;
            int64_t tblock_sizze_96576;
            
            tblock_sizze_96576 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96576;
            
            int64_t virt_num_tblocks_96577 = sdiv_up64(replicate_n_96571, tblock_sizze_96576);
            int64_t num_tblocks_96578 = smin64(virt_num_tblocks_96577, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96572(ctx, num_tblocks_96578, 1, 1, tblock_sizze_96576, 1, 1, (int64_t) 0, dim_54946, replicate_n_96571, virt_num_tblocks_96577, num_tblocks_96578, mem_91393.mem, mem_91395.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91393, "mem_91393") != 0)
                return 1;
            for (int64_t i_61806 = 0; i_61806 < arg_61323; i_61806++) {
                int64_t index_primexp_61808 = add64((int64_t) 1, i_61806);
                bool x_61809 = sle64((int64_t) 0, index_primexp_61808);
                bool y_61810 = slt64(index_primexp_61808, dim_54946);
                bool bounds_check_61811 = x_61809 && y_61810;
                bool index_certs_61812;
                
                if (!bounds_check_61811) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61808, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_91395.mem, index_primexp_61808, (int64_t []) {(int64_t) 1}, mem_91392.mem, index_primexp_61808, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91392, "mem_91392") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91406, &mem_91395, "mem_91395") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_91368, "ext_mem_91368") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91387, "mem_91387") != 0)
            return 1;
        for (int64_t i_61817 = 0; i_61817 < arg_61323; i_61817++) {
            bool y_61819 = slt64(i_61817, dim_54946);
            bool index_certs_61820;
            
            if (!y_61819) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_61817, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_61822 = add64((int64_t) 1, i_61817);
            int64_t j_m_i_61823 = sub64(dim_54946, map_arg1_61822);
            bool empty_slice_61824 = j_m_i_61823 == (int64_t) 0;
            int64_t m_61825 = sub64(j_m_i_61823, (int64_t) 1);
            int64_t i_p_m_t_s_61826 = add64(map_arg1_61822, m_61825);
            bool zzero_leq_i_p_m_t_s_61827 = sle64((int64_t) 0, i_p_m_t_s_61826);
            bool i_p_m_t_s_leq_w_61828 = slt64(i_p_m_t_s_61826, dim_54946);
            bool zzero_lte_i_61829 = sle64((int64_t) 0, map_arg1_61822);
            bool i_lte_j_61830 = sle64(map_arg1_61822, dim_54946);
            bool y_61831 = i_p_m_t_s_leq_w_61828 && zzero_lte_i_61829;
            bool y_61832 = zzero_leq_i_p_m_t_s_61827 && y_61831;
            bool forwards_ok_61833 = i_lte_j_61830 && y_61832;
            bool ok_or_empty_61834 = empty_slice_61824 || forwards_ok_61833;
            bool index_certs_61835;
            
            if (!ok_or_empty_61834) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_61822, ":", (long long) dim_54946, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_91411 = (int64_t) 8 * j_m_i_61823;
            int64_t segmap_usable_groups_75719 = sdiv_up64(j_m_i_61823, segmap_tblock_sizze_75718);
            
            if (memblock_alloc_device(ctx, &mem_91412, bytes_91411, "mem_91412")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96593 = sext_i64_i32(sdiv_up64(j_m_i_61823, segmap_tblock_sizze_75718));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75722(ctx, segmap_usable_groups_75719, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75710, 1, 1, (int64_t) 0, map_arg1_61822, j_m_i_61823, ext_mem_91406.mem, mem_91412.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &mem_param_91415, &mem_91371, "mem_91371") != 0)
                return 1;
            for (int64_t i_61841 = 0; i_61841 < j_m_i_61823; i_61841++) {
                if (memblock_alloc_device(ctx, &mem_91416, (int64_t) 8, "mem_91416")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96604(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_61841, mem_91412.mem, mem_param_91415.mem, mem_91416.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_96602, &mem_91416, "mem_91416") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_91415, &mem_param_tmp_96602, "mem_param_tmp_96602") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_91419, &mem_param_91415, "mem_param_91415") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91412, "mem_91412") != 0)
                return 1;
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96610(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_61817, ext_mem_91406.mem, ext_mem_91419.mem, mem_91426.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_91419, "ext_mem_91419") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_91406, "ext_mem_91406") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96616 = sext_i64_i32(sdiv_up64(arg_61323, segmap_tblock_sizze_75739));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75743(ctx, segmap_usable_groups_75740, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75728, 1, 1, (int64_t) 0, arg_61323, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, ext_mem_91384.mem, mem_91426.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91384, "ext_mem_91384") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_91429, &mem_91361, "mem_91361") != 0)
            return 1;
        for (int64_t i_61874 = 0; i_61874 < arg_61323; i_61874++) {
            if (memblock_alloc_device(ctx, &mem_91430, (int64_t) 8, "mem_91430")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96627(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_61874, mem_91426.mem, mem_param_91429.mem, mem_91430.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_96625, &mem_91430, "mem_91430") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91429, &mem_param_tmp_96625, "mem_param_tmp_96625") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_91433, &mem_param_91429, "mem_param_91429") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91426, "mem_91426") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91434, (int64_t) 8, "mem_91434")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96633(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91388.mem, ext_mem_91433.mem, mem_91434.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_91388, "mem_91388") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91433, "ext_mem_91433") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91436, bytes_91295, "mem_91436")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_96639 = m_61673;
        int64_t tblock_sizze_96644;
        
        tblock_sizze_96644 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96644;
        
        int64_t virt_num_tblocks_96645 = sdiv_up64(replicate_n_96639, tblock_sizze_96644);
        int64_t num_tblocks_96646 = smin64(virt_num_tblocks_96645, (int64_t) 1048576);
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96640(ctx, num_tblocks_96646, 1, 1, tblock_sizze_96644, 1, 1, (int64_t) 0, m_61673, replicate_n_96639, virt_num_tblocks_96645, num_tblocks_96646, mem_91434.mem, mem_91436.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_91434, "mem_91434") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91493, binop_x_90846, "mem_91493")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91502, bytes_91369, "mem_91502")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91516, (int64_t) 0, "mem_91516")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91517, (int64_t) 8, "mem_91517")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91554, bytes_91369, "mem_91554")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_61904 = 0; i_61904 < m_61683; i_61904++) {
            int64_t index_primexp_61906 = add64((int64_t) 1, i_61904);
            bool x_61907 = sle64((int64_t) 0, index_primexp_61906);
            bool y_61908 = slt64(index_primexp_61906, m_61673);
            bool bounds_check_61909 = x_61907 && y_61908;
            bool index_certs_61910;
            
            if (!bounds_check_61909) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61906, "] out of bounds for array of shape [", (long long) m_61673, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:737:10-13\n   #3  ftSkyline.fut:735:1-739:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (cond_61364) {
                if (memblock_alloc_device(ctx, &mem_91487, binop_x_90846, "mem_91487")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91490, &mem_91487, "mem_91487") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_91445, binop_x_90846, "mem_91445")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96660 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75761));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75765(ctx, segmap_usable_groups_75762, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75752, 1, 1, (int64_t) 0, dim_54946, index_primexp_61906, start_of_grid_partition_mem_90818.mem, mem_91303.mem, mem_91445.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96669 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75781));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75785(ctx, segmap_usable_groups_75782, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75772, 1, 1, (int64_t) 0, dim_54946, grid_part_sizze_per_dim_mem_90816.mem, mem_91445.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (cond_61364) {
                    if (memblock_alloc_device(ctx, &mem_91472, binop_x_90846, "mem_91472")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_91475, &mem_91472, "mem_91472") != 0)
                        return 1;
                } else {
                    if (cond_61364) {
                        if (memblock_alloc_device(ctx, &mem_91457, binop_x_90846, "mem_91457")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_91460, &mem_91457, "mem_91457") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_91446, (int64_t) 8, "mem_91446")) {
                            err = 1;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96678(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91445.mem, mem_91446.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_91448, binop_x_90846, "mem_91448")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96684 = dim_54946;
                        int64_t tblock_sizze_96689;
                        
                        tblock_sizze_96689 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96689;
                        
                        int64_t virt_num_tblocks_96690 = sdiv_up64(replicate_n_96684, tblock_sizze_96689);
                        int64_t num_tblocks_96691 = smin64(virt_num_tblocks_96690, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96685(ctx, num_tblocks_96691, 1, 1, tblock_sizze_96689, 1, 1, (int64_t) 0, dim_54946, replicate_n_96684, virt_num_tblocks_96690, num_tblocks_96691, mem_91446.mem, mem_91448.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_91446, "mem_91446") != 0)
                            return 1;
                        for (int64_t i_61926 = 0; i_61926 < arg_61323; i_61926++) {
                            int64_t index_primexp_61928 = add64((int64_t) 1, i_61926);
                            bool x_61929 = sle64((int64_t) 0, index_primexp_61928);
                            bool y_61930 = slt64(index_primexp_61928, dim_54946);
                            bool bounds_check_61931 = x_61929 && y_61930;
                            bool index_certs_61932;
                            
                            if (!bounds_check_61931) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61928, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96705(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61928, mem_91445.mem, mem_91448.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                        }
                        if (memblock_set_device(ctx, &ext_mem_91460, &mem_91448, "mem_91448") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_91461, (int64_t) 8, "mem_91461")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96711(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_91460.mem, mem_91461.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_91463, binop_x_90846, "mem_91463")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_96717 = dim_54946;
                    int64_t tblock_sizze_96722;
                    
                    tblock_sizze_96722 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96722;
                    
                    int64_t virt_num_tblocks_96723 = sdiv_up64(replicate_n_96717, tblock_sizze_96722);
                    int64_t num_tblocks_96724 = smin64(virt_num_tblocks_96723, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96718(ctx, num_tblocks_96724, 1, 1, tblock_sizze_96722, 1, 1, (int64_t) 0, dim_54946, replicate_n_96717, virt_num_tblocks_96723, num_tblocks_96724, mem_91461.mem, mem_91463.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_91461, "mem_91461") != 0)
                        return 1;
                    for (int64_t i_61942 = 0; i_61942 < arg_61323; i_61942++) {
                        int64_t index_primexp_61944 = add64((int64_t) 1, i_61942);
                        bool x_61945 = sle64((int64_t) 0, index_primexp_61944);
                        bool y_61946 = slt64(index_primexp_61944, dim_54946);
                        bool bounds_check_61947 = x_61945 && y_61946;
                        bool index_certs_61948;
                        
                        if (!bounds_check_61947) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61944, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96738(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61944, ext_mem_91460.mem, mem_91463.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_unref_device(ctx, &ext_mem_91460, "ext_mem_91460") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_91475, &mem_91463, "mem_91463") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_91445, "mem_91445") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91476, (int64_t) 8, "mem_91476")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96744(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91389.mem, ext_mem_91475.mem, mem_91476.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_91478, binop_x_90846, "mem_91478")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_96750 = dim_54946;
                int64_t tblock_sizze_96755;
                
                tblock_sizze_96755 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96755;
                
                int64_t virt_num_tblocks_96756 = sdiv_up64(replicate_n_96750, tblock_sizze_96755);
                int64_t num_tblocks_96757 = smin64(virt_num_tblocks_96756, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96751(ctx, num_tblocks_96757, 1, 1, tblock_sizze_96755, 1, 1, (int64_t) 0, dim_54946, replicate_n_96750, virt_num_tblocks_96756, num_tblocks_96757, mem_91476.mem, mem_91478.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_91476, "mem_91476") != 0)
                    return 1;
                for (int64_t i_61958 = 0; i_61958 < arg_61323; i_61958++) {
                    int64_t index_primexp_61960 = add64((int64_t) 1, i_61958);
                    bool x_61961 = sle64((int64_t) 0, index_primexp_61960);
                    bool y_61962 = slt64(index_primexp_61960, dim_54946);
                    bool bounds_check_61963 = x_61961 && y_61962;
                    bool index_certs_61964;
                    
                    if (!bounds_check_61963) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61960, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_certs_69427;
                    
                    if (!bounds_check_61963) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61960, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:737:10-13\n   #2  ftSkyline.fut:735:1-739:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96771(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61960, grid_partitions_per_dim_mem_90817.mem, ext_mem_91475.mem, mem_91478.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_91475, "ext_mem_91475") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91490, &mem_91478, "mem_91478") != 0)
                    return 1;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96777 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75801));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75805(ctx, segmap_usable_groups_75802, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75792, 1, 1, (int64_t) 0, dim_54946, grid_part_prefix_sum_mem_90815.mem, ext_mem_91490.mem, mem_91493.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_91490, "ext_mem_91490") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91496, &mem_91361, "mem_91361") != 0)
                return 1;
            for (int64_t i_61973 = 0; i_61973 < dim_54946; i_61973++) {
                if (memblock_alloc_device(ctx, &mem_91497, (int64_t) 8, "mem_91497")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96788(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_61973, mem_91493.mem, mem_param_91496.mem, mem_91497.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_96786, &mem_91497, "mem_91497") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_91496, &mem_param_tmp_96786, "mem_param_tmp_96786") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_91500, &mem_param_91496, "mem_param_91496") != 0)
                return 1;
            if (futrts_builtinzhreplicate_f64(ctx, mem_91502, arg_61323, 0.0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (cond_61366) {
                if (memblock_alloc_device(ctx, &mem_91512, bytes_91128, "mem_91512")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91515, &mem_91512, "mem_91512") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_91504, bytes_91128, "mem_91504")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_91504, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, defunc_0_f_res_61899) != 0) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_62037 = 0; i_62037 < distance_61374; i_62037++) {
                    int64_t index_primexp_62039 = add64((int64_t) 1, i_62037);
                    bool x_62040 = sle64((int64_t) 0, index_primexp_62039);
                    bool y_62041 = slt64(index_primexp_62039, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948);
                    bool bounds_check_62042 = x_62040 && y_62041;
                    bool index_certs_62043;
                    
                    if (!bounds_check_62042) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_62039, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:394:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:737:10-13\n   #6  ftSkyline.fut:735:1-739:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double defunc_0_f_res_62044;
                    
                    if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_62044, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dim_54946, index_primexp_62039) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    double write_tmp_99363 = defunc_0_f_res_62044;
                    
                    if ((err = gpu_scalar_to_device(ctx, mem_91504.mem, index_primexp_62039 * sizeof(double), sizeof(double), &write_tmp_99363)) != 0)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91515, &mem_91504, "mem_91504") != 0)
                    return 1;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96795(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_54947, total_angle_no_54958, ext_mem_91500.mem, mem_91516.mem, mem_91517.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (cond_61364) {
                if (memblock_alloc_device(ctx, &mem_91531, binop_x_90846, "mem_91531")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91534, &mem_91531, "mem_91531") != 0)
                    return 1;
            } else {
                bool index_certs_61980 = 0;
                
                if (memblock_alloc_device(ctx, &mem_91520, binop_x_90846, "mem_91520")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96801 = sext_i64_i32(sdiv_up64(dim_54946, segmap_tblock_sizze_75821));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75825(ctx, segmap_usable_groups_75822, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75812, 1, 1, (int64_t) 0, dim_54946, index_primexp_61906, start_of_grid_partition_mem_90818.mem, mem_91303.mem, ext_mem_91500.mem, mem_91520.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_91521, (int64_t) 8, "mem_91521")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96810(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91520.mem, mem_91521.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_91523, binop_x_90846, "mem_91523")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_96816 = dim_54946;
                int64_t tblock_sizze_96821;
                
                tblock_sizze_96821 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96821;
                
                int64_t virt_num_tblocks_96822 = sdiv_up64(replicate_n_96816, tblock_sizze_96821);
                int64_t num_tblocks_96823 = smin64(virt_num_tblocks_96822, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96817(ctx, num_tblocks_96823, 1, 1, tblock_sizze_96821, 1, 1, (int64_t) 0, dim_54946, replicate_n_96816, virt_num_tblocks_96822, num_tblocks_96823, mem_91521.mem, mem_91523.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_91521, "mem_91521") != 0)
                    return 1;
                for (int64_t i_61991 = 0; i_61991 < arg_61323; i_61991++) {
                    int64_t index_primexp_61993 = add64((int64_t) 1, i_61991);
                    bool x_61994 = sle64((int64_t) 0, index_primexp_61993);
                    bool y_61995 = slt64(index_primexp_61993, dim_54946);
                    bool bounds_check_61996 = x_61994 && y_61995;
                    bool index_certs_61997;
                    
                    if (!bounds_check_61996) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_61993, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_91523.mem, index_primexp_61993, (int64_t []) {(int64_t) 1}, mem_91520.mem, index_primexp_61993, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_91520, "mem_91520") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91534, &mem_91523, "mem_91523") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_91500, "ext_mem_91500") != 0)
                return 1;
            for (int64_t i_62002 = 0; i_62002 < arg_61323; i_62002++) {
                bool y_62004 = slt64(i_62002, dim_54946);
                bool index_certs_62005;
                
                if (!y_62004) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_62002, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t map_arg1_62007 = add64((int64_t) 1, i_62002);
                int64_t j_m_i_62008 = sub64(dim_54946, map_arg1_62007);
                bool empty_slice_62009 = j_m_i_62008 == (int64_t) 0;
                int64_t m_62010 = sub64(j_m_i_62008, (int64_t) 1);
                int64_t i_p_m_t_s_62011 = add64(map_arg1_62007, m_62010);
                bool zzero_leq_i_p_m_t_s_62012 = sle64((int64_t) 0, i_p_m_t_s_62011);
                bool i_p_m_t_s_leq_w_62013 = slt64(i_p_m_t_s_62011, dim_54946);
                bool zzero_lte_i_62014 = sle64((int64_t) 0, map_arg1_62007);
                bool i_lte_j_62015 = sle64(map_arg1_62007, dim_54946);
                bool y_62016 = i_p_m_t_s_leq_w_62013 && zzero_lte_i_62014;
                bool y_62017 = zzero_leq_i_p_m_t_s_62012 && y_62016;
                bool forwards_ok_62018 = i_lte_j_62015 && y_62017;
                bool ok_or_empty_62019 = empty_slice_62009 || forwards_ok_62018;
                bool index_certs_62020;
                
                if (!ok_or_empty_62019) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_62007, ":", (long long) dim_54946, "] out of bounds for array of shape [", (long long) dim_54946, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:394:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:737:10-13\n   #5  ftSkyline.fut:735:1-739:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_91539 = (int64_t) 8 * j_m_i_62008;
                int64_t segmap_usable_groups_75841 = sdiv_up64(j_m_i_62008, segmap_tblock_sizze_75840);
                
                if (memblock_alloc_device(ctx, &mem_91540, bytes_91539, "mem_91540")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96838 = sext_i64_i32(sdiv_up64(j_m_i_62008, segmap_tblock_sizze_75840));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75844(ctx, segmap_usable_groups_75841, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75832, 1, 1, (int64_t) 0, map_arg1_62007, j_m_i_62008, ext_mem_91534.mem, mem_91540.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &mem_param_91543, &mem_91371, "mem_91371") != 0)
                    return 1;
                for (int64_t i_62026 = 0; i_62026 < j_m_i_62008; i_62026++) {
                    if (memblock_alloc_device(ctx, &mem_91544, (int64_t) 8, "mem_91544")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96849(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_62026, mem_91540.mem, mem_param_91543.mem, mem_91544.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_set_device(ctx, &mem_param_tmp_96847, &mem_91544, "mem_91544") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &mem_param_91543, &mem_param_tmp_96847, "mem_param_tmp_96847") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_91547, &mem_param_91543, "mem_param_91543") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_91540, "mem_91540") != 0)
                    return 1;
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96855(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_62002, mem_91502.mem, ext_mem_91534.mem, ext_mem_91547.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &ext_mem_91547, "ext_mem_91547") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_91534, "ext_mem_91534") != 0)
                return 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96861 = sext_i64_i32(sdiv_up64(arg_61323, segmap_tblock_sizze_75861));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75865(ctx, segmap_usable_groups_75862, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75850, 1, 1, (int64_t) 0, arg_61323, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, mem_91502.mem, ext_mem_91515.mem, mem_91554.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_91515, "ext_mem_91515") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91557, &mem_91361, "mem_91361") != 0)
                return 1;
            for (int64_t i_62054 = 0; i_62054 < arg_61323; i_62054++) {
                if (memblock_alloc_device(ctx, &mem_91558, (int64_t) 8, "mem_91558")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96872(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_62054, mem_91554.mem, mem_param_91557.mem, mem_91558.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_96870, &mem_91558, "mem_91558") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_91557, &mem_param_tmp_96870, "mem_param_tmp_96870") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_91561, &mem_param_91557, "mem_param_91557") != 0)
                return 1;
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96878(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_61906, mem_91436.mem, mem_91517.mem, ext_mem_91561.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_91561, "ext_mem_91561") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_91361, "mem_91361") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91371, "mem_91371") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91389, "mem_91389") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91493, "mem_91493") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91502, "mem_91502") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91516, "mem_91516") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91517, "mem_91517") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91554, "mem_91554") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_91570, &mem_91436, "mem_91436") != 0)
            return 1;
    }
    
    int64_t num_tblocks_75875;
    int64_t max_num_tblocks_96884;
    
    max_num_tblocks_96884 = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_75874;
    num_tblocks_75875 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_61673, seghist_tblock_sizze_75873), max_num_tblocks_96884)));
    
    int64_t num_subhistos_96885;
    int64_t h_96888 = (int64_t) 8 * total_part_no_54960;
    int64_t seg_h_96889 = (int64_t) 8 * total_part_no_54960;
    
    if (!(seg_h_96889 == (int64_t) 0)) {
        int64_t hist_H_96890 = total_part_no_54960;
        int64_t hist_el_sizze_96891 = sdiv_up64(h_96888, hist_H_96890);
        int64_t hist_N_96892 = m_61673;
        int32_t hist_RF_96893 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_75875 * seghist_tblock_sizze_75873), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_75873, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_96890, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_96892, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_96891, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_96893, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_96888, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_96889, '\n');
        
        int64_t hist_L_96894;
        
        hist_L_96894 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L_96894;
        
        int64_t max_tblock_sizze_96895;
        
        max_tblock_sizze_96895 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_96896 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_75875 * seghist_tblock_sizze_75873)), max_tblock_sizze_96895);
        double hist_m_prime_96897 = sitofp_i64_f64(smin64(squot64(hist_L_96894, hist_el_sizze_96891), sdiv_up64(hist_N_96892, num_tblocks_96896))) / sitofp_i64_f64(hist_H_96890);
        int64_t hist_M0_96898 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_96897), max_tblock_sizze_96895));
        int64_t hist_Nout_96899 = (int64_t) 1;
        int64_t hist_Nin_96900 = m_61673;
        int64_t work_asymp_M_max_96901 = squot64(hist_Nout_96899 * hist_N_96892, (int64_t) 2 * num_tblocks_96896 * hist_H_96890);
        int32_t hist_M_96902 = sext_i64_i32(smin64(hist_M0_96898, work_asymp_M_max_96901));
        int64_t hist_C_96903 = sdiv_up64(max_tblock_sizze_96895, sext_i32_i64(smax32(1, hist_M_96902)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_96898, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_96901, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_96903, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_96895, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_96902, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_96890 * hist_el_sizze_96891 * sext_i32_i64(hist_M_96902)), '\n');
        
        int64_t local_mem_needed_96904 = hist_el_sizze_96891 * sext_i32_i64(hist_M_96902);
        int32_t hist_S_96905 = sext_i64_i32(sdiv_up64(hist_H_96890 * local_mem_needed_96904 + (int64_t) 1, hist_L_96894));
        
        if (sle64(hist_H_96890, hist_Nin_96900) && (sle64(local_mem_needed_96904, hist_L_96894) && (sle32(hist_S_96905, 3) && (sle64(hist_C_96903, max_tblock_sizze_96895) && slt32(0, hist_M_96902))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_96890, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_96902, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_96903, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_96905, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_96902, '\n');
            num_subhistos_96885 = num_tblocks_96896;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_96885, '\n');
            if (num_subhistos_96885 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_96886, &mem_90833, "mem_90833") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_96886, num_subhistos_96885 * total_part_no_54960 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_96886")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_96886, num_subhistos_96885 * total_part_no_54960, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_96886.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_90833.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_54960})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_96906 = 0; chk_i_96906 < hist_S_96905; chk_i_96906++) {
                int64_t num_segments_96907 = (int64_t) 1;
                int64_t hist_H_chk_96908 = sdiv_up64(total_part_no_54960, sext_i32_i64(hist_S_96905));
                int64_t histo_sizze_96909 = hist_H_chk_96908;
                int32_t init_per_thread_96910 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_96902) * histo_sizze_96909, max_tblock_sizze_96895));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_local_75880(ctx, num_tblocks_96896, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_96902 * hist_H_chk_96908) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_96902 * hist_H_chk_96908), (int64_t) 8), (int64_t) 8), total_part_no_54960, m_61673, num_subhistos_96885, num_tblocks_96896, hist_M_96902, chk_i_96906, num_segments_96907, hist_H_chk_96908, histo_sizze_96909, init_per_thread_96910, ext_mem_91570.mem, defunc_0_map_res_subhistos_mem_96886.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_96942 = total_part_no_54960;
            double hist_RF_96943 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_96944 = 8;
            double hist_C_max_96945 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_75875 * seghist_tblock_sizze_75873)), sitofp_i32_f64(hist_H_96942) / 2.0);
            int32_t hist_M_min_96946 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_75875 * seghist_tblock_sizze_75873)) / hist_C_max_96945)));
            int64_t hist_L2_96947;
            
            hist_L2_96947 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L2_96947;
            
            double hist_RACE_exp_96948 = fmax64(1.0, 0.75 * hist_RF_96943 / (64.0 / sitofp_i32_f64(hist_el_sizze_96944)));
            int32_t hist_S_96949;
            
            if (slt64(m_61673, hist_H_96942)) {
                hist_S_96949 = 1;
            } else {
                hist_S_96949 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_96946) * hist_H_96942 * sext_i32_i64(hist_el_sizze_96944), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_96947) * hist_RACE_exp_96948)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_96948, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_96949, '\n');
            
            int64_t hist_H_chk_96950 = sdiv_up64(total_part_no_54960, sext_i32_i64(hist_S_96949));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_96950, '\n');
            
            double hist_k_max_96951 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_96947) / sitofp_i32_f64(8)) * hist_RACE_exp_96948, sitofp_i32_f64(m_61673)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_75875 * seghist_tblock_sizze_75873));
            int64_t hist_u_96952 = (int64_t) 2;
            double hist_C_96953 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_75875 * seghist_tblock_sizze_75873)), sitofp_i32_f64(hist_u_96952 * hist_H_chk_96950) / hist_k_max_96951);
            int32_t hist_M_96954 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_96951, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_96954, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_96953, '\n');
            num_subhistos_96885 = sext_i32_i64(hist_M_96954);
            if (hist_M_96954 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_96886, &mem_90833, "mem_90833") != 0)
                    return 1;
            } else if (num_subhistos_96885 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_96886, &mem_90833, "mem_90833") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_96886, num_subhistos_96885 * total_part_no_54960 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_96886")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_96886, num_subhistos_96885 * total_part_no_54960, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_96886.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_90833.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_54960})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_96955 = 0; chk_i_96955 < hist_S_96949; chk_i_96955++) {
                int64_t hist_H_chk_96956 = sdiv_up64(total_part_no_54960, sext_i32_i64(hist_S_96949));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_global_75880(ctx, num_tblocks_75875, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872, 1, 1, (int64_t) 0, total_part_no_54960, m_61673, num_tblocks_75875, num_subhistos_96885, chk_i_96955, hist_H_chk_96956, ext_mem_91570.mem, defunc_0_map_res_subhistos_mem_96886.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
        if (num_subhistos_96885 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_90833, &defunc_0_map_res_subhistos_mem_96886, "defunc_0_map_res_subhistos_mem_96886") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_96972 = (int64_t) 1;
            
            if (slt64(num_subhistos_96885 * (int64_t) 2, seghist_tblock_sizze_75873 * chunk_sizze_96972)) {
                int64_t segment_sizze_nonzzero_96973 = smax64((int64_t) 1, num_subhistos_96885);
                int64_t num_threads_96974 = seghist_tblock_sizze_75873 * seghist_tblock_sizze_75873;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_54960, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_96885, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_54960, squot64(seghist_tblock_sizze_75873, segment_sizze_nonzzero_96973))), '\n');
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_small_96971(ctx, num_tblocks_75875, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872, 1, 1, (int64_t) 8 * seghist_tblock_sizze_75873 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_75873, (int64_t) 8), (int64_t) 8), total_part_no_54960, num_tblocks_75875, num_subhistos_96885, segment_sizze_nonzzero_96973, mem_90833.mem, defunc_0_map_res_subhistos_mem_96886.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_97002 = sdiv_up64(num_tblocks_75875, smax64((int64_t) 1, total_part_no_54960));
                int64_t q_97003 = sdiv_up64(num_subhistos_96885, seghist_tblock_sizze_75873 * blocks_per_segment_97002 * chunk_sizze_96972);
                int64_t num_virtblocks_97004 = blocks_per_segment_97002 * total_part_no_54960;
                int64_t threads_per_segment_97005 = blocks_per_segment_97002 * seghist_tblock_sizze_75873;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_54960, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_96885, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_97004, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_75875, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_75873, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_97003, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_97002, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_97006, (int64_t) 8 * num_virtblocks_97004, "segred_tmp_mem_97006")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_large_96971(ctx, num_tblocks_75875, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_75872, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_75873 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_75873, (int64_t) 8), (int64_t) 8)), total_part_no_54960, num_tblocks_75875, num_subhistos_96885, blocks_per_segment_97002, q_97003, num_virtblocks_97004, threads_per_segment_97005, mem_90833.mem, defunc_0_map_res_subhistos_mem_96886.mem, segred_tmp_mem_97006.mem, counters_mem_97008.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91570, "ext_mem_91570") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91574, bytes_90832, "mem_91574")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_54960)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_97045;
        
        shared_memory_97045 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_97046;
        
        thread_block_sizze_97046 = ctx->max_thread_block_size;
        
        int64_t registers_97047;
        
        registers_97047 = ctx->max_registers;
        
        int64_t thread_block_sizze_97048;
        
        thread_block_sizze_97048 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_97049 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_97045, thread_block_sizze_97046), (int64_t) 8), squot64(squot64(registers_97047, thread_block_sizze_97048) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_97050 = sdiv_up64(total_part_no_54960, segscan_tblock_sizze_75888 * chunk_sizze_97049);
        int64_t num_virt_threads_97051 = num_virt_blocks_97050 * segscan_tblock_sizze_75888;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_97049, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_97052, num_virt_blocks_97050, "status_flags_mem_97052")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_97052, num_virt_blocks_97050, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_97054, (int64_t) 8 * num_virt_blocks_97050, "aggregates_mem_97054")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_97056, (int64_t) 8 * num_virt_blocks_97050, "incprefixes_mem_97056")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_75893(ctx, num_tblocks_75890, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_75887, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75888), chunk_sizze_97049 * segscan_tblock_sizze_75888 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_75888), chunk_sizze_97049 * segscan_tblock_sizze_75888 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_54960, num_tblocks_75890, num_virt_blocks_97050, num_virt_threads_97051, mem_90833.mem, mem_91574.mem, status_flags_mem_97052.mem, aggregates_mem_97054.mem, incprefixes_mem_97056.mem, global_dynid_mem_97058.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_90833, "mem_90833") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91577, bytes_90832, "mem_91577")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_97147 = sext_i64_i32(sdiv_up64(total_part_no_54960, segmap_tblock_sizze_75909));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_75913(ctx, segmap_usable_groups_75910, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_75897, 1, 1, (int64_t) 0, total_part_no_54960, mem_91574.mem, mem_91577.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91574, "mem_91574") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95757, &isPartitionDominated_mem_90819, "isPartitionDominated_mem_90819") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95758, &mem_91577, "mem_91577") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95759, &mem_91303, "mem_91303") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95760, &mem_91306, "mem_91306") != 0)
        return 1;
    prim_out_95761 = total_part_no_54960;
    prim_out_95762 = m_61673;
    if (memblock_set_device(ctx, &*mem_out_p_99353, &mem_out_95757, "mem_out_95757") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99354, &mem_out_95758, "mem_out_95758") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99355, &mem_out_95759, "mem_out_95759") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99356, &mem_out_95760, "mem_out_95760") != 0)
        return 1;
    *out_prim_out_99357 = prim_out_95761;
    *out_prim_out_99358 = prim_out_95762;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_91577, "mem_91577") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_97056, "incprefixes_mem_97056") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_97054, "aggregates_mem_97054") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_97052, "status_flags_mem_97052") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91574, "mem_91574") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97006, "segred_tmp_mem_97006") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_96886, "defunc_0_map_res_subhistos_mem_96886") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96870, "mem_param_tmp_96870") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91558, "mem_91558") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91557, "mem_param_91557") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91561, "ext_mem_91561") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96847, "mem_param_tmp_96847") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91544, "mem_91544") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91543, "mem_param_91543") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91547, "ext_mem_91547") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91540, "mem_91540") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91523, "mem_91523") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91521, "mem_91521") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91520, "mem_91520") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91531, "mem_91531") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91534, "ext_mem_91534") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91504, "mem_91504") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91512, "mem_91512") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91515, "ext_mem_91515") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96786, "mem_param_tmp_96786") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91497, "mem_91497") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91496, "mem_param_91496") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91500, "ext_mem_91500") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91478, "mem_91478") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91476, "mem_91476") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91463, "mem_91463") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91461, "mem_91461") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91448, "mem_91448") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91446, "mem_91446") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91457, "mem_91457") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91460, "ext_mem_91460") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91472, "mem_91472") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91475, "ext_mem_91475") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91445, "mem_91445") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91487, "mem_91487") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91490, "ext_mem_91490") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91554, "mem_91554") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91517, "mem_91517") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91516, "mem_91516") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91502, "mem_91502") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91493, "mem_91493") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91436, "mem_91436") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91434, "mem_91434") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96625, "mem_param_tmp_96625") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91430, "mem_91430") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91429, "mem_param_91429") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91433, "ext_mem_91433") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96602, "mem_param_tmp_96602") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91416, "mem_91416") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91415, "mem_param_91415") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91419, "ext_mem_91419") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91412, "mem_91412") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91395, "mem_91395") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91393, "mem_91393") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91392, "mem_91392") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91403, "mem_91403") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91406, "ext_mem_91406") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91389, "mem_91389") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91388, "mem_91388") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91387, "mem_91387") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91385, "mem_91385") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91386, "ext_mem_91386") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91373, "mem_91373") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91381, "mem_91381") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91384, "ext_mem_91384") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91371, "mem_91371") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91426, "mem_91426") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96535, "mem_param_tmp_96535") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91365, "mem_91365") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91364, "mem_param_91364") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91368, "ext_mem_91368") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91361, "mem_91361") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91360, "mem_91360") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91345, "mem_91345") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91343, "mem_91343") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91330, "mem_91330") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91328, "mem_91328") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91315, "mem_91315") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91313, "mem_91313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91324, "mem_91324") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91327, "ext_mem_91327") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91339, "mem_91339") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91342, "ext_mem_91342") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91312, "mem_91312") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91354, "mem_91354") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91357, "ext_mem_91357") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91567, "mem_91567") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91570, "ext_mem_91570") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91306, "mem_91306") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91303, "mem_91303") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91299, "mem_91299") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91296, "mem_91296") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90833, "mem_90833") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_96274, "incprefixes_mem_96274") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_96272, "aggregates_mem_96272") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_96250, "status_flags_mem_96250") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91294, "mem_91294") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91292, "mem_91292") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96108, "mem_param_tmp_96108") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91286, "mem_91286") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96187, "mem_param_tmp_96187") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91242, "mem_91242") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91230, "mem_91230") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91208, "mem_91208") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91204, "mem_param_91204") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91246, "ext_mem_91246") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91191, "mem_91191") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91173, "mem_91173") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91162, "mem_91162") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91151, "mem_91151") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91148, "mem_91148") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91194, "mem_91194") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91197, "ext_mem_91197") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91129, "mem_91129") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91137, "mem_91137") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91140, "ext_mem_91140") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91127, "mem_param_91127") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91289, "ext_mem_91289") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95392, "color_95392") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95391, "color_95391") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91261, "mem_91261") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91250, "mem_91250") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91219, "mem_91219") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91200, "mem_91200") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91124, "mem_91124") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91113, "mem_91113") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91111, "mem_91111") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91109, "mem_91109") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91098, "mem_91098") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91043, "mem_91043") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91025, "mem_91025") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91014, "mem_91014") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91003, "mem_91003") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91000, "mem_91000") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90959, "mem_90959") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90941, "mem_90941") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90930, "mem_90930") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90919, "mem_90919") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90916, "mem_90916") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90888, "mem_90888") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90870, "mem_90870") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90859, "mem_90859") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90848, "mem_90848") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90845, "mem_90845") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90842, "mem_90842") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90904, "mem_90904") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90907, "ext_mem_90907") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90910, "mem_90910") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90913, "ext_mem_90913") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90988, "mem_90988") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90991, "ext_mem_90991") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90994, "mem_90994") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90997, "ext_mem_90997") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91085, "mem_91085") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91088, "ext_mem_91088") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91091, "mem_91091") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91094, "ext_mem_91094") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90834, "mem_90834") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90829, "mem_90829") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90830, "mem_90830") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90831, "ext_mem_90831") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90828, "mem_90828") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_95787, "segred_tmp_mem_95787") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90826, "mem_90826") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90824, "mem_90824") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95760, "mem_out_95760") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95759, "mem_out_95759") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95758, "mem_out_95758") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95757, "mem_out_95757") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_define_skyline_space_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99364, struct memblock_device *mem_out_p_99365, struct memblock_device *mem_out_p_99366, struct memblock_device *mem_out_p_99367, struct memblock_device *mem_out_p_99368, struct memblock_device *mem_out_p_99369, int64_t *out_prim_out_99370, int64_t *out_prim_out_99371, int64_t *out_prim_out_99372, int64_t *out_prim_out_99373, struct memblock_device min_per_dim_mem_90813, struct memblock_device max_per_dim_mem_90814, struct memblock_device grid_partitions_per_dim_mem_90815, struct memblock_device angle_partitions_per_dim_mem_90816, int64_t dim_30964, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_90842;
    
    mem_90842.references = NULL;
    
    struct memblock_device mem_90838;
    
    mem_90838.references = NULL;
    
    struct memblock_device mem_90835;
    
    mem_90835.references = NULL;
    
    struct memblock_device segred_tmp_mem_96052;
    
    segred_tmp_mem_96052.references = NULL;
    
    struct memblock_device mem_90832;
    
    mem_90832.references = NULL;
    
    struct memblock_device incprefixes_mem_95957;
    
    incprefixes_mem_95957.references = NULL;
    
    struct memblock_device aggregates_mem_95955;
    
    aggregates_mem_95955.references = NULL;
    
    struct memblock_device status_flags_mem_95953;
    
    status_flags_mem_95953.references = NULL;
    
    struct memblock_device mem_90830;
    
    mem_90830.references = NULL;
    
    struct memblock_device mem_90828;
    
    mem_90828.references = NULL;
    
    struct memblock_device segred_tmp_mem_95914;
    
    segred_tmp_mem_95914.references = NULL;
    
    struct memblock_device mem_90825;
    
    mem_90825.references = NULL;
    
    struct memblock_device incprefixes_mem_95799;
    
    incprefixes_mem_95799.references = NULL;
    
    struct memblock_device aggregates_mem_95797;
    
    aggregates_mem_95797.references = NULL;
    
    struct memblock_device status_flags_mem_95775;
    
    status_flags_mem_95775.references = NULL;
    
    struct memblock_device mem_90823;
    
    mem_90823.references = NULL;
    
    struct memblock_device mem_90821;
    
    mem_90821.references = NULL;
    
    struct memblock_device mem_90819;
    
    mem_90819.references = NULL;
    
    struct memblock_device mem_out_95762;
    
    mem_out_95762.references = NULL;
    
    struct memblock_device mem_out_95761;
    
    mem_out_95761.references = NULL;
    
    struct memblock_device mem_out_95760;
    
    mem_out_95760.references = NULL;
    
    struct memblock_device mem_out_95759;
    
    mem_out_95759.references = NULL;
    
    struct memblock_device mem_out_95758;
    
    mem_out_95758.references = NULL;
    
    struct memblock_device mem_out_95757;
    
    mem_out_95757.references = NULL;
    
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t prim_out_95763;
    int64_t prim_out_95764;
    int64_t prim_out_95765;
    int64_t prim_out_95766;
    int64_t arg_58604 = sub64(dim_30964, (int64_t) 1);
    bool assert_cond_58605 = arg_58604 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;
    bool assert_c_58606;
    
    if (!assert_cond_58605) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  unknown location\n   #1  ftSkyline.fut:710:1-721:41\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segscan_tblock_sizze_73282;
    
    segscan_tblock_sizze_73282 = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73281;
    
    int64_t num_tblocks_73284;
    int64_t max_num_tblocks_95767;
    
    max_num_tblocks_95767 = *ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_73283;
    num_tblocks_73284 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dim_30964, segscan_tblock_sizze_73282), max_num_tblocks_95767)));
    
    int64_t bytes_90818 = (int64_t) 8 * dim_30964;
    
    if (memblock_alloc_device(ctx, &mem_90819, bytes_90818, "mem_90819")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90821, bytes_90818, "mem_90821")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90823, bytes_90818, "mem_90823")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dim_30964)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_95768;
        
        shared_memory_95768 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_95769;
        
        thread_block_sizze_95769 = ctx->max_thread_block_size;
        
        int64_t registers_95770;
        
        registers_95770 = ctx->max_registers;
        
        int64_t thread_block_sizze_95771;
        
        thread_block_sizze_95771 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_95772 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_95768, thread_block_sizze_95769), (int64_t) 8), squot64(squot64(registers_95770, thread_block_sizze_95771) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_95773 = sdiv_up64(dim_30964, segscan_tblock_sizze_73282 * chunk_sizze_95772);
        int64_t num_virt_threads_95774 = num_virt_blocks_95773 * segscan_tblock_sizze_73282;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_95772, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_95775, num_virt_blocks_95773, "status_flags_mem_95775")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_95775, num_virt_blocks_95773, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_95797, (int64_t) 8 * num_virt_blocks_95773, "aggregates_mem_95797")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_95799, (int64_t) 8 * num_virt_blocks_95773, "incprefixes_mem_95799")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_define_skyline_space_doublezisegscan_73287(ctx, num_tblocks_73284, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73281, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73282), chunk_sizze_95772 * segscan_tblock_sizze_73282 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73282), chunk_sizze_95772 * segscan_tblock_sizze_73282 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dim_30964, num_tblocks_73284, num_virt_blocks_95773, num_virt_threads_95774, min_per_dim_mem_90813.mem, max_per_dim_mem_90814.mem, grid_partitions_per_dim_mem_90815.mem, mem_90819.mem, mem_90821.mem, mem_90823.mem, status_flags_mem_95775.mem, aggregates_mem_95797.mem, incprefixes_mem_95799.mem, global_dynid_mem_95801.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t segred_tblock_sizze_73290;
    
    segred_tblock_sizze_73290 = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73289;
    
    int64_t num_tblocks_73292;
    int64_t max_num_tblocks_95910;
    
    max_num_tblocks_95910 = *ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_73291;
    num_tblocks_73292 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dim_30964, segred_tblock_sizze_73290), max_num_tblocks_95910)));
    if (memblock_alloc_device(ctx, &mem_90825, (int64_t) 8, "mem_90825")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_95911 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_95914, (int64_t) 8 * num_tblocks_73292, "segred_tmp_mem_95914")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_95916 = num_tblocks_73292 * segred_tblock_sizze_73290;
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegred_nonseg_73297(ctx, num_tblocks_73292, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73289, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_73290 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_73290, (int64_t) 8), (int64_t) 8)), dim_30964, num_tblocks_73292, num_threads_95916, mem_90821.mem, mem_90825.mem, counters_mem_95912.mem, segred_tmp_mem_95914.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_90821, "mem_90821") != 0)
        return 1;
    
    int64_t read_res_99374;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99374, mem_90825.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_res_69611 = read_res_99374;
    
    if (memblock_unref_device(ctx, &mem_90825, "mem_90825") != 0)
        return 1;
    
    int64_t bytes_90827 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;
    bool bounds_invalid_upwards_58651 = slt64(defunc_res_69611, (int64_t) 0);
    bool valid_58652 = !bounds_invalid_upwards_58651;
    bool range_valid_c_58653;
    
    if (!valid_58652) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) defunc_res_69611, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  ftSkyline.fut:56:29-47\n   #2  ftSkyline.fut:95:90-114\n   #3  ftSkyline.fut:721:17-41\n   #4  ftSkyline.fut:710:1-721:41\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_90840 = (int64_t) 8 * defunc_res_69611;
    int64_t bytes_90841 = dim_30964 * binop_x_90840;
    int64_t segscan_tblock_sizze_73302;
    
    segscan_tblock_sizze_73302 = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73301;
    
    int64_t num_tblocks_73304;
    int64_t max_num_tblocks_95945;
    
    max_num_tblocks_95945 = *ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_73303;
    num_tblocks_73304 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, segscan_tblock_sizze_73302), max_num_tblocks_95945)));
    if (memblock_alloc_device(ctx, &mem_90828, bytes_90827, "mem_90828")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90830, bytes_90827, "mem_90830")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_95946;
        
        shared_memory_95946 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_95947;
        
        thread_block_sizze_95947 = ctx->max_thread_block_size;
        
        int64_t registers_95948;
        
        registers_95948 = ctx->max_registers;
        
        int64_t thread_block_sizze_95949;
        
        thread_block_sizze_95949 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_95950 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_95946, thread_block_sizze_95947), (int64_t) 8), squot64(squot64(registers_95948, thread_block_sizze_95949) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_95951 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, segscan_tblock_sizze_73302 * chunk_sizze_95950);
        int64_t num_virt_threads_95952 = num_virt_blocks_95951 * segscan_tblock_sizze_73302;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_95950, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_95953, num_virt_blocks_95951, "status_flags_mem_95953")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_95953, num_virt_blocks_95951, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_95955, (int64_t) 8 * num_virt_blocks_95951, "aggregates_mem_95955")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_95957, (int64_t) 8 * num_virt_blocks_95951, "incprefixes_mem_95957")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_define_skyline_space_doublezisegscan_73307(ctx, num_tblocks_73304, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_73301, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73302), chunk_sizze_95950 * segscan_tblock_sizze_73302 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_73302), chunk_sizze_95950 * segscan_tblock_sizze_73302 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, num_tblocks_73304, num_virt_blocks_95951, num_virt_threads_95952, angle_partitions_per_dim_mem_90816.mem, mem_90828.mem, mem_90830.mem, status_flags_mem_95953.mem, aggregates_mem_95955.mem, incprefixes_mem_95957.mem, global_dynid_mem_95959.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t segred_tblock_sizze_73310;
    
    segred_tblock_sizze_73310 = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73309;
    
    int64_t num_tblocks_73312;
    int64_t max_num_tblocks_96048;
    
    max_num_tblocks_96048 = *ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_73311;
    num_tblocks_73312 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, segred_tblock_sizze_73310), max_num_tblocks_96048)));
    if (memblock_alloc_device(ctx, &mem_90832, (int64_t) 8, "mem_90832")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_96049 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_96052, (int64_t) 8 * num_tblocks_73312, "segred_tmp_mem_96052")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_96054 = num_tblocks_73312 * segred_tblock_sizze_73310;
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegred_nonseg_73317(ctx, num_tblocks_73312, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_73309, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_73310 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_73310, (int64_t) 8), (int64_t) 8)), dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, num_tblocks_73312, num_threads_96054, mem_90830.mem, mem_90832.mem, counters_mem_96050.mem, segred_tmp_mem_96052.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_90830, "mem_90830") != 0)
        return 1;
    
    int64_t read_res_99375;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99375, mem_90832.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_res_69614 = read_res_99375;
    
    if (memblock_unref_device(ctx, &mem_90832, "mem_90832") != 0)
        return 1;
    
    int64_t total_part_no_58618 = mul64(defunc_res_69611, defunc_res_69614);
    int64_t segmap_tblock_sizze_73333;
    
    segmap_tblock_sizze_73333 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73321;
    
    int64_t segmap_usable_groups_73334 = sdiv_up64(dim_30964, segmap_tblock_sizze_73333);
    
    if (memblock_alloc_device(ctx, &mem_90835, bytes_90818, "mem_90835")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96083 = sext_i64_i32(sdiv_up64(dim_30964, segmap_tblock_sizze_73333));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_73337(ctx, segmap_usable_groups_73334, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73321, 1, 1, (int64_t) 0, dim_30964, mem_90819.mem, mem_90835.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_90819, "mem_90819") != 0)
        return 1;
    
    int64_t segmap_tblock_sizze_73359;
    
    segmap_tblock_sizze_73359 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73347;
    
    int64_t segmap_usable_groups_73360 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, segmap_tblock_sizze_73359);
    
    if (memblock_alloc_device(ctx, &mem_90838, bytes_90827, "mem_90838")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96092 = sext_i64_i32(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, segmap_tblock_sizze_73359));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_73363(ctx, segmap_usable_groups_73360, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73347, 1, 1, (int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965, mem_90828.mem, mem_90838.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_90828, "mem_90828") != 0)
        return 1;
    
    int64_t nest_sizze_73444 = dim_30964 * defunc_res_69611;
    int64_t segmap_tblock_sizze_73445;
    
    segmap_tblock_sizze_73445 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73383;
    
    int64_t segmap_usable_groups_73446 = sdiv_up64(nest_sizze_73444, segmap_tblock_sizze_73445);
    
    if (memblock_alloc_device(ctx, &mem_90842, bytes_90841, "mem_90842")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96101 = sext_i64_i32(sdiv_up64(defunc_res_69611 * dim_30964, segmap_tblock_sizze_73445));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_73450(ctx, segmap_usable_groups_73446, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_73383, 1, 1, (int64_t) 0, dim_30964, defunc_res_69611, min_per_dim_mem_90813.mem, grid_partitions_per_dim_mem_90815.mem, mem_90823.mem, mem_90835.mem, mem_90842.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_set_device(ctx, &mem_out_95757, &mem_90838, "mem_90838") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95758, &angle_partitions_per_dim_mem_90816, "angle_partitions_per_dim_mem_90816") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95759, &mem_90835, "mem_90835") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95760, &mem_90823, "mem_90823") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95761, &grid_partitions_per_dim_mem_90815, "grid_partitions_per_dim_mem_90815") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95762, &mem_90842, "mem_90842") != 0)
        return 1;
    prim_out_95763 = defunc_res_69611;
    prim_out_95764 = defunc_res_69614;
    prim_out_95765 = defunc_res_69611;
    prim_out_95766 = total_part_no_58618;
    if (memblock_set_device(ctx, &*mem_out_p_99364, &mem_out_95757, "mem_out_95757") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99365, &mem_out_95758, "mem_out_95758") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99366, &mem_out_95759, "mem_out_95759") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99367, &mem_out_95760, "mem_out_95760") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99368, &mem_out_95761, "mem_out_95761") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99369, &mem_out_95762, "mem_out_95762") != 0)
        return 1;
    *out_prim_out_99370 = prim_out_95763;
    *out_prim_out_99371 = prim_out_95764;
    *out_prim_out_99372 = prim_out_95765;
    *out_prim_out_99373 = prim_out_95766;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_90842, "mem_90842") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90838, "mem_90838") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90835, "mem_90835") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96052, "segred_tmp_mem_96052") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90832, "mem_90832") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_95957, "incprefixes_mem_95957") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_95955, "aggregates_mem_95955") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_95953, "status_flags_mem_95953") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90830, "mem_90830") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90828, "mem_90828") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_95914, "segred_tmp_mem_95914") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90825, "mem_90825") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_95799, "incprefixes_mem_95799") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_95797, "aggregates_mem_95797") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_95775, "status_flags_mem_95775") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90823, "mem_90823") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90821, "mem_90821") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90819, "mem_90819") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95762, "mem_out_95762") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95761, "mem_out_95761") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95760, "mem_out_95760") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95759, "mem_out_95759") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95758, "mem_out_95758") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95757, "mem_out_95757") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99376, struct memblock_device *mem_out_p_99377, struct memblock_device *mem_out_p_99378, struct memblock_device *mem_out_p_99379, int64_t *out_prim_out_99380, int64_t *out_prim_out_99381, int64_t *out_prim_out_99382, struct memblock_device angle_part_prefix_sum_mem_90813, struct memblock_device angle_partitions_per_dim_mem_90814, struct memblock_device grid_part_prefix_sum_mem_90815, struct memblock_device grid_part_sizze_per_dim_mem_90816, struct memblock_device grid_partitions_per_dim_mem_90817, struct memblock_device start_of_grid_partition_mem_90818, struct memblock_device xs_mem_90819, int64_t dim_48135, int64_t dz2080U_48136, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, int64_t n_48138, int64_t total_angle_no_48145, int64_t total_grid_no_48146, int64_t total_part_no_48147, bool use_measure_for_sorting_48149)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_94391;
    
    mem_94391.references = NULL;
    
    struct memblock_device incprefixes_mem_99253;
    
    incprefixes_mem_99253.references = NULL;
    
    struct memblock_device aggregates_mem_99251;
    
    aggregates_mem_99251.references = NULL;
    
    struct memblock_device status_flags_mem_99249;
    
    status_flags_mem_99249.references = NULL;
    
    struct memblock_device mem_94388;
    
    mem_94388.references = NULL;
    
    struct memblock_device segred_tmp_mem_99203;
    
    segred_tmp_mem_99203.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_99083;
    
    defunc_0_map_res_subhistos_mem_99083.references = NULL;
    
    struct memblock_device mem_param_tmp_99067;
    
    mem_param_tmp_99067.references = NULL;
    
    struct memblock_device mem_94372;
    
    mem_94372.references = NULL;
    
    struct memblock_device mem_param_94371;
    
    mem_param_94371.references = NULL;
    
    struct memblock_device ext_mem_94375;
    
    ext_mem_94375.references = NULL;
    
    struct memblock_device mem_param_tmp_99044;
    
    mem_param_tmp_99044.references = NULL;
    
    struct memblock_device mem_94358;
    
    mem_94358.references = NULL;
    
    struct memblock_device mem_param_94357;
    
    mem_param_94357.references = NULL;
    
    struct memblock_device ext_mem_94361;
    
    ext_mem_94361.references = NULL;
    
    struct memblock_device mem_94354;
    
    mem_94354.references = NULL;
    
    struct memblock_device mem_94337;
    
    mem_94337.references = NULL;
    
    struct memblock_device mem_94335;
    
    mem_94335.references = NULL;
    
    struct memblock_device mem_94334;
    
    mem_94334.references = NULL;
    
    struct memblock_device mem_94345;
    
    mem_94345.references = NULL;
    
    struct memblock_device ext_mem_94348;
    
    ext_mem_94348.references = NULL;
    
    struct memblock_device mem_94318;
    
    mem_94318.references = NULL;
    
    struct memblock_device mem_94326;
    
    mem_94326.references = NULL;
    
    struct memblock_device ext_mem_94329;
    
    ext_mem_94329.references = NULL;
    
    struct memblock_device mem_param_tmp_98983;
    
    mem_param_tmp_98983.references = NULL;
    
    struct memblock_device mem_94311;
    
    mem_94311.references = NULL;
    
    struct memblock_device mem_param_94310;
    
    mem_param_94310.references = NULL;
    
    struct memblock_device ext_mem_94314;
    
    ext_mem_94314.references = NULL;
    
    struct memblock_device mem_94292;
    
    mem_94292.references = NULL;
    
    struct memblock_device mem_94290;
    
    mem_94290.references = NULL;
    
    struct memblock_device mem_94277;
    
    mem_94277.references = NULL;
    
    struct memblock_device mem_94275;
    
    mem_94275.references = NULL;
    
    struct memblock_device mem_94262;
    
    mem_94262.references = NULL;
    
    struct memblock_device mem_94260;
    
    mem_94260.references = NULL;
    
    struct memblock_device mem_94271;
    
    mem_94271.references = NULL;
    
    struct memblock_device ext_mem_94274;
    
    ext_mem_94274.references = NULL;
    
    struct memblock_device mem_94286;
    
    mem_94286.references = NULL;
    
    struct memblock_device ext_mem_94289;
    
    ext_mem_94289.references = NULL;
    
    struct memblock_device mem_94259;
    
    mem_94259.references = NULL;
    
    struct memblock_device mem_94301;
    
    mem_94301.references = NULL;
    
    struct memblock_device ext_mem_94304;
    
    ext_mem_94304.references = NULL;
    
    struct memblock_device mem_94368;
    
    mem_94368.references = NULL;
    
    struct memblock_device mem_94331;
    
    mem_94331.references = NULL;
    
    struct memblock_device mem_94330;
    
    mem_94330.references = NULL;
    
    struct memblock_device mem_94316;
    
    mem_94316.references = NULL;
    
    struct memblock_device mem_94307;
    
    mem_94307.references = NULL;
    
    struct memblock_device mem_94250;
    
    mem_94250.references = NULL;
    
    struct memblock_device mem_94248;
    
    mem_94248.references = NULL;
    
    struct memblock_device mem_param_tmp_98822;
    
    mem_param_tmp_98822.references = NULL;
    
    struct memblock_device mem_94244;
    
    mem_94244.references = NULL;
    
    struct memblock_device mem_param_94243;
    
    mem_param_94243.references = NULL;
    
    struct memblock_device ext_mem_94247;
    
    ext_mem_94247.references = NULL;
    
    struct memblock_device mem_param_tmp_98799;
    
    mem_param_tmp_98799.references = NULL;
    
    struct memblock_device mem_94230;
    
    mem_94230.references = NULL;
    
    struct memblock_device mem_param_94229;
    
    mem_param_94229.references = NULL;
    
    struct memblock_device ext_mem_94233;
    
    ext_mem_94233.references = NULL;
    
    struct memblock_device mem_94226;
    
    mem_94226.references = NULL;
    
    struct memblock_device mem_94209;
    
    mem_94209.references = NULL;
    
    struct memblock_device mem_94207;
    
    mem_94207.references = NULL;
    
    struct memblock_device mem_94206;
    
    mem_94206.references = NULL;
    
    struct memblock_device mem_94217;
    
    mem_94217.references = NULL;
    
    struct memblock_device ext_mem_94220;
    
    ext_mem_94220.references = NULL;
    
    struct memblock_device mem_94203;
    
    mem_94203.references = NULL;
    
    struct memblock_device mem_94202;
    
    mem_94202.references = NULL;
    
    struct memblock_device mem_94201;
    
    mem_94201.references = NULL;
    
    struct memblock_device mem_94199;
    
    mem_94199.references = NULL;
    
    struct memblock_device ext_mem_94200;
    
    ext_mem_94200.references = NULL;
    
    struct memblock_device mem_94187;
    
    mem_94187.references = NULL;
    
    struct memblock_device mem_94195;
    
    mem_94195.references = NULL;
    
    struct memblock_device ext_mem_94198;
    
    ext_mem_94198.references = NULL;
    
    struct memblock_device mem_94185;
    
    mem_94185.references = NULL;
    
    struct memblock_device mem_94240;
    
    mem_94240.references = NULL;
    
    struct memblock_device mem_param_tmp_98732;
    
    mem_param_tmp_98732.references = NULL;
    
    struct memblock_device mem_94179;
    
    mem_94179.references = NULL;
    
    struct memblock_device mem_param_94178;
    
    mem_param_94178.references = NULL;
    
    struct memblock_device ext_mem_94182;
    
    ext_mem_94182.references = NULL;
    
    struct memblock_device mem_94175;
    
    mem_94175.references = NULL;
    
    struct memblock_device mem_94174;
    
    mem_94174.references = NULL;
    
    struct memblock_device mem_94159;
    
    mem_94159.references = NULL;
    
    struct memblock_device mem_94157;
    
    mem_94157.references = NULL;
    
    struct memblock_device mem_94144;
    
    mem_94144.references = NULL;
    
    struct memblock_device mem_94142;
    
    mem_94142.references = NULL;
    
    struct memblock_device mem_94129;
    
    mem_94129.references = NULL;
    
    struct memblock_device mem_94127;
    
    mem_94127.references = NULL;
    
    struct memblock_device mem_94138;
    
    mem_94138.references = NULL;
    
    struct memblock_device ext_mem_94141;
    
    ext_mem_94141.references = NULL;
    
    struct memblock_device mem_94153;
    
    mem_94153.references = NULL;
    
    struct memblock_device ext_mem_94156;
    
    ext_mem_94156.references = NULL;
    
    struct memblock_device mem_94126;
    
    mem_94126.references = NULL;
    
    struct memblock_device mem_94168;
    
    mem_94168.references = NULL;
    
    struct memblock_device ext_mem_94171;
    
    ext_mem_94171.references = NULL;
    
    struct memblock_device mem_94381;
    
    mem_94381.references = NULL;
    
    struct memblock_device ext_mem_94384;
    
    ext_mem_94384.references = NULL;
    
    struct memblock_device mem_94118;
    
    mem_94118.references = NULL;
    
    struct memblock_device mem_94116;
    
    mem_94116.references = NULL;
    
    struct memblock_device mem_94113;
    
    mem_94113.references = NULL;
    
    struct memblock_device mem_94111;
    
    mem_94111.references = NULL;
    
    struct memblock_device mem_90838;
    
    mem_90838.references = NULL;
    
    struct memblock_device incprefixes_mem_98475;
    
    incprefixes_mem_98475.references = NULL;
    
    struct memblock_device aggregates_mem_98473;
    
    aggregates_mem_98473.references = NULL;
    
    struct memblock_device status_flags_mem_98471;
    
    status_flags_mem_98471.references = NULL;
    
    struct memblock_device mem_94038;
    
    mem_94038.references = NULL;
    
    struct memblock_device mem_94035;
    
    mem_94035.references = NULL;
    
    struct memblock_device mem_93984;
    
    mem_93984.references = NULL;
    
    struct memblock_device mem_93981;
    
    mem_93981.references = NULL;
    
    struct memblock_device mem_93970;
    
    mem_93970.references = NULL;
    
    struct memblock_device mem_93915;
    
    mem_93915.references = NULL;
    
    struct memblock_device mem_93897;
    
    mem_93897.references = NULL;
    
    struct memblock_device mem_93886;
    
    mem_93886.references = NULL;
    
    struct memblock_device mem_93875;
    
    mem_93875.references = NULL;
    
    struct memblock_device mem_93872;
    
    mem_93872.references = NULL;
    
    struct memblock_device mem_93831;
    
    mem_93831.references = NULL;
    
    struct memblock_device mem_93813;
    
    mem_93813.references = NULL;
    
    struct memblock_device mem_93802;
    
    mem_93802.references = NULL;
    
    struct memblock_device mem_93791;
    
    mem_93791.references = NULL;
    
    struct memblock_device mem_93788;
    
    mem_93788.references = NULL;
    
    struct memblock_device mem_93779;
    
    mem_93779.references = NULL;
    
    struct memblock_device mem_93761;
    
    mem_93761.references = NULL;
    
    struct memblock_device mem_93750;
    
    mem_93750.references = NULL;
    
    struct memblock_device mem_93739;
    
    mem_93739.references = NULL;
    
    struct memblock_device mem_93736;
    
    mem_93736.references = NULL;
    
    struct memblock_device mem_93782;
    
    mem_93782.references = NULL;
    
    struct memblock_device ext_mem_93785;
    
    ext_mem_93785.references = NULL;
    
    struct memblock_device mem_93733;
    
    mem_93733.references = NULL;
    
    struct memblock_device mem_93860;
    
    mem_93860.references = NULL;
    
    struct memblock_device ext_mem_93863;
    
    ext_mem_93863.references = NULL;
    
    struct memblock_device mem_93866;
    
    mem_93866.references = NULL;
    
    struct memblock_device ext_mem_93869;
    
    ext_mem_93869.references = NULL;
    
    struct memblock_device mem_93957;
    
    mem_93957.references = NULL;
    
    struct memblock_device ext_mem_93960;
    
    ext_mem_93960.references = NULL;
    
    struct memblock_device mem_93963;
    
    mem_93963.references = NULL;
    
    struct memblock_device ext_mem_93966;
    
    ext_mem_93966.references = NULL;
    
    struct memblock_device mem_94032;
    
    mem_94032.references = NULL;
    
    struct memblock_device ext_mem_94033;
    
    ext_mem_94033.references = NULL;
    
    struct memblock_device ext_mem_94107;
    
    ext_mem_94107.references = NULL;
    
    struct memblock_device ext_mem_94108;
    
    ext_mem_94108.references = NULL;
    
    struct memblock_device segred_tmp_mem_98059;
    
    segred_tmp_mem_98059.references = NULL;
    
    struct memblock_device color_95492;
    
    color_95492.references = NULL;
    
    struct memblock_device mem_93710;
    
    mem_93710.references = NULL;
    
    struct memblock_device segred_tmp_mem_98016;
    
    segred_tmp_mem_98016.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_97876;
    
    defunc_0_map_res_subhistos_mem_97876.references = NULL;
    
    struct memblock_device color_95491;
    
    color_95491.references = NULL;
    
    struct memblock_device color_95490;
    
    color_95490.references = NULL;
    
    struct memblock_device color_95489;
    
    color_95489.references = NULL;
    
    struct memblock_device color_95488;
    
    color_95488.references = NULL;
    
    struct memblock_device color_95487;
    
    color_95487.references = NULL;
    
    struct memblock_device color_95486;
    
    color_95486.references = NULL;
    
    struct memblock_device color_95485;
    
    color_95485.references = NULL;
    
    struct memblock_device mem_93635;
    
    mem_93635.references = NULL;
    
    struct memblock_device mem_92342;
    
    mem_92342.references = NULL;
    
    struct memblock_device mem_92339;
    
    mem_92339.references = NULL;
    
    struct memblock_device mem_param_tmp_97298;
    
    mem_param_tmp_97298.references = NULL;
    
    struct memblock_device mem_param_tmp_97297;
    
    mem_param_tmp_97297.references = NULL;
    
    struct memblock_device mem_param_tmp_97296;
    
    mem_param_tmp_97296.references = NULL;
    
    struct memblock_device mem_param_tmp_97295;
    
    mem_param_tmp_97295.references = NULL;
    
    struct memblock_device mem_92316;
    
    mem_92316.references = NULL;
    
    struct memblock_device mem_92312;
    
    mem_92312.references = NULL;
    
    struct memblock_device mem_92307;
    
    mem_92307.references = NULL;
    
    struct memblock_device mem_92303;
    
    mem_92303.references = NULL;
    
    struct memblock_device mem_91824;
    
    mem_91824.references = NULL;
    
    struct memblock_device mem_91820;
    
    mem_91820.references = NULL;
    
    struct memblock_device mem_91817;
    
    mem_91817.references = NULL;
    
    struct memblock_device mem_91814;
    
    mem_91814.references = NULL;
    
    struct memblock_device mem_91810;
    
    mem_91810.references = NULL;
    
    struct memblock_device mem_91805;
    
    mem_91805.references = NULL;
    
    struct memblock_device mem_91799;
    
    mem_91799.references = NULL;
    
    struct memblock_device mem_91794;
    
    mem_91794.references = NULL;
    
    struct memblock_device mem_91790;
    
    mem_91790.references = NULL;
    
    struct memblock_device mem_91773;
    
    mem_91773.references = NULL;
    
    struct memblock_device mem_91749;
    
    mem_91749.references = NULL;
    
    struct memblock_device mem_91732;
    
    mem_91732.references = NULL;
    
    struct memblock_device mem_91673;
    
    mem_91673.references = NULL;
    
    struct memblock_device mem_91649;
    
    mem_91649.references = NULL;
    
    struct memblock_device mem_91632;
    
    mem_91632.references = NULL;
    
    struct memblock_device mem_91615;
    
    mem_91615.references = NULL;
    
    struct memblock_device mem_91598;
    
    mem_91598.references = NULL;
    
    struct memblock_device mem_91593;
    
    mem_91593.references = NULL;
    
    struct memblock_device mem_91589;
    
    mem_91589.references = NULL;
    
    struct memblock_device mem_91585;
    
    mem_91585.references = NULL;
    
    struct memblock_device mem_91581;
    
    mem_91581.references = NULL;
    
    struct memblock_device mem_91580;
    
    mem_91580.references = NULL;
    
    struct memblock_device mem_91577;
    
    mem_91577.references = NULL;
    
    struct memblock_device mem_91576;
    
    mem_91576.references = NULL;
    
    struct memblock_device mem_91573;
    
    mem_91573.references = NULL;
    
    struct memblock_device mem_91570;
    
    mem_91570.references = NULL;
    
    struct memblock_device mem_91567;
    
    mem_91567.references = NULL;
    
    struct memblock_device mem_91550;
    
    mem_91550.references = NULL;
    
    struct memblock_device mem_91547;
    
    mem_91547.references = NULL;
    
    struct memblock_device mem_91544;
    
    mem_91544.references = NULL;
    
    struct memblock_device mem_91539;
    
    mem_91539.references = NULL;
    
    struct memblock_device mem_91528;
    
    mem_91528.references = NULL;
    
    struct memblock_device mem_91525;
    
    mem_91525.references = NULL;
    
    struct memblock_device mem_91924;
    
    mem_91924.references = NULL;
    
    struct memblock_device mem_91921;
    
    mem_91921.references = NULL;
    
    struct memblock_device mem_91917;
    
    mem_91917.references = NULL;
    
    struct memblock_device mem_91914;
    
    mem_91914.references = NULL;
    
    struct memblock_device ext_mem_91927;
    
    ext_mem_91927.references = NULL;
    
    struct memblock_device ext_mem_91929;
    
    ext_mem_91929.references = NULL;
    
    struct memblock_device ext_mem_91930;
    
    ext_mem_91930.references = NULL;
    
    struct memblock_device ext_mem_91931;
    
    ext_mem_91931.references = NULL;
    
    struct memblock_device mem_92114;
    
    mem_92114.references = NULL;
    
    struct memblock_device mem_92103;
    
    mem_92103.references = NULL;
    
    struct memblock_device mem_92086;
    
    mem_92086.references = NULL;
    
    struct memblock_device mem_92075;
    
    mem_92075.references = NULL;
    
    struct memblock_device mem_92035;
    
    mem_92035.references = NULL;
    
    struct memblock_device mem_92024;
    
    mem_92024.references = NULL;
    
    struct memblock_device mem_92007;
    
    mem_92007.references = NULL;
    
    struct memblock_device mem_91996;
    
    mem_91996.references = NULL;
    
    struct memblock_device mem_91985;
    
    mem_91985.references = NULL;
    
    struct memblock_device mem_91974;
    
    mem_91974.references = NULL;
    
    struct memblock_device mem_91970;
    
    mem_91970.references = NULL;
    
    struct memblock_device mem_91967;
    
    mem_91967.references = NULL;
    
    struct memblock_device mem_91964;
    
    mem_91964.references = NULL;
    
    struct memblock_device mem_91942;
    
    mem_91942.references = NULL;
    
    struct memblock_device mem_91945;
    
    mem_91945.references = NULL;
    
    struct memblock_device mem_91938;
    
    mem_91938.references = NULL;
    
    struct memblock_device mem_91936;
    
    mem_91936.references = NULL;
    
    struct memblock_device mem_91957;
    
    mem_91957.references = NULL;
    
    struct memblock_device mem_91954;
    
    mem_91954.references = NULL;
    
    struct memblock_device mem_91950;
    
    mem_91950.references = NULL;
    
    struct memblock_device mem_91948;
    
    mem_91948.references = NULL;
    
    struct memblock_device ext_mem_91958;
    
    ext_mem_91958.references = NULL;
    
    struct memblock_device ext_mem_91959;
    
    ext_mem_91959.references = NULL;
    
    struct memblock_device ext_mem_91960;
    
    ext_mem_91960.references = NULL;
    
    struct memblock_device ext_mem_91961;
    
    ext_mem_91961.references = NULL;
    
    struct memblock_device ext_mem_92118;
    
    ext_mem_92118.references = NULL;
    
    struct memblock_device ext_mem_92122;
    
    ext_mem_92122.references = NULL;
    
    struct memblock_device ext_mem_92125;
    
    ext_mem_92125.references = NULL;
    
    struct memblock_device ext_mem_92128;
    
    ext_mem_92128.references = NULL;
    
    struct memblock_device mem_91521;
    
    mem_91521.references = NULL;
    
    struct memblock_device mem_91520;
    
    mem_91520.references = NULL;
    
    struct memblock_device mem_92286;
    
    mem_92286.references = NULL;
    
    struct memblock_device mem_92283;
    
    mem_92283.references = NULL;
    
    struct memblock_device mem_92279;
    
    mem_92279.references = NULL;
    
    struct memblock_device mem_92276;
    
    mem_92276.references = NULL;
    
    struct memblock_device ext_mem_92290;
    
    ext_mem_92290.references = NULL;
    
    struct memblock_device ext_mem_92294;
    
    ext_mem_92294.references = NULL;
    
    struct memblock_device ext_mem_92297;
    
    ext_mem_92297.references = NULL;
    
    struct memblock_device ext_mem_92300;
    
    ext_mem_92300.references = NULL;
    
    struct memblock_device mem_param_91518;
    
    mem_param_91518.references = NULL;
    
    struct memblock_device mem_param_91515;
    
    mem_param_91515.references = NULL;
    
    struct memblock_device mem_param_91511;
    
    mem_param_91511.references = NULL;
    
    struct memblock_device mem_param_91508;
    
    mem_param_91508.references = NULL;
    
    struct memblock_device ext_mem_92327;
    
    ext_mem_92327.references = NULL;
    
    struct memblock_device ext_mem_92328;
    
    ext_mem_92328.references = NULL;
    
    struct memblock_device ext_mem_92329;
    
    ext_mem_92329.references = NULL;
    
    struct memblock_device ext_mem_92330;
    
    ext_mem_92330.references = NULL;
    
    struct memblock_device mem_91504;
    
    mem_91504.references = NULL;
    
    struct memblock_device mem_91500;
    
    mem_91500.references = NULL;
    
    struct memblock_device mem_91495;
    
    mem_91495.references = NULL;
    
    struct memblock_device mem_91491;
    
    mem_91491.references = NULL;
    
    struct memblock_device color_95438;
    
    color_95438.references = NULL;
    
    struct memblock_device color_95437;
    
    color_95437.references = NULL;
    
    struct memblock_device mem_91473;
    
    mem_91473.references = NULL;
    
    struct memblock_device mem_91462;
    
    mem_91462.references = NULL;
    
    struct memblock_device mem_91445;
    
    mem_91445.references = NULL;
    
    struct memblock_device mem_91434;
    
    mem_91434.references = NULL;
    
    struct memblock_device mem_91365;
    
    mem_91365.references = NULL;
    
    struct memblock_device mem_91354;
    
    mem_91354.references = NULL;
    
    struct memblock_device mem_91337;
    
    mem_91337.references = NULL;
    
    struct memblock_device mem_91326;
    
    mem_91326.references = NULL;
    
    struct memblock_device ext_mem_91478;
    
    ext_mem_91478.references = NULL;
    
    struct memblock_device ext_mem_91482;
    
    ext_mem_91482.references = NULL;
    
    struct memblock_device ext_mem_91485;
    
    ext_mem_91485.references = NULL;
    
    struct memblock_device ext_mem_91488;
    
    ext_mem_91488.references = NULL;
    
    struct memblock_device mem_91315;
    
    mem_91315.references = NULL;
    
    struct memblock_device mem_91312;
    
    mem_91312.references = NULL;
    
    struct memblock_device mem_91295;
    
    mem_91295.references = NULL;
    
    struct memblock_device mem_91292;
    
    mem_91292.references = NULL;
    
    struct memblock_device mem_91285;
    
    mem_91285.references = NULL;
    
    struct memblock_device mem_91284;
    
    mem_91284.references = NULL;
    
    struct memblock_device mem_91283;
    
    mem_91283.references = NULL;
    
    struct memblock_device segred_tmp_mem_97191;
    
    segred_tmp_mem_97191.references = NULL;
    
    struct memblock_device segred_tmp_mem_97189;
    
    segred_tmp_mem_97189.references = NULL;
    
    struct memblock_device segred_tmp_mem_97187;
    
    segred_tmp_mem_97187.references = NULL;
    
    struct memblock_device segred_tmp_mem_97185;
    
    segred_tmp_mem_97185.references = NULL;
    
    struct memblock_device mem_91282;
    
    mem_91282.references = NULL;
    
    struct memblock_device mem_91281;
    
    mem_91281.references = NULL;
    
    struct memblock_device mem_91279;
    
    mem_91279.references = NULL;
    
    struct memblock_device mem_91278;
    
    mem_91278.references = NULL;
    
    struct memblock_device mem_91273;
    
    mem_91273.references = NULL;
    
    struct memblock_device mem_91268;
    
    mem_91268.references = NULL;
    
    struct memblock_device ext_mem_92333;
    
    ext_mem_92333.references = NULL;
    
    struct memblock_device ext_mem_92337;
    
    ext_mem_92337.references = NULL;
    
    struct memblock_device mem_91254;
    
    mem_91254.references = NULL;
    
    struct memblock_device mem_91243;
    
    mem_91243.references = NULL;
    
    struct memblock_device mem_param_tmp_97132;
    
    mem_param_tmp_97132.references = NULL;
    
    struct memblock_device mem_91235;
    
    mem_91235.references = NULL;
    
    struct memblock_device mem_91223;
    
    mem_91223.references = NULL;
    
    struct memblock_device mem_91201;
    
    mem_91201.references = NULL;
    
    struct memblock_device mem_param_91197;
    
    mem_param_91197.references = NULL;
    
    struct memblock_device ext_mem_91239;
    
    ext_mem_91239.references = NULL;
    
    struct memblock_device mem_91212;
    
    mem_91212.references = NULL;
    
    struct memblock_device mem_91193;
    
    mem_91193.references = NULL;
    
    struct memblock_device mem_91190;
    
    mem_91190.references = NULL;
    
    struct memblock_device mem_91187;
    
    mem_91187.references = NULL;
    
    struct memblock_device mem_91176;
    
    mem_91176.references = NULL;
    
    struct memblock_device mem_91166;
    
    mem_91166.references = NULL;
    
    struct memblock_device mem_91148;
    
    mem_91148.references = NULL;
    
    struct memblock_device mem_91137;
    
    mem_91137.references = NULL;
    
    struct memblock_device mem_91126;
    
    mem_91126.references = NULL;
    
    struct memblock_device mem_91123;
    
    mem_91123.references = NULL;
    
    struct memblock_device mem_91169;
    
    mem_91169.references = NULL;
    
    struct memblock_device ext_mem_91172;
    
    ext_mem_91172.references = NULL;
    
    struct memblock_device mem_91257;
    
    mem_91257.references = NULL;
    
    struct memblock_device mem_91113;
    
    mem_91113.references = NULL;
    
    struct memblock_device mem_91111;
    
    mem_91111.references = NULL;
    
    struct memblock_device mem_91100;
    
    mem_91100.references = NULL;
    
    struct memblock_device mem_91045;
    
    mem_91045.references = NULL;
    
    struct memblock_device mem_91027;
    
    mem_91027.references = NULL;
    
    struct memblock_device mem_91016;
    
    mem_91016.references = NULL;
    
    struct memblock_device mem_91005;
    
    mem_91005.references = NULL;
    
    struct memblock_device mem_91002;
    
    mem_91002.references = NULL;
    
    struct memblock_device mem_90961;
    
    mem_90961.references = NULL;
    
    struct memblock_device mem_90943;
    
    mem_90943.references = NULL;
    
    struct memblock_device mem_90932;
    
    mem_90932.references = NULL;
    
    struct memblock_device mem_90921;
    
    mem_90921.references = NULL;
    
    struct memblock_device mem_90918;
    
    mem_90918.references = NULL;
    
    struct memblock_device mem_90909;
    
    mem_90909.references = NULL;
    
    struct memblock_device mem_90891;
    
    mem_90891.references = NULL;
    
    struct memblock_device mem_90880;
    
    mem_90880.references = NULL;
    
    struct memblock_device mem_90869;
    
    mem_90869.references = NULL;
    
    struct memblock_device mem_90866;
    
    mem_90866.references = NULL;
    
    struct memblock_device mem_90912;
    
    mem_90912.references = NULL;
    
    struct memblock_device ext_mem_90915;
    
    ext_mem_90915.references = NULL;
    
    struct memblock_device mem_90863;
    
    mem_90863.references = NULL;
    
    struct memblock_device mem_90990;
    
    mem_90990.references = NULL;
    
    struct memblock_device ext_mem_90993;
    
    ext_mem_90993.references = NULL;
    
    struct memblock_device mem_90996;
    
    mem_90996.references = NULL;
    
    struct memblock_device ext_mem_90999;
    
    ext_mem_90999.references = NULL;
    
    struct memblock_device mem_91087;
    
    mem_91087.references = NULL;
    
    struct memblock_device ext_mem_91090;
    
    ext_mem_91090.references = NULL;
    
    struct memblock_device mem_91093;
    
    mem_91093.references = NULL;
    
    struct memblock_device ext_mem_91096;
    
    ext_mem_91096.references = NULL;
    
    struct memblock_device mem_90844;
    
    mem_90844.references = NULL;
    
    struct memblock_device mem_90852;
    
    mem_90852.references = NULL;
    
    struct memblock_device ext_mem_90855;
    
    ext_mem_90855.references = NULL;
    
    struct memblock_device mem_93622;
    
    mem_93622.references = NULL;
    
    struct memblock_device mem_93619;
    
    mem_93619.references = NULL;
    
    struct memblock_device mem_param_tmp_96345;
    
    mem_param_tmp_96345.references = NULL;
    
    struct memblock_device mem_param_tmp_96344;
    
    mem_param_tmp_96344.references = NULL;
    
    struct memblock_device mem_param_tmp_96343;
    
    mem_param_tmp_96343.references = NULL;
    
    struct memblock_device mem_93599;
    
    mem_93599.references = NULL;
    
    struct memblock_device mem_93595;
    
    mem_93595.references = NULL;
    
    struct memblock_device mem_93590;
    
    mem_93590.references = NULL;
    
    struct memblock_device mem_93199;
    
    mem_93199.references = NULL;
    
    struct memblock_device mem_93195;
    
    mem_93195.references = NULL;
    
    struct memblock_device mem_93192;
    
    mem_93192.references = NULL;
    
    struct memblock_device mem_93188;
    
    mem_93188.references = NULL;
    
    struct memblock_device mem_93183;
    
    mem_93183.references = NULL;
    
    struct memblock_device mem_93177;
    
    mem_93177.references = NULL;
    
    struct memblock_device mem_93173;
    
    mem_93173.references = NULL;
    
    struct memblock_device mem_93156;
    
    mem_93156.references = NULL;
    
    struct memblock_device mem_93132;
    
    mem_93132.references = NULL;
    
    struct memblock_device mem_93082;
    
    mem_93082.references = NULL;
    
    struct memblock_device mem_93058;
    
    mem_93058.references = NULL;
    
    struct memblock_device mem_93041;
    
    mem_93041.references = NULL;
    
    struct memblock_device mem_93024;
    
    mem_93024.references = NULL;
    
    struct memblock_device mem_93019;
    
    mem_93019.references = NULL;
    
    struct memblock_device mem_93015;
    
    mem_93015.references = NULL;
    
    struct memblock_device mem_93011;
    
    mem_93011.references = NULL;
    
    struct memblock_device mem_93010;
    
    mem_93010.references = NULL;
    
    struct memblock_device mem_93007;
    
    mem_93007.references = NULL;
    
    struct memblock_device mem_93006;
    
    mem_93006.references = NULL;
    
    struct memblock_device mem_93003;
    
    mem_93003.references = NULL;
    
    struct memblock_device mem_93000;
    
    mem_93000.references = NULL;
    
    struct memblock_device mem_92997;
    
    mem_92997.references = NULL;
    
    struct memblock_device mem_92980;
    
    mem_92980.references = NULL;
    
    struct memblock_device mem_92977;
    
    mem_92977.references = NULL;
    
    struct memblock_device mem_92972;
    
    mem_92972.references = NULL;
    
    struct memblock_device mem_92961;
    
    mem_92961.references = NULL;
    
    struct memblock_device mem_92958;
    
    mem_92958.references = NULL;
    
    struct memblock_device mem_93282;
    
    mem_93282.references = NULL;
    
    struct memblock_device mem_93279;
    
    mem_93279.references = NULL;
    
    struct memblock_device mem_93275;
    
    mem_93275.references = NULL;
    
    struct memblock_device ext_mem_93285;
    
    ext_mem_93285.references = NULL;
    
    struct memblock_device ext_mem_93287;
    
    ext_mem_93287.references = NULL;
    
    struct memblock_device ext_mem_93288;
    
    ext_mem_93288.references = NULL;
    
    struct memblock_device mem_93435;
    
    mem_93435.references = NULL;
    
    struct memblock_device mem_93424;
    
    mem_93424.references = NULL;
    
    struct memblock_device mem_93407;
    
    mem_93407.references = NULL;
    
    struct memblock_device mem_93373;
    
    mem_93373.references = NULL;
    
    struct memblock_device mem_93362;
    
    mem_93362.references = NULL;
    
    struct memblock_device mem_93345;
    
    mem_93345.references = NULL;
    
    struct memblock_device mem_93334;
    
    mem_93334.references = NULL;
    
    struct memblock_device mem_93323;
    
    mem_93323.references = NULL;
    
    struct memblock_device mem_93319;
    
    mem_93319.references = NULL;
    
    struct memblock_device mem_93316;
    
    mem_93316.references = NULL;
    
    struct memblock_device mem_93297;
    
    mem_93297.references = NULL;
    
    struct memblock_device mem_93300;
    
    mem_93300.references = NULL;
    
    struct memblock_device mem_93293;
    
    mem_93293.references = NULL;
    
    struct memblock_device mem_93310;
    
    mem_93310.references = NULL;
    
    struct memblock_device mem_93307;
    
    mem_93307.references = NULL;
    
    struct memblock_device mem_93303;
    
    mem_93303.references = NULL;
    
    struct memblock_device ext_mem_93311;
    
    ext_mem_93311.references = NULL;
    
    struct memblock_device ext_mem_93312;
    
    ext_mem_93312.references = NULL;
    
    struct memblock_device ext_mem_93313;
    
    ext_mem_93313.references = NULL;
    
    struct memblock_device ext_mem_93439;
    
    ext_mem_93439.references = NULL;
    
    struct memblock_device ext_mem_93443;
    
    ext_mem_93443.references = NULL;
    
    struct memblock_device ext_mem_93446;
    
    ext_mem_93446.references = NULL;
    
    struct memblock_device mem_92954;
    
    mem_92954.references = NULL;
    
    struct memblock_device mem_92953;
    
    mem_92953.references = NULL;
    
    struct memblock_device mem_93576;
    
    mem_93576.references = NULL;
    
    struct memblock_device mem_93573;
    
    mem_93573.references = NULL;
    
    struct memblock_device mem_93569;
    
    mem_93569.references = NULL;
    
    struct memblock_device ext_mem_93580;
    
    ext_mem_93580.references = NULL;
    
    struct memblock_device ext_mem_93584;
    
    ext_mem_93584.references = NULL;
    
    struct memblock_device ext_mem_93587;
    
    ext_mem_93587.references = NULL;
    
    struct memblock_device mem_param_92951;
    
    mem_param_92951.references = NULL;
    
    struct memblock_device mem_param_92948;
    
    mem_param_92948.references = NULL;
    
    struct memblock_device mem_param_92944;
    
    mem_param_92944.references = NULL;
    
    struct memblock_device ext_mem_93608;
    
    ext_mem_93608.references = NULL;
    
    struct memblock_device ext_mem_93609;
    
    ext_mem_93609.references = NULL;
    
    struct memblock_device ext_mem_93610;
    
    ext_mem_93610.references = NULL;
    
    struct memblock_device mem_92940;
    
    mem_92940.references = NULL;
    
    struct memblock_device mem_92936;
    
    mem_92936.references = NULL;
    
    struct memblock_device mem_92931;
    
    mem_92931.references = NULL;
    
    struct memblock_device color_95390;
    
    color_95390.references = NULL;
    
    struct memblock_device color_95389;
    
    color_95389.references = NULL;
    
    struct memblock_device mem_92916;
    
    mem_92916.references = NULL;
    
    struct memblock_device mem_92905;
    
    mem_92905.references = NULL;
    
    struct memblock_device mem_92888;
    
    mem_92888.references = NULL;
    
    struct memblock_device mem_92831;
    
    mem_92831.references = NULL;
    
    struct memblock_device mem_92820;
    
    mem_92820.references = NULL;
    
    struct memblock_device mem_92803;
    
    mem_92803.references = NULL;
    
    struct memblock_device ext_mem_92921;
    
    ext_mem_92921.references = NULL;
    
    struct memblock_device ext_mem_92925;
    
    ext_mem_92925.references = NULL;
    
    struct memblock_device ext_mem_92928;
    
    ext_mem_92928.references = NULL;
    
    struct memblock_device mem_92792;
    
    mem_92792.references = NULL;
    
    struct memblock_device mem_92789;
    
    mem_92789.references = NULL;
    
    struct memblock_device mem_92772;
    
    mem_92772.references = NULL;
    
    struct memblock_device mem_92765;
    
    mem_92765.references = NULL;
    
    struct memblock_device mem_92764;
    
    mem_92764.references = NULL;
    
    struct memblock_device segred_tmp_mem_96253;
    
    segred_tmp_mem_96253.references = NULL;
    
    struct memblock_device segred_tmp_mem_96251;
    
    segred_tmp_mem_96251.references = NULL;
    
    struct memblock_device segred_tmp_mem_96249;
    
    segred_tmp_mem_96249.references = NULL;
    
    struct memblock_device mem_92763;
    
    mem_92763.references = NULL;
    
    struct memblock_device mem_92762;
    
    mem_92762.references = NULL;
    
    struct memblock_device mem_92760;
    
    mem_92760.references = NULL;
    
    struct memblock_device mem_92755;
    
    mem_92755.references = NULL;
    
    struct memblock_device mem_92750;
    
    mem_92750.references = NULL;
    
    struct memblock_device ext_mem_93613;
    
    ext_mem_93613.references = NULL;
    
    struct memblock_device ext_mem_93617;
    
    ext_mem_93617.references = NULL;
    
    struct memblock_device mem_92736;
    
    mem_92736.references = NULL;
    
    struct memblock_device mem_92725;
    
    mem_92725.references = NULL;
    
    struct memblock_device mem_param_tmp_96196;
    
    mem_param_tmp_96196.references = NULL;
    
    struct memblock_device mem_92717;
    
    mem_92717.references = NULL;
    
    struct memblock_device mem_92705;
    
    mem_92705.references = NULL;
    
    struct memblock_device mem_92683;
    
    mem_92683.references = NULL;
    
    struct memblock_device mem_param_92679;
    
    mem_param_92679.references = NULL;
    
    struct memblock_device ext_mem_92721;
    
    ext_mem_92721.references = NULL;
    
    struct memblock_device mem_92694;
    
    mem_92694.references = NULL;
    
    struct memblock_device mem_92675;
    
    mem_92675.references = NULL;
    
    struct memblock_device mem_92666;
    
    mem_92666.references = NULL;
    
    struct memblock_device mem_92648;
    
    mem_92648.references = NULL;
    
    struct memblock_device mem_92637;
    
    mem_92637.references = NULL;
    
    struct memblock_device mem_92626;
    
    mem_92626.references = NULL;
    
    struct memblock_device mem_92623;
    
    mem_92623.references = NULL;
    
    struct memblock_device mem_92669;
    
    mem_92669.references = NULL;
    
    struct memblock_device ext_mem_92672;
    
    ext_mem_92672.references = NULL;
    
    struct memblock_device mem_92739;
    
    mem_92739.references = NULL;
    
    struct memblock_device mem_92613;
    
    mem_92613.references = NULL;
    
    struct memblock_device mem_92611;
    
    mem_92611.references = NULL;
    
    struct memblock_device mem_92600;
    
    mem_92600.references = NULL;
    
    struct memblock_device mem_92545;
    
    mem_92545.references = NULL;
    
    struct memblock_device mem_92527;
    
    mem_92527.references = NULL;
    
    struct memblock_device mem_92516;
    
    mem_92516.references = NULL;
    
    struct memblock_device mem_92505;
    
    mem_92505.references = NULL;
    
    struct memblock_device mem_92502;
    
    mem_92502.references = NULL;
    
    struct memblock_device mem_92461;
    
    mem_92461.references = NULL;
    
    struct memblock_device mem_92443;
    
    mem_92443.references = NULL;
    
    struct memblock_device mem_92432;
    
    mem_92432.references = NULL;
    
    struct memblock_device mem_92421;
    
    mem_92421.references = NULL;
    
    struct memblock_device mem_92418;
    
    mem_92418.references = NULL;
    
    struct memblock_device mem_92409;
    
    mem_92409.references = NULL;
    
    struct memblock_device mem_92391;
    
    mem_92391.references = NULL;
    
    struct memblock_device mem_92380;
    
    mem_92380.references = NULL;
    
    struct memblock_device mem_92369;
    
    mem_92369.references = NULL;
    
    struct memblock_device mem_92366;
    
    mem_92366.references = NULL;
    
    struct memblock_device mem_92412;
    
    mem_92412.references = NULL;
    
    struct memblock_device ext_mem_92415;
    
    ext_mem_92415.references = NULL;
    
    struct memblock_device mem_92363;
    
    mem_92363.references = NULL;
    
    struct memblock_device mem_92490;
    
    mem_92490.references = NULL;
    
    struct memblock_device ext_mem_92493;
    
    ext_mem_92493.references = NULL;
    
    struct memblock_device mem_92496;
    
    mem_92496.references = NULL;
    
    struct memblock_device ext_mem_92499;
    
    ext_mem_92499.references = NULL;
    
    struct memblock_device mem_92587;
    
    mem_92587.references = NULL;
    
    struct memblock_device ext_mem_92590;
    
    ext_mem_92590.references = NULL;
    
    struct memblock_device mem_92593;
    
    mem_92593.references = NULL;
    
    struct memblock_device ext_mem_92596;
    
    ext_mem_92596.references = NULL;
    
    struct memblock_device mem_92344;
    
    mem_92344.references = NULL;
    
    struct memblock_device mem_92352;
    
    mem_92352.references = NULL;
    
    struct memblock_device ext_mem_92355;
    
    ext_mem_92355.references = NULL;
    
    struct memblock_device ext_mem_93623;
    
    ext_mem_93623.references = NULL;
    
    struct memblock_device ext_mem_93624;
    
    ext_mem_93624.references = NULL;
    
    struct memblock_device mem_90842;
    
    mem_90842.references = NULL;
    
    struct memblock_device mem_90841;
    
    mem_90841.references = NULL;
    
    struct memblock_device mem_90840;
    
    mem_90840.references = NULL;
    
    struct memblock_device mem_90839;
    
    mem_90839.references = NULL;
    
    struct memblock_device mem_90834;
    
    mem_90834.references = NULL;
    
    struct memblock_device mem_90835;
    
    mem_90835.references = NULL;
    
    struct memblock_device ext_mem_90836;
    
    ext_mem_90836.references = NULL;
    
    struct memblock_device mem_90833;
    
    mem_90833.references = NULL;
    
    struct memblock_device mem_90832;
    
    mem_90832.references = NULL;
    
    struct memblock_device mem_90828;
    
    mem_90828.references = NULL;
    
    struct memblock_device mem_90829;
    
    mem_90829.references = NULL;
    
    struct memblock_device ext_mem_90830;
    
    ext_mem_90830.references = NULL;
    
    struct memblock_device mem_90825;
    
    mem_90825.references = NULL;
    
    struct memblock_device mem_90826;
    
    mem_90826.references = NULL;
    
    struct memblock_device ext_mem_90827;
    
    ext_mem_90827.references = NULL;
    
    struct memblock_device mem_90822;
    
    mem_90822.references = NULL;
    
    struct memblock_device mem_90823;
    
    mem_90823.references = NULL;
    
    struct memblock_device ext_mem_90824;
    
    ext_mem_90824.references = NULL;
    
    struct memblock_device mem_90821;
    
    mem_90821.references = NULL;
    
    struct memblock_device mem_out_95760;
    
    mem_out_95760.references = NULL;
    
    struct memblock_device mem_out_95759;
    
    mem_out_95759.references = NULL;
    
    struct memblock_device mem_out_95758;
    
    mem_out_95758.references = NULL;
    
    struct memblock_device mem_out_95757;
    
    mem_out_95757.references = NULL;
    
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t prim_out_95761;
    int64_t prim_out_95762;
    int64_t prim_out_95763;
    int64_t arg_67058 = sub64(dim_48135, (int64_t) 1);
    bool assert_cond_67059 = arg_67058 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137;
    bool assert_c_67060;
    
    if (!assert_cond_67059) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  unknown location\n   #1  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_90820 = (int64_t) 8 * n_48138;
    
    if (memblock_alloc_device(ctx, &mem_90821, bytes_90820, "mem_90821")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_90821, n_48138, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool cond_67065 = !use_measure_for_sorting_48149;
    bool y_67066 = slt64((int64_t) 0, dz2080U_48136);
    bool protect_assert_disj_67067 = cond_67065 || y_67066;
    bool index_certs_67068;
    
    if (!protect_assert_disj_67067) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_67069 = dim_48135 == (int64_t) 0;
    bool cond_67071 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137 == (int64_t) 0;
    bool protect_assert_disj_67073 = assert_cond_67059 || cond_67065;
    bool empty_or_match_cert_67074;
    
    if (!protect_assert_disj_67073) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_67077 = use_measure_for_sorting_48149 || y_67066;
    bool index_certs_67078;
    
    if (!protect_assert_disj_67077) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_67079 = use_measure_for_sorting_48149 || assert_cond_67059;
    bool empty_or_match_cert_67080;
    
    if (!protect_assert_disj_67079) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_67081 = !cond_67071;
    bool y_67082 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137);
    bool protect_assert_disj_67083 = cond_67071 || y_67082;
    bool protect_assert_disj_67084 = cond_67065 || protect_assert_disj_67083;
    bool index_certs_67085;
    
    if (!protect_assert_disj_67084) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_cond_conj_67086 = use_measure_for_sorting_48149 && x_67081;
    bool x_69549 = !cond_67069;
    bool protect_cond_conj_69548 = cond_67065 && x_69549;
    bool y_67095 = slt64((int64_t) 0, dim_48135);
    bool protect_assert_disj_67104 = cond_67069 || y_67095;
    bool protect_assert_disj_67109 = use_measure_for_sorting_48149 || protect_assert_disj_67104;
    bool index_certs_67110;
    
    if (!protect_assert_disj_67109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_69372;
    
    if (!protect_assert_disj_67109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (protect_cond_conj_69548) {
        if (memblock_alloc_device(ctx, &mem_90823, (int64_t) 8, "mem_90823")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_95781(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_90823.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90824, &mem_90823, "mem_90823") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_90822, (int64_t) 8, "mem_90822")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_90822, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90824, &mem_90822, "mem_90822") != 0)
            return 1;
    }
    
    bool protect_cond_conj_69555 = use_measure_for_sorting_48149 && x_69549;
    bool protect_assert_disj_67105 = cond_67065 || protect_assert_disj_67104;
    bool index_certs_67106;
    
    if (!protect_assert_disj_67105) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_69394;
    
    if (!protect_assert_disj_67105) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (protect_cond_conj_69555) {
        if (memblock_alloc_device(ctx, &mem_90826, (int64_t) 8, "mem_90826")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_95807(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_90826.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90827, &mem_90826, "mem_90826") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_90825, (int64_t) 8, "mem_90825")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_90825, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90827, &mem_90825, "mem_90825") != 0)
            return 1;
    }
    
    bool cond_68002 = sle64(n_48138, (int64_t) 1);
    bool x_68003 = !cond_68002;
    bool protect_cond_conj_69326 = cond_67065 && x_68003;
    int64_t zs_lhs_68004 = sub64(n_48138, (int64_t) 1);
    int64_t zp_rhs_68005 = sdiv_safe64(zs_lhs_68004, (int64_t) 20);
    int64_t min_num_blocks_68006 = add64((int64_t) 1, zp_rhs_68005);
    bool loop_cond_68007 = slt64((int64_t) 1, min_num_blocks_68006);
    bool x_69317;
    int64_t x_69318;
    bool loop_while_67280;
    int64_t x_67281;
    
    loop_while_67280 = loop_cond_68007;
    x_67281 = (int64_t) 1;
    while (loop_while_67280) {
        int64_t loopres_67282 = mul64((int64_t) 2, x_67281);
        bool loop_cond_67283 = slt64(loopres_67282, min_num_blocks_68006);
        bool loop_while_tmp_95813 = loop_cond_67283;
        int64_t x_tmp_95814 = loopres_67282;
        
        loop_while_67280 = loop_while_tmp_95813;
        x_67281 = x_tmp_95814;
    }
    x_69317 = loop_while_67280;
    x_69318 = x_67281;
    
    bool zzero_67284 = x_69318 == (int64_t) 0;
    bool nonzzero_67285 = !zzero_67284;
    bool protect_assert_disj_67286 = nonzzero_67285 || cond_68002;
    bool protect_assert_disj_69322 = use_measure_for_sorting_48149 || protect_assert_disj_67286;
    bool nonzzero_cert_67287;
    
    if (!protect_assert_disj_69322) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_67288 = sdiv_safe64(zs_lhs_68004, x_69318);
    int64_t block_sizze_67289 = add64((int64_t) 1, zp_rhs_67288);
    int64_t greatest_divisor_leq_than_arg1_67301 = mul64((int64_t) 2, block_sizze_67289);
    int64_t merge_block_sizze_67302;
    
    if (protect_cond_conj_69326) {
        int64_t x_72924;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_72924, (int64_t) 8, greatest_divisor_leq_than_arg1_67301) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_67302 = x_72924;
    } else {
        merge_block_sizze_67302 = (int64_t) 0;
    }
    
    bool zzero_67423 = merge_block_sizze_67302 == (int64_t) 0;
    bool nonzzero_67424 = !zzero_67423;
    int64_t flat_dim_67297 = block_sizze_67289 * x_69318;
    bool loop_cond_67422 = slt64(block_sizze_67289, flat_dim_67297);
    int64_t tmp_67329 = sub64(block_sizze_67289, (int64_t) 2);
    bool bounds_invalid_upwards_67330 = slt64(tmp_67329, (int64_t) 0);
    bool valid_67332 = !bounds_invalid_upwards_67330;
    bool cond_67328 = sle64(block_sizze_67289, (int64_t) 1);
    bool protect_assert_disj_67333 = cond_67328 || valid_67332;
    bool protect_assert_disj_69312 = protect_assert_disj_67333 || cond_68002;
    bool protect_assert_disj_69332 = use_measure_for_sorting_48149 || protect_assert_disj_69312;
    bool range_valid_c_67334;
    
    if (!protect_assert_disj_69332) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_67329, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_67331 = add64((int64_t) 1, tmp_67329);
    bool bounds_invalid_upwards_67324 = slt64(block_sizze_67289, (int64_t) 0);
    bool valid_67325 = !bounds_invalid_upwards_67324;
    bool protect_assert_disj_69310 = valid_67325 || cond_68002;
    bool protect_assert_disj_69330 = use_measure_for_sorting_48149 || protect_assert_disj_69310;
    bool range_valid_c_67326;
    
    if (!protect_assert_disj_69330) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_67289, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_67320 = slt64(x_69318, (int64_t) 0);
    bool valid_67321 = !bounds_invalid_upwards_67320;
    bool protect_assert_disj_69308 = valid_67321 || cond_68002;
    bool protect_assert_disj_69328 = use_measure_for_sorting_48149 || protect_assert_disj_69308;
    bool range_valid_c_67322;
    
    if (!protect_assert_disj_69328) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) x_69318, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_68020 = slt64((int64_t) 0, n_48138);
    bool protect_assert_disj_68021 = cond_68002 || y_68020;
    bool protect_assert_disj_69324 = use_measure_for_sorting_48149 || protect_assert_disj_68021;
    bool index_certs_67292;
    
    if (!protect_assert_disj_69324) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_48138, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool zzero_leq_i_p_m_t_s_68658 = sle64((int64_t) 0, zs_lhs_68004);
    bool empty_slice_68657 = n_48138 == (int64_t) 0;
    bool protect_cond_conj_69358 = use_measure_for_sorting_48149 && x_68003;
    bool x_69349;
    int64_t x_69350;
    bool loop_while_68010;
    int64_t x_68011;
    
    loop_while_68010 = loop_cond_68007;
    x_68011 = (int64_t) 1;
    while (loop_while_68010) {
        int64_t loopres_68012 = mul64((int64_t) 2, x_68011);
        bool loop_cond_68013 = slt64(loopres_68012, min_num_blocks_68006);
        bool loop_while_tmp_95815 = loop_cond_68013;
        int64_t x_tmp_95816 = loopres_68012;
        
        loop_while_68010 = loop_while_tmp_95815;
        x_68011 = x_tmp_95816;
    }
    x_69349 = loop_while_68010;
    x_69350 = x_68011;
    
    bool zzero_68014 = x_69350 == (int64_t) 0;
    bool nonzzero_68015 = !zzero_68014;
    bool protect_assert_disj_68016 = cond_68002 || nonzzero_68015;
    bool protect_assert_disj_69354 = cond_67065 || protect_assert_disj_68016;
    bool nonzzero_cert_68017;
    
    if (!protect_assert_disj_69354) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_68018 = sdiv_safe64(zs_lhs_68004, x_69350);
    int64_t block_sizze_68019 = add64((int64_t) 1, zp_rhs_68018);
    int64_t greatest_divisor_leq_than_arg1_68034 = mul64((int64_t) 2, block_sizze_68019);
    int64_t merge_block_sizze_68035;
    
    if (protect_cond_conj_69358) {
        int64_t x_72923;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_72923, (int64_t) 8, greatest_divisor_leq_than_arg1_68034) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_68035 = x_72923;
    } else {
        merge_block_sizze_68035 = (int64_t) 0;
    }
    
    bool zzero_68197 = merge_block_sizze_68035 == (int64_t) 0;
    bool nonzzero_68198 = !zzero_68197;
    int64_t flat_dim_68029 = block_sizze_68019 * x_69350;
    bool loop_cond_68196 = slt64(block_sizze_68019, flat_dim_68029);
    int64_t tmp_68073 = sub64(block_sizze_68019, (int64_t) 2);
    bool bounds_invalid_upwards_68074 = slt64(tmp_68073, (int64_t) 0);
    bool valid_68076 = !bounds_invalid_upwards_68074;
    bool cond_68072 = sle64(block_sizze_68019, (int64_t) 1);
    bool protect_assert_disj_68077 = cond_68072 || valid_68076;
    bool protect_assert_disj_69344 = cond_68002 || protect_assert_disj_68077;
    bool protect_assert_disj_69364 = cond_67065 || protect_assert_disj_69344;
    bool range_valid_c_68078;
    
    if (!protect_assert_disj_69364) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_68073, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_68075 = add64((int64_t) 1, tmp_68073);
    bool bounds_invalid_upwards_68068 = slt64(block_sizze_68019, (int64_t) 0);
    bool valid_68069 = !bounds_invalid_upwards_68068;
    bool protect_assert_disj_69342 = cond_68002 || valid_68069;
    bool protect_assert_disj_69362 = cond_67065 || protect_assert_disj_69342;
    bool range_valid_c_68070;
    
    if (!protect_assert_disj_69362) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_68019, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_68064 = slt64(x_69350, (int64_t) 0);
    bool valid_68065 = !bounds_invalid_upwards_68064;
    bool protect_assert_disj_69340 = cond_68002 || valid_68065;
    bool protect_assert_disj_69360 = cond_67065 || protect_assert_disj_69340;
    bool range_valid_c_68066;
    
    if (!protect_assert_disj_69360) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) x_69350, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_69356 = cond_67065 || protect_assert_disj_68021;
    bool index_certs_68022;
    
    if (!protect_assert_disj_69356) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_48138, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_67096 = slt64(dim_48135, (int64_t) 1);
    bool valid_67107 = !bounds_invalid_upwards_67096;
    bool protect_assert_disj_67112 = cond_67069 || valid_67107;
    bool protect_assert_disj_67116 = use_measure_for_sorting_48149 || protect_assert_disj_67112;
    bool range_valid_c_67118;
    
    if (!protect_assert_disj_67116) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_67117;
    
    if (!protect_assert_disj_67116) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_67113 = cond_67065 || protect_assert_disj_67112;
    bool range_valid_c_67115;
    
    if (!protect_assert_disj_67113) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_67114;
    
    if (!protect_assert_disj_67113) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_67089 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, (int64_t) 1);
    bool valid_67091 = !bounds_invalid_upwards_67089;
    bool protect_assert_disj_67092 = cond_67071 || valid_67091;
    bool protect_assert_disj_67102 = use_measure_for_sorting_48149 || protect_assert_disj_67092;
    bool range_valid_c_67103;
    
    if (!protect_assert_disj_67102) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_cond_conj_67099 = cond_67065 && x_67081;
    bool protect_assert_disj_67097 = use_measure_for_sorting_48149 || protect_assert_disj_67083;
    bool index_certs_67098;
    
    if (!protect_assert_disj_67097) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_67093 = cond_67065 || protect_assert_disj_67092;
    bool range_valid_c_67094;
    
    if (!protect_assert_disj_67093) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_67090 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, (int64_t) 1);
    bool protect_cond_conj_73274 = x_67081 && protect_cond_conj_67086;
    bool protect_cond_conj_73277 = use_measure_for_sorting_48149 && protect_cond_conj_73274;
    double defunc_0_f_res_67087;
    
    if (protect_cond_conj_73277) {
        double x_72655;
        
        if (futrts_lifted_lambda_10057(ctx, &x_72655, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_67087 = x_72655;
    } else {
        defunc_0_f_res_67087 = 0.0;
    }
    
    bool protect_cond_conj_73268 = x_67081 && protect_cond_conj_67099;
    bool protect_cond_conj_73271 = cond_67065 && protect_cond_conj_73268;
    double defunc_0_f_res_71934;
    
    if (protect_cond_conj_73271) {
        double x_71935;
        
        if (futrts_lifted_lambda_10057(ctx, &x_71935, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_71934 = x_71935;
    } else {
        defunc_0_f_res_71934 = 0.0;
    }
    
    int64_t max_tblock_sizze_82870;
    
    max_tblock_sizze_82870 = ctx->max_thread_block_size;
    
    bool fits_82871 = sle64(dim_48135, max_tblock_sizze_82870);
    bool suff_intra_par_82873;
    
    suff_intra_par_82873 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_4 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_4", (long) dim_48135, suff_intra_par_82873 ? "true" : "false");
    
    bool intra_suff_and_fits_82874 = fits_82871 && suff_intra_par_82873;
    bool suff_intra_par_82949;
    
    suff_intra_par_82949 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_5 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_5", (long) dim_48135, suff_intra_par_82949 ? "true" : "false");
    
    bool intra_suff_and_fits_82950 = fits_82871 && suff_intra_par_82949;
    int64_t nest_sizze_83004 = dim_48135 * n_48138;
    int64_t segmap_tblock_sizze_83005;
    
    segmap_tblock_sizze_83005 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82553;
    
    int64_t segmap_usable_groups_83006 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_83005);
    int64_t segmap_tblock_sizze_83021;
    
    segmap_tblock_sizze_83021 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82520;
    
    int64_t segmap_usable_groups_83022 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_83021);
    int64_t segmap_tblock_sizze_83034;
    
    segmap_tblock_sizze_83034 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82466;
    
    int64_t segmap_usable_groups_83035 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_83034);
    int64_t segmap_tblock_sizze_83046;
    
    segmap_tblock_sizze_83046 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82440;
    
    int64_t num_tblocks_83047;
    int64_t max_num_tblocks_95817;
    
    max_num_tblocks_95817 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82442;
    num_tblocks_83047 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_83046), max_num_tblocks_95817)));
    
    int64_t segmap_tblock_sizze_83067;
    
    segmap_tblock_sizze_83067 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82408;
    
    int64_t segmap_usable_groups_83068 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_83067);
    int64_t segmap_tblock_sizze_83079;
    
    segmap_tblock_sizze_83079 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82382;
    
    int64_t num_tblocks_83080;
    int64_t max_num_tblocks_95818;
    
    max_num_tblocks_95818 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82384;
    num_tblocks_83080 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_83079), max_num_tblocks_95818)));
    
    int64_t segmap_tblock_sizze_83100;
    
    segmap_tblock_sizze_83100 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82255;
    
    int64_t segmap_usable_groups_83101 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_83100);
    int64_t segmap_tblock_sizze_83112;
    
    segmap_tblock_sizze_83112 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82226;
    
    int64_t num_tblocks_83113;
    int64_t max_num_tblocks_95819;
    
    max_num_tblocks_95819 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82228;
    num_tblocks_83113 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_83112), max_num_tblocks_95819)));
    
    int64_t segmap_tblock_sizze_83141;
    
    segmap_tblock_sizze_83141 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82049;
    
    int64_t segmap_usable_groups_83142 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_83141);
    int64_t segmap_tblock_sizze_83152;
    
    segmap_tblock_sizze_83152 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82020;
    
    int64_t segmap_usable_groups_83153 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_83152);
    int64_t segmap_tblock_sizze_83172;
    
    segmap_tblock_sizze_83172 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81950;
    
    int64_t segmap_usable_groups_83173 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_83172);
    int64_t segmap_tblock_sizze_83187;
    
    segmap_tblock_sizze_83187 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81924;
    
    int64_t segmap_usable_groups_83188 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_83187);
    int64_t segmap_tblock_sizze_83209;
    
    segmap_tblock_sizze_83209 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81878;
    
    int64_t num_tblocks_83210;
    int64_t max_num_tblocks_95820;
    
    max_num_tblocks_95820 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_81880;
    num_tblocks_83210 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_83209), max_num_tblocks_95820)));
    
    int64_t segmap_tblock_sizze_83234;
    
    segmap_tblock_sizze_83234 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81828;
    
    int64_t segmap_usable_groups_83235 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_83234);
    int64_t segmap_tblock_sizze_83244;
    
    segmap_tblock_sizze_83244 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81803;
    
    int64_t segmap_usable_groups_83245 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_83244);
    int64_t segmap_tblock_sizze_83285;
    
    segmap_tblock_sizze_83285 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81748;
    
    int64_t segmap_tblock_sizze_83295;
    
    segmap_tblock_sizze_83295 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81717;
    
    int64_t num_tblocks_83296;
    int64_t max_num_tblocks_95821;
    
    max_num_tblocks_95821 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_81719;
    num_tblocks_83296 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_83295), max_num_tblocks_95821)));
    
    int64_t nest_sizze_83318 = n_48138 * arg_67058;
    int64_t segmap_tblock_sizze_83319;
    
    segmap_tblock_sizze_83319 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81681;
    
    int64_t segmap_usable_groups_83320 = sdiv_up_safe64(nest_sizze_83318, segmap_tblock_sizze_83319);
    int64_t segmap_tblock_sizze_83332;
    
    segmap_tblock_sizze_83332 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81653;
    
    int64_t segmap_usable_groups_83333 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_83332);
    int64_t segred_tblock_sizze_83348;
    
    segred_tblock_sizze_83348 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_83347;
    
    int64_t num_tblocks_83350;
    int64_t max_num_tblocks_95822;
    
    max_num_tblocks_95822 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_83349;
    num_tblocks_83350 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segred_tblock_sizze_83348), max_num_tblocks_95822)));
    
    int64_t segmap_tblock_sizze_83755;
    
    segmap_tblock_sizze_83755 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83682;
    
    int64_t num_tblocks_83756;
    int64_t max_num_tblocks_95823;
    
    max_num_tblocks_95823 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83684;
    num_tblocks_83756 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(flat_dim_68029, segmap_tblock_sizze_83755), max_num_tblocks_95823)));
    
    int64_t segmap_tblock_sizze_83792;
    
    segmap_tblock_sizze_83792 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83467;
    
    int64_t num_tblocks_83793;
    int64_t max_num_tblocks_95824;
    
    max_num_tblocks_95824 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83469;
    num_tblocks_83793 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(x_69350, segmap_tblock_sizze_83792), max_num_tblocks_95824)));
    
    int64_t segmap_tblock_sizze_87130;
    
    segmap_tblock_sizze_87130 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87104;
    
    bool suff_intra_par_77144;
    
    suff_intra_par_77144 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_0 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_0", (long) dim_48135, suff_intra_par_77144 ? "true" : "false");
    
    bool intra_suff_and_fits_77145 = suff_intra_par_77144 && fits_82871;
    bool suff_intra_par_77220;
    
    suff_intra_par_77220 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_1 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_1", (long) dim_48135, suff_intra_par_77220 ? "true" : "false");
    
    bool intra_suff_and_fits_77221 = suff_intra_par_77220 && fits_82871;
    int64_t segmap_tblock_sizze_77276;
    
    segmap_tblock_sizze_77276 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76824;
    
    int64_t segmap_usable_groups_77277 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_77276);
    int64_t segmap_tblock_sizze_77292;
    
    segmap_tblock_sizze_77292 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76791;
    
    int64_t segmap_usable_groups_77293 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_77292);
    int64_t segmap_tblock_sizze_77305;
    
    segmap_tblock_sizze_77305 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76737;
    
    int64_t segmap_usable_groups_77306 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_77305);
    int64_t segmap_tblock_sizze_77317;
    
    segmap_tblock_sizze_77317 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76711;
    
    int64_t num_tblocks_77318;
    int64_t max_num_tblocks_95825;
    
    max_num_tblocks_95825 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76713;
    num_tblocks_77318 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_77317), max_num_tblocks_95825)));
    
    int64_t segmap_tblock_sizze_77338;
    
    segmap_tblock_sizze_77338 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76679;
    
    int64_t segmap_usable_groups_77339 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_77338);
    int64_t segmap_tblock_sizze_77350;
    
    segmap_tblock_sizze_77350 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76653;
    
    int64_t num_tblocks_77351;
    int64_t max_num_tblocks_95826;
    
    max_num_tblocks_95826 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76655;
    num_tblocks_77351 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_77350), max_num_tblocks_95826)));
    
    int64_t segmap_tblock_sizze_77371;
    
    segmap_tblock_sizze_77371 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76526;
    
    int64_t segmap_usable_groups_77372 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_77371);
    int64_t segmap_tblock_sizze_77383;
    
    segmap_tblock_sizze_77383 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76497;
    
    int64_t num_tblocks_77384;
    int64_t max_num_tblocks_95827;
    
    max_num_tblocks_95827 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76499;
    num_tblocks_77384 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_77383), max_num_tblocks_95827)));
    
    int64_t segmap_tblock_sizze_77412;
    
    segmap_tblock_sizze_77412 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76320;
    
    int64_t segmap_usable_groups_77413 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_77412);
    int64_t segmap_tblock_sizze_77423;
    
    segmap_tblock_sizze_77423 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76291;
    
    int64_t segmap_usable_groups_77424 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_77423);
    int64_t segmap_tblock_sizze_77443;
    
    segmap_tblock_sizze_77443 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76221;
    
    int64_t segmap_usable_groups_77444 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_77443);
    int64_t segmap_tblock_sizze_77458;
    
    segmap_tblock_sizze_77458 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76195;
    
    int64_t segmap_usable_groups_77459 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_77458);
    int64_t segmap_tblock_sizze_77480;
    
    segmap_tblock_sizze_77480 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76149;
    
    int64_t num_tblocks_77481;
    int64_t max_num_tblocks_95828;
    
    max_num_tblocks_95828 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76151;
    num_tblocks_77481 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_77480), max_num_tblocks_95828)));
    
    int64_t segmap_tblock_sizze_77528;
    
    segmap_tblock_sizze_77528 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76066;
    
    int64_t segmap_tblock_sizze_77538;
    
    segmap_tblock_sizze_77538 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76035;
    
    int64_t num_tblocks_77539;
    int64_t max_num_tblocks_95829;
    
    max_num_tblocks_95829 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76037;
    num_tblocks_77539 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_77538), max_num_tblocks_95829)));
    
    int64_t segmap_tblock_sizze_77562;
    
    segmap_tblock_sizze_77562 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75999;
    
    int64_t segmap_usable_groups_77563 = sdiv_up_safe64(nest_sizze_83318, segmap_tblock_sizze_77562);
    int64_t segmap_tblock_sizze_77575;
    
    segmap_tblock_sizze_77575 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75971;
    
    int64_t segmap_usable_groups_77576 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_77575);
    int64_t segred_tblock_sizze_77591;
    
    segred_tblock_sizze_77591 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_77590;
    
    int64_t num_tblocks_77593;
    int64_t max_num_tblocks_95830;
    
    max_num_tblocks_95830 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_77592;
    num_tblocks_77593 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segred_tblock_sizze_77591), max_num_tblocks_95830)));
    
    int64_t segmap_tblock_sizze_77912;
    
    segmap_tblock_sizze_77912 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77844;
    
    int64_t num_tblocks_77913;
    int64_t max_num_tblocks_95831;
    
    max_num_tblocks_95831 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77846;
    num_tblocks_77913 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(flat_dim_67297, segmap_tblock_sizze_77912), max_num_tblocks_95831)));
    
    int64_t segmap_tblock_sizze_77943;
    
    segmap_tblock_sizze_77943 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77680;
    
    int64_t num_tblocks_77944;
    int64_t max_num_tblocks_95832;
    
    max_num_tblocks_95832 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77682;
    num_tblocks_77944 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(x_69318, segmap_tblock_sizze_77943), max_num_tblocks_95832)));
    
    int64_t segmap_tblock_sizze_80816;
    
    segmap_tblock_sizze_80816 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80790;
    
    bool index_certs_68676;
    
    if (!y_67066) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:298:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_68678;
    
    if (!protect_assert_disj_67104) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_68679;
    
    if (!protect_assert_disj_67112) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:298:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_69416;
    
    if (!protect_assert_disj_67104) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_69549) {
        if (memblock_alloc_device(ctx, &mem_90829, (int64_t) 8, "mem_90829")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_95833(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_90829.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90830, &mem_90829, "mem_90829") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_90828, (int64_t) 8, "mem_90828")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_90828, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90830, &mem_90828, "mem_90828") != 0)
            return 1;
    }
    
    int64_t bytes_90831 = (int64_t) 4 * total_grid_no_48146;
    
    if (memblock_alloc_device(ctx, &mem_90832, bytes_90831, "mem_90832")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, mem_90832, total_grid_no_48146, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_88036;
    
    seghist_tblock_sizze_88036 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035;
    
    int64_t num_tblocks_88038;
    int64_t max_num_tblocks_95859;
    
    max_num_tblocks_95859 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_88037;
    num_tblocks_88038 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, seghist_tblock_sizze_88036), max_num_tblocks_95859)));
    if (memblock_alloc_device(ctx, &mem_90833, total_grid_no_48146, "mem_90833")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_bool(ctx, mem_90833, total_grid_no_48146, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segred_tblock_sizze_88119;
    
    segred_tblock_sizze_88119 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88118;
    
    int64_t num_tblocks_88121;
    int64_t max_num_tblocks_95880;
    
    max_num_tblocks_95880 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_88120;
    num_tblocks_88121 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_grid_no_48146, segred_tblock_sizze_88119), max_num_tblocks_95880)));
    
    bool index_certs_68797;
    
    if (!y_67066) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:326:66-67\n   #2  /prelude/soacs.fut:255:31-32\n   #3  /prelude/soacs.fut:255:48-50\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_68798;
    
    if (!protect_assert_disj_67104) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_68799;
    
    if (!protect_assert_disj_67112) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:326:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_69549) {
        if (memblock_alloc_device(ctx, &mem_90835, (int64_t) 8, "mem_90835")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_95881(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_90835.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90836, &mem_90835, "mem_90835") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_90834, (int64_t) 8, "mem_90834")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_90834, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_90836, &mem_90834, "mem_90834") != 0)
            return 1;
    }
    
    bool suff_outer_screma_88128;
    
    suff_outer_screma_88128 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_outer_screma_8 <= n_48138;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_outer_screma_8", (long) n_48138, suff_outer_screma_88128 ? "true" : "false");
    
    bool suff_intra_par_89514;
    
    suff_intra_par_89514 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_9 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_9", (long) dim_48135, suff_intra_par_89514 ? "true" : "false");
    
    bool intra_suff_and_fits_89515 = fits_82871 && suff_intra_par_89514;
    bool suff_intra_par_89610;
    
    suff_intra_par_89610 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_10 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_10", (long) dim_48135, suff_intra_par_89610 ? "true" : "false");
    
    bool intra_suff_and_fits_89611 = fits_82871 && suff_intra_par_89610;
    bool suff_intra_par_89686;
    
    suff_intra_par_89686 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_11 <= dim_48135;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_11", (long) dim_48135, suff_intra_par_89686 ? "true" : "false");
    
    bool intra_suff_and_fits_89687 = fits_82871 && suff_intra_par_89686;
    int64_t segmap_tblock_sizze_89742;
    
    segmap_tblock_sizze_89742 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88883;
    
    int64_t segmap_usable_groups_89743 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_89742);
    int64_t segmap_tblock_sizze_89758;
    
    segmap_tblock_sizze_89758 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88850;
    
    int64_t segmap_usable_groups_89759 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_89758);
    int64_t segmap_tblock_sizze_89771;
    
    segmap_tblock_sizze_89771 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88796;
    
    int64_t segmap_usable_groups_89772 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_89771);
    int64_t segmap_tblock_sizze_89783;
    
    segmap_tblock_sizze_89783 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88770;
    
    int64_t num_tblocks_89784;
    int64_t max_num_tblocks_95887;
    
    max_num_tblocks_95887 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_88772;
    num_tblocks_89784 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_89783), max_num_tblocks_95887)));
    
    int64_t segmap_tblock_sizze_89804;
    
    segmap_tblock_sizze_89804 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88738;
    
    int64_t segmap_usable_groups_89805 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_89804);
    int64_t segmap_tblock_sizze_89816;
    
    segmap_tblock_sizze_89816 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88712;
    
    int64_t num_tblocks_89817;
    int64_t max_num_tblocks_95888;
    
    max_num_tblocks_95888 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_88714;
    num_tblocks_89817 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_89816), max_num_tblocks_95888)));
    
    int64_t segmap_tblock_sizze_89837;
    
    segmap_tblock_sizze_89837 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88585;
    
    int64_t segmap_usable_groups_89838 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_89837);
    int64_t segmap_tblock_sizze_89849;
    
    segmap_tblock_sizze_89849 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88556;
    
    int64_t num_tblocks_89850;
    int64_t max_num_tblocks_95889;
    
    max_num_tblocks_95889 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_88558;
    num_tblocks_89850 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_89849), max_num_tblocks_95889)));
    
    int64_t segmap_tblock_sizze_89878;
    
    segmap_tblock_sizze_89878 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88379;
    
    int64_t segmap_usable_groups_89879 = sdiv_up_safe64(nest_sizze_83004, segmap_tblock_sizze_89878);
    int64_t segmap_tblock_sizze_89889;
    
    segmap_tblock_sizze_89889 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88347;
    
    int64_t segmap_usable_groups_89890 = sdiv_up_safe64(n_48138, segmap_tblock_sizze_89889);
    int64_t segscan_tblock_sizze_89910;
    
    segscan_tblock_sizze_89910 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_89502;
    
    int64_t num_tblocks_89911;
    int64_t max_num_tblocks_95890;
    
    max_num_tblocks_95890 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_89504;
    num_tblocks_89911 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segscan_tblock_sizze_89910), max_num_tblocks_95890)));
    
    int64_t segscan_tblock_sizze_88138;
    
    segscan_tblock_sizze_88138 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_88130;
    
    int64_t num_tblocks_88139;
    int64_t max_num_tblocks_95891;
    
    max_num_tblocks_95891 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_88132;
    num_tblocks_88139 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segscan_tblock_sizze_88138), max_num_tblocks_95891)));
    
    bool x_68880 = !empty_slice_68657;
    bool y_68883 = slt64(zs_lhs_68004, n_48138);
    bool bounds_check_68884 = zzero_leq_i_p_m_t_s_68658 && y_68883;
    bool protect_assert_disj_68885 = empty_slice_68657 || bounds_check_68884;
    bool index_certs_68886;
    
    if (!protect_assert_disj_68885) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zs_lhs_68004, "] out of bounds for array of shape [", (long long) n_48138, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_69275 = slt64(total_part_no_48147, (int64_t) 0);
    bool valid_69276 = !bounds_invalid_upwards_69275;
    bool range_valid_c_69277;
    
    if (!valid_69276) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) total_part_no_48147, " is invalid.", "-> #0  /prelude/soacs.fut:133:41-49\n   #1  ftSkyline.fut:337:72-90\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_90837 = (int64_t) 8 * total_part_no_48147;
    
    if (memblock_alloc_device(ctx, &mem_90839, (int64_t) 8, "mem_90839")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90840, (int64_t) 8, "mem_90840")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90841, (int64_t) 8, "mem_90841")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_90842, (int64_t) 8, "mem_90842")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_95892(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_90824.mem, ext_mem_90827.mem, ext_mem_90830.mem, ext_mem_90836.mem, mem_90839.mem, mem_90840.mem, mem_90841.mem, mem_90842.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_90824, "ext_mem_90824") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_90827, "ext_mem_90827") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_90830, "ext_mem_90830") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_90836, "ext_mem_90836") != 0)
        return 1;
    
    int64_t bytes_90843 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137;
    int64_t ext_91089;
    int64_t shared_memory_capacity_95898;
    
    shared_memory_capacity_95898 = ctx->max_shared_memory;
    if (intra_suff_and_fits_82874) {
        ext_91089 = dim_48135;
    } else {
        ext_91089 = (int64_t) 1;
    }
    
    int64_t ext_91088;
    int64_t shared_memory_capacity_95899;
    
    shared_memory_capacity_95899 = ctx->max_shared_memory;
    if (intra_suff_and_fits_82874) {
        ext_91088 = (int64_t) 1;
    } else {
        ext_91088 = n_48138;
    }
    
    int64_t ext_90992;
    int64_t shared_memory_capacity_95900;
    
    shared_memory_capacity_95900 = ctx->max_shared_memory;
    if (intra_suff_and_fits_82950) {
        ext_90992 = dim_48135;
    } else {
        ext_90992 = (int64_t) 1;
    }
    
    int64_t ext_90991;
    int64_t shared_memory_capacity_95901;
    
    shared_memory_capacity_95901 = ctx->max_shared_memory;
    if (intra_suff_and_fits_82950) {
        ext_90991 = (int64_t) 1;
    } else {
        ext_90991 = n_48138;
    }
    
    int64_t bytes_90858 = dim_48135 * bytes_90820;
    int64_t ext_90914;
    
    if (cond_67069) {
        ext_90914 = dim_48135;
    } else {
        ext_90914 = (int64_t) 1;
    }
    
    int64_t ext_90913;
    
    if (cond_67069) {
        ext_90913 = (int64_t) 1;
    } else {
        ext_90913 = n_48138;
    }
    
    int64_t binop_x_90867 = (int64_t) 8 * dim_48135;
    int64_t bytes_90868 = n_48138 * binop_x_90867;
    int64_t binop_x_90872 = smax64((int64_t) 0, zs_lhs_68004);
    int64_t binop_x_90874 = smax64((int64_t) 0, arg_67058);
    int64_t binop_y_90875 = n_48138 * binop_x_90874;
    int64_t binop_y_90876 = smax64((int64_t) 0, binop_y_90875);
    int64_t binop_y_90877 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_90878 = (int64_t) 1 + binop_y_90877;
    int64_t bytes_90879 = (int64_t) 8 * binop_y_90878;
    int64_t binop_y_90906 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_90907 = (int64_t) 1 + binop_y_90906;
    int64_t bytes_90908 = (int64_t) 8 * binop_y_90907;
    int64_t binop_y_90958 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_90959 = (int64_t) 1 + binop_y_90958;
    int64_t bytes_90960 = (int64_t) 8 * binop_y_90959;
    int64_t binop_y_91042 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_91043 = (int64_t) 1 + binop_y_91042;
    int64_t bytes_91044 = (int64_t) 8 * binop_y_91043;
    int64_t binop_y_91163 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_91164 = (int64_t) 1 + binop_y_91163;
    int64_t bytes_91165 = (int64_t) 8 * binop_y_91164;
    int64_t bytes_91192 = arg_67058 * bytes_90820;
    int64_t binop_y_91205 = arg_67058 - (int64_t) 1;
    int64_t binop_x_91206 = smax64((int64_t) 0, binop_y_91205);
    int64_t binop_y_91207 = n_48138 * binop_x_91206;
    int64_t binop_y_91208 = smax64((int64_t) 0, binop_y_91207);
    int64_t binop_y_91209 = binop_x_90872 + binop_y_91208;
    int64_t binop_y_91210 = (int64_t) 1 + binop_y_91209;
    int64_t bytes_91211 = (int64_t) 8 * binop_y_91210;
    int64_t num_threads_91269 = segred_tblock_sizze_83348 * num_tblocks_83350;
    int64_t binop_x_91271 = (int64_t) 16 * num_threads_91269;
    int64_t bytes_91272 = dim_48135 * binop_x_91271;
    int64_t binop_x_91290 = (int64_t) 8 * x_69350;
    int64_t bytes_91291 = block_sizze_68019 * binop_x_91290;
    int64_t binop_y_91296 = x_69350 - (int64_t) 1;
    int64_t binop_x_91297 = smax64((int64_t) 0, binop_y_91296);
    int64_t binop_y_91298 = block_sizze_68019 * binop_x_91297;
    int64_t binop_x_91299 = smax64((int64_t) 0, binop_y_91298);
    int64_t binop_y_91302 = smax64((int64_t) 0, zp_rhs_68018);
    int64_t binop_x_91303 = binop_x_91299 + binop_y_91302;
    int64_t binop_y_91307 = flat_dim_68029 * binop_x_90874;
    int64_t binop_y_91308 = smax64((int64_t) 0, binop_y_91307);
    int64_t binop_y_91309 = binop_x_91303 + binop_y_91308;
    int64_t binop_y_91310 = (int64_t) 1 + binop_y_91309;
    int64_t bytes_91311 = (int64_t) 8 * binop_y_91310;
    int64_t ext_91487;
    
    if (cond_68072) {
        ext_91487 = block_sizze_68019;
    } else {
        ext_91487 = (int64_t) 1;
    }
    
    int64_t ext_91486;
    
    if (cond_68072) {
        ext_91486 = (int64_t) 1;
    } else {
        ext_91486 = x_69350;
    }
    
    int64_t binop_y_91321 = x_69350 * binop_y_91302;
    int64_t binop_y_91322 = smax64((int64_t) 0, binop_y_91321);
    int64_t binop_y_91323 = binop_x_91297 + binop_y_91322;
    int64_t binop_y_91324 = (int64_t) 1 + binop_y_91323;
    int64_t bytes_91325 = (int64_t) 8 * binop_y_91324;
    int64_t binop_y_91343 = dim_48135 * x_69350;
    int64_t binop_y_91344 = binop_y_91302 * binop_y_91343;
    int64_t binop_y_91345 = smax64((int64_t) 0, binop_y_91344);
    int64_t binop_x_91346 = binop_x_91297 + binop_y_91345;
    int64_t binop_y_91349 = x_69350 * binop_x_90874;
    int64_t binop_y_91350 = smax64((int64_t) 0, binop_y_91349);
    int64_t binop_y_91351 = binop_x_91346 + binop_y_91350;
    int64_t binop_y_91352 = (int64_t) 1 + binop_y_91351;
    int64_t bytes_91353 = (int64_t) 8 * binop_y_91352;
    int64_t bytes_91433 = (int64_t) 8 * binop_y_91324;
    int64_t bytes_91444 = (int64_t) 8 * binop_y_91324;
    int64_t binop_y_91459 = binop_x_91346 + binop_y_91350;
    int64_t binop_y_91460 = (int64_t) 1 + binop_y_91459;
    int64_t bytes_91461 = (int64_t) 8 * binop_y_91460;
    int64_t bytes_91472 = (int64_t) 8 * binop_y_91324;
    int64_t bytes_91499 = dim_48135 * bytes_91291;
    int64_t segmap_tblock_sizze_87661;
    
    segmap_tblock_sizze_87661 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86485;
    
    int64_t segmap_tblock_sizze_87790;
    
    segmap_tblock_sizze_87790 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86211;
    
    int64_t segmap_tblock_sizze_87885;
    
    segmap_tblock_sizze_87885 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86099;
    
    int64_t binop_x_91582 = (int64_t) 8 * merge_block_sizze_68035;
    int64_t binop_x_91595 = dim_48135 * binop_x_91582;
    int64_t binop_y_91607 = merge_block_sizze_68035 - (int64_t) 1;
    int64_t binop_x_91608 = smax64((int64_t) 0, binop_y_91607);
    int64_t ext_92589;
    int64_t shared_memory_capacity_95902;
    
    shared_memory_capacity_95902 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77145) {
        ext_92589 = dim_48135;
    } else {
        ext_92589 = (int64_t) 1;
    }
    
    int64_t ext_92588;
    int64_t shared_memory_capacity_95903;
    
    shared_memory_capacity_95903 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77145) {
        ext_92588 = (int64_t) 1;
    } else {
        ext_92588 = n_48138;
    }
    
    int64_t ext_92492;
    int64_t shared_memory_capacity_95904;
    
    shared_memory_capacity_95904 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77221) {
        ext_92492 = dim_48135;
    } else {
        ext_92492 = (int64_t) 1;
    }
    
    int64_t ext_92491;
    int64_t shared_memory_capacity_95905;
    
    shared_memory_capacity_95905 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77221) {
        ext_92491 = (int64_t) 1;
    } else {
        ext_92491 = n_48138;
    }
    
    int64_t binop_y_92406 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_92407 = (int64_t) 1 + binop_y_92406;
    int64_t bytes_92408 = (int64_t) 8 * binop_y_92407;
    int64_t binop_y_92458 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_92459 = (int64_t) 1 + binop_y_92458;
    int64_t bytes_92460 = (int64_t) 8 * binop_y_92459;
    int64_t binop_y_92542 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_92543 = (int64_t) 1 + binop_y_92542;
    int64_t bytes_92544 = (int64_t) 8 * binop_y_92543;
    int64_t binop_y_92663 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_92664 = (int64_t) 1 + binop_y_92663;
    int64_t bytes_92665 = (int64_t) 8 * binop_y_92664;
    int64_t num_threads_92751 = segred_tblock_sizze_77591 * num_tblocks_77593;
    int64_t binop_x_92753 = (int64_t) 16 * num_threads_92751;
    int64_t bytes_92754 = dim_48135 * binop_x_92753;
    int64_t binop_x_92770 = (int64_t) 8 * x_69318;
    int64_t bytes_92771 = block_sizze_67289 * binop_x_92770;
    int64_t binop_y_92773 = x_69318 - (int64_t) 1;
    int64_t binop_x_92774 = smax64((int64_t) 0, binop_y_92773);
    int64_t binop_y_92775 = block_sizze_67289 * binop_x_92774;
    int64_t binop_x_92776 = smax64((int64_t) 0, binop_y_92775);
    int64_t binop_y_92779 = smax64((int64_t) 0, zp_rhs_67288);
    int64_t binop_x_92780 = binop_x_92776 + binop_y_92779;
    int64_t binop_y_92784 = flat_dim_67297 * binop_x_90874;
    int64_t binop_y_92785 = smax64((int64_t) 0, binop_y_92784);
    int64_t binop_y_92786 = binop_x_92780 + binop_y_92785;
    int64_t binop_y_92787 = (int64_t) 1 + binop_y_92786;
    int64_t bytes_92788 = (int64_t) 8 * binop_y_92787;
    int64_t ext_92927;
    
    if (cond_67328) {
        ext_92927 = block_sizze_67289;
    } else {
        ext_92927 = (int64_t) 1;
    }
    
    int64_t ext_92926;
    
    if (cond_67328) {
        ext_92926 = (int64_t) 1;
    } else {
        ext_92926 = x_69318;
    }
    
    int64_t binop_y_92798 = x_69318 * binop_y_92779;
    int64_t binop_y_92799 = smax64((int64_t) 0, binop_y_92798);
    int64_t binop_y_92800 = binop_x_92774 + binop_y_92799;
    int64_t binop_y_92801 = (int64_t) 1 + binop_y_92800;
    int64_t bytes_92802 = (int64_t) 8 * binop_y_92801;
    int64_t binop_y_92809 = dim_48135 * x_69318;
    int64_t binop_y_92810 = binop_y_92779 * binop_y_92809;
    int64_t binop_y_92811 = smax64((int64_t) 0, binop_y_92810);
    int64_t binop_x_92812 = binop_x_92774 + binop_y_92811;
    int64_t binop_y_92815 = x_69318 * binop_x_90874;
    int64_t binop_y_92816 = smax64((int64_t) 0, binop_y_92815);
    int64_t binop_y_92817 = binop_x_92812 + binop_y_92816;
    int64_t binop_y_92818 = (int64_t) 1 + binop_y_92817;
    int64_t bytes_92819 = (int64_t) 8 * binop_y_92818;
    int64_t bytes_92887 = (int64_t) 8 * binop_y_92801;
    int64_t binop_y_92902 = binop_x_92812 + binop_y_92816;
    int64_t binop_y_92903 = (int64_t) 1 + binop_y_92902;
    int64_t bytes_92904 = (int64_t) 8 * binop_y_92903;
    int64_t bytes_92915 = (int64_t) 8 * binop_y_92801;
    int64_t bytes_92935 = dim_48135 * bytes_92771;
    int64_t segmap_tblock_sizze_81276;
    
    segmap_tblock_sizze_81276 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80255;
    
    int64_t segmap_tblock_sizze_81389;
    
    segmap_tblock_sizze_81389 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80007;
    
    int64_t segmap_tblock_sizze_81477;
    
    segmap_tblock_sizze_81477 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79914;
    
    int64_t binop_x_93012 = (int64_t) 8 * merge_block_sizze_67302;
    int64_t binop_x_93021 = dim_48135 * binop_x_93012;
    int64_t binop_y_93033 = merge_block_sizze_67302 - (int64_t) 1;
    int64_t binop_x_93034 = smax64((int64_t) 0, binop_y_93033);
    int64_t ext_91095;
    
    if (cond_67069) {
        ext_91095 = dim_48135;
    } else {
        ext_91095 = ext_91089;
    }
    
    int64_t ext_91094;
    
    if (cond_67069) {
        ext_91094 = (int64_t) 1;
    } else {
        ext_91094 = ext_91088;
    }
    
    int64_t ext_90998;
    
    if (cond_67069) {
        ext_90998 = dim_48135;
    } else {
        ext_90998 = ext_90992;
    }
    
    int64_t ext_90997;
    
    if (cond_67069) {
        ext_90997 = (int64_t) 1;
    } else {
        ext_90997 = ext_90991;
    }
    
    int64_t ext_91480;
    
    if (cond_68072) {
        ext_91480 = (int64_t) 1;
    } else {
        ext_91480 = binop_y_91343;
    }
    
    int64_t ext_91479;
    
    if (cond_68072) {
        ext_91479 = flat_dim_68029;
    } else {
        ext_91479 = x_69350;
    }
    
    int64_t ext_92595;
    
    if (cond_67069) {
        ext_92595 = dim_48135;
    } else {
        ext_92595 = ext_92589;
    }
    
    int64_t ext_92594;
    
    if (cond_67069) {
        ext_92594 = (int64_t) 1;
    } else {
        ext_92594 = ext_92588;
    }
    
    int64_t ext_92498;
    
    if (cond_67069) {
        ext_92498 = dim_48135;
    } else {
        ext_92498 = ext_92492;
    }
    
    int64_t ext_92497;
    
    if (cond_67069) {
        ext_92497 = (int64_t) 1;
    } else {
        ext_92497 = ext_92491;
    }
    
    int64_t ext_92923;
    
    if (cond_67328) {
        ext_92923 = (int64_t) 1;
    } else {
        ext_92923 = binop_y_92809;
    }
    
    int64_t ext_92922;
    
    if (cond_67328) {
        ext_92922 = flat_dim_67297;
    } else {
        ext_92922 = x_69318;
    }
    
    int64_t maxSubHelper_95428 = umax64((int64_t) 0, binop_x_90867);
    int64_t maxSubHelper_95380 = umax64((int64_t) 0, binop_x_90867);
    int64_t num_threads_95584 = segmap_tblock_sizze_83792 * num_tblocks_83793;
    int64_t total_sizze_95585 = binop_x_90867 * num_threads_95584;
    int64_t total_sizze_95586 = binop_x_90867 * num_threads_95584;
    int64_t ctx_95600 = dim_48135 * x_69350;
    int64_t num_threads_95540 = segmap_tblock_sizze_77943 * num_tblocks_77944;
    int64_t total_sizze_95541 = binop_x_90867 * num_threads_95540;
    int64_t total_sizze_95542 = binop_x_90867 * num_threads_95540;
    int64_t ctx_95553 = dim_48135 * x_69318;
    
    if (cond_67065) {
        if (cond_67071) {
            if (memblock_alloc_device(ctx, &mem_92352, bytes_90843, "mem_92352")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_92355, &mem_92352, "mem_92352") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_92344, bytes_90843, "mem_92344")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_92344, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, defunc_0_f_res_71934) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_71938 = 0; i_71938 < distance_67090; i_71938++) {
                int64_t index_primexp_71940 = add64((int64_t) 1, i_71938);
                bool x_71941 = sle64((int64_t) 0, index_primexp_71940);
                bool y_71942 = slt64(index_primexp_71940, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137);
                bool bounds_check_71943 = x_71941 && y_71942;
                bool index_certs_71944;
                
                if (!bounds_check_71943) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_71940, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:285:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_71945;
                
                if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_71945, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, index_primexp_71940) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99383 = defunc_0_f_res_71945;
                
                if ((err = gpu_scalar_to_device(ctx, mem_92344.mem, index_primexp_71940 * sizeof(double), sizeof(double), &write_tmp_99383)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_92355, &mem_92344, "mem_92344") != 0)
                return 1;
        }
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_92593, bytes_90858, "mem_92593")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_92596, &mem_92593, "mem_92593") != 0)
                return 1;
        } else {
            int64_t shared_memory_capacity_96118;
            
            shared_memory_capacity_96118 = ctx->max_shared_memory;
            if (intra_suff_and_fits_77145 && sle64(sdiv_up64(maxSubHelper_95380, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96118)) {
                if (memblock_alloc_device(ctx, &mem_92587, bytes_90858, "mem_92587")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_95927 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
                int32_t virt_num_tblocks_95928 = sext_i64_i32(n_48138);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77149(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95380 + srem64((int64_t) 8 - srem64(maxSubHelper_95380, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, arg_67058, cond_67069, binop_x_90867, maxSubHelper_95380, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, xs_mem_90819.mem, mem_90839.mem, mem_92587.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_92590, &mem_92587, "mem_92587") != 0)
                    return 1;
            } else {
                if (cond_67069) {
                    if (memblock_alloc_device(ctx, &mem_92496, bytes_90858, "mem_92496")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_92499, &mem_92496, "mem_92496") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_96074;
                    
                    shared_memory_capacity_96074 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_77221 && sle64(sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96074)) {
                        if (memblock_alloc_device(ctx, &mem_92490, bytes_90858, "mem_92490")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_95948 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
                        int32_t virt_num_tblocks_95949 = sext_i64_i32(n_48138);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77225(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, arg_67058, cond_67069, binop_x_90867, grid_part_sizze_per_dim_mem_90816.mem, start_of_grid_partition_mem_90818.mem, xs_mem_90819.mem, mem_92490.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_92493, &mem_92490, "mem_92490") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_92363, bytes_90858, "mem_92363")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_95966 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_77276));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77281(ctx, segmap_usable_groups_77277, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76824, 1, 1, (int64_t) 0, dim_48135, n_48138, start_of_grid_partition_mem_90818.mem, xs_mem_90819.mem, mem_92363.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_95977 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_77292));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77297(ctx, segmap_usable_groups_77293, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76791, 1, 1, (int64_t) 0, dim_48135, n_48138, grid_part_sizze_per_dim_mem_90816.mem, mem_92363.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (cond_67069) {
                            if (memblock_alloc_device(ctx, &mem_92412, bytes_90858, "mem_92412")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_set_device(ctx, &ext_mem_92415, &mem_92412, "mem_92412") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_92366, bytes_90820, "mem_92366")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_95988 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77305));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77309(ctx, segmap_usable_groups_77306, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76737, 1, 1, (int64_t) 0, dim_48135, n_48138, mem_92363.mem, mem_92366.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_92369, bytes_90868, "mem_92369")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_95997 = dim_48135 * n_48138;
                            int64_t tblock_sizze_96002;
                            
                            tblock_sizze_96002 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96002;
                            
                            int64_t virt_num_tblocks_96003 = sdiv_up64(replicate_n_95997, tblock_sizze_96002);
                            int64_t num_tblocks_96004 = smin64(virt_num_tblocks_96003, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_95998(ctx, num_tblocks_96004, 1, 1, tblock_sizze_96002, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_95997, virt_num_tblocks_96003, num_tblocks_96004, mem_92366.mem, mem_92369.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92366, "mem_92366") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92380, bytes_90879, "mem_92380")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92380.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92369.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92369, "mem_92369") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92391, bytes_90879, "mem_92391")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92391.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92363.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_92409, bytes_92408, "mem_92409")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96017 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77317));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77322(ctx, num_tblocks_77318, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76711, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_77318, virt_num_tblocks_96017, mem_92380.mem, mem_92391.mem, mem_92409.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_92380, "mem_92380") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92391, "mem_92391") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92415, &mem_92409, "mem_92409") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_92363, "mem_92363") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92418, bytes_90820, "mem_92418")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96031 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77338));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77342(ctx, segmap_usable_groups_77339, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76679, 1, 1, (int64_t) 0, n_48138, ext_90914, ext_mem_92415.mem, mem_92418.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_92421, bytes_90868, "mem_92421")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96040 = dim_48135 * n_48138;
                        int64_t tblock_sizze_96045;
                        
                        tblock_sizze_96045 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96045;
                        
                        int64_t virt_num_tblocks_96046 = sdiv_up64(replicate_n_96040, tblock_sizze_96045);
                        int64_t num_tblocks_96047 = smin64(virt_num_tblocks_96046, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96041(ctx, num_tblocks_96047, 1, 1, tblock_sizze_96045, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_96040, virt_num_tblocks_96046, num_tblocks_96047, mem_92418.mem, mem_92421.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_92418, "mem_92418") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92432, bytes_90879, "mem_92432")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92432.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92421.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_92421, "mem_92421") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92443, bytes_90879, "mem_92443")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92443.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_92415.mem, (int64_t) 0, (int64_t []) {ext_90914, ext_90913}, (int64_t []) {n_48138, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &ext_mem_92415, "ext_mem_92415") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92461, bytes_92460, "mem_92461")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96060 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77350));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77355(ctx, num_tblocks_77351, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76653, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_77351, virt_num_tblocks_96060, mem_92432.mem, mem_92443.mem, mem_92461.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_92432, "mem_92432") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92443, "mem_92443") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92493, &mem_92461, "mem_92461") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_92499, &ext_mem_92493, "ext_mem_92493") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_92502, bytes_90820, "mem_92502")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96075 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77371));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_77375(ctx, segmap_usable_groups_77372, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76526, 1, 1, (int64_t) 0, n_48138, ext_92498, mem_90839.mem, ext_mem_92499.mem, mem_92502.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_92505, bytes_90868, "mem_92505")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_96084 = dim_48135 * n_48138;
                int64_t tblock_sizze_96089;
                
                tblock_sizze_96089 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96089;
                
                int64_t virt_num_tblocks_96090 = sdiv_up64(replicate_n_96084, tblock_sizze_96089);
                int64_t num_tblocks_96091 = smin64(virt_num_tblocks_96090, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_96085(ctx, num_tblocks_96091, 1, 1, tblock_sizze_96089, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_96084, virt_num_tblocks_96090, num_tblocks_96091, mem_92502.mem, mem_92505.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_92502, "mem_92502") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_92516, bytes_90879, "mem_92516")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92516.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92505.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &mem_92505, "mem_92505") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_92527, bytes_90879, "mem_92527")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92527.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_92499.mem, (int64_t) 0, (int64_t []) {ext_92498, ext_92497}, (int64_t []) {n_48138, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_92499, "ext_mem_92499") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_92545, bytes_92544, "mem_92545")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96104 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77383));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_77388(ctx, num_tblocks_77384, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76497, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_77384, virt_num_tblocks_96104, grid_partitions_per_dim_mem_90817.mem, mem_92516.mem, mem_92527.mem, mem_92545.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_92516, "mem_92516") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_92527, "mem_92527") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92590, &mem_92545, "mem_92545") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_92596, &ext_mem_92590, "ext_mem_92590") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &mem_92600, bytes_90858, "mem_92600")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96119 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_77412));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77417(ctx, segmap_usable_groups_77413, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76320, 1, 1, (int64_t) 0, dim_48135, n_48138, ext_92594, ext_92595, grid_part_prefix_sum_mem_90815.mem, ext_mem_92596.mem, mem_92600.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_92596, "ext_mem_92596") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92611, bytes_90879, "mem_92611")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92611.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92600.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_92600, "mem_92600") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92613, (int64_t) 0, "mem_92613")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_92739, bytes_90820, "mem_92739")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96130 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77423));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77428(ctx, segmap_usable_groups_77424, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76291, 1, 1, (int64_t) 0, dim_48135, dz2080U_48136, n_48138, mem_92611.mem, mem_92613.mem, mem_92739.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_92611, "mem_92611") != 0)
            return 1;
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_92669, bytes_90858, "mem_92669")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_92672, &mem_92669, "mem_92669") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_92623, bytes_90858, "mem_92623")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96140 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_77443));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77448(ctx, segmap_usable_groups_77444, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76221, 1, 1, (int64_t) 0, dim_48135, n_48138, start_of_grid_partition_mem_90818.mem, mem_92613.mem, mem_92623.mem, mem_92739.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96151 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_77458));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77463(ctx, segmap_usable_groups_77459, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76195, 1, 1, (int64_t) 0, dim_48135, n_48138, xs_mem_90819.mem, mem_92623.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_92626, bytes_90868, "mem_92626")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96162 = dim_48135 * n_48138;
            int64_t tblock_sizze_96167;
            
            tblock_sizze_96167 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96167;
            
            int64_t virt_num_tblocks_96168 = sdiv_up64(replicate_n_96162, tblock_sizze_96167);
            int64_t num_tblocks_96169 = smin64(virt_num_tblocks_96168, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96163(ctx, num_tblocks_96169, 1, 1, tblock_sizze_96167, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_96162, virt_num_tblocks_96168, num_tblocks_96169, mem_92623.mem, mem_92626.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92637, bytes_90879, "mem_92637")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92637.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92626.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_92626, "mem_92626") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92648, bytes_90879, "mem_92648")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92648.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92623.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_92623, "mem_92623") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92666, bytes_92665, "mem_92666")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96182 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77480));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77485(ctx, num_tblocks_77481, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76149, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_77481, virt_num_tblocks_96182, mem_92637.mem, mem_92648.mem, mem_92666.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92637, "mem_92637") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92648, "mem_92648") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92672, &mem_92666, "mem_92666") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_92613, "mem_92613") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92675, bytes_91192, "mem_92675")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_92675, n_48138 * arg_67058, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_92694, bytes_91211, "mem_92694")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_92719;
        int64_t ext_92718;
        int64_t ctx_param_ext_92677;
        int64_t ctx_param_ext_92678;
        
        if (memblock_set_device(ctx, &mem_param_92679, &mem_92675, "mem_92675") != 0)
            return 1;
        ctx_param_ext_92677 = arg_67058;
        ctx_param_ext_92678 = (int64_t) 1;
        for (int64_t i_77502 = 0; i_77502 < arg_67058; i_77502++) {
            bool y_77504 = slt64(i_77502, dim_48135);
            bool index_certs_77505;
            
            if (!y_77504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_77502, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_77506 = add64((int64_t) 1, i_77502);
            int64_t j_m_i_77507 = sub64(dim_48135, map_arg1_77506);
            bool empty_slice_77508 = j_m_i_77507 == (int64_t) 0;
            int64_t m_77509 = sub64(j_m_i_77507, (int64_t) 1);
            int64_t i_p_m_t_s_77510 = add64(map_arg1_77506, m_77509);
            bool zzero_leq_i_p_m_t_s_77511 = sle64((int64_t) 0, i_p_m_t_s_77510);
            bool i_p_m_t_s_leq_w_77512 = slt64(i_p_m_t_s_77510, dim_48135);
            bool zzero_lte_i_77513 = sle64((int64_t) 0, map_arg1_77506);
            bool i_lte_j_77514 = sle64(map_arg1_77506, dim_48135);
            bool y_77515 = i_p_m_t_s_leq_w_77512 && zzero_lte_i_77513;
            bool y_77516 = zzero_leq_i_p_m_t_s_77511 && y_77515;
            bool forwards_ok_77517 = i_lte_j_77514 && y_77516;
            bool ok_or_empty_77518 = empty_slice_77508 || forwards_ok_77517;
            bool index_certs_77519;
            
            if (!ok_or_empty_77518) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_77506, ":", (long long) dim_48135, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:285:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_92682 = j_m_i_77507 * bytes_90820;
            int64_t binop_x_92699 = smax64((int64_t) 0, m_77509);
            int64_t binop_y_92700 = n_48138 * binop_x_92699;
            int64_t binop_y_92701 = smax64((int64_t) 0, binop_y_92700);
            int64_t binop_y_92702 = binop_x_90872 + binop_y_92701;
            int64_t binop_y_92703 = (int64_t) 1 + binop_y_92702;
            int64_t bytes_92704 = (int64_t) 8 * binop_y_92703;
            int64_t binop_y_92714 = binop_x_90872 + binop_y_91208;
            int64_t binop_y_92715 = (int64_t) 1 + binop_y_92714;
            int64_t bytes_92716 = (int64_t) 8 * binop_y_92715;
            int64_t nest_sizze_77527 = n_48138 * j_m_i_77507;
            int64_t segmap_usable_groups_77529 = sdiv_up64(nest_sizze_77527, segmap_tblock_sizze_77528);
            
            if (memblock_alloc_device(ctx, &mem_92683, bytes_92682, "mem_92683")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96200 = sext_i64_i32(sdiv_up64(n_48138 * j_m_i_77507, segmap_tblock_sizze_77528));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77533(ctx, segmap_usable_groups_77529, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76066, 1, 1, (int64_t) 0, n_48138, map_arg1_77506, j_m_i_77507, ext_90913, ext_90914, ext_mem_92672.mem, mem_92683.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92694.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_param_92679.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_92677, ctx_param_ext_92678}, (int64_t []) {n_48138, arg_67058})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_92705, bytes_92704, "mem_92705")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92705.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92683.mem, (int64_t) 0, (int64_t []) {j_m_i_77507, (int64_t) 1}, (int64_t []) {n_48138, j_m_i_77507})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_92683, "mem_92683") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92717, bytes_92716, "mem_92717")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96211 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77538));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77543(ctx, num_tblocks_77539, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76035, 1, 1, (int64_t) 0, n_48138, arg_67058, i_77502, j_m_i_77507, num_tblocks_77539, ext_90913, ext_90914, virt_num_tblocks_96211, ext_mem_92672.mem, mem_92694.mem, mem_92705.mem, mem_92717.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92705, "mem_92705") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_96196, &mem_92717, "mem_92717") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_96197 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_96198 = n_48138;
            
            if (memblock_set_device(ctx, &mem_param_92679, &mem_param_tmp_96196, "mem_param_tmp_96196") != 0)
                return 1;
            ctx_param_ext_92677 = ctx_param_ext_tmp_96197;
            ctx_param_ext_92678 = ctx_param_ext_tmp_96198;
        }
        if (memblock_set_device(ctx, &ext_mem_92721, &mem_param_92679, "mem_param_92679") != 0)
            return 1;
        ext_92719 = ctx_param_ext_92677;
        ext_92718 = ctx_param_ext_92678;
        if (memblock_unref_device(ctx, &ext_mem_92672, "ext_mem_92672") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92675, "mem_92675") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92694, "mem_92694") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92725, bytes_91192, "mem_92725")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96225 = sext_i64_i32(sdiv_up64(n_48138 * arg_67058, segmap_tblock_sizze_77562));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77567(ctx, segmap_usable_groups_77563, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75999, 1, 1, (int64_t) 0, n_48138, arg_67058, ext_92718, ext_92719, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, ext_mem_92355.mem, ext_mem_92721.mem, mem_92725.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_92355, "ext_mem_92355") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92721, "ext_mem_92721") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92736, bytes_91211, "mem_92736")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92736.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_92725.mem, (int64_t) 0, (int64_t []) {arg_67058, (int64_t) 1}, (int64_t []) {n_48138, arg_67058})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_92725, "mem_92725") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96236 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_77575));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77579(ctx, segmap_usable_groups_77576, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_75971, 1, 1, (int64_t) 0, n_48138, total_angle_no_48145, arg_67058, mem_92736.mem, mem_92739.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_92736, "mem_92736") != 0)
            return 1;
        
        int64_t reduce_arg1_72111;
        
        if (x_68003) {
            int64_t read_res_99384;
            
            if ((err = gpu_scalar_from_device(ctx, &read_res_99384, mem_92739.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
                goto cleanup;
            if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t x_72112 = read_res_99384;
            
            reduce_arg1_72111 = x_72112;
        } else {
            reduce_arg1_72111 = (int64_t) 0;
        }
        if (cond_68002) {
            if (memblock_set_device(ctx, &ext_mem_93617, &xs_mem_90819, "xs_mem_90819") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93613, &mem_90821, "mem_90821") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_92750, bytes_90879, "mem_92750")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, xs_mem_90819.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_92755, bytes_92754, "mem_92755")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92760, (int64_t) 8, "mem_92760")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92762, binop_x_90867, "mem_92762")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92763, (int64_t) 8, "mem_92763")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegRed");
            
            int64_t chunk_sizze_96246 = (int64_t) 1;
            
            if (memblock_alloc_device(ctx, &segred_tmp_mem_96249, (int64_t) 8 * num_tblocks_77593, "segred_tmp_mem_96249")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_96251, (int64_t) 8 * (segred_tblock_sizze_77591 * num_tblocks_77593 * dim_48135), "segred_tmp_mem_96251")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_96253, (int64_t) 8 * num_tblocks_77593, "segred_tmp_mem_96253")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t num_threads_96255 = num_tblocks_77593 * segred_tblock_sizze_77591;
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_77600(ctx, num_tblocks_77593, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_77590, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_77591 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_77591, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_77591 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_77591, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, reduce_arg1_72111, num_tblocks_77593, num_threads_92751, xs_mem_90819.mem, mem_92739.mem, mem_92750.mem, mem_92755.mem, mem_92760.mem, mem_92762.mem, mem_92763.mem, counters_mem_96247.mem, segred_tmp_mem_96249.mem, segred_tmp_mem_96251.mem, segred_tmp_mem_96253.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92755, "mem_92755") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92764, (int64_t) 8, "mem_92764")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92765, (int64_t) 8, "mem_92765")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96301(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_92760.mem, mem_92763.mem, mem_92764.mem, mem_92765.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_92760, "mem_92760") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92763, "mem_92763") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92772, bytes_92771, "mem_92772")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92789, bytes_92788, "mem_92789")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92792, bytes_92771, "mem_92792")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96307 = sext_i64_i32(sdiv_up64(x_69318 * block_sizze_67289, segmap_tblock_sizze_77912));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77920(ctx, num_tblocks_77913, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77844, 1, 1, (int64_t) 0, dim_48135, n_48138, block_sizze_67289, x_69318, num_tblocks_77913, virt_num_tblocks_96307, mem_92739.mem, mem_92750.mem, mem_92762.mem, mem_92764.mem, mem_92765.mem, mem_92772.mem, mem_92789.mem, mem_92792.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92750, "mem_92750") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92762, "mem_92762") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92764, "mem_92764") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92765, "mem_92765") != 0)
                return 1;
            if (cond_67328) {
                if (memblock_set_device(ctx, &ext_mem_92928, &mem_92772, "mem_92772") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92925, &mem_92789, "mem_92789") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92921, &mem_92792, "mem_92792") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_92803, bytes_92802, "mem_92803")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69318}, mem_92772.mem, (int64_t) 0, (int64_t []) {block_sizze_67289, (int64_t) 1}, (int64_t []) {x_69318, block_sizze_67289})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92820, bytes_92819, "mem_92820")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92820.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69318 * dim_48135, x_69318}, mem_92789.mem, (int64_t) 0, (int64_t []) {block_sizze_67289, (int64_t) 1, block_sizze_67289 * x_69318}, (int64_t []) {x_69318, block_sizze_67289, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92831, bytes_92802, "mem_92831")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92831.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69318}, mem_92792.mem, (int64_t) 0, (int64_t []) {block_sizze_67289, (int64_t) 1}, (int64_t []) {x_69318, block_sizze_67289})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92888, bytes_92887, "mem_92888")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_92905, bytes_92904, "mem_92905")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_92916, bytes_92915, "mem_92916")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95389, total_sizze_95541, "color_95389")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95390, total_sizze_95542, "color_95390")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96322 = sext_i64_i32(sdiv_up64(x_69318, segmap_tblock_sizze_77943));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_77950(ctx, num_tblocks_77944, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77680, 1, 1, (int64_t) 0, dim_48135, block_sizze_67289, distance_67331, x_69318, num_tblocks_77944, num_threads_95540, ctx_95553, virt_num_tblocks_96322, mem_92803.mem, mem_92820.mem, mem_92831.mem, mem_92888.mem, mem_92905.mem, mem_92916.mem, color_95389.mem, color_95390.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_92803, "mem_92803") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_92820, "mem_92820") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_92831, "mem_92831") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95389, "color_95389") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95390, "color_95390") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92928, &mem_92888, "mem_92888") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92925, &mem_92905, "mem_92905") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92921, &mem_92916, "mem_92916") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_92772, "mem_92772") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92789, "mem_92789") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92792, "mem_92792") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92931, bytes_92771, "mem_92931")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92931.mem, (int64_t) 0, (int64_t []) {block_sizze_67289, (int64_t) 1}, ext_mem_92928.mem, (int64_t) 0, (int64_t []) {ext_92927, ext_92926}, (int64_t []) {x_69318, block_sizze_67289})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92928, "ext_mem_92928") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92936, bytes_92935, "mem_92936")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92936.mem, (int64_t) 0, (int64_t []) {dim_48135 * block_sizze_67289, dim_48135, (int64_t) 1}, ext_mem_92925.mem, (int64_t) 0, (int64_t []) {ext_92927, ext_92923, ext_92922}, (int64_t []) {x_69318, block_sizze_67289, dim_48135})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92925, "ext_mem_92925") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92940, bytes_92771, "mem_92940")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92940.mem, (int64_t) 0, (int64_t []) {block_sizze_67289, (int64_t) 1}, ext_mem_92921.mem, (int64_t) 0, (int64_t []) {ext_92927, ext_92926}, (int64_t []) {x_69318, block_sizze_67289})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92921, "ext_mem_92921") != 0)
                return 1;
            
            int64_t data_72235;
            bool data_72236;
            int64_t data_72240;
            int64_t loop_dz2084Uz2082U_72241;
            bool loop_while_72242;
            int64_t stride_72246;
            
            if (memblock_set_device(ctx, &mem_param_92944, &mem_92931, "mem_92931") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_92948, &mem_92936, "mem_92936") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_92951, &mem_92940, "mem_92940") != 0)
                return 1;
            loop_dz2084Uz2082U_72241 = flat_dim_67297;
            loop_while_72242 = loop_cond_67422;
            stride_72246 = block_sizze_67289;
            while (loop_while_72242) {
                int64_t next_stride_72247 = mul64((int64_t) 2, stride_72246);
                bool zzero_72248 = next_stride_72247 == (int64_t) 0;
                bool nonzzero_72249 = !zzero_72248;
                bool nonzzero_cert_72250;
                
                if (!nonzzero_72249) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_merges_72251 = sdiv64(flat_dim_67297, next_stride_72247);
                bool bounds_invalid_upwards_72252 = slt64(num_merges_72251, (int64_t) 0);
                bool valid_72253 = !bounds_invalid_upwards_72252;
                bool range_valid_c_72254;
                
                if (!valid_72253) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_72251, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t m_72256 = sub64(next_stride_72247, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_72257 = sle64((int64_t) 0, m_72256);
                bool cond_72259 = slt64(next_stride_72247, (int64_t) 10);
                bool protect_assert_disj_72260 = nonzzero_67424 || cond_72259;
                bool nonzzero_cert_72261;
                
                if (!protect_assert_disj_72260) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zeze_lhs_72262 = smod_safe64(next_stride_72247, merge_block_sizze_67302);
                bool num_blocks_72263 = zeze_lhs_72262 == (int64_t) 0;
                bool protect_assert_disj_72264 = cond_72259 || num_blocks_72263;
                bool assert_c_72265;
                
                if (!protect_assert_disj_72264) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_blocks_72266 = sdiv_safe64(next_stride_72247, merge_block_sizze_67302);
                int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 = add64((int64_t) 1, num_blocks_72266);
                int64_t j_m_i_72268 = sub64(next_stride_72247, stride_72246);
                int64_t flat_dim_72269 = merge_block_sizze_67302 * num_blocks_72266;
                bool bounds_invalid_upwards_72270 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, (int64_t) 0);
                bool empty_slice_72271 = j_m_i_72268 == (int64_t) 0;
                int64_t m_72272 = sub64(j_m_i_72268, (int64_t) 1);
                bool zzero_lte_i_72273 = sle64((int64_t) 0, stride_72246);
                bool i_lte_j_72274 = sle64(stride_72246, next_stride_72247);
                bool empty_slice_72275 = stride_72246 == (int64_t) 0;
                int64_t m_72276 = sub64(stride_72246, (int64_t) 1);
                bool bounds_invalid_upwards_72277 = slt64(num_blocks_72266, (int64_t) 0);
                bool cond_72278 = slt64((int64_t) 0, stride_72246);
                bool valid_72279 = !bounds_invalid_upwards_72270;
                int64_t i_p_m_t_s_72280 = add64(stride_72246, m_72272);
                bool zzero_leq_i_p_m_t_s_72281 = sle64((int64_t) 0, m_72276);
                bool i_p_m_t_s_leq_w_72282 = slt64(m_72276, next_stride_72247);
                bool valid_72283 = !bounds_invalid_upwards_72277;
                bool i_p_m_t_s_leq_w_72284 = slt64(m_72256, flat_dim_72269);
                bool y_72285 = slt64((int64_t) 0, j_m_i_72268);
                bool protect_assert_disj_72286 = cond_72259 || valid_72279;
                bool range_valid_c_72287;
                
                if (!protect_assert_disj_72286) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool zzero_leq_i_p_m_t_s_72288 = sle64((int64_t) 0, i_p_m_t_s_72280);
                bool i_p_m_t_s_leq_w_72289 = slt64(i_p_m_t_s_72280, next_stride_72247);
                bool y_72290 = zzero_leq_i_p_m_t_s_72281 && i_p_m_t_s_leq_w_72282;
                bool protect_assert_disj_72291 = cond_72259 || valid_72283;
                bool range_valid_c_72292;
                
                if (!protect_assert_disj_72291) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_72266, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool y_72293 = zzero_leq_i_p_m_t_s_72257 && i_p_m_t_s_leq_w_72284;
                bool y_72294 = zzero_lte_i_72273 && i_p_m_t_s_leq_w_72289;
                bool forwards_ok_72295 = zzero_lte_i_72273 && y_72290;
                bool ok_or_empty_72296 = zzero_72248 || y_72293;
                bool protect_assert_disj_72297 = cond_72278 || y_72285;
                bool y_72298 = zzero_leq_i_p_m_t_s_72288 && y_72294;
                bool ok_or_empty_72299 = empty_slice_72275 || forwards_ok_72295;
                bool protect_assert_disj_72300 = cond_72259 || ok_or_empty_72296;
                bool index_certs_72301;
                
                if (!protect_assert_disj_72300) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_72247, "] out of bounds for array of shape [", (long long) flat_dim_72269, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool loop_not_taken_72302 = !cond_72259;
                bool protect_assert_disj_72303 = protect_assert_disj_72297 || loop_not_taken_72302;
                bool index_certs_72304;
                
                if (!protect_assert_disj_72303) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_72268, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool forwards_ok_72305 = i_lte_j_72274 && y_72298;
                bool protect_assert_disj_72306 = cond_72259 || ok_or_empty_72299;
                bool index_certs_72307;
                
                if (!protect_assert_disj_72306) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_72246, "] out of bounds for array of shape [", (long long) next_stride_72247, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_72308 = ok_or_empty_72299 || loop_not_taken_72302;
                bool index_certs_72309;
                
                if (!protect_assert_disj_72308) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_72246, "] out of bounds for array of shape [", (long long) next_stride_72247, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool ok_or_empty_72310 = empty_slice_72271 || forwards_ok_72305;
                bool protect_assert_disj_72311 = cond_72259 || ok_or_empty_72310;
                bool index_certs_72312;
                
                if (!protect_assert_disj_72311) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_72246, ":] out of bounds for array of shape [", (long long) next_stride_72247, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_72313 = loop_not_taken_72302 || ok_or_empty_72310;
                bool index_certs_72314;
                
                if (!protect_assert_disj_72313) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_72246, ":] out of bounds for array of shape [", (long long) next_stride_72247, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t binop_x_92956 = (int64_t) 8 * num_merges_72251;
                int64_t bytes_93191 = next_stride_72247 * binop_x_92956;
                int64_t bytes_93198 = dim_48135 * bytes_93191;
                bool i_lte_j_72258 = sle64((int64_t) 0, next_stride_72247);
                int64_t intra_avail_par_78266 = smin64(num_blocks_72266, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);
                int64_t computed_tblock_sizze_78020 = smax64(num_blocks_72266, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267);
                bool fits_78271 = sle64(computed_tblock_sizze_78020, max_tblock_sizze_82870);
                bool suff_intra_par_78269;
                
                suff_intra_par_78269 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_2 <= intra_avail_par_78266;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_2", (long) intra_avail_par_78266, suff_intra_par_78269 ? "true" : "false");
                
                bool intra_suff_and_fits_78272 = suff_intra_par_78269 && fits_78271;
                int64_t segmap_usable_groups_80817 = sdiv_up_safe64(num_merges_72251, segmap_tblock_sizze_80816);
                int64_t ext_93445;
                
                if (cond_72259) {
                    ext_93445 = (int64_t) 1;
                } else {
                    ext_93445 = next_stride_72247;
                }
                
                int64_t ext_93444;
                
                if (cond_72259) {
                    ext_93444 = num_merges_72251;
                } else {
                    ext_93444 = (int64_t) 1;
                }
                
                bool suff_intra_par_81008;
                
                suff_intra_par_81008 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_3 <= intra_avail_par_78266;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_3", (long) intra_avail_par_78266, suff_intra_par_81008 ? "true" : "false");
                
                bool intra_suff_and_fits_81009 = fits_78271 && suff_intra_par_81008;
                int64_t nest_sizze_81275 = num_merges_72251 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;
                int64_t nest_sizze_81388 = num_merges_72251 * num_blocks_72266;
                int64_t num_tblocks_81390;
                int64_t max_num_tblocks_96352;
                
                max_num_tblocks_96352 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_80009;
                num_tblocks_81390 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_81388, segmap_tblock_sizze_81389), max_num_tblocks_96352)));
                
                int64_t num_tblocks_81478;
                int64_t max_num_tblocks_96353;
                
                max_num_tblocks_96353 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_79916;
                num_tblocks_81478 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_81388, segmap_tblock_sizze_81477), max_num_tblocks_96353)));
                
                int64_t bytes_92957 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267 * binop_x_92956;
                int64_t binop_y_92962 = loop_dz2084Uz2082U_72241 - (int64_t) 1;
                int64_t binop_x_92964 = smax64((int64_t) 0, binop_y_92962);
                int64_t binop_y_92967 = loop_dz2084Uz2082U_72241 * binop_x_90874;
                int64_t binop_y_92968 = smax64((int64_t) 0, binop_y_92967);
                int64_t binop_y_92969 = binop_x_92964 + binop_y_92968;
                int64_t binop_y_92970 = (int64_t) 1 + binop_y_92969;
                int64_t bytes_92971 = (int64_t) 8 * binop_y_92970;
                int64_t bytes_92976 = num_blocks_72266 * binop_x_92956;
                int64_t binop_y_92981 = num_merges_72251 - (int64_t) 1;
                int64_t binop_x_92982 = smax64((int64_t) 0, binop_y_92981);
                int64_t binop_y_92983 = num_blocks_72266 * binop_x_92982;
                int64_t binop_x_92984 = smax64((int64_t) 0, binop_y_92983);
                int64_t binop_y_92985 = num_blocks_72266 - (int64_t) 1;
                int64_t binop_y_92987 = smax64((int64_t) 0, binop_y_92985);
                int64_t binop_x_92988 = binop_x_92984 + binop_y_92987;
                int64_t binop_y_92992 = nest_sizze_81388 * binop_x_90874;
                int64_t binop_y_92993 = smax64((int64_t) 0, binop_y_92992);
                int64_t binop_y_92994 = binop_x_92988 + binop_y_92993;
                int64_t binop_y_92995 = (int64_t) 1 + binop_y_92994;
                int64_t bytes_92996 = (int64_t) 8 * binop_y_92995;
                int64_t binop_x_93013 = num_merges_72251 * binop_x_93012;
                int64_t bytes_93014 = num_blocks_72266 * binop_x_93013;
                int64_t binop_x_93022 = num_merges_72251 * binop_x_93021;
                int64_t bytes_93023 = num_blocks_72266 * binop_x_93022;
                int64_t binop_y_93036 = nest_sizze_81388 * binop_x_93034;
                int64_t binop_y_93037 = smax64((int64_t) 0, binop_y_93036);
                int64_t binop_y_93038 = binop_x_92988 + binop_y_93037;
                int64_t binop_y_93039 = (int64_t) 1 + binop_y_93038;
                int64_t bytes_93040 = (int64_t) 8 * binop_y_93039;
                int64_t binop_y_93070 = dim_48135 * nest_sizze_81388;
                int64_t binop_y_93071 = binop_x_93034 * binop_y_93070;
                int64_t binop_y_93072 = smax64((int64_t) 0, binop_y_93071);
                int64_t binop_x_93073 = binop_x_92988 + binop_y_93072;
                int64_t binop_y_93079 = binop_y_92993 + binop_x_93073;
                int64_t binop_y_93080 = (int64_t) 1 + binop_y_93079;
                int64_t bytes_93081 = (int64_t) 8 * binop_y_93080;
                int64_t binop_y_93129 = binop_x_92988 + binop_y_93037;
                int64_t binop_y_93130 = (int64_t) 1 + binop_y_93129;
                int64_t bytes_93131 = (int64_t) 8 * binop_y_93130;
                int64_t binop_x_93147 = binop_x_92988 + binop_y_93072;
                int64_t binop_y_93153 = binop_y_92993 + binop_x_93147;
                int64_t binop_y_93154 = (int64_t) 1 + binop_y_93153;
                int64_t bytes_93155 = (int64_t) 8 * binop_y_93154;
                int64_t binop_y_93170 = binop_x_92988 + binop_y_93037;
                int64_t binop_y_93171 = (int64_t) 1 + binop_y_93170;
                int64_t bytes_93172 = (int64_t) 8 * binop_y_93171;
                int64_t bytes_93176 = merge_block_sizze_67302 * bytes_92976;
                int64_t bytes_93182 = dim_48135 * bytes_93176;
                int64_t lmad_ext_93283 = dim_48135 * next_stride_72247;
                int64_t bytes_93201 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267;
                int64_t bytes_93210 = (int64_t) 8 * num_blocks_72266;
                int64_t bytes_93215 = dim_48135 * bytes_93210;
                int64_t bytes_93228 = num_blocks_72266 * binop_x_93012;
                int64_t bytes_93235 = num_blocks_72266 * binop_x_93021;
                int64_t bytes_93264 = merge_block_sizze_67302 * bytes_93210;
                int64_t bytes_93268 = dim_48135 * bytes_93264;
                int64_t lmad_arg_93247 = dim_48135 * num_blocks_72266;
                int64_t bytes_93296 = dim_48135 * binop_x_92956;
                int64_t binop_x_93314 = (int64_t) 16 * stride_72246;
                int64_t bytes_93315 = num_merges_72251 * binop_x_93314;
                int64_t binop_x_93321 = dim_48135 * binop_x_93314;
                int64_t bytes_93322 = num_merges_72251 * binop_x_93321;
                int64_t binop_x_93328 = smax64((int64_t) 0, m_72256);
                int64_t binop_y_93329 = num_merges_72251 * binop_x_93328;
                int64_t binop_y_93330 = smax64((int64_t) 0, binop_y_93329);
                int64_t binop_y_93331 = binop_x_92982 + binop_y_93330;
                int64_t binop_y_93332 = (int64_t) 1 + binop_y_93331;
                int64_t bytes_93333 = (int64_t) 8 * binop_y_93332;
                int64_t binop_y_93351 = dim_48135 * num_merges_72251;
                int64_t binop_y_93352 = binop_x_93328 * binop_y_93351;
                int64_t binop_y_93353 = smax64((int64_t) 0, binop_y_93352);
                int64_t binop_x_93354 = binop_x_92982 + binop_y_93353;
                int64_t binop_y_93357 = num_merges_72251 * binop_x_90874;
                int64_t binop_y_93358 = smax64((int64_t) 0, binop_y_93357);
                int64_t binop_y_93359 = binop_x_93354 + binop_y_93358;
                int64_t binop_y_93360 = (int64_t) 1 + binop_y_93359;
                int64_t bytes_93361 = (int64_t) 8 * binop_y_93360;
                int64_t binop_y_93404 = binop_x_92982 + binop_y_93330;
                int64_t binop_y_93405 = (int64_t) 1 + binop_y_93404;
                int64_t bytes_93406 = (int64_t) 8 * binop_y_93405;
                int64_t binop_x_93416 = binop_x_92982 + binop_y_93353;
                int64_t binop_y_93421 = binop_y_93358 + binop_x_93416;
                int64_t binop_y_93422 = (int64_t) 1 + binop_y_93421;
                int64_t bytes_93423 = (int64_t) 8 * binop_y_93422;
                int64_t binop_y_93432 = binop_x_92982 + binop_y_93330;
                int64_t binop_y_93433 = (int64_t) 1 + binop_y_93432;
                int64_t bytes_93434 = (int64_t) 8 * binop_y_93433;
                int64_t ext_93586;
                int64_t shared_memory_capacity_96354;
                
                shared_memory_capacity_96354 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78272) {
                    ext_93586 = next_stride_72247;
                } else {
                    ext_93586 = ext_93445;
                }
                
                int64_t ext_93585;
                int64_t shared_memory_capacity_96355;
                
                shared_memory_capacity_96355 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78272) {
                    ext_93585 = (int64_t) 1;
                } else {
                    ext_93585 = ext_93444;
                }
                
                int64_t ext_93441;
                
                if (cond_72259) {
                    ext_93441 = binop_y_93351;
                } else {
                    ext_93441 = dim_48135;
                }
                
                int64_t ext_93582;
                int64_t shared_memory_capacity_96356;
                
                shared_memory_capacity_96356 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78272) {
                    ext_93582 = dim_48135;
                } else {
                    ext_93582 = ext_93441;
                }
                
                int64_t ext_93442;
                
                if (cond_72259) {
                    ext_93442 = (int64_t) 1;
                } else {
                    ext_93442 = lmad_ext_93283;
                }
                
                int64_t ext_93583;
                int64_t shared_memory_capacity_96357;
                
                shared_memory_capacity_96357 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78272) {
                    ext_93583 = lmad_ext_93283;
                } else {
                    ext_93583 = ext_93442;
                }
                
                int64_t maxSubHelper_95411 = umax64(bytes_93215, bytes_93264);
                int64_t maxSubHelper_95412 = umax64(bytes_93210, bytes_93268);
                int64_t maxSubHelper_95413 = umax64(bytes_93210, bytes_93264);
                int64_t maxSubHelper_95414 = umax64(bytes_93201, bytes_93235);
                int64_t maxSubHelper_95415 = umax64(bytes_93201, bytes_93228);
                int64_t maxSubHelper_95391 = umax64(bytes_93210, bytes_93235);
                int64_t maxSubHelper_95392 = umax64(bytes_93210, bytes_93228);
                int64_t maxSubHelper_95393 = umax64(bytes_93201, bytes_93228);
                int64_t shared_memory_capacity_96840;
                
                shared_memory_capacity_96840 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78272 && sle64(sdiv_up64(binop_x_93321, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_93314, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_93314, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93264, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93268, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93264, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95391, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95392, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95393, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93215, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93201, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96840)) {
                    if (memblock_alloc_device(ctx, &mem_93569, bytes_93191, "mem_93569")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_93573, bytes_93198, "mem_93573")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_93576, bytes_93191, "mem_93576")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_96358 = sext_i64_i32(sdiv_up64(merge_block_sizze_67302 * dim_48135 * num_blocks_72266, computed_tblock_sizze_78020));
                    int32_t num_chunks_96359 = sext_i64_i32(sdiv_up64(merge_block_sizze_67302 * num_blocks_72266, computed_tblock_sizze_78020));
                    int32_t num_chunks_96360 = sext_i64_i32(sdiv_up64(next_stride_72247, computed_tblock_sizze_78020));
                    int32_t num_chunks_96361 = sext_i64_i32(sdiv_up64(next_stride_72247 * dim_48135, computed_tblock_sizze_78020));
                    int32_t num_chunks_96362 = sext_i64_i32(sdiv_up64(num_blocks_72266, computed_tblock_sizze_78020));
                    int32_t num_chunks_96363 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, computed_tblock_sizze_78020));
                    int32_t virt_num_tblocks_96364 = sext_i64_i32(num_merges_72251);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_78277(ctx, num_merges_72251, 1, 1, computed_tblock_sizze_78020, 1, 1, bytes_93201 + srem64((int64_t) 8 - srem64(bytes_93201, (int64_t) 8), (int64_t) 8) + (bytes_93215 + srem64((int64_t) 8 - srem64(bytes_93215, (int64_t) 8), (int64_t) 8)) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95393 + srem64((int64_t) 8 - srem64(maxSubHelper_95393, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95392 + srem64((int64_t) 8 - srem64(maxSubHelper_95392, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95391 + srem64((int64_t) 8 - srem64(maxSubHelper_95391, (int64_t) 8), (int64_t) 8)) + (bytes_93264 + srem64((int64_t) 8 - srem64(bytes_93264, (int64_t) 8), (int64_t) 8)) + (bytes_93268 + srem64((int64_t) 8 - srem64(bytes_93268, (int64_t) 8), (int64_t) 8)) + (bytes_93264 + srem64((int64_t) 8 - srem64(bytes_93264, (int64_t) 8), (int64_t) 8)) + (binop_x_93314 + srem64((int64_t) 8 - srem64(binop_x_93314, (int64_t) 8), (int64_t) 8)) + (binop_x_93314 + srem64((int64_t) 8 - srem64(binop_x_93314, (int64_t) 8), (int64_t) 8)) + (binop_x_93321 + srem64((int64_t) 8 - srem64(binop_x_93321, (int64_t) 8), (int64_t) 8)), dim_48135, merge_block_sizze_67302, loop_dz2084Uz2082U_72241, stride_72246, next_stride_72247, zzero_72248, num_merges_72251, m_72256, zzero_leq_i_p_m_t_s_72257, i_lte_j_72258, cond_72259, num_blocks_72266, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, j_m_i_72268, cond_72278, computed_tblock_sizze_78020, bytes_93201, bytes_93210, bytes_93215, lmad_arg_93247, bytes_93264, bytes_93268, binop_x_93314, binop_x_93321, maxSubHelper_95391, maxSubHelper_95392, maxSubHelper_95393, num_chunks_96358, num_chunks_96359, num_chunks_96360, num_chunks_96361, mem_param_92944.mem, mem_param_92948.mem, mem_param_92951.mem, mem_93569.mem, mem_93573.mem, mem_93576.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_93587, &mem_93569, "mem_93569") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93584, &mem_93573, "mem_93573") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93580, &mem_93576, "mem_93576") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_92953, (int64_t) 0, "mem_92953")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_92954, (int64_t) 0, "mem_92954")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96483 = sext_i64_i32(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80816));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_80822(ctx, segmap_usable_groups_80817, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80790, 1, 1, (int64_t) 0, loop_dz2084Uz2082U_72241, next_stride_72247, zzero_72248, num_merges_72251, m_72256, zzero_leq_i_p_m_t_s_72257, i_lte_j_72258, mem_92953.mem, mem_92954.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_72259) {
                        if (cond_72278) {
                            int64_t segmap_tblock_sizze_80850;
                            
                            segmap_tblock_sizze_80850 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79048;
                            
                            int64_t segmap_usable_groups_80851 = sdiv_up64(num_merges_72251, segmap_tblock_sizze_80850);
                            
                            if (memblock_alloc_device(ctx, &mem_93303, binop_x_92956, "mem_93303")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96492 = sext_i64_i32(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80850));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_80854(ctx, segmap_usable_groups_80851, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79048, 1, 1, (int64_t) 0, next_stride_72247, num_merges_72251, mem_param_92944.mem, mem_92953.mem, mem_92954.mem, mem_93303.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_80861;
                            
                            segmap_tblock_sizze_80861 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79035;
                            
                            int64_t segmap_usable_groups_80862 = sdiv_up64(binop_y_93351, segmap_tblock_sizze_80861);
                            
                            if (memblock_alloc_device(ctx, &mem_93307, bytes_93296, "mem_93307")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96501 = sext_i64_i32(sdiv_up64(num_merges_72251 * dim_48135, segmap_tblock_sizze_80861));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_80866(ctx, segmap_usable_groups_80862, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79035, 1, 1, (int64_t) 0, dim_48135, next_stride_72247, num_merges_72251, mem_param_92948.mem, mem_92953.mem, mem_92954.mem, mem_93307.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_80872;
                            
                            segmap_tblock_sizze_80872 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79020;
                            
                            int64_t segmap_usable_groups_80873 = sdiv_up64(num_merges_72251, segmap_tblock_sizze_80872);
                            
                            if (memblock_alloc_device(ctx, &mem_93310, binop_x_92956, "mem_93310")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96512 = sext_i64_i32(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80872));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_80876(ctx, segmap_usable_groups_80873, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79020, 1, 1, (int64_t) 0, next_stride_72247, num_merges_72251, mem_param_92951.mem, mem_92953.mem, mem_92954.mem, mem_93310.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_93313, &mem_93303, "mem_93303") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93312, &mem_93307, "mem_93307") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93311, &mem_93310, "mem_93310") != 0)
                                return 1;
                        } else {
                            int64_t segmap_tblock_sizze_80885;
                            
                            segmap_tblock_sizze_80885 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79121;
                            
                            int64_t segmap_usable_groups_80886 = sdiv_up64(num_merges_72251, segmap_tblock_sizze_80885);
                            
                            if (memblock_alloc_device(ctx, &mem_93293, binop_x_92956, "mem_93293")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93300, binop_x_92956, "mem_93300")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96521 = sext_i64_i32(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80885));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_80890(ctx, segmap_usable_groups_80886, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79121, 1, 1, (int64_t) 0, stride_72246, next_stride_72247, num_merges_72251, mem_param_92944.mem, mem_92953.mem, mem_92954.mem, mem_93293.mem, mem_93300.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_80898;
                            
                            segmap_tblock_sizze_80898 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79108;
                            
                            int64_t segmap_usable_groups_80899 = sdiv_up64(binop_y_93351, segmap_tblock_sizze_80898);
                            
                            if (memblock_alloc_device(ctx, &mem_93297, bytes_93296, "mem_93297")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96530 = sext_i64_i32(sdiv_up64(num_merges_72251 * dim_48135, segmap_tblock_sizze_80898));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_80903(ctx, segmap_usable_groups_80899, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79108, 1, 1, (int64_t) 0, dim_48135, num_merges_72251, mem_param_92948.mem, mem_92953.mem, mem_92954.mem, mem_93297.mem, mem_93300.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_80909;
                            
                            segmap_tblock_sizze_80909 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79093;
                            
                            int64_t segmap_usable_groups_80910 = sdiv_up64(num_merges_72251, segmap_tblock_sizze_80909);
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96541 = sext_i64_i32(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80909));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_80913(ctx, segmap_usable_groups_80910, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79093, 1, 1, (int64_t) 0, num_merges_72251, mem_param_92951.mem, mem_92953.mem, mem_92954.mem, mem_93300.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_93313, &mem_93293, "mem_93293") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93312, &mem_93297, "mem_93297") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93311, &mem_93300, "mem_93300") != 0)
                                return 1;
                        }
                        if (memblock_alloc_device(ctx, &mem_93316, bytes_93315, "mem_93316")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96550 = next_stride_72247 * num_merges_72251;
                        int64_t tblock_sizze_96555;
                        
                        tblock_sizze_96555 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96555;
                        
                        int64_t virt_num_tblocks_96556 = sdiv_up64(replicate_n_96550, tblock_sizze_96555);
                        int64_t num_tblocks_96557 = smin64(virt_num_tblocks_96556, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96551(ctx, num_tblocks_96557, 1, 1, tblock_sizze_96555, 1, 1, (int64_t) 0, next_stride_72247, num_merges_72251, replicate_n_96550, virt_num_tblocks_96556, num_tblocks_96557, ext_mem_93313.mem, mem_93316.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_93313, "ext_mem_93313") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93319, bytes_93315, "mem_93319")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96570 = next_stride_72247 * num_merges_72251;
                        int64_t tblock_sizze_96575;
                        
                        tblock_sizze_96575 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96575;
                        
                        int64_t virt_num_tblocks_96576 = sdiv_up64(replicate_n_96570, tblock_sizze_96575);
                        int64_t num_tblocks_96577 = smin64(virt_num_tblocks_96576, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96571(ctx, num_tblocks_96577, 1, 1, tblock_sizze_96575, 1, 1, (int64_t) 0, next_stride_72247, num_merges_72251, replicate_n_96570, virt_num_tblocks_96576, num_tblocks_96577, ext_mem_93311.mem, mem_93319.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_93311, "ext_mem_93311") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93323, bytes_93322, "mem_93323")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96590 = next_stride_72247 * dim_48135 * num_merges_72251;
                        int64_t tblock_sizze_96595;
                        
                        tblock_sizze_96595 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96595;
                        
                        int64_t virt_num_tblocks_96596 = sdiv_up64(replicate_n_96590, tblock_sizze_96595);
                        int64_t num_tblocks_96597 = smin64(virt_num_tblocks_96596, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96591(ctx, num_tblocks_96597, 1, 1, tblock_sizze_96595, 1, 1, (int64_t) 0, dim_48135, next_stride_72247, num_merges_72251, replicate_n_96590, virt_num_tblocks_96596, num_tblocks_96597, ext_mem_93312.mem, mem_93323.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_93312, "ext_mem_93312") != 0)
                            return 1;
                        
                        int64_t segmap_tblock_sizze_80931;
                        
                        segmap_tblock_sizze_80931 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78924;
                        
                        int64_t num_tblocks_80932;
                        int64_t max_num_tblocks_96613;
                        
                        max_num_tblocks_96613 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_78926;
                        num_tblocks_80932 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80931), max_num_tblocks_96613)));
                        if (memblock_alloc_device(ctx, &mem_93334, bytes_93333, "mem_93334")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_72251}, mem_93316.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_72251}, (int64_t []) {num_merges_72251, next_stride_72247})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_93316, "mem_93316") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93345, bytes_93333, "mem_93345")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93345.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_72251}, mem_93319.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_72251}, (int64_t []) {num_merges_72251, next_stride_72247})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_93319, "mem_93319") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93362, bytes_93361, "mem_93362")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_72251 * dim_48135, num_merges_72251}, mem_93323.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_72251 * dim_48135, num_merges_72251}, (int64_t []) {num_merges_72251, next_stride_72247, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_93323, "mem_93323") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93373, bytes_92971, "mem_93373")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93373.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_72241}, mem_param_92948.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_72241, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_93407, bytes_93406, "mem_93407")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_93424, bytes_93423, "mem_93424")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_93435, bytes_93434, "mem_93435")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96614 = sext_i64_i32(sdiv_up64(num_merges_72251, segmap_tblock_sizze_80931));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_80938(ctx, num_tblocks_80932, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78924, 1, 1, (int64_t) 0, dim_48135, loop_dz2084Uz2082U_72241, stride_72246, next_stride_72247, num_merges_72251, j_m_i_72268, num_tblocks_80932, binop_y_93351, virt_num_tblocks_96614, mem_param_92944.mem, mem_param_92951.mem, mem_92953.mem, mem_92954.mem, mem_93334.mem, mem_93345.mem, mem_93362.mem, mem_93373.mem, mem_93407.mem, mem_93424.mem, mem_93435.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_93334, "mem_93334") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_93345, "mem_93345") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_93362, "mem_93362") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_93373, "mem_93373") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93446, &mem_93407, "mem_93407") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93443, &mem_93424, "mem_93424") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93439, &mem_93435, "mem_93435") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_96839;
                        
                        shared_memory_capacity_96839 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_81009 && sle64(sdiv_up64(maxSubHelper_95411, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95412, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95413, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95414, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95415, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93228, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93210, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96839)) {
                            if (memblock_alloc_device(ctx, &mem_93275, bytes_93191, "mem_93275")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93279, bytes_93198, "mem_93279")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93282, bytes_93191, "mem_93282")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_96631 = sext_i64_i32(sdiv_up64(merge_block_sizze_67302 * dim_48135 * num_blocks_72266, computed_tblock_sizze_78020));
                            int32_t num_chunks_96632 = sext_i64_i32(sdiv_up64(merge_block_sizze_67302 * num_blocks_72266, computed_tblock_sizze_78020));
                            int32_t num_chunks_96633 = sext_i64_i32(sdiv_up64(num_blocks_72266, computed_tblock_sizze_78020));
                            int32_t num_chunks_96634 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, computed_tblock_sizze_78020));
                            int32_t virt_num_tblocks_96635 = sext_i64_i32(num_merges_72251);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_81017(ctx, num_merges_72251, 1, 1, computed_tblock_sizze_78020, 1, 1, bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (bytes_93210 + srem64((int64_t) 8 - srem64(bytes_93210, (int64_t) 8), (int64_t) 8)) + (bytes_93228 + srem64((int64_t) 8 - srem64(bytes_93228, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95415 + srem64((int64_t) 8 - srem64(maxSubHelper_95415, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95414 + srem64((int64_t) 8 - srem64(maxSubHelper_95414, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95413 + srem64((int64_t) 8 - srem64(maxSubHelper_95413, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95412 + srem64((int64_t) 8 - srem64(maxSubHelper_95412, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95411 + srem64((int64_t) 8 - srem64(maxSubHelper_95411, (int64_t) 8), (int64_t) 8)), dim_48135, merge_block_sizze_67302, stride_72246, next_stride_72247, num_merges_72251, num_blocks_72266, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, j_m_i_72268, computed_tblock_sizze_78020, bytes_93210, bytes_93228, lmad_arg_93247, maxSubHelper_95411, maxSubHelper_95412, maxSubHelper_95413, maxSubHelper_95414, maxSubHelper_95415, num_chunks_96631, num_chunks_96632, mem_param_92944.mem, mem_param_92948.mem, mem_param_92951.mem, mem_92953.mem, mem_92954.mem, mem_93275.mem, mem_93279.mem, mem_93282.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_93288, &mem_93275, "mem_93275") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93287, &mem_93279, "mem_93279") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93285, &mem_93282, "mem_93282") != 0)
                                return 1;
                        } else {
                            int64_t segmap_usable_groups_81277 = sdiv_up64(nest_sizze_81275, segmap_tblock_sizze_81276);
                            
                            if (memblock_alloc_device(ctx, &mem_92958, bytes_92957, "mem_92958")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92961, bytes_92957, "mem_92961")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96716 = sext_i64_i32(sdiv_up64(num_merges_72251 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, segmap_tblock_sizze_81276));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81282(ctx, segmap_usable_groups_81277, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80255, 1, 1, (int64_t) 0, merge_block_sizze_67302, stride_72246, next_stride_72247, num_merges_72251, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, j_m_i_72268, mem_param_92944.mem, mem_92953.mem, mem_92954.mem, mem_92958.mem, mem_92961.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_92972, bytes_92971, "mem_92972")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92972.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_72241}, mem_param_92948.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_72241, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_92977, bytes_92976, "mem_92977")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92980, bytes_92976, "mem_92980")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92997, bytes_92996, "mem_92997")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93000, bytes_92976, "mem_93000")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93003, bytes_92976, "mem_93003")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93006, bytes_92976, "mem_93006")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93007, (int64_t) 0, "mem_93007")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93010, bytes_92976, "mem_93010")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93011, (int64_t) 0, "mem_93011")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96733 = sext_i64_i32(sdiv_up64(num_merges_72251 * num_blocks_72266, segmap_tblock_sizze_81389));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81403(ctx, num_tblocks_81390, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80007, 1, 1, (int64_t) 0, dim_48135, loop_dz2084Uz2082U_72241, stride_72246, next_stride_72247, num_merges_72251, num_blocks_72266, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_72267, num_tblocks_81390, virt_num_tblocks_96733, mem_param_92944.mem, mem_param_92951.mem, mem_92953.mem, mem_92954.mem, mem_92958.mem, mem_92961.mem, mem_92972.mem, mem_92977.mem, mem_92980.mem, mem_92997.mem, mem_93000.mem, mem_93003.mem, mem_93006.mem, mem_93007.mem, mem_93010.mem, mem_93011.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_92958, "mem_92958") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92961, "mem_92961") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93015, bytes_93014, "mem_93015")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_96748 = merge_block_sizze_67302 * num_merges_72251 * num_blocks_72266;
                            int64_t tblock_sizze_96753;
                            
                            tblock_sizze_96753 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96753;
                            
                            int64_t virt_num_tblocks_96754 = sdiv_up64(replicate_n_96748, tblock_sizze_96753);
                            int64_t num_tblocks_96755 = smin64(virt_num_tblocks_96754, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96749(ctx, num_tblocks_96755, 1, 1, tblock_sizze_96753, 1, 1, (int64_t) 0, merge_block_sizze_67302, num_merges_72251, num_blocks_72266, replicate_n_96748, virt_num_tblocks_96754, num_tblocks_96755, mem_92977.mem, mem_93015.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92977, "mem_92977") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93019, bytes_93014, "mem_93019")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_96771 = merge_block_sizze_67302 * num_merges_72251 * num_blocks_72266;
                            int64_t tblock_sizze_96776;
                            
                            tblock_sizze_96776 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96776;
                            
                            int64_t virt_num_tblocks_96777 = sdiv_up64(replicate_n_96771, tblock_sizze_96776);
                            int64_t num_tblocks_96778 = smin64(virt_num_tblocks_96777, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96772(ctx, num_tblocks_96778, 1, 1, tblock_sizze_96776, 1, 1, (int64_t) 0, merge_block_sizze_67302, num_merges_72251, num_blocks_72266, replicate_n_96771, virt_num_tblocks_96777, num_tblocks_96778, mem_92980.mem, mem_93019.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92980, "mem_92980") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93024, bytes_93023, "mem_93024")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_96794 = merge_block_sizze_67302 * dim_48135 * num_merges_72251 * num_blocks_72266;
                            int64_t tblock_sizze_96799;
                            
                            tblock_sizze_96799 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96799;
                            
                            int64_t virt_num_tblocks_96800 = sdiv_up64(replicate_n_96794, tblock_sizze_96799);
                            int64_t num_tblocks_96801 = smin64(virt_num_tblocks_96800, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96795(ctx, num_tblocks_96801, 1, 1, tblock_sizze_96799, 1, 1, (int64_t) 0, dim_48135, merge_block_sizze_67302, num_merges_72251, num_blocks_72266, replicate_n_96794, virt_num_tblocks_96800, num_tblocks_96801, mem_92997.mem, mem_93024.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92997, "mem_92997") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93041, bytes_93040, "mem_93041")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93041.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251}, mem_93015.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251}, (int64_t []) {num_merges_72251, num_blocks_72266, merge_block_sizze_67302})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93015, "mem_93015") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93058, bytes_93040, "mem_93058")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93058.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251}, mem_93019.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251}, (int64_t []) {num_merges_72251, num_blocks_72266, merge_block_sizze_67302})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93019, "mem_93019") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93082, bytes_93081, "mem_93082")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_93082.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251 * dim_48135, num_blocks_72266 * num_merges_72251}, mem_93024.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251 * dim_48135, num_blocks_72266 * num_merges_72251}, (int64_t []) {num_merges_72251, num_blocks_72266, merge_block_sizze_67302, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93024, "mem_93024") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93132, bytes_93131, "mem_93132")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93156, bytes_93155, "mem_93156")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93173, bytes_93172, "mem_93173")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96820 = sext_i64_i32(sdiv_up64(num_merges_72251 * num_blocks_72266, segmap_tblock_sizze_81477));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81485(ctx, num_tblocks_81478, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79914, 1, 1, (int64_t) 0, dim_48135, merge_block_sizze_67302, loop_dz2084Uz2082U_72241, next_stride_72247, num_merges_72251, num_blocks_72266, nest_sizze_81388, num_tblocks_81478, binop_y_93070, virt_num_tblocks_96820, mem_param_92944.mem, mem_param_92951.mem, mem_92953.mem, mem_92954.mem, mem_92972.mem, mem_93000.mem, mem_93003.mem, mem_93006.mem, mem_93007.mem, mem_93010.mem, mem_93011.mem, mem_93041.mem, mem_93058.mem, mem_93082.mem, mem_93132.mem, mem_93156.mem, mem_93173.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_92972, "mem_92972") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93000, "mem_93000") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93003, "mem_93003") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93006, "mem_93006") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93007, "mem_93007") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93010, "mem_93010") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93011, "mem_93011") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93041, "mem_93041") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93058, "mem_93058") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93082, "mem_93082") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93177, bytes_93176, "mem_93177")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93177.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_67302 * num_blocks_72266, merge_block_sizze_67302, (int64_t) 1}, mem_93132.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251}, (int64_t []) {num_merges_72251, num_blocks_72266, merge_block_sizze_67302})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93132, "mem_93132") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93183, bytes_93182, "mem_93183")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_93183.mem, (int64_t) 0, (int64_t []) {dim_48135 * merge_block_sizze_67302 * num_blocks_72266, dim_48135 * merge_block_sizze_67302, dim_48135, (int64_t) 1}, mem_93156.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251 * dim_48135, num_blocks_72266 * num_merges_72251}, (int64_t []) {num_merges_72251, num_blocks_72266, merge_block_sizze_67302, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93156, "mem_93156") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93188, bytes_93176, "mem_93188")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93188.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_67302 * num_blocks_72266, merge_block_sizze_67302, (int64_t) 1}, mem_93173.mem, (int64_t) 0, (int64_t []) {num_blocks_72266, (int64_t) 1, num_blocks_72266 * num_merges_72251}, (int64_t []) {num_merges_72251, num_blocks_72266, merge_block_sizze_67302})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93173, "mem_93173") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93192, bytes_93191, "mem_93192")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93192.mem, (int64_t) 0, (int64_t []) {next_stride_72247, (int64_t) 1}, mem_93177.mem, (int64_t) 0, (int64_t []) {flat_dim_72269, (int64_t) 1}, (int64_t []) {num_merges_72251, next_stride_72247})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93177, "mem_93177") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93195, bytes_93191, "mem_93195")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93195.mem, (int64_t) 0, (int64_t []) {next_stride_72247, (int64_t) 1}, mem_93188.mem, (int64_t) 0, (int64_t []) {flat_dim_72269, (int64_t) 1}, (int64_t []) {num_merges_72251, next_stride_72247})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93188, "mem_93188") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93199, bytes_93198, "mem_93199")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93199.mem, (int64_t) 0, (int64_t []) {dim_48135 * next_stride_72247, dim_48135, (int64_t) 1}, mem_93183.mem, (int64_t) 0, (int64_t []) {dim_48135 * flat_dim_72269, dim_48135, (int64_t) 1}, (int64_t []) {num_merges_72251, next_stride_72247, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93183, "mem_93183") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93288, &mem_93192, "mem_93192") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93287, &mem_93199, "mem_93199") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93285, &mem_93195, "mem_93195") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_93446, &ext_mem_93288, "ext_mem_93288") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93443, &ext_mem_93287, "ext_mem_93287") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93439, &ext_mem_93285, "ext_mem_93285") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_92953, "mem_92953") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_92954, "mem_92954") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93587, &ext_mem_93446, "ext_mem_93446") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93584, &ext_mem_93443, "ext_mem_93443") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93580, &ext_mem_93439, "ext_mem_93439") != 0)
                        return 1;
                }
                
                int64_t flat_dim_72638 = next_stride_72247 * num_merges_72251;
                
                if (memblock_alloc_device(ctx, &mem_93590, bytes_93191, "mem_93590")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93590.mem, (int64_t) 0, (int64_t []) {next_stride_72247, (int64_t) 1}, ext_mem_93587.mem, (int64_t) 0, (int64_t []) {ext_93586, ext_93585}, (int64_t []) {num_merges_72251, next_stride_72247})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93587, "ext_mem_93587") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93595, bytes_93198, "mem_93595")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93595.mem, (int64_t) 0, (int64_t []) {dim_48135 * next_stride_72247, dim_48135, (int64_t) 1}, ext_mem_93584.mem, (int64_t) 0, (int64_t []) {ext_93583, ext_93582, ext_93585}, (int64_t []) {num_merges_72251, next_stride_72247, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93584, "ext_mem_93584") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93599, bytes_93191, "mem_93599")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93599.mem, (int64_t) 0, (int64_t []) {next_stride_72247, (int64_t) 1}, ext_mem_93580.mem, (int64_t) 0, (int64_t []) {ext_93586, ext_93585}, (int64_t []) {num_merges_72251, next_stride_72247})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93580, "ext_mem_93580") != 0)
                    return 1;
                
                bool loop_cond_72642 = slt64(next_stride_72247, flat_dim_67297);
                
                if (memblock_set_device(ctx, &mem_param_tmp_96343, &mem_93590, "mem_93590") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_96344, &mem_93595, "mem_93595") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_96345, &mem_93599, "mem_93599") != 0)
                    return 1;
                
                int64_t loop_dz2084Uz2082U_tmp_96346 = flat_dim_72638;
                bool loop_while_tmp_96347 = loop_cond_72642;
                int64_t stride_tmp_96351 = next_stride_72247;
                
                if (memblock_set_device(ctx, &mem_param_92944, &mem_param_tmp_96343, "mem_param_tmp_96343") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_92948, &mem_param_tmp_96344, "mem_param_tmp_96344") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_92951, &mem_param_tmp_96345, "mem_param_tmp_96345") != 0)
                    return 1;
                loop_dz2084Uz2082U_72241 = loop_dz2084Uz2082U_tmp_96346;
                loop_while_72242 = loop_while_tmp_96347;
                stride_72246 = stride_tmp_96351;
            }
            if (memblock_set_device(ctx, &ext_mem_93610, &mem_param_92944, "mem_param_92944") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93609, &mem_param_92948, "mem_param_92948") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93608, &mem_param_92951, "mem_param_92951") != 0)
                return 1;
            data_72235 = loop_dz2084Uz2082U_72241;
            data_72236 = loop_while_72242;
            data_72240 = stride_72246;
            if (memblock_unref_device(ctx, &mem_92931, "mem_92931") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92936, "mem_92936") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92940, "mem_92940") != 0)
                return 1;
            
            bool i_p_m_t_s_leq_w_72643 = slt64(zs_lhs_68004, data_72235);
            bool y_72644 = zzero_leq_i_p_m_t_s_68658 && i_p_m_t_s_leq_w_72643;
            bool ok_or_empty_72645 = empty_slice_68657 || y_72644;
            bool index_certs_72646;
            
            if (!ok_or_empty_72645) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_48138, "] out of bounds for array of shape [", (long long) data_72235, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93617, &ext_mem_93609, "ext_mem_93609") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93613, &ext_mem_93608, "ext_mem_93608") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_92739, "mem_92739") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93619, bytes_90820, "mem_93619")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_93619.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_93613.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_48138})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_93613, "ext_mem_93613") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93622, bytes_90858, "mem_93622")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93622.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, ext_mem_93617.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_93617, "ext_mem_93617") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_93624, &mem_93622, "mem_93622") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_93623, &mem_93619, "mem_93619") != 0)
            return 1;
    } else {
        if (cond_67071) {
            if (memblock_alloc_device(ctx, &mem_90852, bytes_90843, "mem_90852")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_90855, &mem_90852, "mem_90852") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_90844, bytes_90843, "mem_90844")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_90844, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, defunc_0_f_res_67087) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_67846 = 0; i_67846 < distance_67090; i_67846++) {
                int64_t index_primexp_67848 = add64((int64_t) 1, i_67846);
                bool x_67849 = sle64((int64_t) 0, index_primexp_67848);
                bool y_67850 = slt64(index_primexp_67848, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137);
                bool bounds_check_67851 = x_67849 && y_67850;
                bool index_certs_67852;
                
                if (!bounds_check_67851) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_67848, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:290:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_67853;
                
                if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_67853, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, index_primexp_67848) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99385 = defunc_0_f_res_67853;
                
                if ((err = gpu_scalar_to_device(ctx, mem_90844.mem, index_primexp_67848 * sizeof(double), sizeof(double), &write_tmp_99385)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_90855, &mem_90844, "mem_90844") != 0)
                return 1;
        }
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_91093, bytes_90858, "mem_91093")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91096, &mem_91093, "mem_91093") != 0)
                return 1;
        } else {
            int64_t shared_memory_capacity_97033;
            
            shared_memory_capacity_97033 = ctx->max_shared_memory;
            if (intra_suff_and_fits_82874 && sle64(sdiv_up64(maxSubHelper_95428, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97033)) {
                if (memblock_alloc_device(ctx, &mem_91087, bytes_90858, "mem_91087")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_96842 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
                int32_t virt_num_tblocks_96843 = sext_i64_i32(n_48138);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_82878(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95428 + srem64((int64_t) 8 - srem64(maxSubHelper_95428, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, arg_67058, cond_67069, binop_x_90867, maxSubHelper_95428, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, xs_mem_90819.mem, mem_90840.mem, mem_91087.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_91090, &mem_91087, "mem_91087") != 0)
                    return 1;
            } else {
                if (cond_67069) {
                    if (memblock_alloc_device(ctx, &mem_90996, bytes_90858, "mem_90996")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_90999, &mem_90996, "mem_90996") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_96989;
                    
                    shared_memory_capacity_96989 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_82950 && sle64(sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96989)) {
                        if (memblock_alloc_device(ctx, &mem_90990, bytes_90858, "mem_90990")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_96863 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
                        int32_t virt_num_tblocks_96864 = sext_i64_i32(n_48138);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_82954(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, arg_67058, cond_67069, binop_x_90867, grid_part_sizze_per_dim_mem_90816.mem, start_of_grid_partition_mem_90818.mem, xs_mem_90819.mem, mem_90990.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_90993, &mem_90990, "mem_90990") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_90863, bytes_90858, "mem_90863")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96881 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_83005));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83010(ctx, segmap_usable_groups_83006, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82553, 1, 1, (int64_t) 0, dim_48135, n_48138, start_of_grid_partition_mem_90818.mem, xs_mem_90819.mem, mem_90863.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96892 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_83021));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83026(ctx, segmap_usable_groups_83022, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82520, 1, 1, (int64_t) 0, dim_48135, n_48138, grid_part_sizze_per_dim_mem_90816.mem, mem_90863.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (cond_67069) {
                            if (memblock_alloc_device(ctx, &mem_90912, bytes_90858, "mem_90912")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_set_device(ctx, &ext_mem_90915, &mem_90912, "mem_90912") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_90866, bytes_90820, "mem_90866")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96903 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83034));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83038(ctx, segmap_usable_groups_83035, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82466, 1, 1, (int64_t) 0, dim_48135, n_48138, mem_90863.mem, mem_90866.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_90869, bytes_90868, "mem_90869")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_96912 = dim_48135 * n_48138;
                            int64_t tblock_sizze_96917;
                            
                            tblock_sizze_96917 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96917;
                            
                            int64_t virt_num_tblocks_96918 = sdiv_up64(replicate_n_96912, tblock_sizze_96917);
                            int64_t num_tblocks_96919 = smin64(virt_num_tblocks_96918, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96913(ctx, num_tblocks_96919, 1, 1, tblock_sizze_96917, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_96912, virt_num_tblocks_96918, num_tblocks_96919, mem_90866.mem, mem_90869.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_90866, "mem_90866") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_90880, bytes_90879, "mem_90880")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90880.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_90869.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_90869, "mem_90869") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_90891, bytes_90879, "mem_90891")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90891.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_90863.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_90909, bytes_90908, "mem_90909")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96932 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83046));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83051(ctx, num_tblocks_83047, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82440, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_83047, virt_num_tblocks_96932, mem_90880.mem, mem_90891.mem, mem_90909.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_90880, "mem_90880") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_90891, "mem_90891") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_90915, &mem_90909, "mem_90909") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_90863, "mem_90863") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_90918, bytes_90820, "mem_90918")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96946 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83067));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83071(ctx, segmap_usable_groups_83068, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82408, 1, 1, (int64_t) 0, n_48138, ext_90914, ext_mem_90915.mem, mem_90918.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_90921, bytes_90868, "mem_90921")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96955 = dim_48135 * n_48138;
                        int64_t tblock_sizze_96960;
                        
                        tblock_sizze_96960 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96960;
                        
                        int64_t virt_num_tblocks_96961 = sdiv_up64(replicate_n_96955, tblock_sizze_96960);
                        int64_t num_tblocks_96962 = smin64(virt_num_tblocks_96961, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96956(ctx, num_tblocks_96962, 1, 1, tblock_sizze_96960, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_96955, virt_num_tblocks_96961, num_tblocks_96962, mem_90918.mem, mem_90921.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_90918, "mem_90918") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_90932, bytes_90879, "mem_90932")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90932.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_90921.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_90921, "mem_90921") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_90943, bytes_90879, "mem_90943")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_90943.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_90915.mem, (int64_t) 0, (int64_t []) {ext_90914, ext_90913}, (int64_t []) {n_48138, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &ext_mem_90915, "ext_mem_90915") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_90961, bytes_90960, "mem_90961")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96975 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83079));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83084(ctx, num_tblocks_83080, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82382, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_83080, virt_num_tblocks_96975, mem_90932.mem, mem_90943.mem, mem_90961.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_90932, "mem_90932") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_90943, "mem_90943") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_90993, &mem_90961, "mem_90961") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_90999, &ext_mem_90993, "ext_mem_90993") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_91002, bytes_90820, "mem_91002")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96990 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83100));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_83104(ctx, segmap_usable_groups_83101, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82255, 1, 1, (int64_t) 0, n_48138, ext_90998, mem_90840.mem, ext_mem_90999.mem, mem_91002.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_91005, bytes_90868, "mem_91005")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_96999 = dim_48135 * n_48138;
                int64_t tblock_sizze_97004;
                
                tblock_sizze_97004 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97004;
                
                int64_t virt_num_tblocks_97005 = sdiv_up64(replicate_n_96999, tblock_sizze_97004);
                int64_t num_tblocks_97006 = smin64(virt_num_tblocks_97005, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_97000(ctx, num_tblocks_97006, 1, 1, tblock_sizze_97004, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_96999, virt_num_tblocks_97005, num_tblocks_97006, mem_91002.mem, mem_91005.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_91002, "mem_91002") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91016, bytes_90879, "mem_91016")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91005.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &mem_91005, "mem_91005") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91027, bytes_90879, "mem_91027")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_90999.mem, (int64_t) 0, (int64_t []) {ext_90998, ext_90997}, (int64_t []) {n_48138, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_90999, "ext_mem_90999") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91045, bytes_91044, "mem_91045")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_97019 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83112));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_83117(ctx, num_tblocks_83113, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82226, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_83113, virt_num_tblocks_97019, grid_partitions_per_dim_mem_90817.mem, mem_91016.mem, mem_91027.mem, mem_91045.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_91016, "mem_91016") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_91027, "mem_91027") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91090, &mem_91045, "mem_91045") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_91096, &ext_mem_91090, "ext_mem_91090") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &mem_91100, bytes_90858, "mem_91100")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97034 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_83141));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83146(ctx, segmap_usable_groups_83142, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82049, 1, 1, (int64_t) 0, dim_48135, n_48138, ext_91094, ext_91095, grid_part_prefix_sum_mem_90815.mem, ext_mem_91096.mem, mem_91100.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91096, "ext_mem_91096") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91111, bytes_90879, "mem_91111")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91111.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91100.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91100, "mem_91100") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91113, (int64_t) 0, "mem_91113")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91257, bytes_90820, "mem_91257")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97045 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83152));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83157(ctx, segmap_usable_groups_83153, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82020, 1, 1, (int64_t) 0, dim_48135, dz2080U_48136, n_48138, mem_91111.mem, mem_91113.mem, mem_91257.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_91111, "mem_91111") != 0)
            return 1;
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_91169, bytes_90858, "mem_91169")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91172, &mem_91169, "mem_91169") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91123, bytes_90858, "mem_91123")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97055 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_83172));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83177(ctx, segmap_usable_groups_83173, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81950, 1, 1, (int64_t) 0, dim_48135, n_48138, start_of_grid_partition_mem_90818.mem, mem_91113.mem, mem_91123.mem, mem_91257.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97066 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_83187));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83192(ctx, segmap_usable_groups_83188, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81924, 1, 1, (int64_t) 0, dim_48135, n_48138, xs_mem_90819.mem, mem_91123.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91126, bytes_90868, "mem_91126")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_97077 = dim_48135 * n_48138;
            int64_t tblock_sizze_97082;
            
            tblock_sizze_97082 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97082;
            
            int64_t virt_num_tblocks_97083 = sdiv_up64(replicate_n_97077, tblock_sizze_97082);
            int64_t num_tblocks_97084 = smin64(virt_num_tblocks_97083, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97078(ctx, num_tblocks_97084, 1, 1, tblock_sizze_97082, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_97077, virt_num_tblocks_97083, num_tblocks_97084, mem_91123.mem, mem_91126.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91137, bytes_90879, "mem_91137")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91137.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91126.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91126, "mem_91126") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91148, bytes_90879, "mem_91148")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91148.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91123.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91123, "mem_91123") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91166, bytes_91165, "mem_91166")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97097 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83209));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83214(ctx, num_tblocks_83210, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81878, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_83210, virt_num_tblocks_97097, mem_91137.mem, mem_91148.mem, mem_91166.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91137, "mem_91137") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91148, "mem_91148") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91172, &mem_91166, "mem_91166") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_91113, "mem_91113") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91176, bytes_90858, "mem_91176")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97111 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_83234));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83239(ctx, segmap_usable_groups_83235, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81828, 1, 1, (int64_t) 0, dim_48135, n_48138, ext_90913, ext_90914, ext_mem_91172.mem, mem_91176.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_91187, bytes_90879, "mem_91187")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91187.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91176.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91176, "mem_91176") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91190, bytes_90820, "mem_91190")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97122 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83244));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83248(ctx, segmap_usable_groups_83245, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81803, 1, 1, (int64_t) 0, dim_48135, n_48138, mem_91187.mem, mem_91190.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_91187, "mem_91187") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91193, bytes_91192, "mem_91193")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91193, n_48138 * arg_67058, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91212, bytes_91211, "mem_91212")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_91237;
        int64_t ext_91236;
        int64_t ctx_param_ext_91195;
        int64_t ctx_param_ext_91196;
        
        if (memblock_set_device(ctx, &mem_param_91197, &mem_91193, "mem_91193") != 0)
            return 1;
        ctx_param_ext_91195 = arg_67058;
        ctx_param_ext_91196 = (int64_t) 1;
        for (int64_t i_83259 = 0; i_83259 < arg_67058; i_83259++) {
            bool y_83261 = slt64(i_83259, dim_48135);
            bool index_certs_83262;
            
            if (!y_83261) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_83259, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_83263 = add64((int64_t) 1, i_83259);
            int64_t j_m_i_83264 = sub64(dim_48135, map_arg1_83263);
            bool empty_slice_83265 = j_m_i_83264 == (int64_t) 0;
            int64_t m_83266 = sub64(j_m_i_83264, (int64_t) 1);
            int64_t i_p_m_t_s_83267 = add64(map_arg1_83263, m_83266);
            bool zzero_leq_i_p_m_t_s_83268 = sle64((int64_t) 0, i_p_m_t_s_83267);
            bool i_p_m_t_s_leq_w_83269 = slt64(i_p_m_t_s_83267, dim_48135);
            bool zzero_lte_i_83270 = sle64((int64_t) 0, map_arg1_83263);
            bool i_lte_j_83271 = sle64(map_arg1_83263, dim_48135);
            bool y_83272 = i_p_m_t_s_leq_w_83269 && zzero_lte_i_83270;
            bool y_83273 = zzero_leq_i_p_m_t_s_83268 && y_83272;
            bool forwards_ok_83274 = i_lte_j_83271 && y_83273;
            bool ok_or_empty_83275 = empty_slice_83265 || forwards_ok_83274;
            bool index_certs_83276;
            
            if (!ok_or_empty_83275) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_83263, ":", (long long) dim_48135, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:290:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_91200 = j_m_i_83264 * bytes_90820;
            int64_t binop_x_91217 = smax64((int64_t) 0, m_83266);
            int64_t binop_y_91218 = n_48138 * binop_x_91217;
            int64_t binop_y_91219 = smax64((int64_t) 0, binop_y_91218);
            int64_t binop_y_91220 = binop_x_90872 + binop_y_91219;
            int64_t binop_y_91221 = (int64_t) 1 + binop_y_91220;
            int64_t bytes_91222 = (int64_t) 8 * binop_y_91221;
            int64_t binop_y_91232 = binop_x_90872 + binop_y_91208;
            int64_t binop_y_91233 = (int64_t) 1 + binop_y_91232;
            int64_t bytes_91234 = (int64_t) 8 * binop_y_91233;
            int64_t nest_sizze_83284 = n_48138 * j_m_i_83264;
            int64_t segmap_usable_groups_83286 = sdiv_up64(nest_sizze_83284, segmap_tblock_sizze_83285);
            
            if (memblock_alloc_device(ctx, &mem_91201, bytes_91200, "mem_91201")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97136 = sext_i64_i32(sdiv_up64(n_48138 * j_m_i_83264, segmap_tblock_sizze_83285));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83290(ctx, segmap_usable_groups_83286, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81748, 1, 1, (int64_t) 0, n_48138, map_arg1_83263, j_m_i_83264, ext_90913, ext_90914, ext_mem_91172.mem, mem_91201.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_param_91197.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_91195, ctx_param_ext_91196}, (int64_t []) {n_48138, arg_67058})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_91223, bytes_91222, "mem_91223")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91223.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91201.mem, (int64_t) 0, (int64_t []) {j_m_i_83264, (int64_t) 1}, (int64_t []) {n_48138, j_m_i_83264})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91201, "mem_91201") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91235, bytes_91234, "mem_91235")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97147 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83295));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83300(ctx, num_tblocks_83296, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81717, 1, 1, (int64_t) 0, n_48138, arg_67058, i_83259, j_m_i_83264, num_tblocks_83296, ext_90913, ext_90914, virt_num_tblocks_97147, ext_mem_91172.mem, mem_91212.mem, mem_91223.mem, mem_91235.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91223, "mem_91223") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_97132, &mem_91235, "mem_91235") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_97133 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_97134 = n_48138;
            
            if (memblock_set_device(ctx, &mem_param_91197, &mem_param_tmp_97132, "mem_param_tmp_97132") != 0)
                return 1;
            ctx_param_ext_91195 = ctx_param_ext_tmp_97133;
            ctx_param_ext_91196 = ctx_param_ext_tmp_97134;
        }
        if (memblock_set_device(ctx, &ext_mem_91239, &mem_param_91197, "mem_param_91197") != 0)
            return 1;
        ext_91237 = ctx_param_ext_91195;
        ext_91236 = ctx_param_ext_91196;
        if (memblock_unref_device(ctx, &ext_mem_91172, "ext_mem_91172") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91193, "mem_91193") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91212, "mem_91212") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91243, bytes_91192, "mem_91243")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97161 = sext_i64_i32(sdiv_up64(n_48138 * arg_67058, segmap_tblock_sizze_83319));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83324(ctx, segmap_usable_groups_83320, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81681, 1, 1, (int64_t) 0, n_48138, arg_67058, ext_91236, ext_91237, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, ext_mem_90855.mem, ext_mem_91239.mem, mem_91243.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_90855, "ext_mem_90855") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91239, "ext_mem_91239") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91254, bytes_91211, "mem_91254")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91254.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_91243.mem, (int64_t) 0, (int64_t []) {arg_67058, (int64_t) 1}, (int64_t []) {n_48138, arg_67058})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91243, "mem_91243") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97172 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_83332));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83336(ctx, segmap_usable_groups_83333, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81653, 1, 1, (int64_t) 0, n_48138, total_angle_no_48145, arg_67058, mem_91254.mem, mem_91257.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_91254, "mem_91254") != 0)
            return 1;
        
        int64_t reduce_arg1_68023;
        
        if (x_68003) {
            int64_t read_res_99386;
            
            if ((err = gpu_scalar_from_device(ctx, &read_res_99386, mem_91257.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
                goto cleanup;
            if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t x_72688 = read_res_99386;
            
            reduce_arg1_68023 = x_72688;
        } else {
            reduce_arg1_68023 = (int64_t) 0;
        }
        
        double reduce_arg1_68025;
        
        if (x_68003) {
            double read_res_99387;
            
            if ((err = gpu_scalar_from_device(ctx, &read_res_99387, mem_91190.mem, (int64_t) 0 * sizeof(double), sizeof(double))) != 0)
                goto cleanup;
            if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
                err = 1;
                goto cleanup;
            }
            
            double x_72689 = read_res_99387;
            
            reduce_arg1_68025 = x_72689;
        } else {
            reduce_arg1_68025 = 0.0;
        }
        if (cond_68002) {
            if (memblock_set_device(ctx, &ext_mem_92337, &xs_mem_90819, "xs_mem_90819") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92333, &mem_90821, "mem_90821") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91268, bytes_90879, "mem_91268")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91268.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, xs_mem_90819.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_91273, bytes_91272, "mem_91273")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91278, (int64_t) 8, "mem_91278")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91279, (int64_t) 8, "mem_91279")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91281, binop_x_90867, "mem_91281")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91282, (int64_t) 8, "mem_91282")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegRed");
            
            int64_t chunk_sizze_97182 = (int64_t) 1;
            
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97185, (int64_t) 8 * num_tblocks_83350, "segred_tmp_mem_97185")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97187, (int64_t) 8 * num_tblocks_83350, "segred_tmp_mem_97187")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97189, (int64_t) 8 * (segred_tblock_sizze_83348 * num_tblocks_83350 * dim_48135), "segred_tmp_mem_97189")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97191, (int64_t) 8 * num_tblocks_83350, "segred_tmp_mem_97191")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t num_threads_97193 = num_tblocks_83350 * segred_tblock_sizze_83348;
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_83358(ctx, num_tblocks_83350, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_83347, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_83348 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_83348, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_83348 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_83348, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_83348 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_83348, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, reduce_arg1_68023, reduce_arg1_68025, num_tblocks_83350, num_threads_91269, xs_mem_90819.mem, mem_91190.mem, mem_91257.mem, mem_91268.mem, mem_91273.mem, mem_91278.mem, mem_91279.mem, mem_91281.mem, mem_91282.mem, counters_mem_97183.mem, segred_tmp_mem_97185.mem, segred_tmp_mem_97187.mem, segred_tmp_mem_97189.mem, segred_tmp_mem_97191.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91273, "mem_91273") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91283, (int64_t) 8, "mem_91283")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91284, (int64_t) 8, "mem_91284")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91285, (int64_t) 8, "mem_91285")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_97251(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_91278.mem, mem_91279.mem, mem_91282.mem, mem_91283.mem, mem_91284.mem, mem_91285.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91278, "mem_91278") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91279, "mem_91279") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91282, "mem_91282") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91292, bytes_91291, "mem_91292")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91295, bytes_91291, "mem_91295")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91312, bytes_91311, "mem_91312")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91315, bytes_91291, "mem_91315")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97257 = sext_i64_i32(sdiv_up64(x_69350 * block_sizze_68019, segmap_tblock_sizze_83755));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83764(ctx, num_tblocks_83756, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83682, 1, 1, (int64_t) 0, dim_48135, n_48138, block_sizze_68019, x_69350, num_tblocks_83756, virt_num_tblocks_97257, mem_91190.mem, mem_91257.mem, mem_91268.mem, mem_91281.mem, mem_91283.mem, mem_91284.mem, mem_91285.mem, mem_91292.mem, mem_91295.mem, mem_91312.mem, mem_91315.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91268, "mem_91268") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91281, "mem_91281") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91283, "mem_91283") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91284, "mem_91284") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91285, "mem_91285") != 0)
                return 1;
            if (cond_68072) {
                if (memblock_set_device(ctx, &ext_mem_91488, &mem_91292, "mem_91292") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91485, &mem_91295, "mem_91295") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91482, &mem_91312, "mem_91312") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91478, &mem_91315, "mem_91315") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_91326, bytes_91325, "mem_91326")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91326.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69350}, mem_91292.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1}, (int64_t []) {x_69350, block_sizze_68019})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_91337, bytes_91325, "mem_91337")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91337.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69350}, mem_91295.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1}, (int64_t []) {x_69350, block_sizze_68019})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_91354, bytes_91353, "mem_91354")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91354.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69350 * dim_48135, x_69350}, mem_91312.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1, block_sizze_68019 * x_69350}, (int64_t []) {x_69350, block_sizze_68019, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_91365, bytes_91325, "mem_91365")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91365.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_69350}, mem_91315.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1}, (int64_t []) {x_69350, block_sizze_68019})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_91434, bytes_91433, "mem_91434")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_91445, bytes_91444, "mem_91445")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_91462, bytes_91461, "mem_91462")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_91473, bytes_91472, "mem_91473")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95437, total_sizze_95585, "color_95437")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95438, total_sizze_95586, "color_95438")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_97272 = sext_i64_i32(sdiv_up64(x_69350, segmap_tblock_sizze_83792));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_83800(ctx, num_tblocks_83793, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83467, 1, 1, (int64_t) 0, dim_48135, block_sizze_68019, distance_68075, x_69350, num_tblocks_83793, num_threads_95584, ctx_95600, virt_num_tblocks_97272, mem_91326.mem, mem_91337.mem, mem_91354.mem, mem_91365.mem, mem_91434.mem, mem_91445.mem, mem_91462.mem, mem_91473.mem, color_95437.mem, color_95438.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_91326, "mem_91326") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_91337, "mem_91337") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_91354, "mem_91354") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_91365, "mem_91365") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95437, "color_95437") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95438, "color_95438") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91488, &mem_91434, "mem_91434") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91485, &mem_91445, "mem_91445") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91482, &mem_91462, "mem_91462") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91478, &mem_91473, "mem_91473") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_91292, "mem_91292") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91295, "mem_91295") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91312, "mem_91312") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91315, "mem_91315") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91491, bytes_91291, "mem_91491")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91491.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1}, ext_mem_91488.mem, (int64_t) 0, (int64_t []) {ext_91487, ext_91486}, (int64_t []) {x_69350, block_sizze_68019})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_91488, "ext_mem_91488") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91495, bytes_91291, "mem_91495")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91495.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1}, ext_mem_91485.mem, (int64_t) 0, (int64_t []) {ext_91487, ext_91486}, (int64_t []) {x_69350, block_sizze_68019})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_91485, "ext_mem_91485") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91500, bytes_91499, "mem_91500")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91500.mem, (int64_t) 0, (int64_t []) {dim_48135 * block_sizze_68019, dim_48135, (int64_t) 1}, ext_mem_91482.mem, (int64_t) 0, (int64_t []) {ext_91487, ext_91480, ext_91479}, (int64_t []) {x_69350, block_sizze_68019, dim_48135})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_91482, "ext_mem_91482") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91504, bytes_91291, "mem_91504")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91504.mem, (int64_t) 0, (int64_t []) {block_sizze_68019, (int64_t) 1}, ext_mem_91478.mem, (int64_t) 0, (int64_t []) {ext_91487, ext_91486}, (int64_t []) {x_69350, block_sizze_68019})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_91478, "ext_mem_91478") != 0)
                return 1;
            
            int64_t data_68199;
            bool data_68200;
            int64_t data_68205;
            int64_t loop_dz2084Uz2082U_68206;
            bool loop_while_68207;
            int64_t stride_68212;
            
            if (memblock_set_device(ctx, &mem_param_91508, &mem_91491, "mem_91491") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91511, &mem_91495, "mem_91495") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91515, &mem_91500, "mem_91500") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_91518, &mem_91504, "mem_91504") != 0)
                return 1;
            loop_dz2084Uz2082U_68206 = flat_dim_68029;
            loop_while_68207 = loop_cond_68196;
            stride_68212 = block_sizze_68019;
            while (loop_while_68207) {
                int64_t next_stride_68213 = mul64((int64_t) 2, stride_68212);
                bool zzero_68214 = next_stride_68213 == (int64_t) 0;
                bool nonzzero_68215 = !zzero_68214;
                bool nonzzero_cert_68216;
                
                if (!nonzzero_68215) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:733:17-40\n   #4  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_merges_68217 = sdiv64(flat_dim_68029, next_stride_68213);
                bool bounds_invalid_upwards_68218 = slt64(num_merges_68217, (int64_t) 0);
                bool valid_68219 = !bounds_invalid_upwards_68218;
                bool range_valid_c_68220;
                
                if (!valid_68219) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_68217, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t m_68222 = sub64(next_stride_68213, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_68223 = sle64((int64_t) 0, m_68222);
                bool cond_68225 = slt64(next_stride_68213, (int64_t) 10);
                bool protect_assert_disj_68226 = nonzzero_68198 || cond_68225;
                bool nonzzero_cert_68227;
                
                if (!protect_assert_disj_68226) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zeze_lhs_68228 = smod_safe64(next_stride_68213, merge_block_sizze_68035);
                bool num_blocks_68229 = zeze_lhs_68228 == (int64_t) 0;
                bool protect_assert_disj_68230 = cond_68225 || num_blocks_68229;
                bool assert_c_68231;
                
                if (!protect_assert_disj_68230) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_blocks_68233 = sdiv_safe64(next_stride_68213, merge_block_sizze_68035);
                int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 = add64((int64_t) 1, num_blocks_68233);
                int64_t j_m_i_68235 = sub64(next_stride_68213, stride_68212);
                int64_t flat_dim_68236 = merge_block_sizze_68035 * num_blocks_68233;
                bool bounds_invalid_upwards_68237 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, (int64_t) 0);
                bool empty_slice_68238 = j_m_i_68235 == (int64_t) 0;
                int64_t m_68239 = sub64(j_m_i_68235, (int64_t) 1);
                bool zzero_lte_i_68240 = sle64((int64_t) 0, stride_68212);
                bool i_lte_j_68241 = sle64(stride_68212, next_stride_68213);
                bool empty_slice_68242 = stride_68212 == (int64_t) 0;
                int64_t m_68243 = sub64(stride_68212, (int64_t) 1);
                bool bounds_invalid_upwards_68244 = slt64(num_blocks_68233, (int64_t) 0);
                bool cond_68245 = slt64((int64_t) 0, stride_68212);
                bool valid_68246 = !bounds_invalid_upwards_68237;
                int64_t i_p_m_t_s_68247 = add64(stride_68212, m_68239);
                bool zzero_leq_i_p_m_t_s_68248 = sle64((int64_t) 0, m_68243);
                bool i_p_m_t_s_leq_w_68249 = slt64(m_68243, next_stride_68213);
                bool valid_68250 = !bounds_invalid_upwards_68244;
                bool i_p_m_t_s_leq_w_68251 = slt64(m_68222, flat_dim_68236);
                bool y_68252 = slt64((int64_t) 0, j_m_i_68235);
                bool protect_assert_disj_68253 = cond_68225 || valid_68246;
                bool range_valid_c_68254;
                
                if (!protect_assert_disj_68253) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool zzero_leq_i_p_m_t_s_68255 = sle64((int64_t) 0, i_p_m_t_s_68247);
                bool i_p_m_t_s_leq_w_68256 = slt64(i_p_m_t_s_68247, next_stride_68213);
                bool y_68257 = zzero_leq_i_p_m_t_s_68248 && i_p_m_t_s_leq_w_68249;
                bool protect_assert_disj_68258 = cond_68225 || valid_68250;
                bool range_valid_c_68259;
                
                if (!protect_assert_disj_68258) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_68233, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool y_68260 = zzero_leq_i_p_m_t_s_68223 && i_p_m_t_s_leq_w_68251;
                bool y_68261 = zzero_lte_i_68240 && i_p_m_t_s_leq_w_68256;
                bool forwards_ok_68262 = zzero_lte_i_68240 && y_68257;
                bool ok_or_empty_68263 = zzero_68214 || y_68260;
                bool protect_assert_disj_68264 = cond_68245 || y_68252;
                bool y_68265 = zzero_leq_i_p_m_t_s_68255 && y_68261;
                bool ok_or_empty_68266 = empty_slice_68242 || forwards_ok_68262;
                bool protect_assert_disj_68267 = cond_68225 || ok_or_empty_68263;
                bool index_certs_68268;
                
                if (!protect_assert_disj_68267) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_68213, "] out of bounds for array of shape [", (long long) flat_dim_68236, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:733:17-40\n   #8  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool loop_not_taken_68269 = !cond_68225;
                bool protect_assert_disj_68270 = protect_assert_disj_68264 || loop_not_taken_68269;
                bool index_certs_68271;
                
                if (!protect_assert_disj_68270) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_68235, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:733:17-40\n   #9  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool forwards_ok_68272 = i_lte_j_68241 && y_68265;
                bool protect_assert_disj_68273 = cond_68225 || ok_or_empty_68266;
                bool index_certs_68274;
                
                if (!protect_assert_disj_68273) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_68212, "] out of bounds for array of shape [", (long long) next_stride_68213, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_68275 = ok_or_empty_68266 || loop_not_taken_68269;
                bool index_certs_68276;
                
                if (!protect_assert_disj_68275) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_68212, "] out of bounds for array of shape [", (long long) next_stride_68213, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool ok_or_empty_68277 = empty_slice_68238 || forwards_ok_68272;
                bool protect_assert_disj_68278 = cond_68225 || ok_or_empty_68277;
                bool index_certs_68279;
                
                if (!protect_assert_disj_68278) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_68212, ":] out of bounds for array of shape [", (long long) next_stride_68213, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:733:17-40\n   #10 ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_68280 = loop_not_taken_68269 || ok_or_empty_68277;
                bool index_certs_68281;
                
                if (!protect_assert_disj_68280) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_68212, ":] out of bounds for array of shape [", (long long) next_stride_68213, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:733:17-40\n   #7  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t binop_x_91523 = (int64_t) 8 * num_merges_68217;
                int64_t bytes_91813 = next_stride_68213 * binop_x_91523;
                int64_t bytes_91823 = dim_48135 * bytes_91813;
                bool i_lte_j_68224 = sle64((int64_t) 0, next_stride_68213);
                int64_t intra_avail_par_84180 = smin64(num_blocks_68233, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);
                int64_t computed_tblock_sizze_83896 = smax64(num_blocks_68233, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234);
                bool fits_84185 = sle64(computed_tblock_sizze_83896, max_tblock_sizze_82870);
                bool suff_intra_par_84183;
                
                suff_intra_par_84183 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_6 <= intra_avail_par_84180;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_6", (long) intra_avail_par_84180, suff_intra_par_84183 ? "true" : "false");
                
                bool intra_suff_and_fits_84186 = suff_intra_par_84183 && fits_84185;
                int64_t segmap_usable_groups_87131 = sdiv_up_safe64(num_merges_68217, segmap_tblock_sizze_87130);
                int64_t ext_92127;
                
                if (cond_68225) {
                    ext_92127 = (int64_t) 1;
                } else {
                    ext_92127 = next_stride_68213;
                }
                
                int64_t ext_92126;
                
                if (cond_68225) {
                    ext_92126 = num_merges_68217;
                } else {
                    ext_92126 = (int64_t) 1;
                }
                
                bool suff_intra_par_87350;
                
                suff_intra_par_87350 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_7 <= intra_avail_par_84180;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_7", (long) intra_avail_par_84180, suff_intra_par_87350 ? "true" : "false");
                
                bool intra_suff_and_fits_87351 = fits_84185 && suff_intra_par_87350;
                int64_t nest_sizze_87660 = num_merges_68217 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;
                int64_t nest_sizze_87789 = num_merges_68217 * num_blocks_68233;
                int64_t num_tblocks_87791;
                int64_t max_num_tblocks_97306;
                
                max_num_tblocks_97306 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86213;
                num_tblocks_87791 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_87789, segmap_tblock_sizze_87790), max_num_tblocks_97306)));
                
                int64_t num_tblocks_87886;
                int64_t max_num_tblocks_97307;
                
                max_num_tblocks_97307 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86101;
                num_tblocks_87886 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_87789, segmap_tblock_sizze_87885), max_num_tblocks_97307)));
                
                int64_t bytes_91524 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234 * binop_x_91523;
                int64_t binop_y_91529 = loop_dz2084Uz2082U_68206 - (int64_t) 1;
                int64_t binop_x_91531 = smax64((int64_t) 0, binop_y_91529);
                int64_t binop_y_91534 = loop_dz2084Uz2082U_68206 * binop_x_90874;
                int64_t binop_y_91535 = smax64((int64_t) 0, binop_y_91534);
                int64_t binop_y_91536 = binop_x_91531 + binop_y_91535;
                int64_t binop_y_91537 = (int64_t) 1 + binop_y_91536;
                int64_t bytes_91538 = (int64_t) 8 * binop_y_91537;
                int64_t bytes_91543 = num_blocks_68233 * binop_x_91523;
                int64_t binop_y_91551 = num_merges_68217 - (int64_t) 1;
                int64_t binop_x_91552 = smax64((int64_t) 0, binop_y_91551);
                int64_t binop_y_91553 = num_blocks_68233 * binop_x_91552;
                int64_t binop_x_91554 = smax64((int64_t) 0, binop_y_91553);
                int64_t binop_y_91555 = num_blocks_68233 - (int64_t) 1;
                int64_t binop_y_91557 = smax64((int64_t) 0, binop_y_91555);
                int64_t binop_x_91558 = binop_x_91554 + binop_y_91557;
                int64_t binop_y_91562 = nest_sizze_87789 * binop_x_90874;
                int64_t binop_y_91563 = smax64((int64_t) 0, binop_y_91562);
                int64_t binop_y_91564 = binop_x_91558 + binop_y_91563;
                int64_t binop_y_91565 = (int64_t) 1 + binop_y_91564;
                int64_t bytes_91566 = (int64_t) 8 * binop_y_91565;
                int64_t binop_x_91583 = num_merges_68217 * binop_x_91582;
                int64_t bytes_91584 = num_blocks_68233 * binop_x_91583;
                int64_t binop_x_91596 = num_merges_68217 * binop_x_91595;
                int64_t bytes_91597 = num_blocks_68233 * binop_x_91596;
                int64_t binop_y_91610 = nest_sizze_87789 * binop_x_91608;
                int64_t binop_y_91611 = smax64((int64_t) 0, binop_y_91610);
                int64_t binop_y_91612 = binop_x_91558 + binop_y_91611;
                int64_t binop_y_91613 = (int64_t) 1 + binop_y_91612;
                int64_t bytes_91614 = (int64_t) 8 * binop_y_91613;
                int64_t binop_y_91661 = dim_48135 * nest_sizze_87789;
                int64_t binop_y_91662 = binop_x_91608 * binop_y_91661;
                int64_t binop_y_91663 = smax64((int64_t) 0, binop_y_91662);
                int64_t binop_x_91664 = binop_x_91558 + binop_y_91663;
                int64_t binop_y_91670 = binop_y_91563 + binop_x_91664;
                int64_t binop_y_91671 = (int64_t) 1 + binop_y_91670;
                int64_t bytes_91672 = (int64_t) 8 * binop_y_91671;
                int64_t binop_y_91729 = binop_x_91558 + binop_y_91611;
                int64_t binop_y_91730 = (int64_t) 1 + binop_y_91729;
                int64_t bytes_91731 = (int64_t) 8 * binop_y_91730;
                int64_t binop_y_91746 = binop_x_91558 + binop_y_91611;
                int64_t binop_y_91747 = (int64_t) 1 + binop_y_91746;
                int64_t bytes_91748 = (int64_t) 8 * binop_y_91747;
                int64_t binop_x_91764 = binop_x_91558 + binop_y_91663;
                int64_t binop_y_91770 = binop_y_91563 + binop_x_91764;
                int64_t binop_y_91771 = (int64_t) 1 + binop_y_91770;
                int64_t bytes_91772 = (int64_t) 8 * binop_y_91771;
                int64_t binop_y_91787 = binop_x_91558 + binop_y_91611;
                int64_t binop_y_91788 = (int64_t) 1 + binop_y_91787;
                int64_t bytes_91789 = (int64_t) 8 * binop_y_91788;
                int64_t bytes_91793 = merge_block_sizze_68035 * bytes_91543;
                int64_t bytes_91804 = dim_48135 * bytes_91793;
                int64_t lmad_ext_91925 = dim_48135 * next_stride_68213;
                int64_t bytes_91826 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234;
                int64_t bytes_91835 = (int64_t) 8 * num_blocks_68233;
                int64_t bytes_91842 = dim_48135 * bytes_91835;
                int64_t bytes_91855 = num_blocks_68233 * binop_x_91582;
                int64_t bytes_91865 = num_blocks_68233 * binop_x_91595;
                int64_t bytes_91900 = merge_block_sizze_68035 * bytes_91835;
                int64_t bytes_91907 = dim_48135 * bytes_91900;
                int64_t lmad_arg_91880 = dim_48135 * num_blocks_68233;
                int64_t bytes_91941 = dim_48135 * binop_x_91523;
                int64_t binop_x_91962 = (int64_t) 16 * stride_68212;
                int64_t bytes_91963 = num_merges_68217 * binop_x_91962;
                int64_t binop_x_91972 = dim_48135 * binop_x_91962;
                int64_t bytes_91973 = num_merges_68217 * binop_x_91972;
                int64_t binop_x_91979 = smax64((int64_t) 0, m_68222);
                int64_t binop_y_91980 = num_merges_68217 * binop_x_91979;
                int64_t binop_y_91981 = smax64((int64_t) 0, binop_y_91980);
                int64_t binop_y_91982 = binop_x_91552 + binop_y_91981;
                int64_t binop_y_91983 = (int64_t) 1 + binop_y_91982;
                int64_t bytes_91984 = (int64_t) 8 * binop_y_91983;
                int64_t binop_y_92013 = dim_48135 * num_merges_68217;
                int64_t binop_y_92014 = binop_x_91979 * binop_y_92013;
                int64_t binop_y_92015 = smax64((int64_t) 0, binop_y_92014);
                int64_t binop_x_92016 = binop_x_91552 + binop_y_92015;
                int64_t binop_y_92019 = num_merges_68217 * binop_x_90874;
                int64_t binop_y_92020 = smax64((int64_t) 0, binop_y_92019);
                int64_t binop_y_92021 = binop_x_92016 + binop_y_92020;
                int64_t binop_y_92022 = (int64_t) 1 + binop_y_92021;
                int64_t bytes_92023 = (int64_t) 8 * binop_y_92022;
                int64_t binop_y_92072 = binop_x_91552 + binop_y_91981;
                int64_t binop_y_92073 = (int64_t) 1 + binop_y_92072;
                int64_t bytes_92074 = (int64_t) 8 * binop_y_92073;
                int64_t binop_y_92083 = binop_x_91552 + binop_y_91981;
                int64_t binop_y_92084 = (int64_t) 1 + binop_y_92083;
                int64_t bytes_92085 = (int64_t) 8 * binop_y_92084;
                int64_t binop_x_92095 = binop_x_91552 + binop_y_92015;
                int64_t binop_y_92100 = binop_y_92020 + binop_x_92095;
                int64_t binop_y_92101 = (int64_t) 1 + binop_y_92100;
                int64_t bytes_92102 = (int64_t) 8 * binop_y_92101;
                int64_t binop_y_92111 = binop_x_91552 + binop_y_91981;
                int64_t binop_y_92112 = (int64_t) 1 + binop_y_92111;
                int64_t bytes_92113 = (int64_t) 8 * binop_y_92112;
                int64_t ext_92299;
                int64_t shared_memory_capacity_97308;
                
                shared_memory_capacity_97308 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84186) {
                    ext_92299 = next_stride_68213;
                } else {
                    ext_92299 = ext_92127;
                }
                
                int64_t ext_92298;
                int64_t shared_memory_capacity_97309;
                
                shared_memory_capacity_97309 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84186) {
                    ext_92298 = (int64_t) 1;
                } else {
                    ext_92298 = ext_92126;
                }
                
                int64_t ext_92120;
                
                if (cond_68225) {
                    ext_92120 = binop_y_92013;
                } else {
                    ext_92120 = dim_48135;
                }
                
                int64_t ext_92292;
                int64_t shared_memory_capacity_97310;
                
                shared_memory_capacity_97310 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84186) {
                    ext_92292 = dim_48135;
                } else {
                    ext_92292 = ext_92120;
                }
                
                int64_t ext_92121;
                
                if (cond_68225) {
                    ext_92121 = (int64_t) 1;
                } else {
                    ext_92121 = lmad_ext_91925;
                }
                
                int64_t ext_92293;
                int64_t shared_memory_capacity_97311;
                
                shared_memory_capacity_97311 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84186) {
                    ext_92293 = lmad_ext_91925;
                } else {
                    ext_92293 = ext_92121;
                }
                
                int64_t maxSubHelper_95463 = umax64(bytes_91842, bytes_91900);
                int64_t maxSubHelper_95464 = umax64(bytes_91835, bytes_91907);
                int64_t maxSubHelper_95465 = umax64(bytes_91835, bytes_91900);
                int64_t maxSubHelper_95466 = umax64(bytes_91835, bytes_91900);
                int64_t maxSubHelper_95467 = umax64(bytes_91826, bytes_91865);
                int64_t maxSubHelper_95468 = umax64(bytes_91826, bytes_91855);
                int64_t maxSubHelper_95439 = umax64(bytes_91835, bytes_91865);
                int64_t maxSubHelper_95440 = umax64(bytes_91835, bytes_91855);
                int64_t maxSubHelper_95441 = umax64(bytes_91835, bytes_91855);
                int64_t maxSubHelper_95442 = umax64(bytes_91826, bytes_91855);
                int64_t shared_memory_capacity_97874;
                
                shared_memory_capacity_97874 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84186 && sle64(sdiv_up64(binop_x_91972, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91962, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91962, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91962, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91900, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91907, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91900, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91900, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95439, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95440, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95441, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95442, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91842, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91826, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97874)) {
                    if (memblock_alloc_device(ctx, &mem_92276, bytes_91813, "mem_92276")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_92279, bytes_91813, "mem_92279")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_92283, bytes_91823, "mem_92283")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_92286, bytes_91813, "mem_92286")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_97312 = sext_i64_i32(sdiv_up64(merge_block_sizze_68035 * dim_48135 * num_blocks_68233, computed_tblock_sizze_83896));
                    int32_t num_chunks_97313 = sext_i64_i32(sdiv_up64(merge_block_sizze_68035 * num_blocks_68233, computed_tblock_sizze_83896));
                    int32_t num_chunks_97314 = sext_i64_i32(sdiv_up64(next_stride_68213, computed_tblock_sizze_83896));
                    int32_t num_chunks_97315 = sext_i64_i32(sdiv_up64(next_stride_68213 * dim_48135, computed_tblock_sizze_83896));
                    int32_t num_chunks_97316 = sext_i64_i32(sdiv_up64(num_blocks_68233, computed_tblock_sizze_83896));
                    int32_t num_chunks_97317 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, computed_tblock_sizze_83896));
                    int32_t virt_num_tblocks_97318 = sext_i64_i32(num_merges_68217);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_84192(ctx, num_merges_68217, 1, 1, computed_tblock_sizze_83896, 1, 1, bytes_91826 + srem64((int64_t) 8 - srem64(bytes_91826, (int64_t) 8), (int64_t) 8) + (bytes_91842 + srem64((int64_t) 8 - srem64(bytes_91842, (int64_t) 8), (int64_t) 8)) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95442 + srem64((int64_t) 8 - srem64(maxSubHelper_95442, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95441 + srem64((int64_t) 8 - srem64(maxSubHelper_95441, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95440 + srem64((int64_t) 8 - srem64(maxSubHelper_95440, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95439 + srem64((int64_t) 8 - srem64(maxSubHelper_95439, (int64_t) 8), (int64_t) 8)) + (bytes_91900 + srem64((int64_t) 8 - srem64(bytes_91900, (int64_t) 8), (int64_t) 8)) + (bytes_91900 + srem64((int64_t) 8 - srem64(bytes_91900, (int64_t) 8), (int64_t) 8)) + (bytes_91907 + srem64((int64_t) 8 - srem64(bytes_91907, (int64_t) 8), (int64_t) 8)) + (bytes_91900 + srem64((int64_t) 8 - srem64(bytes_91900, (int64_t) 8), (int64_t) 8)) + (binop_x_91962 + srem64((int64_t) 8 - srem64(binop_x_91962, (int64_t) 8), (int64_t) 8)) + (binop_x_91962 + srem64((int64_t) 8 - srem64(binop_x_91962, (int64_t) 8), (int64_t) 8)) + (binop_x_91962 + srem64((int64_t) 8 - srem64(binop_x_91962, (int64_t) 8), (int64_t) 8)) + (binop_x_91972 + srem64((int64_t) 8 - srem64(binop_x_91972, (int64_t) 8), (int64_t) 8)), dim_48135, merge_block_sizze_68035, loop_dz2084Uz2082U_68206, stride_68212, next_stride_68213, zzero_68214, num_merges_68217, m_68222, zzero_leq_i_p_m_t_s_68223, i_lte_j_68224, cond_68225, num_blocks_68233, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, j_m_i_68235, cond_68245, computed_tblock_sizze_83896, bytes_91826, bytes_91835, bytes_91842, lmad_arg_91880, bytes_91900, bytes_91907, binop_x_91962, binop_x_91972, maxSubHelper_95439, maxSubHelper_95440, maxSubHelper_95441, maxSubHelper_95442, num_chunks_97312, num_chunks_97313, num_chunks_97314, num_chunks_97315, mem_param_91508.mem, mem_param_91511.mem, mem_param_91515.mem, mem_param_91518.mem, mem_92276.mem, mem_92279.mem, mem_92283.mem, mem_92286.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_92300, &mem_92276, "mem_92276") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92297, &mem_92279, "mem_92279") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92294, &mem_92283, "mem_92283") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92290, &mem_92286, "mem_92286") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_91520, (int64_t) 0, "mem_91520")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_91521, (int64_t) 0, "mem_91521")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_97458 = sext_i64_i32(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87130));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_87136(ctx, segmap_usable_groups_87131, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87104, 1, 1, (int64_t) 0, loop_dz2084Uz2082U_68206, next_stride_68213, zzero_68214, num_merges_68217, m_68222, zzero_leq_i_p_m_t_s_68223, i_lte_j_68224, mem_91520.mem, mem_91521.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_68225) {
                        if (cond_68245) {
                            int64_t segmap_tblock_sizze_87166;
                            
                            segmap_tblock_sizze_87166 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85103;
                            
                            int64_t segmap_usable_groups_87167 = sdiv_up64(num_merges_68217, segmap_tblock_sizze_87166);
                            
                            if (memblock_alloc_device(ctx, &mem_91948, binop_x_91523, "mem_91948")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91950, binop_x_91523, "mem_91950")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97467 = sext_i64_i32(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87166));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87171(ctx, segmap_usable_groups_87167, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85103, 1, 1, (int64_t) 0, next_stride_68213, num_merges_68217, mem_param_91508.mem, mem_param_91511.mem, mem_91520.mem, mem_91521.mem, mem_91948.mem, mem_91950.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87179;
                            
                            segmap_tblock_sizze_87179 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85090;
                            
                            int64_t segmap_usable_groups_87180 = sdiv_up64(binop_y_92013, segmap_tblock_sizze_87179);
                            
                            if (memblock_alloc_device(ctx, &mem_91954, bytes_91941, "mem_91954")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97476 = sext_i64_i32(sdiv_up64(num_merges_68217 * dim_48135, segmap_tblock_sizze_87179));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87184(ctx, segmap_usable_groups_87180, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85090, 1, 1, (int64_t) 0, dim_48135, next_stride_68213, num_merges_68217, mem_param_91515.mem, mem_91520.mem, mem_91521.mem, mem_91954.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87190;
                            
                            segmap_tblock_sizze_87190 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85075;
                            
                            int64_t segmap_usable_groups_87191 = sdiv_up64(num_merges_68217, segmap_tblock_sizze_87190);
                            
                            if (memblock_alloc_device(ctx, &mem_91957, binop_x_91523, "mem_91957")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97487 = sext_i64_i32(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87190));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87194(ctx, segmap_usable_groups_87191, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85075, 1, 1, (int64_t) 0, next_stride_68213, num_merges_68217, mem_param_91518.mem, mem_91520.mem, mem_91521.mem, mem_91957.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_91961, &mem_91948, "mem_91948") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91960, &mem_91950, "mem_91950") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91959, &mem_91954, "mem_91954") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91958, &mem_91957, "mem_91957") != 0)
                                return 1;
                        } else {
                            int64_t segmap_tblock_sizze_87204;
                            
                            segmap_tblock_sizze_87204 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85179;
                            
                            int64_t segmap_usable_groups_87205 = sdiv_up64(num_merges_68217, segmap_tblock_sizze_87204);
                            
                            if (memblock_alloc_device(ctx, &mem_91936, binop_x_91523, "mem_91936")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91938, binop_x_91523, "mem_91938")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91945, binop_x_91523, "mem_91945")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97496 = sext_i64_i32(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87204));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87210(ctx, segmap_usable_groups_87205, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85179, 1, 1, (int64_t) 0, stride_68212, next_stride_68213, num_merges_68217, mem_param_91508.mem, mem_param_91511.mem, mem_91520.mem, mem_91521.mem, mem_91936.mem, mem_91938.mem, mem_91945.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87219;
                            
                            segmap_tblock_sizze_87219 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85166;
                            
                            int64_t segmap_usable_groups_87220 = sdiv_up64(binop_y_92013, segmap_tblock_sizze_87219);
                            
                            if (memblock_alloc_device(ctx, &mem_91942, bytes_91941, "mem_91942")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97505 = sext_i64_i32(sdiv_up64(num_merges_68217 * dim_48135, segmap_tblock_sizze_87219));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87224(ctx, segmap_usable_groups_87220, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85166, 1, 1, (int64_t) 0, dim_48135, num_merges_68217, mem_param_91515.mem, mem_91520.mem, mem_91521.mem, mem_91942.mem, mem_91945.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87230;
                            
                            segmap_tblock_sizze_87230 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85151;
                            
                            int64_t segmap_usable_groups_87231 = sdiv_up64(num_merges_68217, segmap_tblock_sizze_87230);
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97516 = sext_i64_i32(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87230));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87234(ctx, segmap_usable_groups_87231, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85151, 1, 1, (int64_t) 0, num_merges_68217, mem_param_91518.mem, mem_91520.mem, mem_91521.mem, mem_91945.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_91961, &mem_91936, "mem_91936") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91960, &mem_91938, "mem_91938") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91959, &mem_91942, "mem_91942") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91958, &mem_91945, "mem_91945") != 0)
                                return 1;
                        }
                        if (memblock_alloc_device(ctx, &mem_91964, bytes_91963, "mem_91964")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97525 = next_stride_68213 * num_merges_68217;
                        int64_t tblock_sizze_97530;
                        
                        tblock_sizze_97530 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97530;
                        
                        int64_t virt_num_tblocks_97531 = sdiv_up64(replicate_n_97525, tblock_sizze_97530);
                        int64_t num_tblocks_97532 = smin64(virt_num_tblocks_97531, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97526(ctx, num_tblocks_97532, 1, 1, tblock_sizze_97530, 1, 1, (int64_t) 0, next_stride_68213, num_merges_68217, replicate_n_97525, virt_num_tblocks_97531, num_tblocks_97532, ext_mem_91961.mem, mem_91964.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_91961, "ext_mem_91961") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91967, bytes_91963, "mem_91967")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97545 = next_stride_68213 * num_merges_68217;
                        int64_t tblock_sizze_97550;
                        
                        tblock_sizze_97550 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97550;
                        
                        int64_t virt_num_tblocks_97551 = sdiv_up64(replicate_n_97545, tblock_sizze_97550);
                        int64_t num_tblocks_97552 = smin64(virt_num_tblocks_97551, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97546(ctx, num_tblocks_97552, 1, 1, tblock_sizze_97550, 1, 1, (int64_t) 0, next_stride_68213, num_merges_68217, replicate_n_97545, virt_num_tblocks_97551, num_tblocks_97552, ext_mem_91960.mem, mem_91967.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_91960, "ext_mem_91960") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91970, bytes_91963, "mem_91970")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97565 = next_stride_68213 * num_merges_68217;
                        int64_t tblock_sizze_97570;
                        
                        tblock_sizze_97570 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97570;
                        
                        int64_t virt_num_tblocks_97571 = sdiv_up64(replicate_n_97565, tblock_sizze_97570);
                        int64_t num_tblocks_97572 = smin64(virt_num_tblocks_97571, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97566(ctx, num_tblocks_97572, 1, 1, tblock_sizze_97570, 1, 1, (int64_t) 0, next_stride_68213, num_merges_68217, replicate_n_97565, virt_num_tblocks_97571, num_tblocks_97572, ext_mem_91958.mem, mem_91970.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_91958, "ext_mem_91958") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91974, bytes_91973, "mem_91974")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97585 = next_stride_68213 * dim_48135 * num_merges_68217;
                        int64_t tblock_sizze_97590;
                        
                        tblock_sizze_97590 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97590;
                        
                        int64_t virt_num_tblocks_97591 = sdiv_up64(replicate_n_97585, tblock_sizze_97590);
                        int64_t num_tblocks_97592 = smin64(virt_num_tblocks_97591, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97586(ctx, num_tblocks_97592, 1, 1, tblock_sizze_97590, 1, 1, (int64_t) 0, dim_48135, next_stride_68213, num_merges_68217, replicate_n_97585, virt_num_tblocks_97591, num_tblocks_97592, ext_mem_91959.mem, mem_91974.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_91959, "ext_mem_91959") != 0)
                            return 1;
                        
                        int64_t segmap_tblock_sizze_87256;
                        
                        segmap_tblock_sizze_87256 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84957;
                        
                        int64_t num_tblocks_87257;
                        int64_t max_num_tblocks_97608;
                        
                        max_num_tblocks_97608 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_84959;
                        num_tblocks_87257 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87256), max_num_tblocks_97608)));
                        if (memblock_alloc_device(ctx, &mem_91985, bytes_91984, "mem_91985")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91985.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217}, mem_91964.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_91964, "mem_91964") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91996, bytes_91984, "mem_91996")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91996.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217}, mem_91967.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_91967, "mem_91967") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92007, bytes_91984, "mem_92007")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92007.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217}, mem_91970.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_91970, "mem_91970") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92024, bytes_92023, "mem_92024")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92024.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217 * dim_48135, num_merges_68217}, mem_91974.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_68217 * dim_48135, num_merges_68217}, (int64_t []) {num_merges_68217, next_stride_68213, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_91974, "mem_91974") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92035, bytes_91538, "mem_92035")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_68206}, mem_param_91515.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_68206, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_92075, bytes_92074, "mem_92075")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_92086, bytes_92085, "mem_92086")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_92103, bytes_92102, "mem_92103")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_92114, bytes_92113, "mem_92114")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_97609 = sext_i64_i32(sdiv_up64(num_merges_68217, segmap_tblock_sizze_87256));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_87264(ctx, num_tblocks_87257, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84957, 1, 1, (int64_t) 0, dim_48135, loop_dz2084Uz2082U_68206, stride_68212, next_stride_68213, num_merges_68217, j_m_i_68235, num_tblocks_87257, binop_y_92013, virt_num_tblocks_97609, mem_param_91508.mem, mem_param_91511.mem, mem_param_91518.mem, mem_91520.mem, mem_91521.mem, mem_91985.mem, mem_91996.mem, mem_92007.mem, mem_92024.mem, mem_92035.mem, mem_92075.mem, mem_92086.mem, mem_92103.mem, mem_92114.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_91985, "mem_91985") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_91996, "mem_91996") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92007, "mem_92007") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92024, "mem_92024") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92035, "mem_92035") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92128, &mem_92075, "mem_92075") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92125, &mem_92086, "mem_92086") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92122, &mem_92103, "mem_92103") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92118, &mem_92114, "mem_92114") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_97873;
                        
                        shared_memory_capacity_97873 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_87351 && sle64(sdiv_up64(maxSubHelper_95463, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95464, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95465, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95466, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95467, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95468, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91855, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91855, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_91835, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97873)) {
                            if (memblock_alloc_device(ctx, &mem_91914, bytes_91813, "mem_91914")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91917, bytes_91813, "mem_91917")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91921, bytes_91823, "mem_91921")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91924, bytes_91813, "mem_91924")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_97627 = sext_i64_i32(sdiv_up64(merge_block_sizze_68035 * dim_48135 * num_blocks_68233, computed_tblock_sizze_83896));
                            int32_t num_chunks_97628 = sext_i64_i32(sdiv_up64(merge_block_sizze_68035 * num_blocks_68233, computed_tblock_sizze_83896));
                            int32_t num_chunks_97629 = sext_i64_i32(sdiv_up64(num_blocks_68233, computed_tblock_sizze_83896));
                            int32_t num_chunks_97630 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, computed_tblock_sizze_83896));
                            int32_t virt_num_tblocks_97631 = sext_i64_i32(num_merges_68217);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_87361(ctx, num_merges_68217, 1, 1, computed_tblock_sizze_83896, 1, 1, bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (bytes_91835 + srem64((int64_t) 8 - srem64(bytes_91835, (int64_t) 8), (int64_t) 8)) + (bytes_91855 + srem64((int64_t) 8 - srem64(bytes_91855, (int64_t) 8), (int64_t) 8)) + (bytes_91855 + srem64((int64_t) 8 - srem64(bytes_91855, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95468 + srem64((int64_t) 8 - srem64(maxSubHelper_95468, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95467 + srem64((int64_t) 8 - srem64(maxSubHelper_95467, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95466 + srem64((int64_t) 8 - srem64(maxSubHelper_95466, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95465 + srem64((int64_t) 8 - srem64(maxSubHelper_95465, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95464 + srem64((int64_t) 8 - srem64(maxSubHelper_95464, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95463 + srem64((int64_t) 8 - srem64(maxSubHelper_95463, (int64_t) 8), (int64_t) 8)), dim_48135, merge_block_sizze_68035, stride_68212, next_stride_68213, num_merges_68217, num_blocks_68233, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, j_m_i_68235, computed_tblock_sizze_83896, bytes_91835, bytes_91855, lmad_arg_91880, maxSubHelper_95463, maxSubHelper_95464, maxSubHelper_95465, maxSubHelper_95466, maxSubHelper_95467, maxSubHelper_95468, num_chunks_97627, num_chunks_97628, mem_param_91508.mem, mem_param_91511.mem, mem_param_91515.mem, mem_param_91518.mem, mem_91520.mem, mem_91521.mem, mem_91914.mem, mem_91917.mem, mem_91921.mem, mem_91924.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_91931, &mem_91914, "mem_91914") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91930, &mem_91917, "mem_91917") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91929, &mem_91921, "mem_91921") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91927, &mem_91924, "mem_91924") != 0)
                                return 1;
                        } else {
                            int64_t segmap_usable_groups_87662 = sdiv_up64(nest_sizze_87660, segmap_tblock_sizze_87661);
                            
                            if (memblock_alloc_device(ctx, &mem_91525, bytes_91524, "mem_91525")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91528, bytes_91524, "mem_91528")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97726 = sext_i64_i32(sdiv_up64(num_merges_68217 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, segmap_tblock_sizze_87661));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87667(ctx, segmap_usable_groups_87662, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86485, 1, 1, (int64_t) 0, merge_block_sizze_68035, stride_68212, next_stride_68213, num_merges_68217, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, j_m_i_68235, mem_param_91508.mem, mem_param_91511.mem, mem_91520.mem, mem_91521.mem, mem_91525.mem, mem_91528.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_91539, bytes_91538, "mem_91539")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91539.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_68206}, mem_param_91515.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_68206, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_91544, bytes_91543, "mem_91544")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91547, bytes_91543, "mem_91547")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91550, bytes_91543, "mem_91550")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91567, bytes_91566, "mem_91567")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91570, bytes_91543, "mem_91570")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91573, bytes_91543, "mem_91573")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91576, bytes_91543, "mem_91576")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91577, (int64_t) 0, "mem_91577")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91580, bytes_91543, "mem_91580")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91581, (int64_t) 0, "mem_91581")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97743 = sext_i64_i32(sdiv_up64(num_merges_68217 * num_blocks_68233, segmap_tblock_sizze_87790));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87805(ctx, num_tblocks_87791, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86211, 1, 1, (int64_t) 0, dim_48135, loop_dz2084Uz2082U_68206, stride_68212, next_stride_68213, num_merges_68217, num_blocks_68233, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_68234, num_tblocks_87791, virt_num_tblocks_97743, mem_param_91508.mem, mem_param_91511.mem, mem_param_91518.mem, mem_91520.mem, mem_91521.mem, mem_91525.mem, mem_91528.mem, mem_91539.mem, mem_91544.mem, mem_91547.mem, mem_91550.mem, mem_91567.mem, mem_91570.mem, mem_91573.mem, mem_91576.mem, mem_91577.mem, mem_91580.mem, mem_91581.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_91525, "mem_91525") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91528, "mem_91528") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91585, bytes_91584, "mem_91585")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97758 = merge_block_sizze_68035 * num_merges_68217 * num_blocks_68233;
                            int64_t tblock_sizze_97763;
                            
                            tblock_sizze_97763 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97763;
                            
                            int64_t virt_num_tblocks_97764 = sdiv_up64(replicate_n_97758, tblock_sizze_97763);
                            int64_t num_tblocks_97765 = smin64(virt_num_tblocks_97764, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97759(ctx, num_tblocks_97765, 1, 1, tblock_sizze_97763, 1, 1, (int64_t) 0, merge_block_sizze_68035, num_merges_68217, num_blocks_68233, replicate_n_97758, virt_num_tblocks_97764, num_tblocks_97765, mem_91544.mem, mem_91585.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_91544, "mem_91544") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91589, bytes_91584, "mem_91589")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97781 = merge_block_sizze_68035 * num_merges_68217 * num_blocks_68233;
                            int64_t tblock_sizze_97786;
                            
                            tblock_sizze_97786 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97786;
                            
                            int64_t virt_num_tblocks_97787 = sdiv_up64(replicate_n_97781, tblock_sizze_97786);
                            int64_t num_tblocks_97788 = smin64(virt_num_tblocks_97787, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97782(ctx, num_tblocks_97788, 1, 1, tblock_sizze_97786, 1, 1, (int64_t) 0, merge_block_sizze_68035, num_merges_68217, num_blocks_68233, replicate_n_97781, virt_num_tblocks_97787, num_tblocks_97788, mem_91547.mem, mem_91589.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_91547, "mem_91547") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91593, bytes_91584, "mem_91593")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97804 = merge_block_sizze_68035 * num_merges_68217 * num_blocks_68233;
                            int64_t tblock_sizze_97809;
                            
                            tblock_sizze_97809 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97809;
                            
                            int64_t virt_num_tblocks_97810 = sdiv_up64(replicate_n_97804, tblock_sizze_97809);
                            int64_t num_tblocks_97811 = smin64(virt_num_tblocks_97810, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97805(ctx, num_tblocks_97811, 1, 1, tblock_sizze_97809, 1, 1, (int64_t) 0, merge_block_sizze_68035, num_merges_68217, num_blocks_68233, replicate_n_97804, virt_num_tblocks_97810, num_tblocks_97811, mem_91550.mem, mem_91593.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_91550, "mem_91550") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91598, bytes_91597, "mem_91598")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97827 = merge_block_sizze_68035 * dim_48135 * num_merges_68217 * num_blocks_68233;
                            int64_t tblock_sizze_97832;
                            
                            tblock_sizze_97832 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97832;
                            
                            int64_t virt_num_tblocks_97833 = sdiv_up64(replicate_n_97827, tblock_sizze_97832);
                            int64_t num_tblocks_97834 = smin64(virt_num_tblocks_97833, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97828(ctx, num_tblocks_97834, 1, 1, tblock_sizze_97832, 1, 1, (int64_t) 0, dim_48135, merge_block_sizze_68035, num_merges_68217, num_blocks_68233, replicate_n_97827, virt_num_tblocks_97833, num_tblocks_97834, mem_91567.mem, mem_91598.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_91567, "mem_91567") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91615, bytes_91614, "mem_91615")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91615.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, mem_91585.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91585, "mem_91585") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91632, bytes_91614, "mem_91632")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91632.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, mem_91589.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91589, "mem_91589") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91649, bytes_91614, "mem_91649")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91649.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, mem_91593.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91593, "mem_91593") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91673, bytes_91672, "mem_91673")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_91673.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217 * dim_48135, num_blocks_68233 * num_merges_68217}, mem_91598.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217 * dim_48135, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91598, "mem_91598") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91732, bytes_91731, "mem_91732")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91749, bytes_91748, "mem_91749")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91773, bytes_91772, "mem_91773")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_91790, bytes_91789, "mem_91790")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97853 = sext_i64_i32(sdiv_up64(num_merges_68217 * num_blocks_68233, segmap_tblock_sizze_87885));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87894(ctx, num_tblocks_87886, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86099, 1, 1, (int64_t) 0, dim_48135, merge_block_sizze_68035, loop_dz2084Uz2082U_68206, next_stride_68213, num_merges_68217, num_blocks_68233, nest_sizze_87789, num_tblocks_87886, binop_y_91661, virt_num_tblocks_97853, mem_param_91508.mem, mem_param_91511.mem, mem_param_91518.mem, mem_91520.mem, mem_91521.mem, mem_91539.mem, mem_91570.mem, mem_91573.mem, mem_91576.mem, mem_91577.mem, mem_91580.mem, mem_91581.mem, mem_91615.mem, mem_91632.mem, mem_91649.mem, mem_91673.mem, mem_91732.mem, mem_91749.mem, mem_91773.mem, mem_91790.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_91539, "mem_91539") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91570, "mem_91570") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91573, "mem_91573") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91576, "mem_91576") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91577, "mem_91577") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91580, "mem_91580") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91581, "mem_91581") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91615, "mem_91615") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91649, "mem_91649") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91673, "mem_91673") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91794, bytes_91793, "mem_91794")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91794.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_68035 * num_blocks_68233, merge_block_sizze_68035, (int64_t) 1}, mem_91732.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91732, "mem_91732") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91799, bytes_91793, "mem_91799")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91799.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_68035 * num_blocks_68233, merge_block_sizze_68035, (int64_t) 1}, mem_91749.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91749, "mem_91749") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91805, bytes_91804, "mem_91805")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_91805.mem, (int64_t) 0, (int64_t []) {dim_48135 * merge_block_sizze_68035 * num_blocks_68233, dim_48135 * merge_block_sizze_68035, dim_48135, (int64_t) 1}, mem_91773.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217 * dim_48135, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91773, "mem_91773") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91810, bytes_91793, "mem_91810")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91810.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_68035 * num_blocks_68233, merge_block_sizze_68035, (int64_t) 1}, mem_91790.mem, (int64_t) 0, (int64_t []) {num_blocks_68233, (int64_t) 1, num_blocks_68233 * num_merges_68217}, (int64_t []) {num_merges_68217, num_blocks_68233, merge_block_sizze_68035})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91790, "mem_91790") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91814, bytes_91813, "mem_91814")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91814.mem, (int64_t) 0, (int64_t []) {next_stride_68213, (int64_t) 1}, mem_91794.mem, (int64_t) 0, (int64_t []) {flat_dim_68236, (int64_t) 1}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91794, "mem_91794") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91817, bytes_91813, "mem_91817")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91817.mem, (int64_t) 0, (int64_t []) {next_stride_68213, (int64_t) 1}, mem_91799.mem, (int64_t) 0, (int64_t []) {flat_dim_68236, (int64_t) 1}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91799, "mem_91799") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91820, bytes_91813, "mem_91820")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91820.mem, (int64_t) 0, (int64_t []) {next_stride_68213, (int64_t) 1}, mem_91810.mem, (int64_t) 0, (int64_t []) {flat_dim_68236, (int64_t) 1}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91810, "mem_91810") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91824, bytes_91823, "mem_91824")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_91824.mem, (int64_t) 0, (int64_t []) {dim_48135 * next_stride_68213, dim_48135, (int64_t) 1}, mem_91805.mem, (int64_t) 0, (int64_t []) {dim_48135 * flat_dim_68236, dim_48135, (int64_t) 1}, (int64_t []) {num_merges_68217, next_stride_68213, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91805, "mem_91805") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91931, &mem_91814, "mem_91814") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91930, &mem_91817, "mem_91817") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91929, &mem_91824, "mem_91824") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91927, &mem_91820, "mem_91820") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_92128, &ext_mem_91931, "ext_mem_91931") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92125, &ext_mem_91930, "ext_mem_91930") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92122, &ext_mem_91929, "ext_mem_91929") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92118, &ext_mem_91927, "ext_mem_91927") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_91520, "mem_91520") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_91521, "mem_91521") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92300, &ext_mem_92128, "ext_mem_92128") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92297, &ext_mem_92125, "ext_mem_92125") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92294, &ext_mem_92122, "ext_mem_92122") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92290, &ext_mem_92118, "ext_mem_92118") != 0)
                        return 1;
                }
                
                int64_t flat_dim_68651 = next_stride_68213 * num_merges_68217;
                
                if (memblock_alloc_device(ctx, &mem_92303, bytes_91813, "mem_92303")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92303.mem, (int64_t) 0, (int64_t []) {next_stride_68213, (int64_t) 1}, ext_mem_92300.mem, (int64_t) 0, (int64_t []) {ext_92299, ext_92298}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_92300, "ext_mem_92300") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_92307, bytes_91813, "mem_92307")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92307.mem, (int64_t) 0, (int64_t []) {next_stride_68213, (int64_t) 1}, ext_mem_92297.mem, (int64_t) 0, (int64_t []) {ext_92299, ext_92298}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_92297, "ext_mem_92297") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_92312, bytes_91823, "mem_92312")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92312.mem, (int64_t) 0, (int64_t []) {dim_48135 * next_stride_68213, dim_48135, (int64_t) 1}, ext_mem_92294.mem, (int64_t) 0, (int64_t []) {ext_92293, ext_92292, ext_92298}, (int64_t []) {num_merges_68217, next_stride_68213, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_92294, "ext_mem_92294") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_92316, bytes_91813, "mem_92316")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92316.mem, (int64_t) 0, (int64_t []) {next_stride_68213, (int64_t) 1}, ext_mem_92290.mem, (int64_t) 0, (int64_t []) {ext_92299, ext_92298}, (int64_t []) {num_merges_68217, next_stride_68213})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_92290, "ext_mem_92290") != 0)
                    return 1;
                
                bool loop_cond_68656 = slt64(next_stride_68213, flat_dim_68029);
                
                if (memblock_set_device(ctx, &mem_param_tmp_97295, &mem_92303, "mem_92303") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_97296, &mem_92307, "mem_92307") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_97297, &mem_92312, "mem_92312") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_97298, &mem_92316, "mem_92316") != 0)
                    return 1;
                
                int64_t loop_dz2084Uz2082U_tmp_97299 = flat_dim_68651;
                bool loop_while_tmp_97300 = loop_cond_68656;
                int64_t stride_tmp_97305 = next_stride_68213;
                
                if (memblock_set_device(ctx, &mem_param_91508, &mem_param_tmp_97295, "mem_param_tmp_97295") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_91511, &mem_param_tmp_97296, "mem_param_tmp_97296") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_91515, &mem_param_tmp_97297, "mem_param_tmp_97297") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_91518, &mem_param_tmp_97298, "mem_param_tmp_97298") != 0)
                    return 1;
                loop_dz2084Uz2082U_68206 = loop_dz2084Uz2082U_tmp_97299;
                loop_while_68207 = loop_while_tmp_97300;
                stride_68212 = stride_tmp_97305;
            }
            if (memblock_set_device(ctx, &ext_mem_92330, &mem_param_91508, "mem_param_91508") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92329, &mem_param_91511, "mem_param_91511") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92328, &mem_param_91515, "mem_param_91515") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92327, &mem_param_91518, "mem_param_91518") != 0)
                return 1;
            data_68199 = loop_dz2084Uz2082U_68206;
            data_68200 = loop_while_68207;
            data_68205 = stride_68212;
            if (memblock_unref_device(ctx, &mem_91491, "mem_91491") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91495, "mem_91495") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91500, "mem_91500") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91504, "mem_91504") != 0)
                return 1;
            
            bool i_p_m_t_s_leq_w_68659 = slt64(zs_lhs_68004, data_68199);
            bool y_68660 = zzero_leq_i_p_m_t_s_68658 && i_p_m_t_s_leq_w_68659;
            bool ok_or_empty_68661 = empty_slice_68657 || y_68660;
            bool index_certs_68662;
            
            if (!ok_or_empty_68661) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_48138, "] out of bounds for array of shape [", (long long) data_68199, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_92337, &ext_mem_92328, "ext_mem_92328") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92333, &ext_mem_92327, "ext_mem_92327") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_91190, "mem_91190") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91257, "mem_91257") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92339, bytes_90820, "mem_92339")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_92339.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_92333.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_48138})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_92333, "ext_mem_92333") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92342, bytes_90858, "mem_92342")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92342.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, ext_mem_92337.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_92337, "ext_mem_92337") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_93624, &mem_92342, "mem_92342") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_93623, &mem_92339, "mem_92339") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_90821, "mem_90821") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_90839, "mem_90839") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_90840, "mem_90840") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_93635, bytes_90879, "mem_93635")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93635.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_93624.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
        goto cleanup;
    
    int64_t min_arg1_90499;
    
    if (x_69549) {
        int64_t read_res_99388;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99388, mem_90841.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_90811 = read_res_99388;
        
        min_arg1_90499 = x_90811;
    } else {
        min_arg1_90499 = (int64_t) 0;
    }
    if (memblock_unref_device(ctx, &mem_90841, "mem_90841") != 0)
        return 1;
    
    int64_t maxSubHelper_95483 = umax64((int64_t) 0, binop_x_90867);
    int64_t maxSubHelper_95484 = umax64((int64_t) 0, binop_x_90867);
    int64_t num_threads_95640 = seghist_tblock_sizze_88036 * num_tblocks_88038;
    int64_t total_sizze_95641 = maxSubHelper_95483 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95485, total_sizze_95641, "color_95485")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95642 = binop_x_90867 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95486, total_sizze_95642, "color_95486")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95643 = binop_x_90867 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95487, total_sizze_95643, "color_95487")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95644 = binop_x_90867 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95488, total_sizze_95644, "color_95488")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95645 = maxSubHelper_95484 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95489, total_sizze_95645, "color_95489")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95646 = binop_x_90867 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95490, total_sizze_95646, "color_95490")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95647 = binop_x_90867 * num_threads_95640;
    
    if (memblock_alloc_device(ctx, &color_95491, total_sizze_95647, "color_95491")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_subhistos_97875;
    int64_t h_97878 = (int64_t) 4 * total_grid_no_48146;
    int64_t seg_h_97879 = (int64_t) 4 * total_grid_no_48146;
    
    if (!(seg_h_97879 == (int64_t) 0)) {
        int64_t hist_H_97880 = total_grid_no_48146;
        int64_t hist_el_sizze_97881 = sdiv_up64(h_97878, hist_H_97880);
        int64_t hist_N_97882 = n_48138;
        int32_t hist_RF_97883 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_88038 * seghist_tblock_sizze_88036), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_88036, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_97880, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_97882, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_97881, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_97883, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_97878, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_97879, '\n');
        
        int64_t hist_L_97884;
        
        hist_L_97884 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L_97884;
        
        int64_t max_tblock_sizze_97885;
        
        max_tblock_sizze_97885 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_97886 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_88038 * seghist_tblock_sizze_88036)), max_tblock_sizze_97885);
        double hist_m_prime_97887 = sitofp_i64_f64(smin64(squot64(hist_L_97884, hist_el_sizze_97881), sdiv_up64(hist_N_97882, num_tblocks_97886))) / sitofp_i64_f64(hist_H_97880);
        int64_t hist_M0_97888 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_97887), max_tblock_sizze_97885));
        int64_t hist_Nout_97889 = (int64_t) 1;
        int64_t hist_Nin_97890 = n_48138;
        int64_t work_asymp_M_max_97891 = squot64(hist_Nout_97889 * hist_N_97882, (int64_t) 2 * num_tblocks_97886 * hist_H_97880);
        int32_t hist_M_97892 = sext_i64_i32(smin64(hist_M0_97888, work_asymp_M_max_97891));
        int64_t hist_C_97893 = sdiv_up64(max_tblock_sizze_97885, sext_i32_i64(smax32(1, hist_M_97892)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_97888, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_97891, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_97893, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_97885, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_97892, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_97880 * hist_el_sizze_97881 * sext_i32_i64(hist_M_97892)), '\n');
        
        int64_t local_mem_needed_97894 = hist_el_sizze_97881 * sext_i32_i64(hist_M_97892);
        int32_t hist_S_97895 = sext_i64_i32(sdiv_up64(hist_H_97880 * local_mem_needed_97894 + (int64_t) 1, hist_L_97884));
        
        if (sle64(hist_H_97880, hist_Nin_97890) && (sle64(local_mem_needed_97894, hist_L_97884) && (sle32(hist_S_97895, 3) && (sle64(hist_C_97893, max_tblock_sizze_97885) && slt32(0, hist_M_97892))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_97880, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_97892, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_97893, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_97895, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_97892, '\n');
            num_subhistos_97875 = num_tblocks_97886;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_97875, '\n');
            if (num_subhistos_97875 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_97876, &mem_90832, "mem_90832") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_97876, num_subhistos_97875 * total_grid_no_48146 * (int64_t) 4, "defunc_0_map_res_subhistos_mem_97876")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i32(ctx, defunc_0_map_res_subhistos_mem_97876, num_subhistos_97875 * total_grid_no_48146, 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_4b(ctx, 1, defunc_0_map_res_subhistos_mem_97876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_90832.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_grid_no_48146})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_97896 = 0; chk_i_97896 < hist_S_97895; chk_i_97896++) {
                int64_t num_segments_97897 = (int64_t) 1;
                int64_t hist_H_chk_97898 = sdiv_up64(total_grid_no_48146, sext_i32_i64(hist_S_97895));
                int64_t histo_sizze_97899 = hist_H_chk_97898;
                int32_t init_per_thread_97900 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_97892) * histo_sizze_97899, max_tblock_sizze_97885));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_local_88043(ctx, num_tblocks_97886, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 4 * (hist_M_97892 * hist_H_chk_97898) + srem64((int64_t) 8 - srem64((int64_t) 4 * (hist_M_97892 * hist_H_chk_97898), (int64_t) 8), (int64_t) 8), dim_48135, n_48138, total_grid_no_48146, arg_67058, cond_67069, min_arg1_90499, num_threads_95640, num_subhistos_97875, num_tblocks_97886, hist_M_97892, chk_i_97896, num_segments_97897, hist_H_chk_97898, histo_sizze_97899, init_per_thread_97900, grid_part_prefix_sum_mem_90815.mem, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, mem_93635.mem, color_95485.mem, color_95486.mem, color_95487.mem, color_95488.mem, color_95489.mem, color_95490.mem, color_95491.mem, defunc_0_map_res_subhistos_mem_97876.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_97942 = total_grid_no_48146;
            double hist_RF_97943 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_97944 = 4;
            double hist_C_max_97945 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_88038 * seghist_tblock_sizze_88036)), sitofp_i32_f64(hist_H_97942) / 2.0);
            int32_t hist_M_min_97946 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_88038 * seghist_tblock_sizze_88036)) / hist_C_max_97945)));
            int64_t hist_L2_97947;
            
            hist_L2_97947 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L2_97947;
            
            double hist_RACE_exp_97948 = fmax64(1.0, 0.75 * hist_RF_97943 / (64.0 / sitofp_i32_f64(hist_el_sizze_97944)));
            int32_t hist_S_97949;
            
            if (slt64(n_48138, hist_H_97942)) {
                hist_S_97949 = 1;
            } else {
                hist_S_97949 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_97946) * hist_H_97942 * sext_i32_i64(hist_el_sizze_97944), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_97947) * hist_RACE_exp_97948)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_97948, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_97949, '\n');
            
            int64_t hist_H_chk_97950 = sdiv_up64(total_grid_no_48146, sext_i32_i64(hist_S_97949));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_97950, '\n');
            
            double hist_k_max_97951 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_97947) / sitofp_i32_f64(4)) * hist_RACE_exp_97948, sitofp_i32_f64(n_48138)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_88038 * seghist_tblock_sizze_88036));
            int64_t hist_u_97952 = (int64_t) 2;
            double hist_C_97953 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_88038 * seghist_tblock_sizze_88036)), sitofp_i32_f64(hist_u_97952 * hist_H_chk_97950) / hist_k_max_97951);
            int32_t hist_M_97954 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_97951, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_97954, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_97953, '\n');
            num_subhistos_97875 = sext_i32_i64(hist_M_97954);
            if (hist_M_97954 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_97876, &mem_90832, "mem_90832") != 0)
                    return 1;
            } else if (num_subhistos_97875 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_97876, &mem_90832, "mem_90832") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_97876, num_subhistos_97875 * total_grid_no_48146 * (int64_t) 4, "defunc_0_map_res_subhistos_mem_97876")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i32(ctx, defunc_0_map_res_subhistos_mem_97876, num_subhistos_97875 * total_grid_no_48146, 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_4b(ctx, 1, defunc_0_map_res_subhistos_mem_97876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_90832.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_grid_no_48146})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_97955 = 0; chk_i_97955 < hist_S_97949; chk_i_97955++) {
                int64_t hist_H_chk_97956 = sdiv_up64(total_grid_no_48146, sext_i32_i64(hist_S_97949));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_global_88043(ctx, num_tblocks_88038, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035, 1, 1, (int64_t) 0, dim_48135, n_48138, total_grid_no_48146, arg_67058, cond_67069, num_tblocks_88038, min_arg1_90499, num_threads_95640, num_subhistos_97875, chk_i_97955, hist_H_chk_97956, grid_part_prefix_sum_mem_90815.mem, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, mem_93635.mem, color_95485.mem, color_95486.mem, color_95487.mem, color_95488.mem, color_95489.mem, color_95490.mem, color_95491.mem, defunc_0_map_res_subhistos_mem_97876.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        }
        if (num_subhistos_97875 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_90832, &defunc_0_map_res_subhistos_mem_97876, "defunc_0_map_res_subhistos_mem_97876") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_97982 = (int64_t) 1;
            
            if (slt64(num_subhistos_97875 * (int64_t) 2, seghist_tblock_sizze_88036 * chunk_sizze_97982)) {
                int64_t segment_sizze_nonzzero_97983 = smax64((int64_t) 1, num_subhistos_97875);
                int64_t num_threads_97984 = seghist_tblock_sizze_88036 * seghist_tblock_sizze_88036;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_grid_no_48146, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_97875, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_grid_no_48146, squot64(seghist_tblock_sizze_88036, segment_sizze_nonzzero_97983))), '\n');
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_small_97981(ctx, num_tblocks_88038, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035, 1, 1, (int64_t) 4 * seghist_tblock_sizze_88036 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88036, (int64_t) 8), (int64_t) 8), total_grid_no_48146, num_tblocks_88038, num_subhistos_97875, segment_sizze_nonzzero_97983, mem_90832.mem, defunc_0_map_res_subhistos_mem_97876.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_98012 = sdiv_up64(num_tblocks_88038, smax64((int64_t) 1, total_grid_no_48146));
                int64_t q_98013 = sdiv_up64(num_subhistos_97875, seghist_tblock_sizze_88036 * blocks_per_segment_98012 * chunk_sizze_97982);
                int64_t num_virtblocks_98014 = blocks_per_segment_98012 * total_grid_no_48146;
                int64_t threads_per_segment_98015 = blocks_per_segment_98012 * seghist_tblock_sizze_88036;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_grid_no_48146, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_97875, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_98014, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_88038, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_88036, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_98013, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_98012, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_98016, (int64_t) 4 * num_virtblocks_98014, "segred_tmp_mem_98016")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_large_97981(ctx, num_tblocks_88038, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88035, 1, 1, 8 + ((int64_t) 4 * seghist_tblock_sizze_88036 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88036, (int64_t) 8), (int64_t) 8)), total_grid_no_48146, num_tblocks_88038, num_subhistos_97875, blocks_per_segment_98012, q_98013, num_virtblocks_98014, threads_per_segment_98015, mem_90832.mem, defunc_0_map_res_subhistos_mem_97876.mem, segred_tmp_mem_98016.mem, counters_mem_98018.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_93635, "mem_93635") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95485, "color_95485") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95486, "color_95486") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95487, "color_95487") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95488, "color_95488") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95489, "color_95489") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95490, "color_95490") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95491, "color_95491") != 0)
        return 1;
    
    int64_t binop_y_93700 = dz2080U_48136 - (int64_t) 1;
    int64_t binop_x_93702 = smax64((int64_t) 0, binop_y_93700);
    int64_t binop_y_93705 = dz2080U_48136 * binop_x_90874;
    int64_t binop_y_93706 = smax64((int64_t) 0, binop_y_93705);
    int64_t binop_y_93707 = binop_x_93702 + binop_y_93706;
    int64_t binop_y_93708 = (int64_t) 1 + binop_y_93707;
    int64_t bytes_93709 = (int64_t) 8 * binop_y_93708;
    
    if (memblock_alloc_device(ctx, &mem_93710, bytes_93709, "mem_93710")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2080U_48136}, start_of_grid_partition_mem_90818.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {dz2080U_48136, dim_48135})) != 0)
        goto cleanup;
    
    int64_t num_threads_95693 = segred_tblock_sizze_88119 * num_tblocks_88121;
    int64_t total_sizze_95694 = dim_48135 * num_threads_95693;
    
    if (memblock_alloc_device(ctx, &color_95492, total_sizze_95694, "color_95492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_68761 = 0; i_68761 < total_grid_no_48146; i_68761++) {
        bool y_68763 = slt64(i_68761, dz2080U_48136);
        bool index_certs_68764;
        
        if (!y_68763) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_68761, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:304:46-76\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegRed");
        
        int64_t chunk_sizze_98056 = (int64_t) 1;
        
        if (memblock_alloc_device(ctx, &segred_tmp_mem_98059, num_tblocks_88121, "segred_tmp_mem_98059")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t num_threads_98061 = num_tblocks_88121 * segred_tblock_sizze_88119;
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_88126(ctx, num_tblocks_88121, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88118, 1, 1, 8 + (segred_tblock_sizze_88119 + srem64((int64_t) 8 - srem64(segred_tblock_sizze_88119, (int64_t) 8), (int64_t) 8)), dim_48135, dz2080U_48136, total_grid_no_48146, i_68761, num_tblocks_88121, num_threads_95693, num_threads_98061, start_of_grid_partition_mem_90818.mem, mem_90832.mem, mem_90833.mem, mem_93710.mem, color_95492.mem, counters_mem_98057.mem, segred_tmp_mem_98059.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_90832, "mem_90832") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_93710, "mem_93710") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95492, "color_95492") != 0)
        return 1;
    
    bool x_90806 = !suff_outer_screma_88128;
    bool protect_cond_conj_90805 = x_69549 && intra_suff_and_fits_89515;
    bool protect_cond_conj_90808 = protect_cond_conj_90805 && x_90806;
    int64_t min_arg1_90508;
    
    if (protect_cond_conj_90808) {
        int64_t read_res_99389;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99389, mem_90842.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_90801 = read_res_99389;
        
        min_arg1_90508 = x_90801;
    } else {
        min_arg1_90508 = (int64_t) 0;
    }
    
    bool protect_cond_conj_90798 = x_69549 && suff_outer_screma_88128;
    int64_t min_arg1_90507;
    
    if (protect_cond_conj_90798) {
        int64_t read_res_99390;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99390, mem_90842.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_90794 = read_res_99390;
        
        min_arg1_90507 = x_90794;
    } else {
        min_arg1_90507 = (int64_t) 0;
    }
    
    int64_t ext_93959;
    int64_t shared_memory_capacity_98092;
    
    shared_memory_capacity_98092 = ctx->max_shared_memory;
    if (intra_suff_and_fits_89611) {
        ext_93959 = dim_48135;
    } else {
        ext_93959 = (int64_t) 1;
    }
    
    int64_t ext_93958;
    int64_t shared_memory_capacity_98093;
    
    shared_memory_capacity_98093 = ctx->max_shared_memory;
    if (intra_suff_and_fits_89611) {
        ext_93958 = (int64_t) 1;
    } else {
        ext_93958 = n_48138;
    }
    
    int64_t ext_93862;
    int64_t shared_memory_capacity_98094;
    
    shared_memory_capacity_98094 = ctx->max_shared_memory;
    if (intra_suff_and_fits_89687) {
        ext_93862 = dim_48135;
    } else {
        ext_93862 = (int64_t) 1;
    }
    
    int64_t ext_93861;
    int64_t shared_memory_capacity_98095;
    
    shared_memory_capacity_98095 = ctx->max_shared_memory;
    if (intra_suff_and_fits_89687) {
        ext_93861 = (int64_t) 1;
    } else {
        ext_93861 = n_48138;
    }
    
    int64_t binop_y_93776 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_93777 = (int64_t) 1 + binop_y_93776;
    int64_t bytes_93778 = (int64_t) 8 * binop_y_93777;
    int64_t binop_y_93828 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_93829 = (int64_t) 1 + binop_y_93828;
    int64_t bytes_93830 = (int64_t) 8 * binop_y_93829;
    int64_t binop_y_93912 = binop_x_90872 + binop_y_90876;
    int64_t binop_y_93913 = (int64_t) 1 + binop_y_93912;
    int64_t bytes_93914 = (int64_t) 8 * binop_y_93913;
    int64_t ext_93965;
    
    if (cond_67069) {
        ext_93965 = dim_48135;
    } else {
        ext_93965 = ext_93959;
    }
    
    int64_t ext_93964;
    
    if (cond_67069) {
        ext_93964 = (int64_t) 1;
    } else {
        ext_93964 = ext_93958;
    }
    
    int64_t ext_93868;
    
    if (cond_67069) {
        ext_93868 = dim_48135;
    } else {
        ext_93868 = ext_93862;
    }
    
    int64_t ext_93867;
    
    if (cond_67069) {
        ext_93867 = (int64_t) 1;
    } else {
        ext_93867 = ext_93861;
    }
    
    int64_t maxSubHelper_95510 = umax64((int64_t) 0, binop_x_90867);
    int64_t maxSubHelper_95502 = umax64((int64_t) 0, binop_x_90867);
    int64_t maxSubHelper_95493 = umax64((int64_t) 0, binop_x_90867);
    int64_t maxSubHelper_95494 = umax64((int64_t) 0, binop_x_90867);
    int64_t num_threads_95701 = segscan_tblock_sizze_88138 * num_tblocks_88139;
    int64_t total_sizze_95702 = maxSubHelper_95493 * num_threads_95701;
    int64_t total_sizze_95703 = binop_x_90867 * num_threads_95701;
    int64_t total_sizze_95704 = binop_x_90867 * num_threads_95701;
    int64_t total_sizze_95705 = binop_x_90867 * num_threads_95701;
    int64_t total_sizze_95706 = maxSubHelper_95494 * num_threads_95701;
    int64_t total_sizze_95707 = binop_x_90867 * num_threads_95701;
    int64_t total_sizze_95708 = binop_x_90867 * num_threads_95701;
    int64_t shared_memory_capacity_98463;
    
    shared_memory_capacity_98463 = ctx->max_shared_memory;
    if (intra_suff_and_fits_89515 && sle64(sdiv_up64(maxSubHelper_95502, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98463)) {
        if (memblock_alloc_device(ctx, &mem_94032, bytes_90820, "mem_94032")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t num_chunks_98228 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
        int32_t virt_num_tblocks_98229 = sext_i64_i32(n_48138);
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_89519(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95502 + srem64((int64_t) 8 - srem64(maxSubHelper_95502, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, total_grid_no_48146, arg_67058, cond_67069, min_arg1_90508, binop_x_90867, maxSubHelper_95502, grid_part_prefix_sum_mem_90815.mem, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, mem_90833.mem, ext_mem_93624.mem, mem_94032.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &ext_mem_94033, &mem_94032, "mem_94032") != 0)
            return 1;
    } else {
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_93963, bytes_90858, "mem_93963")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93966, &mem_93963, "mem_93963") != 0)
                return 1;
        } else {
            int64_t shared_memory_capacity_98441;
            
            shared_memory_capacity_98441 = ctx->max_shared_memory;
            if (intra_suff_and_fits_89611 && sle64(sdiv_up64(maxSubHelper_95510, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98441)) {
                if (memblock_alloc_device(ctx, &mem_93957, bytes_90858, "mem_93957")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_98250 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
                int32_t virt_num_tblocks_98251 = sext_i64_i32(n_48138);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_89615(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95510 + srem64((int64_t) 8 - srem64(maxSubHelper_95510, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, arg_67058, cond_67069, binop_x_90867, maxSubHelper_95510, grid_part_sizze_per_dim_mem_90816.mem, grid_partitions_per_dim_mem_90817.mem, start_of_grid_partition_mem_90818.mem, mem_90842.mem, ext_mem_93624.mem, mem_93957.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_93960, &mem_93957, "mem_93957") != 0)
                    return 1;
            } else {
                if (cond_67069) {
                    if (memblock_alloc_device(ctx, &mem_93866, bytes_90858, "mem_93866")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_93869, &mem_93866, "mem_93866") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_98397;
                    
                    shared_memory_capacity_98397 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_89687 && sle64(sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_90867, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98397)) {
                        if (memblock_alloc_device(ctx, &mem_93860, bytes_90858, "mem_93860")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_98271 = sext_i64_i32(sdiv_up64(dim_48135, dim_48135));
                        int32_t virt_num_tblocks_98272 = sext_i64_i32(n_48138);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_89691(ctx, n_48138, 1, 1, dim_48135, 1, 1, binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)) + (binop_x_90867 + srem64((int64_t) 8 - srem64(binop_x_90867, (int64_t) 8), (int64_t) 8)), dim_48135, n_48138, arg_67058, cond_67069, binop_x_90867, grid_part_sizze_per_dim_mem_90816.mem, start_of_grid_partition_mem_90818.mem, ext_mem_93624.mem, mem_93860.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_93863, &mem_93860, "mem_93860") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_93733, bytes_90858, "mem_93733")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_98289 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_89742));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_89747(ctx, segmap_usable_groups_89743, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88883, 1, 1, (int64_t) 0, dim_48135, n_48138, start_of_grid_partition_mem_90818.mem, ext_mem_93624.mem, mem_93733.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_98300 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_89758));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_89763(ctx, segmap_usable_groups_89759, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88850, 1, 1, (int64_t) 0, dim_48135, n_48138, grid_part_sizze_per_dim_mem_90816.mem, mem_93733.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (cond_67069) {
                            if (memblock_alloc_device(ctx, &mem_93782, bytes_90858, "mem_93782")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_set_device(ctx, &ext_mem_93785, &mem_93782, "mem_93782") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_93736, bytes_90820, "mem_93736")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_98311 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89771));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_89775(ctx, segmap_usable_groups_89772, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88796, 1, 1, (int64_t) 0, dim_48135, n_48138, mem_93733.mem, mem_93736.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_93739, bytes_90868, "mem_93739")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_98320 = dim_48135 * n_48138;
                            int64_t tblock_sizze_98325;
                            
                            tblock_sizze_98325 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98325;
                            
                            int64_t virt_num_tblocks_98326 = sdiv_up64(replicate_n_98320, tblock_sizze_98325);
                            int64_t num_tblocks_98327 = smin64(virt_num_tblocks_98326, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98321(ctx, num_tblocks_98327, 1, 1, tblock_sizze_98325, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_98320, virt_num_tblocks_98326, num_tblocks_98327, mem_93736.mem, mem_93739.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_93736, "mem_93736") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93750, bytes_90879, "mem_93750")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_93739.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93739, "mem_93739") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93761, bytes_90879, "mem_93761")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93761.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_93733.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_93779, bytes_93778, "mem_93779")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_98340 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89783));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_89788(ctx, num_tblocks_89784, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88770, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_89784, virt_num_tblocks_98340, mem_93750.mem, mem_93761.mem, mem_93779.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_93750, "mem_93750") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93761, "mem_93761") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93785, &mem_93779, "mem_93779") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_93733, "mem_93733") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93788, bytes_90820, "mem_93788")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_98354 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89804));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_89808(ctx, segmap_usable_groups_89805, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88738, 1, 1, (int64_t) 0, n_48138, ext_90914, ext_mem_93785.mem, mem_93788.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_93791, bytes_90868, "mem_93791")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_98363 = dim_48135 * n_48138;
                        int64_t tblock_sizze_98368;
                        
                        tblock_sizze_98368 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98368;
                        
                        int64_t virt_num_tblocks_98369 = sdiv_up64(replicate_n_98363, tblock_sizze_98368);
                        int64_t num_tblocks_98370 = smin64(virt_num_tblocks_98369, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_98364(ctx, num_tblocks_98370, 1, 1, tblock_sizze_98368, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_98363, virt_num_tblocks_98369, num_tblocks_98370, mem_93788.mem, mem_93791.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_93788, "mem_93788") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93802, bytes_90879, "mem_93802")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93802.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_93791.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_93791, "mem_93791") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93813, bytes_90879, "mem_93813")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93813.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_93785.mem, (int64_t) 0, (int64_t []) {ext_90914, ext_90913}, (int64_t []) {n_48138, dim_48135})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &ext_mem_93785, "ext_mem_93785") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93831, bytes_93830, "mem_93831")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_98383 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89816));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_89821(ctx, num_tblocks_89817, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88712, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_89817, virt_num_tblocks_98383, mem_93802.mem, mem_93813.mem, mem_93831.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_93802, "mem_93802") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_93813, "mem_93813") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93863, &mem_93831, "mem_93831") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_93869, &ext_mem_93863, "ext_mem_93863") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_93872, bytes_90820, "mem_93872")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_98398 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89837));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_89841(ctx, segmap_usable_groups_89838, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88585, 1, 1, (int64_t) 0, n_48138, ext_93868, mem_90842.mem, ext_mem_93869.mem, mem_93872.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_93875, bytes_90868, "mem_93875")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_98407 = dim_48135 * n_48138;
                int64_t tblock_sizze_98412;
                
                tblock_sizze_98412 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98412;
                
                int64_t virt_num_tblocks_98413 = sdiv_up64(replicate_n_98407, tblock_sizze_98412);
                int64_t num_tblocks_98414 = smin64(virt_num_tblocks_98413, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_98408(ctx, num_tblocks_98414, 1, 1, tblock_sizze_98412, 1, 1, (int64_t) 0, dim_48135, n_48138, replicate_n_98407, virt_num_tblocks_98413, num_tblocks_98414, mem_93872.mem, mem_93875.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_93872, "mem_93872") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93886, bytes_90879, "mem_93886")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93886.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_93875.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, (int64_t []) {n_48138, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &mem_93875, "mem_93875") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93897, bytes_90879, "mem_93897")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93897.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, ext_mem_93869.mem, (int64_t) 0, (int64_t []) {ext_93868, ext_93867}, (int64_t []) {n_48138, dim_48135})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93869, "ext_mem_93869") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93915, bytes_93914, "mem_93915")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_98427 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89849));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_89854(ctx, num_tblocks_89850, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88556, 1, 1, (int64_t) 0, dim_48135, n_48138, arg_67058, num_tblocks_89850, virt_num_tblocks_98427, grid_partitions_per_dim_mem_90817.mem, mem_93886.mem, mem_93897.mem, mem_93915.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_93886, "mem_93886") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_93897, "mem_93897") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93960, &mem_93915, "mem_93915") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_93966, &ext_mem_93960, "ext_mem_93960") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &mem_93970, bytes_90858, "mem_93970")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98442 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_89878));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_89883(ctx, segmap_usable_groups_89879, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88379, 1, 1, (int64_t) 0, dim_48135, n_48138, ext_93964, ext_93965, grid_part_prefix_sum_mem_90815.mem, ext_mem_93966.mem, mem_93970.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_93966, "ext_mem_93966") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93981, bytes_90879, "mem_93981")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93981.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_48138}, mem_93970.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {n_48138, dim_48135})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_93970, "mem_93970") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93984, bytes_90820, "mem_93984")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98453 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89889));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_89893(ctx, segmap_usable_groups_89890, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_88347, 1, 1, (int64_t) 0, dim_48135, n_48138, total_grid_no_48146, mem_90833.mem, mem_93981.mem, mem_93984.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_93981, "mem_93981") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94033, &mem_93984, "mem_93984") != 0)
            return 1;
    }
    if (memblock_alloc_device(ctx, &mem_94035, bytes_90820, "mem_94035")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_94035.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_94033.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_48138})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_94038, bytes_90820, "mem_94038")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, n_48138)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_98464;
        
        shared_memory_98464 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_98465;
        
        thread_block_sizze_98465 = ctx->max_thread_block_size;
        
        int64_t registers_98466;
        
        registers_98466 = ctx->max_registers;
        
        int64_t thread_block_sizze_98467;
        
        thread_block_sizze_98467 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_98468 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_98464, thread_block_sizze_98465), (int64_t) 8), squot64(squot64(registers_98466, thread_block_sizze_98467) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_98469 = sdiv_up64(n_48138, segscan_tblock_sizze_89910 * chunk_sizze_98468);
        int64_t num_virt_threads_98470 = num_virt_blocks_98469 * segscan_tblock_sizze_89910;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_98468, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_98471, num_virt_blocks_98469, "status_flags_mem_98471")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_98471, num_virt_blocks_98469, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_98473, (int64_t) 8 * num_virt_blocks_98469, "aggregates_mem_98473")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_98475, (int64_t) 8 * num_virt_blocks_98469, "incprefixes_mem_98475")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegscan_89915(ctx, num_tblocks_89911, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_89502, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_89910), chunk_sizze_98468 * segscan_tblock_sizze_89910 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_89910), chunk_sizze_98468 * segscan_tblock_sizze_89910 * (int64_t) 8), (int64_t) 8), (int64_t) 8), n_48138, num_tblocks_89911, num_virt_blocks_98469, num_virt_threads_98470, ext_mem_94033.mem, mem_94038.mem, status_flags_mem_98471.mem, aggregates_mem_98473.mem, incprefixes_mem_98475.mem, global_dynid_mem_98477.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &ext_mem_94033, "ext_mem_94033") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_94108, &mem_94038, "mem_94038") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_94107, &mem_94035, "mem_94035") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_90842, "mem_90842") != 0)
        return 1;
    
    int64_t m_f_res_68887;
    
    if (x_68880) {
        int64_t read_res_99391;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99391, ext_mem_94108.mem, zs_lhs_68004 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_72980 = read_res_99391;
        
        m_f_res_68887 = x_72980;
    } else {
        m_f_res_68887 = (int64_t) 0;
    }
    
    int64_t m_68889;
    
    if (empty_slice_68657) {
        m_68889 = (int64_t) 0;
    } else {
        m_68889 = m_f_res_68887;
    }
    
    int64_t m_68899 = sub64(m_68889, (int64_t) 1);
    bool i_p_m_t_s_leq_w_68901 = slt64(m_68899, n_48138);
    bool zzero_leq_i_p_m_t_s_68900 = sle64((int64_t) 0, m_68899);
    bool y_68903 = zzero_leq_i_p_m_t_s_68900 && i_p_m_t_s_leq_w_68901;
    bool i_lte_j_68902 = sle64((int64_t) 0, m_68889);
    bool forwards_ok_68904 = i_lte_j_68902 && y_68903;
    bool eq_x_zz_68896 = (int64_t) 0 == m_f_res_68887;
    bool p_and_eq_x_y_68897 = x_68880 && eq_x_zz_68896;
    bool empty_slice_68898 = empty_slice_68657 || p_and_eq_x_y_68897;
    bool ok_or_empty_68905 = empty_slice_68898 || forwards_ok_68904;
    bool index_certs_68906;
    
    if (!ok_or_empty_68905) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_68889, "] out of bounds for array of shape [", (long long) n_48138, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_94109 = (int64_t) 8 * m_68889;
    int64_t bytes_94110 = dim_48135 * binop_x_94109;
    bool protect_assert_disj_94449 = assert_cond_67059 || empty_slice_68898;
    bool empty_or_match_cert_69074;
    
    if (!protect_assert_disj_94449) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_69090 = slt64(m_68889, (int64_t) 1);
    bool valid_69091 = !bounds_invalid_upwards_69090;
    bool protect_assert_disj_94451 = empty_slice_68898 || valid_69091;
    bool range_valid_c_69092;
    
    if (!protect_assert_disj_94451) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) m_68889, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_69093 = slt64((int64_t) 0, m_68899);
    bool loop_not_taken_69094 = !loop_nonempty_69093;
    bool protect_assert_disj_69097 = assert_cond_67059 || loop_not_taken_69094;
    bool protect_assert_disj_94453 = empty_slice_68898 || protect_assert_disj_69097;
    bool empty_or_match_cert_69098;
    
    if (!protect_assert_disj_94453) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_89940;
    
    segmap_tblock_sizze_89940 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89929;
    
    int64_t segmap_usable_groups_89941 = sdiv_up64(n_48138, segmap_tblock_sizze_89940);
    int64_t segmap_tblock_sizze_89961;
    
    segmap_tblock_sizze_89961 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89960;
    
    int64_t num_tblocks_89963;
    int64_t max_num_tblocks_98566;
    
    max_num_tblocks_98566 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89962;
    num_tblocks_89963 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_83004, segmap_tblock_sizze_89961), max_num_tblocks_98566)));
    
    int64_t segmap_tblock_sizze_89971;
    
    segmap_tblock_sizze_89971 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89970;
    
    int64_t num_tblocks_89973;
    int64_t max_num_tblocks_98567;
    
    max_num_tblocks_98567 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89972;
    num_tblocks_89973 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_48138, segmap_tblock_sizze_89971), max_num_tblocks_98567)));
    if (memblock_alloc_device(ctx, &mem_90838, bytes_90837, "mem_90838")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_90838, total_part_no_48147, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_90221;
    
    seghist_tblock_sizze_90221 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220;
    
    int64_t segscan_tblock_sizze_90236;
    
    segscan_tblock_sizze_90236 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90235;
    
    int64_t num_tblocks_90238;
    int64_t max_num_tblocks_98568;
    
    max_num_tblocks_98568 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_90237;
    num_tblocks_90238 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_48147, segscan_tblock_sizze_90236), max_num_tblocks_98568)));
    
    int64_t segmap_tblock_sizze_90257;
    
    segmap_tblock_sizze_90257 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90245;
    
    int64_t segmap_usable_groups_90258 = sdiv_up64(total_part_no_48147, segmap_tblock_sizze_90257);
    
    if (memblock_alloc_device(ctx, &mem_94111, bytes_94110, "mem_94111")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94111.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, ext_mem_93624.mem, (int64_t) 0, (int64_t []) {dim_48135, (int64_t) 1}, (int64_t []) {m_68889, dim_48135})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_94113, binop_x_94109, "mem_94113")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_94113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_93623.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_68889})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_94116, bytes_90820, "mem_94116")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_94118, bytes_90820, "mem_94118")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98569 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89940));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_89945(ctx, segmap_usable_groups_89941, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89929, 1, 1, (int64_t) 0, n_48138, ext_mem_94107.mem, ext_mem_94108.mem, mem_94116.mem, mem_94118.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_94107, "ext_mem_94107") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_94108, "ext_mem_94108") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98578 = sext_i64_i32(sdiv_up64(n_48138 * dim_48135, segmap_tblock_sizze_89961));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_89957(ctx, num_tblocks_89963, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89960, 1, 1, (int64_t) 0, dim_48135, n_48138, m_68889, num_tblocks_89963, virt_num_tblocks_98578, ext_mem_93624.mem, mem_94111.mem, mem_94116.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_93624, "ext_mem_93624") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94116, "mem_94116") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98593 = sext_i64_i32(sdiv_up64(n_48138, segmap_tblock_sizze_89971));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_89968(ctx, num_tblocks_89973, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89970, 1, 1, (int64_t) 0, n_48138, m_68889, num_tblocks_89973, virt_num_tblocks_98593, ext_mem_93623.mem, mem_94113.mem, mem_94118.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_93623, "ext_mem_93623") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94118, "mem_94118") != 0)
        return 1;
    
    int64_t bytes_94183 = (int64_t) 8 * arg_67058;
    
    if (empty_slice_68898) {
        if (memblock_alloc_device(ctx, &mem_94381, binop_x_94109, "mem_94381")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_94384, &mem_94381, "mem_94381") != 0)
            return 1;
    } else {
        bool y_68919 = slt64((int64_t) 0, m_68889);
        bool index_certs_68920;
        
        if (!y_68919) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) m_68889, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_68923;
        
        if (!y_67066) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_68977;
        
        if (!protect_assert_disj_67112) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_69063;
        
        if (!protect_assert_disj_67092) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_69095 = y_67066 || loop_not_taken_69094;
        bool index_certs_69096;
        
        if (!protect_assert_disj_69095) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_48136, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_69099 = protect_assert_disj_67104 || loop_not_taken_69094;
        bool index_certs_69100;
        
        if (!protect_assert_disj_69099) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_69101;
        
        if (!protect_assert_disj_69099) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_69102 = protect_assert_disj_67083 || loop_not_taken_69094;
        bool index_certs_69103;
        
        if (!protect_assert_disj_69102) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_69104 = protect_assert_disj_67112 || loop_not_taken_69094;
        bool range_valid_c_69105;
        
        if (!protect_assert_disj_69104) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_69106;
        
        if (!protect_assert_disj_69104) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_48135, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_69110 = protect_assert_disj_67092 || loop_not_taken_69094;
        bool range_valid_c_69111;
        
        if (!protect_assert_disj_69110) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_69482;
        
        if (!protect_assert_disj_69099) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_94168, binop_x_90867, "mem_94168")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_94171, &mem_94168, "mem_94168") != 0)
                return 1;
        } else {
            bool index_certs_68973;
            
            if (!y_67095) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_69460;
            
            if (!y_67095) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t segmap_tblock_sizze_89987;
            
            segmap_tblock_sizze_89987 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89978;
            
            int64_t segmap_usable_groups_89988 = sdiv_up64(dim_48135, segmap_tblock_sizze_89987);
            
            if (memblock_alloc_device(ctx, &mem_94126, binop_x_90867, "mem_94126")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98606 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_89987));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_89991(ctx, segmap_usable_groups_89988, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89978, 1, 1, (int64_t) 0, dim_48135, start_of_grid_partition_mem_90818.mem, mem_94111.mem, mem_94126.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_tblock_sizze_90007;
            
            segmap_tblock_sizze_90007 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89998;
            
            int64_t segmap_usable_groups_90008 = sdiv_up64(dim_48135, segmap_tblock_sizze_90007);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98615 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90007));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90011(ctx, segmap_usable_groups_90008, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89998, 1, 1, (int64_t) 0, dim_48135, grid_part_sizze_per_dim_mem_90816.mem, mem_94126.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (cond_67069) {
                if (memblock_alloc_device(ctx, &mem_94153, binop_x_90867, "mem_94153")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_94156, &mem_94153, "mem_94153") != 0)
                    return 1;
            } else {
                if (cond_67069) {
                    if (memblock_alloc_device(ctx, &mem_94138, binop_x_90867, "mem_94138")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_94141, &mem_94138, "mem_94138") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_94127, (int64_t) 8, "mem_94127")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98624(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_94126.mem, mem_94127.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_94129, binop_x_90867, "mem_94129")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_98630 = dim_48135;
                    int64_t tblock_sizze_98635;
                    
                    tblock_sizze_98635 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98635;
                    
                    int64_t virt_num_tblocks_98636 = sdiv_up64(replicate_n_98630, tblock_sizze_98635);
                    int64_t num_tblocks_98637 = smin64(virt_num_tblocks_98636, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_98631(ctx, num_tblocks_98637, 1, 1, tblock_sizze_98635, 1, 1, (int64_t) 0, dim_48135, replicate_n_98630, virt_num_tblocks_98636, num_tblocks_98637, mem_94127.mem, mem_94129.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_94127, "mem_94127") != 0)
                        return 1;
                    for (int64_t i_68941 = 0; i_68941 < arg_67058; i_68941++) {
                        int64_t index_primexp_68943 = add64((int64_t) 1, i_68941);
                        bool x_68944 = sle64((int64_t) 0, index_primexp_68943);
                        bool y_68945 = slt64(index_primexp_68943, dim_48135);
                        bool bounds_check_68946 = x_68944 && y_68945;
                        bool index_certs_68947;
                        
                        if (!bounds_check_68946) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_68943, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98651(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_68943, mem_94126.mem, mem_94129.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_set_device(ctx, &ext_mem_94141, &mem_94129, "mem_94129") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_94142, (int64_t) 8, "mem_94142")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98657(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_94141.mem, mem_94142.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_94144, binop_x_90867, "mem_94144")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_98663 = dim_48135;
                int64_t tblock_sizze_98668;
                
                tblock_sizze_98668 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98668;
                
                int64_t virt_num_tblocks_98669 = sdiv_up64(replicate_n_98663, tblock_sizze_98668);
                int64_t num_tblocks_98670 = smin64(virt_num_tblocks_98669, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_98664(ctx, num_tblocks_98670, 1, 1, tblock_sizze_98668, 1, 1, (int64_t) 0, dim_48135, replicate_n_98663, virt_num_tblocks_98669, num_tblocks_98670, mem_94142.mem, mem_94144.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_94142, "mem_94142") != 0)
                    return 1;
                for (int64_t i_68960 = 0; i_68960 < arg_67058; i_68960++) {
                    int64_t index_primexp_68962 = add64((int64_t) 1, i_68960);
                    bool x_68963 = sle64((int64_t) 0, index_primexp_68962);
                    bool y_68964 = slt64(index_primexp_68962, dim_48135);
                    bool bounds_check_68965 = x_68963 && y_68964;
                    bool index_certs_68966;
                    
                    if (!bounds_check_68965) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_68962, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98684(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_68962, ext_mem_94141.mem, mem_94144.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_94141, "ext_mem_94141") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_94156, &mem_94144, "mem_94144") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_94126, "mem_94126") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_94157, (int64_t) 8, "mem_94157")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98690(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, ext_mem_94156.mem, mem_94157.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_94159, binop_x_90867, "mem_94159")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_98696 = dim_48135;
            int64_t tblock_sizze_98701;
            
            tblock_sizze_98701 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98701;
            
            int64_t virt_num_tblocks_98702 = sdiv_up64(replicate_n_98696, tblock_sizze_98701);
            int64_t num_tblocks_98703 = smin64(virt_num_tblocks_98702, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98697(ctx, num_tblocks_98703, 1, 1, tblock_sizze_98701, 1, 1, (int64_t) 0, dim_48135, replicate_n_98696, virt_num_tblocks_98702, num_tblocks_98703, mem_94157.mem, mem_94159.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_94157, "mem_94157") != 0)
                return 1;
            for (int64_t i_68979 = 0; i_68979 < arg_67058; i_68979++) {
                int64_t index_primexp_68981 = add64((int64_t) 1, i_68979);
                bool x_68982 = sle64((int64_t) 0, index_primexp_68981);
                bool y_68983 = slt64(index_primexp_68981, dim_48135);
                bool bounds_check_68984 = x_68982 && y_68983;
                bool index_certs_68985;
                
                if (!bounds_check_68984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_68981, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_certs_69471;
                
                if (!bounds_check_68984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_68981, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98717(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_68981, grid_partitions_per_dim_mem_90817.mem, ext_mem_94156.mem, mem_94159.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
            if (memblock_unref_device(ctx, &ext_mem_94156, "ext_mem_94156") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94171, &mem_94159, "mem_94159") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_90027;
        
        segmap_tblock_sizze_90027 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90018;
        
        int64_t segmap_usable_groups_90028 = sdiv_up64(dim_48135, segmap_tblock_sizze_90027);
        
        if (memblock_alloc_device(ctx, &mem_94174, binop_x_90867, "mem_94174")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98723 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90027));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_90031(ctx, segmap_usable_groups_90028, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90018, 1, 1, (int64_t) 0, dim_48135, grid_part_prefix_sum_mem_90815.mem, ext_mem_94171.mem, mem_94174.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_94171, "ext_mem_94171") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94175, (int64_t) 8, "mem_94175")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_94175, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &mem_param_94178, &mem_94175, "mem_94175") != 0)
            return 1;
        for (int64_t i_68994 = 0; i_68994 < dim_48135; i_68994++) {
            if (memblock_alloc_device(ctx, &mem_94179, (int64_t) 8, "mem_94179")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98734(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_68994, mem_94174.mem, mem_param_94178.mem, mem_94179.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_98732, &mem_94179, "mem_94179") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_94178, &mem_param_tmp_98732, "mem_param_tmp_98732") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_94182, &mem_param_94178, "mem_param_94178") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94174, "mem_94174") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94240, bytes_94183, "mem_94240")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_94240, arg_67058, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t segmap_tblock_sizze_90066;
        
        segmap_tblock_sizze_90066 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90058;
        if (memblock_alloc_device(ctx, &mem_94185, (int64_t) 8, "mem_94185")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_94185, (int64_t) 1, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (cond_67071) {
            if (memblock_alloc_device(ctx, &mem_94195, bytes_90843, "mem_94195")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_94198, &mem_94195, "mem_94195") != 0)
                return 1;
        } else {
            bool index_certs_69060;
            
            if (!y_67082) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_69061;
            
            if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_69061, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_94187, bytes_90843, "mem_94187")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_94187, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, defunc_0_f_res_69061) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_69065 = 0; i_69065 < distance_67090; i_69065++) {
                int64_t index_primexp_69067 = add64((int64_t) 1, i_69065);
                bool x_69068 = sle64((int64_t) 0, index_primexp_69067);
                bool y_69069 = slt64(index_primexp_69067, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137);
                bool bounds_check_69070 = x_69068 && y_69069;
                bool index_certs_69071;
                
                if (!bounds_check_69070) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69067, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_69072;
                
                if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_69072, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, index_primexp_69067) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99392 = defunc_0_f_res_69072;
                
                if ((err = gpu_scalar_to_device(ctx, mem_94187.mem, index_primexp_69067 * sizeof(double), sizeof(double), &write_tmp_99392)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_94198, &mem_94187, "mem_94187") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_90087;
        
        segmap_tblock_sizze_90087 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90076;
        
        int64_t segmap_usable_groups_90088 = sdiv_up64(arg_67058, segmap_tblock_sizze_90087);
        bool protect_cond_conj_69107 = x_67081 && loop_nonempty_69093;
        double defunc_0_f_res_69108;
        
        if (protect_cond_conj_69107) {
            double x_73129;
            
            if (futrts_lifted_lambda_10057(ctx, &x_73129, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            defunc_0_f_res_69108 = x_73129;
        } else {
            defunc_0_f_res_69108 = 0.0;
        }
        
        bool protect_cond_conj_69533 = loop_nonempty_69093 && x_69549;
        
        if (protect_cond_conj_69533) {
            if (memblock_alloc_device(ctx, &mem_94199, (int64_t) 8, "mem_94199")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98741(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_90817.mem, mem_94199.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_94200, &mem_94199, "mem_94199") != 0)
                return 1;
        } else if (memblock_set_device(ctx, &ext_mem_94200, &mem_94175, "mem_94175") != 0)
            return 1;
        
        int64_t segmap_tblock_sizze_90109;
        
        segmap_tblock_sizze_90109 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90100;
        
        int64_t segmap_tblock_sizze_90129;
        
        segmap_tblock_sizze_90129 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90120;
        
        int64_t segmap_tblock_sizze_90149;
        
        segmap_tblock_sizze_90149 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90140;
        
        int64_t segmap_usable_groups_90150 = sdiv_up_safe64(dim_48135, segmap_tblock_sizze_90149);
        int64_t segmap_tblock_sizze_90169;
        
        segmap_tblock_sizze_90169 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90160;
        
        int64_t segmap_tblock_sizze_90188;
        
        segmap_tblock_sizze_90188 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90180;
        
        int64_t segmap_tblock_sizze_90209;
        
        segmap_tblock_sizze_90209 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90198;
        
        int64_t segmap_usable_groups_90210 = sdiv_up_safe64(arg_67058, segmap_tblock_sizze_90209);
        int64_t segmap_usable_groups_90110 = sdiv_up_safe64(dim_48135, segmap_tblock_sizze_90109);
        int64_t segmap_usable_groups_90130 = sdiv_up_safe64(dim_48135, segmap_tblock_sizze_90129);
        int64_t segmap_usable_groups_90170 = sdiv_up_safe64(dim_48135, segmap_tblock_sizze_90169);
        
        if (memblock_alloc_device(ctx, &mem_94201, (int64_t) 0, "mem_94201")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94202, (int64_t) 8, "mem_94202")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94203, (int64_t) 8, "mem_94203")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98747(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_48136, total_angle_no_48145, ext_mem_94182.mem, ext_mem_94200.mem, mem_94201.mem, mem_94202.mem, mem_94203.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (memblock_unref_device(ctx, &ext_mem_94200, "ext_mem_94200") != 0)
            return 1;
        if (cond_67069) {
            if (memblock_alloc_device(ctx, &mem_94217, binop_x_90867, "mem_94217")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_94220, &mem_94217, "mem_94217") != 0)
                return 1;
        } else {
            bool index_certs_69010;
            
            if (!y_67095) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_69001 = 0;
            int64_t segmap_tblock_sizze_90047;
            
            segmap_tblock_sizze_90047 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90038;
            
            int64_t segmap_usable_groups_90048 = sdiv_up64(dim_48135, segmap_tblock_sizze_90047);
            
            if (memblock_alloc_device(ctx, &mem_94206, binop_x_90867, "mem_94206")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98753 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90047));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90051(ctx, segmap_usable_groups_90048, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90038, 1, 1, (int64_t) 0, dim_48135, start_of_grid_partition_mem_90818.mem, mem_94111.mem, ext_mem_94182.mem, mem_94206.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_94207, (int64_t) 8, "mem_94207")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98762(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_94206.mem, mem_94207.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_94209, binop_x_90867, "mem_94209")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_98768 = dim_48135;
            int64_t tblock_sizze_98773;
            
            tblock_sizze_98773 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98773;
            
            int64_t virt_num_tblocks_98774 = sdiv_up64(replicate_n_98768, tblock_sizze_98773);
            int64_t num_tblocks_98775 = smin64(virt_num_tblocks_98774, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98769(ctx, num_tblocks_98775, 1, 1, tblock_sizze_98773, 1, 1, (int64_t) 0, dim_48135, replicate_n_98768, virt_num_tblocks_98774, num_tblocks_98775, mem_94207.mem, mem_94209.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_94207, "mem_94207") != 0)
                return 1;
            for (int64_t i_69015 = 0; i_69015 < arg_67058; i_69015++) {
                int64_t index_primexp_69017 = add64((int64_t) 1, i_69015);
                bool x_69018 = sle64((int64_t) 0, index_primexp_69017);
                bool y_69019 = slt64(index_primexp_69017, dim_48135);
                bool bounds_check_69020 = x_69018 && y_69019;
                bool index_certs_69021;
                
                if (!bounds_check_69020) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69017, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_94209.mem, index_primexp_69017, (int64_t []) {(int64_t) 1}, mem_94206.mem, index_primexp_69017, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_94206, "mem_94206") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94220, &mem_94209, "mem_94209") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_94182, "ext_mem_94182") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94201, "mem_94201") != 0)
            return 1;
        for (int64_t i_69026 = 0; i_69026 < arg_67058; i_69026++) {
            bool y_69028 = slt64(i_69026, dim_48135);
            bool index_certs_69029;
            
            if (!y_69028) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_69026, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_69031 = add64((int64_t) 1, i_69026);
            int64_t j_m_i_69032 = sub64(dim_48135, map_arg1_69031);
            bool empty_slice_69033 = j_m_i_69032 == (int64_t) 0;
            int64_t m_69034 = sub64(j_m_i_69032, (int64_t) 1);
            int64_t i_p_m_t_s_69035 = add64(map_arg1_69031, m_69034);
            bool zzero_leq_i_p_m_t_s_69036 = sle64((int64_t) 0, i_p_m_t_s_69035);
            bool i_p_m_t_s_leq_w_69037 = slt64(i_p_m_t_s_69035, dim_48135);
            bool zzero_lte_i_69038 = sle64((int64_t) 0, map_arg1_69031);
            bool i_lte_j_69039 = sle64(map_arg1_69031, dim_48135);
            bool y_69040 = i_p_m_t_s_leq_w_69037 && zzero_lte_i_69038;
            bool y_69041 = zzero_leq_i_p_m_t_s_69036 && y_69040;
            bool forwards_ok_69042 = i_lte_j_69039 && y_69041;
            bool ok_or_empty_69043 = empty_slice_69033 || forwards_ok_69042;
            bool index_certs_69044;
            
            if (!ok_or_empty_69043) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_69031, ":", (long long) dim_48135, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_94225 = (int64_t) 8 * j_m_i_69032;
            int64_t segmap_usable_groups_90067 = sdiv_up64(j_m_i_69032, segmap_tblock_sizze_90066);
            
            if (memblock_alloc_device(ctx, &mem_94226, bytes_94225, "mem_94226")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98790 = sext_i64_i32(sdiv_up64(j_m_i_69032, segmap_tblock_sizze_90066));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90070(ctx, segmap_usable_groups_90067, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90058, 1, 1, (int64_t) 0, map_arg1_69031, j_m_i_69032, ext_mem_94220.mem, mem_94226.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &mem_param_94229, &mem_94185, "mem_94185") != 0)
                return 1;
            for (int64_t i_69050 = 0; i_69050 < j_m_i_69032; i_69050++) {
                if (memblock_alloc_device(ctx, &mem_94230, (int64_t) 8, "mem_94230")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98801(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69050, mem_94226.mem, mem_param_94229.mem, mem_94230.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_98799, &mem_94230, "mem_94230") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_94229, &mem_param_tmp_98799, "mem_param_tmp_98799") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_94233, &mem_param_94229, "mem_param_94229") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_94226, "mem_94226") != 0)
                return 1;
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98807(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69026, ext_mem_94220.mem, ext_mem_94233.mem, mem_94240.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_94233, "ext_mem_94233") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_94220, "ext_mem_94220") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98813 = sext_i64_i32(sdiv_up64(arg_67058, segmap_tblock_sizze_90087));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_90091(ctx, segmap_usable_groups_90088, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90076, 1, 1, (int64_t) 0, arg_67058, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, ext_mem_94198.mem, mem_94240.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_94198, "ext_mem_94198") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_94243, &mem_94175, "mem_94175") != 0)
            return 1;
        for (int64_t i_69083 = 0; i_69083 < arg_67058; i_69083++) {
            if (memblock_alloc_device(ctx, &mem_94244, (int64_t) 8, "mem_94244")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98824(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69083, mem_94240.mem, mem_param_94243.mem, mem_94244.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_98822, &mem_94244, "mem_94244") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_94243, &mem_param_tmp_98822, "mem_param_tmp_98822") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_94247, &mem_param_94243, "mem_param_94243") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94240, "mem_94240") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94248, (int64_t) 8, "mem_94248")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98830(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_94202.mem, ext_mem_94247.mem, mem_94248.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_94202, "mem_94202") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94247, "ext_mem_94247") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94250, binop_x_94109, "mem_94250")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_98836 = m_68889;
        int64_t tblock_sizze_98841;
        
        tblock_sizze_98841 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98841;
        
        int64_t virt_num_tblocks_98842 = sdiv_up64(replicate_n_98836, tblock_sizze_98841);
        int64_t num_tblocks_98843 = smin64(virt_num_tblocks_98842, (int64_t) 1048576);
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezireplicate_98837(ctx, num_tblocks_98843, 1, 1, tblock_sizze_98841, 1, 1, (int64_t) 0, m_68889, replicate_n_98836, virt_num_tblocks_98842, num_tblocks_98843, mem_94248.mem, mem_94250.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_94248, "mem_94248") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94307, binop_x_90867, "mem_94307")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94316, bytes_94183, "mem_94316")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94330, (int64_t) 0, "mem_94330")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94331, (int64_t) 8, "mem_94331")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94368, bytes_94183, "mem_94368")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_69113 = 0; i_69113 < m_68899; i_69113++) {
            int64_t index_primexp_69115 = add64((int64_t) 1, i_69113);
            bool x_69116 = sle64((int64_t) 0, index_primexp_69115);
            bool y_69117 = slt64(index_primexp_69115, m_68889);
            bool bounds_check_69118 = x_69116 && y_69117;
            bool index_certs_69119;
            
            if (!bounds_check_69118) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69115, "] out of bounds for array of shape [", (long long) m_68889, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:733:17-40\n   #3  ftSkyline.fut:723:1-733:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (cond_67069) {
                if (memblock_alloc_device(ctx, &mem_94301, binop_x_90867, "mem_94301")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_94304, &mem_94301, "mem_94301") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_94259, binop_x_90867, "mem_94259")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_98857 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90109));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_90113(ctx, segmap_usable_groups_90110, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90100, 1, 1, (int64_t) 0, dim_48135, index_primexp_69115, start_of_grid_partition_mem_90818.mem, mem_94111.mem, mem_94259.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_98866 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90129));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_90133(ctx, segmap_usable_groups_90130, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90120, 1, 1, (int64_t) 0, dim_48135, grid_part_sizze_per_dim_mem_90816.mem, mem_94259.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (cond_67069) {
                    if (memblock_alloc_device(ctx, &mem_94286, binop_x_90867, "mem_94286")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_94289, &mem_94286, "mem_94286") != 0)
                        return 1;
                } else {
                    if (cond_67069) {
                        if (memblock_alloc_device(ctx, &mem_94271, binop_x_90867, "mem_94271")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_94274, &mem_94271, "mem_94271") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_94260, (int64_t) 8, "mem_94260")) {
                            err = 1;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98875(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_94259.mem, mem_94260.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_94262, binop_x_90867, "mem_94262")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_98881 = dim_48135;
                        int64_t tblock_sizze_98886;
                        
                        tblock_sizze_98886 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98886;
                        
                        int64_t virt_num_tblocks_98887 = sdiv_up64(replicate_n_98881, tblock_sizze_98886);
                        int64_t num_tblocks_98888 = smin64(virt_num_tblocks_98887, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_98882(ctx, num_tblocks_98888, 1, 1, tblock_sizze_98886, 1, 1, (int64_t) 0, dim_48135, replicate_n_98881, virt_num_tblocks_98887, num_tblocks_98888, mem_94260.mem, mem_94262.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_94260, "mem_94260") != 0)
                            return 1;
                        for (int64_t i_69139 = 0; i_69139 < arg_67058; i_69139++) {
                            int64_t index_primexp_69141 = add64((int64_t) 1, i_69139);
                            bool x_69142 = sle64((int64_t) 0, index_primexp_69141);
                            bool y_69143 = slt64(index_primexp_69141, dim_48135);
                            bool bounds_check_69144 = x_69142 && y_69143;
                            bool index_certs_69145;
                            
                            if (!bounds_check_69144) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69141, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98902(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_69141, mem_94259.mem, mem_94262.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                        }
                        if (memblock_set_device(ctx, &ext_mem_94274, &mem_94262, "mem_94262") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_94275, (int64_t) 8, "mem_94275")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98908(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_94274.mem, mem_94275.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_94277, binop_x_90867, "mem_94277")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_98914 = dim_48135;
                    int64_t tblock_sizze_98919;
                    
                    tblock_sizze_98919 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98919;
                    
                    int64_t virt_num_tblocks_98920 = sdiv_up64(replicate_n_98914, tblock_sizze_98919);
                    int64_t num_tblocks_98921 = smin64(virt_num_tblocks_98920, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_98915(ctx, num_tblocks_98921, 1, 1, tblock_sizze_98919, 1, 1, (int64_t) 0, dim_48135, replicate_n_98914, virt_num_tblocks_98920, num_tblocks_98921, mem_94275.mem, mem_94277.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_94275, "mem_94275") != 0)
                        return 1;
                    for (int64_t i_69155 = 0; i_69155 < arg_67058; i_69155++) {
                        int64_t index_primexp_69157 = add64((int64_t) 1, i_69155);
                        bool x_69158 = sle64((int64_t) 0, index_primexp_69157);
                        bool y_69159 = slt64(index_primexp_69157, dim_48135);
                        bool bounds_check_69160 = x_69158 && y_69159;
                        bool index_certs_69161;
                        
                        if (!bounds_check_69160) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69157, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98935(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_69157, ext_mem_94274.mem, mem_94277.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_unref_device(ctx, &ext_mem_94274, "ext_mem_94274") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94289, &mem_94277, "mem_94277") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_94259, "mem_94259") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_94290, (int64_t) 8, "mem_94290")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98941(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_94203.mem, ext_mem_94289.mem, mem_94290.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_94292, binop_x_90867, "mem_94292")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_98947 = dim_48135;
                int64_t tblock_sizze_98952;
                
                tblock_sizze_98952 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98952;
                
                int64_t virt_num_tblocks_98953 = sdiv_up64(replicate_n_98947, tblock_sizze_98952);
                int64_t num_tblocks_98954 = smin64(virt_num_tblocks_98953, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_98948(ctx, num_tblocks_98954, 1, 1, tblock_sizze_98952, 1, 1, (int64_t) 0, dim_48135, replicate_n_98947, virt_num_tblocks_98953, num_tblocks_98954, mem_94290.mem, mem_94292.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_94290, "mem_94290") != 0)
                    return 1;
                for (int64_t i_69171 = 0; i_69171 < arg_67058; i_69171++) {
                    int64_t index_primexp_69173 = add64((int64_t) 1, i_69171);
                    bool x_69174 = sle64((int64_t) 0, index_primexp_69173);
                    bool y_69175 = slt64(index_primexp_69173, dim_48135);
                    bool bounds_check_69176 = x_69174 && y_69175;
                    bool index_certs_69177;
                    
                    if (!bounds_check_69176) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69173, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_certs_69493;
                    
                    if (!bounds_check_69176) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69173, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:733:17-40\n   #2  ftSkyline.fut:723:1-733:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98968(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_69173, grid_partitions_per_dim_mem_90817.mem, ext_mem_94289.mem, mem_94292.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_94289, "ext_mem_94289") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_94304, &mem_94292, "mem_94292") != 0)
                    return 1;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98974 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90149));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90153(ctx, segmap_usable_groups_90150, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90140, 1, 1, (int64_t) 0, dim_48135, grid_part_prefix_sum_mem_90815.mem, ext_mem_94304.mem, mem_94307.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_94304, "ext_mem_94304") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_94310, &mem_94175, "mem_94175") != 0)
                return 1;
            for (int64_t i_69186 = 0; i_69186 < dim_48135; i_69186++) {
                if (memblock_alloc_device(ctx, &mem_94311, (int64_t) 8, "mem_94311")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98985(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69186, mem_94307.mem, mem_param_94310.mem, mem_94311.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_98983, &mem_94311, "mem_94311") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_94310, &mem_param_tmp_98983, "mem_param_tmp_98983") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_94314, &mem_param_94310, "mem_param_94310") != 0)
                return 1;
            if (futrts_builtinzhreplicate_f64(ctx, mem_94316, arg_67058, 0.0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (cond_67071) {
                if (memblock_alloc_device(ctx, &mem_94326, bytes_90843, "mem_94326")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_94329, &mem_94326, "mem_94326") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_94318, bytes_90843, "mem_94318")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_94318, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, defunc_0_f_res_69108) != 0) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_69250 = 0; i_69250 < distance_67090; i_69250++) {
                    int64_t index_primexp_69252 = add64((int64_t) 1, i_69250);
                    bool x_69253 = sle64((int64_t) 0, index_primexp_69252);
                    bool y_69254 = slt64(index_primexp_69252, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137);
                    bool bounds_check_69255 = x_69253 && y_69254;
                    bool index_certs_69256;
                    
                    if (!bounds_check_69255) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69252, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:335:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:733:17-40\n   #6  ftSkyline.fut:723:1-733:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double defunc_0_f_res_69257;
                    
                    if (futrts_lifted_lambda_10057(ctx, &defunc_0_f_res_69257, angle_partitions_per_dim_mem_90814, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, dim_48135, index_primexp_69252) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    double write_tmp_99393 = defunc_0_f_res_69257;
                    
                    if ((err = gpu_scalar_to_device(ctx, mem_94318.mem, index_primexp_69252 * sizeof(double), sizeof(double), &write_tmp_99393)) != 0)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_94329, &mem_94318, "mem_94318") != 0)
                    return 1;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_98992(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_48136, total_angle_no_48145, ext_mem_94314.mem, mem_94330.mem, mem_94331.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (cond_67069) {
                if (memblock_alloc_device(ctx, &mem_94345, binop_x_90867, "mem_94345")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_94348, &mem_94345, "mem_94345") != 0)
                    return 1;
            } else {
                bool index_certs_69193 = 0;
                
                if (memblock_alloc_device(ctx, &mem_94334, binop_x_90867, "mem_94334")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_98998 = sext_i64_i32(sdiv_up64(dim_48135, segmap_tblock_sizze_90169));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_90173(ctx, segmap_usable_groups_90170, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90160, 1, 1, (int64_t) 0, dim_48135, index_primexp_69115, start_of_grid_partition_mem_90818.mem, mem_94111.mem, ext_mem_94314.mem, mem_94334.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_94335, (int64_t) 8, "mem_94335")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_99007(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_94334.mem, mem_94335.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_94337, binop_x_90867, "mem_94337")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_99013 = dim_48135;
                int64_t tblock_sizze_99018;
                
                tblock_sizze_99018 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_99018;
                
                int64_t virt_num_tblocks_99019 = sdiv_up64(replicate_n_99013, tblock_sizze_99018);
                int64_t num_tblocks_99020 = smin64(virt_num_tblocks_99019, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_99014(ctx, num_tblocks_99020, 1, 1, tblock_sizze_99018, 1, 1, (int64_t) 0, dim_48135, replicate_n_99013, virt_num_tblocks_99019, num_tblocks_99020, mem_94335.mem, mem_94337.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_94335, "mem_94335") != 0)
                    return 1;
                for (int64_t i_69204 = 0; i_69204 < arg_67058; i_69204++) {
                    int64_t index_primexp_69206 = add64((int64_t) 1, i_69204);
                    bool x_69207 = sle64((int64_t) 0, index_primexp_69206);
                    bool y_69208 = slt64(index_primexp_69206, dim_48135);
                    bool bounds_check_69209 = x_69207 && y_69208;
                    bool index_certs_69210;
                    
                    if (!bounds_check_69209) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69206, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_94337.mem, index_primexp_69206, (int64_t []) {(int64_t) 1}, mem_94334.mem, index_primexp_69206, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_94334, "mem_94334") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_94348, &mem_94337, "mem_94337") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_94314, "ext_mem_94314") != 0)
                return 1;
            for (int64_t i_69215 = 0; i_69215 < arg_67058; i_69215++) {
                bool y_69217 = slt64(i_69215, dim_48135);
                bool index_certs_69218;
                
                if (!y_69217) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_69215, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t map_arg1_69220 = add64((int64_t) 1, i_69215);
                int64_t j_m_i_69221 = sub64(dim_48135, map_arg1_69220);
                bool empty_slice_69222 = j_m_i_69221 == (int64_t) 0;
                int64_t m_69223 = sub64(j_m_i_69221, (int64_t) 1);
                int64_t i_p_m_t_s_69224 = add64(map_arg1_69220, m_69223);
                bool zzero_leq_i_p_m_t_s_69225 = sle64((int64_t) 0, i_p_m_t_s_69224);
                bool i_p_m_t_s_leq_w_69226 = slt64(i_p_m_t_s_69224, dim_48135);
                bool zzero_lte_i_69227 = sle64((int64_t) 0, map_arg1_69220);
                bool i_lte_j_69228 = sle64(map_arg1_69220, dim_48135);
                bool y_69229 = i_p_m_t_s_leq_w_69226 && zzero_lte_i_69227;
                bool y_69230 = zzero_leq_i_p_m_t_s_69225 && y_69229;
                bool forwards_ok_69231 = i_lte_j_69228 && y_69230;
                bool ok_or_empty_69232 = empty_slice_69222 || forwards_ok_69231;
                bool index_certs_69233;
                
                if (!ok_or_empty_69232) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_69220, ":", (long long) dim_48135, "] out of bounds for array of shape [", (long long) dim_48135, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:335:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:733:17-40\n   #5  ftSkyline.fut:723:1-733:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_94353 = (int64_t) 8 * j_m_i_69221;
                int64_t segmap_usable_groups_90189 = sdiv_up64(j_m_i_69221, segmap_tblock_sizze_90188);
                
                if (memblock_alloc_device(ctx, &mem_94354, bytes_94353, "mem_94354")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_99035 = sext_i64_i32(sdiv_up64(j_m_i_69221, segmap_tblock_sizze_90188));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_90192(ctx, segmap_usable_groups_90189, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90180, 1, 1, (int64_t) 0, map_arg1_69220, j_m_i_69221, ext_mem_94348.mem, mem_94354.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &mem_param_94357, &mem_94185, "mem_94185") != 0)
                    return 1;
                for (int64_t i_69239 = 0; i_69239 < j_m_i_69221; i_69239++) {
                    if (memblock_alloc_device(ctx, &mem_94358, (int64_t) 8, "mem_94358")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_99046(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69239, mem_94354.mem, mem_param_94357.mem, mem_94358.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_set_device(ctx, &mem_param_tmp_99044, &mem_94358, "mem_94358") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &mem_param_94357, &mem_param_tmp_99044, "mem_param_tmp_99044") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_94361, &mem_param_94357, "mem_param_94357") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_94354, "mem_94354") != 0)
                    return 1;
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_99052(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69215, mem_94316.mem, ext_mem_94348.mem, ext_mem_94361.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &ext_mem_94361, "ext_mem_94361") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_94348, "ext_mem_94348") != 0)
                return 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_99058 = sext_i64_i32(sdiv_up64(arg_67058, segmap_tblock_sizze_90209));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90213(ctx, segmap_usable_groups_90210, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90198, 1, 1, (int64_t) 0, arg_67058, angle_part_prefix_sum_mem_90813.mem, angle_partitions_per_dim_mem_90814.mem, mem_94316.mem, ext_mem_94329.mem, mem_94368.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_94329, "ext_mem_94329") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_94371, &mem_94175, "mem_94175") != 0)
                return 1;
            for (int64_t i_69267 = 0; i_69267 < arg_67058; i_69267++) {
                if (memblock_alloc_device(ctx, &mem_94372, (int64_t) 8, "mem_94372")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_99069(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_69267, mem_94368.mem, mem_param_94371.mem, mem_94372.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_99067, &mem_94372, "mem_94372") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_94371, &mem_param_tmp_99067, "mem_param_tmp_99067") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_94375, &mem_param_94371, "mem_param_94371") != 0)
                return 1;
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_99075(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_69115, mem_94250.mem, mem_94331.mem, ext_mem_94375.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_94375, "ext_mem_94375") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_94175, "mem_94175") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94185, "mem_94185") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94203, "mem_94203") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94307, "mem_94307") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94316, "mem_94316") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94330, "mem_94330") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94331, "mem_94331") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94368, "mem_94368") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94384, &mem_94250, "mem_94250") != 0)
            return 1;
    }
    
    int64_t num_tblocks_90223;
    int64_t max_num_tblocks_99081;
    
    max_num_tblocks_99081 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_90222;
    num_tblocks_90223 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_68889, seghist_tblock_sizze_90221), max_num_tblocks_99081)));
    
    int64_t num_subhistos_99082;
    int64_t h_99085 = (int64_t) 8 * total_part_no_48147;
    int64_t seg_h_99086 = (int64_t) 8 * total_part_no_48147;
    
    if (!(seg_h_99086 == (int64_t) 0)) {
        int64_t hist_H_99087 = total_part_no_48147;
        int64_t hist_el_sizze_99088 = sdiv_up64(h_99085, hist_H_99087);
        int64_t hist_N_99089 = m_68889;
        int32_t hist_RF_99090 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_90223 * seghist_tblock_sizze_90221), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_90221, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_99087, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_99089, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_99088, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_99090, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_99085, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_99086, '\n');
        
        int64_t hist_L_99091;
        
        hist_L_99091 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L_99091;
        
        int64_t max_tblock_sizze_99092;
        
        max_tblock_sizze_99092 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_99093 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_90223 * seghist_tblock_sizze_90221)), max_tblock_sizze_99092);
        double hist_m_prime_99094 = sitofp_i64_f64(smin64(squot64(hist_L_99091, hist_el_sizze_99088), sdiv_up64(hist_N_99089, num_tblocks_99093))) / sitofp_i64_f64(hist_H_99087);
        int64_t hist_M0_99095 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_99094), max_tblock_sizze_99092));
        int64_t hist_Nout_99096 = (int64_t) 1;
        int64_t hist_Nin_99097 = m_68889;
        int64_t work_asymp_M_max_99098 = squot64(hist_Nout_99096 * hist_N_99089, (int64_t) 2 * num_tblocks_99093 * hist_H_99087);
        int32_t hist_M_99099 = sext_i64_i32(smin64(hist_M0_99095, work_asymp_M_max_99098));
        int64_t hist_C_99100 = sdiv_up64(max_tblock_sizze_99092, sext_i32_i64(smax32(1, hist_M_99099)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_99095, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_99098, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_99100, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_99092, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_99099, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_99087 * hist_el_sizze_99088 * sext_i32_i64(hist_M_99099)), '\n');
        
        int64_t local_mem_needed_99101 = hist_el_sizze_99088 * sext_i32_i64(hist_M_99099);
        int32_t hist_S_99102 = sext_i64_i32(sdiv_up64(hist_H_99087 * local_mem_needed_99101 + (int64_t) 1, hist_L_99091));
        
        if (sle64(hist_H_99087, hist_Nin_99097) && (sle64(local_mem_needed_99101, hist_L_99091) && (sle32(hist_S_99102, 3) && (sle64(hist_C_99100, max_tblock_sizze_99092) && slt32(0, hist_M_99099))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_99087, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_99099, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_99100, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_99102, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_99099, '\n');
            num_subhistos_99082 = num_tblocks_99093;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_99082, '\n');
            if (num_subhistos_99082 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_99083, &mem_90838, "mem_90838") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_99083, num_subhistos_99082 * total_part_no_48147 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_99083")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_99083, num_subhistos_99082 * total_part_no_48147, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_99083.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_90838.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_48147})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_99103 = 0; chk_i_99103 < hist_S_99102; chk_i_99103++) {
                int64_t num_segments_99104 = (int64_t) 1;
                int64_t hist_H_chk_99105 = sdiv_up64(total_part_no_48147, sext_i32_i64(hist_S_99102));
                int64_t histo_sizze_99106 = hist_H_chk_99105;
                int32_t init_per_thread_99107 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_99099) * histo_sizze_99106, max_tblock_sizze_99092));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_local_90228(ctx, num_tblocks_99093, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_99099 * hist_H_chk_99105) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_99099 * hist_H_chk_99105), (int64_t) 8), (int64_t) 8), total_part_no_48147, m_68889, num_subhistos_99082, num_tblocks_99093, hist_M_99099, chk_i_99103, num_segments_99104, hist_H_chk_99105, histo_sizze_99106, init_per_thread_99107, ext_mem_94384.mem, defunc_0_map_res_subhistos_mem_99083.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_99139 = total_part_no_48147;
            double hist_RF_99140 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_99141 = 8;
            double hist_C_max_99142 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_90223 * seghist_tblock_sizze_90221)), sitofp_i32_f64(hist_H_99139) / 2.0);
            int32_t hist_M_min_99143 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_90223 * seghist_tblock_sizze_90221)) / hist_C_max_99142)));
            int64_t hist_L2_99144;
            
            hist_L2_99144 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L2_99144;
            
            double hist_RACE_exp_99145 = fmax64(1.0, 0.75 * hist_RF_99140 / (64.0 / sitofp_i32_f64(hist_el_sizze_99141)));
            int32_t hist_S_99146;
            
            if (slt64(m_68889, hist_H_99139)) {
                hist_S_99146 = 1;
            } else {
                hist_S_99146 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_99143) * hist_H_99139 * sext_i32_i64(hist_el_sizze_99141), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_99144) * hist_RACE_exp_99145)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_99145, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_99146, '\n');
            
            int64_t hist_H_chk_99147 = sdiv_up64(total_part_no_48147, sext_i32_i64(hist_S_99146));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_99147, '\n');
            
            double hist_k_max_99148 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_99144) / sitofp_i32_f64(8)) * hist_RACE_exp_99145, sitofp_i32_f64(m_68889)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_90223 * seghist_tblock_sizze_90221));
            int64_t hist_u_99149 = (int64_t) 2;
            double hist_C_99150 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_90223 * seghist_tblock_sizze_90221)), sitofp_i32_f64(hist_u_99149 * hist_H_chk_99147) / hist_k_max_99148);
            int32_t hist_M_99151 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_99148, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_99151, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_99150, '\n');
            num_subhistos_99082 = sext_i32_i64(hist_M_99151);
            if (hist_M_99151 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_99083, &mem_90838, "mem_90838") != 0)
                    return 1;
            } else if (num_subhistos_99082 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_99083, &mem_90838, "mem_90838") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_99083, num_subhistos_99082 * total_part_no_48147 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_99083")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_99083, num_subhistos_99082 * total_part_no_48147, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_99083.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_90838.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_48147})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_99152 = 0; chk_i_99152 < hist_S_99146; chk_i_99152++) {
                int64_t hist_H_chk_99153 = sdiv_up64(total_part_no_48147, sext_i32_i64(hist_S_99146));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_global_90228(ctx, num_tblocks_90223, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220, 1, 1, (int64_t) 0, total_part_no_48147, m_68889, num_tblocks_90223, num_subhistos_99082, chk_i_99152, hist_H_chk_99153, ext_mem_94384.mem, defunc_0_map_res_subhistos_mem_99083.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
        if (num_subhistos_99082 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_90838, &defunc_0_map_res_subhistos_mem_99083, "defunc_0_map_res_subhistos_mem_99083") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_99169 = (int64_t) 1;
            
            if (slt64(num_subhistos_99082 * (int64_t) 2, seghist_tblock_sizze_90221 * chunk_sizze_99169)) {
                int64_t segment_sizze_nonzzero_99170 = smax64((int64_t) 1, num_subhistos_99082);
                int64_t num_threads_99171 = seghist_tblock_sizze_90221 * seghist_tblock_sizze_90221;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_48147, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_99082, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_48147, squot64(seghist_tblock_sizze_90221, segment_sizze_nonzzero_99170))), '\n');
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_small_99168(ctx, num_tblocks_90223, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220, 1, 1, (int64_t) 8 * seghist_tblock_sizze_90221 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_90221, (int64_t) 8), (int64_t) 8), total_part_no_48147, num_tblocks_90223, num_subhistos_99082, segment_sizze_nonzzero_99170, mem_90838.mem, defunc_0_map_res_subhistos_mem_99083.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_99199 = sdiv_up64(num_tblocks_90223, smax64((int64_t) 1, total_part_no_48147));
                int64_t q_99200 = sdiv_up64(num_subhistos_99082, seghist_tblock_sizze_90221 * blocks_per_segment_99199 * chunk_sizze_99169);
                int64_t num_virtblocks_99201 = blocks_per_segment_99199 * total_part_no_48147;
                int64_t threads_per_segment_99202 = blocks_per_segment_99199 * seghist_tblock_sizze_90221;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_48147, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_99082, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_99201, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_90223, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_90221, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_99200, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_99199, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_99203, (int64_t) 8 * num_virtblocks_99201, "segred_tmp_mem_99203")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_large_99168(ctx, num_tblocks_90223, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_90220, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_90221 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_90221, (int64_t) 8), (int64_t) 8)), total_part_no_48147, num_tblocks_90223, num_subhistos_99082, blocks_per_segment_99199, q_99200, num_virtblocks_99201, threads_per_segment_99202, mem_90838.mem, defunc_0_map_res_subhistos_mem_99083.mem, segred_tmp_mem_99203.mem, counters_mem_99205.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_94384, "ext_mem_94384") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94388, bytes_90837, "mem_94388")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_48147)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_99242;
        
        shared_memory_99242 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_99243;
        
        thread_block_sizze_99243 = ctx->max_thread_block_size;
        
        int64_t registers_99244;
        
        registers_99244 = ctx->max_registers;
        
        int64_t thread_block_sizze_99245;
        
        thread_block_sizze_99245 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_99246 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_99242, thread_block_sizze_99243), (int64_t) 8), squot64(squot64(registers_99244, thread_block_sizze_99245) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_99247 = sdiv_up64(total_part_no_48147, segscan_tblock_sizze_90236 * chunk_sizze_99246);
        int64_t num_virt_threads_99248 = num_virt_blocks_99247 * segscan_tblock_sizze_90236;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_99246, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_99249, num_virt_blocks_99247, "status_flags_mem_99249")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_99249, num_virt_blocks_99247, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_99251, (int64_t) 8 * num_virt_blocks_99247, "aggregates_mem_99251")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_99253, (int64_t) 8 * num_virt_blocks_99247, "incprefixes_mem_99253")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegscan_90241(ctx, num_tblocks_90238, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90235, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_90236), chunk_sizze_99246 * segscan_tblock_sizze_90236 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_90236), chunk_sizze_99246 * segscan_tblock_sizze_90236 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_48147, num_tblocks_90238, num_virt_blocks_99247, num_virt_threads_99248, mem_90838.mem, mem_94388.mem, status_flags_mem_99249.mem, aggregates_mem_99251.mem, incprefixes_mem_99253.mem, global_dynid_mem_99255.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_90838, "mem_90838") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94391, bytes_90837, "mem_94391")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_99344 = sext_i64_i32(sdiv_up64(total_part_no_48147, segmap_tblock_sizze_90257));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90261(ctx, segmap_usable_groups_90258, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_90245, 1, 1, (int64_t) 0, total_part_no_48147, mem_94388.mem, mem_94391.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_94388, "mem_94388") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95757, &mem_90833, "mem_90833") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95758, &mem_94391, "mem_94391") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95759, &mem_94111, "mem_94111") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_95760, &mem_94113, "mem_94113") != 0)
        return 1;
    prim_out_95761 = total_grid_no_48146;
    prim_out_95762 = total_part_no_48147;
    prim_out_95763 = m_68889;
    if (memblock_set_device(ctx, &*mem_out_p_99376, &mem_out_95757, "mem_out_95757") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99377, &mem_out_95758, "mem_out_95758") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99378, &mem_out_95759, "mem_out_95759") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99379, &mem_out_95760, "mem_out_95760") != 0)
        return 1;
    *out_prim_out_99380 = prim_out_95761;
    *out_prim_out_99381 = prim_out_95762;
    *out_prim_out_99382 = prim_out_95763;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_94391, "mem_94391") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_99253, "incprefixes_mem_99253") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_99251, "aggregates_mem_99251") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_99249, "status_flags_mem_99249") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94388, "mem_94388") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_99203, "segred_tmp_mem_99203") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_99083, "defunc_0_map_res_subhistos_mem_99083") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_99067, "mem_param_tmp_99067") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94372, "mem_94372") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94371, "mem_param_94371") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94375, "ext_mem_94375") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_99044, "mem_param_tmp_99044") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94358, "mem_94358") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94357, "mem_param_94357") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94361, "ext_mem_94361") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94354, "mem_94354") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94337, "mem_94337") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94335, "mem_94335") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94334, "mem_94334") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94345, "mem_94345") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94348, "ext_mem_94348") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94318, "mem_94318") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94326, "mem_94326") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94329, "ext_mem_94329") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_98983, "mem_param_tmp_98983") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94311, "mem_94311") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94310, "mem_param_94310") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94314, "ext_mem_94314") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94292, "mem_94292") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94290, "mem_94290") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94277, "mem_94277") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94275, "mem_94275") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94262, "mem_94262") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94260, "mem_94260") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94271, "mem_94271") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94274, "ext_mem_94274") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94286, "mem_94286") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94289, "ext_mem_94289") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94259, "mem_94259") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94301, "mem_94301") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94304, "ext_mem_94304") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94368, "mem_94368") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94331, "mem_94331") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94330, "mem_94330") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94316, "mem_94316") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94307, "mem_94307") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94250, "mem_94250") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94248, "mem_94248") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_98822, "mem_param_tmp_98822") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94244, "mem_94244") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94243, "mem_param_94243") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94247, "ext_mem_94247") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_98799, "mem_param_tmp_98799") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94230, "mem_94230") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94229, "mem_param_94229") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94233, "ext_mem_94233") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94226, "mem_94226") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94209, "mem_94209") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94207, "mem_94207") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94206, "mem_94206") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94217, "mem_94217") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94220, "ext_mem_94220") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94203, "mem_94203") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94202, "mem_94202") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94201, "mem_94201") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94199, "mem_94199") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94200, "ext_mem_94200") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94187, "mem_94187") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94195, "mem_94195") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94198, "ext_mem_94198") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94185, "mem_94185") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94240, "mem_94240") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_98732, "mem_param_tmp_98732") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94179, "mem_94179") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94178, "mem_param_94178") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94182, "ext_mem_94182") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94175, "mem_94175") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94174, "mem_94174") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94159, "mem_94159") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94157, "mem_94157") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94144, "mem_94144") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94142, "mem_94142") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94129, "mem_94129") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94127, "mem_94127") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94138, "mem_94138") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94141, "ext_mem_94141") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94153, "mem_94153") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94156, "ext_mem_94156") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94126, "mem_94126") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94168, "mem_94168") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94171, "ext_mem_94171") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94381, "mem_94381") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94384, "ext_mem_94384") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94118, "mem_94118") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94116, "mem_94116") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94113, "mem_94113") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94111, "mem_94111") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90838, "mem_90838") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_98475, "incprefixes_mem_98475") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_98473, "aggregates_mem_98473") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_98471, "status_flags_mem_98471") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94038, "mem_94038") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94035, "mem_94035") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93984, "mem_93984") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93981, "mem_93981") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93970, "mem_93970") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93915, "mem_93915") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93897, "mem_93897") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93886, "mem_93886") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93875, "mem_93875") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93872, "mem_93872") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93831, "mem_93831") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93813, "mem_93813") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93802, "mem_93802") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93791, "mem_93791") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93788, "mem_93788") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93779, "mem_93779") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93761, "mem_93761") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93750, "mem_93750") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93739, "mem_93739") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93736, "mem_93736") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93782, "mem_93782") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93785, "ext_mem_93785") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93733, "mem_93733") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93860, "mem_93860") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93863, "ext_mem_93863") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93866, "mem_93866") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93869, "ext_mem_93869") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93957, "mem_93957") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93960, "ext_mem_93960") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93963, "mem_93963") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93966, "ext_mem_93966") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94032, "mem_94032") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94033, "ext_mem_94033") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94107, "ext_mem_94107") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94108, "ext_mem_94108") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_98059, "segred_tmp_mem_98059") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95492, "color_95492") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93710, "mem_93710") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_98016, "segred_tmp_mem_98016") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_97876, "defunc_0_map_res_subhistos_mem_97876") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95491, "color_95491") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95490, "color_95490") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95489, "color_95489") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95488, "color_95488") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95487, "color_95487") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95486, "color_95486") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95485, "color_95485") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93635, "mem_93635") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92342, "mem_92342") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92339, "mem_92339") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97298, "mem_param_tmp_97298") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97297, "mem_param_tmp_97297") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97296, "mem_param_tmp_97296") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97295, "mem_param_tmp_97295") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92316, "mem_92316") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92312, "mem_92312") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92307, "mem_92307") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92303, "mem_92303") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91824, "mem_91824") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91820, "mem_91820") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91817, "mem_91817") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91814, "mem_91814") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91810, "mem_91810") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91805, "mem_91805") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91799, "mem_91799") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91794, "mem_91794") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91790, "mem_91790") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91773, "mem_91773") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91749, "mem_91749") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91732, "mem_91732") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91673, "mem_91673") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91649, "mem_91649") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91615, "mem_91615") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91598, "mem_91598") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91593, "mem_91593") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91589, "mem_91589") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91585, "mem_91585") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91581, "mem_91581") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91580, "mem_91580") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91577, "mem_91577") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91576, "mem_91576") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91573, "mem_91573") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91570, "mem_91570") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91567, "mem_91567") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91550, "mem_91550") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91547, "mem_91547") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91544, "mem_91544") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91539, "mem_91539") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91528, "mem_91528") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91525, "mem_91525") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91924, "mem_91924") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91921, "mem_91921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91917, "mem_91917") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91914, "mem_91914") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91927, "ext_mem_91927") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91929, "ext_mem_91929") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91930, "ext_mem_91930") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91931, "ext_mem_91931") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92114, "mem_92114") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92103, "mem_92103") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92086, "mem_92086") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92075, "mem_92075") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92035, "mem_92035") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92024, "mem_92024") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92007, "mem_92007") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91996, "mem_91996") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91985, "mem_91985") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91974, "mem_91974") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91970, "mem_91970") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91967, "mem_91967") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91964, "mem_91964") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91942, "mem_91942") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91945, "mem_91945") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91938, "mem_91938") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91936, "mem_91936") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91957, "mem_91957") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91954, "mem_91954") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91950, "mem_91950") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91948, "mem_91948") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91958, "ext_mem_91958") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91959, "ext_mem_91959") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91960, "ext_mem_91960") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91961, "ext_mem_91961") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92118, "ext_mem_92118") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92122, "ext_mem_92122") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92125, "ext_mem_92125") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92128, "ext_mem_92128") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91521, "mem_91521") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91520, "mem_91520") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92286, "mem_92286") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92283, "mem_92283") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92279, "mem_92279") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92276, "mem_92276") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92290, "ext_mem_92290") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92294, "ext_mem_92294") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92297, "ext_mem_92297") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92300, "ext_mem_92300") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91518, "mem_param_91518") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91515, "mem_param_91515") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91511, "mem_param_91511") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91508, "mem_param_91508") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92327, "ext_mem_92327") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92328, "ext_mem_92328") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92329, "ext_mem_92329") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92330, "ext_mem_92330") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91504, "mem_91504") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91500, "mem_91500") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91495, "mem_91495") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91491, "mem_91491") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95438, "color_95438") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95437, "color_95437") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91473, "mem_91473") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91462, "mem_91462") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91445, "mem_91445") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91434, "mem_91434") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91365, "mem_91365") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91354, "mem_91354") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91337, "mem_91337") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91326, "mem_91326") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91478, "ext_mem_91478") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91482, "ext_mem_91482") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91485, "ext_mem_91485") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91488, "ext_mem_91488") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91315, "mem_91315") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91312, "mem_91312") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91295, "mem_91295") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91292, "mem_91292") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91285, "mem_91285") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91284, "mem_91284") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91283, "mem_91283") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97191, "segred_tmp_mem_97191") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97189, "segred_tmp_mem_97189") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97187, "segred_tmp_mem_97187") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97185, "segred_tmp_mem_97185") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91282, "mem_91282") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91281, "mem_91281") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91279, "mem_91279") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91278, "mem_91278") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91273, "mem_91273") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91268, "mem_91268") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92333, "ext_mem_92333") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92337, "ext_mem_92337") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91254, "mem_91254") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91243, "mem_91243") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97132, "mem_param_tmp_97132") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91235, "mem_91235") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91223, "mem_91223") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91201, "mem_91201") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91197, "mem_param_91197") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91239, "ext_mem_91239") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91212, "mem_91212") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91193, "mem_91193") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91190, "mem_91190") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91187, "mem_91187") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91176, "mem_91176") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91166, "mem_91166") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91148, "mem_91148") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91137, "mem_91137") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91126, "mem_91126") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91123, "mem_91123") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91169, "mem_91169") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91172, "ext_mem_91172") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91257, "mem_91257") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91113, "mem_91113") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91111, "mem_91111") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91100, "mem_91100") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91045, "mem_91045") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91027, "mem_91027") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91016, "mem_91016") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91005, "mem_91005") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91002, "mem_91002") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90961, "mem_90961") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90943, "mem_90943") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90932, "mem_90932") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90921, "mem_90921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90918, "mem_90918") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90909, "mem_90909") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90891, "mem_90891") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90880, "mem_90880") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90869, "mem_90869") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90866, "mem_90866") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90912, "mem_90912") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90915, "ext_mem_90915") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90863, "mem_90863") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90990, "mem_90990") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90993, "ext_mem_90993") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90996, "mem_90996") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90999, "ext_mem_90999") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91087, "mem_91087") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91090, "ext_mem_91090") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91093, "mem_91093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91096, "ext_mem_91096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90844, "mem_90844") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90852, "mem_90852") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90855, "ext_mem_90855") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93622, "mem_93622") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93619, "mem_93619") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96345, "mem_param_tmp_96345") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96344, "mem_param_tmp_96344") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96343, "mem_param_tmp_96343") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93599, "mem_93599") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93595, "mem_93595") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93590, "mem_93590") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93199, "mem_93199") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93195, "mem_93195") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93192, "mem_93192") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93188, "mem_93188") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93183, "mem_93183") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93177, "mem_93177") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93173, "mem_93173") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93156, "mem_93156") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93132, "mem_93132") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93082, "mem_93082") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93058, "mem_93058") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93041, "mem_93041") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93024, "mem_93024") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93019, "mem_93019") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93015, "mem_93015") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93011, "mem_93011") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93010, "mem_93010") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93007, "mem_93007") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93006, "mem_93006") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93003, "mem_93003") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93000, "mem_93000") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92997, "mem_92997") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92980, "mem_92980") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92977, "mem_92977") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92972, "mem_92972") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92961, "mem_92961") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92958, "mem_92958") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93282, "mem_93282") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93279, "mem_93279") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93275, "mem_93275") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93285, "ext_mem_93285") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93287, "ext_mem_93287") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93288, "ext_mem_93288") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93435, "mem_93435") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93424, "mem_93424") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93407, "mem_93407") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93373, "mem_93373") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93362, "mem_93362") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93345, "mem_93345") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93334, "mem_93334") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93323, "mem_93323") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93319, "mem_93319") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93316, "mem_93316") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93297, "mem_93297") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93300, "mem_93300") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93293, "mem_93293") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93310, "mem_93310") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93307, "mem_93307") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93303, "mem_93303") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93311, "ext_mem_93311") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93312, "ext_mem_93312") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93313, "ext_mem_93313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93439, "ext_mem_93439") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93443, "ext_mem_93443") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93446, "ext_mem_93446") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92954, "mem_92954") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92953, "mem_92953") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93576, "mem_93576") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93573, "mem_93573") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93569, "mem_93569") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93580, "ext_mem_93580") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93584, "ext_mem_93584") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93587, "ext_mem_93587") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92951, "mem_param_92951") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92948, "mem_param_92948") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92944, "mem_param_92944") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93608, "ext_mem_93608") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93609, "ext_mem_93609") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93610, "ext_mem_93610") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92940, "mem_92940") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92936, "mem_92936") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92931, "mem_92931") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95390, "color_95390") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95389, "color_95389") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92916, "mem_92916") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92905, "mem_92905") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92888, "mem_92888") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92831, "mem_92831") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92820, "mem_92820") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92803, "mem_92803") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92921, "ext_mem_92921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92925, "ext_mem_92925") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92928, "ext_mem_92928") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92792, "mem_92792") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92789, "mem_92789") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92772, "mem_92772") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92765, "mem_92765") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92764, "mem_92764") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96253, "segred_tmp_mem_96253") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96251, "segred_tmp_mem_96251") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96249, "segred_tmp_mem_96249") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92763, "mem_92763") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92762, "mem_92762") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92760, "mem_92760") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92755, "mem_92755") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92750, "mem_92750") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93613, "ext_mem_93613") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93617, "ext_mem_93617") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92736, "mem_92736") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92725, "mem_92725") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96196, "mem_param_tmp_96196") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92717, "mem_92717") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92705, "mem_92705") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92683, "mem_92683") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92679, "mem_param_92679") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92721, "ext_mem_92721") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92694, "mem_92694") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92675, "mem_92675") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92666, "mem_92666") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92648, "mem_92648") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92637, "mem_92637") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92626, "mem_92626") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92623, "mem_92623") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92669, "mem_92669") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92672, "ext_mem_92672") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92739, "mem_92739") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92613, "mem_92613") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92611, "mem_92611") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92600, "mem_92600") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92545, "mem_92545") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92527, "mem_92527") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92516, "mem_92516") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92505, "mem_92505") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92502, "mem_92502") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92461, "mem_92461") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92443, "mem_92443") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92432, "mem_92432") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92421, "mem_92421") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92418, "mem_92418") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92409, "mem_92409") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92391, "mem_92391") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92380, "mem_92380") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92369, "mem_92369") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92366, "mem_92366") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92412, "mem_92412") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92415, "ext_mem_92415") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92363, "mem_92363") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92490, "mem_92490") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92493, "ext_mem_92493") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92496, "mem_92496") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92499, "ext_mem_92499") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92587, "mem_92587") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92590, "ext_mem_92590") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92593, "mem_92593") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92596, "ext_mem_92596") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92344, "mem_92344") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92352, "mem_92352") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92355, "ext_mem_92355") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93623, "ext_mem_93623") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93624, "ext_mem_93624") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90842, "mem_90842") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90841, "mem_90841") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90840, "mem_90840") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90839, "mem_90839") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90834, "mem_90834") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90835, "mem_90835") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90836, "ext_mem_90836") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90833, "mem_90833") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90832, "mem_90832") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90828, "mem_90828") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90829, "mem_90829") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90830, "ext_mem_90830") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90825, "mem_90825") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90826, "mem_90826") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90827, "ext_mem_90827") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90822, "mem_90822") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90823, "mem_90823") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_90824, "ext_mem_90824") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_90821, "mem_90821") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95760, "mem_out_95760") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95759, "mem_out_95759") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95758, "mem_out_95758") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_95757, "mem_out_95757") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_99394, int64_t upper_bound_31355, int64_t n_31356)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t prim_out_95757;
    bool upper_bound_31357 = sle64((int64_t) 1, upper_bound_31355);
    bool assert_c_31359;
    
    if (!upper_bound_31357) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_31368 = slt64(upper_bound_31355, n_31356);
    bool d_31377;
    int64_t d_31378;
    bool loop_while_31379;
    int64_t d_31380;
    
    loop_while_31379 = cond_31368;
    d_31380 = (int64_t) 1;
    while (loop_while_31379) {
        int64_t loopres_31381 = add64((int64_t) 1, d_31380);
        bool zzero_31383 = loopres_31381 == (int64_t) 0;
        bool nonzzero_31384 = !zzero_31383;
        bool nonzzero_cert_31385;
        
        if (!nonzzero_31384) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_31386 = sdiv64(n_31356, loopres_31381);
        bool cond_31388 = slt64(upper_bound_31355, zg_lhs_31386);
        bool loop_cond_31389;
        
        if (cond_31388) {
            loop_cond_31389 = 1;
        } else {
            int64_t znze_lhs_31393 = smod64(n_31356, loopres_31381);
            bool loop_cond_f_res_31395 = znze_lhs_31393 == (int64_t) 0;
            bool loop_cond_f_res_31396 = !loop_cond_f_res_31395;
            
            loop_cond_31389 = loop_cond_f_res_31396;
        }
        
        bool loop_while_tmp_95758 = loop_cond_31389;
        int64_t d_tmp_95759 = loopres_31381;
        
        loop_while_31379 = loop_while_tmp_95758;
        d_31380 = d_tmp_95759;
    }
    d_31377 = loop_while_31379;
    d_31378 = d_31380;
    
    bool zzero_31398 = d_31378 == (int64_t) 0;
    bool nonzzero_31399 = !zzero_31398;
    bool nonzzero_cert_31400;
    
    if (!nonzzero_31399) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_31401 = sdiv64(n_31356, d_31378);
    
    prim_out_95757 = greatest_divisor_leq_than_res_31401;
    *out_prim_out_99394 = prim_out_95757;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10057(struct futhark_context *ctx, double *out_prim_out_99395, struct memblock_device angle_partitions_per_dim_mem_90813, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_31073, int64_t dim_31074, int64_t i_31076)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    double prim_out_95757;
    bool x_31079 = sle64((int64_t) 0, i_31076);
    bool y_31080 = slt64(i_31076, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_31073);
    bool bounds_check_31081 = x_31079 && y_31080;
    bool index_certs_31082;
    
    if (!bounds_check_31081) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_31076, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_31073, "].", "-> #0  ftSkyline.fut:171:58-89\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t read_res_99396;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99396, angle_partitions_per_dim_mem_90813.mem, i_31076 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t i64_arg0_31083 = read_res_99396;
    double i64_res_55330 = sitofp_i64_f64(i64_arg0_31083);
    double lifted_lambda_res_31087 = 1.5707963267948966 / i64_res_55330;
    
    prim_out_95757 = lifted_lambda_res_31087;
    *out_prim_out_99395 = prim_out_95757;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10058(struct futhark_context *ctx, int64_t *out_prim_out_99397, double a_31088, double ba_31089, int64_t pf_31090, int64_t pd_31091)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t prim_out_95757;
    double zt_lhs_31092 = a_31088 / ba_31089;
    double i64_res_55330 = sitofp_i64_f64(pf_31090);
    double f64_arg0_31096 = zt_lhs_31092 * i64_res_55330;
    int64_t f64_res_55332 = fptosi_f64_i64(f64_arg0_31096);
    bool cond_31100 = slt64(f64_res_55332, (int64_t) 0);
    int64_t lifted_lambda_res_31101;
    
    if (cond_31100) {
        lifted_lambda_res_31101 = (int64_t) 0;
    } else {
        bool cond_31102 = sle64(pd_31091, f64_res_55332);
        int64_t lifted_lambda_res_f_res_31103;
        
        if (cond_31102) {
            int64_t lifted_lambda_res_f_res_t_res_69556 = sub64(pd_31091, (int64_t) 1);
            
            lifted_lambda_res_f_res_31103 = lifted_lambda_res_f_res_t_res_69556;
        } else {
            lifted_lambda_res_f_res_31103 = f64_res_55332;
        }
        lifted_lambda_res_31101 = lifted_lambda_res_f_res_31103;
    }
    prim_out_95757 = lifted_lambda_res_31101;
    *out_prim_out_99397 = prim_out_95757;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_10027(struct futhark_context *ctx, int64_t *out_prim_out_99398, int64_t *out_prim_out_99399, int64_t *out_prim_out_99400, int64_t *out_prim_out_99401, int64_t *out_prim_out_99402, int64_t slo_31659, int64_t shi_31660, int64_t tlo_31661, int64_t thi_31662, int64_t count_31663)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
    struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
    struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
    struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
    struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
    struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
    struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
    struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
    struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
    struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
    struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
    struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
    struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
    struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
    struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
    struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
    int64_t prim_out_95757;
    int64_t prim_out_95758;
    int64_t prim_out_95759;
    int64_t prim_out_95760;
    int64_t prim_out_95761;
    int64_t min_arg1_31666 = add64(slo_31659, count_31663);
    int64_t min_res_55331 = smin64(shi_31660, min_arg1_31666);
    int64_t min_arg1_31670 = add64(tlo_31661, count_31663);
    int64_t min_res_55334 = smin64(thi_31662, min_arg1_31670);
    int64_t zp_lhs_31674 = sub64(min_res_55331, slo_31659);
    int64_t zp_rhs_31676 = sub64(min_res_55334, tlo_31661);
    int64_t zm_lhs_31678 = add64(zp_lhs_31674, zp_rhs_31676);
    int64_t slack_31680 = sub64(zm_lhs_31678, count_31663);
    int64_t min_res_55337 = smin64(zp_lhs_31674, slack_31680);
    int64_t min_res_55340 = smin64(zp_rhs_31676, min_res_55337);
    int64_t max_arg1_31690 = sub64(min_res_55331, min_res_55340);
    int64_t max_res_55343 = smax64(slo_31659, max_arg1_31690);
    int64_t max_arg1_31694 = sub64(min_res_55334, min_res_55340);
    int64_t max_res_55346 = smax64(tlo_31661, max_arg1_31694);
    int64_t zm_rhs_31698 = sub64(max_res_55343, slo_31659);
    int64_t zm_lhs_31700 = sub64(count_31663, zm_rhs_31698);
    int64_t zm_rhs_31702 = sub64(max_res_55346, tlo_31661);
    int64_t count_31704 = sub64(zm_lhs_31700, zm_rhs_31702);
    
    prim_out_95757 = max_res_55343;
    prim_out_95758 = min_res_55331;
    prim_out_95759 = max_res_55346;
    prim_out_95760 = min_res_55334;
    prim_out_95761 = count_31704;
    *out_prim_out_99398 = prim_out_95757;
    *out_prim_out_99399 = prim_out_95758;
    *out_prim_out_99400 = prim_out_95759;
    *out_prim_out_99401 = prim_out_95760;
    *out_prim_out_99402 = prim_out_95761;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1)
{
    int64_t dim_54946 = (int64_t) 0;
    int64_t dz2080U_54947 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948 = (int64_t) 0;
    int64_t dz2081U_54949 = (int64_t) 0;
    int64_t dz2082U_54950 = (int64_t) 0;
    int64_t dz2083U_54951 = (int64_t) 0;
    int64_t total_angle_no_54958 = (int64_t) 0;
    int64_t total_grid_no_54959 = (int64_t) 0;
    int64_t total_part_no_54960 = (int64_t) 0;
    int64_t prim_out_95761 = (int64_t) 0;
    int64_t prim_out_95762 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_95760;
    
    mem_out_95760.references = NULL;
    
    struct memblock_device mem_out_95759;
    
    mem_out_95759.references = NULL;
    
    struct memblock_device mem_out_95758;
    
    mem_out_95758.references = NULL;
    
    struct memblock_device mem_out_95757;
    
    mem_out_95757.references = NULL;
    
    struct memblock_device xys_mem_90822;
    
    xys_mem_90822.references = NULL;
    
    struct memblock_device xys_mem_90821;
    
    xys_mem_90821.references = NULL;
    
    struct memblock_device part_idx_mem_90820;
    
    part_idx_mem_90820.references = NULL;
    
    struct memblock_device isPartitionDominated_mem_90819;
    
    isPartitionDominated_mem_90819.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_90818;
    
    start_of_grid_partition_mem_90818.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_90817;
    
    grid_partitions_per_dim_mem_90817.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_90816;
    
    grid_part_sizze_per_dim_mem_90816.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_90815;
    
    grid_part_prefix_sum_mem_90815.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_90814;
    
    angle_partitions_per_dim_mem_90814.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_90813;
    
    angle_part_prefix_sum_mem_90813.references = NULL;
    angle_part_prefix_sum_mem_90813 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_90814 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_90815 = in0->v2->mem;
    dim_54946 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_90816 = in0->v3->mem;
    dim_54946 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_90817 = in0->v4->mem;
    dim_54946 = in0->v4->shape[0];
    start_of_grid_partition_mem_90818 = in0->v5->mem;
    dz2080U_54947 = in0->v5->shape[0];
    dim_54946 = in0->v5->shape[1];
    total_angle_no_54958 = in0->v6;
    total_grid_no_54959 = in0->v7;
    total_part_no_54960 = in0->v8;
    isPartitionDominated_mem_90819 = in1->v0->mem;
    dz2081U_54949 = in1->v0->shape[0];
    part_idx_mem_90820 = in1->v1->mem;
    dz2082U_54950 = in1->v1->shape[0];
    xys_mem_90821 = in1->v2->mem;
    dz2083U_54951 = in1->v2->shape[0];
    dim_54946 = in1->v2->shape[1];
    xys_mem_90822 = in1->v3->mem;
    dz2083U_54951 = in1->v3->shape[0];
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948 == in0->v1->shape[0] && (dim_54946 == in0->v2->shape[0] && (dim_54946 == in0->v3->shape[0] && (dim_54946 == in0->v4->shape[0] && (dz2080U_54947 == in0->v5->shape[0] && dim_54946 == in0->v5->shape[1])))))) && (dz2081U_54949 == in1->v0->shape[0] && (dz2082U_54950 == in1->v1->shape[0] && (dz2083U_54951 == in1->v2->shape[0] && (dim_54946 == in1->v2->shape[1] && dz2083U_54951 == in1->v3->shape[0])))))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_calc_local_Skyline_GFUR_double(ctx, &mem_out_95757, &mem_out_95758, &mem_out_95759, &mem_out_95760, &prim_out_95761, &prim_out_95762, angle_part_prefix_sum_mem_90813, angle_partitions_per_dim_mem_90814, grid_part_prefix_sum_mem_90815, grid_part_sizze_per_dim_mem_90816, grid_partitions_per_dim_mem_90817, start_of_grid_partition_mem_90818, isPartitionDominated_mem_90819, part_idx_mem_90820, xys_mem_90821, xys_mem_90822, dim_54946, dz2080U_54947, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54948, dz2081U_54949, dz2082U_54950, dz2083U_54951, total_angle_no_54958, total_grid_no_54959, total_part_no_54960);
        if (ret == 0) {
            struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
            struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
            struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
            struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
            struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
            struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
            struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
            struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
            struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
            struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
            struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
            struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
            struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
            struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
            struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
            struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_95757;
            (*out0)->v0->shape[0] = dz2081U_54949;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_95758;
            (*out0)->v1->shape[0] = prim_out_95761;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_95759;
            (*out0)->v2->shape[0] = prim_out_95762;
            (*out0)->v2->shape[1] = dim_54946;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_95760;
            (*out0)->v3->shape[0] = prim_out_95762;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_define_skyline_space_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t dim_30964 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965 = (int64_t) 0;
    int64_t prim_out_95763 = (int64_t) 0;
    int64_t prim_out_95764 = (int64_t) 0;
    int64_t prim_out_95765 = (int64_t) 0;
    int64_t prim_out_95766 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_95762;
    
    mem_out_95762.references = NULL;
    
    struct memblock_device mem_out_95761;
    
    mem_out_95761.references = NULL;
    
    struct memblock_device mem_out_95760;
    
    mem_out_95760.references = NULL;
    
    struct memblock_device mem_out_95759;
    
    mem_out_95759.references = NULL;
    
    struct memblock_device mem_out_95758;
    
    mem_out_95758.references = NULL;
    
    struct memblock_device mem_out_95757;
    
    mem_out_95757.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_90816;
    
    angle_partitions_per_dim_mem_90816.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_90815;
    
    grid_partitions_per_dim_mem_90815.references = NULL;
    
    struct memblock_device max_per_dim_mem_90814;
    
    max_per_dim_mem_90814.references = NULL;
    
    struct memblock_device min_per_dim_mem_90813;
    
    min_per_dim_mem_90813.references = NULL;
    min_per_dim_mem_90813 = in0->mem;
    dim_30964 = in0->shape[0];
    max_per_dim_mem_90814 = in1->mem;
    dim_30964 = in1->shape[0];
    grid_partitions_per_dim_mem_90815 = in2->mem;
    dim_30964 = in2->shape[0];
    angle_partitions_per_dim_mem_90816 = in3->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965 = in3->shape[0];
    if (!(dim_30964 == in0->shape[0] && (dim_30964 == in1->shape[0] && (dim_30964 == in2->shape[0] && dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965 == in3->shape[0])))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_define_skyline_space_double(ctx, &mem_out_95757, &mem_out_95758, &mem_out_95759, &mem_out_95760, &mem_out_95761, &mem_out_95762, &prim_out_95763, &prim_out_95764, &prim_out_95765, &prim_out_95766, min_per_dim_mem_90813, max_per_dim_mem_90814, grid_partitions_per_dim_mem_90815, angle_partitions_per_dim_mem_90816, dim_30964, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965);
        if (ret == 0) {
            struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
            struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
            struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
            struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
            struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
            struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
            struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
            struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
            struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
            struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
            struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
            struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
            struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
            struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
            struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
            struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
            
            assert((*out0 = (struct futhark_opaque_skylineBase_double *) malloc(sizeof(struct futhark_opaque_skylineBase_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_95757;
            (*out0)->v0->shape[0] = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_95758;
            (*out0)->v1->shape[0] = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30965;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_95759;
            (*out0)->v2->shape[0] = dim_30964;
            assert(((*out0)->v3 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_95760;
            (*out0)->v3->shape[0] = dim_30964;
            assert(((*out0)->v4 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v4->mem = mem_out_95761;
            (*out0)->v4->shape[0] = dim_30964;
            assert(((*out0)->v5 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v5->mem = mem_out_95762;
            (*out0)->v5->shape[0] = prim_out_95763;
            (*out0)->v5->shape[1] = dim_30964;
            (*out0)->v6 = prim_out_95764;
            (*out0)->v7 = prim_out_95765;
            (*out0)->v8 = prim_out_95766;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_f64_2d *in1, const bool in2)
{
    int64_t dim_48135 = (int64_t) 0;
    int64_t dz2080U_48136 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137 = (int64_t) 0;
    int64_t n_48138 = (int64_t) 0;
    int64_t total_angle_no_48145 = (int64_t) 0;
    int64_t total_grid_no_48146 = (int64_t) 0;
    int64_t total_part_no_48147 = (int64_t) 0;
    bool use_measure_for_sorting_48149 = 0;
    int64_t prim_out_95761 = (int64_t) 0;
    int64_t prim_out_95762 = (int64_t) 0;
    int64_t prim_out_95763 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_95760;
    
    mem_out_95760.references = NULL;
    
    struct memblock_device mem_out_95759;
    
    mem_out_95759.references = NULL;
    
    struct memblock_device mem_out_95758;
    
    mem_out_95758.references = NULL;
    
    struct memblock_device mem_out_95757;
    
    mem_out_95757.references = NULL;
    
    struct memblock_device xs_mem_90819;
    
    xs_mem_90819.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_90818;
    
    start_of_grid_partition_mem_90818.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_90817;
    
    grid_partitions_per_dim_mem_90817.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_90816;
    
    grid_part_sizze_per_dim_mem_90816.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_90815;
    
    grid_part_prefix_sum_mem_90815.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_90814;
    
    angle_partitions_per_dim_mem_90814.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_90813;
    
    angle_part_prefix_sum_mem_90813.references = NULL;
    angle_part_prefix_sum_mem_90813 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_90814 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_90815 = in0->v2->mem;
    dim_48135 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_90816 = in0->v3->mem;
    dim_48135 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_90817 = in0->v4->mem;
    dim_48135 = in0->v4->shape[0];
    start_of_grid_partition_mem_90818 = in0->v5->mem;
    dz2080U_48136 = in0->v5->shape[0];
    dim_48135 = in0->v5->shape[1];
    total_angle_no_48145 = in0->v6;
    total_grid_no_48146 = in0->v7;
    total_part_no_48147 = in0->v8;
    xs_mem_90819 = in1->mem;
    n_48138 = in1->shape[0];
    dim_48135 = in1->shape[1];
    use_measure_for_sorting_48149 = in2;
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137 == in0->v1->shape[0] && (dim_48135 == in0->v2->shape[0] && (dim_48135 == in0->v3->shape[0] && (dim_48135 == in0->v4->shape[0] && (dz2080U_48136 == in0->v5->shape[0] && dim_48135 == in0->v5->shape[1])))))) && (n_48138 == in1->shape[0] && dim_48135 == in1->shape[1]))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_sort_for_Skyline_double(ctx, &mem_out_95757, &mem_out_95758, &mem_out_95759, &mem_out_95760, &prim_out_95761, &prim_out_95762, &prim_out_95763, angle_part_prefix_sum_mem_90813, angle_partitions_per_dim_mem_90814, grid_part_prefix_sum_mem_90815, grid_part_sizze_per_dim_mem_90816, grid_partitions_per_dim_mem_90817, start_of_grid_partition_mem_90818, xs_mem_90819, dim_48135, dz2080U_48136, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_48137, n_48138, total_angle_no_48145, total_grid_no_48146, total_part_no_48147, use_measure_for_sorting_48149);
        if (ret == 0) {
            struct memblock_device counters_mem_95765 = ctx->constants->counters_mem_95765;
            struct memblock_device counters_mem_95912 = ctx->constants->counters_mem_95912;
            struct memblock_device counters_mem_96050 = ctx->constants->counters_mem_96050;
            struct memblock_device counters_mem_96247 = ctx->constants->counters_mem_96247;
            struct memblock_device counters_mem_97008 = ctx->constants->counters_mem_97008;
            struct memblock_device counters_mem_97183 = ctx->constants->counters_mem_97183;
            struct memblock_device counters_mem_98018 = ctx->constants->counters_mem_98018;
            struct memblock_device counters_mem_98057 = ctx->constants->counters_mem_98057;
            struct memblock_device counters_mem_99205 = ctx->constants->counters_mem_99205;
            struct memblock_device global_dynid_mem_95801 = ctx->constants->global_dynid_mem_95801;
            struct memblock_device global_dynid_mem_95959 = ctx->constants->global_dynid_mem_95959;
            struct memblock_device global_dynid_mem_96276 = ctx->constants->global_dynid_mem_96276;
            struct memblock_device global_dynid_mem_97058 = ctx->constants->global_dynid_mem_97058;
            struct memblock_device global_dynid_mem_98129 = ctx->constants->global_dynid_mem_98129;
            struct memblock_device global_dynid_mem_98477 = ctx->constants->global_dynid_mem_98477;
            struct memblock_device global_dynid_mem_99255 = ctx->constants->global_dynid_mem_99255;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_95757;
            (*out0)->v0->shape[0] = prim_out_95761;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_95758;
            (*out0)->v1->shape[0] = prim_out_95762;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_95759;
            (*out0)->v2->shape[0] = prim_out_95763;
            (*out0)->v2->shape[1] = dim_48135;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_95760;
            (*out0)->v3->shape[0] = prim_out_95763;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
  
