// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_default_thread_block_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_grid_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_registers(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_cache(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_unified_memory(struct futhark_context_config *cfg, int flag);
void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt);
void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s);
const char *futhark_context_config_get_program(struct futhark_context_config *cfg);
void futhark_context_config_set_program(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_bool_1d;
struct futhark_bool_1d *futhark_new_bool_1d(struct futhark_context *ctx, const bool *data, int64_t dim0);
struct futhark_bool_1d *futhark_new_raw_bool_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
int futhark_values_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr, bool *data);
int futhark_index_bool_1d(struct futhark_context *ctx, bool *out, struct futhark_bool_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
const int64_t *futhark_shape_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_f64_2d;
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const double *data, int64_t dim0, int64_t dim1);
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0, int64_t dim1);
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
int futhark_values_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr, double *data);
int futhark_index_f64_2d(struct futhark_context *ctx, double *out, struct futhark_f64_2d *arr, int64_t i0, int64_t i1);
CUdeviceptr futhark_values_raw_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);

// Opaque values
struct futhark_opaque_tup2_arr1d_f64_i64;
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64;
struct futhark_opaque_skylineBase_double;
struct futhark_opaque_skylineInfo_GFUR_double;
int futhark_free_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_store_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj, void **p, size_t *n);
struct futhark_opaque_tup2_arr1d_f64_i64 *futhark_restore_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_project_opaque_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_new_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, const struct futhark_f64_1d *f_0, const int64_t f_1);
int futhark_free_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_store_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj, void **p, size_t *n);
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *futhark_restore_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_zip_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_f64_2d *f_0, const struct futhark_i64_1d *f_1);
int futhark_index_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr, int64_t i0);
const int64_t *futhark_shape_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr);
int futhark_free_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double *obj);
int futhark_store_opaque_skylineBase_double(struct futhark_context *ctx, const struct futhark_opaque_skylineBase_double *obj, void **p, size_t *n);
struct futhark_opaque_skylineBase_double *futhark_restore_opaque_skylineBase_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_skylineBase_double_angle_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_angle_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_part_size_per_dim(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_start_of_grid_partition(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_angle_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_grid_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_part_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_new_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out, const struct futhark_i64_1d *f_angle_part_prefix_sum, const struct futhark_i64_1d *f_angle_partitions_per_dim, const struct futhark_i64_1d *f_grid_part_prefix_sum, const struct futhark_f64_1d *f_grid_part_sizze_per_dim, const struct futhark_i64_1d *f_grid_partitions_per_dim, const struct futhark_f64_2d *f_start_of_grid_partition, const int64_t f_total_angle_no, const int64_t f_total_grid_no, const int64_t f_total_part_no);
int futhark_free_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_store_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const struct futhark_opaque_skylineInfo_GFUR_double *obj, void **p, size_t *n);
struct futhark_opaque_skylineInfo_GFUR_double *futhark_restore_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_skylineInfo_GFUR_double_isPartitionDominated(struct futhark_context *ctx, struct futhark_bool_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_project_opaque_skylineInfo_GFUR_double_part_idx(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_project_opaque_skylineInfo_GFUR_double_xys(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_new_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out, const struct futhark_bool_1d *f_isPartitionDominated, const struct futhark_i64_1d *f_part_idx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *f_xys);

// Entry points
int futhark_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1);
int futhark_entry_define_skyline_space_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_f64_2d *in1, const bool in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_cuda
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>


#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>


#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock_device {
    int *references;
    CUdeviceptr mem;
    int64_t size;
    const char *desc;
};
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
    struct memblock_device counters_mem_71657;
    struct memblock_device counters_mem_71804;
    struct memblock_device counters_mem_71942;
    struct memblock_device counters_mem_72121;
    struct memblock_device counters_mem_72858;
    struct memblock_device counters_mem_72897;
    struct memblock_device counters_mem_72900;
    struct memblock_device counters_mem_74045;
    struct memblock_device global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095;
};
struct tuning_params {
    int dummy;
    int64_t *builtinzhiota_i64zitblock_sizze_71665;
    int64_t *builtinzhreplicate_boolzitblock_sizze_71768;
    int64_t *builtinzhreplicate_f64zitblock_sizze_71682;
    int64_t *builtinzhreplicate_i32zitblock_sizze_71747;
    int64_t *builtinzhreplicate_i64zitblock_sizze_71709;
    int64_t *builtinzhreplicate_i8zitblock_sizze_72954;
    int64_t *calc_local_Skyline_GFUR_doublezihist_L2_72839;
    int64_t *calc_local_Skyline_GFUR_doublezihist_L_72786;
    int64_t *calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_60230;
    int64_t *calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58044;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58158;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58506;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58662;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58783;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_59909;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253;
    int64_t *calc_local_Skyline_GFUR_doublezisegred_num_tblocks_57832;
    int64_t *calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_59899;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_60245;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_0;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_1;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_2;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_71861;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_71905;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_71949;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72050;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72330;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72363;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72396;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72468;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72536;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72581;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72614;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72647;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_72713;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_57677;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_57703;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_57739;
    int64_t *define_skyline_space_doublezisegred_num_tblocks_57647;
    int64_t *define_skyline_space_doublezisegred_num_tblocks_57667;
    int64_t *define_skyline_space_doublezisegred_tblock_sizze_57645;
    int64_t *define_skyline_space_doublezisegred_tblock_sizze_57665;
    int64_t *define_skyline_space_doublezisegscan_num_tblocks_57639;
    int64_t *define_skyline_space_doublezisegscan_num_tblocks_57659;
    int64_t *define_skyline_space_doublezisegscan_tblock_sizze_57637;
    int64_t *define_skyline_space_doublezisegscan_tblock_sizze_57657;
    int64_t *sort_for_Skyline_doublezihist_L2_72787;
    int64_t *sort_for_Skyline_doublezihist_L2_73984;
    int64_t *sort_for_Skyline_doublezihist_L_72724;
    int64_t *sort_for_Skyline_doublezihist_L_73931;
    int64_t *sort_for_Skyline_doubleziseghist_num_tblocks_65955;
    int64_t *sort_for_Skyline_doubleziseghist_num_tblocks_68140;
    int64_t *sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    int64_t *sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_60393;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_60507;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_60855;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_61011;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_61069;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_62038;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_62202;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_63282;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_64272;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_64365;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_66476;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_66632;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_66690;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_67880;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_67890;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60327;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60355;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60391;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60422;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60505;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60551;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60577;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60647;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60676;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60853;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_60882;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_61009;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_61035;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_61067;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_61093;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_61147;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_61180;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_62036;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_62200;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63280;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63376;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63391;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63404;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63449;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63464;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_63477;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_64270;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_64363;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_64611;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_65146;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66265;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66297;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66474;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66503;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66630;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66656;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66688;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66714;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66768;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_66801;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67847;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67878;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67888;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67896;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67916;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67936;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67956;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67976;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_67994;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68018;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68038;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68058;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68078;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68098;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68116;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_68163;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_61948;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_66038;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_61946;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_66036;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_66050;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_67422;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_68155;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_66048;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_67420;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_68153;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_0;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_1;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_2;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_3;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_5;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_6;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_7;
    int64_t *sort_for_Skyline_doublezisuff_outer_screma_4;
    int64_t *sort_for_Skyline_doublezitblock_sizze_71876;
    int64_t *sort_for_Skyline_doublezitblock_sizze_71919;
    int64_t *sort_for_Skyline_doublezitblock_sizze_71963;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72041;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72429;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72449;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72469;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72627;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72650;
    int64_t *sort_for_Skyline_doublezitblock_sizze_72673;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73165;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73208;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73252;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73475;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73508;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73541;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73613;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73681;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73726;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73759;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73792;
    int64_t *sort_for_Skyline_doublezitblock_sizze_73858;
};
static const int num_tuning_params = 202;
static const char *tuning_param_names[] = {"builtin#iota_i64.tblock_size_71665", "builtin#replicate_bool.tblock_size_71768", "builtin#replicate_f64.tblock_size_71682", "builtin#replicate_i32.tblock_size_71747", "builtin#replicate_i64.tblock_size_71709", "builtin#replicate_i8.tblock_size_72954", "calc_local_Skyline_GFUR_double.hist_L2_72839", "calc_local_Skyline_GFUR_double.hist_L_72786", "calc_local_Skyline_GFUR_double.seghist_num_tblocks_60230", "calc_local_Skyline_GFUR_double.seghist_tblock_size_60228", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_58044", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_58158", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_58506", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_58662", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_58783", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_59909", "calc_local_Skyline_GFUR_double.segmap_tblock_size_57891", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58006", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58042", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58073", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58156", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58202", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58228", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58298", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58327", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58504", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58533", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58660", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58686", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58781", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58807", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58829", "calc_local_Skyline_GFUR_double.segmap_tblock_size_58862", "calc_local_Skyline_GFUR_double.segmap_tblock_size_59907", "calc_local_Skyline_GFUR_double.segmap_tblock_size_59916", "calc_local_Skyline_GFUR_double.segmap_tblock_size_59930", "calc_local_Skyline_GFUR_double.segmap_tblock_size_59942", "calc_local_Skyline_GFUR_double.segmap_tblock_size_59986", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60006", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60026", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60046", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60066", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60084", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60108", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60128", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60148", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60168", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60188", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60206", "calc_local_Skyline_GFUR_double.segmap_tblock_size_60253", "calc_local_Skyline_GFUR_double.segred_num_tblocks_57832", "calc_local_Skyline_GFUR_double.segred_tblock_size_57830", "calc_local_Skyline_GFUR_double.segscan_num_tblocks_59899", "calc_local_Skyline_GFUR_double.segscan_num_tblocks_60245", "calc_local_Skyline_GFUR_double.segscan_tblock_size_59897", "calc_local_Skyline_GFUR_double.segscan_tblock_size_60243", "calc_local_Skyline_GFUR_double.suff_intra_par_0", "calc_local_Skyline_GFUR_double.suff_intra_par_1", "calc_local_Skyline_GFUR_double.suff_intra_par_2", "calc_local_Skyline_GFUR_double.tblock_size_71861", "calc_local_Skyline_GFUR_double.tblock_size_71905", "calc_local_Skyline_GFUR_double.tblock_size_71949", "calc_local_Skyline_GFUR_double.tblock_size_72050", "calc_local_Skyline_GFUR_double.tblock_size_72330", "calc_local_Skyline_GFUR_double.tblock_size_72363", "calc_local_Skyline_GFUR_double.tblock_size_72396", "calc_local_Skyline_GFUR_double.tblock_size_72468", "calc_local_Skyline_GFUR_double.tblock_size_72536", "calc_local_Skyline_GFUR_double.tblock_size_72581", "calc_local_Skyline_GFUR_double.tblock_size_72614", "calc_local_Skyline_GFUR_double.tblock_size_72647", "calc_local_Skyline_GFUR_double.tblock_size_72713", "define_skyline_space_double.segmap_tblock_size_57677", "define_skyline_space_double.segmap_tblock_size_57703", "define_skyline_space_double.segmap_tblock_size_57739", "define_skyline_space_double.segred_num_tblocks_57647", "define_skyline_space_double.segred_num_tblocks_57667", "define_skyline_space_double.segred_tblock_size_57645", "define_skyline_space_double.segred_tblock_size_57665", "define_skyline_space_double.segscan_num_tblocks_57639", "define_skyline_space_double.segscan_num_tblocks_57659", "define_skyline_space_double.segscan_tblock_size_57637", "define_skyline_space_double.segscan_tblock_size_57657", "sort_for_Skyline_double.hist_L2_72787", "sort_for_Skyline_double.hist_L2_73984", "sort_for_Skyline_double.hist_L_72724", "sort_for_Skyline_double.hist_L_73931", "sort_for_Skyline_double.seghist_num_tblocks_65955", "sort_for_Skyline_double.seghist_num_tblocks_68140", "sort_for_Skyline_double.seghist_tblock_size_65953", "sort_for_Skyline_double.seghist_tblock_size_68138", "sort_for_Skyline_double.segmap_num_tblocks_60393", "sort_for_Skyline_double.segmap_num_tblocks_60507", "sort_for_Skyline_double.segmap_num_tblocks_60855", "sort_for_Skyline_double.segmap_num_tblocks_61011", "sort_for_Skyline_double.segmap_num_tblocks_61069", "sort_for_Skyline_double.segmap_num_tblocks_62038", "sort_for_Skyline_double.segmap_num_tblocks_62202", "sort_for_Skyline_double.segmap_num_tblocks_63282", "sort_for_Skyline_double.segmap_num_tblocks_64272", "sort_for_Skyline_double.segmap_num_tblocks_64365", "sort_for_Skyline_double.segmap_num_tblocks_66476", "sort_for_Skyline_double.segmap_num_tblocks_66632", "sort_for_Skyline_double.segmap_num_tblocks_66690", "sort_for_Skyline_double.segmap_num_tblocks_67880", "sort_for_Skyline_double.segmap_num_tblocks_67890", "sort_for_Skyline_double.segmap_tblock_size_60327", "sort_for_Skyline_double.segmap_tblock_size_60355", "sort_for_Skyline_double.segmap_tblock_size_60391", "sort_for_Skyline_double.segmap_tblock_size_60422", "sort_for_Skyline_double.segmap_tblock_size_60505", "sort_for_Skyline_double.segmap_tblock_size_60551", "sort_for_Skyline_double.segmap_tblock_size_60577", "sort_for_Skyline_double.segmap_tblock_size_60647", "sort_for_Skyline_double.segmap_tblock_size_60676", "sort_for_Skyline_double.segmap_tblock_size_60853", "sort_for_Skyline_double.segmap_tblock_size_60882", "sort_for_Skyline_double.segmap_tblock_size_61009", "sort_for_Skyline_double.segmap_tblock_size_61035", "sort_for_Skyline_double.segmap_tblock_size_61067", "sort_for_Skyline_double.segmap_tblock_size_61093", "sort_for_Skyline_double.segmap_tblock_size_61147", "sort_for_Skyline_double.segmap_tblock_size_61180", "sort_for_Skyline_double.segmap_tblock_size_62036", "sort_for_Skyline_double.segmap_tblock_size_62200", "sort_for_Skyline_double.segmap_tblock_size_63280", "sort_for_Skyline_double.segmap_tblock_size_63376", "sort_for_Skyline_double.segmap_tblock_size_63391", "sort_for_Skyline_double.segmap_tblock_size_63404", "sort_for_Skyline_double.segmap_tblock_size_63449", "sort_for_Skyline_double.segmap_tblock_size_63464", "sort_for_Skyline_double.segmap_tblock_size_63477", "sort_for_Skyline_double.segmap_tblock_size_64270", "sort_for_Skyline_double.segmap_tblock_size_64363", "sort_for_Skyline_double.segmap_tblock_size_64611", "sort_for_Skyline_double.segmap_tblock_size_65146", "sort_for_Skyline_double.segmap_tblock_size_66265", "sort_for_Skyline_double.segmap_tblock_size_66297", "sort_for_Skyline_double.segmap_tblock_size_66474", "sort_for_Skyline_double.segmap_tblock_size_66503", "sort_for_Skyline_double.segmap_tblock_size_66630", "sort_for_Skyline_double.segmap_tblock_size_66656", "sort_for_Skyline_double.segmap_tblock_size_66688", "sort_for_Skyline_double.segmap_tblock_size_66714", "sort_for_Skyline_double.segmap_tblock_size_66768", "sort_for_Skyline_double.segmap_tblock_size_66801", "sort_for_Skyline_double.segmap_tblock_size_67847",
                                           "sort_for_Skyline_double.segmap_tblock_size_67878", "sort_for_Skyline_double.segmap_tblock_size_67888", "sort_for_Skyline_double.segmap_tblock_size_67896", "sort_for_Skyline_double.segmap_tblock_size_67916", "sort_for_Skyline_double.segmap_tblock_size_67936", "sort_for_Skyline_double.segmap_tblock_size_67956", "sort_for_Skyline_double.segmap_tblock_size_67976", "sort_for_Skyline_double.segmap_tblock_size_67994", "sort_for_Skyline_double.segmap_tblock_size_68018", "sort_for_Skyline_double.segmap_tblock_size_68038", "sort_for_Skyline_double.segmap_tblock_size_68058", "sort_for_Skyline_double.segmap_tblock_size_68078", "sort_for_Skyline_double.segmap_tblock_size_68098", "sort_for_Skyline_double.segmap_tblock_size_68116", "sort_for_Skyline_double.segmap_tblock_size_68163", "sort_for_Skyline_double.segred_num_tblocks_61948", "sort_for_Skyline_double.segred_num_tblocks_66038", "sort_for_Skyline_double.segred_tblock_size_61946", "sort_for_Skyline_double.segred_tblock_size_66036", "sort_for_Skyline_double.segscan_num_tblocks_66050", "sort_for_Skyline_double.segscan_num_tblocks_67422", "sort_for_Skyline_double.segscan_num_tblocks_68155", "sort_for_Skyline_double.segscan_tblock_size_66048", "sort_for_Skyline_double.segscan_tblock_size_67420", "sort_for_Skyline_double.segscan_tblock_size_68153", "sort_for_Skyline_double.suff_intra_par_0", "sort_for_Skyline_double.suff_intra_par_1", "sort_for_Skyline_double.suff_intra_par_2", "sort_for_Skyline_double.suff_intra_par_3", "sort_for_Skyline_double.suff_intra_par_5", "sort_for_Skyline_double.suff_intra_par_6", "sort_for_Skyline_double.suff_intra_par_7", "sort_for_Skyline_double.suff_outer_screma_4", "sort_for_Skyline_double.tblock_size_71876", "sort_for_Skyline_double.tblock_size_71919", "sort_for_Skyline_double.tblock_size_71963", "sort_for_Skyline_double.tblock_size_72041", "sort_for_Skyline_double.tblock_size_72429", "sort_for_Skyline_double.tblock_size_72449", "sort_for_Skyline_double.tblock_size_72469", "sort_for_Skyline_double.tblock_size_72627", "sort_for_Skyline_double.tblock_size_72650", "sort_for_Skyline_double.tblock_size_72673", "sort_for_Skyline_double.tblock_size_73165", "sort_for_Skyline_double.tblock_size_73208", "sort_for_Skyline_double.tblock_size_73252", "sort_for_Skyline_double.tblock_size_73475", "sort_for_Skyline_double.tblock_size_73508", "sort_for_Skyline_double.tblock_size_73541", "sort_for_Skyline_double.tblock_size_73613", "sort_for_Skyline_double.tblock_size_73681", "sort_for_Skyline_double.tblock_size_73726", "sort_for_Skyline_double.tblock_size_73759", "sort_for_Skyline_double.tblock_size_73792", "sort_for_Skyline_double.tblock_size_73858", NULL};
static const char *tuning_param_vars[] = {"builtinzhiota_i64zitblock_sizze_71665", "builtinzhreplicate_boolzitblock_sizze_71768", "builtinzhreplicate_f64zitblock_sizze_71682", "builtinzhreplicate_i32zitblock_sizze_71747", "builtinzhreplicate_i64zitblock_sizze_71709", "builtinzhreplicate_i8zitblock_sizze_72954", "calc_local_Skyline_GFUR_doublezihist_L2_72839", "calc_local_Skyline_GFUR_doublezihist_L_72786", "calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_60230", "calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58044", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58158", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58506", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58662", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58783", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_59909", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253", "calc_local_Skyline_GFUR_doublezisegred_num_tblocks_57832", "calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830", "calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_59899", "calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_60245", "calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897", "calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243", "calc_local_Skyline_GFUR_doublezisuff_intra_par_0", "calc_local_Skyline_GFUR_doublezisuff_intra_par_1", "calc_local_Skyline_GFUR_doublezisuff_intra_par_2", "calc_local_Skyline_GFUR_doublezitblock_sizze_71861", "calc_local_Skyline_GFUR_doublezitblock_sizze_71905", "calc_local_Skyline_GFUR_doublezitblock_sizze_71949", "calc_local_Skyline_GFUR_doublezitblock_sizze_72050", "calc_local_Skyline_GFUR_doublezitblock_sizze_72330", "calc_local_Skyline_GFUR_doublezitblock_sizze_72363", "calc_local_Skyline_GFUR_doublezitblock_sizze_72396", "calc_local_Skyline_GFUR_doublezitblock_sizze_72468", "calc_local_Skyline_GFUR_doublezitblock_sizze_72536", "calc_local_Skyline_GFUR_doublezitblock_sizze_72581", "calc_local_Skyline_GFUR_doublezitblock_sizze_72614", "calc_local_Skyline_GFUR_doublezitblock_sizze_72647", "calc_local_Skyline_GFUR_doublezitblock_sizze_72713", "define_skyline_space_doublezisegmap_tblock_sizze_57677", "define_skyline_space_doublezisegmap_tblock_sizze_57703", "define_skyline_space_doublezisegmap_tblock_sizze_57739", "define_skyline_space_doublezisegred_num_tblocks_57647", "define_skyline_space_doublezisegred_num_tblocks_57667", "define_skyline_space_doublezisegred_tblock_sizze_57645", "define_skyline_space_doublezisegred_tblock_sizze_57665", "define_skyline_space_doublezisegscan_num_tblocks_57639", "define_skyline_space_doublezisegscan_num_tblocks_57659", "define_skyline_space_doublezisegscan_tblock_sizze_57637", "define_skyline_space_doublezisegscan_tblock_sizze_57657", "sort_for_Skyline_doublezihist_L2_72787", "sort_for_Skyline_doublezihist_L2_73984", "sort_for_Skyline_doublezihist_L_72724", "sort_for_Skyline_doublezihist_L_73931", "sort_for_Skyline_doubleziseghist_num_tblocks_65955", "sort_for_Skyline_doubleziseghist_num_tblocks_68140", "sort_for_Skyline_doubleziseghist_tblock_sizze_65953", "sort_for_Skyline_doubleziseghist_tblock_sizze_68138", "sort_for_Skyline_doublezisegmap_num_tblocks_60393", "sort_for_Skyline_doublezisegmap_num_tblocks_60507", "sort_for_Skyline_doublezisegmap_num_tblocks_60855", "sort_for_Skyline_doublezisegmap_num_tblocks_61011", "sort_for_Skyline_doublezisegmap_num_tblocks_61069", "sort_for_Skyline_doublezisegmap_num_tblocks_62038", "sort_for_Skyline_doublezisegmap_num_tblocks_62202", "sort_for_Skyline_doublezisegmap_num_tblocks_63282", "sort_for_Skyline_doublezisegmap_num_tblocks_64272", "sort_for_Skyline_doublezisegmap_num_tblocks_64365", "sort_for_Skyline_doublezisegmap_num_tblocks_66476", "sort_for_Skyline_doublezisegmap_num_tblocks_66632", "sort_for_Skyline_doublezisegmap_num_tblocks_66690", "sort_for_Skyline_doublezisegmap_num_tblocks_67880", "sort_for_Skyline_doublezisegmap_num_tblocks_67890", "sort_for_Skyline_doublezisegmap_tblock_sizze_60327", "sort_for_Skyline_doublezisegmap_tblock_sizze_60355", "sort_for_Skyline_doublezisegmap_tblock_sizze_60391", "sort_for_Skyline_doublezisegmap_tblock_sizze_60422", "sort_for_Skyline_doublezisegmap_tblock_sizze_60505", "sort_for_Skyline_doublezisegmap_tblock_sizze_60551", "sort_for_Skyline_doublezisegmap_tblock_sizze_60577", "sort_for_Skyline_doublezisegmap_tblock_sizze_60647", "sort_for_Skyline_doublezisegmap_tblock_sizze_60676", "sort_for_Skyline_doublezisegmap_tblock_sizze_60853", "sort_for_Skyline_doublezisegmap_tblock_sizze_60882", "sort_for_Skyline_doublezisegmap_tblock_sizze_61009", "sort_for_Skyline_doublezisegmap_tblock_sizze_61035", "sort_for_Skyline_doublezisegmap_tblock_sizze_61067", "sort_for_Skyline_doublezisegmap_tblock_sizze_61093", "sort_for_Skyline_doublezisegmap_tblock_sizze_61147", "sort_for_Skyline_doublezisegmap_tblock_sizze_61180", "sort_for_Skyline_doublezisegmap_tblock_sizze_62036", "sort_for_Skyline_doublezisegmap_tblock_sizze_62200", "sort_for_Skyline_doublezisegmap_tblock_sizze_63280", "sort_for_Skyline_doublezisegmap_tblock_sizze_63376", "sort_for_Skyline_doublezisegmap_tblock_sizze_63391", "sort_for_Skyline_doublezisegmap_tblock_sizze_63404", "sort_for_Skyline_doublezisegmap_tblock_sizze_63449", "sort_for_Skyline_doublezisegmap_tblock_sizze_63464", "sort_for_Skyline_doublezisegmap_tblock_sizze_63477", "sort_for_Skyline_doublezisegmap_tblock_sizze_64270", "sort_for_Skyline_doublezisegmap_tblock_sizze_64363", "sort_for_Skyline_doublezisegmap_tblock_sizze_64611", "sort_for_Skyline_doublezisegmap_tblock_sizze_65146", "sort_for_Skyline_doublezisegmap_tblock_sizze_66265", "sort_for_Skyline_doublezisegmap_tblock_sizze_66297", "sort_for_Skyline_doublezisegmap_tblock_sizze_66474", "sort_for_Skyline_doublezisegmap_tblock_sizze_66503", "sort_for_Skyline_doublezisegmap_tblock_sizze_66630", "sort_for_Skyline_doublezisegmap_tblock_sizze_66656",
                                          "sort_for_Skyline_doublezisegmap_tblock_sizze_66688", "sort_for_Skyline_doublezisegmap_tblock_sizze_66714", "sort_for_Skyline_doublezisegmap_tblock_sizze_66768", "sort_for_Skyline_doublezisegmap_tblock_sizze_66801", "sort_for_Skyline_doublezisegmap_tblock_sizze_67847", "sort_for_Skyline_doublezisegmap_tblock_sizze_67878", "sort_for_Skyline_doublezisegmap_tblock_sizze_67888", "sort_for_Skyline_doublezisegmap_tblock_sizze_67896", "sort_for_Skyline_doublezisegmap_tblock_sizze_67916", "sort_for_Skyline_doublezisegmap_tblock_sizze_67936", "sort_for_Skyline_doublezisegmap_tblock_sizze_67956", "sort_for_Skyline_doublezisegmap_tblock_sizze_67976", "sort_for_Skyline_doublezisegmap_tblock_sizze_67994", "sort_for_Skyline_doublezisegmap_tblock_sizze_68018", "sort_for_Skyline_doublezisegmap_tblock_sizze_68038", "sort_for_Skyline_doublezisegmap_tblock_sizze_68058", "sort_for_Skyline_doublezisegmap_tblock_sizze_68078", "sort_for_Skyline_doublezisegmap_tblock_sizze_68098", "sort_for_Skyline_doublezisegmap_tblock_sizze_68116", "sort_for_Skyline_doublezisegmap_tblock_sizze_68163", "sort_for_Skyline_doublezisegred_num_tblocks_61948", "sort_for_Skyline_doublezisegred_num_tblocks_66038", "sort_for_Skyline_doublezisegred_tblock_sizze_61946", "sort_for_Skyline_doublezisegred_tblock_sizze_66036", "sort_for_Skyline_doublezisegscan_num_tblocks_66050", "sort_for_Skyline_doublezisegscan_num_tblocks_67422", "sort_for_Skyline_doublezisegscan_num_tblocks_68155", "sort_for_Skyline_doublezisegscan_tblock_sizze_66048", "sort_for_Skyline_doublezisegscan_tblock_sizze_67420", "sort_for_Skyline_doublezisegscan_tblock_sizze_68153", "sort_for_Skyline_doublezisuff_intra_par_0", "sort_for_Skyline_doublezisuff_intra_par_1", "sort_for_Skyline_doublezisuff_intra_par_2", "sort_for_Skyline_doublezisuff_intra_par_3", "sort_for_Skyline_doublezisuff_intra_par_5", "sort_for_Skyline_doublezisuff_intra_par_6", "sort_for_Skyline_doublezisuff_intra_par_7", "sort_for_Skyline_doublezisuff_outer_screma_4", "sort_for_Skyline_doublezitblock_sizze_71876", "sort_for_Skyline_doublezitblock_sizze_71919", "sort_for_Skyline_doublezitblock_sizze_71963", "sort_for_Skyline_doublezitblock_sizze_72041", "sort_for_Skyline_doublezitblock_sizze_72429", "sort_for_Skyline_doublezitblock_sizze_72449", "sort_for_Skyline_doublezitblock_sizze_72469", "sort_for_Skyline_doublezitblock_sizze_72627", "sort_for_Skyline_doublezitblock_sizze_72650", "sort_for_Skyline_doublezitblock_sizze_72673", "sort_for_Skyline_doublezitblock_sizze_73165", "sort_for_Skyline_doublezitblock_sizze_73208", "sort_for_Skyline_doublezitblock_sizze_73252", "sort_for_Skyline_doublezitblock_sizze_73475", "sort_for_Skyline_doublezitblock_sizze_73508", "sort_for_Skyline_doublezitblock_sizze_73541", "sort_for_Skyline_doublezitblock_sizze_73613", "sort_for_Skyline_doublezitblock_sizze_73681", "sort_for_Skyline_doublezitblock_sizze_73726", "sort_for_Skyline_doublezitblock_sizze_73759", "sort_for_Skyline_doublezitblock_sizze_73792", "sort_for_Skyline_doublezitblock_sizze_73858", NULL};
static const char *tuning_param_classes[] = {"thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "cache", "shared_memory", "grid_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_0)", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_1 !calc_local_Skyline_GFUR_double.suff_intra_par_0)", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "cache", "cache", "shared_memory", "shared_memory", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_0)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_2)", "threshold(32, !sort_for_Skyline_double.suff_outer_screma_4)", "threshold(32, !sort_for_Skyline_double.suff_intra_par_5 !sort_for_Skyline_double.suff_outer_screma_4)", "threshold(32, !sort_for_Skyline_double.suff_intra_par_6 !sort_for_Skyline_double.suff_intra_par_5 !sort_for_Skyline_double.suff_outer_screma_4)", "threshold(def, )", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", NULL};
static int64_t tuning_param_defaults[] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
static const int max_failure_args = 3;
static const int f64_required = 1;
static const char *gpu_program[] = {"#define FUTHARK_CUDA\n// start of prelude.cu\n\n#define SCALAR_FUN_ATTR __device__ static inline\n#define FUTHARK_FUN_ATTR __device__ static\n#define FUTHARK_F64_ENABLED\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long long int64_t;\ntypedef unsigned char uint8_t;\ntypedef unsigned short uint16_t;\ntypedef unsigned int uint32_t;\ntypedef unsigned long long uint64_t;\n\n#define __global\n#define __local\n#define __private\n#define __constant\n#define __write_only\n#define __read_only\n\nstatic inline __device__ int get_tblock_id(int d) {\n  switch (d) {\n  case 0: return blockIdx.x;\n  case 1: return blockIdx.y;\n  case 2: return blockIdx.z;\n  default: return 0;\n  }\n}\n\nstatic inline __device__ int get_num_tblocks(int d) {\n  switch(d) {\n  case 0: return gridDim.x;\n  case 1: return gridDim.y;\n  case 2: return gridDim.z;\n  default: return 0;\n  }\n}\n\nstatic inline __device__ int get_global_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x + blockIdx.x * blockDim.x;\n    case 1: return threadIdx.y + blockIdx.y * blockDim.y;\n    case 2: return threadIdx.z + blockIdx.z * blockDim.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_local_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x;\n    case 1: return threadIdx.y;\n    case 2: return threadIdx.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_local_size(int d) {\n  switch (d) {\n    case 0: return blockDim.x;\n    case 1: return blockDim.y;\n    case 2: return blockDim.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_global_size(int d) {\n  switch (d) {\n    case 0: return gridDim.x * blockDim.x;\n    case 1: return gridDim.y * blockDim.y;\n    case 2: return gridDim.z * blockDim.z;\n    default: return 0;\n  }\n}\n\n\n#define CLK_LOCAL_MEM_FENCE 1\n#define CLK_GLOBAL_MEM_FENCE 2\nstatic inline __device__ void barrier(int x) {\n  __syncthreads();\n}\nstatic inline __device__ void mem_fence_local() {\n  __threadfence_block();\n}\nstatic inline __device__ void mem_fence_global", "() {\n  __threadfence();\n}\n\nstatic inline __device__ void barrier_local() {\n  __syncthreads();\n}\n\n#define NAN (0.0/0.0)\n#define INFINITY (1.0/0.0)\nextern volatile __shared__ unsigned char shared_mem[];\n\n#define SHARED_MEM_PARAM\n#define FUTHARK_KERNEL extern \"C\" __global__ __launch_bounds__(MAX_THREADS_PER_BLOCK)\n#define FUTHARK_KERNEL_SIZED(a,b,c) extern \"C\" __global__ __launch_bounds__(a*b*c)\n\n// End of prelude.cu\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0", "000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8",
                                    "000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24,", " 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 2", "4, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x37",
                                    "1B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x", "37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x", "37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x",
                                    "38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x", "384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, ", "0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, ",
                                    "0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, ", "0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000", ", 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000",
                                    ", 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000", ", 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x387620", "00, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1",
                                    "024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nSCALAR_FUN_ATTR uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nSCALAR_FUN_ATTR float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\nSCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {\n  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;\n  if(fabs > 0x7C00 || tabs > 0x7C00) {\n    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);\n  }\n  if(from == to || !(fabs|tabs)) {\n    return to;\n  }\n  if(!fabs) {\n    return (to&0x8000)+1;\n  }\n  unsigned int out =\n    from +\n    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)\n    - 1;\n  return out;\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n/", "/ Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);\n\nSCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\n#if ISPC\n\nSCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {\n  // This strange pattern is used to prevent the ISPC compiler from\n  // causing SIGFPEs and bogus results on divisions where inactive lanes\n  // have 0-valued divisors. It ensures that any inactive lane instead\n  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  uint", "8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALA",
                                    "R_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int8_t q = x / ys;\n  int8_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int16_t q = x / ys;\n  int16_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  int32_t q = x / ys;\n  int32_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int64_t q = x / ys;\n  int64_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y)", " {\n  return sdiv32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int8_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int16_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int32_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int64_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) ", "{\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  ",
                                    "foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\n#else\n\nSCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return", " y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = ", "x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t ",
                                    "y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\n#endif\n\nSCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nS", "CALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nSCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nSCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nSCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult64(uint64_t x, uint64", "_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x",
                                    ") {\n  return x;\n}\n\nSCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nSCALAR_FUN_ATTR int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nSCALAR_FUN_ATTR int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nSCALAR_FUN_ATTR int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VER", "SION__) || defined(ISPC)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return m", "ul_hi(a, b); }\n#elif defined(__CUDA_ARCH__)\nSCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }\nSCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }\n#elif ISPC\nSCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 = al * bl;\n  uint64_t p2 = al * bh;\n  uint64_t p3 = ah * bl;\n  uint64_t p4 = ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\nSCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR int",
                                    "32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 =  al * bl;\n  int64_t  p2 = al * bh;\n  int64_t  p3 = ah * bl;\n  uint64_t p4 =  ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\n\n#else // Not OpenCL, ISPC, or CUDA, but plain C.\nSCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }\nSCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nSCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nSCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }\nSCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t ", "a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }\n#else // Not OpenCL\n\nSCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }\nSCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }\nSCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }\nSCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }\nSCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }\nSCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }\nSCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }\nSCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  retur", "n __clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return count_leading_zeros((int32_t)(uint8_t)x)-24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return count_leading_zeros((int32_t)(uint16_t)x)-16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return count_leading_zeros(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return count_leading_zeros(x);\n}\n\n#else // Not OpenCL, ISPC or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1",
                                    ";\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  return count_trailing_zeros(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  return count_trailing_zeros(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nSCALAR_FUN_ATTR float fdiv32(float x, float y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR float fadd32(float x, float y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR float fsub32(float x, float y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR float fmul32(float x, float y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, f", "loat y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float a, float b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return fabsf(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nSCALAR_FUN_ATTR bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\n#if ISPC\n\nSCALAR_FUN_ATTR bool futrts_isinf32(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isfinite32(float x) {\n  return !isnan(x) && !futrts_isinf32(x);\n}\n\n#else\n\nSCALAR_FUN_ATTR bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#endif\n\nSCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  };\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {", "\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f32_bool(float x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR float btof_bool_f32(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cbrt32(float x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nSC",
                                    "ALAR_FUN_ATTR float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  return erf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nSCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return futrts_log32(x) / log(2.0f);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return futrts_log32(x) / log(10.0f);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;\n  float y = 1.0f + x;\n  float z = y - 1.0f;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform float cbrtf(uniform float);\nSCALAR_FUN_ATTR float futrts_cbrt32(float", " x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return (exp(x)+exp(-x)) / 2.0f;\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return (exp(x)-exp(-x)) / 2.0f;\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return futrts_sinh32(x)/futrts_cosh32(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  float f = x+sqrt(x*x-1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  float f = x+sqrt(x*x+1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n\n}\n\nSCALAR_FUN_ATTR float futrts_atanh32(float x) {\n  float f = (1+x)/(1-x);\n  if(futrts_isfinite32(f)) return log(f)/2.0f;\n  return f;\n\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {\n    x = abs(x);\n    y = abs(y);\n    float a;\n    float b;\n    if (x >= y){\n        a = x;\n        b = y;\n    } else {\n        a = y;\n        b = x;\n    }\n    if(b == 0){\n      return a;\n    }\n\n    int e;\n    float an;\n    float bn;\n    an = frexp (a, &e);\n    bn = ldexp (b, - e);\n    float cn;\n    cn = sqrt (an * an + bn * bn);\n    return ldexp (cn, e);\n  } else {\n    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;\n    else return x + y;\n  }\n\n}\n\nextern \"C\" unmasked uniform float tgammaf(", "uniform float x);\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = tgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = lgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erff(uniform float x);\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erff(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erfcf(uniform float x);\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erfcf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return x - y * trunc(x/y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  return round(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform float nextafterf(uniform float x, uniform float y);\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  float res;\n  foreach_active (i) {\n    uniform float r = nextafterf(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return x * pow((double)2.0, (double)y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  int32_t xb = futrts_to_bits32(x);\n  int32_t yb = futrts_to_bits32(y);\n  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float futr",
                                    "ts_fma32(float a, float b, float c) {\n  return a * b + c;\n}\n\n#else // Not OpenCL or ISPC, but CUDA or plain C.\n\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return logf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  return log1pf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cbrt32(float x) {\n  return cbrtf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return expf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  return erff(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  return erfcf(x);\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  re", "turn rintf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  return nextafterf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return ldexpf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  return copysignf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\n#if ISPC\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {\n  return intbits(x);\n}\n\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {\n  return floatbits(x);\n}\n#else\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\nSCALAR_FUN_ATTR float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);\n\n#if ISPC\nSCALAR_FUN_ATTR bool futrts_isinf64(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isfinite64(float x) {\n  return !isnan(x) && !futrts_isinf64(x);\n}\n\nSCALAR_FUN_ATTR double fdiv64(double x, double y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR double fadd64(double x, double y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR double fsub64(double x, double y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR double fmul64(double x, double y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple64(double x, double y) {\n  return x <= y;\n}", "\n\nSCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double fabs64(double x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR double fmax64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR double fmin64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR double fpow64(double a, double b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\nSCALAR_FUN_ATTR double futrts_log64(double x) {\n  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;\n}\n\nSCALAR_FUN_ATTR double futrts_log2_64(double x) {\n  return futrts_log64(x)/log(2.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_log10_64(double x) {\n  return futrts_log64(x)/log(10.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_log1p_64(double x) {\n  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;\n  double y = 1.0d + x;\n  double z = y - 1.0d;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform double cbrt(uniform double);\nSCALAR_FUN_ATTR double futrts_cbrt64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_exp64(double x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cos64(dou",
                                    "ble x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sin64(double x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tan64(double x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acos64(double x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asin64(double x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan64(double x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cosh64(double x) {\n  return (exp(x)+exp(-x)) / 2.0d;\n}\n\nSCALAR_FUN_ATTR double futrts_sinh64(double x) {\n  return (exp(x)-exp(-x)) / 2.0d;\n}\n\nSCALAR_FUN_ATTR double futrts_tanh64(double x) {\n  return futrts_sinh64(x)/futrts_cosh64(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acosh64(double x) {\n  double f = x+sqrt(x*x-1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR double futrts_asinh64(double x) {\n  double f = x+sqrt(x*x+1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR double futrts_atanh64(double x) {\n  double f = (1.0d+x)/(1.0d-x);\n  if(futrts_isfinite64(f)) return log(f)/2.0d;\n  return f;\n\n}\n\nSCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nextern \"C\" unmasked uniform double hypot(uniform double x, uniform double y);\nSCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = hypot(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double tgamma(uniform double x);\nSCALAR_FUN_ATTR double futrts_gamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = tgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double lgamma(uniform double x);\nSCALAR_FUN_ATTR double futrts_lgamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = lgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erf(uniform double x);\nSCALAR_FUN_ATTR do", "uble futrts_erf64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erfc(uniform double x);\nSCALAR_FUN_ATTR double futrts_erfc64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erfc(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR double futrts_round64(double x) {\n  return round(x);\n}\n\nSCALAR_FUN_ATTR double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform double nextafter(uniform float x, uniform double y);\nSCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = nextafter(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_floor64(double x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int", "16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f64_bool(double x) {\n  return x != 0.0;\n}\n\nSCALAR_FUN_ATTR double btof_bool_f64(bool x) {\n  return x ? 1.0 : 0.0;\n}\n\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {\n  int64_t res;\n  foreach_active (i) {\n    uniform double tmp = extract(x, i);\n    uniform int64_t r = *((uniform int64_t* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {\n  double res;\n  foreach_active (i) {\n    uniform int64_t tmp = extract(x, i);\n    uniform double r = *((uniform double* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double fmod64(double x, double y) {\n  return x - y * trunc(x/y);\n}\n\nSCALAR_FUN_ATTR double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {\n  return x * pow((double)2.0, (double)y);\n}\n\nSCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {\n  int64_t xb = futrts_to_bits64(x);\n  int64_t yb = futrts_to_bits64(y);\n  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));\n}\n\nSCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#e",
                                    "lse\n\nSCALAR_FUN_ATTR double fdiv64(double x, double y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR double fadd64(double x, double y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR double fsub64(double x, double y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR double fmul64(double x, double y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double fabs64(double x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_log64(double x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log1p_64(double x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cbrt64(double x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR double futrts_exp64(double x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cos64(double x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sin64(double x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tan64(double x) {\n  r", "eturn tan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acos64(double x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asin64(double x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan64(double x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR double futrts_erf64(double x) {\n  return erf(x);\n}\n\nSCALAR_FUN_ATTR double futrts_erfc64(double x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nSCALAR_FUN_ATTR double futrts_round64(double x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_floor64(double x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x", ") {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f64_bool(double x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR double btof_bool_f64(bool x) {\n  return x ? 1 : 0;\n}\n\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {\n  union {\n    int64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nSCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nSCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nSCALAR",
                                    "_FUN_ATTR float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#elif ISPC\ntypedef float16 f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions are not available.\n\nSCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nSCALAR", "_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\nSCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {\n  return x != (f16)0;\n}\n\nSCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifndef EMULATE_F16\nSCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#elif ISPC\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#else // Assuming CUDA.\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 ", "x, f16 y) {\n  return fminf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\n#if ISPC\nSCALAR_FUN_ATTR bool futrts_isinf16(float x) {\n  return !futrts_isnan16(x) && futrts_isnan16(x - x);\n}\nSCALAR_FUN_ATTR bool futrts_isfinite16(float x) {\n  return !futrts_isnan16(x) && !futrts_isinf16(x);\n}\n\n#else\n\nSCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n#endif\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return e",
                                    "rf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n#elif ISPC\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return futrts_log16(x) / log(2.0f16);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return futrts_log16(x) / log(10.0f16);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;\n  f16 y = 1.0f16 + x;\n  f16 z = y - 1.0f16;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return (float16)sqrt((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return (float16)cos((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return (float16)sin((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return (float16)tan((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return (float16)acos((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return (float16)asin((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return (float16)atan((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  retu", "rn (exp(x)+exp(-x)) / 2.0f16;\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return (exp(x)-exp(-x)) / 2.0f16;\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return futrts_sinh16(x)/futrts_cosh16(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x-1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x+1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  float16 f = (1+x)/(1-x);\n  if(futrts_isfinite16(f)) return log(f)/2.0f16;\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return (float16)atan2((float)x, (float)y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return (float16)futrts_hypot32((float)x, (float)y);\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)tgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)lgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  f16 res = (f16)futrts_cbrt32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  f16 res = (f16)futrts_erf32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  f16 res = (f16)futrts_erfc32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return x - y * (float16)trunc((float) (x/y));\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return (float16)round((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return (float16)floor((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return (float16)ceil((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrt", "s_nextafter16(f16 x, f16 y) {\n  return (float16)futrts_nextafter32((float)x, (float) y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\n#else // Assume CUDA.\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return (f16)log1pf((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return cbrtf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f1",
                                    "6 x) {\n  return tgammaf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return erff(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return erfcf(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return hfloor(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#elif ISPC\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  varying int16_t y = *((varying int16_t * uniform)&x);\n  return y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  varying f16 y = *((varying f16 * uniform)&x);\n  return y;\n}\n#else\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nSC", "ALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return futrts_log1p_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return futrts_cbrt32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nSCA", "LAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return futrts_erf32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return futrts_erfc32(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nSCALAR_FUN_ATTR f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#endif\n\n#endif\n\nSCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {\n  retu",
                                    "rn x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {\n  return (f16) x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\n#if ISPC\nSCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {\n  return (f16) ((float)x);\n}\n#else\nSCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n#endif\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                                         int32_t cmp, int32_t val);\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_shared(volatile __local int32_t *p,\n                                                        int32_t cmp, int32_t val);\nSCALAR_FUN_ATTR int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_add_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR float atomic_fadd_f32_global(volatile __global float *p, float x);\nSCALAR_FUN_ATTR float atomic_fadd_f32_shared(volatile __local float *p, float x);\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_shared(volatile __local uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_shared(volatile __local uint32", "_t *p, uint32_t x);\nSCALAR_FUN_ATTR int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_and_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_or_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_shared(volatile __local int32_t *p, int32_t x);\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                                         int32_t cmp, int32_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_shared(volatile __local int32_t *p,\n                                                        int32_t cmp, int32_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_add_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((int32_t*)p, x);\n#el", "se\n  return atomic_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((float*)p, x);\n  // On OpenCL, use technique from\n  // https://pipinspace.github.io/blog/atomic-float-addition-in-opencl.html\n#elif defined(cl_nv_pragma_unroll)\n  // use hardware-supported atomic addition on Nvidia GPUs with inline\n  // PTX assembly\n  float ret;\n  asm volatile(\"atom.global.add.f32 %0,[%1],%2;\":\"=f\"(ret):\"l\"(p),\"f\"(x):\"memory\");\n  return ret;\n#elif defined(__opencl_c_ext_fp32_global_atomic_add)\n  // use hardware-supported atomic addition on some Intel GPUs\n  return atomic_fetch_add_explicit((volatile __global atomic_float*)p,\n                                   x,\n                                   memory_order_relaxed);\n#elif __has_builtin(__builtin_amdgcn_global_atomic_fadd_f32)\n  // use hardware-supported atomic addition on some AMD GPUs\n  return __builtin_amdgcn_global_atomic_fadd_f32(p, x);\n#else\n  // fallback emulation:\n  // https://forums.developer.nvidia.com/t/atomicadd-float-float-atomicmul-float-float/14639/5\n  float old = x;\n  float ret;\n  while ((old=atomic_xchg(p, ret=atomic_xchg(p, 0.0f)+old))!=0.0f);\n  return ret;\n#endif\n}\n\nSCALAR_FUN_ATTR float atomic_fadd_f32_shared(volatile __local float *p, float x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_shared((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_shared(volatile",
                                    " __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_shared(volatile __local uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_shared(volatile __local uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_and_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_or_i32_global(volatile __global int32_t *p, ", "int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_or_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP) || defined(cl_khr_int64_base_atomics) && defined(cl_khr_int64_extended_atomics)\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                                         int64_t cmp, int64_t val);\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_shared(volatile __local int64_t *p,\n                                                        int64_t cmp, int64_t val);\nSCALAR_FUN_ATTR int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_add_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR uint", "64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_shared(volatile __local uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_shared(volatile __local uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_and_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_or_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_shared(volatile __local int64_t *p, int64_t x);\n\n#ifdef FUTHARK_F64_ENABLED\nSCALAR_FUN_ATTR double atomic_fadd_f64_global(volatile __global double *p, double x);\nSCALAR_FUN_ATTR double atomic_fadd_f64_shared(volatile __local double *p, double x);\n#endif\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                                         int64_t cmp, int64_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_shared(volatile __local int64_t *p,\n                                                        int64_t cmp, int64_t val) {\n#if defined(F",
                                    "UTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_add_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600 || defined(FUTHARK_HIP)\n  return atomicAdd((double*)p, x);\n  // On OpenCL, use technique from\n  // https://pipinspace.github.io/blog/atomic-float-addition-in-opencl.html\n#elif defined(cl_nv_pragma_unroll)\n  // use hardware-supported atomic addition on Nvidia GPUs with inline\n  // PTX assembly\n  double ret;\n  asm volatile(\"atom.global.add.f64 %0,[%1],%2;\":\"=d\"(ret):\"l\"(p),\"d\"(x):\"memory\");\n  return ret;\n#elif __has_builtin(__builtin_amdgcn_global_atomic_fadd_f64)\n  // use hardware-supported atomic addition on some AMD GPUs\n  return __builtin_amdgcn_global_atomic_fadd_f64(p, x);\n#else\n  // fallback emulation:\n  // https://forums.developer.nvidia.com/t/atomicadd-float-float-atomicmul-float-float/14639/5\n  union {int64_t i; double f;} old;\n  union {int64_t i; double f;} ret;\n  old.f = x;\n  while (1) {\n    ret.i = atom_xchg((volatile __global int64_t*)p, (int64_t)0);\n    ret.f += old.f;\n    old.i = atom_xchg((volatile __global int64_t*)p, ret.i);\n    if (old.i == 0) {\n      break;\n    }\n  }\n  return ret.f;\n#endif\n}\n\nSCALAR_FUN_ATTR double atomic_fadd_f64_shared(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600 || defined(FUTHARK_HIP)\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  u", "nion { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMax((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smax64(old, x);\n    old = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMax((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smax64(old, x);\n    old = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMin((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smin64(old, x);\n    old = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMin((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do ", "{\n    assumed = old;\n    old = smin64(old, x);\n    old = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_shared(volatile __local uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_shared(volatile __local uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((uint64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_and_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((uint64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((uint64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_or_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((uint64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_global(v",
                                    "olatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n#endif // defined(FUTHARK_CUDA) || defined(FUTHARK_HIP) || defined(cl_khr_int64_base_atomics) && defined(cl_khr_int64_extended_atomics)\n\n// End of atomics.h\n// Start of transpose.cl\n\n#define GEN_TRANSPOSE_KERNELS(NAME, ELEM_TYPE)                          \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*2, TR_TILE_DIM/TR_ELEMS_PER_THREAD, 1)\\\nvoid map_transpose_##NAME(SHARED_MEM_PARAM                              \\\n                          __global ELEM_TYPE *dst_mem,                  \\\n                          int64_t dst_offset,                           \\\n                          __global ELEM_TYPE *src_mem,                  \\\n                          int64_t src_offset,                           \\\n                          int32_t num_arrays,                           \\\n                          int32_t x_elems,                              \\\n                          int32_t y_elems,                              \\\n                          int32_t mulx,                                 \\\n                          int32_t muly,                                 \\\n                          int32_t repeat_1,                             \\\n                          int32_t repeat_2) {                           \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_g", "lobal_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index = global_id_0;                                    \\\n      int32_t y_index = tblock_id_1 * TR_TILE_DIM + get_local_id(1);    \\\n      if (x_index < x_elems) {                                          \\\n        for (int32_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int32_t index_i = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * x_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < y_elems) { \\\n            block[(get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * (TR_TILE_DIM+1) + \\\n                  get_local_id(0)] =                                    \\\n              src_mem[idata_offset + index_i];                          \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_TILE_DIM + get_local_id(0);            \\\n      y_index = tblock_id_0 * TR_TILE_DIM + get_local_id(1);            \\\n      if (x_index < y_elems) {                                          \\\n        for (int32_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int32_t index_out = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * y_elems + x_index; \\\n          if (y_in", "dex + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < x_elems) { \\\n            dst_mem[(odata_offset + index_out)] =                       \\\n              block[get_local_id(0) * (TR_TILE_DIM+1) +                 \\\n                    get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)]; \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM, TR_BLOCK_DIM, 1)                     \\\nvoid map_transpose_##NAME##_low_height(SHARED_MEM_PARAM                 \\\n                                                __global ELEM_TYPE *dst_mem, \\\n                                                int64_t dst_offset,     \\\n                                                __global ELEM_TYPE *src_mem, \\\n                                                int64_t src_offset,     \\\n                                                int32_t num_arrays,     \\\n                                                int32_t x_elems,        \\\n                                                int32_t y_elems,        \\\n                                                int32_t mulx,           \\\n                                                int32_t muly,           \\\n                                                int32_t repeat_1,       \\\n ",
                                    "                                               int32_t repeat_2) {     \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index =                                                 \\\n        tblock_id_0 * TR_BLOCK_DIM * mulx +                             \\\n        get_local_id(0) +                                               \\\n        get_local_id(1)%mulx * TR_BLOCK_DIM;                            \\\n      int32_t y_index = tblock_id_1 * TR_BLOCK_DIM + get_local_id(1)/mulx; \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      if (x_index < x_elems && y_index < y_elems) {                     \\\n        block[get_local_id(1) * (TR_BLOCK_DIM+1) + get_local_id(0)] =   \\\n          src_mem[idata_offset + index_in];                             \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_BLOCK_DIM + get_local_id(0)/mulx;      \\\n      y_index =                                                         \\\n        tblock_id_0 * TR_BLOCK_DIM * mulx +                             \\\n", "        get_local_id(1) +                                               \\\n        (get_local_id(0)%mulx) * TR_BLOCK_DIM;                          \\\n      int32_t index_out = y_index * y_elems + x_index;                  \\\n      if (x_index < y_elems && y_index < x_elems) {                     \\\n        dst_mem[odata_offset + index_out] =                             \\\n          block[get_local_id(0) * (TR_BLOCK_DIM+1) + get_local_id(1)];  \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM, TR_BLOCK_DIM, 1)                     \\\nvoid map_transpose_##NAME##_low_width(SHARED_MEM_PARAM                  \\\n                                      __global ELEM_TYPE *dst_mem,      \\\n                                      int64_t dst_offset,               \\\n                                      __global ELEM_TYPE *src_mem,      \\\n                                      int64_t src_offset,               \\\n                                      int32_t num_arrays,               \\\n                                      int32_t x_elems,                  \\\n                                      int32_t y_elems,                  \\\n                                      int32_t mulx,                     \\\n                                      int32_t muly,                     \\\n                                      int32_t repeat_1,                 \\\n  ", "                                    int32_t repeat_2) {               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index = tblock_id_0 * TR_BLOCK_DIM + get_local_id(0)/muly; \\\n      int32_t y_index =                                                 \\\n        tblock_id_1 * TR_BLOCK_DIM * muly +                             \\\n        get_local_id(1) + (get_local_id(0)%muly) * TR_BLOCK_DIM;        \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      if (x_index < x_elems && y_index < y_elems) {                     \\\n        block[get_local_id(1) * (TR_BLOCK_DIM+1) + get_local_id(0)] =   \\\n          src_mem[idata_offset + index_in];                             \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_BLOCK_DIM * muly +                     \\\n        get_local_id(0) + (get_local_id(1)%muly) * TR_BLOCK_DIM;        \\\n      y_index = tblock_id_0 * TR_BLOCK_DIM + get_local_id(1)/muly;      \\\n      int32_t index_out = y_index * y_elems + x_index;                  \\\n ",
                                    "     if (x_index < y_elems && y_index < x_elems) {                     \\\n        dst_mem[odata_offset + index_out] =                             \\\n          block[get_local_id(0) * (TR_BLOCK_DIM+1) + get_local_id(1)];  \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_num_tblocks(2) * get_local_size(2);            \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_num_tblocks(1) * get_local_size(1);              \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*TR_BLOCK_DIM, 1, 1)                   \\\nvoid map_transpose_##NAME##_small(SHARED_MEM_PARAM                       \\\n                                  __global ELEM_TYPE *dst_mem,          \\\n                                  int64_t dst_offset,                   \\\n                                  __global ELEM_TYPE *src_mem,          \\\n                                  int64_t src_offset,                   \\\n                                  int32_t num_arrays,                   \\\n                                  int32_t x_elems,                      \\\n                                  int32_t y_elems,                      \\\n                                  int32_t mulx,                         \\\n                                  int32_t muly,                         \\\n                                  int32_t repeat_1,                     \\\n                                  int32_t repeat_2) {                   \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  ", "int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = global_id_0/(y_elems * x_elems) * y_elems * x_elems; \\\n      int32_t x_index = (global_id_0 % (y_elems * x_elems))/y_elems;    \\\n      int32_t y_index = global_id_0%y_elems;                            \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      int32_t index_out = x_index * y_elems + y_index;                  \\\n      if (global_id_0 < x_elems * y_elems * num_arrays) {               \\\n        dst_mem[odata_offset + index_out] = src_mem[idata_offset + index_in]; \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*2, TR_TILE_DIM/TR_ELEMS_", "PER_THREAD, 1)\\\nvoid map_transpose_##NAME##_large(SHARED_MEM_PARAM                      \\\n                                  __global ELEM_TYPE *dst_mem,          \\\n                                  int64_t dst_offset,                   \\\n                                  __global ELEM_TYPE *src_mem,          \\\n                                  int64_t src_offset,                   \\\n                                  int64_t num_arrays,                   \\\n                                  int64_t x_elems,                      \\\n                                  int64_t y_elems,                      \\\n                                  int64_t mulx,                         \\\n                                  int64_t muly,                         \\\n                                  int32_t repeat_1,                     \\\n                                  int32_t repeat_2) {                   \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;             \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int64_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int64_t odata_offset = dst_offset + our_array_offset;             \\\n      int64_t idata_offset = src_offset + our_array_offset;             \\\n      int64_t x_index = global_id_0;                                    \\\n      int64_t y_index = tblock_id_1 * TR_TILE_DIM + get_loc",
                                    "al_id(1);    \\\n      if (x_index < x_elems) {                                          \\\n        for (int64_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int64_t index_i = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * x_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < y_elems) { \\\n            block[(get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * (TR_TILE_DIM+1) + \\\n                  get_local_id(0)] =                                    \\\n              src_mem[idata_offset + index_i];                          \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_TILE_DIM + get_local_id(0);            \\\n      y_index = tblock_id_0 * TR_TILE_DIM + get_local_id(1);            \\\n      if (x_index < y_elems) {                                          \\\n        for (int64_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int64_t index_out = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * y_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < x_elems) { \\\n            dst_mem[(odata_offset + index_out)] =                       \\\n              block[get_local_id(0) * (TR_TILE_DIM+1) +                 \\\n                    get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)]; \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                      ", "                             \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n\nGEN_TRANSPOSE_KERNELS(1b, uint8_t)\nGEN_TRANSPOSE_KERNELS(2b, uint16_t)\nGEN_TRANSPOSE_KERNELS(4b, uint32_t)\nGEN_TRANSPOSE_KERNELS(8b, uint64_t)\n\n// End of transpose.cl\n// Start of copy.cl\n\n#define GEN_COPY_KERNEL(NAME, ELEM_TYPE) \\\nFUTHARK_KERNEL void lmad_copy_##NAME(SHARED_MEM_PARAM                   \\\n                               __global ELEM_TYPE *dst_mem,             \\\n                               int64_t dst_offset,                      \\\n                               __global ELEM_TYPE *src_mem,             \\\n                               int64_t src_offset,                      \\\n                               int64_t n,                               \\\n                               int r,                                   \\\n                               int64_t shape0, int64_t dst_stride0, int64_t src_stride0, \\\n                               int64_t shape1, int64_t dst_stride1, int64_t src_stride1, \\\n                               int64_t shape2, int64_t dst_stride2, int64_t src_stride2, \\\n                               int64_t shape3, int64_t dst_stride3, int64_t src_stride3, \\\n                               int64_t shape4, int64_t dst_stride4, int64_t src_stride4, \\\n                               int64_t shape5, int64_t dst_stride5, int64_t src_stride5, \\\n                               int64_t shape6, int64_t dst_stride6, int64_t src_stride6, \\\n                               int64_t shape7, int64_t dst_stride7, int64_t src_stride7) { \\\n  int64_t gtid = get_global_id(0);                                      \\\n  int64_t remainder = gtid;                                             \\\n                                             ", "                           \\\n  if (gtid >= n) {                                                      \\\n    return;                                                             \\\n  }                                                                     \\\n                                                                        \\\n  if (r > 0) {                                                          \\\n    int64_t i = remainder % shape0;                                     \\\n    dst_offset += i * dst_stride0;                                      \\\n    src_offset += i * src_stride0;                                      \\\n    remainder /= shape0;                                                \\\n  }                                                                     \\\n  if (r > 1) {                                                          \\\n    int64_t i = remainder % shape1;                                     \\\n    dst_offset += i * dst_stride1;                                      \\\n    src_offset += i * src_stride1;                                      \\\n    remainder /= shape1;                                                \\\n  }                                                                     \\\n  if (r > 2) {                                                          \\\n    int64_t i = remainder % shape2;                                     \\\n    dst_offset += i * dst_stride2;                                      \\\n    src_offset += i * src_stride2;                                      \\\n    remainder /= shape2;                                                \\\n  }                                                                     \\\n  if (r > 3) {                                                          \\\n    int64_t i = remainder % shape3;                                     \\\n    dst_offset += i * dst_stride3;                                      \\\n    src_offset += i * src_stride3;                                      \\\n    remainder /= shape3;                       ",
                                    "                         \\\n  }                                                                     \\\n  if (r > 4) {                                                          \\\n    int64_t i = remainder % shape4;                                     \\\n    dst_offset += i * dst_stride4;                                      \\\n    src_offset += i * src_stride4;                                      \\\n    remainder /= shape4;                                                \\\n  }                                                                     \\\n  if (r > 5) {                                                          \\\n    int64_t i = remainder % shape5;                                     \\\n    dst_offset += i * dst_stride5;                                      \\\n    src_offset += i * src_stride5;                                      \\\n    remainder /= shape5;                                                \\\n  }                                                                     \\\n  if (r > 6) {                                                          \\\n    int64_t i = remainder % shape6;                                     \\\n    dst_offset += i * dst_stride6;                                      \\\n    src_offset += i * src_stride6;                                      \\\n    remainder /= shape6;                                                \\\n  }                                                                     \\\n  if (r > 7) {                                                          \\\n    int64_t i = remainder % shape7;                                     \\\n    dst_offset += i * dst_stride7;                                      \\\n    src_offset += i * src_stride7;                                      \\\n    remainder /= shape7;                                                \\\n  }                                                                     \\\n                                                                        \\\n  dst_mem[dst_offset] = src_mem[src_offset];     ", "                       \\\n}\n\nGEN_COPY_KERNEL(1b, uint8_t)\nGEN_COPY_KERNEL(2b, uint16_t)\nGEN_COPY_KERNEL(4b, uint32_t)\nGEN_COPY_KERNEL(8b, uint64_t)\n\n// End of copy.cl\n\nFUTHARK_FUN_ATTR void futrts_lifted_lambda_10001(int64_t *out_prim_out_0, double a_26476, double ba_26477, int64_t pf_26478, int64_t pd_26479);\nFUTHARK_FUN_ATTR void futrts_lifted_normalizze_9970(int64_t *out_prim_out_0, int64_t *out_prim_out_1, int64_t *out_prim_out_2, int64_t *out_prim_out_3, int64_t *out_prim_out_4, int64_t slo_27047, int64_t shi_27048, int64_t tlo_27049, int64_t thi_27050, int64_t count_27051);\n\nFUTHARK_FUN_ATTR void futrts_lifted_lambda_10001(int64_t *out_prim_out_0, double a_26476, double ba_26477, int64_t pf_26478, int64_t pd_26479)\n{\n    int64_t prim_out_71649;\n    double zt_lhs_26480 = a_26476 / ba_26477;\n    double i64_res_45295 = sitofp_i64_f64(pf_26478);\n    double f64_arg0_26484 = zt_lhs_26480 * i64_res_45295;\n    int64_t f64_res_45297 = fptosi_f64_i64(f64_arg0_26484);\n    bool cond_26488 = slt64(f64_res_45297, (int64_t) 0);\n    int64_t lifted_lambda_res_26489;\n    \n    if (cond_26488) {\n        lifted_lambda_res_26489 = (int64_t) 0;\n    } else {\n        bool cond_26490 = sle64(pd_26479, f64_res_45297);\n        int64_t lifted_lambda_res_f_res_26491;\n        \n        if (cond_26490) {\n            int64_t lifted_lambda_res_f_res_t_res_56049 = sub64(pd_26479, (int64_t) 1);\n            \n            lifted_lambda_res_f_res_26491 = lifted_lambda_res_f_res_t_res_56049;\n        } else {\n            lifted_lambda_res_f_res_26491 = f64_res_45297;\n        }\n        lifted_lambda_res_26489 = lifted_lambda_res_f_res_26491;\n    }\n    prim_out_71649 = lifted_lambda_res_26489;\n    *out_prim_out_0 = prim_out_71649;\n}\nFUTHARK_FUN_ATTR void futrts_lifted_normalizze_9970(int64_t *out_prim_out_0, int64_t *out_prim_out_1, int64_t *out_prim_out_2, int64_t *out_prim_out_3, int64_t *out_prim_out_4, int64_t slo_27047, int64_t shi_27048, int64_t tlo_27049, int64_t thi_27050, int64_t count_27051)\n{\n ", "   int64_t prim_out_71649;\n    int64_t prim_out_71650;\n    int64_t prim_out_71651;\n    int64_t prim_out_71652;\n    int64_t prim_out_71653;\n    int64_t min_arg1_27054 = add64(slo_27047, count_27051);\n    int64_t min_res_45296 = smin64(shi_27048, min_arg1_27054);\n    int64_t min_arg1_27058 = add64(tlo_27049, count_27051);\n    int64_t min_res_45299 = smin64(thi_27050, min_arg1_27058);\n    int64_t zp_lhs_27062 = sub64(min_res_45296, slo_27047);\n    int64_t zp_rhs_27064 = sub64(min_res_45299, tlo_27049);\n    int64_t zm_lhs_27066 = add64(zp_lhs_27062, zp_rhs_27064);\n    int64_t slack_27068 = sub64(zm_lhs_27066, count_27051);\n    int64_t min_res_45302 = smin64(zp_lhs_27062, slack_27068);\n    int64_t min_res_45305 = smin64(zp_rhs_27064, min_res_45302);\n    int64_t max_arg1_27078 = sub64(min_res_45296, min_res_45305);\n    int64_t max_res_45308 = smax64(slo_27047, max_arg1_27078);\n    int64_t max_arg1_27082 = sub64(min_res_45299, min_res_45305);\n    int64_t max_res_45311 = smax64(tlo_27049, max_arg1_27082);\n    int64_t zm_rhs_27086 = sub64(max_res_45308, slo_27047);\n    int64_t zm_lhs_27088 = sub64(count_27051, zm_rhs_27086);\n    int64_t zm_rhs_27090 = sub64(max_res_45311, tlo_27049);\n    int64_t count_27092 = sub64(zm_lhs_27088, zm_rhs_27090);\n    \n    prim_out_71649 = max_res_45308;\n    prim_out_71650 = min_res_45296;\n    prim_out_71651 = max_res_45311;\n    prim_out_71652 = min_res_45299;\n    prim_out_71653 = count_27092;\n    *out_prim_out_0 = prim_out_71649;\n    *out_prim_out_1 = prim_out_71650;\n    *out_prim_out_2 = prim_out_71651;\n    *out_prim_out_3 = prim_out_71652;\n    *out_prim_out_4 = prim_out_71653;\n}\n\nFUTHARK_KERNEL\nvoid builtinzhiota_i64ziiota_i64_71661(int64_t n_71657, int64_t x_71658, int64_t s_71659, int64_t virt_num_tblocks_71666, int64_t num_tblocks_71667, __global unsigned char *mem_71656)\n{\n    int32_t iota_ltid_71662;\n    int32_t tblock_sizze_71664;\n    int32_t iota_gid_71663;\n    int32_t iota_gtid_71661;\n    int32_t phys_tblock_id_71668;\n    int32_t iter",
                                    "ations_71669;\n    \n    iota_ltid_71662 = get_local_id(0);\n    tblock_sizze_71664 = get_local_size(0);\n    iota_gid_71663 = get_tblock_id(0);\n    iota_gtid_71661 = iota_gid_71663 * tblock_sizze_71664 + iota_ltid_71662;\n    phys_tblock_id_71668 = get_tblock_id(0);\n    iterations_71669 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71666) - phys_tblock_id_71668, sext_i64_i32(num_tblocks_71667));\n    for (int32_t i_71670 = 0; i_71670 < iterations_71669; i_71670++) {\n        int32_t virt_tblock_id_71671;\n        int64_t global_tid_71672;\n        \n        virt_tblock_id_71671 = phys_tblock_id_71668 + i_71670 * sext_i64_i32(num_tblocks_71667);\n        global_tid_71672 = sext_i32_i64(virt_tblock_id_71671) * sext_i32_i64(tblock_sizze_71664) + sext_i32_i64(iota_ltid_71662);\n        if (slt64(global_tid_71672, n_71657)) {\n            ((__global int64_t *) mem_71656)[global_tid_71672] = add64(mul64(global_tid_71672, s_71659), x_71658);\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_boolzireplicate_71764(int64_t num_elems_71760, unsigned char val_71761_bits, int64_t replicate_n_71763, int64_t virt_num_tblocks_71769, int64_t num_tblocks_71770, __global unsigned char *mem_71759)\n{\n    bool val_71761 = val_71761_bits;\n    int32_t replicate_ltid_71765;\n    int32_t tblock_sizze_71767;\n    int32_t replicate_gid_71766;\n    int32_t replicate_gtid_71764;\n    int32_t phys_tblock_id_71771;\n    int32_t iterations_71772;\n    \n    replicate_ltid_71765 = get_local_id(0);\n    tblock_sizze_71767 = get_local_size(0);\n    replicate_gid_71766 = get_tblock_id(0);\n    replicate_gtid_71764 = replicate_gid_71766 * tblock_sizze_71767 + replicate_ltid_71765;\n    phys_tblock_id_71771 = get_tblock_id(0);\n    iterations_71772 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71769) - phys_tblock_id_71771, sext_i64_i32(num_tblocks_71770));\n    for (int32_t i_71773 = 0; i_71773 < iterations_71772; i_71773++) {\n        int32_", "t virt_tblock_id_71774;\n        int64_t global_tid_71775;\n        int64_t slice_71777;\n        int64_t rep_i_71776;\n        int64_t remnant_71778;\n        \n        virt_tblock_id_71774 = phys_tblock_id_71771 + i_71773 * sext_i64_i32(num_tblocks_71770);\n        global_tid_71775 = sext_i32_i64(virt_tblock_id_71774) * sext_i32_i64(tblock_sizze_71767) + sext_i32_i64(replicate_ltid_71765);\n        slice_71777 = num_elems_71760;\n        rep_i_71776 = global_tid_71775;\n        remnant_71778 = global_tid_71775 - rep_i_71776;\n        if (slt64(global_tid_71775, replicate_n_71763)) {\n            ((__global bool *) mem_71759)[rep_i_71776] = val_71761;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_f64zireplicate_71678(int64_t num_elems_71674, double val_71675, int64_t replicate_n_71677, int64_t virt_num_tblocks_71683, int64_t num_tblocks_71684, __global unsigned char *mem_71673)\n{\n    int32_t replicate_ltid_71679;\n    int32_t tblock_sizze_71681;\n    int32_t replicate_gid_71680;\n    int32_t replicate_gtid_71678;\n    int32_t phys_tblock_id_71685;\n    int32_t iterations_71686;\n    \n    replicate_ltid_71679 = get_local_id(0);\n    tblock_sizze_71681 = get_local_size(0);\n    replicate_gid_71680 = get_tblock_id(0);\n    replicate_gtid_71678 = replicate_gid_71680 * tblock_sizze_71681 + replicate_ltid_71679;\n    phys_tblock_id_71685 = get_tblock_id(0);\n    iterations_71686 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71683) - phys_tblock_id_71685, sext_i64_i32(num_tblocks_71684));\n    for (int32_t i_71687 = 0; i_71687 < iterations_71686; i_71687++) {\n        int32_t virt_tblock_id_71688;\n        int64_t global_tid_71689;\n        int64_t slice_71691;\n        int64_t rep_i_71690;\n        int64_t remnant_71692;\n        \n        virt_tblock_id_71688 = phys_tblock_id_71685 + i_71687 * sext_i64_i32(num_tblocks_71684);\n        global_tid_71689 = sext_i32_i64(virt_tblock_id_71688) * sext_i32_i64(tblo", "ck_sizze_71681) + sext_i32_i64(replicate_ltid_71679);\n        slice_71691 = num_elems_71674;\n        rep_i_71690 = global_tid_71689;\n        remnant_71692 = global_tid_71689 - rep_i_71690;\n        if (slt64(global_tid_71689, replicate_n_71677)) {\n            ((__global double *) mem_71673)[rep_i_71690] = val_71675;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i32zireplicate_71743(int64_t num_elems_71739, int32_t val_71740, int64_t replicate_n_71742, int64_t virt_num_tblocks_71748, int64_t num_tblocks_71749, __global unsigned char *mem_71738)\n{\n    int32_t replicate_ltid_71744;\n    int32_t tblock_sizze_71746;\n    int32_t replicate_gid_71745;\n    int32_t replicate_gtid_71743;\n    int32_t phys_tblock_id_71750;\n    int32_t iterations_71751;\n    \n    replicate_ltid_71744 = get_local_id(0);\n    tblock_sizze_71746 = get_local_size(0);\n    replicate_gid_71745 = get_tblock_id(0);\n    replicate_gtid_71743 = replicate_gid_71745 * tblock_sizze_71746 + replicate_ltid_71744;\n    phys_tblock_id_71750 = get_tblock_id(0);\n    iterations_71751 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71748) - phys_tblock_id_71750, sext_i64_i32(num_tblocks_71749));\n    for (int32_t i_71752 = 0; i_71752 < iterations_71751; i_71752++) {\n        int32_t virt_tblock_id_71753;\n        int64_t global_tid_71754;\n        int64_t slice_71756;\n        int64_t rep_i_71755;\n        int64_t remnant_71757;\n        \n        virt_tblock_id_71753 = phys_tblock_id_71750 + i_71752 * sext_i64_i32(num_tblocks_71749);\n        global_tid_71754 = sext_i32_i64(virt_tblock_id_71753) * sext_i32_i64(tblock_sizze_71746) + sext_i32_i64(replicate_ltid_71744);\n        slice_71756 = num_elems_71739;\n        rep_i_71755 = global_tid_71754;\n        remnant_71757 = global_tid_71754 - rep_i_71755;\n        if (slt64(global_tid_71754, replicate_n_71742)) {\n            ((__global int32_t *) mem_71738)[rep_i_71755] = val_71740;\n        }\n   ",
                                    "     barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i64zireplicate_71705(int64_t num_elems_71701, int64_t val_71702, int64_t replicate_n_71704, int64_t virt_num_tblocks_71710, int64_t num_tblocks_71711, __global unsigned char *mem_71700)\n{\n    int32_t replicate_ltid_71706;\n    int32_t tblock_sizze_71708;\n    int32_t replicate_gid_71707;\n    int32_t replicate_gtid_71705;\n    int32_t phys_tblock_id_71712;\n    int32_t iterations_71713;\n    \n    replicate_ltid_71706 = get_local_id(0);\n    tblock_sizze_71708 = get_local_size(0);\n    replicate_gid_71707 = get_tblock_id(0);\n    replicate_gtid_71705 = replicate_gid_71707 * tblock_sizze_71708 + replicate_ltid_71706;\n    phys_tblock_id_71712 = get_tblock_id(0);\n    iterations_71713 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71710) - phys_tblock_id_71712, sext_i64_i32(num_tblocks_71711));\n    for (int32_t i_71714 = 0; i_71714 < iterations_71713; i_71714++) {\n        int32_t virt_tblock_id_71715;\n        int64_t global_tid_71716;\n        int64_t slice_71718;\n        int64_t rep_i_71717;\n        int64_t remnant_71719;\n        \n        virt_tblock_id_71715 = phys_tblock_id_71712 + i_71714 * sext_i64_i32(num_tblocks_71711);\n        global_tid_71716 = sext_i32_i64(virt_tblock_id_71715) * sext_i32_i64(tblock_sizze_71708) + sext_i32_i64(replicate_ltid_71706);\n        slice_71718 = num_elems_71701;\n        rep_i_71717 = global_tid_71716;\n        remnant_71719 = global_tid_71716 - rep_i_71717;\n        if (slt64(global_tid_71716, replicate_n_71704)) {\n            ((__global int64_t *) mem_71700)[rep_i_71717] = val_71702;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i8zireplicate_72950(int64_t num_elems_72946, int8_t val_72947, int64_t replicate_n_72949, int64_t virt_num_tblocks_72955, int64_t num_tblocks_72956, __global unsigned char *mem_72945)\n{\n    int32_t", " replicate_ltid_72951;\n    int32_t tblock_sizze_72953;\n    int32_t replicate_gid_72952;\n    int32_t replicate_gtid_72950;\n    int32_t phys_tblock_id_72957;\n    int32_t iterations_72958;\n    \n    replicate_ltid_72951 = get_local_id(0);\n    tblock_sizze_72953 = get_local_size(0);\n    replicate_gid_72952 = get_tblock_id(0);\n    replicate_gtid_72950 = replicate_gid_72952 * tblock_sizze_72953 + replicate_ltid_72951;\n    phys_tblock_id_72957 = get_tblock_id(0);\n    iterations_72958 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72955) - phys_tblock_id_72957, sext_i64_i32(num_tblocks_72956));\n    for (int32_t i_72959 = 0; i_72959 < iterations_72958; i_72959++) {\n        int32_t virt_tblock_id_72960;\n        int64_t global_tid_72961;\n        int64_t slice_72963;\n        int64_t rep_i_72962;\n        int64_t remnant_72964;\n        \n        virt_tblock_id_72960 = phys_tblock_id_72957 + i_72959 * sext_i64_i32(num_tblocks_72956);\n        global_tid_72961 = sext_i32_i64(virt_tblock_id_72960) * sext_i32_i64(tblock_sizze_72953) + sext_i32_i64(replicate_ltid_72951);\n        slice_72963 = num_elems_72946;\n        rep_i_72962 = global_tid_72961;\n        remnant_72964 = global_tid_72961 - rep_i_72962;\n        if (slt64(global_tid_72961, replicate_n_72949)) {\n            ((__global int8_t *) mem_72945)[rep_i_72962] = val_72947;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_71727_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_71727(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_68627)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71729;\n    int32_t tblock_sizze_71732;\n    int32_t wave_sizze_71731;\n    int32_t block_id_71730;\n    int32_t global_tid_71728;\n    int64_t tid_71727;\n    int64_t x_68304;\n    \n    local_tid_71729 = get_local_id(0);\n    tblock_sizze_71732 = ge", "t_local_size(0);\n    wave_sizze_71731 = LOCKSTEP_WIDTH;\n    block_id_71730 = get_tblock_id(0);\n    global_tid_71728 = block_id_71730 * tblock_sizze_71732 + local_tid_71729;\n    tid_71727 = sext_i32_i64(global_tid_71728);\n    x_68304 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    ((__global int64_t *) mem_68627)[(int64_t) 0] = x_68304;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_71759_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_71759(__global int *global_failure, __global unsigned char *ext_mem_68628, __global unsigned char *mem_68631)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71761;\n    int32_t tblock_sizze_71764;\n    int32_t wave_sizze_71763;\n    int32_t block_id_71762;\n    int32_t global_tid_71760;\n    int64_t tid_71759;\n    int64_t zm_lhs_68308;\n    int64_t min_arg1_68309;\n    \n    local_tid_71761 = get_local_id(0);\n    tblock_sizze_71764 = get_local_size(0);\n    wave_sizze_71763 = LOCKSTEP_WIDTH;\n    block_id_71762 = get_tblock_id(0);\n    global_tid_71760 = block_id_71762 * tblock_sizze_71764 + local_tid_71761;\n    tid_71759 = sext_i32_i64(global_tid_71760);\n    zm_lhs_68308 = ((__global int64_t *) ext_mem_68628)[(int64_t) 0];\n    min_arg1_68309 = sub64(zm_lhs_68308, (int64_t) 1);\n    ((__global int64_t *) mem_68631)[(int64_t) 0] = min_arg1_68309;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72319_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72319(__global int *global_failure, __global unsigned char *mem_69109, __global unsigned char *mem_69110)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72321;\n    int32_t tblock_sizze_72324;\n    int32_t wave_sizze_72323;\n    int32_t block_id_72322;\n    int32_t global_tid_72320;\n    int64_t tid_72319;\n    double f_arg0_68313;\n    int64_t f64_res_68316;\n    \n    local_tid_72321 = get_local_id(0);\n    tblock_sizze_72324 = get",
                                    "_local_size(0);\n    wave_sizze_72323 = LOCKSTEP_WIDTH;\n    block_id_72322 = get_tblock_id(0);\n    global_tid_72320 = block_id_72322 * tblock_sizze_72324 + local_tid_72321;\n    tid_72319 = sext_i32_i64(global_tid_72320);\n    f_arg0_68313 = ((__global double *) mem_69109)[(int64_t) 0];\n    f64_res_68316 = fptosi_f64_i64(f_arg0_68313);\n    ((__global int64_t *) mem_69110)[(int64_t) 0] = f64_res_68316;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72346_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72346(__global int *global_failure, int64_t index_primexp_50866, __global unsigned char *mem_69109, __global unsigned char *mem_69112)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72348;\n    int32_t tblock_sizze_72351;\n    int32_t wave_sizze_72350;\n    int32_t block_id_72349;\n    int32_t global_tid_72347;\n    int64_t tid_72346;\n    double f_arg0_68319;\n    int64_t f64_res_68322;\n    \n    local_tid_72348 = get_local_id(0);\n    tblock_sizze_72351 = get_local_size(0);\n    wave_sizze_72350 = LOCKSTEP_WIDTH;\n    block_id_72349 = get_tblock_id(0);\n    global_tid_72347 = block_id_72349 * tblock_sizze_72351 + local_tid_72348;\n    tid_72346 = sext_i32_i64(global_tid_72347);\n    f_arg0_68319 = ((__global double *) mem_69109)[index_primexp_50866];\n    f64_res_68322 = fptosi_f64_i64(f_arg0_68319);\n    ((__global int64_t *) mem_69112)[index_primexp_50866] = f64_res_68322;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72352_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72352(__global int *global_failure, __global unsigned char *ext_mem_69124, __global unsigned char *mem_69125)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72354;\n    int32_t tblock_sizze_72357;\n    int32_t wave_sizze_72356;\n    int32_t block_id_72355;\n    int32_t global_tid_72353;\n    int64_t tid_72352;\n    int64_t f_arg0_68324;\n    int64_t max_res_68327;\n    ", "\n    local_tid_72354 = get_local_id(0);\n    tblock_sizze_72357 = get_local_size(0);\n    wave_sizze_72356 = LOCKSTEP_WIDTH;\n    block_id_72355 = get_tblock_id(0);\n    global_tid_72353 = block_id_72355 * tblock_sizze_72357 + local_tid_72354;\n    tid_72352 = sext_i32_i64(global_tid_72353);\n    f_arg0_68324 = ((__global int64_t *) ext_mem_69124)[(int64_t) 0];\n    max_res_68327 = smax64((int64_t) 0, f_arg0_68324);\n    ((__global int64_t *) mem_69125)[(int64_t) 0] = max_res_68327;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72379_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72379(__global int *global_failure, int64_t index_primexp_50885, __global unsigned char *ext_mem_69124, __global unsigned char *mem_69127)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72381;\n    int32_t tblock_sizze_72384;\n    int32_t wave_sizze_72383;\n    int32_t block_id_72382;\n    int32_t global_tid_72380;\n    int64_t tid_72379;\n    int64_t f_arg0_68330;\n    int64_t max_res_68333;\n    \n    local_tid_72381 = get_local_id(0);\n    tblock_sizze_72384 = get_local_size(0);\n    wave_sizze_72383 = LOCKSTEP_WIDTH;\n    block_id_72382 = get_tblock_id(0);\n    global_tid_72380 = block_id_72382 * tblock_sizze_72384 + local_tid_72381;\n    tid_72379 = sext_i32_i64(global_tid_72380);\n    f_arg0_68330 = ((__global int64_t *) ext_mem_69124)[index_primexp_50885];\n    max_res_68333 = smax64((int64_t) 0, f_arg0_68330);\n    ((__global int64_t *) mem_69127)[index_primexp_50885] = max_res_68333;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72385_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72385(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *ext_mem_69139, __global unsigned char *mem_69140)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72387;\n    int32_t tblock_sizze_72390;\n    int32_t wave", "_sizze_72389;\n    int32_t block_id_72388;\n    int32_t global_tid_72386;\n    int64_t tid_72385;\n    int64_t f_arg0_68335;\n    int64_t zm_lhs_68337;\n    int64_t min_arg1_68340;\n    int64_t min_res_68344;\n    \n    local_tid_72387 = get_local_id(0);\n    tblock_sizze_72390 = get_local_size(0);\n    wave_sizze_72389 = LOCKSTEP_WIDTH;\n    block_id_72388 = get_tblock_id(0);\n    global_tid_72386 = block_id_72388 * tblock_sizze_72390 + local_tid_72387;\n    tid_72385 = sext_i32_i64(global_tid_72386);\n    f_arg0_68335 = ((__global int64_t *) ext_mem_69139)[(int64_t) 0];\n    zm_lhs_68337 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    min_arg1_68340 = sub64(zm_lhs_68337, (int64_t) 1);\n    min_res_68344 = smin64(f_arg0_68335, min_arg1_68340);\n    ((__global int64_t *) mem_69140)[(int64_t) 0] = min_res_68344;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72412_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72412(__global int *global_failure, int64_t index_primexp_50904, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *ext_mem_69139, __global unsigned char *mem_69142)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72414;\n    int32_t tblock_sizze_72417;\n    int32_t wave_sizze_72416;\n    int32_t block_id_72415;\n    int32_t global_tid_72413;\n    int64_t tid_72412;\n    int64_t f_arg0_68347;\n    int64_t zm_lhs_68349;\n    int64_t min_arg1_68352;\n    int64_t min_res_68356;\n    \n    local_tid_72414 = get_local_id(0);\n    tblock_sizze_72417 = get_local_size(0);\n    wave_sizze_72416 = LOCKSTEP_WIDTH;\n    block_id_72415 = get_tblock_id(0);\n    global_tid_72413 = block_id_72415 * tblock_sizze_72417 + local_tid_72414;\n    tid_72412 = sext_i32_i64(global_tid_72413);\n    f_arg0_68347 = ((__global int64_t *) ext_mem_69139)[index_primexp_50904];\n    zm_lhs_68349 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_50904];\n    min_arg1_683",
                                    "52 = sub64(zm_lhs_68349, (int64_t) 1);\n    min_res_68356 = smin64(f_arg0_68347, min_arg1_68352);\n    ((__global int64_t *) mem_69142)[index_primexp_50904] = min_res_68356;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72429_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72429(__global int *global_failure, int64_t i_50917, __global unsigned char *mem_69157, __global unsigned char *mem_param_69161, __global unsigned char *mem_69162)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72431;\n    int32_t tblock_sizze_72434;\n    int32_t wave_sizze_72433;\n    int32_t block_id_72432;\n    int32_t global_tid_72430;\n    int64_t tid_72429;\n    int64_t b_68361;\n    int64_t acc_68363;\n    int64_t defunc_0_f_res_68365;\n    \n    local_tid_72431 = get_local_id(0);\n    tblock_sizze_72434 = get_local_size(0);\n    wave_sizze_72433 = LOCKSTEP_WIDTH;\n    block_id_72432 = get_tblock_id(0);\n    global_tid_72430 = block_id_72432 * tblock_sizze_72434 + local_tid_72431;\n    tid_72429 = sext_i32_i64(global_tid_72430);\n    b_68361 = ((__global int64_t *) mem_69157)[i_50917];\n    acc_68363 = ((__global int64_t *) mem_param_69161)[(int64_t) 0];\n    defunc_0_f_res_68365 = add64(b_68361, acc_68363);\n    ((__global int64_t *) mem_69162)[(int64_t) 0] = defunc_0_f_res_68365;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72436_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72436(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_69182)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72438;\n    int32_t tblock_sizze_72441;\n    int32_t wave_sizze_72440;\n    int32_t block_id_72439;\n    int32_t global_tid_72437;\n    int64_t tid_72436;\n    int64_t x_68420;\n    \n    local_tid_72438 = get_local_id(0);\n    tblock_sizze_72441 = get_local_size(0);\n    wave_sizze_72440 = LOCKSTEP_WIDTH;\n    bloc", "k_id_72439 = get_tblock_id(0);\n    global_tid_72437 = block_id_72439 * tblock_sizze_72441 + local_tid_72438;\n    tid_72436 = sext_i32_i64(global_tid_72437);\n    x_68420 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    ((__global int64_t *) mem_69182)[(int64_t) 0] = x_68420;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72442_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72442(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_45076, int64_t total_angle_no_45087, __global unsigned char *ext_mem_69165, __global unsigned char *ext_mem_69183, __global unsigned char *mem_69184, __global unsigned char *mem_69185, __global unsigned char *mem_69186)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72444;\n    int32_t tblock_sizze_72447;\n    int32_t wave_sizze_72446;\n    int32_t block_id_72445;\n    int32_t global_tid_72443;\n    int64_t tid_72442;\n    int64_t defunc_0_foldl_res_68367;\n    bool x_68368;\n    bool y_68371;\n    bool bounds_check_68375;\n    bool index_certs_68379;\n    int64_t zp_lhs_68413;\n    int64_t zm_lhs_68424;\n    int64_t min_arg1_68425;\n    \n    local_tid_72444 = get_local_id(0);\n    tblock_sizze_72447 = get_local_size(0);\n    wave_sizze_72446 = LOCKSTEP_WIDTH;\n    block_id_72445 = get_tblock_id(0);\n    global_tid_72443 = block_id_72445 * tblock_sizze_72447 + local_tid_72444;\n    tid_72442 = sext_i32_i64(global_tid_72443);\n    defunc_0_foldl_res_68367 = ((__global int64_t *) ext_mem_69165)[(int64_t) 0];\n    x_68368 = sle64((int64_t) 0, defunc_0_foldl_res_68367);\n    y_68371 = slt64(defunc_0_foldl_res_68367, dz2080U_45076);\n    bounds_check_68375 = x_68368 && y_68371;\n    if (!bounds_check_68375) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 24) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_68367;\n                global_failure_args[1]", " = (int64_t) dz2080U_45076;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_68413 = mul64(total_angle_no_45087, defunc_0_foldl_res_68367);\n    zm_lhs_68424 = ((__global int64_t *) ext_mem_69183)[(int64_t) 0];\n    min_arg1_68425 = sub64(zm_lhs_68424, (int64_t) 1);\n    ((__global int64_t *) mem_69185)[(int64_t) 0] = zp_lhs_68413;\n    ((__global int64_t *) mem_69186)[(int64_t) 0] = min_arg1_68425;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72457_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72457(__global int *global_failure, __global unsigned char *mem_69189, __global unsigned char *mem_69190)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72459;\n    int32_t tblock_sizze_72462;\n    int32_t wave_sizze_72461;\n    int32_t block_id_72460;\n    int32_t global_tid_72458;\n    int64_t tid_72457;\n    double f_arg0_68382;\n    \n    local_tid_72459 = get_local_id(0);\n    tblock_sizze_72462 = get_local_size(0);\n    wave_sizze_72461 = LOCKSTEP_WIDTH;\n    block_id_72460 = get_tblock_id(0);\n    global_tid_72458 = block_id_72460 * tblock_sizze_72462 + local_tid_72459;\n    tid_72457 = sext_i32_i64(global_tid_72458);\n    f_arg0_68382 = ((__global double *) mem_69189)[(int64_t) 0];\n    ((__global double *) mem_69190)[(int64_t) 0] = f_arg0_68382;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72496_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72496(__global int *global_failure, int64_t i_50973, __global unsigned char *mem_69209, __global unsigned char *mem_param_69212, __global unsigned char *mem_69213)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72498;\n    int32_t tblock_sizze_72501;\n    int32_t wave_sizze_72500;\n    int32_t block_id_72499;\n    int32_t global_tid_72497;\n    int64_t tid_72496;\n    double b_68390;\n    double acc_68392;\n    double defunc_0_f_res_68394;\n    \n    local_tid_72498 ",
                                    "= get_local_id(0);\n    tblock_sizze_72501 = get_local_size(0);\n    wave_sizze_72500 = LOCKSTEP_WIDTH;\n    block_id_72499 = get_tblock_id(0);\n    global_tid_72497 = block_id_72499 * tblock_sizze_72501 + local_tid_72498;\n    tid_72496 = sext_i32_i64(global_tid_72497);\n    b_68390 = ((__global double *) mem_69209)[i_50973];\n    acc_68392 = ((__global double *) mem_param_69212)[(int64_t) 0];\n    defunc_0_f_res_68394 = b_68390 + acc_68392;\n    ((__global double *) mem_69213)[(int64_t) 0] = defunc_0_f_res_68394;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72502_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72502(__global int *global_failure, int64_t i_50949, __global unsigned char *ext_mem_69203, __global unsigned char *ext_mem_69216, __global unsigned char *mem_69223)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72504;\n    int32_t tblock_sizze_72507;\n    int32_t wave_sizze_72506;\n    int32_t block_id_72505;\n    int32_t global_tid_72503;\n    int64_t tid_72502;\n    double this_x_68385;\n    double defunc_0_foldl_res_68396;\n    double sqrt_res_68397;\n    double atan2_res_68401;\n    \n    local_tid_72504 = get_local_id(0);\n    tblock_sizze_72507 = get_local_size(0);\n    wave_sizze_72506 = LOCKSTEP_WIDTH;\n    block_id_72505 = get_tblock_id(0);\n    global_tid_72503 = block_id_72505 * tblock_sizze_72507 + local_tid_72504;\n    tid_72502 = sext_i32_i64(global_tid_72503);\n    this_x_68385 = ((__global double *) ext_mem_69203)[i_50949];\n    defunc_0_foldl_res_68396 = ((__global double *) ext_mem_69216)[(int64_t) 0];\n    sqrt_res_68397 = futrts_sqrt64(defunc_0_foldl_res_68396);\n    atan2_res_68401 = futrts_atan2_64(sqrt_res_68397, this_x_68385);\n    ((__global double *) mem_69223)[i_50949] = atan2_res_68401;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72519_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72519(__global int *global_failure, int64_t", " i_51006, __global unsigned char *mem_69223, __global unsigned char *mem_param_69226, __global unsigned char *mem_69227)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72521;\n    int32_t tblock_sizze_72524;\n    int32_t wave_sizze_72523;\n    int32_t block_id_72522;\n    int32_t global_tid_72520;\n    int64_t tid_72519;\n    int64_t b_68406;\n    int64_t acc_68408;\n    int64_t defunc_0_f_res_68410;\n    \n    local_tid_72521 = get_local_id(0);\n    tblock_sizze_72524 = get_local_size(0);\n    wave_sizze_72523 = LOCKSTEP_WIDTH;\n    block_id_72522 = get_tblock_id(0);\n    global_tid_72520 = block_id_72522 * tblock_sizze_72524 + local_tid_72521;\n    tid_72519 = sext_i32_i64(global_tid_72520);\n    b_68406 = ((__global int64_t *) mem_69223)[i_51006];\n    acc_68408 = ((__global int64_t *) mem_param_69226)[(int64_t) 0];\n    defunc_0_f_res_68410 = add64(b_68406, acc_68408);\n    ((__global int64_t *) mem_69227)[(int64_t) 0] = defunc_0_f_res_68410;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72525_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72525(__global int *global_failure, __global unsigned char *mem_69185, __global unsigned char *ext_mem_69230, __global unsigned char *mem_69231)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72527;\n    int32_t tblock_sizze_72530;\n    int32_t wave_sizze_72529;\n    int32_t block_id_72528;\n    int32_t global_tid_72526;\n    int64_t tid_72525;\n    int64_t defunc_0_foldl_res_68415;\n    int64_t zp_lhs_68416;\n    int64_t get_id_from_grid_angle_res_68417;\n    \n    local_tid_72527 = get_local_id(0);\n    tblock_sizze_72530 = get_local_size(0);\n    wave_sizze_72529 = LOCKSTEP_WIDTH;\n    block_id_72528 = get_tblock_id(0);\n    global_tid_72526 = block_id_72528 * tblock_sizze_72530 + local_tid_72527;\n    tid_72525 = sext_i32_i64(global_tid_72526);\n    defunc_0_foldl_res_68415 = ((__global int64_t *) ext_mem_69230)[(int64_t) 0];\n    zp_lhs_68416 = ((__g", "lobal int64_t *) mem_69185)[(int64_t) 0];\n    get_id_from_grid_angle_res_68417 = add64(defunc_0_foldl_res_68415, zp_lhs_68416);\n    ((__global int64_t *) mem_69231)[(int64_t) 0] = get_id_from_grid_angle_res_68417;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72570_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72570(__global int *global_failure, __global unsigned char *mem_69242, __global unsigned char *mem_69243)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72572;\n    int32_t tblock_sizze_72575;\n    int32_t wave_sizze_72574;\n    int32_t block_id_72573;\n    int32_t global_tid_72571;\n    int64_t tid_72570;\n    double f_arg0_68427;\n    int64_t f64_res_68430;\n    \n    local_tid_72572 = get_local_id(0);\n    tblock_sizze_72575 = get_local_size(0);\n    wave_sizze_72574 = LOCKSTEP_WIDTH;\n    block_id_72573 = get_tblock_id(0);\n    global_tid_72571 = block_id_72573 * tblock_sizze_72575 + local_tid_72572;\n    tid_72570 = sext_i32_i64(global_tid_72571);\n    f_arg0_68427 = ((__global double *) mem_69242)[(int64_t) 0];\n    f64_res_68430 = fptosi_f64_i64(f_arg0_68427);\n    ((__global int64_t *) mem_69243)[(int64_t) 0] = f64_res_68430;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72597_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72597(__global int *global_failure, int64_t index_primexp_51060, __global unsigned char *mem_69242, __global unsigned char *mem_69245)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72599;\n    int32_t tblock_sizze_72602;\n    int32_t wave_sizze_72601;\n    int32_t block_id_72600;\n    int32_t global_tid_72598;\n    int64_t tid_72597;\n    double f_arg0_68433;\n    int64_t f64_res_68436;\n    \n    local_tid_72599 = get_local_id(0);\n    tblock_sizze_72602 = get_local_size(0);\n    wave_sizze_72601 = LOCKSTEP_WIDTH;\n    block_id_72600 = get_tblock_id(0);\n    global_tid_72598 = block_id_72600 * tblock_",
                                    "sizze_72602 + local_tid_72599;\n    tid_72597 = sext_i32_i64(global_tid_72598);\n    f_arg0_68433 = ((__global double *) mem_69242)[index_primexp_51060];\n    f64_res_68436 = fptosi_f64_i64(f_arg0_68433);\n    ((__global int64_t *) mem_69245)[index_primexp_51060] = f64_res_68436;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72603_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72603(__global int *global_failure, __global unsigned char *ext_mem_69257, __global unsigned char *mem_69258)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72605;\n    int32_t tblock_sizze_72608;\n    int32_t wave_sizze_72607;\n    int32_t block_id_72606;\n    int32_t global_tid_72604;\n    int64_t tid_72603;\n    int64_t f_arg0_68438;\n    int64_t max_res_68441;\n    \n    local_tid_72605 = get_local_id(0);\n    tblock_sizze_72608 = get_local_size(0);\n    wave_sizze_72607 = LOCKSTEP_WIDTH;\n    block_id_72606 = get_tblock_id(0);\n    global_tid_72604 = block_id_72606 * tblock_sizze_72608 + local_tid_72605;\n    tid_72603 = sext_i32_i64(global_tid_72604);\n    f_arg0_68438 = ((__global int64_t *) ext_mem_69257)[(int64_t) 0];\n    max_res_68441 = smax64((int64_t) 0, f_arg0_68438);\n    ((__global int64_t *) mem_69258)[(int64_t) 0] = max_res_68441;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72630_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72630(__global int *global_failure, int64_t index_primexp_51076, __global unsigned char *ext_mem_69257, __global unsigned char *mem_69260)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72632;\n    int32_t tblock_sizze_72635;\n    int32_t wave_sizze_72634;\n    int32_t block_id_72633;\n    int32_t global_tid_72631;\n    int64_t tid_72630;\n    int64_t f_arg0_68444;\n    int64_t max_res_68447;\n    \n    local_tid_72632 = get_local_id(0);\n    tblock_sizze_72635 = get_local_size(0);\n    wave_sizze_72634 = LOCKSTEP_WIDTH;\n   ", " block_id_72633 = get_tblock_id(0);\n    global_tid_72631 = block_id_72633 * tblock_sizze_72635 + local_tid_72632;\n    tid_72630 = sext_i32_i64(global_tid_72631);\n    f_arg0_68444 = ((__global int64_t *) ext_mem_69257)[index_primexp_51076];\n    max_res_68447 = smax64((int64_t) 0, f_arg0_68444);\n    ((__global int64_t *) mem_69260)[index_primexp_51076] = max_res_68447;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72636_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72636(__global int *global_failure, __global unsigned char *mem_69186, __global unsigned char *ext_mem_69272, __global unsigned char *mem_69273)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72638;\n    int32_t tblock_sizze_72641;\n    int32_t wave_sizze_72640;\n    int32_t block_id_72639;\n    int32_t global_tid_72637;\n    int64_t tid_72636;\n    int64_t f_arg0_68449;\n    int64_t min_arg1_68452;\n    int64_t min_res_68453;\n    \n    local_tid_72638 = get_local_id(0);\n    tblock_sizze_72641 = get_local_size(0);\n    wave_sizze_72640 = LOCKSTEP_WIDTH;\n    block_id_72639 = get_tblock_id(0);\n    global_tid_72637 = block_id_72639 * tblock_sizze_72641 + local_tid_72638;\n    tid_72636 = sext_i32_i64(global_tid_72637);\n    f_arg0_68449 = ((__global int64_t *) ext_mem_69272)[(int64_t) 0];\n    min_arg1_68452 = ((__global int64_t *) mem_69186)[(int64_t) 0];\n    min_res_68453 = smin64(f_arg0_68449, min_arg1_68452);\n    ((__global int64_t *) mem_69273)[(int64_t) 0] = min_res_68453;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72663_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72663(__global int *global_failure, int64_t index_primexp_51092, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *ext_mem_69272, __global unsigned char *mem_69275)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72665;\n    int32_t tblock_sizze_72668;\n    int3", "2_t wave_sizze_72667;\n    int32_t block_id_72666;\n    int32_t global_tid_72664;\n    int64_t tid_72663;\n    int64_t f_arg0_68456;\n    int64_t zm_lhs_68458;\n    int64_t min_arg1_68461;\n    int64_t min_res_68465;\n    \n    local_tid_72665 = get_local_id(0);\n    tblock_sizze_72668 = get_local_size(0);\n    wave_sizze_72667 = LOCKSTEP_WIDTH;\n    block_id_72666 = get_tblock_id(0);\n    global_tid_72664 = block_id_72666 * tblock_sizze_72668 + local_tid_72665;\n    tid_72663 = sext_i32_i64(global_tid_72664);\n    f_arg0_68456 = ((__global int64_t *) ext_mem_69272)[index_primexp_51092];\n    zm_lhs_68458 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_51092];\n    min_arg1_68461 = sub64(zm_lhs_68458, (int64_t) 1);\n    min_res_68465 = smin64(f_arg0_68456, min_arg1_68461);\n    ((__global int64_t *) mem_69275)[index_primexp_51092] = min_res_68465;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72680_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72680(__global int *global_failure, int64_t i_51105, __global unsigned char *mem_69290, __global unsigned char *mem_param_69293, __global unsigned char *mem_69294)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72682;\n    int32_t tblock_sizze_72685;\n    int32_t wave_sizze_72684;\n    int32_t block_id_72683;\n    int32_t global_tid_72681;\n    int64_t tid_72680;\n    int64_t b_68470;\n    int64_t acc_68472;\n    int64_t defunc_0_f_res_68474;\n    \n    local_tid_72682 = get_local_id(0);\n    tblock_sizze_72685 = get_local_size(0);\n    wave_sizze_72684 = LOCKSTEP_WIDTH;\n    block_id_72683 = get_tblock_id(0);\n    global_tid_72681 = block_id_72683 * tblock_sizze_72685 + local_tid_72682;\n    tid_72680 = sext_i32_i64(global_tid_72681);\n    b_68470 = ((__global int64_t *) mem_69290)[i_51105];\n    acc_68472 = ((__global int64_t *) mem_param_69293)[(int64_t) 0];\n    defunc_0_f_res_68474 = add64(b_68470, acc_68472);\n    ((__global int64_t *) mem_69294)[(int64",
                                    "_t) 0] = defunc_0_f_res_68474;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72687_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72687(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_45076, int64_t total_angle_no_45087, __global unsigned char *ext_mem_69297, __global unsigned char *mem_69313, __global unsigned char *mem_69314)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72689;\n    int32_t tblock_sizze_72692;\n    int32_t wave_sizze_72691;\n    int32_t block_id_72690;\n    int32_t global_tid_72688;\n    int64_t tid_72687;\n    int64_t defunc_0_foldl_res_68476;\n    bool x_68477;\n    bool y_68480;\n    bool bounds_check_68484;\n    bool index_certs_68488;\n    int64_t zp_lhs_68522;\n    \n    local_tid_72689 = get_local_id(0);\n    tblock_sizze_72692 = get_local_size(0);\n    wave_sizze_72691 = LOCKSTEP_WIDTH;\n    block_id_72690 = get_tblock_id(0);\n    global_tid_72688 = block_id_72690 * tblock_sizze_72692 + local_tid_72689;\n    tid_72687 = sext_i32_i64(global_tid_72688);\n    defunc_0_foldl_res_68476 = ((__global int64_t *) ext_mem_69297)[(int64_t) 0];\n    x_68477 = sle64((int64_t) 0, defunc_0_foldl_res_68476);\n    y_68480 = slt64(defunc_0_foldl_res_68476, dz2080U_45076);\n    bounds_check_68484 = x_68477 && y_68480;\n    if (!bounds_check_68484) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 25) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_68476;\n                global_failure_args[1] = (int64_t) dz2080U_45076;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_68522 = mul64(total_angle_no_45087, defunc_0_foldl_res_68476);\n    ((__global int64_t *) mem_69314)[(int64_t) 0] = zp_lhs_68522;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72702_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72702(__glob", "al int *global_failure, __global unsigned char *mem_69317, __global unsigned char *mem_69318)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72704;\n    int32_t tblock_sizze_72707;\n    int32_t wave_sizze_72706;\n    int32_t block_id_72705;\n    int32_t global_tid_72703;\n    int64_t tid_72702;\n    double f_arg0_68491;\n    \n    local_tid_72704 = get_local_id(0);\n    tblock_sizze_72707 = get_local_size(0);\n    wave_sizze_72706 = LOCKSTEP_WIDTH;\n    block_id_72705 = get_tblock_id(0);\n    global_tid_72703 = block_id_72705 * tblock_sizze_72707 + local_tid_72704;\n    tid_72702 = sext_i32_i64(global_tid_72703);\n    f_arg0_68491 = ((__global double *) mem_69317)[(int64_t) 0];\n    ((__global double *) mem_69318)[(int64_t) 0] = f_arg0_68491;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72741_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72741(__global int *global_failure, int64_t i_51158, __global unsigned char *mem_69337, __global unsigned char *mem_param_69340, __global unsigned char *mem_69341)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72743;\n    int32_t tblock_sizze_72746;\n    int32_t wave_sizze_72745;\n    int32_t block_id_72744;\n    int32_t global_tid_72742;\n    int64_t tid_72741;\n    double b_68499;\n    double acc_68501;\n    double defunc_0_f_res_68503;\n    \n    local_tid_72743 = get_local_id(0);\n    tblock_sizze_72746 = get_local_size(0);\n    wave_sizze_72745 = LOCKSTEP_WIDTH;\n    block_id_72744 = get_tblock_id(0);\n    global_tid_72742 = block_id_72744 * tblock_sizze_72746 + local_tid_72743;\n    tid_72741 = sext_i32_i64(global_tid_72742);\n    b_68499 = ((__global double *) mem_69337)[i_51158];\n    acc_68501 = ((__global double *) mem_param_69340)[(int64_t) 0];\n    defunc_0_f_res_68503 = b_68499 + acc_68501;\n    ((__global double *) mem_69341)[(int64_t) 0] = defunc_0_f_res_68503;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_double", "zigpuseq_72747_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72747(__global int *global_failure, int64_t i_51134, __global unsigned char *mem_69299, __global unsigned char *ext_mem_69331, __global unsigned char *ext_mem_69344)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72749;\n    int32_t tblock_sizze_72752;\n    int32_t wave_sizze_72751;\n    int32_t block_id_72750;\n    int32_t global_tid_72748;\n    int64_t tid_72747;\n    double this_x_68494;\n    double defunc_0_foldl_res_68505;\n    double sqrt_res_68506;\n    double atan2_res_68510;\n    \n    local_tid_72749 = get_local_id(0);\n    tblock_sizze_72752 = get_local_size(0);\n    wave_sizze_72751 = LOCKSTEP_WIDTH;\n    block_id_72750 = get_tblock_id(0);\n    global_tid_72748 = block_id_72750 * tblock_sizze_72752 + local_tid_72749;\n    tid_72747 = sext_i32_i64(global_tid_72748);\n    this_x_68494 = ((__global double *) ext_mem_69331)[i_51134];\n    defunc_0_foldl_res_68505 = ((__global double *) ext_mem_69344)[(int64_t) 0];\n    sqrt_res_68506 = futrts_sqrt64(defunc_0_foldl_res_68505);\n    atan2_res_68510 = futrts_atan2_64(sqrt_res_68506, this_x_68494);\n    ((__global double *) mem_69299)[i_51134] = atan2_res_68510;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72764_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72764(__global int *global_failure, int64_t i_51186, __global unsigned char *mem_69351, __global unsigned char *mem_param_69354, __global unsigned char *mem_69355)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72766;\n    int32_t tblock_sizze_72769;\n    int32_t wave_sizze_72768;\n    int32_t block_id_72767;\n    int32_t global_tid_72765;\n    int64_t tid_72764;\n    int64_t b_68515;\n    int64_t acc_68517;\n    int64_t defunc_0_f_res_68519;\n    \n    local_tid_72766 = get_local_id(0);\n    tblock_sizze_72769 = get_local_size(0);\n    wave_sizze_72768 = LOCKSTEP_WIDTH;\n    block_id_72767 = get_tblock_id(0);\n   ",
                                    " global_tid_72765 = block_id_72767 * tblock_sizze_72769 + local_tid_72766;\n    tid_72764 = sext_i32_i64(global_tid_72765);\n    b_68515 = ((__global int64_t *) mem_69351)[i_51186];\n    acc_68517 = ((__global int64_t *) mem_param_69354)[(int64_t) 0];\n    defunc_0_f_res_68519 = add64(b_68515, acc_68517);\n    ((__global int64_t *) mem_69355)[(int64_t) 0] = defunc_0_f_res_68519;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_72770_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_72770(__global int *global_failure, int64_t index_primexp_51038, __global unsigned char *mem_69233, __global unsigned char *mem_69314, __global unsigned char *ext_mem_69358)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72772;\n    int32_t tblock_sizze_72775;\n    int32_t wave_sizze_72774;\n    int32_t block_id_72773;\n    int32_t global_tid_72771;\n    int64_t tid_72770;\n    int64_t defunc_0_foldl_res_68524;\n    int64_t zp_lhs_68525;\n    int64_t get_id_from_grid_angle_res_68526;\n    \n    local_tid_72772 = get_local_id(0);\n    tblock_sizze_72775 = get_local_size(0);\n    wave_sizze_72774 = LOCKSTEP_WIDTH;\n    block_id_72773 = get_tblock_id(0);\n    global_tid_72771 = block_id_72773 * tblock_sizze_72775 + local_tid_72772;\n    tid_72770 = sext_i32_i64(global_tid_72771);\n    defunc_0_foldl_res_68524 = ((__global int64_t *) ext_mem_69358)[(int64_t) 0];\n    zp_lhs_68525 = ((__global int64_t *) mem_69314)[(int64_t) 0];\n    get_id_from_grid_angle_res_68526 = add64(defunc_0_foldl_res_68524, zp_lhs_68525);\n    ((__global int64_t *) mem_69233)[index_primexp_51038] = get_id_from_grid_angle_res_68526;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_71857(int64_t dim_45075, int64_t dz2083U_45080, int64_t replicate_n_71856, int64_t virt_num_tblocks_71862, int64_t num_tblocks_71863, __global unsigned char *mem_68642, __global unsigned char *mem_68645)\n{\n    int32_t replicate_ltid_71858;\n    int32_", "t tblock_sizze_71860;\n    int32_t replicate_gid_71859;\n    int32_t replicate_gtid_71857;\n    int32_t phys_tblock_id_71864;\n    int32_t iterations_71865;\n    \n    replicate_ltid_71858 = get_local_id(0);\n    tblock_sizze_71860 = get_local_size(0);\n    replicate_gid_71859 = get_tblock_id(0);\n    replicate_gtid_71857 = replicate_gid_71859 * tblock_sizze_71860 + replicate_ltid_71858;\n    phys_tblock_id_71864 = get_tblock_id(0);\n    iterations_71865 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71862) - phys_tblock_id_71864, sext_i64_i32(num_tblocks_71863));\n    for (int32_t i_71866 = 0; i_71866 < iterations_71865; i_71866++) {\n        int32_t virt_tblock_id_71867;\n        int64_t global_tid_71868;\n        int64_t slice_71871;\n        int64_t slice_71872;\n        int64_t rep_i_71869;\n        int64_t remnant_71873;\n        int64_t rep_i_71870;\n        int64_t remnant_71874;\n        \n        virt_tblock_id_71867 = phys_tblock_id_71864 + i_71866 * sext_i64_i32(num_tblocks_71863);\n        global_tid_71868 = sext_i32_i64(virt_tblock_id_71867) * sext_i32_i64(tblock_sizze_71860) + sext_i32_i64(replicate_ltid_71858);\n        slice_71871 = dz2083U_45080;\n        slice_71872 = dim_45075 * slice_71871;\n        rep_i_71869 = squot64(global_tid_71868, slice_71871);\n        remnant_71873 = global_tid_71868 - rep_i_71869 * slice_71871;\n        rep_i_71870 = remnant_71873;\n        remnant_71874 = remnant_71873 - rep_i_71870;\n        if (slt64(global_tid_71868, replicate_n_71856)) {\n            int64_t tmp_71875 = ((__global int64_t *) mem_68642)[rep_i_71870];\n            \n            ((__global int64_t *) mem_68645)[rep_i_71869 * dz2083U_45080 + rep_i_71870] = tmp_71875;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_71901(int64_t dim_45075, int64_t dz2083U_45080, int64_t replicate_n_71900, int64_t virt_num_tblocks_71906, int64_t num_tblocks_71907, __global unsigned char ", "*mem_68713, __global unsigned char *mem_68716)\n{\n    int32_t replicate_ltid_71902;\n    int32_t tblock_sizze_71904;\n    int32_t replicate_gid_71903;\n    int32_t replicate_gtid_71901;\n    int32_t phys_tblock_id_71908;\n    int32_t iterations_71909;\n    \n    replicate_ltid_71902 = get_local_id(0);\n    tblock_sizze_71904 = get_local_size(0);\n    replicate_gid_71903 = get_tblock_id(0);\n    replicate_gtid_71901 = replicate_gid_71903 * tblock_sizze_71904 + replicate_ltid_71902;\n    phys_tblock_id_71908 = get_tblock_id(0);\n    iterations_71909 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71906) - phys_tblock_id_71908, sext_i64_i32(num_tblocks_71907));\n    for (int32_t i_71910 = 0; i_71910 < iterations_71909; i_71910++) {\n        int32_t virt_tblock_id_71911;\n        int64_t global_tid_71912;\n        int64_t slice_71915;\n        int64_t slice_71916;\n        int64_t rep_i_71913;\n        int64_t remnant_71917;\n        int64_t rep_i_71914;\n        int64_t remnant_71918;\n        \n        virt_tblock_id_71911 = phys_tblock_id_71908 + i_71910 * sext_i64_i32(num_tblocks_71907);\n        global_tid_71912 = sext_i32_i64(virt_tblock_id_71911) * sext_i32_i64(tblock_sizze_71904) + sext_i32_i64(replicate_ltid_71902);\n        slice_71915 = dz2083U_45080;\n        slice_71916 = dim_45075 * slice_71915;\n        rep_i_71913 = squot64(global_tid_71912, slice_71915);\n        remnant_71917 = global_tid_71912 - rep_i_71913 * slice_71915;\n        rep_i_71914 = remnant_71917;\n        remnant_71918 = remnant_71917 - rep_i_71914;\n        if (slt64(global_tid_71912, replicate_n_71900)) {\n            int64_t tmp_71919 = ((__global int64_t *) mem_68713)[rep_i_71914];\n            \n            ((__global int64_t *) mem_68716)[rep_i_71913 * dz2083U_45080 + rep_i_71914] = tmp_71919;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_71945(int64_t dim_45075, int64_t dz2083U_45080, int64_t replicat",
                                    "e_n_71944, int64_t virt_num_tblocks_71950, int64_t num_tblocks_71951, __global unsigned char *mem_68797, __global unsigned char *mem_68800)\n{\n    int32_t replicate_ltid_71946;\n    int32_t tblock_sizze_71948;\n    int32_t replicate_gid_71947;\n    int32_t replicate_gtid_71945;\n    int32_t phys_tblock_id_71952;\n    int32_t iterations_71953;\n    \n    replicate_ltid_71946 = get_local_id(0);\n    tblock_sizze_71948 = get_local_size(0);\n    replicate_gid_71947 = get_tblock_id(0);\n    replicate_gtid_71945 = replicate_gid_71947 * tblock_sizze_71948 + replicate_ltid_71946;\n    phys_tblock_id_71952 = get_tblock_id(0);\n    iterations_71953 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71950) - phys_tblock_id_71952, sext_i64_i32(num_tblocks_71951));\n    for (int32_t i_71954 = 0; i_71954 < iterations_71953; i_71954++) {\n        int32_t virt_tblock_id_71955;\n        int64_t global_tid_71956;\n        int64_t slice_71959;\n        int64_t slice_71960;\n        int64_t rep_i_71957;\n        int64_t remnant_71961;\n        int64_t rep_i_71958;\n        int64_t remnant_71962;\n        \n        virt_tblock_id_71955 = phys_tblock_id_71952 + i_71954 * sext_i64_i32(num_tblocks_71951);\n        global_tid_71956 = sext_i32_i64(virt_tblock_id_71955) * sext_i32_i64(tblock_sizze_71948) + sext_i32_i64(replicate_ltid_71946);\n        slice_71959 = dz2083U_45080;\n        slice_71960 = dim_45075 * slice_71959;\n        rep_i_71957 = squot64(global_tid_71956, slice_71959);\n        remnant_71961 = global_tid_71956 - rep_i_71957 * slice_71959;\n        rep_i_71958 = remnant_71961;\n        remnant_71962 = remnant_71961 - rep_i_71958;\n        if (slt64(global_tid_71956, replicate_n_71944)) {\n            int64_t tmp_71963 = ((__global int64_t *) mem_68797)[rep_i_71958];\n            \n            ((__global int64_t *) mem_68800)[rep_i_71957 * dz2083U_45080 + rep_i_71958] = tmp_71963;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Sk", "yline_GFUR_doublezireplicate_72046(int64_t dim_45075, int64_t dz2083U_45080, int64_t replicate_n_72045, int64_t virt_num_tblocks_72051, int64_t num_tblocks_72052, __global unsigned char *mem_68945, __global unsigned char *mem_68948)\n{\n    int32_t replicate_ltid_72047;\n    int32_t tblock_sizze_72049;\n    int32_t replicate_gid_72048;\n    int32_t replicate_gtid_72046;\n    int32_t phys_tblock_id_72053;\n    int32_t iterations_72054;\n    \n    replicate_ltid_72047 = get_local_id(0);\n    tblock_sizze_72049 = get_local_size(0);\n    replicate_gid_72048 = get_tblock_id(0);\n    replicate_gtid_72046 = replicate_gid_72048 * tblock_sizze_72049 + replicate_ltid_72047;\n    phys_tblock_id_72053 = get_tblock_id(0);\n    iterations_72054 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72051) - phys_tblock_id_72053, sext_i64_i32(num_tblocks_72052));\n    for (int32_t i_72055 = 0; i_72055 < iterations_72054; i_72055++) {\n        int32_t virt_tblock_id_72056;\n        int64_t global_tid_72057;\n        int64_t slice_72060;\n        int64_t slice_72061;\n        int64_t rep_i_72058;\n        int64_t remnant_72062;\n        int64_t rep_i_72059;\n        int64_t remnant_72063;\n        \n        virt_tblock_id_72056 = phys_tblock_id_72053 + i_72055 * sext_i64_i32(num_tblocks_72052);\n        global_tid_72057 = sext_i32_i64(virt_tblock_id_72056) * sext_i32_i64(tblock_sizze_72049) + sext_i32_i64(replicate_ltid_72047);\n        slice_72060 = dz2083U_45080;\n        slice_72061 = dim_45075 * slice_72060;\n        rep_i_72058 = squot64(global_tid_72057, slice_72060);\n        remnant_72062 = global_tid_72057 - rep_i_72058 * slice_72060;\n        rep_i_72059 = remnant_72062;\n        remnant_72063 = remnant_72062 - rep_i_72059;\n        if (slt64(global_tid_72057, replicate_n_72045)) {\n            double tmp_72064 = ((__global double *) mem_68945)[rep_i_72059 * dim_45075];\n            \n            ((__global double *) mem_68948)[rep_i_72058 * dz2083U_45080 + rep_i_72059] = tmp_72064;\n        }\n        barrier(CLK_GLOBAL_M", "EM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72326(int64_t dim_45075, int64_t replicate_n_72325, int64_t virt_num_tblocks_72331, int64_t num_tblocks_72332, __global unsigned char *mem_69110, __global unsigned char *mem_69112)\n{\n    int32_t replicate_ltid_72327;\n    int32_t tblock_sizze_72329;\n    int32_t replicate_gid_72328;\n    int32_t replicate_gtid_72326;\n    int32_t phys_tblock_id_72333;\n    int32_t iterations_72334;\n    \n    replicate_ltid_72327 = get_local_id(0);\n    tblock_sizze_72329 = get_local_size(0);\n    replicate_gid_72328 = get_tblock_id(0);\n    replicate_gtid_72326 = replicate_gid_72328 * tblock_sizze_72329 + replicate_ltid_72327;\n    phys_tblock_id_72333 = get_tblock_id(0);\n    iterations_72334 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72331) - phys_tblock_id_72333, sext_i64_i32(num_tblocks_72332));\n    for (int32_t i_72335 = 0; i_72335 < iterations_72334; i_72335++) {\n        int32_t virt_tblock_id_72336;\n        int64_t global_tid_72337;\n        int64_t slice_72340;\n        int64_t slice_72341;\n        int64_t rep_i_72338;\n        int64_t remnant_72342;\n        int64_t rep_i_72339;\n        int64_t remnant_72343;\n        \n        virt_tblock_id_72336 = phys_tblock_id_72333 + i_72335 * sext_i64_i32(num_tblocks_72332);\n        global_tid_72337 = sext_i32_i64(virt_tblock_id_72336) * sext_i32_i64(tblock_sizze_72329) + sext_i32_i64(replicate_ltid_72327);\n        slice_72340 = (int64_t) 1;\n        slice_72341 = dim_45075 * slice_72340;\n        rep_i_72338 = squot64(global_tid_72337, slice_72340);\n        remnant_72342 = global_tid_72337 - rep_i_72338 * slice_72340;\n        rep_i_72339 = remnant_72342;\n        remnant_72343 = remnant_72342 - rep_i_72339;\n        if (slt64(global_tid_72337, replicate_n_72325)) {\n            int64_t tmp_72344 = ((__global int64_t *) mem_69110)[rep_i_72339];\n            \n            ((__global int64_t *) mem_69112)[rep_i_72338 + rep_i_72339]",
                                    " = tmp_72344;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72359(int64_t dim_45075, int64_t replicate_n_72358, int64_t virt_num_tblocks_72364, int64_t num_tblocks_72365, __global unsigned char *mem_69125, __global unsigned char *mem_69127)\n{\n    int32_t replicate_ltid_72360;\n    int32_t tblock_sizze_72362;\n    int32_t replicate_gid_72361;\n    int32_t replicate_gtid_72359;\n    int32_t phys_tblock_id_72366;\n    int32_t iterations_72367;\n    \n    replicate_ltid_72360 = get_local_id(0);\n    tblock_sizze_72362 = get_local_size(0);\n    replicate_gid_72361 = get_tblock_id(0);\n    replicate_gtid_72359 = replicate_gid_72361 * tblock_sizze_72362 + replicate_ltid_72360;\n    phys_tblock_id_72366 = get_tblock_id(0);\n    iterations_72367 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72364) - phys_tblock_id_72366, sext_i64_i32(num_tblocks_72365));\n    for (int32_t i_72368 = 0; i_72368 < iterations_72367; i_72368++) {\n        int32_t virt_tblock_id_72369;\n        int64_t global_tid_72370;\n        int64_t slice_72373;\n        int64_t slice_72374;\n        int64_t rep_i_72371;\n        int64_t remnant_72375;\n        int64_t rep_i_72372;\n        int64_t remnant_72376;\n        \n        virt_tblock_id_72369 = phys_tblock_id_72366 + i_72368 * sext_i64_i32(num_tblocks_72365);\n        global_tid_72370 = sext_i32_i64(virt_tblock_id_72369) * sext_i32_i64(tblock_sizze_72362) + sext_i32_i64(replicate_ltid_72360);\n        slice_72373 = (int64_t) 1;\n        slice_72374 = dim_45075 * slice_72373;\n        rep_i_72371 = squot64(global_tid_72370, slice_72373);\n        remnant_72375 = global_tid_72370 - rep_i_72371 * slice_72373;\n        rep_i_72372 = remnant_72375;\n        remnant_72376 = remnant_72375 - rep_i_72372;\n        if (slt64(global_tid_72370, replicate_n_72358)) {\n            int64_t tmp_72377 = ((__global int64_t *) mem_69125)[rep_i_72372];\n            \n            ((__glo", "bal int64_t *) mem_69127)[rep_i_72371 + rep_i_72372] = tmp_72377;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72392(int64_t dim_45075, int64_t replicate_n_72391, int64_t virt_num_tblocks_72397, int64_t num_tblocks_72398, __global unsigned char *mem_69140, __global unsigned char *mem_69142)\n{\n    int32_t replicate_ltid_72393;\n    int32_t tblock_sizze_72395;\n    int32_t replicate_gid_72394;\n    int32_t replicate_gtid_72392;\n    int32_t phys_tblock_id_72399;\n    int32_t iterations_72400;\n    \n    replicate_ltid_72393 = get_local_id(0);\n    tblock_sizze_72395 = get_local_size(0);\n    replicate_gid_72394 = get_tblock_id(0);\n    replicate_gtid_72392 = replicate_gid_72394 * tblock_sizze_72395 + replicate_ltid_72393;\n    phys_tblock_id_72399 = get_tblock_id(0);\n    iterations_72400 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72397) - phys_tblock_id_72399, sext_i64_i32(num_tblocks_72398));\n    for (int32_t i_72401 = 0; i_72401 < iterations_72400; i_72401++) {\n        int32_t virt_tblock_id_72402;\n        int64_t global_tid_72403;\n        int64_t slice_72406;\n        int64_t slice_72407;\n        int64_t rep_i_72404;\n        int64_t remnant_72408;\n        int64_t rep_i_72405;\n        int64_t remnant_72409;\n        \n        virt_tblock_id_72402 = phys_tblock_id_72399 + i_72401 * sext_i64_i32(num_tblocks_72398);\n        global_tid_72403 = sext_i32_i64(virt_tblock_id_72402) * sext_i32_i64(tblock_sizze_72395) + sext_i32_i64(replicate_ltid_72393);\n        slice_72406 = (int64_t) 1;\n        slice_72407 = dim_45075 * slice_72406;\n        rep_i_72404 = squot64(global_tid_72403, slice_72406);\n        remnant_72408 = global_tid_72403 - rep_i_72404 * slice_72406;\n        rep_i_72405 = remnant_72408;\n        remnant_72409 = remnant_72408 - rep_i_72405;\n        if (slt64(global_tid_72403, replicate_n_72391)) {\n            int64_t tmp_72410 = ((__global int64_t *) mem_6", "9140)[rep_i_72405];\n            \n            ((__global int64_t *) mem_69142)[rep_i_72404 + rep_i_72405] = tmp_72410;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72464(int64_t dim_45075, int64_t replicate_n_72463, int64_t virt_num_tblocks_72469, int64_t num_tblocks_72470, __global unsigned char *mem_69190, __global unsigned char *mem_69192)\n{\n    int32_t replicate_ltid_72465;\n    int32_t tblock_sizze_72467;\n    int32_t replicate_gid_72466;\n    int32_t replicate_gtid_72464;\n    int32_t phys_tblock_id_72471;\n    int32_t iterations_72472;\n    \n    replicate_ltid_72465 = get_local_id(0);\n    tblock_sizze_72467 = get_local_size(0);\n    replicate_gid_72466 = get_tblock_id(0);\n    replicate_gtid_72464 = replicate_gid_72466 * tblock_sizze_72467 + replicate_ltid_72465;\n    phys_tblock_id_72471 = get_tblock_id(0);\n    iterations_72472 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72469) - phys_tblock_id_72471, sext_i64_i32(num_tblocks_72470));\n    for (int32_t i_72473 = 0; i_72473 < iterations_72472; i_72473++) {\n        int32_t virt_tblock_id_72474;\n        int64_t global_tid_72475;\n        int64_t slice_72478;\n        int64_t slice_72479;\n        int64_t rep_i_72476;\n        int64_t remnant_72480;\n        int64_t rep_i_72477;\n        int64_t remnant_72481;\n        \n        virt_tblock_id_72474 = phys_tblock_id_72471 + i_72473 * sext_i64_i32(num_tblocks_72470);\n        global_tid_72475 = sext_i32_i64(virt_tblock_id_72474) * sext_i32_i64(tblock_sizze_72467) + sext_i32_i64(replicate_ltid_72465);\n        slice_72478 = (int64_t) 1;\n        slice_72479 = dim_45075 * slice_72478;\n        rep_i_72476 = squot64(global_tid_72475, slice_72478);\n        remnant_72480 = global_tid_72475 - rep_i_72476 * slice_72478;\n        rep_i_72477 = remnant_72480;\n        remnant_72481 = remnant_72480 - rep_i_72477;\n        if (slt64(global_tid_72475, replicate_n_72463)) {\n       ",
                                    "     double tmp_72482 = ((__global double *) mem_69190)[rep_i_72477];\n            \n            ((__global double *) mem_69192)[rep_i_72476 + rep_i_72477] = tmp_72482;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72532(int64_t m_50805, int64_t replicate_n_72531, int64_t virt_num_tblocks_72537, int64_t num_tblocks_72538, __global unsigned char *mem_69231, __global unsigned char *mem_69233)\n{\n    int32_t replicate_ltid_72533;\n    int32_t tblock_sizze_72535;\n    int32_t replicate_gid_72534;\n    int32_t replicate_gtid_72532;\n    int32_t phys_tblock_id_72539;\n    int32_t iterations_72540;\n    \n    replicate_ltid_72533 = get_local_id(0);\n    tblock_sizze_72535 = get_local_size(0);\n    replicate_gid_72534 = get_tblock_id(0);\n    replicate_gtid_72532 = replicate_gid_72534 * tblock_sizze_72535 + replicate_ltid_72533;\n    phys_tblock_id_72539 = get_tblock_id(0);\n    iterations_72540 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72537) - phys_tblock_id_72539, sext_i64_i32(num_tblocks_72538));\n    for (int32_t i_72541 = 0; i_72541 < iterations_72540; i_72541++) {\n        int32_t virt_tblock_id_72542;\n        int64_t global_tid_72543;\n        int64_t slice_72546;\n        int64_t slice_72547;\n        int64_t rep_i_72544;\n        int64_t remnant_72548;\n        int64_t rep_i_72545;\n        int64_t remnant_72549;\n        \n        virt_tblock_id_72542 = phys_tblock_id_72539 + i_72541 * sext_i64_i32(num_tblocks_72538);\n        global_tid_72543 = sext_i32_i64(virt_tblock_id_72542) * sext_i32_i64(tblock_sizze_72535) + sext_i32_i64(replicate_ltid_72533);\n        slice_72546 = (int64_t) 1;\n        slice_72547 = m_50805 * slice_72546;\n        rep_i_72544 = squot64(global_tid_72543, slice_72546);\n        remnant_72548 = global_tid_72543 - rep_i_72544 * slice_72546;\n        rep_i_72545 = remnant_72548;\n        remnant_72549 = remnant_72548 - rep_i_72545;\n        if (slt64(gl", "obal_tid_72543, replicate_n_72531)) {\n            int64_t tmp_72550 = ((__global int64_t *) mem_69231)[rep_i_72545];\n            \n            ((__global int64_t *) mem_69233)[rep_i_72544 + rep_i_72545] = tmp_72550;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72577(int64_t dim_45075, int64_t replicate_n_72576, int64_t virt_num_tblocks_72582, int64_t num_tblocks_72583, __global unsigned char *mem_69243, __global unsigned char *mem_69245)\n{\n    int32_t replicate_ltid_72578;\n    int32_t tblock_sizze_72580;\n    int32_t replicate_gid_72579;\n    int32_t replicate_gtid_72577;\n    int32_t phys_tblock_id_72584;\n    int32_t iterations_72585;\n    \n    replicate_ltid_72578 = get_local_id(0);\n    tblock_sizze_72580 = get_local_size(0);\n    replicate_gid_72579 = get_tblock_id(0);\n    replicate_gtid_72577 = replicate_gid_72579 * tblock_sizze_72580 + replicate_ltid_72578;\n    phys_tblock_id_72584 = get_tblock_id(0);\n    iterations_72585 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72582) - phys_tblock_id_72584, sext_i64_i32(num_tblocks_72583));\n    for (int32_t i_72586 = 0; i_72586 < iterations_72585; i_72586++) {\n        int32_t virt_tblock_id_72587;\n        int64_t global_tid_72588;\n        int64_t slice_72591;\n        int64_t slice_72592;\n        int64_t rep_i_72589;\n        int64_t remnant_72593;\n        int64_t rep_i_72590;\n        int64_t remnant_72594;\n        \n        virt_tblock_id_72587 = phys_tblock_id_72584 + i_72586 * sext_i64_i32(num_tblocks_72583);\n        global_tid_72588 = sext_i32_i64(virt_tblock_id_72587) * sext_i32_i64(tblock_sizze_72580) + sext_i32_i64(replicate_ltid_72578);\n        slice_72591 = (int64_t) 1;\n        slice_72592 = dim_45075 * slice_72591;\n        rep_i_72589 = squot64(global_tid_72588, slice_72591);\n        remnant_72593 = global_tid_72588 - rep_i_72589 * slice_72591;\n        rep_i_72590 = remnant_72593;\n        remnant_72594", " = remnant_72593 - rep_i_72590;\n        if (slt64(global_tid_72588, replicate_n_72576)) {\n            int64_t tmp_72595 = ((__global int64_t *) mem_69243)[rep_i_72590];\n            \n            ((__global int64_t *) mem_69245)[rep_i_72589 + rep_i_72590] = tmp_72595;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72610(int64_t dim_45075, int64_t replicate_n_72609, int64_t virt_num_tblocks_72615, int64_t num_tblocks_72616, __global unsigned char *mem_69258, __global unsigned char *mem_69260)\n{\n    int32_t replicate_ltid_72611;\n    int32_t tblock_sizze_72613;\n    int32_t replicate_gid_72612;\n    int32_t replicate_gtid_72610;\n    int32_t phys_tblock_id_72617;\n    int32_t iterations_72618;\n    \n    replicate_ltid_72611 = get_local_id(0);\n    tblock_sizze_72613 = get_local_size(0);\n    replicate_gid_72612 = get_tblock_id(0);\n    replicate_gtid_72610 = replicate_gid_72612 * tblock_sizze_72613 + replicate_ltid_72611;\n    phys_tblock_id_72617 = get_tblock_id(0);\n    iterations_72618 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72615) - phys_tblock_id_72617, sext_i64_i32(num_tblocks_72616));\n    for (int32_t i_72619 = 0; i_72619 < iterations_72618; i_72619++) {\n        int32_t virt_tblock_id_72620;\n        int64_t global_tid_72621;\n        int64_t slice_72624;\n        int64_t slice_72625;\n        int64_t rep_i_72622;\n        int64_t remnant_72626;\n        int64_t rep_i_72623;\n        int64_t remnant_72627;\n        \n        virt_tblock_id_72620 = phys_tblock_id_72617 + i_72619 * sext_i64_i32(num_tblocks_72616);\n        global_tid_72621 = sext_i32_i64(virt_tblock_id_72620) * sext_i32_i64(tblock_sizze_72613) + sext_i32_i64(replicate_ltid_72611);\n        slice_72624 = (int64_t) 1;\n        slice_72625 = dim_45075 * slice_72624;\n        rep_i_72622 = squot64(global_tid_72621, slice_72624);\n        remnant_72626 = global_tid_72621 - rep_i_72622 * slice_72624;\n      ",
                                    "  rep_i_72623 = remnant_72626;\n        remnant_72627 = remnant_72626 - rep_i_72623;\n        if (slt64(global_tid_72621, replicate_n_72609)) {\n            int64_t tmp_72628 = ((__global int64_t *) mem_69258)[rep_i_72623];\n            \n            ((__global int64_t *) mem_69260)[rep_i_72622 + rep_i_72623] = tmp_72628;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72643(int64_t dim_45075, int64_t replicate_n_72642, int64_t virt_num_tblocks_72648, int64_t num_tblocks_72649, __global unsigned char *mem_69273, __global unsigned char *mem_69275)\n{\n    int32_t replicate_ltid_72644;\n    int32_t tblock_sizze_72646;\n    int32_t replicate_gid_72645;\n    int32_t replicate_gtid_72643;\n    int32_t phys_tblock_id_72650;\n    int32_t iterations_72651;\n    \n    replicate_ltid_72644 = get_local_id(0);\n    tblock_sizze_72646 = get_local_size(0);\n    replicate_gid_72645 = get_tblock_id(0);\n    replicate_gtid_72643 = replicate_gid_72645 * tblock_sizze_72646 + replicate_ltid_72644;\n    phys_tblock_id_72650 = get_tblock_id(0);\n    iterations_72651 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72648) - phys_tblock_id_72650, sext_i64_i32(num_tblocks_72649));\n    for (int32_t i_72652 = 0; i_72652 < iterations_72651; i_72652++) {\n        int32_t virt_tblock_id_72653;\n        int64_t global_tid_72654;\n        int64_t slice_72657;\n        int64_t slice_72658;\n        int64_t rep_i_72655;\n        int64_t remnant_72659;\n        int64_t rep_i_72656;\n        int64_t remnant_72660;\n        \n        virt_tblock_id_72653 = phys_tblock_id_72650 + i_72652 * sext_i64_i32(num_tblocks_72649);\n        global_tid_72654 = sext_i32_i64(virt_tblock_id_72653) * sext_i32_i64(tblock_sizze_72646) + sext_i32_i64(replicate_ltid_72644);\n        slice_72657 = (int64_t) 1;\n        slice_72658 = dim_45075 * slice_72657;\n        rep_i_72655 = squot64(global_tid_72654, slice_72657);\n        remnant_72659 = ", "global_tid_72654 - rep_i_72655 * slice_72657;\n        rep_i_72656 = remnant_72659;\n        remnant_72660 = remnant_72659 - rep_i_72656;\n        if (slt64(global_tid_72654, replicate_n_72642)) {\n            int64_t tmp_72661 = ((__global int64_t *) mem_69273)[rep_i_72656];\n            \n            ((__global int64_t *) mem_69275)[rep_i_72655 + rep_i_72656] = tmp_72661;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_72709(int64_t dim_45075, int64_t replicate_n_72708, int64_t virt_num_tblocks_72714, int64_t num_tblocks_72715, __global unsigned char *mem_69318, __global unsigned char *mem_69320)\n{\n    int32_t replicate_ltid_72710;\n    int32_t tblock_sizze_72712;\n    int32_t replicate_gid_72711;\n    int32_t replicate_gtid_72709;\n    int32_t phys_tblock_id_72716;\n    int32_t iterations_72717;\n    \n    replicate_ltid_72710 = get_local_id(0);\n    tblock_sizze_72712 = get_local_size(0);\n    replicate_gid_72711 = get_tblock_id(0);\n    replicate_gtid_72709 = replicate_gid_72711 * tblock_sizze_72712 + replicate_ltid_72710;\n    phys_tblock_id_72716 = get_tblock_id(0);\n    iterations_72717 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72714) - phys_tblock_id_72716, sext_i64_i32(num_tblocks_72715));\n    for (int32_t i_72718 = 0; i_72718 < iterations_72717; i_72718++) {\n        int32_t virt_tblock_id_72719;\n        int64_t global_tid_72720;\n        int64_t slice_72723;\n        int64_t slice_72724;\n        int64_t rep_i_72721;\n        int64_t remnant_72725;\n        int64_t rep_i_72722;\n        int64_t remnant_72726;\n        \n        virt_tblock_id_72719 = phys_tblock_id_72716 + i_72718 * sext_i64_i32(num_tblocks_72715);\n        global_tid_72720 = sext_i32_i64(virt_tblock_id_72719) * sext_i32_i64(tblock_sizze_72712) + sext_i32_i64(replicate_ltid_72710);\n        slice_72723 = (int64_t) 1;\n        slice_72724 = dim_45075 * slice_72723;\n        rep_i_72721 = squot64(glob", "al_tid_72720, slice_72723);\n        remnant_72725 = global_tid_72720 - rep_i_72721 * slice_72723;\n        rep_i_72722 = remnant_72725;\n        remnant_72726 = remnant_72725 - rep_i_72722;\n        if (slt64(global_tid_72720, replicate_n_72708)) {\n            double tmp_72727 = ((__global double *) mem_69318)[rep_i_72722];\n            \n            ((__global double *) mem_69320)[rep_i_72721 + rep_i_72722] = tmp_72727;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doubleziseghist_global_60236_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doubleziseghist_global_60236(__global int *global_failure, int64_t total_part_no_45089, int64_t m_50805, int64_t num_tblocks_60231, int64_t num_subhistos_72777, int32_t chk_i_72847, int64_t hist_H_chk_72848, __global unsigned char *ext_mem_69367, __global unsigned char *defunc_0_map_res_subhistos_mem_72778)\n{\n    #define seghist_tblock_sizze_60229 (calc_local_Skyline_GFUR_doubleziseghist_global_60236ziseghist_tblock_sizze_60229)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72850;\n    int32_t tblock_sizze_72853;\n    int32_t wave_sizze_72852;\n    int32_t block_id_72851;\n    int32_t global_tid_72849;\n    int64_t phys_tid_60236;\n    int32_t subhisto_ind_72854;\n    int64_t num_chunks_72855;\n    \n    local_tid_72850 = get_local_id(0);\n    tblock_sizze_72853 = get_local_size(0);\n    wave_sizze_72852 = LOCKSTEP_WIDTH;\n    block_id_72851 = get_tblock_id(0);\n    global_tid_72849 = block_id_72851 * tblock_sizze_72853 + local_tid_72850;\n    phys_tid_60236 = sext_i32_i64(global_tid_72849);\n    subhisto_ind_72854 = squot32(global_tid_72849, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_60229 * num_tblocks_60231), sext_i64_i32(num_subhistos_72777)));\n    num_chunks_72855 = sdiv_up64(m_50805, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_60229 * num_tblocks_60231)));\n    for (int64_t chunk_i_72856 = 0; chunk_i_72856 < num_chu",
                                    "nks_72855; chunk_i_72856++) {\n        int64_t i_72857 = chunk_i_72856 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_60229 * num_tblocks_60231)) + sext_i32_i64(global_tid_72849);\n        \n        if (slt64(i_72857, m_50805)) {\n            int64_t slice_72858;\n            int64_t gtid_60235;\n            int64_t remnant_72859;\n            \n            slice_72858 = m_50805;\n            gtid_60235 = i_72857;\n            remnant_72859 = i_72857 - gtid_60235;\n            if (slt64(i_72857, m_50805)) {\n                int64_t bucket_p_60240 = ((__global int64_t *) ext_mem_69367)[gtid_60235];\n                \n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_72847) * hist_H_chk_72848, bucket_p_60240) && (slt64(bucket_p_60240, sext_i32_i64(chk_i_72847) * hist_H_chk_72848 + hist_H_chk_72848) && (sle64((int64_t) 0, bucket_p_60240) && slt64(bucket_p_60240, total_part_no_45089)))) {\n                        int64_t eta_p_60237;\n                        int64_t eta_p_60238 = (int64_t) 1;\n                        int64_t old_72860;\n                        \n                        old_72860 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_72778)[sext_i32_i64(subhisto_ind_72854) * total_part_no_45089 + bucket_p_60240], (int64_t) eta_p_60238);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_60229\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doubleziseghist_local_60236_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doubleziseghist_local_60236(__global int *global_failure, int64_t total_part_no_45089, int64_t m_50805, int64_t num_subhistos_72777, int64_t num_tblocks_72788, int32_t hist_M_72794, int32_t chk_i_72798, int64_t num_segments_72799, int64_t hist_H_chk_72800, int64_t histo_sizze_72801, int32_t init_per_thread_72802, __global unsigned char *ext_me", "m_69367, __global unsigned char *defunc_0_map_res_subhistos_mem_72778)\n{\n    #define max_tblock_sizze_72787 (calc_local_Skyline_GFUR_doubleziseghist_local_60236zimax_tblock_sizze_72787)\n    \n    volatile __local unsigned char *subhistogram_local_mem_72816_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_72816_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_72794 * hist_H_chk_72800) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_72794 * hist_H_chk_72800), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72804;\n    int32_t tblock_sizze_72807;\n    int32_t wave_sizze_72806;\n    int32_t block_id_72805;\n    int32_t global_tid_72803;\n    int64_t phys_tid_60236;\n    int32_t phys_tblock_id_72808;\n    int32_t iterations_72809;\n    \n    local_tid_72804 = get_local_id(0);\n    tblock_sizze_72807 = get_local_size(0);\n    wave_sizze_72806 = LOCKSTEP_WIDTH;\n    block_id_72805 = get_tblock_id(0);\n    global_tid_72803 = block_id_72805 * tblock_sizze_72807 + local_tid_72804;\n    phys_tid_60236 = sext_i32_i64(global_tid_72803);\n    phys_tblock_id_72808 = get_tblock_id(0);\n    iterations_72809 = sdiv_up32(sext_i64_i32(num_tblocks_72788 * num_segments_72799) - phys_tblock_id_72808, sext_i64_i32(num_tblocks_72788));\n    for (int32_t i_72810 = 0; i_72810 < iterations_72809; i_72810++) {\n        int32_t virt_tblock_id_72811;\n        int32_t flat_segment_id_72812;\n        int32_t gid_in_segment_72813;\n        int32_t pgtid_in_segment_72814;\n        int32_t threads_per_segment_72815;\n        __local unsigned char *subhistogram_local_mem_72816;\n        int32_t thread_local_subhisto_i_72818;\n        int64_t num_chunks_72825;\n        \n        virt_tblock_id_72811 = phys_tblock_id_72808 + i_72810 * sext_i64_i32(num_tblocks_72788);\n        flat_segment_id_72812 = squot32(virt_tblock_id_72811, sext_i64_i32(num_tblocks_72788));\n        gid_in_segment_72813 = srem32(virt_tblock_id_72811, sext_i64_i32(num_tblocks_72788));", "\n        pgtid_in_segment_72814 = gid_in_segment_72813 * sext_i64_i32(max_tblock_sizze_72787) + local_tid_72804;\n        threads_per_segment_72815 = sext_i64_i32(num_tblocks_72788 * max_tblock_sizze_72787);\n        subhistogram_local_mem_72816 = (__local unsigned char *) subhistogram_local_mem_72816_backing_0;\n        thread_local_subhisto_i_72818 = srem32(local_tid_72804, hist_M_72794);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_72819 = 0; local_i_72819 < init_per_thread_72802; local_i_72819++) {\n                int32_t j_72820 = local_i_72819 * sext_i64_i32(max_tblock_sizze_72787) + local_tid_72804;\n                int32_t j_offset_72821 = hist_M_72794 * sext_i64_i32(histo_sizze_72801) * gid_in_segment_72813 + j_72820;\n                int32_t local_subhisto_i_72822 = squot32(j_72820, sext_i64_i32(histo_sizze_72801));\n                int32_t global_subhisto_i_72823 = squot32(j_offset_72821, sext_i64_i32(histo_sizze_72801));\n                \n                if (slt32(j_72820, hist_M_72794 * sext_i64_i32(histo_sizze_72801))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_72823 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_72777)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_72820, sext_i64_i32(histo_sizze_72801))) + sext_i32_i64(chk_i_72798) * hist_H_chk_72800) && slt64(sext_i32_i64(srem32(j_72820, sext_i64_i32(histo_sizze_72801))) + sext_i32_i64(chk_i_72798) * hist_H_chk_72800, total_part_no_45089)))) {\n                            int64_t tmp_72824 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_72778)[sext_i32_i64(srem32(j_72820, sext_i64_i32(histo_sizze_72801))) + sext_i32_i64(chk_i_72798) * hist_H_chk_72800];\n                            \n                            ((__local int64_t *) subhistogram_local_mem_72816)[sext_i32_i64(local_subhisto_i_7282",
                                    "2) * hist_H_chk_72800 + sext_i32_i64(srem32(j_72820, sext_i64_i32(histo_sizze_72801)))] = tmp_72824;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_72816)[sext_i32_i64(local_subhisto_i_72822) * hist_H_chk_72800 + sext_i32_i64(srem32(j_72820, sext_i64_i32(histo_sizze_72801)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_72825 = sdiv_up64(m_50805, sext_i32_i64(threads_per_segment_72815));\n        for (int64_t chunk_i_72826 = 0; chunk_i_72826 < num_chunks_72825; chunk_i_72826++) {\n            int64_t i_72827 = chunk_i_72826 * sext_i32_i64(threads_per_segment_72815) + sext_i32_i64(pgtid_in_segment_72814);\n            \n            if (slt64(i_72827, m_50805)) {\n                int64_t gtid_60235;\n                int64_t bucket_p_60240;\n                \n                gtid_60235 = i_72827;\n                bucket_p_60240 = ((__global int64_t *) ext_mem_69367)[gtid_60235];\n                if (chk_i_72798 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, bucket_p_60240) && slt64(bucket_p_60240, total_part_no_45089)) && (sle64(sext_i32_i64(chk_i_72798) * hist_H_chk_72800, bucket_p_60240) && slt64(bucket_p_60240, sext_i32_i64(chk_i_72798) * hist_H_chk_72800 + hist_H_chk_72800))) {\n                        int64_t eta_p_60237;\n                        int64_t eta_p_60238 = (int64_t) 1;\n                        int64_t old_72828;\n                        \n                        old_72828 = atomic_add_i64_shared(&((volatile __local int64_t *) subhistogram_local_mem_72816)[sext_i32_i64(thread_local_subhisto_i_72818) * hist_H_chk_72800 + (bucket_p_60240 - sext_i32_i64(chk_i_72798) * hist_H_chk_72800)], (int64_t) eta_p_60238);\n                    }\n                }\n", "            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_72829 = smin64(hist_H_chk_72800, total_part_no_45089 - sext_i32_i64(chk_i_72798) * hist_H_chk_72800);\n            int32_t histo_sizze_72830 = sext_i64_i32(trunc_H_72829);\n            \n            for (int32_t local_i_72831 = 0; local_i_72831 < init_per_thread_72802; local_i_72831++) {\n                int32_t j_72832 = local_i_72831 * sext_i64_i32(max_tblock_sizze_72787) + local_tid_72804;\n                \n                if (slt32(j_72832, histo_sizze_72830)) {\n                    int64_t eta_p_60237;\n                    int64_t eta_p_60238;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_60237 = ((__local int64_t *) subhistogram_local_mem_72816)[sext_i32_i64(j_72832)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_72833 = 0; subhisto_id_72833 < hist_M_72794 - 1; subhisto_id_72833++) {\n                            eta_p_60238 = ((__local int64_t *) subhistogram_local_mem_72816)[(sext_i32_i64(subhisto_id_72833) + (int64_t) 1) * hist_H_chk_72800 + sext_i32_i64(j_72832)];\n                            \n                            int64_t defunc_0_op_res_60239 = add64(eta_p_60237, eta_p_60238);\n                            \n                            eta_p_60237 = defunc_0_op_res_60239;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_72778)[srem64(sext_i32_i64(virt_tblock_id_72811), num_tblocks_72788) * total_part_no_45089 + (sext_i32_i64(j_72832) + sext_i32_i64(chk_i_72798) * hist_H_chk_72800)] = eta_p_60237", ";\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_72787\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59503_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59503(__global int *global_failure, int64_t dim_45075, int64_t dz2083U_45080, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xys_mem_68618, __global unsigned char *mem_68639)\n{\n    #define segmap_tblock_sizze_59498 (calc_local_Skyline_GFUR_doublezisegmap_59503zisegmap_tblock_sizze_59498)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71827;\n    int32_t tblock_sizze_71830;\n    int32_t wave_sizze_71829;\n    int32_t block_id_71828;\n    int32_t global_tid_71826;\n    int64_t phys_tid_59503;\n    int64_t global_tid_71831;\n    int64_t slice_71832;\n    int64_t slice_71833;\n    int64_t gtid_59501;\n    int64_t remnant_71834;\n    int64_t gtid_59502;\n    int64_t remnant_71835;\n    \n    local_tid_71827 = get_local_id(0);\n    tblock_sizze_71830 = get_local_size(0);\n    wave_sizze_71829 = LOCKSTEP_WIDTH;\n    block_id_71828 = get_tblock_id(0);\n    global_tid_71826 = block_id_71828 * tblock_sizze_71830 + local_tid_71827;\n    phys_tid_59503 = sext_i32_i64(global_tid_71826);\n    global_tid_71831 = sext_i32_i64(block_id_71828) * segmap_tblock_sizze_59498 + sext_i32_i64(local_tid_71827);\n    slice_71832 = dim_45075;\n    slice_71833 = dz2083U_45080 * slice_71832;\n    gtid_59501 = squot64(global_tid_71831, slice_71832);\n    remnant_71834 = global_tid_71831 - gtid_59501 * slice_71832;\n    gtid_59502 = remnant_71834;\n    remnant_71835 = remnant_71834 - gtid_59502;\n    if (slt64(gtid_59501, dz2083U_45080) && slt64(gtid_59502, dim_45075)) {\n        double eta_p_59504;\n        double eta_p_59505;\n        double defunc_0_f_res_59506;\n        \n        eta_p_59504 = ((__global double *) xys_mem_68618)[gtid_59501 * dim_45075",
                                    " + gtid_59502];\n        eta_p_59505 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_59502];\n        defunc_0_f_res_59506 = eta_p_59504 - eta_p_59505;\n        ((__global double *) mem_68639)[gtid_59501 * dim_45075 + gtid_59502] = defunc_0_f_res_59506;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59498\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59519_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59519(__global int *global_failure, int64_t dim_45075, int64_t dz2083U_45080, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_68639)\n{\n    #define segmap_tblock_sizze_59514 (calc_local_Skyline_GFUR_doublezisegmap_59519zisegmap_tblock_sizze_59514)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71838;\n    int32_t tblock_sizze_71841;\n    int32_t wave_sizze_71840;\n    int32_t block_id_71839;\n    int32_t global_tid_71837;\n    int64_t phys_tid_59519;\n    int64_t global_tid_71842;\n    int64_t slice_71843;\n    int64_t slice_71844;\n    int64_t gtid_59517;\n    int64_t remnant_71845;\n    int64_t gtid_59518;\n    int64_t remnant_71846;\n    \n    local_tid_71838 = get_local_id(0);\n    tblock_sizze_71841 = get_local_size(0);\n    wave_sizze_71840 = LOCKSTEP_WIDTH;\n    block_id_71839 = get_tblock_id(0);\n    global_tid_71837 = block_id_71839 * tblock_sizze_71841 + local_tid_71838;\n    phys_tid_59519 = sext_i32_i64(global_tid_71837);\n    global_tid_71842 = sext_i32_i64(block_id_71839) * segmap_tblock_sizze_59514 + sext_i32_i64(local_tid_71838);\n    slice_71843 = dim_45075;\n    slice_71844 = dz2083U_45080 * slice_71843;\n    gtid_59517 = squot64(global_tid_71842, slice_71843);\n    remnant_71845 = global_tid_71842 - gtid_59517 * slice_71843;\n    gtid_59518 = remnant_71845;\n    remnant_71846 = remnant_71845 - gtid_59518;\n    if (slt64(gtid_59517, dz2083U_45080) && slt64(gtid_59518, dim_45075)) {\n        double eta_p_59520;\n        double eta_p_59521;\n        double defunc_0", "_f_res_59522;\n        \n        eta_p_59520 = ((__global double *) mem_68639)[gtid_59517 * dim_45075 + gtid_59518];\n        eta_p_59521 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_59518];\n        defunc_0_f_res_59522 = eta_p_59520 / eta_p_59521;\n        ((__global double *) mem_68639)[gtid_59517 * dim_45075 + gtid_59518] = defunc_0_f_res_59522;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59514\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59529_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59529(__global int *global_failure, int64_t dim_45075, int64_t dz2083U_45080, __global unsigned char *mem_68639, __global unsigned char *mem_68642)\n{\n    #define segmap_tblock_sizze_59525 (calc_local_Skyline_GFUR_doublezisegmap_59529zisegmap_tblock_sizze_59525)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71849;\n    int32_t tblock_sizze_71852;\n    int32_t wave_sizze_71851;\n    int32_t block_id_71850;\n    int32_t global_tid_71848;\n    int64_t phys_tid_59529;\n    int64_t global_tid_71853;\n    int64_t slice_71854;\n    int64_t gtid_59528;\n    int64_t remnant_71855;\n    \n    local_tid_71849 = get_local_id(0);\n    tblock_sizze_71852 = get_local_size(0);\n    wave_sizze_71851 = LOCKSTEP_WIDTH;\n    block_id_71850 = get_tblock_id(0);\n    global_tid_71848 = block_id_71850 * tblock_sizze_71852 + local_tid_71849;\n    phys_tid_59529 = sext_i32_i64(global_tid_71848);\n    global_tid_71853 = sext_i32_i64(block_id_71850) * segmap_tblock_sizze_59525 + sext_i32_i64(local_tid_71849);\n    slice_71854 = dz2083U_45080;\n    gtid_59528 = global_tid_71853;\n    remnant_71855 = global_tid_71853 - gtid_59528;\n    if (slt64(gtid_59528, dz2083U_45080)) {\n        double f_arg0_59531;\n        int64_t f64_res_59532;\n        \n        f_arg0_59531 = ((__global double *) mem_68639)[gtid_59528 * dim_45075];\n        f64_res_59532 = fptosi_f64_i64(f_arg0_59531);\n        ((__global int64_t *) mem_68642)[gtid_59528] = f64_res_59532", ";\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59525\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59542_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59542(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2083U_45080, int64_t arg_50455, int64_t num_tblocks_59538, int32_t virt_num_tblocks_71876, __global unsigned char *mem_68656, __global unsigned char *mem_68667, __global unsigned char *mem_68685)\n{\n    #define segmap_tblock_sizze_59537 (calc_local_Skyline_GFUR_doublezisegmap_59542zisegmap_tblock_sizze_59537)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71878;\n    int32_t tblock_sizze_71881;\n    int32_t wave_sizze_71880;\n    int32_t block_id_71879;\n    int32_t global_tid_71877;\n    int64_t phys_tid_59542;\n    int32_t phys_tblock_id_71882;\n    int32_t iterations_71883;\n    \n    local_tid_71878 = get_local_id(0);\n    tblock_sizze_71881 = get_local_size(0);\n    wave_sizze_71880 = LOCKSTEP_WIDTH;\n    block_id_71879 = get_tblock_id(0);\n    global_tid_71877 = block_id_71879 * tblock_sizze_71881 + local_tid_71878;\n    phys_tid_59542 = sext_i32_i64(global_tid_71877);\n    phys_tblock_id_71882 = get_tblock_id(0);\n    iterations_71883 = sdiv_up32(virt_num_tblocks_71876 - phys_tblock_id_71882, sext_i64_i32(num_tblocks_59538));\n    for (int32_t i_71884 = 0; i_71884 < iterations_71883; i_71884++) {\n        int32_t virt_tblock_id_71885;\n        int64_t global_tid_71886;\n        int64_t slice_71887;\n        int64_t gtid_59541;\n        int64_t remnant_71888;\n        \n        virt_tblock_id_71885 = phys_tblock_id_71882 + i_71884 * sext_i64_i32(num_tblocks_59538);\n        global_tid_71886 = sext_i32_i64(virt_tblock_id_71885) * segmap_tblock_sizze_595",
                                    "37 + sext_i32_i64(local_tid_71878);\n        slice_71887 = dz2083U_45080;\n        gtid_59541 = global_tid_71886;\n        remnant_71888 = global_tid_71886 - gtid_59541;\n        if (slt64(gtid_59541, dz2083U_45080)) {\n            for (int64_t i_59546 = 0; i_59546 < arg_50455; i_59546++) {\n                int64_t index_primexp_59548;\n                bool x_59549;\n                bool y_59550;\n                bool bounds_check_59551;\n                bool index_certs_59552;\n                double f_arg0_59553;\n                int64_t f64_res_59554;\n                \n                index_primexp_59548 = add64((int64_t) 1, i_59546);\n                x_59549 = sle64((int64_t) 0, index_primexp_59548);\n                y_59550 = slt64(index_primexp_59548, dim_45075);\n                bounds_check_59551 = x_59549 && y_59550;\n                if (!bounds_check_59551) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 8) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_59548;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_59553 = ((__global double *) mem_68667)[gtid_59541 + index_primexp_59548 * dz2083U_45080];\n                f64_res_59554 = fptosi_f64_i64(f_arg0_59553);\n                ((__global int64_t *) mem_68656)[gtid_59541 + index_primexp_59548 * dz2083U_45080] = f64_res_59554;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45075; i_0++) {\n                ((__global int64_t *) mem_68685)[gtid_59541 + i_0 * dz2083U_45080] = ((__global int64_t *) mem_68656)[gtid_59541 + i_0 * dz2083U_45080];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(C", "LK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_59537\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59562_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59562(__global int *global_failure, int64_t dz2083U_45080, int64_t ext_68709, __global unsigned char *ext_mem_68710, __global unsigned char *mem_68713)\n{\n    #define segmap_tblock_sizze_59558 (calc_local_Skyline_GFUR_doublezisegmap_59562zisegmap_tblock_sizze_59558)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71893;\n    int32_t tblock_sizze_71896;\n    int32_t wave_sizze_71895;\n    int32_t block_id_71894;\n    int32_t global_tid_71892;\n    int64_t phys_tid_59562;\n    int64_t global_tid_71897;\n    int64_t slice_71898;\n    int64_t gtid_59561;\n    int64_t remnant_71899;\n    \n    local_tid_71893 = get_local_id(0);\n    tblock_sizze_71896 = get_local_size(0);\n    wave_sizze_71895 = LOCKSTEP_WIDTH;\n    block_id_71894 = get_tblock_id(0);\n    global_tid_71892 = block_id_71894 * tblock_sizze_71896 + local_tid_71893;\n    phys_tid_59562 = sext_i32_i64(global_tid_71892);\n    global_tid_71897 = sext_i32_i64(block_id_71894) * segmap_tblock_sizze_59558 + sext_i32_i64(local_tid_71893);\n    slice_71898 = dz2083U_45080;\n    gtid_59561 = global_tid_71897;\n    remnant_71899 = global_tid_71897 - gtid_59561;\n    if (slt64(gtid_59561, dz2083U_45080)) {\n        int64_t f_arg0_59564;\n        int64_t max_res_59565;\n        \n        f_arg0_59564 = ((__global int64_t *) ext_mem_68710)[gtid_59561 * ext_68709];\n        max_res_59565 = smax64((int64_t) 0, f_arg0_59564);\n        ((__global int64_t *) mem_68713)[gtid_59561] = max_res_59565;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59558\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59575_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59575(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t ", "dim_45075, int64_t dz2083U_45080, int64_t arg_50455, int64_t num_tblocks_59571, int32_t virt_num_tblocks_71920, __global unsigned char *mem_68727, __global unsigned char *mem_68738, __global unsigned char *mem_68756)\n{\n    #define segmap_tblock_sizze_59570 (calc_local_Skyline_GFUR_doublezisegmap_59575zisegmap_tblock_sizze_59570)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71922;\n    int32_t tblock_sizze_71925;\n    int32_t wave_sizze_71924;\n    int32_t block_id_71923;\n    int32_t global_tid_71921;\n    int64_t phys_tid_59575;\n    int32_t phys_tblock_id_71926;\n    int32_t iterations_71927;\n    \n    local_tid_71922 = get_local_id(0);\n    tblock_sizze_71925 = get_local_size(0);\n    wave_sizze_71924 = LOCKSTEP_WIDTH;\n    block_id_71923 = get_tblock_id(0);\n    global_tid_71921 = block_id_71923 * tblock_sizze_71925 + local_tid_71922;\n    phys_tid_59575 = sext_i32_i64(global_tid_71921);\n    phys_tblock_id_71926 = get_tblock_id(0);\n    iterations_71927 = sdiv_up32(virt_num_tblocks_71920 - phys_tblock_id_71926, sext_i64_i32(num_tblocks_59571));\n    for (int32_t i_71928 = 0; i_71928 < iterations_71927; i_71928++) {\n        int32_t virt_tblock_id_71929;\n        int64_t global_tid_71930;\n        int64_t slice_71931;\n        int64_t gtid_59574;\n        int64_t remnant_71932;\n        \n        virt_tblock_id_71929 = phys_tblock_id_71926 + i_71928 * sext_i64_i32(num_tblocks_59571);\n        global_tid_71930 = sext_i32_i64(virt_tblock_id_71929) * segmap_tblock_sizze_59570 + sext_i32_i64(local_tid_71922);\n        slice_71931 = dz2083U_45080;\n        gtid_59574 = global_tid_71930;\n        remnant_71932 = global_tid_71930 - gtid_59574;\n        if (slt64(gtid_59574, dz2083U_45080)) {\n            for (int64_t i_59579 = 0; i_59579 < arg_50455; i_59579++) {\n                int",
                                    "64_t index_primexp_59581;\n                bool x_59582;\n                bool y_59583;\n                bool bounds_check_59584;\n                bool index_certs_59585;\n                int64_t f_arg0_59586;\n                int64_t max_res_59587;\n                \n                index_primexp_59581 = add64((int64_t) 1, i_59579);\n                x_59582 = sle64((int64_t) 0, index_primexp_59581);\n                y_59583 = slt64(index_primexp_59581, dim_45075);\n                bounds_check_59584 = x_59582 && y_59583;\n                if (!bounds_check_59584) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 9) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_59581;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_59586 = ((__global int64_t *) mem_68738)[gtid_59574 + index_primexp_59581 * dz2083U_45080];\n                max_res_59587 = smax64((int64_t) 0, f_arg0_59586);\n                ((__global int64_t *) mem_68727)[gtid_59574 + index_primexp_59581 * dz2083U_45080] = max_res_59587;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45075; i_0++) {\n                ((__global int64_t *) mem_68756)[gtid_59574 + i_0 * dz2083U_45080] = ((__global int64_t *) mem_68727)[gtid_59574 + i_0 * dz2083U_45080];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_59570\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59595_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59595(__global int *global_failure, int64_t dz2083U_45080, i", "nt64_t ext_68793, __global unsigned char *mem_68631, __global unsigned char *ext_mem_68794, __global unsigned char *mem_68797)\n{\n    #define segmap_tblock_sizze_59591 (calc_local_Skyline_GFUR_doublezisegmap_59595zisegmap_tblock_sizze_59591)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71937;\n    int32_t tblock_sizze_71940;\n    int32_t wave_sizze_71939;\n    int32_t block_id_71938;\n    int32_t global_tid_71936;\n    int64_t phys_tid_59595;\n    int64_t global_tid_71941;\n    int64_t slice_71942;\n    int64_t gtid_59594;\n    int64_t remnant_71943;\n    \n    local_tid_71937 = get_local_id(0);\n    tblock_sizze_71940 = get_local_size(0);\n    wave_sizze_71939 = LOCKSTEP_WIDTH;\n    block_id_71938 = get_tblock_id(0);\n    global_tid_71936 = block_id_71938 * tblock_sizze_71940 + local_tid_71937;\n    phys_tid_59595 = sext_i32_i64(global_tid_71936);\n    global_tid_71941 = sext_i32_i64(block_id_71938) * segmap_tblock_sizze_59591 + sext_i32_i64(local_tid_71937);\n    slice_71942 = dz2083U_45080;\n    gtid_59594 = global_tid_71941;\n    remnant_71943 = global_tid_71941 - gtid_59594;\n    if (slt64(gtid_59594, dz2083U_45080)) {\n        int64_t min_arg1_68312;\n        int64_t f_arg0_59597;\n        int64_t min_res_59598;\n        \n        min_arg1_68312 = ((__global int64_t *) mem_68631)[(int64_t) 0];\n        f_arg0_59597 = ((__global int64_t *) ext_mem_68794)[gtid_59594 * ext_68793];\n        min_res_59598 = smin64(f_arg0_59597, min_arg1_68312);\n        ((__global int64_t *) mem_68797)[gtid_59594] = min_res_59598;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59591\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59608_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59608(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2083U_45080, int64_t arg_50455, int64_t num_tblocks_59604, int32_t virt_num_tblocks_71964, __global unsigned char *grid_partitions_per_d", "im_mem_68614, __global unsigned char *mem_68811, __global unsigned char *mem_68822, __global unsigned char *mem_68840)\n{\n    #define segmap_tblock_sizze_59603 (calc_local_Skyline_GFUR_doublezisegmap_59608zisegmap_tblock_sizze_59603)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71966;\n    int32_t tblock_sizze_71969;\n    int32_t wave_sizze_71968;\n    int32_t block_id_71967;\n    int32_t global_tid_71965;\n    int64_t phys_tid_59608;\n    int32_t phys_tblock_id_71970;\n    int32_t iterations_71971;\n    \n    local_tid_71966 = get_local_id(0);\n    tblock_sizze_71969 = get_local_size(0);\n    wave_sizze_71968 = LOCKSTEP_WIDTH;\n    block_id_71967 = get_tblock_id(0);\n    global_tid_71965 = block_id_71967 * tblock_sizze_71969 + local_tid_71966;\n    phys_tid_59608 = sext_i32_i64(global_tid_71965);\n    phys_tblock_id_71970 = get_tblock_id(0);\n    iterations_71971 = sdiv_up32(virt_num_tblocks_71964 - phys_tblock_id_71970, sext_i64_i32(num_tblocks_59604));\n    for (int32_t i_71972 = 0; i_71972 < iterations_71971; i_71972++) {\n        int32_t virt_tblock_id_71973;\n        int64_t global_tid_71974;\n        int64_t slice_71975;\n        int64_t gtid_59607;\n        int64_t remnant_71976;\n        \n        virt_tblock_id_71973 = phys_tblock_id_71970 + i_71972 * sext_i64_i32(num_tblocks_59604);\n        global_tid_71974 = sext_i32_i64(virt_tblock_id_71973) * segmap_tblock_sizze_59603 + sext_i32_i64(local_tid_71966);\n        slice_71975 = dz2083U_45080;\n        gtid_59607 = global_tid_71974;\n        remnant_71976 = global_tid_71974 - gtid_59607;\n        if (slt64(gtid_59607, dz2083U_45080)) {\n            for (int64_t i_59612 = 0; i_59612 < arg_50455; i_59612++) {\n                int64_t index_primexp_59614;\n                bool x_59615;\n                bool y_59616;\n            ",
                                    "    bool bounds_check_59617;\n                bool index_certs_59618;\n                bool index_certs_59620;\n                int64_t f_arg0_59619;\n                int64_t zm_lhs_59621;\n                int64_t min_arg1_59622;\n                int64_t min_res_59623;\n                \n                index_primexp_59614 = add64((int64_t) 1, i_59612);\n                x_59615 = sle64((int64_t) 0, index_primexp_59614);\n                y_59616 = slt64(index_primexp_59614, dim_45075);\n                bounds_check_59617 = x_59615 && y_59616;\n                if (!bounds_check_59617) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 10) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_59614;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_59617) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 11) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_59614;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_59619 = ((__global int64_t *) mem_68822)[gtid_59607 + index_primexp_59614 * dz2083U_45080];\n                zm_lhs_59621 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_59614];\n                min_arg1_59622 = sub64(zm_lhs_59621, (int64_t) 1);\n                min_res_59623 = smin64(f_arg0_59619, min_arg1_59622);\n                ((__global int64_t *) mem_68811)[gtid_59607 + index_primexp_59614 * dz2083U_45080] = min_res_59623;\n           ", " }\n            for (int64_t i_0 = 0; i_0 < dim_45075; i_0++) {\n                ((__global int64_t *) mem_68840)[gtid_59607 + i_0 * dz2083U_45080] = ((__global int64_t *) mem_68811)[gtid_59607 + i_0 * dz2083U_45080];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_59603\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59637_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59637(__global int *global_failure, int64_t dim_45075, int64_t dz2083U_45080, int64_t ext_68889, int64_t ext_68890, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_68891, __global unsigned char *mem_68895)\n{\n    #define segmap_tblock_sizze_59632 (calc_local_Skyline_GFUR_doublezisegmap_59637zisegmap_tblock_sizze_59632)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71981;\n    int32_t tblock_sizze_71984;\n    int32_t wave_sizze_71983;\n    int32_t block_id_71982;\n    int32_t global_tid_71980;\n    int64_t phys_tid_59637;\n    int64_t global_tid_71985;\n    int64_t slice_71986;\n    int64_t slice_71987;\n    int64_t gtid_59635;\n    int64_t remnant_71988;\n    int64_t gtid_59636;\n    int64_t remnant_71989;\n    \n    local_tid_71981 = get_local_id(0);\n    tblock_sizze_71984 = get_local_size(0);\n    wave_sizze_71983 = LOCKSTEP_WIDTH;\n    block_id_71982 = get_tblock_id(0);\n    global_tid_71980 = block_id_71982 * tblock_sizze_71984 + local_tid_71981;\n    phys_tid_59637 = sext_i32_i64(global_tid_71980);\n    global_tid_71985 = sext_i32_i64(block_id_71982) * segmap_tblock_sizze_59632 + sext_i32_i64(local_tid_71981);\n    slice_71986 = dim_45075;\n    slice_71987 = dz2083U_45080 * slice_71986;\n    gtid_59635 = squot64(global_tid_71985, slice_71986);\n    remnant_71988 = global_tid_71985 - gtid_59635 * slice_7", "1986;\n    gtid_59636 = remnant_71988;\n    remnant_71989 = remnant_71988 - gtid_59636;\n    if (slt64(gtid_59635, dz2083U_45080) && slt64(gtid_59636, dim_45075)) {\n        int64_t eta_p_59638;\n        int64_t eta_p_59639;\n        int64_t defunc_0_f_res_59640;\n        \n        eta_p_59638 = ((__global int64_t *) ext_mem_68891)[gtid_59635 * ext_68890 + gtid_59636 * ext_68889];\n        eta_p_59639 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_59636];\n        defunc_0_f_res_59640 = mul64(eta_p_59638, eta_p_59639);\n        ((__global int64_t *) mem_68895)[gtid_59635 * dim_45075 + gtid_59636] = defunc_0_f_res_59640;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59632\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59648_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59648(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2080U_45076, int64_t dz2083U_45080, __global unsigned char *mem_68906, __global unsigned char *mem_68908, __global unsigned char *mem_68910)\n{\n    #define segmap_tblock_sizze_59643 (calc_local_Skyline_GFUR_doublezisegmap_59648zisegmap_tblock_sizze_59643)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71992;\n    int32_t tblock_sizze_71995;\n    int32_t wave_sizze_71994;\n    int32_t block_id_71993;\n    int32_t global_tid_71991;\n    int64_t phys_tid_59648;\n    int64_t global_tid_71996;\n    int64_t slice_71997;\n    int64_t gtid_59647;\n    int64_t remnant_71998;\n    \n    local_tid_71992 = get_local_id(0);\n    tblock_sizze_71995 = get_local_size(0);\n    wave_sizze_71994 = LOCKSTEP_WIDTH;\n    block_id_71993 = get_tblock_id(0);\n    global_tid_71991 = block_id_71993 * tblock_sizze_71995 + local_tid_71992;\n    phys_tid_59648 = sext_i32_i64(global_tid_71991);\n    global_tid_71996 = sext_i32_i64(block_id_71993) * segmap_tblock_sizze_59643 + sext_i32_i64(local_tid_71992);\n    slice_71997 = dz2083U_45080;\n    gtid_596",
                                    "47 = global_tid_71996;\n    remnant_71998 = global_tid_71996 - gtid_59647;\n    if (slt64(gtid_59647, dz2083U_45080)) {\n        int64_t defunc_0_foldl_res_59650;\n        int64_t acc_59652;\n        bool x_59655;\n        bool y_59656;\n        bool bounds_check_59657;\n        bool index_certs_59658;\n        \n        acc_59652 = (int64_t) 0;\n        for (int64_t i_59651 = 0; i_59651 < dim_45075; i_59651++) {\n            int64_t b_59653;\n            int64_t defunc_0_f_res_59654;\n            int64_t acc_tmp_71999;\n            \n            b_59653 = ((__global int64_t *) mem_68906)[gtid_59647 + i_59651 * dz2083U_45080];\n            defunc_0_f_res_59654 = add64(acc_59652, b_59653);\n            acc_tmp_71999 = defunc_0_f_res_59654;\n            acc_59652 = acc_tmp_71999;\n        }\n        defunc_0_foldl_res_59650 = acc_59652;\n        x_59655 = sle64((int64_t) 0, defunc_0_foldl_res_59650);\n        y_59656 = slt64(defunc_0_foldl_res_59650, dz2080U_45076);\n        bounds_check_59657 = x_59655 && y_59656;\n        if (!bounds_check_59657) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 12) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_59650;\n                    global_failure_args[1] = (int64_t) dz2080U_45076;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_68910)[gtid_59647] = defunc_0_foldl_res_59650;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59643\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59668_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59668(__global int *global_failure, int64_t dim_45075, int64_t dz2083U_45080, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_68908, __global unsigned char *mem_68910, __global unsigned char *mem_68945)\n{\n    #define segmap_tblock_sizze_59663 (calc_local_Skyline_GFUR_doublezisegmap_59668zisegmap_tblock_sizze_596", "63)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72025;\n    int32_t tblock_sizze_72028;\n    int32_t wave_sizze_72027;\n    int32_t block_id_72026;\n    int32_t global_tid_72024;\n    int64_t phys_tid_59668;\n    int64_t global_tid_72029;\n    int64_t slice_72030;\n    int64_t slice_72031;\n    int64_t gtid_59667;\n    int64_t remnant_72032;\n    int64_t gtid_slice_59666;\n    int64_t remnant_72033;\n    \n    local_tid_72025 = get_local_id(0);\n    tblock_sizze_72028 = get_local_size(0);\n    wave_sizze_72027 = LOCKSTEP_WIDTH;\n    block_id_72026 = get_tblock_id(0);\n    global_tid_72024 = block_id_72026 * tblock_sizze_72028 + local_tid_72025;\n    phys_tid_59668 = sext_i32_i64(global_tid_72024);\n    global_tid_72029 = sext_i32_i64(block_id_72026) * segmap_tblock_sizze_59663 + sext_i32_i64(local_tid_72025);\n    slice_72030 = dim_45075;\n    slice_72031 = dz2083U_45080 * slice_72030;\n    gtid_59667 = squot64(global_tid_72029, slice_72030);\n    remnant_72032 = global_tid_72029 - gtid_59667 * slice_72030;\n    gtid_slice_59666 = remnant_72032;\n    remnant_72033 = remnant_72032 - gtid_slice_59666;\n    if (slt64(gtid_59667, dz2083U_45080) && slt64(gtid_slice_59666, dim_45075)) {\n        int64_t defunc_0_foldl_res_59669;\n        bool index_certs_59670;\n        double v_59671;\n        \n        defunc_0_foldl_res_59669 = ((__global int64_t *) mem_68910)[gtid_59667];\n        index_certs_59670 = 0;\n        v_59671 = ((__global double *) start_of_grid_partition_mem_68615)[defunc_0_foldl_res_59669 * dim_45075 + gtid_slice_59666];\n        ((__global double *) mem_68945)[gtid_59667 * dim_45075 + gtid_slice_59666] = v_59671;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59663\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59683_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59683(__global int *global_failure, int64_t dim_45075, int64_t dz2083U_45080, __global unsigned char *xys_mem_68618, __global unsigned char *mem_68945)\n{\n    ", "#define segmap_tblock_sizze_59678 (calc_local_Skyline_GFUR_doublezisegmap_59683zisegmap_tblock_sizze_59678)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72036;\n    int32_t tblock_sizze_72039;\n    int32_t wave_sizze_72038;\n    int32_t block_id_72037;\n    int32_t global_tid_72035;\n    int64_t phys_tid_59683;\n    int64_t global_tid_72040;\n    int64_t slice_72041;\n    int64_t slice_72042;\n    int64_t gtid_59681;\n    int64_t remnant_72043;\n    int64_t gtid_59682;\n    int64_t remnant_72044;\n    \n    local_tid_72036 = get_local_id(0);\n    tblock_sizze_72039 = get_local_size(0);\n    wave_sizze_72038 = LOCKSTEP_WIDTH;\n    block_id_72037 = get_tblock_id(0);\n    global_tid_72035 = block_id_72037 * tblock_sizze_72039 + local_tid_72036;\n    phys_tid_59683 = sext_i32_i64(global_tid_72035);\n    global_tid_72040 = sext_i32_i64(block_id_72037) * segmap_tblock_sizze_59678 + sext_i32_i64(local_tid_72036);\n    slice_72041 = dim_45075;\n    slice_72042 = dz2083U_45080 * slice_72041;\n    gtid_59681 = squot64(global_tid_72040, slice_72041);\n    remnant_72043 = global_tid_72040 - gtid_59681 * slice_72041;\n    gtid_59682 = remnant_72043;\n    remnant_72044 = remnant_72043 - gtid_59682;\n    if (slt64(gtid_59681, dz2083U_45080) && slt64(gtid_59682, dim_45075)) {\n        double eta_p_59684;\n        double eta_p_59685;\n        double defunc_0_f_res_59686;\n        \n        eta_p_59684 = ((__global double *) xys_mem_68618)[gtid_59681 * dim_45075 + gtid_59682];\n        eta_p_59685 = ((__global double *) mem_68945)[gtid_59681 * dim_45075 + gtid_59682];\n        defunc_0_f_res_59686 = eta_p_59684 - eta_p_59685;\n        ((__global double *) mem_68945)[gtid_59681 * dim_45075 + gtid_59682] = defunc_0_f_res_59686;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59678\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59705_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59705(__global int *global_failure, int failure_is_an_option, __global int",
                                    "64_t *global_failure_args, int64_t dim_45075, int64_t dz2083U_45080, int64_t arg_50455, int64_t num_tblocks_59701, int32_t virt_num_tblocks_72065, __global unsigned char *mem_68959, __global unsigned char *mem_68970, __global unsigned char *mem_68988)\n{\n    #define segmap_tblock_sizze_59700 (calc_local_Skyline_GFUR_doublezisegmap_59705zisegmap_tblock_sizze_59700)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72067;\n    int32_t tblock_sizze_72070;\n    int32_t wave_sizze_72069;\n    int32_t block_id_72068;\n    int32_t global_tid_72066;\n    int64_t phys_tid_59705;\n    int32_t phys_tblock_id_72071;\n    int32_t iterations_72072;\n    \n    local_tid_72067 = get_local_id(0);\n    tblock_sizze_72070 = get_local_size(0);\n    wave_sizze_72069 = LOCKSTEP_WIDTH;\n    block_id_72068 = get_tblock_id(0);\n    global_tid_72066 = block_id_72068 * tblock_sizze_72070 + local_tid_72067;\n    phys_tid_59705 = sext_i32_i64(global_tid_72066);\n    phys_tblock_id_72071 = get_tblock_id(0);\n    iterations_72072 = sdiv_up32(virt_num_tblocks_72065 - phys_tblock_id_72071, sext_i64_i32(num_tblocks_59701));\n    for (int32_t i_72073 = 0; i_72073 < iterations_72072; i_72073++) {\n        int32_t virt_tblock_id_72074;\n        int64_t global_tid_72075;\n        int64_t slice_72076;\n        int64_t gtid_59704;\n        int64_t remnant_72077;\n        \n        virt_tblock_id_72074 = phys_tblock_id_72071 + i_72073 * sext_i64_i32(num_tblocks_59701);\n        global_tid_72075 = sext_i32_i64(virt_tblock_id_72074) * segmap_tblock_sizze_59700 + sext_i32_i64(local_tid_72067);\n        slice_72076 = dz2083U_45080;\n        gtid_59704 = global_tid_72075;\n        remnant_72077 = global_tid_72075 - gtid_59704;\n        if (slt64(gtid_59704, dz2083U_45080)) {\n            for (int64_t i_59709 = 0; i_59709 < arg_5045", "5; i_59709++) {\n                int64_t index_primexp_59711;\n                bool x_59712;\n                bool y_59713;\n                bool bounds_check_59714;\n                bool index_certs_59715;\n                \n                index_primexp_59711 = add64((int64_t) 1, i_59709);\n                x_59712 = sle64((int64_t) 0, index_primexp_59711);\n                y_59713 = slt64(index_primexp_59711, dim_45075);\n                bounds_check_59714 = x_59712 && y_59713;\n                if (!bounds_check_59714) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 13) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_59711;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_68959)[gtid_59704 + dz2083U_45080 * index_primexp_59711 + i_0 * dz2083U_45080] = ((__global double *) mem_68970)[gtid_59704 + dz2083U_45080 * index_primexp_59711 + i_0 * dz2083U_45080];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45075; i_0++) {\n                ((__global double *) mem_68988)[gtid_59704 + i_0 * dz2083U_45080] = ((__global double *) mem_68959)[gtid_59704 + i_0 * dz2083U_45080];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_59700\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59753_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59753(__global int *global_failure, int64_t dz2083U_45080, int64_t map_arg1_59726, int", "64_t j_m_i_59727, int64_t ext_68992, int64_t ext_68993, __global unsigned char *ext_mem_68994, __global unsigned char *mem_69005)\n{\n    #define segmap_tblock_sizze_59748 (calc_local_Skyline_GFUR_doublezisegmap_59753zisegmap_tblock_sizze_59748)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72085;\n    int32_t tblock_sizze_72088;\n    int32_t wave_sizze_72087;\n    int32_t block_id_72086;\n    int32_t global_tid_72084;\n    int64_t phys_tid_59753;\n    int64_t global_tid_72089;\n    int64_t slice_72090;\n    int64_t slice_72091;\n    int64_t gtid_59751;\n    int64_t remnant_72092;\n    int64_t gtid_59752;\n    int64_t remnant_72093;\n    \n    local_tid_72085 = get_local_id(0);\n    tblock_sizze_72088 = get_local_size(0);\n    wave_sizze_72087 = LOCKSTEP_WIDTH;\n    block_id_72086 = get_tblock_id(0);\n    global_tid_72084 = block_id_72086 * tblock_sizze_72088 + local_tid_72085;\n    phys_tid_59753 = sext_i32_i64(global_tid_72084);\n    global_tid_72089 = sext_i32_i64(block_id_72086) * segmap_tblock_sizze_59748 + sext_i32_i64(local_tid_72085);\n    slice_72090 = j_m_i_59727;\n    slice_72091 = dz2083U_45080 * slice_72090;\n    gtid_59751 = squot64(global_tid_72089, slice_72090);\n    remnant_72092 = global_tid_72089 - gtid_59751 * slice_72090;\n    gtid_59752 = remnant_72092;\n    remnant_72093 = remnant_72092 - gtid_59752;\n    if (slt64(gtid_59751, dz2083U_45080) && slt64(gtid_59752, j_m_i_59727)) {\n        int64_t slice_68193;\n        double eta_p_59754;\n        double lifted_lambda_res_59755;\n        \n        slice_68193 = map_arg1_59726 + gtid_59752;\n        eta_p_59754 = ((__global double *) ext_mem_68994)[gtid_59751 * ext_68993 + slice_68193 * ext_68992];\n        lifted_lambda_res_59755 = eta_p_59754 * eta_p_59754;\n        ((__global double *) mem_69005)[gtid_59751 * j_m_i_59727 + gtid_59752] = lifted_lambda_res_59755;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59748\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59763_dim1, ",
                                    "1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59763(__global int *global_failure, int64_t dz2083U_45080, int64_t arg_50455, int64_t i_59722, int64_t j_m_i_59727, int64_t num_tblocks_59759, int64_t ext_68992, int64_t ext_68993, int32_t virt_num_tblocks_72094, __global unsigned char *ext_mem_68994, __global unsigned char *mem_69016, __global unsigned char *mem_69027, __global unsigned char *mem_69039)\n{\n    #define segmap_tblock_sizze_59758 (calc_local_Skyline_GFUR_doublezisegmap_59763zisegmap_tblock_sizze_59758)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72096;\n    int32_t tblock_sizze_72099;\n    int32_t wave_sizze_72098;\n    int32_t block_id_72097;\n    int32_t global_tid_72095;\n    int64_t phys_tid_59763;\n    int32_t phys_tblock_id_72100;\n    int32_t iterations_72101;\n    \n    local_tid_72096 = get_local_id(0);\n    tblock_sizze_72099 = get_local_size(0);\n    wave_sizze_72098 = LOCKSTEP_WIDTH;\n    block_id_72097 = get_tblock_id(0);\n    global_tid_72095 = block_id_72097 * tblock_sizze_72099 + local_tid_72096;\n    phys_tid_59763 = sext_i32_i64(global_tid_72095);\n    phys_tblock_id_72100 = get_tblock_id(0);\n    iterations_72101 = sdiv_up32(virt_num_tblocks_72094 - phys_tblock_id_72100, sext_i64_i32(num_tblocks_59759));\n    for (int32_t i_72102 = 0; i_72102 < iterations_72101; i_72102++) {\n        int32_t virt_tblock_id_72103;\n        int64_t global_tid_72104;\n        int64_t slice_72105;\n        int64_t gtid_59762;\n        int64_t remnant_72106;\n        \n        virt_tblock_id_72103 = phys_tblock_id_72100 + i_72102 * sext_i64_i32(num_tblocks_59759);\n        global_tid_72104 = sext_i32_i64(virt_tblock_id_72103) * segmap_tblock_sizze_59758 + sext_i32_i64(local_tid_72096);\n        slice_72105 = dz2083U_45080;\n        gtid_59762 = global_tid_72104;\n        remnant_72106 = global_tid_72104 - gtid_59762;\n        if (slt64(gtid_59762, dz2083U_45080)) {\n            double defunc_0_seqmap_res_r_transformed_row_59765;\n            double defunc_0_", "foldl_res_59767;\n            double acc_59769;\n            double sqrt_res_59772;\n            double atan2_res_59773;\n            \n            defunc_0_seqmap_res_r_transformed_row_59765 = ((__global double *) ext_mem_68994)[gtid_59762 * ext_68993 + i_59722 * ext_68992];\n            acc_59769 = 0.0;\n            for (int64_t i_59768 = 0; i_59768 < j_m_i_59727; i_59768++) {\n                double b_59770;\n                double defunc_0_f_res_59771;\n                double acc_tmp_72107;\n                \n                b_59770 = ((__global double *) mem_69027)[gtid_59762 + i_59768 * dz2083U_45080];\n                defunc_0_f_res_59771 = acc_59769 + b_59770;\n                acc_tmp_72107 = defunc_0_f_res_59771;\n                acc_59769 = acc_tmp_72107;\n            }\n            defunc_0_foldl_res_59767 = acc_59769;\n            sqrt_res_59772 = futrts_sqrt64(defunc_0_foldl_res_59767);\n            atan2_res_59773 = futrts_atan2_64(sqrt_res_59772, defunc_0_seqmap_res_r_transformed_row_59765);\n            ((__global double *) mem_69016)[gtid_59762 + i_59722 * dz2083U_45080] = atan2_res_59773;\n            for (int64_t i_0 = 0; i_0 < arg_50455; i_0++) {\n                ((__global double *) mem_69039)[gtid_59762 + i_0 * dz2083U_45080] = ((__global double *) mem_69016)[gtid_59762 + i_0 * dz2083U_45080];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_59758\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59787_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59787(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_45080, int64_t arg_50455, int64_t ext_69040, int64_t ext_69041, __global unsigned char *angle_part_prefix_sum_mem_68610, __global unsigned char *angle_partitions_per_dim_mem_68611, __global unsigned char *ext_mem_68937, __global unsigned char *ext_mem_69043, __global unsigned char *mem_6", "9047)\n{\n    #define segmap_tblock_sizze_59782 (calc_local_Skyline_GFUR_doublezisegmap_59787zisegmap_tblock_sizze_59782)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72110;\n    int32_t tblock_sizze_72113;\n    int32_t wave_sizze_72112;\n    int32_t block_id_72111;\n    int32_t global_tid_72109;\n    int64_t phys_tid_59787;\n    int64_t global_tid_72114;\n    int64_t slice_72115;\n    int64_t slice_72116;\n    int64_t gtid_59785;\n    int64_t remnant_72117;\n    int64_t gtid_59786;\n    int64_t remnant_72118;\n    \n    local_tid_72110 = get_local_id(0);\n    tblock_sizze_72113 = get_local_size(0);\n    wave_sizze_72112 = LOCKSTEP_WIDTH;\n    block_id_72111 = get_tblock_id(0);\n    global_tid_72109 = block_id_72111 * tblock_sizze_72113 + local_tid_72110;\n    phys_tid_59787 = sext_i32_i64(global_tid_72109);\n    global_tid_72114 = sext_i32_i64(block_id_72111) * segmap_tblock_sizze_59782 + sext_i32_i64(local_tid_72110);\n    slice_72115 = arg_50455;\n    slice_72116 = dz2083U_45080 * slice_72115;\n    gtid_59785 = squot64(global_tid_72114, slice_72115);\n    remnant_72117 = global_tid_72114 - gtid_59785 * slice_72115;\n    gtid_59786 = remnant_72117;\n    remnant_72118 = remnant_72117 - gtid_59786;\n    if (slt64(gtid_59785, dz2083U_45080) && slt64(gtid_59786, arg_50455)) {\n        double eta_p_59788;\n        double eta_p_59789;\n        int64_t eta_p_59790;\n        int64_t eta_p_59791;\n        int64_t defunc_0_f_res_59792;\n        \n        eta_p_59788 = ((__global double *) ext_mem_69043)[gtid_59785 * ext_69041 + gtid_59786 * ext_69040];\n        eta_p_59789 = ((__global double *) ext_mem_68937)[gtid_59786];\n        eta_p_59790 = ((__global int64_t *) angle_part_prefix_sum_mem_68610)[gtid_59786];\n        eta_p_59791 = ((__global int64_t *) angle_partitions_per_dim_mem_68611)[gtid_59786];\n        futrts_lifted_lambda_10001(&defunc_0_f_res_59792, eta_p_59788, eta_p_59789, eta_p_59790, eta_p_59791)",
                                    ";\n        ((__global int64_t *) mem_69047)[gtid_59785 * arg_50455 + gtid_59786] = defunc_0_f_res_59792;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59782\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59799_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59799(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2082U_45079, int64_t dz2083U_45080, int64_t total_angle_no_45087, int64_t arg_50455, unsigned char cond_50496_bits, unsigned char protect_assert_disj_50513_bits, unsigned char protect_assert_disj_50525_bits, int64_t i_50530, unsigned char x_56032_bits, int64_t num_threads_71467, __global unsigned char *part_idx_mem_68617, __global unsigned char *xys_mem_68618, __global unsigned char *mem_68623, __global unsigned char *mem_68910, __global unsigned char *mem_68921, __global unsigned char *mem_param_68924, __global unsigned char *mem_69058, __global unsigned char *mem_69083, __global unsigned char *color_71394, __global unsigned char *color_71395)\n{\n    bool cond_50496 = cond_50496_bits;\n    bool protect_assert_disj_50513 = protect_assert_disj_50513_bits;\n    bool protect_assert_disj_50525 = protect_assert_disj_50525_bits;\n    bool x_56032 = x_56032_bits;\n    \n    #define segmap_tblock_sizze_59795 (calc_local_Skyline_GFUR_doublezisegmap_59799zisegmap_tblock_sizze_59795)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72121;\n    int32_t tblock_sizze_72124;\n    int32_t wave_sizze_72123;\n    int32_t block_id_72122;\n    int32_t global_tid_72120;\n    int64_t phys_tid_59799;\n    int64_t global_tid_72125;\n    int64_t slice_72126;\n    int64_t gtid_59798;\n    int64_t remnant_72127;\n    \n    local_tid_72121 = get_local_id(0);\n    tblock_sizze_72124 = get_local_size(0);\n    wave_sizze_72123 = LOCKSTEP_WIDTH;\n    block_id_72122 = get_tblock_id(0);\n    global_tid_72120 = block_id_72122 * tblock_sizze_72124 + local_tid_72121;\n    phys_ti", "d_59799 = sext_i32_i64(global_tid_72120);\n    global_tid_72125 = sext_i32_i64(block_id_72122) * segmap_tblock_sizze_59795 + sext_i32_i64(local_tid_72121);\n    slice_72126 = dz2083U_45080;\n    gtid_59798 = global_tid_72125;\n    remnant_72127 = global_tid_72125 - gtid_59798;\n    if (slt64(gtid_59798, dz2083U_45080)) {\n        int64_t eta_p_59801;\n        int64_t defunc_0_foldl_res_59802;\n        int64_t defunc_0_foldl_res_59804;\n        int64_t acc_59806;\n        int64_t zp_lhs_59809;\n        int64_t get_id_from_grid_angle_res_59810;\n        bool x_59811;\n        bool y_59812;\n        bool bounds_check_59813;\n        bool index_certs_59814;\n        int64_t tmp_59815;\n        bool index_certs_59817;\n        int64_t zp_lhs_59818;\n        int64_t zm_lhs_59819;\n        int64_t min_arg1_59820;\n        int64_t min_arg0_59821;\n        int64_t min_res_59822;\n        bool x_59823;\n        bool y_59824;\n        bool bounds_check_59825;\n        bool index_certs_59826;\n        bool cond_59827;\n        bool cond_f_res_59828;\n        bool x_59829;\n        bool y_59830;\n        bool cond_59831;\n        bool protect_assert_disj_70784;\n        bool index_certs_59838;\n        bool protect_assert_disj_70790;\n        bool range_valid_c_59846;\n        bool x_70781;\n        bool protect_cond_conj_70785;\n        double f_arg1_59839;\n        double f_arg0_59840;\n        bool defunc_0_f_res_59841;\n        int64_t defunc_0_f_res_59832;\n        \n        eta_p_59801 = ((__global int64_t *) mem_param_68924)[gtid_59798];\n        defunc_0_foldl_res_59802 = ((__global int64_t *) mem_68910)[gtid_59798];\n        acc_59806 = (int64_t) 0;\n        for (int64_t i_59805 = 0; i_59805 < arg_50455; i_59805++) {\n            int64_t b_59807;\n            int64_t defunc_0_f_res_59808;\n            int64_t acc_tmp_72128;\n            \n            b_59807 = ((__global int64_t *) mem_69058)[gtid_59798 + i_59805 * dz2083U_45080];\n            defunc_0_f_res_59808 = add64(acc_59806, b_59807);\n            acc_tmp_72128 = ", "defunc_0_f_res_59808;\n            acc_59806 = acc_tmp_72128;\n        }\n        defunc_0_foldl_res_59804 = acc_59806;\n        zp_lhs_59809 = mul64(total_angle_no_45087, defunc_0_foldl_res_59802);\n        get_id_from_grid_angle_res_59810 = add64(defunc_0_foldl_res_59804, zp_lhs_59809);\n        x_59811 = sle64((int64_t) 0, get_id_from_grid_angle_res_59810);\n        y_59812 = slt64(get_id_from_grid_angle_res_59810, dz2082U_45079);\n        bounds_check_59813 = x_59811 && y_59812;\n        if (!bounds_check_59813) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 14) == -1) {\n                    global_failure_args[0] = (int64_t) get_id_from_grid_angle_res_59810;\n                    global_failure_args[1] = (int64_t) dz2082U_45079;\n                    ;\n                }\n                return;\n            }\n        }\n        tmp_59815 = ((__global int64_t *) mem_68623)[get_id_from_grid_angle_res_59810];\n        if (!bounds_check_59813) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 15) == -1) {\n                    global_failure_args[0] = (int64_t) get_id_from_grid_angle_res_59810;\n                    global_failure_args[1] = (int64_t) dz2082U_45079;\n                    ;\n                }\n                return;\n            }\n        }\n        zp_lhs_59818 = ((__global int64_t *) part_idx_mem_68617)[get_id_from_grid_angle_res_59810];\n        zm_lhs_59819 = add64(tmp_59815, zp_lhs_59818);\n        min_arg1_59820 = sub64(zm_lhs_59819, (int64_t) 1);\n        min_arg0_59821 = add64(i_50530, zp_lhs_59818);\n        min_res_59822 = smin64(min_arg1_59820, min_arg0_59821);\n        x_59823 = sle64((int64_t) 0, min_res_59822);\n        y_59824 = slt64(min_res_59822, dz2083U_45080);\n        bounds_check_59825 = x_59823 && y_59824;\n        if (!bounds_check_59825) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 16) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_5",
                                    "9822;\n                    global_failure_args[1] = (int64_t) dz2083U_45080;\n                    ;\n                }\n                return;\n            }\n        }\n        cond_59827 = slt64(eta_p_59801, (int64_t) 0);\n        cond_f_res_59828 = eta_p_59801 == i_50530;\n        x_59829 = !cond_59827;\n        y_59830 = cond_f_res_59828 && x_59829;\n        cond_59831 = cond_59827 || y_59830;\n        protect_assert_disj_70784 = protect_assert_disj_50513 || cond_59831;\n        if (!protect_assert_disj_70784) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 17) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) dim_45075;\n                    ;\n                }\n                return;\n            }\n        }\n        protect_assert_disj_70790 = protect_assert_disj_50525 || cond_59831;\n        if (!protect_assert_disj_70790) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 18) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 1;\n                    global_failure_args[1] = (int64_t) dim_45075;\n                    ;\n                }\n                return;\n            }\n        }\n        x_70781 = !cond_59831;\n        protect_cond_conj_70785 = x_56032 && x_70781;\n        if (protect_cond_conj_70785) {\n            double x_70774 = ((__global double *) xys_mem_68618)[min_res_59822 * dim_45075];\n            \n            f_arg1_59839 = x_70774;\n        } else {\n            f_arg1_59839 = 0.0;\n        }\n        if (protect_cond_conj_70785) {\n            double x_70776 = ((__global double *) xys_mem_68618)[gtid_59798 * dim_45075];\n            \n            f_arg0_59840 = x_70776;\n        } else {\n            f_arg0_59840 = 0.0;\n        }\n        defunc_0_f_res_59841 = f_arg1_59839 <= f_arg0_59840;\n        if (cond_59831) {\n            defunc_0_f_res_59832 = eta_p_59801;\n        } else {\n            __global unsign", "ed char *ext_mem_ext_71476;\n            bool defunc_0_foldl_res_59859;\n            bool acc_59861;\n            bool elimd_59864;\n            int64_t defunc_0_f_res_f_res_59895;\n            \n            if (cond_50496) {\n                ext_mem_ext_71476 = color_71394;\n            } else {\n                for (int64_t nest_i_72129 = 0; nest_i_72129 < dim_45075; nest_i_72129++) {\n                    ((__global bool *) color_71395)[phys_tid_59799 + nest_i_72129 * num_threads_71467] = defunc_0_f_res_59841;\n                }\n                for (int64_t i_59848 = 0; i_59848 < arg_50455; i_59848++) {\n                    int64_t index_primexp_59850;\n                    bool x_59851;\n                    bool y_59852;\n                    bool bounds_check_59853;\n                    bool index_certs_59854;\n                    double f_arg1_59855;\n                    double f_arg0_59856;\n                    bool defunc_0_f_res_59857;\n                    \n                    index_primexp_59850 = add64((int64_t) 1, i_59848);\n                    x_59851 = sle64((int64_t) 0, index_primexp_59850);\n                    y_59852 = slt64(index_primexp_59850, dim_45075);\n                    bounds_check_59853 = x_59851 && y_59852;\n                    if (!bounds_check_59853) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 19) == -1) {\n                                global_failure_args[0] = (int64_t) index_primexp_59850;\n                                global_failure_args[1] = (int64_t) dim_45075;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_59855 = ((__global double *) mem_68921)[min_res_59822 + index_primexp_59850 * dz2083U_45080];\n                    f_arg0_59856 = ((__global double *) mem_68921)[gtid_59798 + index_primexp_59850 * dz2083U_45080];\n                    defunc_0_f_res_59857 = f_arg1_598", "55 <= f_arg0_59856;\n                    ((__global bool *) color_71395)[phys_tid_59799 + index_primexp_59850 * num_threads_71467] = defunc_0_f_res_59857;\n                }\n                ext_mem_ext_71476 = color_71395;\n            }\n            acc_59861 = 1;\n            for (int64_t i_59860 = 0; i_59860 < dim_45075; i_59860++) {\n                bool b_59862;\n                bool x_59863;\n                bool acc_tmp_72131;\n                \n                b_59862 = ((__global bool *) ext_mem_ext_71476)[phys_tid_59799 + i_59860 * num_threads_71467];\n                x_59863 = acc_59861 && b_59862;\n                acc_tmp_72131 = x_59863;\n                acc_59861 = acc_tmp_72131;\n            }\n            defunc_0_foldl_res_59859 = acc_59861;\n            if (defunc_0_foldl_res_59859) {\n                bool bounds_invalid_upwards_59874;\n                bool valid_59876;\n                bool protect_assert_disj_70756;\n                bool range_valid_c_59877;\n                bool y_59868;\n                int64_t distance_59875;\n                __global unsigned char *ext_mem_ext_71485;\n                bool defunc_0_foldl_res_59890;\n                bool acc_59892;\n                \n                bounds_invalid_upwards_59874 = slt64(dim_45075, (int64_t) 1);\n                valid_59876 = !bounds_invalid_upwards_59874;\n                protect_assert_disj_70756 = cond_50496 || valid_59876;\n                if (!protect_assert_disj_70756) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 20) == -1) {\n                            global_failure_args[0] = (int64_t) (int64_t) 1;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        return;\n                    }\n                }\n                y_59868 = slt64((int64_t) 0, dim_45075);\n                distance_59875 = sub64(dim_45075, (int64_t) 1);\n                if (cond_50496) {\n",
                                    "                    ext_mem_ext_71485 = color_71394;\n                } else {\n                    bool index_certs_59869;\n                    double f_arg1_59870;\n                    double f_arg0_59871;\n                    bool defunc_0_f_res_59872;\n                    \n                    if (!y_59868) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 21) == -1) {\n                                global_failure_args[0] = (int64_t) (int64_t) 0;\n                                global_failure_args[1] = (int64_t) dim_45075;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_59870 = ((__global double *) xys_mem_68618)[min_res_59822 * dim_45075];\n                    f_arg0_59871 = ((__global double *) xys_mem_68618)[gtid_59798 * dim_45075];\n                    defunc_0_f_res_59872 = f_arg1_59870 < f_arg0_59871;\n                    for (int64_t nest_i_72132 = 0; nest_i_72132 < dim_45075; nest_i_72132++) {\n                        ((__global bool *) color_71395)[phys_tid_59799 + nest_i_72132 * num_threads_71467] = defunc_0_f_res_59872;\n                    }\n                    for (int64_t i_59879 = 0; i_59879 < distance_59875; i_59879++) {\n                        int64_t index_primexp_59881;\n                        bool x_59882;\n                        bool y_59883;\n                        bool bounds_check_59884;\n                        bool index_certs_59885;\n                        double f_arg1_59886;\n                        double f_arg0_59887;\n                        bool defunc_0_f_res_59888;\n                        \n                        index_primexp_59881 = add64((int64_t) 1, i_59879);\n                        x_59882 = sle64((int64_t) 0, index_primexp_59881);\n                        y_59883 = slt64(index_primexp_59881, dim_45075);\n                        bounds_check_59884 = x_59882 &", "& y_59883;\n                        if (!bounds_check_59884) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 22) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_59881;\n                                    global_failure_args[1] = (int64_t) dim_45075;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg1_59886 = ((__global double *) mem_68921)[min_res_59822 + index_primexp_59881 * dz2083U_45080];\n                        f_arg0_59887 = ((__global double *) mem_68921)[gtid_59798 + index_primexp_59881 * dz2083U_45080];\n                        defunc_0_f_res_59888 = f_arg1_59886 < f_arg0_59887;\n                        ((__global bool *) color_71395)[phys_tid_59799 + index_primexp_59881 * num_threads_71467] = defunc_0_f_res_59888;\n                    }\n                    ext_mem_ext_71485 = color_71395;\n                }\n                acc_59892 = 0;\n                for (int64_t i_59891 = 0; i_59891 < dim_45075; i_59891++) {\n                    bool b_59893;\n                    bool defunc_0_f_res_59894;\n                    bool acc_tmp_72134;\n                    \n                    b_59893 = ((__global bool *) ext_mem_ext_71485)[phys_tid_59799 + i_59891 * num_threads_71467];\n                    defunc_0_f_res_59894 = acc_59892 || b_59893;\n                    acc_tmp_72134 = defunc_0_f_res_59894;\n                    acc_59892 = acc_tmp_72134;\n                }\n                defunc_0_foldl_res_59890 = acc_59892;\n                elimd_59864 = defunc_0_foldl_res_59890;\n            } else {\n                elimd_59864 = 0;\n            }\n            if (elimd_59864) {\n                defunc_0_f_res_f_res_59895 = (int64_t) -1;\n            } else {\n                defunc_0_f_res_f_res_59895 = eta_p_59801;\n            }\n    ", "        defunc_0_f_res_59832 = defunc_0_f_res_f_res_59895;\n        }\n        ((__global int64_t *) mem_69083)[gtid_59798] = defunc_0_f_res_59832;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59795\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59905_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59905(__global int *global_failure, int64_t dz2083U_45080, int64_t m_50805, int64_t num_tblocks_59910, int32_t virt_num_tblocks_72259, __global unsigned char *ext_mem_69086, __global unsigned char *mem_69089, __global unsigned char *mem_69091, __global unsigned char *mem_69093)\n{\n    #define segmap_tblock_sizze_59908 (calc_local_Skyline_GFUR_doublezisegmap_59905zisegmap_tblock_sizze_59908)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72261;\n    int32_t tblock_sizze_72264;\n    int32_t wave_sizze_72263;\n    int32_t block_id_72262;\n    int32_t global_tid_72260;\n    int64_t phys_tid_59905;\n    int32_t phys_tblock_id_72265;\n    int32_t iterations_72266;\n    \n    local_tid_72261 = get_local_id(0);\n    tblock_sizze_72264 = get_local_size(0);\n    wave_sizze_72263 = LOCKSTEP_WIDTH;\n    block_id_72262 = get_tblock_id(0);\n    global_tid_72260 = block_id_72262 * tblock_sizze_72264 + local_tid_72261;\n    phys_tid_59905 = sext_i32_i64(global_tid_72260);\n    phys_tblock_id_72265 = get_tblock_id(0);\n    iterations_72266 = sdiv_up32(virt_num_tblocks_72259 - phys_tblock_id_72265, sext_i64_i32(num_tblocks_59910));\n    for (int32_t i_72267 = 0; i_72267 < iterations_72266; i_72267++) {\n        int32_t virt_tblock_id_72268;\n        int64_t global_tid_72269;\n        int64_t slice_72270;\n        int64_t write_i_59904;\n        int64_t remnant_72271;\n        \n        virt_tblock_id_72268 = phys_tblock_id_72265 + i_72267 * sext_i64_i32(num_tblocks_59910);\n        global_tid_72269 = sext_i32_i64(virt_tblock_id_72268) * segmap_tblock_sizze_59908 + sext_i32_i64(local_tid_72261);\n        slice_72270 = dz2083U_45080;\n        write_i_59",
                                    "904 = global_tid_72269;\n        remnant_72271 = global_tid_72269 - write_i_59904;\n        if (slt64(write_i_59904, dz2083U_45080)) {\n            int64_t eta_p_56059;\n            int64_t write_value_56061;\n            bool cond_56062;\n            int64_t lifted_lambda_res_56063;\n            \n            eta_p_56059 = ((__global int64_t *) mem_69091)[write_i_59904];\n            write_value_56061 = ((__global int64_t *) ext_mem_69086)[write_i_59904];\n            cond_56062 = eta_p_56059 == (int64_t) 1;\n            if (cond_56062) {\n                int64_t eta_p_56060;\n                int64_t lifted_lambda_res_t_res_57290;\n                \n                eta_p_56060 = ((__global int64_t *) mem_69089)[write_i_59904];\n                lifted_lambda_res_t_res_57290 = sub64(eta_p_56060, (int64_t) 1);\n                lifted_lambda_res_56063 = lifted_lambda_res_t_res_57290;\n            } else {\n                lifted_lambda_res_56063 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, lifted_lambda_res_56063) && slt64(lifted_lambda_res_56063, m_50805)) {\n                ((__global int64_t *) mem_69093)[lifted_lambda_res_56063] = write_value_56061;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_59908\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59957_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59957(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_45080, int64_t m_50805, __global unsigned char *mem_69093, __global unsigned char *mem_69096)\n{\n    #define segmap_tblock_sizze_59953 (calc_local_Skyline_GFUR_doublezisegmap_59957zisegmap_tblock_sizze_59953)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72274;\n    int32_t tblock_sizze_72277;\n    int32_t wave_sizze_72276;\n    int32_t block_id_72275;\n    int32_t global_tid_72273;\n    int64_t phys_tid_59957", ";\n    int64_t global_tid_72278;\n    int64_t slice_72279;\n    int64_t gtid_59956;\n    int64_t remnant_72280;\n    \n    local_tid_72274 = get_local_id(0);\n    tblock_sizze_72277 = get_local_size(0);\n    wave_sizze_72276 = LOCKSTEP_WIDTH;\n    block_id_72275 = get_tblock_id(0);\n    global_tid_72273 = block_id_72275 * tblock_sizze_72277 + local_tid_72274;\n    phys_tid_59957 = sext_i32_i64(global_tid_72273);\n    global_tid_72278 = sext_i32_i64(block_id_72275) * segmap_tblock_sizze_59953 + sext_i32_i64(local_tid_72274);\n    slice_72279 = m_50805;\n    gtid_59956 = global_tid_72278;\n    remnant_72280 = global_tid_72278 - gtid_59956;\n    if (slt64(gtid_59956, m_50805)) {\n        int64_t eta_p_59958;\n        bool x_59959;\n        bool y_59960;\n        bool bounds_check_59961;\n        bool index_certs_59962;\n        \n        eta_p_59958 = ((__global int64_t *) mem_69093)[gtid_59956];\n        x_59959 = sle64((int64_t) 0, eta_p_59958);\n        y_59960 = slt64(eta_p_59958, dz2083U_45080);\n        bounds_check_59961 = x_59959 && y_59960;\n        if (!bounds_check_59961) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 23) == -1) {\n                    global_failure_args[0] = (int64_t) eta_p_59958;\n                    global_failure_args[1] = (int64_t) dz2083U_45080;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59953\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59970_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59970(__global int *global_failure, int64_t dim_45075, int64_t m_50805, __global unsigned char *xys_mem_68618, __global unsigned char *mem_69093, __global unsigned char *mem_69096, __global unsigned char *mem_69100)\n{\n    #define segmap_tblock_sizze_59965 (calc_local_Skyline_GFUR_doublezisegmap_59970zisegmap_tblock_sizze_59965)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72283;\n    ", "int32_t tblock_sizze_72286;\n    int32_t wave_sizze_72285;\n    int32_t block_id_72284;\n    int32_t global_tid_72282;\n    int64_t phys_tid_59970;\n    int64_t global_tid_72287;\n    int64_t slice_72288;\n    int64_t slice_72289;\n    int64_t gtid_59969;\n    int64_t remnant_72290;\n    int64_t gtid_slice_59968;\n    int64_t remnant_72291;\n    \n    local_tid_72283 = get_local_id(0);\n    tblock_sizze_72286 = get_local_size(0);\n    wave_sizze_72285 = LOCKSTEP_WIDTH;\n    block_id_72284 = get_tblock_id(0);\n    global_tid_72282 = block_id_72284 * tblock_sizze_72286 + local_tid_72283;\n    phys_tid_59970 = sext_i32_i64(global_tid_72282);\n    global_tid_72287 = sext_i32_i64(block_id_72284) * segmap_tblock_sizze_59965 + sext_i32_i64(local_tid_72283);\n    slice_72288 = dim_45075;\n    slice_72289 = m_50805 * slice_72288;\n    gtid_59969 = squot64(global_tid_72287, slice_72288);\n    remnant_72290 = global_tid_72287 - gtid_59969 * slice_72288;\n    gtid_slice_59968 = remnant_72290;\n    remnant_72291 = remnant_72290 - gtid_slice_59968;\n    if (slt64(gtid_59969, m_50805) && slt64(gtid_slice_59968, dim_45075)) {\n        int64_t eta_p_59971;\n        bool index_certs_59972;\n        double v_59973;\n        \n        eta_p_59971 = ((__global int64_t *) mem_69093)[gtid_59969];\n        index_certs_59972 = 0;\n        v_59973 = ((__global double *) xys_mem_68618)[eta_p_59971 * dim_45075 + gtid_slice_59968];\n        ((__global double *) mem_69100)[gtid_59969 * dim_45075 + gtid_slice_59968] = v_59973;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59965\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59979_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59979(__global int *global_failure, int64_t m_50805, __global unsigned char *xys_mem_68619, __global unsigned char *mem_69093, __global unsigned char *mem_69096, __global unsigned char *mem_69103)\n{\n    #define segmap_tblock_sizze_59975 (calc_local_Skyline_GFUR_doublezisegmap_59979zisegmap_tblock_sizze_59975)\n    if",
                                    " (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72294;\n    int32_t tblock_sizze_72297;\n    int32_t wave_sizze_72296;\n    int32_t block_id_72295;\n    int32_t global_tid_72293;\n    int64_t phys_tid_59979;\n    int64_t global_tid_72298;\n    int64_t slice_72299;\n    int64_t gtid_59978;\n    int64_t remnant_72300;\n    \n    local_tid_72294 = get_local_id(0);\n    tblock_sizze_72297 = get_local_size(0);\n    wave_sizze_72296 = LOCKSTEP_WIDTH;\n    block_id_72295 = get_tblock_id(0);\n    global_tid_72293 = block_id_72295 * tblock_sizze_72297 + local_tid_72294;\n    phys_tid_59979 = sext_i32_i64(global_tid_72293);\n    global_tid_72298 = sext_i32_i64(block_id_72295) * segmap_tblock_sizze_59975 + sext_i32_i64(local_tid_72294);\n    slice_72299 = m_50805;\n    gtid_59978 = global_tid_72298;\n    remnant_72300 = global_tid_72298 - gtid_59978;\n    if (slt64(gtid_59978, m_50805)) {\n        int64_t eta_p_59980;\n        bool index_certs_59981;\n        int64_t lifted_lambda_res_59982;\n        \n        eta_p_59980 = ((__global int64_t *) mem_69093)[gtid_59978];\n        index_certs_59981 = 0;\n        lifted_lambda_res_59982 = ((__global int64_t *) xys_mem_68619)[eta_p_59980];\n        ((__global int64_t *) mem_69103)[gtid_59978] = lifted_lambda_res_59982;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59975\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_59999_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_59999(__global int *global_failure, int64_t dim_45075, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_69100, __global unsigned char *mem_69109)\n{\n    #define segmap_tblock_sizze_59995 (calc_local_Skyline_GFUR_doublezisegmap_59999zisegmap_tblock_sizze_59995)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72303;\n    int32_t tblock_sizze_72306;\n    int32_t wave_sizze_72305;\n    int32_t block_id_72304;\n    int32_t global_tid_72302;\n    int64_t phys_tid_59999;\n    int64_t glo", "bal_tid_72307;\n    int64_t slice_72308;\n    int64_t gtid_59998;\n    int64_t remnant_72309;\n    \n    local_tid_72303 = get_local_id(0);\n    tblock_sizze_72306 = get_local_size(0);\n    wave_sizze_72305 = LOCKSTEP_WIDTH;\n    block_id_72304 = get_tblock_id(0);\n    global_tid_72302 = block_id_72304 * tblock_sizze_72306 + local_tid_72303;\n    phys_tid_59999 = sext_i32_i64(global_tid_72302);\n    global_tid_72307 = sext_i32_i64(block_id_72304) * segmap_tblock_sizze_59995 + sext_i32_i64(local_tid_72303);\n    slice_72308 = dim_45075;\n    gtid_59998 = global_tid_72307;\n    remnant_72309 = global_tid_72307 - gtid_59998;\n    if (slt64(gtid_59998, dim_45075)) {\n        double eta_p_60000;\n        double eta_p_60001;\n        double defunc_0_f_res_60002;\n        \n        eta_p_60000 = ((__global double *) mem_69100)[gtid_59998];\n        eta_p_60001 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_59998];\n        defunc_0_f_res_60002 = eta_p_60000 - eta_p_60001;\n        ((__global double *) mem_69109)[gtid_59998] = defunc_0_f_res_60002;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_59995\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60019_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60019(__global int *global_failure, int64_t dim_45075, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_69109)\n{\n    #define segmap_tblock_sizze_60015 (calc_local_Skyline_GFUR_doublezisegmap_60019zisegmap_tblock_sizze_60015)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72312;\n    int32_t tblock_sizze_72315;\n    int32_t wave_sizze_72314;\n    int32_t block_id_72313;\n    int32_t global_tid_72311;\n    int64_t phys_tid_60019;\n    int64_t global_tid_72316;\n    int64_t slice_72317;\n    int64_t gtid_60018;\n    int64_t remnant_72318;\n    \n    local_tid_72312 = get_local_id(0);\n    tblock_sizze_72315 = get_local_size(0);\n    wave_sizze_72314 = LOCKSTEP_WIDTH;\n    block_id_72313 = get_tblock", "_id(0);\n    global_tid_72311 = block_id_72313 * tblock_sizze_72315 + local_tid_72312;\n    phys_tid_60019 = sext_i32_i64(global_tid_72311);\n    global_tid_72316 = sext_i32_i64(block_id_72313) * segmap_tblock_sizze_60015 + sext_i32_i64(local_tid_72312);\n    slice_72317 = dim_45075;\n    gtid_60018 = global_tid_72316;\n    remnant_72318 = global_tid_72316 - gtid_60018;\n    if (slt64(gtid_60018, dim_45075)) {\n        double eta_p_60020;\n        double eta_p_60021;\n        double defunc_0_f_res_60022;\n        \n        eta_p_60020 = ((__global double *) mem_69109)[gtid_60018];\n        eta_p_60021 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_60018];\n        defunc_0_f_res_60022 = eta_p_60020 / eta_p_60021;\n        ((__global double *) mem_69109)[gtid_60018] = defunc_0_f_res_60022;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60015\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60039_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60039(__global int *global_failure, int64_t dim_45075, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_69154, __global unsigned char *mem_69157)\n{\n    #define segmap_tblock_sizze_60035 (calc_local_Skyline_GFUR_doublezisegmap_60039zisegmap_tblock_sizze_60035)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72420;\n    int32_t tblock_sizze_72423;\n    int32_t wave_sizze_72422;\n    int32_t block_id_72421;\n    int32_t global_tid_72419;\n    int64_t phys_tid_60039;\n    int64_t global_tid_72424;\n    int64_t slice_72425;\n    int64_t gtid_60038;\n    int64_t remnant_72426;\n    \n    local_tid_72420 = get_local_id(0);\n    tblock_sizze_72423 = get_local_size(0);\n    wave_sizze_72422 = LOCKSTEP_WIDTH;\n    block_id_72421 = get_tblock_id(0);\n    global_tid_72419 = block_id_72421 * tblock_sizze_72423 + local_tid_72420;\n    phys_tid_60039 = sext_i32_i64(global_tid_72419);\n    global_tid_72424 = sext_i32_i64(block_id_72421) * segmap_tblock_sizze_",
                                    "60035 + sext_i32_i64(local_tid_72420);\n    slice_72425 = dim_45075;\n    gtid_60038 = global_tid_72424;\n    remnant_72426 = global_tid_72424 - gtid_60038;\n    if (slt64(gtid_60038, dim_45075)) {\n        int64_t eta_p_60040;\n        int64_t eta_p_60041;\n        int64_t defunc_0_f_res_60042;\n        \n        eta_p_60040 = ((__global int64_t *) ext_mem_69154)[gtid_60038];\n        eta_p_60041 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_60038];\n        defunc_0_f_res_60042 = mul64(eta_p_60040, eta_p_60041);\n        ((__global int64_t *) mem_69157)[gtid_60038] = defunc_0_f_res_60042;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60035\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60059_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60059(__global int *global_failure, int64_t dim_45075, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_69100, __global unsigned char *ext_mem_69165, __global unsigned char *mem_69189)\n{\n    #define segmap_tblock_sizze_60055 (calc_local_Skyline_GFUR_doublezisegmap_60059zisegmap_tblock_sizze_60055)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72450;\n    int32_t tblock_sizze_72453;\n    int32_t wave_sizze_72452;\n    int32_t block_id_72451;\n    int32_t global_tid_72449;\n    int64_t phys_tid_60059;\n    int64_t global_tid_72454;\n    int64_t slice_72455;\n    int64_t gtid_60058;\n    int64_t remnant_72456;\n    \n    local_tid_72450 = get_local_id(0);\n    tblock_sizze_72453 = get_local_size(0);\n    wave_sizze_72452 = LOCKSTEP_WIDTH;\n    block_id_72451 = get_tblock_id(0);\n    global_tid_72449 = block_id_72451 * tblock_sizze_72453 + local_tid_72450;\n    phys_tid_60059 = sext_i32_i64(global_tid_72449);\n    global_tid_72454 = sext_i32_i64(block_id_72451) * segmap_tblock_sizze_60055 + sext_i32_i64(local_tid_72450);\n    slice_72455 = dim_45075;\n    gtid_60058 = global_tid_72454;\n    remnant_72456 = global_tid_72454 - gtid_60058;\n    if (", "slt64(gtid_60058, dim_45075)) {\n        int64_t defunc_0_foldl_res_68381;\n        double eta_p_60060;\n        double eta_p_60061;\n        double defunc_0_f_res_60062;\n        \n        defunc_0_foldl_res_68381 = ((__global int64_t *) ext_mem_69165)[(int64_t) 0];\n        eta_p_60060 = ((__global double *) mem_69100)[gtid_60058];\n        eta_p_60061 = ((__global double *) start_of_grid_partition_mem_68615)[defunc_0_foldl_res_68381 * dim_45075 + gtid_60058];\n        defunc_0_f_res_60062 = eta_p_60060 - eta_p_60061;\n        ((__global double *) mem_69189)[gtid_60058] = defunc_0_f_res_60062;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60055\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60078_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60078(__global int *global_failure, int64_t map_arg1_50954, int64_t j_m_i_50955, __global unsigned char *ext_mem_69203, __global unsigned char *mem_69209)\n{\n    #define segmap_tblock_sizze_60074 (calc_local_Skyline_GFUR_doublezisegmap_60078zisegmap_tblock_sizze_60074)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72487;\n    int32_t tblock_sizze_72490;\n    int32_t wave_sizze_72489;\n    int32_t block_id_72488;\n    int32_t global_tid_72486;\n    int64_t phys_tid_60078;\n    int64_t global_tid_72491;\n    int64_t slice_72492;\n    int64_t gtid_60077;\n    int64_t remnant_72493;\n    \n    local_tid_72487 = get_local_id(0);\n    tblock_sizze_72490 = get_local_size(0);\n    wave_sizze_72489 = LOCKSTEP_WIDTH;\n    block_id_72488 = get_tblock_id(0);\n    global_tid_72486 = block_id_72488 * tblock_sizze_72490 + local_tid_72487;\n    phys_tid_60078 = sext_i32_i64(global_tid_72486);\n    global_tid_72491 = sext_i32_i64(block_id_72488) * segmap_tblock_sizze_60074 + sext_i32_i64(local_tid_72487);\n    slice_72492 = j_m_i_50955;\n    gtid_60077 = global_tid_72491;\n    remnant_72493 = global_tid_72491 - gtid_60077;\n    if (slt64(gtid_60077, j_m_i_50955)) {\n        int64_t slice_68191;\n        dou", "ble eta_p_60079;\n        double lifted_lambda_res_60080;\n        \n        slice_68191 = map_arg1_50954 + gtid_60077;\n        eta_p_60079 = ((__global double *) ext_mem_69203)[slice_68191];\n        lifted_lambda_res_60080 = eta_p_60079 * eta_p_60079;\n        ((__global double *) mem_69209)[gtid_60077] = lifted_lambda_res_60080;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60074\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60099_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60099(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_50455, __global unsigned char *angle_part_prefix_sum_mem_68610, __global unsigned char *angle_partitions_per_dim_mem_68611, __global unsigned char *ext_mem_69181, __global unsigned char *mem_69223)\n{\n    #define segmap_tblock_sizze_60095 (calc_local_Skyline_GFUR_doublezisegmap_60099zisegmap_tblock_sizze_60095)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72510;\n    int32_t tblock_sizze_72513;\n    int32_t wave_sizze_72512;\n    int32_t block_id_72511;\n    int32_t global_tid_72509;\n    int64_t phys_tid_60099;\n    int64_t global_tid_72514;\n    int64_t slice_72515;\n    int64_t gtid_60098;\n    int64_t remnant_72516;\n    \n    local_tid_72510 = get_local_id(0);\n    tblock_sizze_72513 = get_local_size(0);\n    wave_sizze_72512 = LOCKSTEP_WIDTH;\n    block_id_72511 = get_tblock_id(0);\n    global_tid_72509 = block_id_72511 * tblock_sizze_72513 + local_tid_72510;\n    phys_tid_60099 = sext_i32_i64(global_tid_72509);\n    global_tid_72514 = sext_i32_i64(block_id_72511) * segmap_tblock_sizze_60095 + sext_i32_i64(local_tid_72510);\n    slice_72515 = arg_50455;\n    gtid_60098 = global_tid_72514;\n    remnant_72516 = global_tid_72514 - gtid_60098;\n    if (slt64(gtid_60098, arg_50455)) {\n        double eta_p_60100;\n        double eta_p_60101;\n        int64_t eta_p_",
                                    "60102;\n        int64_t eta_p_60103;\n        int64_t defunc_0_f_res_60104;\n        \n        eta_p_60100 = ((__global double *) mem_69223)[gtid_60098];\n        eta_p_60101 = ((__global double *) ext_mem_69181)[gtid_60098];\n        eta_p_60102 = ((__global int64_t *) angle_part_prefix_sum_mem_68610)[gtid_60098];\n        eta_p_60103 = ((__global int64_t *) angle_partitions_per_dim_mem_68611)[gtid_60098];\n        futrts_lifted_lambda_10001(&defunc_0_f_res_60104, eta_p_60100, eta_p_60101, eta_p_60102, eta_p_60103);\n        ((__global int64_t *) mem_69223)[gtid_60098] = defunc_0_f_res_60104;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60095\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60121_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60121(__global int *global_failure, int64_t dim_45075, int64_t index_primexp_51038, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_69100, __global unsigned char *mem_69242)\n{\n    #define segmap_tblock_sizze_60117 (calc_local_Skyline_GFUR_doublezisegmap_60121zisegmap_tblock_sizze_60117)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72554;\n    int32_t tblock_sizze_72557;\n    int32_t wave_sizze_72556;\n    int32_t block_id_72555;\n    int32_t global_tid_72553;\n    int64_t phys_tid_60121;\n    int64_t global_tid_72558;\n    int64_t slice_72559;\n    int64_t gtid_60120;\n    int64_t remnant_72560;\n    \n    local_tid_72554 = get_local_id(0);\n    tblock_sizze_72557 = get_local_size(0);\n    wave_sizze_72556 = LOCKSTEP_WIDTH;\n    block_id_72555 = get_tblock_id(0);\n    global_tid_72553 = block_id_72555 * tblock_sizze_72557 + local_tid_72554;\n    phys_tid_60121 = sext_i32_i64(global_tid_72553);\n    global_tid_72558 = sext_i32_i64(block_id_72555) * segmap_tblock_sizze_60117 + sext_i32_i64(local_tid_72554);\n    slice_72559 = dim_45075;\n    gtid_60120 = global_tid_72558;\n    remnant_72560 = global_tid_72558 - gtid_60120;\n    if (slt64(gtid_60120, d", "im_45075)) {\n        double eta_p_60122;\n        double eta_p_60123;\n        double defunc_0_f_res_60124;\n        \n        eta_p_60122 = ((__global double *) mem_69100)[index_primexp_51038 * dim_45075 + gtid_60120];\n        eta_p_60123 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_60120];\n        defunc_0_f_res_60124 = eta_p_60122 - eta_p_60123;\n        ((__global double *) mem_69242)[gtid_60120] = defunc_0_f_res_60124;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60117\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60141_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60141(__global int *global_failure, int64_t dim_45075, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_69242)\n{\n    #define segmap_tblock_sizze_60137 (calc_local_Skyline_GFUR_doublezisegmap_60141zisegmap_tblock_sizze_60137)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72563;\n    int32_t tblock_sizze_72566;\n    int32_t wave_sizze_72565;\n    int32_t block_id_72564;\n    int32_t global_tid_72562;\n    int64_t phys_tid_60141;\n    int64_t global_tid_72567;\n    int64_t slice_72568;\n    int64_t gtid_60140;\n    int64_t remnant_72569;\n    \n    local_tid_72563 = get_local_id(0);\n    tblock_sizze_72566 = get_local_size(0);\n    wave_sizze_72565 = LOCKSTEP_WIDTH;\n    block_id_72564 = get_tblock_id(0);\n    global_tid_72562 = block_id_72564 * tblock_sizze_72566 + local_tid_72563;\n    phys_tid_60141 = sext_i32_i64(global_tid_72562);\n    global_tid_72567 = sext_i32_i64(block_id_72564) * segmap_tblock_sizze_60137 + sext_i32_i64(local_tid_72563);\n    slice_72568 = dim_45075;\n    gtid_60140 = global_tid_72567;\n    remnant_72569 = global_tid_72567 - gtid_60140;\n    if (slt64(gtid_60140, dim_45075)) {\n        double eta_p_60142;\n        double eta_p_60143;\n        double defunc_0_f_res_60144;\n        \n        eta_p_60142 = ((__global double *) mem_69242)[gtid_60140];\n        eta_p_60143 = ((__global ", "double *) grid_part_sizze_per_dim_mem_68613)[gtid_60140];\n        defunc_0_f_res_60144 = eta_p_60142 / eta_p_60143;\n        ((__global double *) mem_69242)[gtid_60140] = defunc_0_f_res_60144;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60137\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60161_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60161(__global int *global_failure, int64_t dim_45075, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_69287, __global unsigned char *mem_69290)\n{\n    #define segmap_tblock_sizze_60157 (calc_local_Skyline_GFUR_doublezisegmap_60161zisegmap_tblock_sizze_60157)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72671;\n    int32_t tblock_sizze_72674;\n    int32_t wave_sizze_72673;\n    int32_t block_id_72672;\n    int32_t global_tid_72670;\n    int64_t phys_tid_60161;\n    int64_t global_tid_72675;\n    int64_t slice_72676;\n    int64_t gtid_60160;\n    int64_t remnant_72677;\n    \n    local_tid_72671 = get_local_id(0);\n    tblock_sizze_72674 = get_local_size(0);\n    wave_sizze_72673 = LOCKSTEP_WIDTH;\n    block_id_72672 = get_tblock_id(0);\n    global_tid_72670 = block_id_72672 * tblock_sizze_72674 + local_tid_72671;\n    phys_tid_60161 = sext_i32_i64(global_tid_72670);\n    global_tid_72675 = sext_i32_i64(block_id_72672) * segmap_tblock_sizze_60157 + sext_i32_i64(local_tid_72671);\n    slice_72676 = dim_45075;\n    gtid_60160 = global_tid_72675;\n    remnant_72677 = global_tid_72675 - gtid_60160;\n    if (slt64(gtid_60160, dim_45075)) {\n        int64_t eta_p_60162;\n        int64_t eta_p_60163;\n        int64_t defunc_0_f_res_60164;\n        \n        eta_p_60162 = ((__global int64_t *) ext_mem_69287)[gtid_60160];\n        eta_p_60163 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_60160];\n        defunc_0_f_res_60164 = mul64(eta_p_60162, eta_p_60163);\n        ((__global int64_t *) mem_69290)[gtid_60160] = defunc_0_f_res_60164;\n    }\n  ",
                                    "  \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60157\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60181_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60181(__global int *global_failure, int64_t dim_45075, int64_t index_primexp_51038, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_69100, __global unsigned char *ext_mem_69297, __global unsigned char *mem_69317)\n{\n    #define segmap_tblock_sizze_60177 (calc_local_Skyline_GFUR_doublezisegmap_60181zisegmap_tblock_sizze_60177)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72695;\n    int32_t tblock_sizze_72698;\n    int32_t wave_sizze_72697;\n    int32_t block_id_72696;\n    int32_t global_tid_72694;\n    int64_t phys_tid_60181;\n    int64_t global_tid_72699;\n    int64_t slice_72700;\n    int64_t gtid_60180;\n    int64_t remnant_72701;\n    \n    local_tid_72695 = get_local_id(0);\n    tblock_sizze_72698 = get_local_size(0);\n    wave_sizze_72697 = LOCKSTEP_WIDTH;\n    block_id_72696 = get_tblock_id(0);\n    global_tid_72694 = block_id_72696 * tblock_sizze_72698 + local_tid_72695;\n    phys_tid_60181 = sext_i32_i64(global_tid_72694);\n    global_tid_72699 = sext_i32_i64(block_id_72696) * segmap_tblock_sizze_60177 + sext_i32_i64(local_tid_72695);\n    slice_72700 = dim_45075;\n    gtid_60180 = global_tid_72699;\n    remnant_72701 = global_tid_72699 - gtid_60180;\n    if (slt64(gtid_60180, dim_45075)) {\n        int64_t defunc_0_foldl_res_68490;\n        double eta_p_60182;\n        double eta_p_60183;\n        double defunc_0_f_res_60184;\n        \n        defunc_0_foldl_res_68490 = ((__global int64_t *) ext_mem_69297)[(int64_t) 0];\n        eta_p_60182 = ((__global double *) mem_69100)[index_primexp_51038 * dim_45075 + gtid_60180];\n        eta_p_60183 = ((__global double *) start_of_grid_partition_mem_68615)[defunc_0_foldl_res_68490 * dim_45075 + gtid_60180];\n        defunc_0_f_res_60184 = eta_p_60182 - eta_p_60183;\n        ((__global double *) ", "mem_69317)[gtid_60180] = defunc_0_f_res_60184;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60177\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60200_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60200(__global int *global_failure, int64_t map_arg1_51139, int64_t j_m_i_51140, __global unsigned char *ext_mem_69331, __global unsigned char *mem_69337)\n{\n    #define segmap_tblock_sizze_60196 (calc_local_Skyline_GFUR_doublezisegmap_60200zisegmap_tblock_sizze_60196)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72732;\n    int32_t tblock_sizze_72735;\n    int32_t wave_sizze_72734;\n    int32_t block_id_72733;\n    int32_t global_tid_72731;\n    int64_t phys_tid_60200;\n    int64_t global_tid_72736;\n    int64_t slice_72737;\n    int64_t gtid_60199;\n    int64_t remnant_72738;\n    \n    local_tid_72732 = get_local_id(0);\n    tblock_sizze_72735 = get_local_size(0);\n    wave_sizze_72734 = LOCKSTEP_WIDTH;\n    block_id_72733 = get_tblock_id(0);\n    global_tid_72731 = block_id_72733 * tblock_sizze_72735 + local_tid_72732;\n    phys_tid_60200 = sext_i32_i64(global_tid_72731);\n    global_tid_72736 = sext_i32_i64(block_id_72733) * segmap_tblock_sizze_60196 + sext_i32_i64(local_tid_72732);\n    slice_72737 = j_m_i_51140;\n    gtid_60199 = global_tid_72736;\n    remnant_72738 = global_tid_72736 - gtid_60199;\n    if (slt64(gtid_60199, j_m_i_51140)) {\n        int64_t slice_68188;\n        double eta_p_60201;\n        double lifted_lambda_res_60202;\n        \n        slice_68188 = map_arg1_51139 + gtid_60199;\n        eta_p_60201 = ((__global double *) ext_mem_69331)[slice_68188];\n        lifted_lambda_res_60202 = eta_p_60201 * eta_p_60201;\n        ((__global double *) mem_69337)[gtid_60199] = lifted_lambda_res_60202;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60196\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60221_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60221(__global int *gl", "obal_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_50455, __global unsigned char *angle_part_prefix_sum_mem_68610, __global unsigned char *angle_partitions_per_dim_mem_68611, __global unsigned char *mem_69299, __global unsigned char *ext_mem_69312, __global unsigned char *mem_69351)\n{\n    #define segmap_tblock_sizze_60217 (calc_local_Skyline_GFUR_doublezisegmap_60221zisegmap_tblock_sizze_60217)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72755;\n    int32_t tblock_sizze_72758;\n    int32_t wave_sizze_72757;\n    int32_t block_id_72756;\n    int32_t global_tid_72754;\n    int64_t phys_tid_60221;\n    int64_t global_tid_72759;\n    int64_t slice_72760;\n    int64_t gtid_60220;\n    int64_t remnant_72761;\n    \n    local_tid_72755 = get_local_id(0);\n    tblock_sizze_72758 = get_local_size(0);\n    wave_sizze_72757 = LOCKSTEP_WIDTH;\n    block_id_72756 = get_tblock_id(0);\n    global_tid_72754 = block_id_72756 * tblock_sizze_72758 + local_tid_72755;\n    phys_tid_60221 = sext_i32_i64(global_tid_72754);\n    global_tid_72759 = sext_i32_i64(block_id_72756) * segmap_tblock_sizze_60217 + sext_i32_i64(local_tid_72755);\n    slice_72760 = arg_50455;\n    gtid_60220 = global_tid_72759;\n    remnant_72761 = global_tid_72759 - gtid_60220;\n    if (slt64(gtid_60220, arg_50455)) {\n        double eta_p_60222;\n        double eta_p_60223;\n        int64_t eta_p_60224;\n        int64_t eta_p_60225;\n        int64_t defunc_0_f_res_60226;\n        \n        eta_p_60222 = ((__global double *) mem_69299)[gtid_60220];\n        eta_p_60223 = ((__global double *) ext_mem_69312)[gtid_60220];\n        eta_p_60224 = ((__global int64_t *) angle_part_prefix_sum_mem_68610)[gtid_60220];\n        eta_p_60225 = ((__global int64_t *) angle_partitions_per_dim_mem_68611)[gtid_60220];\n        futrts_lifted_lambda_10001(&defunc_0_f_res_60226, eta_p_60222, eta_p_60223, eta_p_60224, eta_p_6022",
                                    "5);\n        ((__global int64_t *) mem_69351)[gtid_60220] = defunc_0_f_res_60226;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60217\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_60269_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_60269(__global int *global_failure, int64_t total_part_no_45089, __global unsigned char *mem_69371, __global unsigned char *mem_69374)\n{\n    #define segmap_tblock_sizze_60265 (calc_local_Skyline_GFUR_doublezisegmap_60269zisegmap_tblock_sizze_60265)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73041;\n    int32_t tblock_sizze_73044;\n    int32_t wave_sizze_73043;\n    int32_t block_id_73042;\n    int32_t global_tid_73040;\n    int64_t phys_tid_60269;\n    int64_t global_tid_73045;\n    int64_t slice_73046;\n    int64_t gtid_60268;\n    int64_t remnant_73047;\n    \n    local_tid_73041 = get_local_id(0);\n    tblock_sizze_73044 = get_local_size(0);\n    wave_sizze_73043 = LOCKSTEP_WIDTH;\n    block_id_73042 = get_tblock_id(0);\n    global_tid_73040 = block_id_73042 * tblock_sizze_73044 + local_tid_73041;\n    phys_tid_60269 = sext_i32_i64(global_tid_73040);\n    global_tid_73045 = sext_i32_i64(block_id_73042) * segmap_tblock_sizze_60265 + sext_i32_i64(local_tid_73041);\n    slice_73046 = total_part_no_45089;\n    gtid_60268 = global_tid_73045;\n    remnant_73047 = global_tid_73045 - gtid_60268;\n    if (slt64(gtid_60268, total_part_no_45089)) {\n        int64_t zv_lhs_60271;\n        int64_t tmp_60272;\n        bool cond_60274;\n        int64_t lifted_lambda_res_60275;\n        \n        zv_lhs_60271 = add64((int64_t) -1, gtid_60268);\n        tmp_60272 = smod64(zv_lhs_60271, total_part_no_45089);\n        cond_60274 = gtid_60268 == (int64_t) 0;\n        if (cond_60274) {\n            lifted_lambda_res_60275 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_60273 = ((__global int64_t *) mem_69371)[tmp_60272];\n            \n            lifted_lambda_res_60275 = lifted_lambda_res_602", "73;\n        }\n        ((__global int64_t *) mem_69374)[gtid_60268] = lifted_lambda_res_60275;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_60265\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2083U_45080, int64_t arg_50455, unsigned char cond_50496_bits, int64_t binop_x_68643, int64_t maxSubHelper_71383, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xys_mem_68618, __global unsigned char *mem_68631, __global unsigned char *mem_68882)\n{\n    bool cond_50496 = cond_50496_bits;\n    volatile __local unsigned char *color_71388_backing_4 = &shared_mem[0];\n    const int64_t color_71388_backing_4_offset = 0 + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71387_backing_3 = &shared_mem[color_71388_backing_4_offset];\n    const int64_t color_71387_backing_3_offset = color_71388_backing_4_offset + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71386_backing_2 = &shared_mem[color_71387_backing_3_offset];\n    const int64_t color_71386_backing_2_offset = color_71387_backing_3_offset + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71385_backing_1 = &shared_mem[color_71386_backing_2_offset];\n    const int64_t color_71385_backing_1_offset = color_71386_backing_2_offset + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71384_backing_0 = &shared_mem[color_71385_backing_1_offset];\n    const int64_t color_71384_backing_0_offset = color_", "71385_backing_1_offset + (maxSubHelper_71383 + srem64((int64_t) 8 - srem64(maxSubHelper_71383, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71774;\n    int32_t tblock_sizze_71777;\n    int32_t wave_sizze_71776;\n    int32_t block_id_71775;\n    int32_t global_tid_71773;\n    int64_t phys_tblock_id_59330;\n    int64_t slice_71779;\n    int64_t ltid_pre_71778;\n    int64_t remnant_71780;\n    int64_t slice_71781;\n    int64_t gtid_59329;\n    int64_t remnant_71782;\n    __local unsigned char *color_71384;\n    __local unsigned char *color_71385;\n    __local unsigned char *color_71386;\n    __local unsigned char *color_71387;\n    __local unsigned char *color_71388;\n    int64_t min_arg1_68311;\n    __local unsigned char *ext_mem_68871;\n    int64_t f_arg0_59377;\n    int64_t min_res_59378;\n    int64_t rep_i_71790;\n    \n    local_tid_71774 = get_local_id(0);\n    tblock_sizze_71777 = get_local_size(0);\n    wave_sizze_71776 = LOCKSTEP_WIDTH;\n    block_id_71775 = get_tblock_id(0);\n    global_tid_71773 = block_id_71775 * tblock_sizze_71777 + local_tid_71774;\n    phys_tblock_id_59330 = sext_i32_i64(block_id_71775);\n    slice_71779 = dim_45075;\n    ltid_pre_71778 = sext_i32_i64(local_tid_71774);\n    remnant_71780 = sext_i32_i64(local_tid_71774) - ltid_pre_71778;\n    slice_71781 = dz2083U_45080;\n    gtid_59329 = sext_i32_i64(block_id_71775);\n    remnant_71782 = sext_i32_i64(block_id_71775) - gtid_59329;\n    color_71384 = (__local unsigned char *) color_71384_backing_0;\n    color_71385 = (__local unsigned char *) color_71385_backing_1;\n    color_71386 = (__local unsigned char *) color_71386_backing_2;\n    color_71387 = (__local unsigned char *) color_71387_backing_3;\n    color_71388 = (__local unsigned char *) color_71388_backing_4;\n    min_arg1_68311 = ((_",
                                    "_global int64_t *) mem_68631)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_50496) {\n        ext_mem_68871 = color_71385;\n    } else {\n        __local unsigned char *ext_mem_68858;\n        int64_t f_arg0_59363;\n        int64_t max_res_59364;\n        int64_t rep_i_71787;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_50496) {\n            ext_mem_68858 = color_71384;\n        } else {\n            int64_t phys_tid_59339;\n            int64_t gtid_59338;\n            double eta_p_59340;\n            double eta_p_59341;\n            double defunc_0_f_res_59342;\n            int64_t phys_tid_59345;\n            int64_t gtid_59344;\n            double eta_p_59346;\n            double eta_p_59347;\n            double defunc_0_f_res_59348;\n            double f_arg0_59349;\n            int64_t f64_res_59350;\n            int64_t rep_i_71784;\n            \n            phys_tid_59339 = sext_i32_i64(local_tid_71774);\n            gtid_59338 = sext_i32_i64(sext_i64_i32(ltid_pre_71778));\n            eta_p_59340 = ((__global double *) xys_mem_68618)[gtid_59329 * dim_45075 + gtid_59338];\n            eta_p_59341 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_59338];\n            defunc_0_f_res_59342 = eta_p_59340 - eta_p_59341;\n            ((__local double *) color_71388)[gtid_59338] = defunc_0_f_res_59342;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            phys_tid_59345 = sext_i32_i64(local_tid_71774);\n            gtid_59344 = sext_i32_i64(sext_i64_i32(ltid_pre_71778));\n            eta_p_59346 = ((__local double *) color_71388)[gtid_59344];\n            eta_p_59347 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_59344];\n            defunc_0_f_res_59348 = eta_p_59346 / eta_p_59347;\n            ((__local double *) color_71388)[gtid_59344] = defunc_0_f_res_59348;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            f_arg0_59349 = ((__local double *) color_71388)[(int64_t) 0];\n            f64_res_59350 = fptosi_f64_i64(f_arg0_59349);\n ", "           rep_i_71784 = sext_i32_i64(sext_i64_i32(ltid_pre_71778));\n            ((__local int64_t *) color_71387)[rep_i_71784] = f64_res_59350;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_59353 = 0; i_59353 < arg_50455; i_59353++) {\n                int64_t index_primexp_59355;\n                bool x_59356;\n                bool y_59357;\n                bool bounds_check_59358;\n                bool index_certs_59359;\n                double f_arg0_59360;\n                int64_t f64_res_59361;\n                \n                index_primexp_59355 = add64((int64_t) 1, i_59353);\n                x_59356 = sle64((int64_t) 0, index_primexp_59355);\n                y_59357 = slt64(index_primexp_59355, dim_45075);\n                bounds_check_59358 = x_59356 && y_59357;\n                if (!bounds_check_59358) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 1) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_59355;\n                            global_failure_args[1] = (int64_t) dim_45075;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_59360 = ((__local double *) color_71388)[index_primexp_59355];\n                f64_res_59361 = fptosi_f64_i64(f_arg0_59360);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_71774 == 0) {\n                    ((__local int64_t *) color_71387)[index_primexp_59355] = f64_res_59361;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_68858 = color_71387;\n        }\n        f_arg0_59363 = ((__local int64_t *) ext_mem_68858)[(int64_t) 0];\n        max_res_59364 = smax64((int64_t) 0, f_arg0_59363);\n        rep_i_71787 = sext_i32_i64(sext_i64_i32(ltid_pre_71778));\n        ((__local int", "64_t *) color_71386)[rep_i_71787] = max_res_59364;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_59367 = 0; i_59367 < arg_50455; i_59367++) {\n            int64_t index_primexp_59369;\n            bool x_59370;\n            bool y_59371;\n            bool bounds_check_59372;\n            bool index_certs_59373;\n            int64_t f_arg0_59374;\n            int64_t max_res_59375;\n            \n            index_primexp_59369 = add64((int64_t) 1, i_59367);\n            x_59370 = sle64((int64_t) 0, index_primexp_59369);\n            y_59371 = slt64(index_primexp_59369, dim_45075);\n            bounds_check_59372 = x_59370 && y_59371;\n            if (!bounds_check_59372) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 2) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_59369;\n                        global_failure_args[1] = (int64_t) dim_45075;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_59374 = ((__local int64_t *) ext_mem_68858)[index_primexp_59369];\n            max_res_59375 = smax64((int64_t) 0, f_arg0_59374);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_71774 == 0) {\n                ((__local int64_t *) color_71386)[index_primexp_59369] = max_res_59375;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_68871 = color_71386;\n    }\n    f_arg0_59377 = ((__local int64_t *) ext_mem_68871)[(int64_t) 0];\n    min_res_59378 = smin64(f_arg0_59377, min_arg1_68311);\n    rep_i_71790 = sext_i32_i64(sext_i64_i32(ltid_pre_71778));\n    ((__local int64_t *) color_71384)[rep_i_71790] = min_res_59378;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE)",
                                    ";\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_59381 = 0; i_59381 < arg_50455; i_59381++) {\n        int64_t index_primexp_59383;\n        bool x_59384;\n        bool y_59385;\n        bool bounds_check_59386;\n        bool index_certs_59387;\n        bool index_certs_59389;\n        int64_t f_arg0_59388;\n        int64_t zm_lhs_59390;\n        int64_t min_arg1_59391;\n        int64_t min_res_59392;\n        \n        index_primexp_59383 = add64((int64_t) 1, i_59381);\n        x_59384 = sle64((int64_t) 0, index_primexp_59383);\n        y_59385 = slt64(index_primexp_59383, dim_45075);\n        bounds_check_59386 = x_59384 && y_59385;\n        if (!bounds_check_59386) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 3) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_59383;\n                    global_failure_args[1] = (int64_t) dim_45075;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_59386) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 4) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_59383;\n                    global_failure_args[1] = (int64_t) dim_45075;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_59388 = ((__local int64_t *) ext_mem_68871)[index_primexp_59383];\n        zm_lhs_59390 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_59383];\n        min_arg1_59391 = sub64(zm_lhs_59390, (int64_t) 1);\n        min_res_59392 = smin64(f_arg0_59388, min_arg1_59391);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_71774 == 0) {\n            ((__local int64_t *) color_71384)[index_primexp_59383] = min_res_59392;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global ", "int64_t *) mem_68882)[gtid_59329 * dim_45075 + sext_i32_i64(local_tid_71774)] = ((__local int64_t *) color_71384)[sext_i32_i64(local_tid_71774)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2083U_45080, int64_t arg_50455, unsigned char cond_50496_bits, int64_t binop_x_68643, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xys_mem_68618, __global unsigned char *mem_68785)\n{\n    bool cond_50496 = cond_50496_bits;\n    volatile __local unsigned char *color_71391_backing_2 = &shared_mem[0];\n    const int64_t color_71391_backing_2_offset = 0 + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71390_backing_1 = &shared_mem[color_71391_backing_2_offset];\n    const int64_t color_71390_backing_1_offset = color_71391_backing_2_offset + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71389_backing_0 = &shared_mem[color_71390_backing_1_offset];\n    const int64_t color_71389_backing_0_offset = color_71390_backing_1_offset + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71795;\n    int32_t tblock_sizze_71798;\n    int32_t wave_sizze_71797;\n    int32_t block_id_71796;\n    int32_t global_tid_71794;\n    int64_t phys_tblock_id_59406;\n    int64_t slice_71800;\n    int64_t ltid_pre_71799;\n    int64_t remnant_71801;\n    int64", "_t slice_71802;\n    int64_t gtid_59405;\n    int64_t remnant_71803;\n    __local unsigned char *color_71389;\n    __local unsigned char *color_71390;\n    __local unsigned char *color_71391;\n    __local unsigned char *ext_mem_68774;\n    int64_t f_arg0_59437;\n    int64_t max_res_59438;\n    int64_t rep_i_71808;\n    \n    local_tid_71795 = get_local_id(0);\n    tblock_sizze_71798 = get_local_size(0);\n    wave_sizze_71797 = LOCKSTEP_WIDTH;\n    block_id_71796 = get_tblock_id(0);\n    global_tid_71794 = block_id_71796 * tblock_sizze_71798 + local_tid_71795;\n    phys_tblock_id_59406 = sext_i32_i64(block_id_71796);\n    slice_71800 = dim_45075;\n    ltid_pre_71799 = sext_i32_i64(local_tid_71795);\n    remnant_71801 = sext_i32_i64(local_tid_71795) - ltid_pre_71799;\n    slice_71802 = dz2083U_45080;\n    gtid_59405 = sext_i32_i64(block_id_71796);\n    remnant_71803 = sext_i32_i64(block_id_71796) - gtid_59405;\n    color_71389 = (__local unsigned char *) color_71389_backing_0;\n    color_71390 = (__local unsigned char *) color_71390_backing_1;\n    color_71391 = (__local unsigned char *) color_71391_backing_2;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_50496) {\n        ext_mem_68774 = color_71390;\n    } else {\n        int64_t phys_tid_59413;\n        int64_t gtid_59412;\n        double eta_p_59414;\n        double eta_p_59415;\n        double defunc_0_f_res_59416;\n        int64_t phys_tid_59419;\n        int64_t gtid_59418;\n        double eta_p_59420;\n        double eta_p_59421;\n        double defunc_0_f_res_59422;\n        double f_arg0_59423;\n        int64_t f64_res_59424;\n        int64_t rep_i_71805;\n        \n        phys_tid_59413 = sext_i32_i64(local_tid_71795);\n        gtid_59412 = sext_i32_i64(sext_i64_i32(ltid_pre_71799));\n        eta_p_59414 = ((__global double *) xys_mem_68618)[gtid_59405 * dim_45075 + gtid_59412];\n        eta_p_59415 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_59412];\n        defunc_0_f_res_59416 = eta_p_59414 - eta_p_59415;\n        ((__local doubl",
                                    "e *) color_71389)[gtid_59412] = defunc_0_f_res_59416;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_59419 = sext_i32_i64(local_tid_71795);\n        gtid_59418 = sext_i32_i64(sext_i64_i32(ltid_pre_71799));\n        eta_p_59420 = ((__local double *) color_71389)[gtid_59418];\n        eta_p_59421 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_59418];\n        defunc_0_f_res_59422 = eta_p_59420 / eta_p_59421;\n        ((__local double *) color_71389)[gtid_59418] = defunc_0_f_res_59422;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        f_arg0_59423 = ((__local double *) color_71389)[(int64_t) 0];\n        f64_res_59424 = fptosi_f64_i64(f_arg0_59423);\n        rep_i_71805 = sext_i32_i64(sext_i64_i32(ltid_pre_71799));\n        ((__local int64_t *) color_71391)[rep_i_71805] = f64_res_59424;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_59427 = 0; i_59427 < arg_50455; i_59427++) {\n            int64_t index_primexp_59429;\n            bool x_59430;\n            bool y_59431;\n            bool bounds_check_59432;\n            bool index_certs_59433;\n            double f_arg0_59434;\n            int64_t f64_res_59435;\n            \n            index_primexp_59429 = add64((int64_t) 1, i_59427);\n            x_59430 = sle64((int64_t) 0, index_primexp_59429);\n            y_59431 = slt64(index_primexp_59429, dim_45075);\n            bounds_check_59432 = x_59430 && y_59431;\n            if (!bounds_check_59432) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 5) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_59429;\n                        global_failure_args[1] = (int64_t) dim_45075;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_59434 = ((__local double *) color_71389)[index_primexp_59429];\n            f64_res_59435 = fptosi_f64", "_i64(f_arg0_59434);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_71795 == 0) {\n                ((__local int64_t *) color_71391)[index_primexp_59429] = f64_res_59435;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_68774 = color_71391;\n    }\n    f_arg0_59437 = ((__local int64_t *) ext_mem_68774)[(int64_t) 0];\n    max_res_59438 = smax64((int64_t) 0, f_arg0_59437);\n    rep_i_71808 = sext_i32_i64(sext_i64_i32(ltid_pre_71799));\n    ((__local int64_t *) color_71389)[rep_i_71808] = max_res_59438;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_59441 = 0; i_59441 < arg_50455; i_59441++) {\n        int64_t index_primexp_59443;\n        bool x_59444;\n        bool y_59445;\n        bool bounds_check_59446;\n        bool index_certs_59447;\n        int64_t f_arg0_59448;\n        int64_t max_res_59449;\n        \n        index_primexp_59443 = add64((int64_t) 1, i_59441);\n        x_59444 = sle64((int64_t) 0, index_primexp_59443);\n        y_59445 = slt64(index_primexp_59443, dim_45075);\n        bounds_check_59446 = x_59444 && y_59445;\n        if (!bounds_check_59446) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 6) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_59443;\n                    global_failure_args[1] = (int64_t) dim_45075;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_59448 = ((__local int64_t *) ext_mem_68774)[index_primexp_59443];\n        max_res_59449 = smax64((int64_t) 0, f_arg0_59448);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_71795 == 0) {\n            ((__local int64_t *) color_71389)[index_primexp_59443] = max_res_59449;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_68785)", "[gtid_59405 * dim_45075 + sext_i32_i64(local_tid_71795)] = ((__local int64_t *) color_71389)[sext_i32_i64(local_tid_71795)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45075, int64_t dz2083U_45080, int64_t arg_50455, int64_t binop_x_68643, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xys_mem_68618, __global unsigned char *mem_68701)\n{\n    volatile __local unsigned char *color_71393_backing_1 = &shared_mem[0];\n    const int64_t color_71393_backing_1_offset = 0 + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71392_backing_0 = &shared_mem[color_71393_backing_1_offset];\n    const int64_t color_71392_backing_0_offset = color_71393_backing_1_offset + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71813;\n    int32_t tblock_sizze_71816;\n    int32_t wave_sizze_71815;\n    int32_t block_id_71814;\n    int32_t global_tid_71812;\n    int64_t phys_tblock_id_59463;\n    int64_t slice_71818;\n    int64_t ltid_pre_71817;\n    int64_t remnant_71819;\n    int64_t slice_71820;\n    int64_t gtid_59462;\n    int64_t remnant_71821;\n    __local unsigned char *color_71392;\n    __local unsigned char *color_71393;\n    int64_t phys_tid_59468;\n    int64_t gtid_59467;\n    double eta_p_59469;\n    double eta_p_59470;\n    double defunc_0_f_res_59471;\n    int64_t phys_tid_59474;\n    int64_t gtid_59473;\n    double eta_p_59475;\n    dou",
                                    "ble eta_p_59476;\n    double defunc_0_f_res_59477;\n    double f_arg0_59478;\n    int64_t f64_res_59479;\n    int64_t rep_i_71823;\n    \n    local_tid_71813 = get_local_id(0);\n    tblock_sizze_71816 = get_local_size(0);\n    wave_sizze_71815 = LOCKSTEP_WIDTH;\n    block_id_71814 = get_tblock_id(0);\n    global_tid_71812 = block_id_71814 * tblock_sizze_71816 + local_tid_71813;\n    phys_tblock_id_59463 = sext_i32_i64(block_id_71814);\n    slice_71818 = dim_45075;\n    ltid_pre_71817 = sext_i32_i64(local_tid_71813);\n    remnant_71819 = sext_i32_i64(local_tid_71813) - ltid_pre_71817;\n    slice_71820 = dz2083U_45080;\n    gtid_59462 = sext_i32_i64(block_id_71814);\n    remnant_71821 = sext_i32_i64(block_id_71814) - gtid_59462;\n    color_71392 = (__local unsigned char *) color_71392_backing_0;\n    color_71393 = (__local unsigned char *) color_71393_backing_1;\n    phys_tid_59468 = sext_i32_i64(local_tid_71813);\n    gtid_59467 = sext_i32_i64(sext_i64_i32(ltid_pre_71817));\n    eta_p_59469 = ((__global double *) xys_mem_68618)[gtid_59462 * dim_45075 + gtid_59467];\n    eta_p_59470 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_59467];\n    defunc_0_f_res_59471 = eta_p_59469 - eta_p_59470;\n    ((__local double *) color_71393)[gtid_59467] = defunc_0_f_res_59471;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_59474 = sext_i32_i64(local_tid_71813);\n    gtid_59473 = sext_i32_i64(sext_i64_i32(ltid_pre_71817));\n    eta_p_59475 = ((__local double *) color_71393)[gtid_59473];\n    eta_p_59476 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_59473];\n    defunc_0_f_res_59477 = eta_p_59475 / eta_p_59476;\n    ((__local double *) color_71393)[gtid_59473] = defunc_0_f_res_59477;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    f_arg0_59478 = ((__local double *) color_71393)[(int64_t) 0];\n    f64_res_59479 = fptosi_f64_i64(f_arg0_59478);\n    rep_i_71823 = sext_i32_i64(sext_i64_i32(ltid_pre_71817));\n    ((__local int64_t *) color_71392)[rep_i_71823] = f64_res_59479;\n    barrier(CLK_LOCAL_", "MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_59482 = 0; i_59482 < arg_50455; i_59482++) {\n        int64_t index_primexp_59484;\n        bool x_59485;\n        bool y_59486;\n        bool bounds_check_59487;\n        bool index_certs_59488;\n        double f_arg0_59489;\n        int64_t f64_res_59490;\n        \n        index_primexp_59484 = add64((int64_t) 1, i_59482);\n        x_59485 = sle64((int64_t) 0, index_primexp_59484);\n        y_59486 = slt64(index_primexp_59484, dim_45075);\n        bounds_check_59487 = x_59485 && y_59486;\n        if (!bounds_check_59487) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 7) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_59484;\n                    global_failure_args[1] = (int64_t) dim_45075;\n                    ;\n                }\n                local_failure = 1;\n                goto error_3;\n            }\n        }\n        f_arg0_59489 = ((__local double *) color_71393)[index_primexp_59484];\n        f64_res_59490 = fptosi_f64_i64(f_arg0_59489);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_71813 == 0) {\n            ((__local int64_t *) color_71392)[index_primexp_59484] = f64_res_59490;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_68701)[gtid_59462 * dim_45075 + sext_i32_i64(local_tid_71813)] = ((__local int64_t *) color_71392)[sext_i32_i64(local_tid_71813)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_large_72863_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_large_72863(__global int *global_failure, int64_t total_part_no_45089, int64_t num_tblocks_60231, int64_t num_subhistos_72777, int64_t blocks_per_segment_72894, int64_t q_72895, int64_t num_virtblocks_72896, int64_t threads_per_segment_72897, __global unsigned char *mem_68630, __global unsigned char *defunc_0_map_res_subhistos_mem_72778, __global unsigne", "d char *segred_tmp_mem_72898, __global unsigned char *counters_mem_72900)\n{\n    #define seghist_tblock_sizze_60229 (calc_local_Skyline_GFUR_doublezisegred_large_72863ziseghist_tblock_sizze_60229)\n    #define chunk_sizze_72864 (calc_local_Skyline_GFUR_doublezisegred_large_72863zichunk_sizze_72864)\n    \n    volatile __local unsigned char *sync_arr_mem_72909_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_72909_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_72907_backing_0 = &shared_mem[sync_arr_mem_72909_backing_1_offset];\n    const int64_t red_arr_i64_mem_72907_backing_0_offset = sync_arr_mem_72909_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_60229 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_60229, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72903;\n    int32_t tblock_sizze_72906;\n    int32_t wave_sizze_72905;\n    int32_t block_id_72904;\n    int32_t global_tid_72902;\n    int64_t flat_gtid_72863;\n    __local unsigned char *red_arr_i64_mem_72907;\n    __local unsigned char *sync_arr_mem_72909;\n    int32_t phys_tblock_id_72911;\n    int32_t iterations_72912;\n    \n    local_tid_72903 = get_local_id(0);\n    tblock_sizze_72906 = get_local_size(0);\n    wave_sizze_72905 = LOCKSTEP_WIDTH;\n    block_id_72904 = get_tblock_id(0);\n    global_tid_72902 = block_id_72904 * tblock_sizze_72906 + local_tid_72903;\n    flat_gtid_72863 = sext_i32_i64(global_tid_72902);\n    red_arr_i64_mem_72907 = (__local unsigned char *) red_arr_i64_mem_72907_backing_0;\n    sync_arr_mem_72909 = (__local unsigned char *) sync_arr_mem_72909_backing_1;\n    phys_tblock_id_72911 = get_tblock_id(0);\n    iterations_72912 = sdiv_up32(sext_i64_i32(num_virtblocks_72896) - phys_tblock_id_72911, sext_i64_i32(num_tblocks_60231));\n    for (int32_t i_72913 = 0; i_72913 < iterations_72912; i_72913++) {\n        int32_t virt_tblock_id_72914;\n        int64_t flat_segment_id_72915;\n        int",
                                    "64_t global_tid_72916;\n        int64_t slice_72917;\n        int64_t bucket_id_72861;\n        int64_t remnant_72918;\n        int64_t subhistogram_id_72862;\n        int64_t eta_p_block_res_acc_72919;\n        int64_t eta_p_60237;\n        int64_t eta_p_60238;\n        int64_t tblock_id_in_segment_72923;\n        int64_t block_base_offset_72924;\n        int32_t offset_72927;\n        int32_t skip_waves_72928;\n        int64_t eta_p_72920;\n        int64_t eta_p_72921;\n        \n        virt_tblock_id_72914 = phys_tblock_id_72911 + i_72913 * sext_i64_i32(num_tblocks_60231);\n        flat_segment_id_72915 = squot64(sext_i32_i64(virt_tblock_id_72914), blocks_per_segment_72894);\n        global_tid_72916 = srem64(sext_i32_i64(virt_tblock_id_72914) * seghist_tblock_sizze_60229 + sext_i32_i64(local_tid_72903), threads_per_segment_72897);\n        slice_72917 = total_part_no_45089;\n        bucket_id_72861 = flat_segment_id_72915;\n        remnant_72918 = flat_segment_id_72915 - bucket_id_72861;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_72919 = (int64_t) 0;\n        }\n        tblock_id_in_segment_72923 = squot64(global_tid_72916, seghist_tblock_sizze_60229);\n        block_base_offset_72924 = tblock_id_in_segment_72923 * q_72895 * seghist_tblock_sizze_60229;\n        for (int64_t i_72925 = 0; i_72925 < q_72895; i_72925++) {\n            int64_t block_offset_72926 = block_base_offset_72924 + i_72925 * seghist_tblock_sizze_60229;\n            \n            subhistogram_id_72862 = global_tid_72916 + threads_per_segment_72897 * i_72925;\n            if (slt64(subhistogram_id_72862, num_subhistos_72777)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_60237 = eta_p_block_res_acc_72919;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_60238 = ((__global int64_t *) defu", "nc_0_map_res_subhistos_mem_72778)[subhistogram_id_72862 * total_part_no_45089 + bucket_id_72861];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t defunc_0_op_res_60239 = add64(eta_p_60237, eta_p_60238);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_72919 = defunc_0_op_res_60239;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_block_res_acc_72919;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_72928 = 1;\n        offset_72927 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_72903, sext_i64_i32(seghist_tblock_sizze_60229))) {\n                eta_p_72920 = ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72927)];\n            }\n        }\n        offset_72927 = 1;\n        while (slt32(offset_72927, wave_sizze_72905)) {\n            if (slt32(local_tid_72903 + offset_72927, sext_i64_i32(seghist_tblock_sizze_60229)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) & (2 * offset_72927 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_72921 = ((volatile __local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72927)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_72922 = add64(eta_p_72920, eta_p_72921);\n                    \n                    eta_p_72920 = defunc_0_op_res_72922;\n                }\n                // write result of operation\n          ", "      {\n                    ((volatile __local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72920;\n                }\n            }\n            offset_72927 *= 2;\n        }\n        while (slt32(skip_waves_72928, squot32(sext_i64_i32(seghist_tblock_sizze_60229) + wave_sizze_72905 - 1, wave_sizze_72905))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_72927 = skip_waves_72928 * wave_sizze_72905;\n            if (slt32(local_tid_72903 + offset_72927, sext_i64_i32(seghist_tblock_sizze_60229)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) == 0 && (squot32(local_tid_72903, wave_sizze_72905) & (2 * skip_waves_72928 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_72921 = ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72927)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_72922 = add64(eta_p_72920, eta_p_72921);\n                    \n                    eta_p_72920 = defunc_0_op_res_72922;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72920;\n                }\n            }\n            skip_waves_72928 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_72903) == (int64_t) 0) {\n                eta_p_block_res_acc_72919 = eta_p_72920;\n            } else {\n                eta_p_block_res_acc_72919 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_72894 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_72903 == 0) {\n                    ((__global int64_t *) m",
                                    "em_68630)[bucket_id_72861] = eta_p_block_res_acc_72919;\n                }\n            }\n        } else {\n            int32_t old_counter_72929;\n            bool is_last_block_72930;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_72903 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_72898)[sext_i32_i64(virt_tblock_id_72914)] = eta_p_block_res_acc_72919;\n                    mem_fence_global();\n                    old_counter_72929 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72900)[srem64(flat_segment_id_72915, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_72909)[(int64_t) 0] = old_counter_72929 == sext_i64_i32(blocks_per_segment_72894 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_72930 = ((__local bool *) sync_arr_mem_72909)[(int64_t) 0];\n            if (is_last_block_72930) {\n                if (local_tid_72903 == 0) {\n                    old_counter_72929 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72900)[srem64(flat_segment_id_72915, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_72894));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_72931 = sdiv_up64(blocks_per_segment_72894, seghist_tblock_sizze_60229);\n                    \n                    eta_p_60237 = (int64_t) 0;\n                    for (int64_t i_72932 = 0; i_72932 < read_per_thread_72931; i_72932++) {\n                        int64_t block_res_id_72933 = sext_i32_i64(local_tid_72903) * read_per_thread_72931 + i_72932;\n                        int64_t index_of_block_res_72934 = flat_segment_id_72915 * blocks_per_segment_72894 + block_res_id_72933;\n                        \n                        if (slt64(block_res_id_72933, blocks_per_se", "gment_72894)) {\n                            eta_p_60238 = ((__global int64_t *) segred_tmp_mem_72898)[index_of_block_res_72934];\n                            \n                            int64_t defunc_0_op_res_60239 = add64(eta_p_60237, eta_p_60238);\n                            \n                            eta_p_60237 = defunc_0_op_res_60239;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_60237;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_72935;\n                    int32_t skip_waves_72936 = 1;\n                    int64_t eta_p_72920;\n                    int64_t eta_p_72921;\n                    \n                    offset_72935 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_72903, sext_i64_i32(seghist_tblock_sizze_60229))) {\n                            eta_p_72920 = ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72935)];\n                        }\n                    }\n                    offset_72935 = 1;\n                    while (slt32(offset_72935, wave_sizze_72905)) {\n                        if (slt32(local_tid_72903 + offset_72935, sext_i64_i32(seghist_tblock_sizze_60229)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) & (2 * offset_72935 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_72921 = ((volatile __local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72935)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_72922 = add64(eta_p_72920, eta_p_729", "21);\n                                \n                                eta_p_72920 = defunc_0_op_res_72922;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72920;\n                            }\n                        }\n                        offset_72935 *= 2;\n                    }\n                    while (slt32(skip_waves_72936, squot32(sext_i64_i32(seghist_tblock_sizze_60229) + wave_sizze_72905 - 1, wave_sizze_72905))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_72935 = skip_waves_72936 * wave_sizze_72905;\n                        if (slt32(local_tid_72903 + offset_72935, sext_i64_i32(seghist_tblock_sizze_60229)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) == 0 && (squot32(local_tid_72903, wave_sizze_72905) & (2 * skip_waves_72936 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_72921 = ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72935)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_72922 = add64(eta_p_72920, eta_p_72921);\n                                \n                                eta_p_72920 = defunc_0_op_res_72922;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72920;\n                            }\n                        }\n                        skip_waves_72936 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                ",
                                    "    // and back to memory with the final result\n                    {\n                        if (local_tid_72903 == 0) {\n                            ((__global int64_t *) mem_68630)[bucket_id_72861] = eta_p_72920;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_60229\n    #undef chunk_sizze_72864\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_nonseg_57839_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_nonseg_57839(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2082U_45079, int64_t dz2083U_45080, int64_t zeze_rhs_50459, int64_t num_tblocks_57833, int64_t num_threads_71681, __global unsigned char *part_idx_mem_68617, __global unsigned char *mem_68621, __global unsigned char *mem_68623, __global unsigned char *counters_mem_71657, __global unsigned char *segred_tmp_mem_71679)\n{\n    #define segred_tblock_sizze_57831 (calc_local_Skyline_GFUR_doublezisegred_nonseg_57839zisegred_tblock_sizze_57831)\n    #define chunk_sizze_71656 (calc_local_Skyline_GFUR_doublezisegred_nonseg_57839zichunk_sizze_71656)\n    \n    volatile __local unsigned char *sync_arr_mem_71689_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_71689_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_71687_backing_0 = &shared_mem[sync_arr_mem_71689_backing_1_offset];\n    const int64_t red_arr_i64_mem_71687_backing_0_offset = sync_arr_mem_71689_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_57831 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_57831, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n ", "   \n    int32_t local_tid_71683;\n    int32_t tblock_sizze_71686;\n    int32_t wave_sizze_71685;\n    int32_t block_id_71684;\n    int32_t global_tid_71682;\n    int64_t phys_tid_57839;\n    __local unsigned char *red_arr_i64_mem_71687;\n    __local unsigned char *sync_arr_mem_71689;\n    int64_t dummy_57837;\n    int64_t gtid_57838;\n    int64_t q_71691;\n    int64_t eta_p_block_res_acc_71692;\n    int64_t eta_p_50484;\n    int64_t eta_p_50485;\n    int64_t tblock_id_in_segment_71696;\n    int64_t block_base_offset_71697;\n    int32_t offset_71700;\n    int32_t skip_waves_71701;\n    int64_t eta_p_71693;\n    int64_t eta_p_71694;\n    int32_t old_counter_71702;\n    bool is_last_block_71703;\n    \n    local_tid_71683 = get_local_id(0);\n    tblock_sizze_71686 = get_local_size(0);\n    wave_sizze_71685 = LOCKSTEP_WIDTH;\n    block_id_71684 = get_tblock_id(0);\n    global_tid_71682 = block_id_71684 * tblock_sizze_71686 + local_tid_71683;\n    phys_tid_57839 = sext_i32_i64(global_tid_71682);\n    red_arr_i64_mem_71687 = (__local unsigned char *) red_arr_i64_mem_71687_backing_0;\n    sync_arr_mem_71689 = (__local unsigned char *) sync_arr_mem_71689_backing_1;\n    dummy_57837 = (int64_t) 0;\n    gtid_57838 = (int64_t) 0;\n    q_71691 = sdiv_up64(dz2082U_45079, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_57831 * num_tblocks_57833)) * chunk_sizze_71656);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_71692 = (int64_t) -9223372036854775808;\n    }\n    tblock_id_in_segment_71696 = squot64(phys_tid_57839, segred_tblock_sizze_57831);\n    block_base_offset_71697 = tblock_id_in_segment_71696 * q_71691 * segred_tblock_sizze_57831;\n    for (int64_t i_71698 = 0; i_71698 < q_71691; i_71698++) {\n        int64_t block_offset_71699 = block_base_offset_71697 + i_71698 * segred_tblock_sizze_57831;\n        \n        gtid_57838 = phys_tid_57839 + num_threads_71681 * i_71698;\n        if (slt64(gtid_57838, dz2082U_45079)) {\n            // apply map function(s)\n            {\n  ", "              // apply map function\n                {\n                    bool cond_56073 = gtid_57838 == zeze_rhs_50459;\n                    int64_t lifted_lambda_res_56074;\n                    \n                    if (cond_56073) {\n                        int64_t zm_rhs_57219 = ((__global int64_t *) part_idx_mem_68617)[gtid_57838];\n                        int64_t lifted_lambda_res_t_res_57220 = sub64(dz2083U_45080, zm_rhs_57219);\n                        \n                        lifted_lambda_res_56074 = lifted_lambda_res_t_res_57220;\n                    } else {\n                        int64_t zm_lhs_56081 = add64((int64_t) 1, gtid_57838);\n                        bool x_56082 = sle64((int64_t) 0, zm_lhs_56081);\n                        bool y_56083 = slt64(zm_lhs_56081, dz2082U_45079);\n                        bool bounds_check_56084 = x_56082 && y_56083;\n                        bool index_certs_56085;\n                        \n                        if (!bounds_check_56084) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 0) == -1) {\n                                    global_failure_args[0] = (int64_t) zm_lhs_56081;\n                                    global_failure_args[1] = (int64_t) dz2082U_45079;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t zm_lhs_56086 = ((__global int64_t *) part_idx_mem_68617)[zm_lhs_56081];\n                        int64_t zm_rhs_56091 = ((__global int64_t *) part_idx_mem_68617)[gtid_57838];\n                        int64_t lifted_lambda_res_f_res_56092 = sub64(zm_lhs_56086, zm_rhs_56091);\n                        \n                        lifted_lambda_res_56074 = lifted_lambda_res_f_res_56092;\n                    }\n                    // write m",
                                    "ap-out result(s)\n                    {\n                        ((__global int64_t *) mem_68623)[dummy_57837 * dz2082U_45079 + gtid_57838] = lifted_lambda_res_56074;\n                    }\n                    // load accumulator(s)\n                    {\n                        eta_p_50484 = eta_p_block_res_acc_71692;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_50485 = lifted_lambda_res_56074;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t max_res_50486 = smax64(eta_p_50484, eta_p_50485);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_71692 = max_res_50486;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683)] = eta_p_block_res_acc_71692;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_71701 = 1;\n    offset_71700 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_71683, sext_i64_i32(segred_tblock_sizze_57831))) {\n            eta_p_71693 = ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683 + offset_71700)];\n        }\n    }\n    offset_71700 = 1;\n    while (slt32(offset_71700, wave_sizze_71685)) {\n        if (slt32(local_tid_71683 + offset_71700, sext_i64_i32(segred_tblock_sizze_57831)) && ((local_tid_71683 - squot32(local_tid_71683, wave_sizze_71685) * wave_sizze_71685) & (2 * offset_71700 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_71694 = ((volatile __local int64_t *) red_arr_i64_mem_71687", ")[sext_i32_i64(local_tid_71683 + offset_71700)];\n            }\n            // apply reduction operation\n            {\n                int64_t max_res_71695 = smax64(eta_p_71693, eta_p_71694);\n                \n                eta_p_71693 = max_res_71695;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683)] = eta_p_71693;\n            }\n        }\n        offset_71700 *= 2;\n    }\n    while (slt32(skip_waves_71701, squot32(sext_i64_i32(segred_tblock_sizze_57831) + wave_sizze_71685 - 1, wave_sizze_71685))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_71700 = skip_waves_71701 * wave_sizze_71685;\n        if (slt32(local_tid_71683 + offset_71700, sext_i64_i32(segred_tblock_sizze_57831)) && ((local_tid_71683 - squot32(local_tid_71683, wave_sizze_71685) * wave_sizze_71685) == 0 && (squot32(local_tid_71683, wave_sizze_71685) & (2 * skip_waves_71701 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_71694 = ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683 + offset_71700)];\n            }\n            // apply reduction operation\n            {\n                int64_t max_res_71695 = smax64(eta_p_71693, eta_p_71694);\n                \n                eta_p_71693 = max_res_71695;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683)] = eta_p_71693;\n            }\n        }\n        skip_waves_71701 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_71683) == (int64_t) 0) {\n            eta_p_block_res_acc_71692 = eta_p_71693;\n        } else {\n            eta_p_block_res_acc_71692 = (int64_t) -9223372036854775808;\n        }\n    }\n    // first thread in block saves block result t", "o global memory\n    {\n        if (local_tid_71683 == 0) {\n            ((__global int64_t *) segred_tmp_mem_71679)[sext_i32_i64(block_id_71684)] = eta_p_block_res_acc_71692;\n            mem_fence_global();\n            old_counter_71702 = atomic_add_i32_global(&((volatile __global int *) counters_mem_71657)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_71689)[(int64_t) 0] = old_counter_71702 == sext_i64_i32(num_tblocks_57833 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_71703 = ((__local bool *) sync_arr_mem_71689)[(int64_t) 0];\n    if (is_last_block_71703) {\n        if (local_tid_71683 == 0) {\n            old_counter_71702 = atomic_add_i32_global(&((volatile __global int *) counters_mem_71657)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_57833));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_71704 = sdiv_up64(num_tblocks_57833, segred_tblock_sizze_57831);\n            \n            eta_p_50484 = (int64_t) -9223372036854775808;\n            for (int64_t i_71705 = 0; i_71705 < read_per_thread_71704; i_71705++) {\n                int64_t block_res_id_71706 = sext_i32_i64(local_tid_71683) * read_per_thread_71704 + i_71705;\n                int64_t index_of_block_res_71707 = block_res_id_71706;\n                \n                if (slt64(block_res_id_71706, num_tblocks_57833)) {\n                    eta_p_50485 = ((__global int64_t *) segred_tmp_mem_71679)[index_of_block_res_71707];\n                    \n                    int64_t max_res_50486 = smax64(eta_p_50484, eta_p_50485);\n                    \n                    eta_p_50484 = max_res_50486;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683)] = eta_p_50484;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_71708;\n            int32_t skip_wave",
                                    "s_71709 = 1;\n            int64_t eta_p_71693;\n            int64_t eta_p_71694;\n            \n            offset_71708 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_71683, sext_i64_i32(segred_tblock_sizze_57831))) {\n                    eta_p_71693 = ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683 + offset_71708)];\n                }\n            }\n            offset_71708 = 1;\n            while (slt32(offset_71708, wave_sizze_71685)) {\n                if (slt32(local_tid_71683 + offset_71708, sext_i64_i32(segred_tblock_sizze_57831)) && ((local_tid_71683 - squot32(local_tid_71683, wave_sizze_71685) * wave_sizze_71685) & (2 * offset_71708 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_71694 = ((volatile __local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683 + offset_71708)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t max_res_71695 = smax64(eta_p_71693, eta_p_71694);\n                        \n                        eta_p_71693 = max_res_71695;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683)] = eta_p_71693;\n                    }\n                }\n                offset_71708 *= 2;\n            }\n            while (slt32(skip_waves_71709, squot32(sext_i64_i32(segred_tblock_sizze_57831) + wave_sizze_71685 - 1, wave_sizze_71685))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_71708 = skip_waves_71709 * wave_sizze_71685;\n                if (slt32(local_tid_71683 + offset_71708, sext_i64_i32(segred_tblock_sizze_57831)) && ((local_tid_71683 - squot32(local_tid_71683, wave_sizze_71685) * wave_sizze_71685) == 0 && (squot32(local_tid_71683, wave_sizze_71685) &", " (2 * skip_waves_71709 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_71694 = ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683 + offset_71708)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t max_res_71695 = smax64(eta_p_71693, eta_p_71694);\n                        \n                        eta_p_71693 = max_res_71695;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_71687)[sext_i32_i64(local_tid_71683)] = eta_p_71693;\n                    }\n                }\n                skip_waves_71709 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_71683 == 0) {\n                    ((__global int64_t *) mem_68621)[(int64_t) 0] = eta_p_71693;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_57831\n    #undef chunk_sizze_71656\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_small_72863_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_small_72863(__global int *global_failure, int64_t total_part_no_45089, int64_t num_tblocks_60231, int64_t num_subhistos_72777, int64_t segment_sizze_nonzzero_72865, __global unsigned char *mem_68630, __global unsigned char *defunc_0_map_res_subhistos_mem_72778)\n{\n    #define seghist_tblock_sizze_60229 (calc_local_Skyline_GFUR_doublezisegred_small_72863ziseghist_tblock_sizze_60229)\n    \n    volatile __local unsigned char *red_arr_i64_mem_72872_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_72872_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_60229 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_60229, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failu", "re >= 0)\n        return;\n    \n    int32_t local_tid_72868;\n    int32_t tblock_sizze_72871;\n    int32_t wave_sizze_72870;\n    int32_t block_id_72869;\n    int32_t global_tid_72867;\n    int64_t flat_gtid_72863;\n    __local unsigned char *red_arr_i64_mem_72872;\n    int32_t phys_tblock_id_72874;\n    int32_t iterations_72875;\n    \n    local_tid_72868 = get_local_id(0);\n    tblock_sizze_72871 = get_local_size(0);\n    wave_sizze_72870 = LOCKSTEP_WIDTH;\n    block_id_72869 = get_tblock_id(0);\n    global_tid_72867 = block_id_72869 * tblock_sizze_72871 + local_tid_72868;\n    flat_gtid_72863 = sext_i32_i64(global_tid_72867);\n    red_arr_i64_mem_72872 = (__local unsigned char *) red_arr_i64_mem_72872_backing_0;\n    phys_tblock_id_72874 = get_tblock_id(0);\n    iterations_72875 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_45089, squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865))) - phys_tblock_id_72874, sext_i64_i32(num_tblocks_60231));\n    for (int32_t i_72876 = 0; i_72876 < iterations_72875; i_72876++) {\n        int32_t virt_tblock_id_72877;\n        int64_t slice_72878;\n        int64_t bucket_id_72861;\n        int64_t remnant_72879;\n        int64_t subhistogram_id_72862;\n        \n        virt_tblock_id_72877 = phys_tblock_id_72874 + i_72876 * sext_i64_i32(num_tblocks_60231);\n        slice_72878 = total_part_no_45089;\n        bucket_id_72861 = squot64(sext_i32_i64(local_tid_72868), segment_sizze_nonzzero_72865) + sext_i32_i64(virt_tblock_id_72877) * squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865);\n        remnant_72879 = squot64(sext_i32_i64(local_tid_72868), segment_sizze_nonzzero_72865) + sext_i32_i64(virt_tblock_id_72877) * squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865) - bucket_id_72861;\n        subhistogram_id_72862 = srem64(sext_i32_i64(local_tid_72868), num_subhistos_72777);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_72777) && (slt64(bucket_id_72861, total_par",
                                    "t_no_45089) && slt64(sext_i32_i64(local_tid_72868), num_subhistos_72777 * squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865)))) {\n                // save results to be reduced\n                {\n                    int64_t tmp_72880 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_72778)[subhistogram_id_72862 * total_part_no_45089 + bucket_id_72861];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)] = tmp_72880;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_72777)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_60237;\n                int64_t eta_p_60238;\n                int64_t eta_p_72881;\n                int64_t eta_p_72882;\n                bool ltid_in_bounds_72884 = slt64(sext_i32_i64(local_tid_72868), num_subhistos_72777 * squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865));\n                int32_t skip_threads_72885;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_72884) {\n                        eta_p_60238 = ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)];\n                        if ((local_tid_72868 - squot32(local_tid_72868, 32) * 32) == 0) {\n                            eta_p_60237 = eta_p_60238;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_72885 = 1;\n                    while (slt32(skip_threads_72885, 32)) {\n                        bool thread_active_72886 = sle32(skip_threads_72885, local_tid_72868 - squot32(local_tid_72868, 32) * 32) && ltid_in_bounds_7", "2884;\n                        \n                        if (thread_active_72886) {\n                            // read operands\n                            {\n                                eta_p_60237 = ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868) - sext_i32_i64(skip_threads_72885)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_72887 = slt64(srem64(sext_i32_i64(local_tid_72868), num_subhistos_72777), sext_i32_i64(local_tid_72868) - sext_i32_i64(local_tid_72868 - skip_threads_72885));\n                            \n                            if (thread_active_72886 && inactive_72887) {\n                                eta_p_60237 = eta_p_60238;\n                            }\n                            if (thread_active_72886) {\n                                if (!inactive_72887) {\n                                    int64_t defunc_0_op_res_60239 = add64(eta_p_60237, eta_p_60238);\n                                    \n                                    eta_p_60237 = defunc_0_op_res_60239;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_72870, skip_threads_72885)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_72886) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)] = eta_p_60237;\n                                eta_p_60238 = eta_p_60237;\n                            }\n                        }\n                        if (sle32(wave_sizze_72870, skip_threads_72885)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_72885 *= 2;\n         ", "           }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_72868 - squot32(local_tid_72868, 32) * 32) == 31 && ltid_in_bounds_72884) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(squot32(local_tid_72868, 32))] = eta_p_60237;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_72888;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_72868, 32) == 0 && ltid_in_bounds_72884) {\n                            eta_p_72882 = ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)];\n                            if ((local_tid_72868 - squot32(local_tid_72868, 32) * 32) == 0) {\n                                eta_p_72881 = eta_p_72882;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_72888 = 1;\n                        while (slt32(skip_threads_72888, 32)) {\n                            bool thread_active_72889 = sle32(skip_threads_72888, local_tid_72868 - squot32(local_tid_72868, 32) * 32) && (squot32(local_tid_72868, 32) == 0 && ltid_in_bounds_72884);\n                            \n                            if (thread_active_72889) {\n                                // read operands\n                                {\n                                    eta_p_72881 = ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868) - sext_i32_i64(skip_threads_72888)];\n                                }\n                   ",
                                    "         }\n                            // perform operation\n                            {\n                                bool inactive_72890 = slt64(srem64(sext_i32_i64(local_tid_72868 * 32 + 32 - 1), num_subhistos_72777), sext_i32_i64(local_tid_72868 * 32 + 32 - 1) - sext_i32_i64((local_tid_72868 - skip_threads_72888) * 32 + 32 - 1));\n                                \n                                if (thread_active_72889 && inactive_72890) {\n                                    eta_p_72881 = eta_p_72882;\n                                }\n                                if (thread_active_72889) {\n                                    if (!inactive_72890) {\n                                        int64_t defunc_0_op_res_72883 = add64(eta_p_72881, eta_p_72882);\n                                        \n                                        eta_p_72881 = defunc_0_op_res_72883;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_72870, skip_threads_72888)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_72889) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)] = eta_p_72881;\n                                    eta_p_72882 = eta_p_72881;\n                                }\n                            }\n                            if (sle32(wave_sizze_72870, skip_threads_72888)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_72888 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_72891 = squot32(local_tid_72868, 32) == 0 || !ltid_in_b", "ounds_72884;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_72891) {\n                            eta_p_60238 = eta_p_60237;\n                            eta_p_60237 = ((__local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(squot32(local_tid_72868, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_72892 = slt64(srem64(sext_i32_i64(local_tid_72868), num_subhistos_72777), sext_i32_i64(local_tid_72868) - sext_i32_i64(squot32(local_tid_72868, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_72891) {\n                            if (inactive_72892) {\n                                eta_p_60237 = eta_p_60238;\n                            }\n                        }\n                        if (!no_carry_in_72891) {\n                            if (!inactive_72892) {\n                                int64_t defunc_0_op_res_60239 = add64(eta_p_60237, eta_p_60238);\n                                \n                                eta_p_60237 = defunc_0_op_res_60239;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_72891) {\n                            ((__local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)] = eta_p_60237;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_72868, 32) == 0 && ltid_in_bounds_72884) {\n                        ((__local int64_t *) red_arr_i64_mem_72872)[sext_i32_i64(local_tid_72868)] = eta_p_60238;\n                    }\n              ", "  }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_72877) * squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865) + sext_i32_i64(local_tid_72868), total_part_no_45089) && slt64(sext_i32_i64(local_tid_72868), squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865))) {\n                int64_t tmp_72893 = ((__local int64_t *) red_arr_i64_mem_72872)[(sext_i32_i64(local_tid_72868) + (int64_t) 1) * segment_sizze_nonzzero_72865 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_68630)[sext_i32_i64(virt_tblock_id_72877) * squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865) + sext_i32_i64(local_tid_72868)] = tmp_72893;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_60229\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegscan_59903_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegscan_59903(__global int *global_failure, int64_t dz2083U_45080, int64_t num_tblocks_59900, int64_t num_virt_blocks_72140, int64_t num_virt_threads_72141, __global unsigned char *ext_mem_69086, __global unsigned char *mem_69089, __global unsigned char *mem_69091, __global unsigned char *status_flags_mem_72142, __global unsigned char *aggregates_mem_72164, __global unsigned char *incprefixes_mem_72166, __global unsigned char *global_dynid_mem_72168)\n{\n    #define segscan_tblock_sizze_59898 (calc_local_Skyline_GFUR_doublezisegscan_59903zisegscan_tblock_sizze_59898)\n    #define chunk_sizze_72139 (calc_local_Skyline_GFUR_doublezisegscan_59903zichunk_sizze_72139)\n    \n    volatile __local unsigned char *local_mem_72178_backing_0 = &shared_mem[0];\n    const int64_t local_mem_72178_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64",
                                    "_t) 8 * segscan_tblock_sizze_59898), chunk_sizze_72139 * segscan_tblock_sizze_59898 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_59898), chunk_sizze_72139 * segscan_tblock_sizze_59898 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72171;\n    int32_t tblock_sizze_72174;\n    int32_t wave_sizze_72173;\n    int32_t block_id_72172;\n    int32_t global_tid_72170;\n    int64_t phys_tid_59903;\n    int32_t chunk_sizze_32b_72175;\n    int64_t byte_offsets_72176;\n    int64_t warp_byte_offset_72177;\n    __local unsigned char *local_mem_72178;\n    int64_t trans_arr_len_72179;\n    int64_t phys_block_id_72185;\n    int64_t virtloop_bound_72186;\n    \n    local_tid_72171 = get_local_id(0);\n    tblock_sizze_72174 = get_local_size(0);\n    wave_sizze_72173 = LOCKSTEP_WIDTH;\n    block_id_72172 = get_tblock_id(0);\n    global_tid_72170 = block_id_72172 * tblock_sizze_72174 + local_tid_72171;\n    phys_tid_59903 = sext_i32_i64(global_tid_72170);\n    chunk_sizze_32b_72175 = sext_i64_i32(chunk_sizze_72139);\n    byte_offsets_72176 = segscan_tblock_sizze_59898 * (int64_t) 8;\n    warp_byte_offset_72177 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_72178 = (__local unsigned char *) local_mem_72178_backing_0;\n    trans_arr_len_72179 = chunk_sizze_72139 * segscan_tblock_sizze_59898;\n    phys_block_id_72185 = get_tblock_id(0);\n    virtloop_bound_72186 = sdiv_up64(num_virt_blocks_72140 - phys_block_id_72185, num_tblocks_59900);\n    for (int64_t virtloop_i_72187 = 0; virtloop_i_72187 < virtloop_bound_72186; virtloop_i_72187++) {\n        int64_t dynamic_id_72188;\n        int64_t block_offset_72189;\n        int64_t sgm_idx_72190;\n        int32_t boundary_72191;\n        int32_t segsizze_compact_72192;\n        int64_t private_mem_72193[chunk_sizze_72139];\n        int64_t thd_offset_72195;\n        int64_t acc_72211;\n        int64_t prefix_722", "21;\n        bool block_new_sgm_72222;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_72171 == 0) {\n                dynamic_id_72188 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_72168)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_72178)[(int64_t) 0] = dynamic_id_72188;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_72188 == num_virt_blocks_72140 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_72168)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_72188 = ((__local int32_t *) local_mem_72178)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_72189 = dynamic_id_72188 * chunk_sizze_72139 * segscan_tblock_sizze_59898;\n        sgm_idx_72190 = smod64(block_offset_72189, dz2083U_45080);\n        boundary_72191 = sext_i64_i32(smin64(chunk_sizze_72139 * segscan_tblock_sizze_59898, dz2083U_45080 - sgm_idx_72190));\n        segsizze_compact_72192 = sext_i64_i32(smin64(chunk_sizze_72139 * segscan_tblock_sizze_59898, dz2083U_45080));\n        thd_offset_72195 = block_offset_72189 + sext_i32_i64(local_tid_72171);\n        // Load and map\n        {\n            for (int64_t i_72196 = 0; i_72196 < chunk_sizze_72139; i_72196++) {\n                int64_t virt_tid_72197 = thd_offset_72195 + i_72196 * segscan_tblock_sizze_59898;\n                int64_t slice_72198 = dz2083U_45080;\n                int64_t gtid_59902 = virt_tid_72197;\n                int64_t remnant_72199 = virt_tid_72197 - gtid_59902;\n                \n                if (slt64(virt_tid_72197, dz2083U_45080)) {\n                    int64_t eta_p_56067 = ((__global int64_t *) ext_mem_69086)[gtid_59902]", ";\n                    bool lifted_lambda_res_56068 = sle64((int64_t) 0, eta_p_56067);\n                    int64_t defunc_0_f_res_56069 = btoi_bool_i64(lifted_lambda_res_56068);\n                    \n                    ((__global int64_t *) mem_69091)[gtid_59902] = defunc_0_f_res_56069;\n                    private_mem_72193[i_72196] = defunc_0_f_res_56069;\n                } else {\n                    private_mem_72193[i_72196] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_72200 = 0; i_72200 < chunk_sizze_72139; i_72200++) {\n                int64_t sharedIdx_72201 = sext_i32_i64(local_tid_72171) + i_72200 * segscan_tblock_sizze_59898;\n                int64_t tmp_72202 = private_mem_72193[i_72200];\n                \n                ((__local int64_t *) local_mem_72178)[sharedIdx_72201] = tmp_72202;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_72203 = 0; i_72203 < chunk_sizze_72139; i_72203++) {\n                int64_t sharedIdx_72204 = sext_i32_i64(local_tid_72171) * chunk_sizze_72139 + i_72203;\n                int64_t tmp_72205 = ((__local int64_t *) local_mem_72178)[sharedIdx_72204];\n                \n                private_mem_72193[i_72203] = tmp_72205;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_72206 = 0; i_72206 < chunk_sizze_72139 - (int64_t) 1; i_72206++) {\n                int64_t eta_p_50792;\n                int64_t eta_p_50793;\n                \n                eta_p_50792 = private_mem_72193[i_72206];\n                eta_p_50793 = private_mem_72193[i_72206 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_50794 = add64(eta_p_50792, eta_p_50793);\n                \n                private_mem_72193[i_72206 + (int64_t) 1] = defunc_0_op_res_50794;\n            }\n        }\n        // Publish results in sh",
                                    "ared memory\n        {\n            int64_t tmp_72207 = private_mem_72193[chunk_sizze_72139 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = tmp_72207;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_72208;\n            int64_t eta_p_72209;\n            int64_t eta_p_72212;\n            int64_t eta_p_72213;\n            bool ltid_in_bounds_72215 = slt64(sext_i32_i64(local_tid_72171), num_virt_threads_72141);\n            int32_t skip_threads_72216;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_72215) {\n                    eta_p_72209 = ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)];\n                    if ((local_tid_72171 - squot32(local_tid_72171, 32) * 32) == 0) {\n                        eta_p_72208 = eta_p_72209;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_72216 = 1;\n                while (slt32(skip_threads_72216, 32)) {\n                    bool thread_active_72217 = sle32(skip_threads_72216, local_tid_72171 - squot32(local_tid_72171, 32) * 32) && ltid_in_bounds_72215;\n                    \n                    if (thread_active_72217) {\n                        // read operands\n                        {\n                            eta_p_72208 = ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171) - sext_i32_i64(skip_threads_72216)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_72217) {\n                            int64_t defunc_0_op_res_72210 = add64(eta_p_72208, eta_p_72209);\n                            \n                            eta_p_72208 = defunc_0_op_res_72210;\n                        }\n    ", "                }\n                    if (sle32(wave_sizze_72173, skip_threads_72216)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_72217) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = eta_p_72208;\n                            eta_p_72209 = eta_p_72208;\n                        }\n                    }\n                    if (sle32(wave_sizze_72173, skip_threads_72216)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_72216 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_72171 - squot32(local_tid_72171, 32) * 32) == 31 && ltid_in_bounds_72215) {\n                    ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(squot32(local_tid_72171, 32))] = eta_p_72208;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_72218;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_72171, 32) == 0 && ltid_in_bounds_72215) {\n                        eta_p_72213 = ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)];\n                        if ((local_tid_72171 - squot32(local_tid_72171, 32) * 32) == 0) {\n                            eta_p_72212 = eta_p_72213;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_72218 = 1;\n                    while (slt32(skip_threads_72218, 32)) {\n     ", "                   bool thread_active_72219 = sle32(skip_threads_72218, local_tid_72171 - squot32(local_tid_72171, 32) * 32) && (squot32(local_tid_72171, 32) == 0 && ltid_in_bounds_72215);\n                        \n                        if (thread_active_72219) {\n                            // read operands\n                            {\n                                eta_p_72212 = ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171) - sext_i32_i64(skip_threads_72218)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_72219) {\n                                int64_t defunc_0_op_res_72214 = add64(eta_p_72212, eta_p_72213);\n                                \n                                eta_p_72212 = defunc_0_op_res_72214;\n                            }\n                        }\n                        if (sle32(wave_sizze_72173, skip_threads_72218)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_72219) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = eta_p_72212;\n                                eta_p_72213 = eta_p_72212;\n                            }\n                        }\n                        if (sle32(wave_sizze_72173, skip_threads_72218)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_72218 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_72220 = squot32(local_tid_72171, 32) == 0 || !ltid_in_bounds_72215;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n        ",
                                    "        {\n                    if (!no_carry_in_72220) {\n                        eta_p_72209 = eta_p_72208;\n                        eta_p_72208 = ((__local int64_t *) local_mem_72178)[sext_i32_i64(squot32(local_tid_72171, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_72220) {\n                        int64_t defunc_0_op_res_72210 = add64(eta_p_72208, eta_p_72209);\n                        \n                        eta_p_72208 = defunc_0_op_res_72210;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_72220) {\n                        ((__local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = eta_p_72208;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_72171, 32) == 0 && ltid_in_bounds_72215) {\n                    ((__local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = eta_p_72209;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_72171 == 0) {\n                acc_72211 = ((__local int64_t *) local_mem_72178)[segscan_tblock_sizze_59898 - (int64_t) 1];\n            } else {\n                acc_72211 = ((__local int64_t *) local_mem_72178)[sext_i32_i64(local_tid_72171) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_72221 = (int64_t) 0;\n        block_new_sgm_72222 = sgm_idx_72190 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_72222 && local_tid_72171 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_72166)[dynamic_id_72188] = acc_72211;\n                mem_fence_global();\n                ((volatile __global int8_t *)", " status_flags_mem_72142)[dynamic_id_72188] = (int8_t) 2;\n                acc_72211 = (int64_t) 0;\n            }\n            if (!block_new_sgm_72222 && slt32(local_tid_72171, wave_sizze_72173)) {\n                if (local_tid_72171 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_72164)[dynamic_id_72188] = acc_72211;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_72142)[dynamic_id_72188] = (int8_t) 1;\n                    \n                    int8_t tmp_72223 = ((volatile __global int8_t *) status_flags_mem_72142)[dynamic_id_72188 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_72178)[(int64_t) 0] = tmp_72223;\n                }\n                mem_fence_local();\n                \n                int8_t status_72224 = ((__local int8_t *) local_mem_72178)[(int64_t) 0];\n                \n                if (status_72224 == (int8_t) 2) {\n                    if (local_tid_72171 == 0) {\n                        prefix_72221 = ((volatile __global int64_t *) incprefixes_mem_72166)[dynamic_id_72188 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_72225 = sext_i64_i32(dynamic_id_72188 - sext_i32_i64(wave_sizze_72173));\n                    \n                    while (slt32(wave_sizze_72173 * -1, readOffset_72225)) {\n                        int32_t read_i_72226 = readOffset_72225 + local_tid_72171;\n                        int64_t aggr_72227 = (int64_t) 0;\n                        int8_t flag_72228 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_72226)) {\n                            flag_72228 = ((volatile __global int8_t *) status_flags_mem_72142)[sext_i32_i64(read_i_72226)];\n                            if (flag_72228 == (int8_t) 2) {\n                                aggr_72227 = ((volatile __global int64_t *) incprefixes_mem_72166)[sext_i32_i64(read_i_72226)];\n     ", "                       } else if (flag_72228 == (int8_t) 1) {\n                                aggr_72227 = ((volatile __global int64_t *) aggregates_mem_72164)[sext_i32_i64(read_i_72226)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_72178)[(int64_t) 4 + sext_i32_i64(local_tid_72171)] = aggr_72227;\n                        ((__local int8_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = flag_72228;\n                        flag_72228 = ((__local int8_t *) local_mem_72178)[sext_i32_i64(wave_sizze_72173) - (int64_t) 1];\n                        if (slt8(flag_72228, (int8_t) 2)) {\n                            int8_t flg_x_72232;\n                            int8_t flg_y_72233;\n                            int64_t eta_p_72229;\n                            int64_t eta_p_72230;\n                            int32_t skip_threads_72234;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_72233 = ((volatile __local int8_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)];\n                                eta_p_72230 = ((volatile __local int64_t *) local_mem_72178)[(int64_t) 4 + sext_i32_i64(local_tid_72171)];\n                                if ((local_tid_72171 - squot32(local_tid_72171, 32) * 32) == 0) {\n                                    eta_p_72229 = eta_p_72230;\n                                    flg_x_72232 = flg_y_72233;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_72234 = 1;\n                                while (slt32(skip_threads_72234, 32)) {\n                                    if (sle32(skip_threads_72234, local_tid_72171 - squot32(local_tid_72171, 32) * 32)) {\n                                        // read operands\n              ",
                                    "                          {\n                                            flg_x_72232 = ((volatile __local int8_t *) local_mem_72178)[sext_i32_i64(local_tid_72171) - sext_i32_i64(skip_threads_72234)];\n                                            eta_p_72229 = ((volatile __local int64_t *) local_mem_72178)[(int64_t) 4 + (sext_i32_i64(local_tid_72171) - sext_i32_i64(skip_threads_72234))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_72233 == (int8_t) 2 || flg_y_72233 == (int8_t) 0) {\n                                                flg_x_72232 = flg_y_72233;\n                                                eta_p_72229 = eta_p_72230;\n                                            } else {\n                                                int64_t defunc_0_op_res_72231 = add64(eta_p_72229, eta_p_72230);\n                                                \n                                                eta_p_72229 = defunc_0_op_res_72231;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_72178)[sext_i32_i64(local_tid_72171)] = flg_x_72232;\n                                            flg_y_72233 = flg_x_72232;\n                                            ((volatile __local int64_t *) local_mem_72178)[(int64_t) 4 + sext_i32_i64(local_tid_72171)] = eta_p_72229;\n                                            eta_p_72230 = eta_p_72229;\n                                        }\n                                    }\n                                    skip_threads_72234 *= 2;\n                                }\n                            }\n                        }\n                        flag_72228 = ((__local int8_t *) local_mem", "_72178)[sext_i32_i64(wave_sizze_72173) - (int64_t) 1];\n                        aggr_72227 = ((__local int64_t *) local_mem_72178)[(int64_t) 4 + (sext_i32_i64(wave_sizze_72173) - (int64_t) 1)];\n                        if (flag_72228 == (int8_t) 2) {\n                            readOffset_72225 = wave_sizze_72173 * -1;\n                        } else if (flag_72228 == (int8_t) 1) {\n                            readOffset_72225 -= wave_sizze_72173;\n                        }\n                        if (slt8((int8_t) 0, flag_72228)) {\n                            int64_t eta_p_72235 = aggr_72227;\n                            int64_t eta_p_72236 = prefix_72221;\n                            int64_t defunc_0_op_res_72237 = add64(eta_p_72235, eta_p_72236);\n                            \n                            prefix_72221 = defunc_0_op_res_72237;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_72171 == 0) {\n                    if (boundary_72191 == sext_i64_i32(segscan_tblock_sizze_59898 * chunk_sizze_72139)) {\n                        int64_t eta_p_72238 = prefix_72221;\n                        int64_t eta_p_72239 = acc_72211;\n                        int64_t defunc_0_op_res_72240 = add64(eta_p_72238, eta_p_72239);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_72166)[dynamic_id_72188] = defunc_0_op_res_72240;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_72142)[dynamic_id_72188] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_72178)[(int64_t) 4] = prefix_72221;\n                    acc_72211 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_72188 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_72221 = ((__local int64_t *) local_mem_72178)[(int64_t) 4];\n                ba", "rrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_72241;\n            int64_t eta_p_72242;\n            int64_t eta_p_72244 = prefix_72221;\n            int64_t eta_p_72245 = acc_72211;\n            \n            if (slt32(local_tid_72171 * chunk_sizze_32b_72175, boundary_72191) && !block_new_sgm_72222) {\n                int64_t defunc_0_op_res_72246 = add64(eta_p_72244, eta_p_72245);\n                \n                eta_p_72241 = defunc_0_op_res_72246;\n            } else {\n                eta_p_72241 = acc_72211;\n            }\n            \n            int32_t stopping_point_72247 = segsizze_compact_72192 - srem32(local_tid_72171 * chunk_sizze_32b_72175 - 1 + segsizze_compact_72192 - boundary_72191, segsizze_compact_72192);\n            \n            for (int64_t i_72248 = 0; i_72248 < chunk_sizze_72139; i_72248++) {\n                if (slt32(sext_i64_i32(i_72248), stopping_point_72247 - 1)) {\n                    eta_p_72242 = private_mem_72193[i_72248];\n                    \n                    int64_t defunc_0_op_res_72243 = add64(eta_p_72241, eta_p_72242);\n                    \n                    private_mem_72193[i_72248] = defunc_0_op_res_72243;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_72249 = 0; i_72249 < chunk_sizze_72139; i_72249++) {\n                int64_t sharedIdx_72250 = sext_i32_i64(local_tid_72171) * chunk_sizze_72139 + i_72249;\n                int64_t tmp_72251 = private_mem_72193[i_72249];\n                \n                ((__local int64_t *) local_mem_72178)[sharedIdx_72250] = tmp_72251;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_72252 = 0; i_72252 < chunk_sizze_72139; i_72252++) {\n                int64_t flat_idx_72253 = thd_offset_72195 + i_72252 * segscan_tblock_sizze_59898;\n                int64_t slice_72254 = dz2083U_45080;\n",
                                    "                int64_t gtid_59902 = flat_idx_72253;\n                int64_t remnant_72255 = flat_idx_72253 - gtid_59902;\n                \n                if (slt64(flat_idx_72253, dz2083U_45080)) {\n                    int64_t tmp_72256 = ((__local int64_t *) local_mem_72178)[flat_idx_72253 - block_offset_72189];\n                    \n                    ((__global int64_t *) mem_69089)[gtid_59902] = tmp_72256;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_59898\n    #undef chunk_sizze_72139\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegscan_60249_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegscan_60249(__global int *global_failure, int64_t total_part_no_45089, int64_t num_tblocks_60246, int64_t num_virt_blocks_72942, int64_t num_virt_threads_72943, __global unsigned char *mem_68630, __global unsigned char *mem_69371, __global unsigned char *status_flags_mem_72944, __global unsigned char *aggregates_mem_72946, __global unsigned char *incprefixes_mem_72948, __global unsigned char *global_dynid_mem_72950)\n{\n    #define segscan_tblock_sizze_60244 (calc_local_Skyline_GFUR_doublezisegscan_60249zisegscan_tblock_sizze_60244)\n    #define chunk_sizze_72941 (calc_local_Skyline_GFUR_doublezisegscan_60249zichunk_sizze_72941)\n    \n    volatile __local unsigned char *local_mem_72960_backing_0 = &shared_mem[0];\n    const int64_t local_mem_72960_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_60244), chunk_sizze_72941 * segscan_tblock_sizze_60244 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_60244), chunk_sizze_72941 * segscan_tblock_sizze_60244 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72953;\n    int32_t tblock_sizze_72956;\n    int32_t wave_sizze_72955;\n    int32_t block_id_72954;\n ", "   int32_t global_tid_72952;\n    int64_t phys_tid_60249;\n    int32_t chunk_sizze_32b_72957;\n    int64_t byte_offsets_72958;\n    int64_t warp_byte_offset_72959;\n    __local unsigned char *local_mem_72960;\n    int64_t trans_arr_len_72961;\n    int64_t phys_block_id_72967;\n    int64_t virtloop_bound_72968;\n    \n    local_tid_72953 = get_local_id(0);\n    tblock_sizze_72956 = get_local_size(0);\n    wave_sizze_72955 = LOCKSTEP_WIDTH;\n    block_id_72954 = get_tblock_id(0);\n    global_tid_72952 = block_id_72954 * tblock_sizze_72956 + local_tid_72953;\n    phys_tid_60249 = sext_i32_i64(global_tid_72952);\n    chunk_sizze_32b_72957 = sext_i64_i32(chunk_sizze_72941);\n    byte_offsets_72958 = segscan_tblock_sizze_60244 * (int64_t) 8;\n    warp_byte_offset_72959 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_72960 = (__local unsigned char *) local_mem_72960_backing_0;\n    trans_arr_len_72961 = chunk_sizze_72941 * segscan_tblock_sizze_60244;\n    phys_block_id_72967 = get_tblock_id(0);\n    virtloop_bound_72968 = sdiv_up64(num_virt_blocks_72942 - phys_block_id_72967, num_tblocks_60246);\n    for (int64_t virtloop_i_72969 = 0; virtloop_i_72969 < virtloop_bound_72968; virtloop_i_72969++) {\n        int64_t dynamic_id_72970;\n        int64_t block_offset_72971;\n        int64_t sgm_idx_72972;\n        int32_t boundary_72973;\n        int32_t segsizze_compact_72974;\n        int64_t private_mem_72975[chunk_sizze_72941];\n        int64_t thd_offset_72977;\n        int64_t acc_72993;\n        int64_t prefix_73003;\n        bool block_new_sgm_73004;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_72953 == 0) {\n                dynamic_id_72970 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_72950)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_72960)[(int64_t) 0] = dynamic_id_72970;\n                ", "}\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_72970 == num_virt_blocks_72942 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_72950)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_72970 = ((__local int32_t *) local_mem_72960)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_72971 = dynamic_id_72970 * chunk_sizze_72941 * segscan_tblock_sizze_60244;\n        sgm_idx_72972 = smod64(block_offset_72971, total_part_no_45089);\n        boundary_72973 = sext_i64_i32(smin64(chunk_sizze_72941 * segscan_tblock_sizze_60244, total_part_no_45089 - sgm_idx_72972));\n        segsizze_compact_72974 = sext_i64_i32(smin64(chunk_sizze_72941 * segscan_tblock_sizze_60244, total_part_no_45089));\n        thd_offset_72977 = block_offset_72971 + sext_i32_i64(local_tid_72953);\n        // Load and map\n        {\n            for (int64_t i_72978 = 0; i_72978 < chunk_sizze_72941; i_72978++) {\n                int64_t virt_tid_72979 = thd_offset_72977 + i_72978 * segscan_tblock_sizze_60244;\n                int64_t slice_72980 = total_part_no_45089;\n                int64_t gtid_60248 = virt_tid_72979;\n                int64_t remnant_72981 = virt_tid_72979 - gtid_60248;\n                \n                if (slt64(virt_tid_72979, total_part_no_45089)) {\n                    int64_t x_51205 = ((__global int64_t *) mem_68630)[gtid_60248];\n                    \n                    private_mem_72975[i_72978] = x_51205;\n                } else {\n                    private_mem_72975[i_72978] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_72982 = 0; i_72982 < chunk_sizze_72941; i_72982++) {\n                int64_t sharedIdx_72983 = sext_i32_i64(local_tid_72953) + i_",
                                    "72982 * segscan_tblock_sizze_60244;\n                int64_t tmp_72984 = private_mem_72975[i_72982];\n                \n                ((__local int64_t *) local_mem_72960)[sharedIdx_72983] = tmp_72984;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_72985 = 0; i_72985 < chunk_sizze_72941; i_72985++) {\n                int64_t sharedIdx_72986 = sext_i32_i64(local_tid_72953) * chunk_sizze_72941 + i_72985;\n                int64_t tmp_72987 = ((__local int64_t *) local_mem_72960)[sharedIdx_72986];\n                \n                private_mem_72975[i_72985] = tmp_72987;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_72988 = 0; i_72988 < chunk_sizze_72941 - (int64_t) 1; i_72988++) {\n                int64_t eta_p_51206;\n                int64_t eta_p_51207;\n                \n                eta_p_51206 = private_mem_72975[i_72988];\n                eta_p_51207 = private_mem_72975[i_72988 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_51208 = add64(eta_p_51206, eta_p_51207);\n                \n                private_mem_72975[i_72988 + (int64_t) 1] = defunc_0_op_res_51208;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_72989 = private_mem_72975[chunk_sizze_72941 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = tmp_72989;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_72990;\n            int64_t eta_p_72991;\n            int64_t eta_p_72994;\n            int64_t eta_p_72995;\n            bool ltid_in_bounds_72997 = slt64(sext_i32_i64(local_tid_72953), num_virt_threads_72943);\n            int32_t skip_threads_72998;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_72997) {\n                   ", " eta_p_72991 = ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)];\n                    if ((local_tid_72953 - squot32(local_tid_72953, 32) * 32) == 0) {\n                        eta_p_72990 = eta_p_72991;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_72998 = 1;\n                while (slt32(skip_threads_72998, 32)) {\n                    bool thread_active_72999 = sle32(skip_threads_72998, local_tid_72953 - squot32(local_tid_72953, 32) * 32) && ltid_in_bounds_72997;\n                    \n                    if (thread_active_72999) {\n                        // read operands\n                        {\n                            eta_p_72990 = ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953) - sext_i32_i64(skip_threads_72998)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_72999) {\n                            int64_t defunc_0_op_res_72992 = add64(eta_p_72990, eta_p_72991);\n                            \n                            eta_p_72990 = defunc_0_op_res_72992;\n                        }\n                    }\n                    if (sle32(wave_sizze_72955, skip_threads_72998)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_72999) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = eta_p_72990;\n                            eta_p_72991 = eta_p_72990;\n                        }\n                    }\n                    if (sle32(wave_sizze_72955, skip_threads_72998)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_72998 *= 2;\n                }\n            ", "}\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_72953 - squot32(local_tid_72953, 32) * 32) == 31 && ltid_in_bounds_72997) {\n                    ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(squot32(local_tid_72953, 32))] = eta_p_72990;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_73000;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_72953, 32) == 0 && ltid_in_bounds_72997) {\n                        eta_p_72995 = ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)];\n                        if ((local_tid_72953 - squot32(local_tid_72953, 32) * 32) == 0) {\n                            eta_p_72994 = eta_p_72995;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_73000 = 1;\n                    while (slt32(skip_threads_73000, 32)) {\n                        bool thread_active_73001 = sle32(skip_threads_73000, local_tid_72953 - squot32(local_tid_72953, 32) * 32) && (squot32(local_tid_72953, 32) == 0 && ltid_in_bounds_72997);\n                        \n                        if (thread_active_73001) {\n                            // read operands\n                            {\n                                eta_p_72994 = ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953) - sext_i32_i64(skip_threads_73000)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_73001) {\n                                int64_t de",
                                    "func_0_op_res_72996 = add64(eta_p_72994, eta_p_72995);\n                                \n                                eta_p_72994 = defunc_0_op_res_72996;\n                            }\n                        }\n                        if (sle32(wave_sizze_72955, skip_threads_73000)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_73001) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = eta_p_72994;\n                                eta_p_72995 = eta_p_72994;\n                            }\n                        }\n                        if (sle32(wave_sizze_72955, skip_threads_73000)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_73000 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_73002 = squot32(local_tid_72953, 32) == 0 || !ltid_in_bounds_72997;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_73002) {\n                        eta_p_72991 = eta_p_72990;\n                        eta_p_72990 = ((__local int64_t *) local_mem_72960)[sext_i32_i64(squot32(local_tid_72953, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_73002) {\n                        int64_t defunc_0_op_res_72992 = add64(eta_p_72990, eta_p_72991);\n                        \n                        eta_p_72990 = defunc_0_op_res_72992;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_73002) {\n                        ", "((__local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = eta_p_72990;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_72953, 32) == 0 && ltid_in_bounds_72997) {\n                    ((__local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = eta_p_72991;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_72953 == 0) {\n                acc_72993 = ((__local int64_t *) local_mem_72960)[segscan_tblock_sizze_60244 - (int64_t) 1];\n            } else {\n                acc_72993 = ((__local int64_t *) local_mem_72960)[sext_i32_i64(local_tid_72953) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_73003 = (int64_t) 0;\n        block_new_sgm_73004 = sgm_idx_72972 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_73004 && local_tid_72953 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_72948)[dynamic_id_72970] = acc_72993;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_72944)[dynamic_id_72970] = (int8_t) 2;\n                acc_72993 = (int64_t) 0;\n            }\n            if (!block_new_sgm_73004 && slt32(local_tid_72953, wave_sizze_72955)) {\n                if (local_tid_72953 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_72946)[dynamic_id_72970] = acc_72993;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_72944)[dynamic_id_72970] = (int8_t) 1;\n                    \n                    int8_t tmp_73005 = ((volatile __global int8_t *) status_flags_mem_72944)[dynamic_id_72970 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_72960)[", "(int64_t) 0] = tmp_73005;\n                }\n                mem_fence_local();\n                \n                int8_t status_73006 = ((__local int8_t *) local_mem_72960)[(int64_t) 0];\n                \n                if (status_73006 == (int8_t) 2) {\n                    if (local_tid_72953 == 0) {\n                        prefix_73003 = ((volatile __global int64_t *) incprefixes_mem_72948)[dynamic_id_72970 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_73007 = sext_i64_i32(dynamic_id_72970 - sext_i32_i64(wave_sizze_72955));\n                    \n                    while (slt32(wave_sizze_72955 * -1, readOffset_73007)) {\n                        int32_t read_i_73008 = readOffset_73007 + local_tid_72953;\n                        int64_t aggr_73009 = (int64_t) 0;\n                        int8_t flag_73010 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_73008)) {\n                            flag_73010 = ((volatile __global int8_t *) status_flags_mem_72944)[sext_i32_i64(read_i_73008)];\n                            if (flag_73010 == (int8_t) 2) {\n                                aggr_73009 = ((volatile __global int64_t *) incprefixes_mem_72948)[sext_i32_i64(read_i_73008)];\n                            } else if (flag_73010 == (int8_t) 1) {\n                                aggr_73009 = ((volatile __global int64_t *) aggregates_mem_72946)[sext_i32_i64(read_i_73008)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_72960)[(int64_t) 4 + sext_i32_i64(local_tid_72953)] = aggr_73009;\n                        ((__local int8_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = flag_73010;\n                        flag_73010 = ((__local int8_t *) local_mem_72960)[sext_i32_i64(wave_sizze_72955) - (int64_t) 1];\n                        if (slt8(flag_73010, (int8_t) 2)) {\n                            int8_t flg_x_73014;\n                       ",
                                    "     int8_t flg_y_73015;\n                            int64_t eta_p_73011;\n                            int64_t eta_p_73012;\n                            int32_t skip_threads_73016;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_73015 = ((volatile __local int8_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)];\n                                eta_p_73012 = ((volatile __local int64_t *) local_mem_72960)[(int64_t) 4 + sext_i32_i64(local_tid_72953)];\n                                if ((local_tid_72953 - squot32(local_tid_72953, 32) * 32) == 0) {\n                                    eta_p_73011 = eta_p_73012;\n                                    flg_x_73014 = flg_y_73015;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_73016 = 1;\n                                while (slt32(skip_threads_73016, 32)) {\n                                    if (sle32(skip_threads_73016, local_tid_72953 - squot32(local_tid_72953, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_73014 = ((volatile __local int8_t *) local_mem_72960)[sext_i32_i64(local_tid_72953) - sext_i32_i64(skip_threads_73016)];\n                                            eta_p_73011 = ((volatile __local int64_t *) local_mem_72960)[(int64_t) 4 + (sext_i32_i64(local_tid_72953) - sext_i32_i64(skip_threads_73016))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_73015 == (int8_t) 2 || flg_y_73015 == (int8_t) 0) {\n                                                flg_x_73014 = flg_y_73015;\n           ", "                                     eta_p_73011 = eta_p_73012;\n                                            } else {\n                                                int64_t defunc_0_op_res_73013 = add64(eta_p_73011, eta_p_73012);\n                                                \n                                                eta_p_73011 = defunc_0_op_res_73013;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_72960)[sext_i32_i64(local_tid_72953)] = flg_x_73014;\n                                            flg_y_73015 = flg_x_73014;\n                                            ((volatile __local int64_t *) local_mem_72960)[(int64_t) 4 + sext_i32_i64(local_tid_72953)] = eta_p_73011;\n                                            eta_p_73012 = eta_p_73011;\n                                        }\n                                    }\n                                    skip_threads_73016 *= 2;\n                                }\n                            }\n                        }\n                        flag_73010 = ((__local int8_t *) local_mem_72960)[sext_i32_i64(wave_sizze_72955) - (int64_t) 1];\n                        aggr_73009 = ((__local int64_t *) local_mem_72960)[(int64_t) 4 + (sext_i32_i64(wave_sizze_72955) - (int64_t) 1)];\n                        if (flag_73010 == (int8_t) 2) {\n                            readOffset_73007 = wave_sizze_72955 * -1;\n                        } else if (flag_73010 == (int8_t) 1) {\n                            readOffset_73007 -= wave_sizze_72955;\n                        }\n                        if (slt8((int8_t) 0, flag_73010)) {\n                            int64_t eta_p_73017 = aggr_73009;\n                            int64_t eta_p_73018 = prefix_73003;\n                            int64_t defunc_0_op_res_73019 = add6", "4(eta_p_73017, eta_p_73018);\n                            \n                            prefix_73003 = defunc_0_op_res_73019;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_72953 == 0) {\n                    if (boundary_72973 == sext_i64_i32(segscan_tblock_sizze_60244 * chunk_sizze_72941)) {\n                        int64_t eta_p_73020 = prefix_73003;\n                        int64_t eta_p_73021 = acc_72993;\n                        int64_t defunc_0_op_res_73022 = add64(eta_p_73020, eta_p_73021);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_72948)[dynamic_id_72970] = defunc_0_op_res_73022;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_72944)[dynamic_id_72970] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_72960)[(int64_t) 4] = prefix_73003;\n                    acc_72993 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_72970 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_73003 = ((__local int64_t *) local_mem_72960)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_73023;\n            int64_t eta_p_73024;\n            int64_t eta_p_73026 = prefix_73003;\n            int64_t eta_p_73027 = acc_72993;\n            \n            if (slt32(local_tid_72953 * chunk_sizze_32b_72957, boundary_72973) && !block_new_sgm_73004) {\n                int64_t defunc_0_op_res_73028 = add64(eta_p_73026, eta_p_73027);\n                \n                eta_p_73023 = defunc_0_op_res_73028;\n            } else {\n                eta_p_73023 = acc_72993;\n            }\n            \n            int32_t stopping_point_73029 = segsizze_compact_72974 - srem32(local_tid_72953 * chunk_sizze_32b_72957",
                                    " - 1 + segsizze_compact_72974 - boundary_72973, segsizze_compact_72974);\n            \n            for (int64_t i_73030 = 0; i_73030 < chunk_sizze_72941; i_73030++) {\n                if (slt32(sext_i64_i32(i_73030), stopping_point_73029 - 1)) {\n                    eta_p_73024 = private_mem_72975[i_73030];\n                    \n                    int64_t defunc_0_op_res_73025 = add64(eta_p_73023, eta_p_73024);\n                    \n                    private_mem_72975[i_73030] = defunc_0_op_res_73025;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_73031 = 0; i_73031 < chunk_sizze_72941; i_73031++) {\n                int64_t sharedIdx_73032 = sext_i32_i64(local_tid_72953) * chunk_sizze_72941 + i_73031;\n                int64_t tmp_73033 = private_mem_72975[i_73031];\n                \n                ((__local int64_t *) local_mem_72960)[sharedIdx_73032] = tmp_73033;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_73034 = 0; i_73034 < chunk_sizze_72941; i_73034++) {\n                int64_t flat_idx_73035 = thd_offset_72977 + i_73034 * segscan_tblock_sizze_60244;\n                int64_t slice_73036 = total_part_no_45089;\n                int64_t gtid_60248 = flat_idx_73035;\n                int64_t remnant_73037 = flat_idx_73035 - gtid_60248;\n                \n                if (slt64(flat_idx_73035, total_part_no_45089)) {\n                    int64_t tmp_73038 = ((__local int64_t *) local_mem_72960)[flat_idx_73035 - block_offset_72971];\n                    \n                    ((__global int64_t *) mem_69371)[gtid_60248] = tmp_73038;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_60244\n    #undef chunk_sizze_72941\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_57693_dim1, 1, 1)\nvoid define_skyline_space_doublezise", "gmap_57693(__global int *global_failure, int64_t dim_26352, __global unsigned char *mem_68616, __global unsigned char *mem_68632)\n{\n    #define segmap_tblock_sizze_57689 (define_skyline_space_doublezisegmap_57693zisegmap_tblock_sizze_57689)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71977;\n    int32_t tblock_sizze_71980;\n    int32_t wave_sizze_71979;\n    int32_t block_id_71978;\n    int32_t global_tid_71976;\n    int64_t phys_tid_57693;\n    int64_t global_tid_71981;\n    int64_t slice_71982;\n    int64_t gtid_57692;\n    int64_t remnant_71983;\n    \n    local_tid_71977 = get_local_id(0);\n    tblock_sizze_71980 = get_local_size(0);\n    wave_sizze_71979 = LOCKSTEP_WIDTH;\n    block_id_71978 = get_tblock_id(0);\n    global_tid_71976 = block_id_71978 * tblock_sizze_71980 + local_tid_71977;\n    phys_tid_57693 = sext_i32_i64(global_tid_71976);\n    global_tid_71981 = sext_i32_i64(block_id_71978) * segmap_tblock_sizze_57689 + sext_i32_i64(local_tid_71977);\n    slice_71982 = dim_26352;\n    gtid_57692 = global_tid_71981;\n    remnant_71983 = global_tid_71981 - gtid_57692;\n    if (slt64(gtid_57692, dim_26352)) {\n        int64_t zv_lhs_57695;\n        int64_t tmp_57696;\n        bool cond_57698;\n        int64_t lifted_lambda_res_57699;\n        \n        zv_lhs_57695 = add64((int64_t) -1, gtid_57692);\n        tmp_57696 = smod64(zv_lhs_57695, dim_26352);\n        cond_57698 = gtid_57692 == (int64_t) 0;\n        if (cond_57698) {\n            lifted_lambda_res_57699 = (int64_t) 1;\n        } else {\n            int64_t lifted_lambda_res_57697 = ((__global int64_t *) mem_68616)[tmp_57696];\n            \n            lifted_lambda_res_57699 = lifted_lambda_res_57697;\n        }\n        ((__global int64_t *) mem_68632)[gtid_57692] = lifted_lambda_res_57699;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_57689\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_57719_dim1, 1, 1)\nvoid define_skyline_space_doublezisegmap_57719(__global int *global_fail", "ure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, __global unsigned char *mem_68625, __global unsigned char *mem_68635)\n{\n    #define segmap_tblock_sizze_57715 (define_skyline_space_doublezisegmap_57719zisegmap_tblock_sizze_57715)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71986;\n    int32_t tblock_sizze_71989;\n    int32_t wave_sizze_71988;\n    int32_t block_id_71987;\n    int32_t global_tid_71985;\n    int64_t phys_tid_57719;\n    int64_t global_tid_71990;\n    int64_t slice_71991;\n    int64_t gtid_57718;\n    int64_t remnant_71992;\n    \n    local_tid_71986 = get_local_id(0);\n    tblock_sizze_71989 = get_local_size(0);\n    wave_sizze_71988 = LOCKSTEP_WIDTH;\n    block_id_71987 = get_tblock_id(0);\n    global_tid_71985 = block_id_71987 * tblock_sizze_71989 + local_tid_71986;\n    phys_tid_57719 = sext_i32_i64(global_tid_71985);\n    global_tid_71990 = sext_i32_i64(block_id_71987) * segmap_tblock_sizze_57715 + sext_i32_i64(local_tid_71986);\n    slice_71991 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;\n    gtid_57718 = global_tid_71990;\n    remnant_71992 = global_tid_71990 - gtid_57718;\n    if (slt64(gtid_57718, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353)) {\n        int64_t zv_lhs_57721;\n        int64_t tmp_57722;\n        bool cond_57724;\n        int64_t lifted_lambda_res_57725;\n        \n        zv_lhs_57721 = add64((int64_t) -1, gtid_57718);\n        tmp_57722 = smod64(zv_lhs_57721, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353);\n        cond_57724 = gtid_57718 == (int64_t) 0;\n        if (cond_57724) {\n            lifted_lambda_res_57725 = (int64_t) 1;\n        } else {\n            int64_t lifted_lambda_res_57723 = ((__global int64_t *) mem_68625)[tmp_57722];\n            \n            lifted_lambda_res_57725 = lifted_lambda_res_57723;\n        }\n        ((__global int64_t *) mem_68635)[gtid_57718] = lifted_lambda_res_57725;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_57715\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_57806_dim1, 1,",
                                    " 1)\nvoid define_skyline_space_doublezisegmap_57806(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_26352, int64_t defunc_res_56104, __global unsigned char *min_per_dim_mem_68610, __global unsigned char *grid_partitions_per_dim_mem_68612, __global unsigned char *mem_68620, __global unsigned char *mem_68632, __global unsigned char *mem_68639)\n{\n    #define segmap_tblock_sizze_57801 (define_skyline_space_doublezisegmap_57806zisegmap_tblock_sizze_57801)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71995;\n    int32_t tblock_sizze_71998;\n    int32_t wave_sizze_71997;\n    int32_t block_id_71996;\n    int32_t global_tid_71994;\n    int64_t phys_tid_57806;\n    int64_t global_tid_71999;\n    int64_t slice_72000;\n    int64_t slice_72001;\n    int64_t gtid_57804;\n    int64_t remnant_72002;\n    int64_t gtid_57805;\n    int64_t remnant_72003;\n    \n    local_tid_71995 = get_local_id(0);\n    tblock_sizze_71998 = get_local_size(0);\n    wave_sizze_71997 = LOCKSTEP_WIDTH;\n    block_id_71996 = get_tblock_id(0);\n    global_tid_71994 = block_id_71996 * tblock_sizze_71998 + local_tid_71995;\n    phys_tid_57806 = sext_i32_i64(global_tid_71994);\n    global_tid_71999 = sext_i32_i64(block_id_71996) * segmap_tblock_sizze_57801 + sext_i32_i64(local_tid_71995);\n    slice_72000 = dim_26352;\n    slice_72001 = defunc_res_56104 * slice_72000;\n    gtid_57804 = squot64(global_tid_71999, slice_72000);\n    remnant_72002 = global_tid_71999 - gtid_57804 * slice_72000;\n    gtid_57805 = remnant_72002;\n    remnant_72003 = remnant_72002 - gtid_57805;\n    if (slt64(gtid_57804, defunc_res_56104) && slt64(gtid_57805, dim_26352)) {\n        int64_t perDim_57813;\n        int64_t preDim_57814;\n        bool zzero_57815;\n        bool nonzzero_57816;\n        bool nonzzero_cert_57817;\n        bool zzero_57819;\n        bool nonzzero_57820;\n        bool nonzzero_cert_57821;\n        int64_t zv_lhs_57818;\n        int64_t dzlz7bUskOpzifrom_i64z7", "dUzg_arg0_57822;\n        double i64_res_57823;\n        double dzlz7bUZLskOpzitimesZRz7dUzg_arg1_57824;\n        double defunc_0_times_res_57825;\n        double dzlz7bUZLskOpziplusZRz7dUzg_arg0_57826;\n        double defunc_0_plus_res_57827;\n        \n        perDim_57813 = ((__global int64_t *) grid_partitions_per_dim_mem_68612)[gtid_57805];\n        preDim_57814 = ((__global int64_t *) mem_68632)[gtid_57805];\n        zzero_57815 = preDim_57814 == (int64_t) 0;\n        nonzzero_57816 = !zzero_57815;\n        if (!nonzzero_57816) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 26) == -1) {\n                    ;\n                }\n                return;\n            }\n        }\n        zzero_57819 = perDim_57813 == (int64_t) 0;\n        nonzzero_57820 = !zzero_57819;\n        if (!nonzzero_57820) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 27) == -1) {\n                    ;\n                }\n                return;\n            }\n        }\n        zv_lhs_57818 = sdiv64(gtid_57804, preDim_57814);\n        dzlz7bUskOpzifrom_i64z7dUzg_arg0_57822 = smod64(zv_lhs_57818, perDim_57813);\n        i64_res_57823 = sitofp_i64_f64(dzlz7bUskOpzifrom_i64z7dUzg_arg0_57822);\n        dzlz7bUZLskOpzitimesZRz7dUzg_arg1_57824 = ((__global double *) mem_68620)[gtid_57805];\n        defunc_0_times_res_57825 = i64_res_57823 * dzlz7bUZLskOpzitimesZRz7dUzg_arg1_57824;\n        dzlz7bUZLskOpziplusZRz7dUzg_arg0_57826 = ((__global double *) min_per_dim_mem_68610)[gtid_57805];\n        defunc_0_plus_res_57827 = defunc_0_times_res_57825 + dzlz7bUZLskOpziplusZRz7dUzg_arg0_57826;\n        ((__global double *) mem_68639)[gtid_57804 * dim_26352 + gtid_57805] = defunc_0_plus_res_57827;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_57801\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegred_nonseg_57653_dim1, 1, 1)\nvoid define_skyline_space_doublezisegred_nonseg_57653(__global int *global_failure, int64_t dim_26352, int64_t ", "num_tblocks_57648, int64_t num_threads_71808, __global unsigned char *mem_68618, __global unsigned char *mem_68622, __global unsigned char *counters_mem_71804, __global unsigned char *segred_tmp_mem_71806)\n{\n    #define segred_tblock_sizze_57646 (define_skyline_space_doublezisegred_nonseg_57653zisegred_tblock_sizze_57646)\n    #define chunk_sizze_71803 (define_skyline_space_doublezisegred_nonseg_57653zichunk_sizze_71803)\n    \n    volatile __local unsigned char *sync_arr_mem_71816_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_71816_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_71814_backing_0 = &shared_mem[sync_arr_mem_71816_backing_1_offset];\n    const int64_t red_arr_i64_mem_71814_backing_0_offset = sync_arr_mem_71816_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_57646 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_57646, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71810;\n    int32_t tblock_sizze_71813;\n    int32_t wave_sizze_71812;\n    int32_t block_id_71811;\n    int32_t global_tid_71809;\n    int64_t phys_tid_57653;\n    __local unsigned char *red_arr_i64_mem_71814;\n    __local unsigned char *sync_arr_mem_71816;\n    int64_t dummy_57651;\n    int64_t gtid_57652;\n    int64_t q_71818;\n    int64_t eta_p_block_res_acc_71819;\n    int64_t eta_p_55906;\n    int64_t eta_p_55907;\n    int64_t tblock_id_in_segment_71823;\n    int64_t block_base_offset_71824;\n    int32_t offset_71827;\n    int32_t skip_waves_71828;\n    int64_t eta_p_71820;\n    int64_t eta_p_71821;\n    int32_t old_counter_71829;\n    bool is_last_block_71830;\n    \n    local_tid_71810 = get_local_id(0);\n    tblock_sizze_71813 = get_local_size(0);\n    wave_sizze_71812 = LOCKSTEP_WIDTH;\n    block_id_71811 = get_tblock_id(0);\n    global_tid_71809 = block_id_71811 * tblock_sizze_71813 + local_tid_71810;\n    phys_tid_57653 = sext_i32_i64(global_tid_71809);\n    red_arr_i64_mem_71814 = (__local ",
                                    "unsigned char *) red_arr_i64_mem_71814_backing_0;\n    sync_arr_mem_71816 = (__local unsigned char *) sync_arr_mem_71816_backing_1;\n    dummy_57651 = (int64_t) 0;\n    gtid_57652 = (int64_t) 0;\n    q_71818 = sdiv_up64(dim_26352, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_57646 * num_tblocks_57648)) * chunk_sizze_71803);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_71819 = (int64_t) 1;\n    }\n    tblock_id_in_segment_71823 = squot64(phys_tid_57653, segred_tblock_sizze_57646);\n    block_base_offset_71824 = tblock_id_in_segment_71823 * q_71818 * segred_tblock_sizze_57646;\n    for (int64_t i_71825 = 0; i_71825 < q_71818; i_71825++) {\n        int64_t block_offset_71826 = block_base_offset_71824 + i_71825 * segred_tblock_sizze_57646;\n        \n        gtid_57652 = phys_tid_57653 + num_threads_71808 * i_71825;\n        if (slt64(gtid_57652, dim_26352)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_57635 = ((__global int64_t *) mem_68618)[gtid_57652];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_55906 = eta_p_block_res_acc_71819;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_55907 = x_57635;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t zt_res_55908 = mul64(eta_p_55906, eta_p_55907);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_71819 = zt_res_55908;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64", "(local_tid_71810)] = eta_p_block_res_acc_71819;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_71828 = 1;\n    offset_71827 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_71810, sext_i64_i32(segred_tblock_sizze_57646))) {\n            eta_p_71820 = ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810 + offset_71827)];\n        }\n    }\n    offset_71827 = 1;\n    while (slt32(offset_71827, wave_sizze_71812)) {\n        if (slt32(local_tid_71810 + offset_71827, sext_i64_i32(segred_tblock_sizze_57646)) && ((local_tid_71810 - squot32(local_tid_71810, wave_sizze_71812) * wave_sizze_71812) & (2 * offset_71827 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_71821 = ((volatile __local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810 + offset_71827)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_71822 = mul64(eta_p_71820, eta_p_71821);\n                \n                eta_p_71820 = zt_res_71822;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810)] = eta_p_71820;\n            }\n        }\n        offset_71827 *= 2;\n    }\n    while (slt32(skip_waves_71828, squot32(sext_i64_i32(segred_tblock_sizze_57646) + wave_sizze_71812 - 1, wave_sizze_71812))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_71827 = skip_waves_71828 * wave_sizze_71812;\n        if (slt32(local_tid_71810 + offset_71827, sext_i64_i32(segred_tblock_sizze_57646)) && ((local_tid_71810 - squot32(local_tid_71810, wave_sizze_71812) * wave_sizze_71812) == 0 && (squot32(local_tid_71810, wave_sizze_71812) & (2 * skip_waves_71828 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_71821 = ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810 + offset_71827)];\n            }\n        ", "    // apply reduction operation\n            {\n                int64_t zt_res_71822 = mul64(eta_p_71820, eta_p_71821);\n                \n                eta_p_71820 = zt_res_71822;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810)] = eta_p_71820;\n            }\n        }\n        skip_waves_71828 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_71810) == (int64_t) 0) {\n            eta_p_block_res_acc_71819 = eta_p_71820;\n        } else {\n            eta_p_block_res_acc_71819 = (int64_t) 1;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_71810 == 0) {\n            ((__global int64_t *) segred_tmp_mem_71806)[sext_i32_i64(block_id_71811)] = eta_p_block_res_acc_71819;\n            mem_fence_global();\n            old_counter_71829 = atomic_add_i32_global(&((volatile __global int *) counters_mem_71804)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_71816)[(int64_t) 0] = old_counter_71829 == sext_i64_i32(num_tblocks_57648 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_71830 = ((__local bool *) sync_arr_mem_71816)[(int64_t) 0];\n    if (is_last_block_71830) {\n        if (local_tid_71810 == 0) {\n            old_counter_71829 = atomic_add_i32_global(&((volatile __global int *) counters_mem_71804)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_57648));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_71831 = sdiv_up64(num_tblocks_57648, segred_tblock_sizze_57646);\n            \n            eta_p_55906 = (int64_t) 1;\n            for (int64_t i_71832 = 0; i_71832 < read_per_thread_71831; i_71832++) {\n                int64_t block_res_id_71833 = sext_i32",
                                    "_i64(local_tid_71810) * read_per_thread_71831 + i_71832;\n                int64_t index_of_block_res_71834 = block_res_id_71833;\n                \n                if (slt64(block_res_id_71833, num_tblocks_57648)) {\n                    eta_p_55907 = ((__global int64_t *) segred_tmp_mem_71806)[index_of_block_res_71834];\n                    \n                    int64_t zt_res_55908 = mul64(eta_p_55906, eta_p_55907);\n                    \n                    eta_p_55906 = zt_res_55908;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810)] = eta_p_55906;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_71835;\n            int32_t skip_waves_71836 = 1;\n            int64_t eta_p_71820;\n            int64_t eta_p_71821;\n            \n            offset_71835 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_71810, sext_i64_i32(segred_tblock_sizze_57646))) {\n                    eta_p_71820 = ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810 + offset_71835)];\n                }\n            }\n            offset_71835 = 1;\n            while (slt32(offset_71835, wave_sizze_71812)) {\n                if (slt32(local_tid_71810 + offset_71835, sext_i64_i32(segred_tblock_sizze_57646)) && ((local_tid_71810 - squot32(local_tid_71810, wave_sizze_71812) * wave_sizze_71812) & (2 * offset_71835 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_71821 = ((volatile __local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810 + offset_71835)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_71822 = mul64(eta_p_71820, eta_p_71821);\n                        \n                        eta_p_71820 = zt_res_71822;\n                    }\n", "                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810)] = eta_p_71820;\n                    }\n                }\n                offset_71835 *= 2;\n            }\n            while (slt32(skip_waves_71836, squot32(sext_i64_i32(segred_tblock_sizze_57646) + wave_sizze_71812 - 1, wave_sizze_71812))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_71835 = skip_waves_71836 * wave_sizze_71812;\n                if (slt32(local_tid_71810 + offset_71835, sext_i64_i32(segred_tblock_sizze_57646)) && ((local_tid_71810 - squot32(local_tid_71810, wave_sizze_71812) * wave_sizze_71812) == 0 && (squot32(local_tid_71810, wave_sizze_71812) & (2 * skip_waves_71836 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_71821 = ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810 + offset_71835)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_71822 = mul64(eta_p_71820, eta_p_71821);\n                        \n                        eta_p_71820 = zt_res_71822;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_71814)[sext_i32_i64(local_tid_71810)] = eta_p_71820;\n                    }\n                }\n                skip_waves_71836 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_71810 == 0) {\n                    ((__global int64_t *) mem_68622)[(int64_t) 0] = eta_p_71820;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_57646\n    #undef chunk_sizze_71803\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegred_nonseg_57", "673_dim1, 1, 1)\nvoid define_skyline_space_doublezisegred_nonseg_57673(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, int64_t num_tblocks_57668, int64_t num_threads_71946, __global unsigned char *mem_68627, __global unsigned char *mem_68629, __global unsigned char *counters_mem_71942, __global unsigned char *segred_tmp_mem_71944)\n{\n    #define segred_tblock_sizze_57666 (define_skyline_space_doublezisegred_nonseg_57673zisegred_tblock_sizze_57666)\n    #define chunk_sizze_71941 (define_skyline_space_doublezisegred_nonseg_57673zichunk_sizze_71941)\n    \n    volatile __local unsigned char *sync_arr_mem_71954_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_71954_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_71952_backing_0 = &shared_mem[sync_arr_mem_71954_backing_1_offset];\n    const int64_t red_arr_i64_mem_71952_backing_0_offset = sync_arr_mem_71954_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_57666 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_57666, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71948;\n    int32_t tblock_sizze_71951;\n    int32_t wave_sizze_71950;\n    int32_t block_id_71949;\n    int32_t global_tid_71947;\n    int64_t phys_tid_57673;\n    __local unsigned char *red_arr_i64_mem_71952;\n    __local unsigned char *sync_arr_mem_71954;\n    int64_t dummy_57671;\n    int64_t gtid_57672;\n    int64_t q_71956;\n    int64_t eta_p_block_res_acc_71957;\n    int64_t eta_p_55913;\n    int64_t eta_p_55914;\n    int64_t tblock_id_in_segment_71961;\n    int64_t block_base_offset_71962;\n    int32_t offset_71965;\n    int32_t skip_waves_71966;\n    int64_t eta_p_71958;\n    int64_t eta_p_71959;\n    int32_t old_counter_71967;\n    bool is_last_block_71968;\n    \n    local_tid_71948 = get_local_id(0);\n    tblock_sizze_71951 = get_local_size(0);\n    wave_sizze_71950 = LOCKSTEP_WIDTH;\n    block_id_71949 = get_tblock_id(0);\n    global_ti",
                                    "d_71947 = block_id_71949 * tblock_sizze_71951 + local_tid_71948;\n    phys_tid_57673 = sext_i32_i64(global_tid_71947);\n    red_arr_i64_mem_71952 = (__local unsigned char *) red_arr_i64_mem_71952_backing_0;\n    sync_arr_mem_71954 = (__local unsigned char *) sync_arr_mem_71954_backing_1;\n    dummy_57671 = (int64_t) 0;\n    gtid_57672 = (int64_t) 0;\n    q_71956 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_57666 * num_tblocks_57668)) * chunk_sizze_71941);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_71957 = (int64_t) 1;\n    }\n    tblock_id_in_segment_71961 = squot64(phys_tid_57673, segred_tblock_sizze_57666);\n    block_base_offset_71962 = tblock_id_in_segment_71961 * q_71956 * segred_tblock_sizze_57666;\n    for (int64_t i_71963 = 0; i_71963 < q_71956; i_71963++) {\n        int64_t block_offset_71964 = block_base_offset_71962 + i_71963 * segred_tblock_sizze_57666;\n        \n        gtid_57672 = phys_tid_57673 + num_threads_71946 * i_71963;\n        if (slt64(gtid_57672, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_57655 = ((__global int64_t *) mem_68627)[gtid_57672];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_55913 = eta_p_block_res_acc_71957;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_55914 = x_57655;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t zt_res_55915 = mul64(eta_p_55913, eta_p_55914);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_71957 = zt_res_55915;\n                        }\n                    }\n              ", "  }\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948)] = eta_p_block_res_acc_71957;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_71966 = 1;\n    offset_71965 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_71948, sext_i64_i32(segred_tblock_sizze_57666))) {\n            eta_p_71958 = ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948 + offset_71965)];\n        }\n    }\n    offset_71965 = 1;\n    while (slt32(offset_71965, wave_sizze_71950)) {\n        if (slt32(local_tid_71948 + offset_71965, sext_i64_i32(segred_tblock_sizze_57666)) && ((local_tid_71948 - squot32(local_tid_71948, wave_sizze_71950) * wave_sizze_71950) & (2 * offset_71965 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_71959 = ((volatile __local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948 + offset_71965)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_71960 = mul64(eta_p_71958, eta_p_71959);\n                \n                eta_p_71958 = zt_res_71960;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948)] = eta_p_71958;\n            }\n        }\n        offset_71965 *= 2;\n    }\n    while (slt32(skip_waves_71966, squot32(sext_i64_i32(segred_tblock_sizze_57666) + wave_sizze_71950 - 1, wave_sizze_71950))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_71965 = skip_waves_71966 * wave_sizze_71950;\n        if (slt32(local_tid_71948 + offset_71965, sext_i64_i32(segred_tblock_sizze_57666)) && ((local_tid_71948 - squot32(local_tid_71948, wave_sizze_71950) * wave_sizze_71950) == 0 && (squot32(local_tid_71948, wave_sizze_71950) & (2 * skip_waves_7", "1966 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_71959 = ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948 + offset_71965)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_71960 = mul64(eta_p_71958, eta_p_71959);\n                \n                eta_p_71958 = zt_res_71960;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948)] = eta_p_71958;\n            }\n        }\n        skip_waves_71966 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_71948) == (int64_t) 0) {\n            eta_p_block_res_acc_71957 = eta_p_71958;\n        } else {\n            eta_p_block_res_acc_71957 = (int64_t) 1;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_71948 == 0) {\n            ((__global int64_t *) segred_tmp_mem_71944)[sext_i32_i64(block_id_71949)] = eta_p_block_res_acc_71957;\n            mem_fence_global();\n            old_counter_71967 = atomic_add_i32_global(&((volatile __global int *) counters_mem_71942)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_71954)[(int64_t) 0] = old_counter_71967 == sext_i64_i32(num_tblocks_57668 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_71968 = ((__local bool *) sync_arr_mem_71954)[(int64_t) 0];\n    if (is_last_block_71968) {\n        if (local_tid_71948 == 0) {\n            old_counter_71967 = atomic_add_i32_global(&((volatile __global int *) counters_mem_71942)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_57668));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_71969 = sdiv_up64(num_tblocks_57668, segred",
                                    "_tblock_sizze_57666);\n            \n            eta_p_55913 = (int64_t) 1;\n            for (int64_t i_71970 = 0; i_71970 < read_per_thread_71969; i_71970++) {\n                int64_t block_res_id_71971 = sext_i32_i64(local_tid_71948) * read_per_thread_71969 + i_71970;\n                int64_t index_of_block_res_71972 = block_res_id_71971;\n                \n                if (slt64(block_res_id_71971, num_tblocks_57668)) {\n                    eta_p_55914 = ((__global int64_t *) segred_tmp_mem_71944)[index_of_block_res_71972];\n                    \n                    int64_t zt_res_55915 = mul64(eta_p_55913, eta_p_55914);\n                    \n                    eta_p_55913 = zt_res_55915;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948)] = eta_p_55913;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_71973;\n            int32_t skip_waves_71974 = 1;\n            int64_t eta_p_71958;\n            int64_t eta_p_71959;\n            \n            offset_71973 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_71948, sext_i64_i32(segred_tblock_sizze_57666))) {\n                    eta_p_71958 = ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948 + offset_71973)];\n                }\n            }\n            offset_71973 = 1;\n            while (slt32(offset_71973, wave_sizze_71950)) {\n                if (slt32(local_tid_71948 + offset_71973, sext_i64_i32(segred_tblock_sizze_57666)) && ((local_tid_71948 - squot32(local_tid_71948, wave_sizze_71950) * wave_sizze_71950) & (2 * offset_71973 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_71959 = ((volatile __local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948 + offset_71973)];\n                    }\n                    // apply reduction ", "operation\n                    {\n                        int64_t zt_res_71960 = mul64(eta_p_71958, eta_p_71959);\n                        \n                        eta_p_71958 = zt_res_71960;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948)] = eta_p_71958;\n                    }\n                }\n                offset_71973 *= 2;\n            }\n            while (slt32(skip_waves_71974, squot32(sext_i64_i32(segred_tblock_sizze_57666) + wave_sizze_71950 - 1, wave_sizze_71950))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_71973 = skip_waves_71974 * wave_sizze_71950;\n                if (slt32(local_tid_71948 + offset_71973, sext_i64_i32(segred_tblock_sizze_57666)) && ((local_tid_71948 - squot32(local_tid_71948, wave_sizze_71950) * wave_sizze_71950) == 0 && (squot32(local_tid_71948, wave_sizze_71950) & (2 * skip_waves_71974 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_71959 = ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948 + offset_71973)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_71960 = mul64(eta_p_71958, eta_p_71959);\n                        \n                        eta_p_71958 = zt_res_71960;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_71952)[sext_i32_i64(local_tid_71948)] = eta_p_71958;\n                    }\n                }\n                skip_waves_71974 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_71948 == 0) {\n                    ((__global int64_t *) mem_68629)[(int64_t) 0] = eta_p_71958;", "\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_57666\n    #undef chunk_sizze_71941\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegscan_57643_dim1, 1, 1)\nvoid define_skyline_space_doublezisegscan_57643(__global int *global_failure, int64_t dim_26352, int64_t num_tblocks_57640, int64_t num_virt_blocks_71665, int64_t num_virt_threads_71666, __global unsigned char *min_per_dim_mem_68610, __global unsigned char *max_per_dim_mem_68611, __global unsigned char *grid_partitions_per_dim_mem_68612, __global unsigned char *mem_68616, __global unsigned char *mem_68618, __global unsigned char *mem_68620, __global unsigned char *status_flags_mem_71667, __global unsigned char *aggregates_mem_71689, __global unsigned char *incprefixes_mem_71691, __global unsigned char *global_dynid_mem_71693)\n{\n    #define segscan_tblock_sizze_57638 (define_skyline_space_doublezisegscan_57643zisegscan_tblock_sizze_57638)\n    #define chunk_sizze_71664 (define_skyline_space_doublezisegscan_57643zichunk_sizze_71664)\n    \n    volatile __local unsigned char *local_mem_71723_backing_0 = &shared_mem[0];\n    const int64_t local_mem_71723_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57638), chunk_sizze_71664 * segscan_tblock_sizze_57638 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57638), chunk_sizze_71664 * segscan_tblock_sizze_57638 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71716;\n    int32_t tblock_sizze_71719;\n    int32_t wave_sizze_71718;\n    int32_t block_id_71717;\n    int32_t global_tid_71715;\n    int64_t phys_tid_57643;\n    int32_t chunk_sizze_32b_71720;\n    int64_t byte_offsets_71721;\n    int64_t warp_byte_offset_71722;\n    __local unsigned char *local_mem_71723;\n    int64_t trans_arr_len_71724;\n    int64_t phys_block_id_71730;\n    int64_t virtloop",
                                    "_bound_71731;\n    \n    local_tid_71716 = get_local_id(0);\n    tblock_sizze_71719 = get_local_size(0);\n    wave_sizze_71718 = LOCKSTEP_WIDTH;\n    block_id_71717 = get_tblock_id(0);\n    global_tid_71715 = block_id_71717 * tblock_sizze_71719 + local_tid_71716;\n    phys_tid_57643 = sext_i32_i64(global_tid_71715);\n    chunk_sizze_32b_71720 = sext_i64_i32(chunk_sizze_71664);\n    byte_offsets_71721 = segscan_tblock_sizze_57638 * (int64_t) 8;\n    warp_byte_offset_71722 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_71723 = (__local unsigned char *) local_mem_71723_backing_0;\n    trans_arr_len_71724 = chunk_sizze_71664 * segscan_tblock_sizze_57638;\n    phys_block_id_71730 = get_tblock_id(0);\n    virtloop_bound_71731 = sdiv_up64(num_virt_blocks_71665 - phys_block_id_71730, num_tblocks_57640);\n    for (int64_t virtloop_i_71732 = 0; virtloop_i_71732 < virtloop_bound_71731; virtloop_i_71732++) {\n        int64_t dynamic_id_71733;\n        int64_t block_offset_71734;\n        int64_t sgm_idx_71735;\n        int32_t boundary_71736;\n        int32_t segsizze_compact_71737;\n        int64_t private_mem_71738[chunk_sizze_71664];\n        int64_t thd_offset_71740;\n        int64_t acc_71756;\n        int64_t prefix_71766;\n        bool block_new_sgm_71767;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_71716 == 0) {\n                dynamic_id_71733 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_71693)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_71723)[(int64_t) 0] = dynamic_id_71733;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_71733 == num_virt_blocks_71665 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_71693)[(int64_t) 0] = 0;\n                  ", "  }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_71733 = ((__local int32_t *) local_mem_71723)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_71734 = dynamic_id_71733 * chunk_sizze_71664 * segscan_tblock_sizze_57638;\n        sgm_idx_71735 = smod64(block_offset_71734, dim_26352);\n        boundary_71736 = sext_i64_i32(smin64(chunk_sizze_71664 * segscan_tblock_sizze_57638, dim_26352 - sgm_idx_71735));\n        segsizze_compact_71737 = sext_i64_i32(smin64(chunk_sizze_71664 * segscan_tblock_sizze_57638, dim_26352));\n        thd_offset_71740 = block_offset_71734 + sext_i32_i64(local_tid_71716);\n        // Load and map\n        {\n            for (int64_t i_71741 = 0; i_71741 < chunk_sizze_71664; i_71741++) {\n                int64_t virt_tid_71742 = thd_offset_71740 + i_71741 * segscan_tblock_sizze_57638;\n                int64_t slice_71743 = dim_26352;\n                int64_t gtid_57642 = virt_tid_71742;\n                int64_t remnant_71744 = virt_tid_71742 - gtid_57642;\n                \n                if (slt64(virt_tid_71742, dim_26352)) {\n                    int64_t x_56087 = ((__global int64_t *) grid_partitions_per_dim_mem_68612)[gtid_57642];\n                    double eta_p_56088 = ((__global double *) min_per_dim_mem_68610)[gtid_57642];\n                    double eta_p_56089 = ((__global double *) max_per_dim_mem_68611)[gtid_57642];\n                    double i64_res_56092 = sitofp_i64_f64(x_56087);\n                    double defunc_0_minus_res_56094 = eta_p_56089 - eta_p_56088;\n                    double defunc_0_over_res_56095 = defunc_0_minus_res_56094 / i64_res_56092;\n                    \n                    ((__global int64_t *) mem_68618)[gtid_57642] = x_56087;\n                    ((__global double *) mem_68620)[gtid_57642] = defunc_0_over_res_56095;\n                    private_mem_71738[i_71741] = x_56087;\n                } else {\n                    private_mem_71738[i_71741] = (", "int64_t) 1;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_71745 = 0; i_71745 < chunk_sizze_71664; i_71745++) {\n                int64_t sharedIdx_71746 = sext_i32_i64(local_tid_71716) + i_71745 * segscan_tblock_sizze_57638;\n                int64_t tmp_71747 = private_mem_71738[i_71745];\n                \n                ((__local int64_t *) local_mem_71723)[sharedIdx_71746] = tmp_71747;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_71748 = 0; i_71748 < chunk_sizze_71664; i_71748++) {\n                int64_t sharedIdx_71749 = sext_i32_i64(local_tid_71716) * chunk_sizze_71664 + i_71748;\n                int64_t tmp_71750 = ((__local int64_t *) local_mem_71723)[sharedIdx_71749];\n                \n                private_mem_71738[i_71748] = tmp_71750;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_71751 = 0; i_71751 < chunk_sizze_71664 - (int64_t) 1; i_71751++) {\n                int64_t eta_p_48150;\n                int64_t eta_p_48151;\n                \n                eta_p_48150 = private_mem_71738[i_71751];\n                eta_p_48151 = private_mem_71738[i_71751 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_48152 = mul64(eta_p_48150, eta_p_48151);\n                \n                private_mem_71738[i_71751 + (int64_t) 1] = defunc_0_op_res_48152;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_71752 = private_mem_71738[chunk_sizze_71664 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)] = tmp_71752;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_71753;\n            int64_t eta_p_71754;\n            int64_t eta_p_71757;\n            int64_",
                                    "t eta_p_71758;\n            bool ltid_in_bounds_71760 = slt64(sext_i32_i64(local_tid_71716), num_virt_threads_71666);\n            int32_t skip_threads_71761;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_71760) {\n                    eta_p_71754 = ((volatile __local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)];\n                    if ((local_tid_71716 - squot32(local_tid_71716, 32) * 32) == 0) {\n                        eta_p_71753 = eta_p_71754;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_71761 = 1;\n                while (slt32(skip_threads_71761, 32)) {\n                    bool thread_active_71762 = sle32(skip_threads_71761, local_tid_71716 - squot32(local_tid_71716, 32) * 32) && ltid_in_bounds_71760;\n                    \n                    if (thread_active_71762) {\n                        // read operands\n                        {\n                            eta_p_71753 = ((volatile __local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716) - sext_i32_i64(skip_threads_71761)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_71762) {\n                            int64_t defunc_0_op_res_71755 = mul64(eta_p_71753, eta_p_71754);\n                            \n                            eta_p_71753 = defunc_0_op_res_71755;\n                        }\n                    }\n                    if (sle32(wave_sizze_71718, skip_threads_71761)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_71762) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)] = eta_p_71753;\n                            eta_p_", "71754 = eta_p_71753;\n                        }\n                    }\n                    if (sle32(wave_sizze_71718, skip_threads_71761)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_71761 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_71716 - squot32(local_tid_71716, 32) * 32) == 31 && ltid_in_bounds_71760) {\n                    ((volatile __local int64_t *) local_mem_71723)[sext_i32_i64(squot32(local_tid_71716, 32))] = eta_p_71753;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_71763;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_71716, 32) == 0 && ltid_in_bounds_71760) {\n                        eta_p_71758 = ((volatile __local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)];\n                        if ((local_tid_71716 - squot32(local_tid_71716, 32) * 32) == 0) {\n                            eta_p_71757 = eta_p_71758;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_71763 = 1;\n                    while (slt32(skip_threads_71763, 32)) {\n                        bool thread_active_71764 = sle32(skip_threads_71763, local_tid_71716 - squot32(local_tid_71716, 32) * 32) && (squot32(local_tid_71716, 32) == 0 && ltid_in_bounds_71760);\n                        \n                        if (thread_active_71764) {\n                            // read operands\n                            {\n                                eta_p_71757 = ((volatile __local int64_t *) local_mem_71723)[", "sext_i32_i64(local_tid_71716) - sext_i32_i64(skip_threads_71763)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_71764) {\n                                int64_t defunc_0_op_res_71759 = mul64(eta_p_71757, eta_p_71758);\n                                \n                                eta_p_71757 = defunc_0_op_res_71759;\n                            }\n                        }\n                        if (sle32(wave_sizze_71718, skip_threads_71763)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_71764) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)] = eta_p_71757;\n                                eta_p_71758 = eta_p_71757;\n                            }\n                        }\n                        if (sle32(wave_sizze_71718, skip_threads_71763)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_71763 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_71765 = squot32(local_tid_71716, 32) == 0 || !ltid_in_bounds_71760;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_71765) {\n                        eta_p_71754 = eta_p_71753;\n                        eta_p_71753 = ((__local int64_t *) local_mem_71723)[sext_i32_i64(squot32(local_tid_71716, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_71765) {\n                        int64_t defunc_0_op_res_71",
                                    "755 = mul64(eta_p_71753, eta_p_71754);\n                        \n                        eta_p_71753 = defunc_0_op_res_71755;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_71765) {\n                        ((__local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)] = eta_p_71753;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_71716, 32) == 0 && ltid_in_bounds_71760) {\n                    ((__local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)] = eta_p_71754;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_71716 == 0) {\n                acc_71756 = ((__local int64_t *) local_mem_71723)[segscan_tblock_sizze_57638 - (int64_t) 1];\n            } else {\n                acc_71756 = ((__local int64_t *) local_mem_71723)[sext_i32_i64(local_tid_71716) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_71766 = (int64_t) 1;\n        block_new_sgm_71767 = sgm_idx_71735 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_71767 && local_tid_71716 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_71691)[dynamic_id_71733] = acc_71756;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_71667)[dynamic_id_71733] = (int8_t) 2;\n                acc_71756 = (int64_t) 1;\n            }\n            if (!block_new_sgm_71767 && slt32(local_tid_71716, wave_sizze_71718)) {\n                if (local_tid_71716 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_71689)[dynamic_id_71733] = acc_71756;\n                    mem_fence_global();\n                    ((volatile __global int8_t *)", " status_flags_mem_71667)[dynamic_id_71733] = (int8_t) 1;\n                    \n                    int8_t tmp_71768 = ((volatile __global int8_t *) status_flags_mem_71667)[dynamic_id_71733 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_71723)[(int64_t) 0] = tmp_71768;\n                }\n                mem_fence_local();\n                \n                int8_t status_71769 = ((__local int8_t *) local_mem_71723)[(int64_t) 0];\n                \n                if (status_71769 == (int8_t) 2) {\n                    if (local_tid_71716 == 0) {\n                        prefix_71766 = ((volatile __global int64_t *) incprefixes_mem_71691)[dynamic_id_71733 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_71770 = sext_i64_i32(dynamic_id_71733 - sext_i32_i64(wave_sizze_71718));\n                    \n                    while (slt32(wave_sizze_71718 * -1, readOffset_71770)) {\n                        int32_t read_i_71771 = readOffset_71770 + local_tid_71716;\n                        int64_t aggr_71772 = (int64_t) 1;\n                        int8_t flag_71773 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_71771)) {\n                            flag_71773 = ((volatile __global int8_t *) status_flags_mem_71667)[sext_i32_i64(read_i_71771)];\n                            if (flag_71773 == (int8_t) 2) {\n                                aggr_71772 = ((volatile __global int64_t *) incprefixes_mem_71691)[sext_i32_i64(read_i_71771)];\n                            } else if (flag_71773 == (int8_t) 1) {\n                                aggr_71772 = ((volatile __global int64_t *) aggregates_mem_71689)[sext_i32_i64(read_i_71771)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_71723)[(int64_t) 4 + sext_i32_i64(local_tid_71716)] = aggr_71772;\n                        ((__local int8_t *) local_mem_71723)[sext_i", "32_i64(local_tid_71716)] = flag_71773;\n                        flag_71773 = ((__local int8_t *) local_mem_71723)[sext_i32_i64(wave_sizze_71718) - (int64_t) 1];\n                        if (slt8(flag_71773, (int8_t) 2)) {\n                            int8_t flg_x_71777;\n                            int8_t flg_y_71778;\n                            int64_t eta_p_71774;\n                            int64_t eta_p_71775;\n                            int32_t skip_threads_71779;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_71778 = ((volatile __local int8_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)];\n                                eta_p_71775 = ((volatile __local int64_t *) local_mem_71723)[(int64_t) 4 + sext_i32_i64(local_tid_71716)];\n                                if ((local_tid_71716 - squot32(local_tid_71716, 32) * 32) == 0) {\n                                    eta_p_71774 = eta_p_71775;\n                                    flg_x_71777 = flg_y_71778;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_71779 = 1;\n                                while (slt32(skip_threads_71779, 32)) {\n                                    if (sle32(skip_threads_71779, local_tid_71716 - squot32(local_tid_71716, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_71777 = ((volatile __local int8_t *) local_mem_71723)[sext_i32_i64(local_tid_71716) - sext_i32_i64(skip_threads_71779)];\n                                            eta_p_71774 = ((volatile __local int64_t *) local_mem_71723)[(int64_t) 4 + (sext_i32_i64(local_tid_71716) - sext_i32_i64(skip_threads_71779))];\n                                        }\n    ",
                                    "                                    // perform operation\n                                        {\n                                            if (flg_y_71778 == (int8_t) 2 || flg_y_71778 == (int8_t) 0) {\n                                                flg_x_71777 = flg_y_71778;\n                                                eta_p_71774 = eta_p_71775;\n                                            } else {\n                                                int64_t defunc_0_op_res_71776 = mul64(eta_p_71774, eta_p_71775);\n                                                \n                                                eta_p_71774 = defunc_0_op_res_71776;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_71723)[sext_i32_i64(local_tid_71716)] = flg_x_71777;\n                                            flg_y_71778 = flg_x_71777;\n                                            ((volatile __local int64_t *) local_mem_71723)[(int64_t) 4 + sext_i32_i64(local_tid_71716)] = eta_p_71774;\n                                            eta_p_71775 = eta_p_71774;\n                                        }\n                                    }\n                                    skip_threads_71779 *= 2;\n                                }\n                            }\n                        }\n                        flag_71773 = ((__local int8_t *) local_mem_71723)[sext_i32_i64(wave_sizze_71718) - (int64_t) 1];\n                        aggr_71772 = ((__local int64_t *) local_mem_71723)[(int64_t) 4 + (sext_i32_i64(wave_sizze_71718) - (int64_t) 1)];\n                        if (flag_71773 == (int8_t) 2) {\n                            readOffset_71770 = wave_sizze_71718 * -1;\n                        } else if (flag_71773 == (int8_t) 1) {\n                            readOffset_71770 -= wav", "e_sizze_71718;\n                        }\n                        if (slt8((int8_t) 0, flag_71773)) {\n                            int64_t eta_p_71780 = aggr_71772;\n                            int64_t eta_p_71781 = prefix_71766;\n                            int64_t defunc_0_op_res_71782 = mul64(eta_p_71780, eta_p_71781);\n                            \n                            prefix_71766 = defunc_0_op_res_71782;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_71716 == 0) {\n                    if (boundary_71736 == sext_i64_i32(segscan_tblock_sizze_57638 * chunk_sizze_71664)) {\n                        int64_t eta_p_71783 = prefix_71766;\n                        int64_t eta_p_71784 = acc_71756;\n                        int64_t defunc_0_op_res_71785 = mul64(eta_p_71783, eta_p_71784);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_71691)[dynamic_id_71733] = defunc_0_op_res_71785;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_71667)[dynamic_id_71733] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_71723)[(int64_t) 4] = prefix_71766;\n                    acc_71756 = (int64_t) 1;\n                }\n            }\n            if (!(dynamic_id_71733 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_71766 = ((__local int64_t *) local_mem_71723)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_71786;\n            int64_t eta_p_71787;\n            int64_t eta_p_71789 = prefix_71766;\n            int64_t eta_p_71790 = acc_71756;\n            \n            if (slt32(local_tid_71716 * chunk_sizze_32b_71720, boundary_71736) && !block_new_sgm_71767) {\n                int64_t defunc_0_op_res_71791 = mul64(eta_p_717", "89, eta_p_71790);\n                \n                eta_p_71786 = defunc_0_op_res_71791;\n            } else {\n                eta_p_71786 = acc_71756;\n            }\n            \n            int32_t stopping_point_71792 = segsizze_compact_71737 - srem32(local_tid_71716 * chunk_sizze_32b_71720 - 1 + segsizze_compact_71737 - boundary_71736, segsizze_compact_71737);\n            \n            for (int64_t i_71793 = 0; i_71793 < chunk_sizze_71664; i_71793++) {\n                if (slt32(sext_i64_i32(i_71793), stopping_point_71792 - 1)) {\n                    eta_p_71787 = private_mem_71738[i_71793];\n                    \n                    int64_t defunc_0_op_res_71788 = mul64(eta_p_71786, eta_p_71787);\n                    \n                    private_mem_71738[i_71793] = defunc_0_op_res_71788;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_71794 = 0; i_71794 < chunk_sizze_71664; i_71794++) {\n                int64_t sharedIdx_71795 = sext_i32_i64(local_tid_71716) * chunk_sizze_71664 + i_71794;\n                int64_t tmp_71796 = private_mem_71738[i_71794];\n                \n                ((__local int64_t *) local_mem_71723)[sharedIdx_71795] = tmp_71796;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_71797 = 0; i_71797 < chunk_sizze_71664; i_71797++) {\n                int64_t flat_idx_71798 = thd_offset_71740 + i_71797 * segscan_tblock_sizze_57638;\n                int64_t slice_71799 = dim_26352;\n                int64_t gtid_57642 = flat_idx_71798;\n                int64_t remnant_71800 = flat_idx_71798 - gtid_57642;\n                \n                if (slt64(flat_idx_71798, dim_26352)) {\n                    int64_t tmp_71801 = ((__local int64_t *) local_mem_71723)[flat_idx_71798 - block_offset_71734];\n                    \n                    ((__global int64_t *) mem_68616)[gtid_57642] = tmp_71801;\n                }\n         ",
                                    "   }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_57638\n    #undef chunk_sizze_71664\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegscan_57663_dim1, 1, 1)\nvoid define_skyline_space_doublezisegscan_57663(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, int64_t num_tblocks_57660, int64_t num_virt_blocks_71843, int64_t num_virt_threads_71844, __global unsigned char *angle_partitions_per_dim_mem_68613, __global unsigned char *mem_68625, __global unsigned char *mem_68627, __global unsigned char *status_flags_mem_71845, __global unsigned char *aggregates_mem_71847, __global unsigned char *incprefixes_mem_71849, __global unsigned char *global_dynid_mem_71851)\n{\n    #define segscan_tblock_sizze_57658 (define_skyline_space_doublezisegscan_57663zisegscan_tblock_sizze_57658)\n    #define chunk_sizze_71842 (define_skyline_space_doublezisegscan_57663zichunk_sizze_71842)\n    \n    volatile __local unsigned char *local_mem_71861_backing_0 = &shared_mem[0];\n    const int64_t local_mem_71861_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57658), chunk_sizze_71842 * segscan_tblock_sizze_57658 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57658), chunk_sizze_71842 * segscan_tblock_sizze_57658 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71854;\n    int32_t tblock_sizze_71857;\n    int32_t wave_sizze_71856;\n    int32_t block_id_71855;\n    int32_t global_tid_71853;\n    int64_t phys_tid_57663;\n    int32_t chunk_sizze_32b_71858;\n    int64_t byte_offsets_71859;\n    int64_t warp_byte_offset_71860;\n    __local unsigned char *local_mem_71861;\n    int64_t trans_arr_len_71862;\n    int64_t phys_block_id_71868;\n    int64_t virtloop_bound_71869;\n    \n    local_tid_71854 = get_local_id(0);\n    tblock_sizze_71857 = ge", "t_local_size(0);\n    wave_sizze_71856 = LOCKSTEP_WIDTH;\n    block_id_71855 = get_tblock_id(0);\n    global_tid_71853 = block_id_71855 * tblock_sizze_71857 + local_tid_71854;\n    phys_tid_57663 = sext_i32_i64(global_tid_71853);\n    chunk_sizze_32b_71858 = sext_i64_i32(chunk_sizze_71842);\n    byte_offsets_71859 = segscan_tblock_sizze_57658 * (int64_t) 8;\n    warp_byte_offset_71860 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_71861 = (__local unsigned char *) local_mem_71861_backing_0;\n    trans_arr_len_71862 = chunk_sizze_71842 * segscan_tblock_sizze_57658;\n    phys_block_id_71868 = get_tblock_id(0);\n    virtloop_bound_71869 = sdiv_up64(num_virt_blocks_71843 - phys_block_id_71868, num_tblocks_57660);\n    for (int64_t virtloop_i_71870 = 0; virtloop_i_71870 < virtloop_bound_71869; virtloop_i_71870++) {\n        int64_t dynamic_id_71871;\n        int64_t block_offset_71872;\n        int64_t sgm_idx_71873;\n        int32_t boundary_71874;\n        int32_t segsizze_compact_71875;\n        int64_t private_mem_71876[chunk_sizze_71842];\n        int64_t thd_offset_71878;\n        int64_t acc_71894;\n        int64_t prefix_71904;\n        bool block_new_sgm_71905;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_71854 == 0) {\n                dynamic_id_71871 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_71851)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_71861)[(int64_t) 0] = dynamic_id_71871;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_71871 == num_virt_blocks_71843 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_71851)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n ", "       dynamic_id_71871 = ((__local int32_t *) local_mem_71861)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_71872 = dynamic_id_71871 * chunk_sizze_71842 * segscan_tblock_sizze_57658;\n        sgm_idx_71873 = smod64(block_offset_71872, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353);\n        boundary_71874 = sext_i64_i32(smin64(chunk_sizze_71842 * segscan_tblock_sizze_57658, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353 - sgm_idx_71873));\n        segsizze_compact_71875 = sext_i64_i32(smin64(chunk_sizze_71842 * segscan_tblock_sizze_57658, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353));\n        thd_offset_71878 = block_offset_71872 + sext_i32_i64(local_tid_71854);\n        // Load and map\n        {\n            for (int64_t i_71879 = 0; i_71879 < chunk_sizze_71842; i_71879++) {\n                int64_t virt_tid_71880 = thd_offset_71878 + i_71879 * segscan_tblock_sizze_57658;\n                int64_t slice_71881 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;\n                int64_t gtid_57662 = virt_tid_71880;\n                int64_t remnant_71882 = virt_tid_71880 - gtid_57662;\n                \n                if (slt64(virt_tid_71880, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353)) {\n                    int64_t x_56099 = ((__global int64_t *) angle_partitions_per_dim_mem_68613)[gtid_57662];\n                    \n                    ((__global int64_t *) mem_68627)[gtid_57662] = x_56099;\n                    private_mem_71876[i_71879] = x_56099;\n                } else {\n                    private_mem_71876[i_71879] = (int64_t) 1;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_71883 = 0; i_71883 < chunk_sizze_71842; i_71883++) {\n                int64_t sharedIdx_71884 = sext_i32_i64(local_tid_71854) + i_71883 * segscan_tblock_sizze_57658;\n                int64_t tmp_71885 = private_mem_71876[i_71883];\n                \n                ((__local int64_t *) local_mem_71861)[sharedIdx_718",
                                    "84] = tmp_71885;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_71886 = 0; i_71886 < chunk_sizze_71842; i_71886++) {\n                int64_t sharedIdx_71887 = sext_i32_i64(local_tid_71854) * chunk_sizze_71842 + i_71886;\n                int64_t tmp_71888 = ((__local int64_t *) local_mem_71861)[sharedIdx_71887];\n                \n                private_mem_71876[i_71886] = tmp_71888;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_71889 = 0; i_71889 < chunk_sizze_71842 - (int64_t) 1; i_71889++) {\n                int64_t eta_p_48166;\n                int64_t eta_p_48167;\n                \n                eta_p_48166 = private_mem_71876[i_71889];\n                eta_p_48167 = private_mem_71876[i_71889 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_48168 = mul64(eta_p_48166, eta_p_48167);\n                \n                private_mem_71876[i_71889 + (int64_t) 1] = defunc_0_op_res_48168;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_71890 = private_mem_71876[chunk_sizze_71842 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = tmp_71890;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_71891;\n            int64_t eta_p_71892;\n            int64_t eta_p_71895;\n            int64_t eta_p_71896;\n            bool ltid_in_bounds_71898 = slt64(sext_i32_i64(local_tid_71854), num_virt_threads_71844);\n            int32_t skip_threads_71899;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_71898) {\n                    eta_p_71892 = ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)];\n                    if ((local_tid_71854 - squot32(local_tid_71854, 32) * 32) == 0) {\n    ", "                    eta_p_71891 = eta_p_71892;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_71899 = 1;\n                while (slt32(skip_threads_71899, 32)) {\n                    bool thread_active_71900 = sle32(skip_threads_71899, local_tid_71854 - squot32(local_tid_71854, 32) * 32) && ltid_in_bounds_71898;\n                    \n                    if (thread_active_71900) {\n                        // read operands\n                        {\n                            eta_p_71891 = ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854) - sext_i32_i64(skip_threads_71899)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_71900) {\n                            int64_t defunc_0_op_res_71893 = mul64(eta_p_71891, eta_p_71892);\n                            \n                            eta_p_71891 = defunc_0_op_res_71893;\n                        }\n                    }\n                    if (sle32(wave_sizze_71856, skip_threads_71899)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_71900) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = eta_p_71891;\n                            eta_p_71892 = eta_p_71891;\n                        }\n                    }\n                    if (sle32(wave_sizze_71856, skip_threads_71899)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_71899 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_71854 - squot32(local_t", "id_71854, 32) * 32) == 31 && ltid_in_bounds_71898) {\n                    ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(squot32(local_tid_71854, 32))] = eta_p_71891;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_71901;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_71854, 32) == 0 && ltid_in_bounds_71898) {\n                        eta_p_71896 = ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)];\n                        if ((local_tid_71854 - squot32(local_tid_71854, 32) * 32) == 0) {\n                            eta_p_71895 = eta_p_71896;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_71901 = 1;\n                    while (slt32(skip_threads_71901, 32)) {\n                        bool thread_active_71902 = sle32(skip_threads_71901, local_tid_71854 - squot32(local_tid_71854, 32) * 32) && (squot32(local_tid_71854, 32) == 0 && ltid_in_bounds_71898);\n                        \n                        if (thread_active_71902) {\n                            // read operands\n                            {\n                                eta_p_71895 = ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854) - sext_i32_i64(skip_threads_71901)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_71902) {\n                                int64_t defunc_0_op_res_71897 = mul64(eta_p_71895, eta_p_71896);\n                                \n                                eta_p_71895 = defunc_0_op_res_71897;\n                           ",
                                    " }\n                        }\n                        if (sle32(wave_sizze_71856, skip_threads_71901)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_71902) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = eta_p_71895;\n                                eta_p_71896 = eta_p_71895;\n                            }\n                        }\n                        if (sle32(wave_sizze_71856, skip_threads_71901)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_71901 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_71903 = squot32(local_tid_71854, 32) == 0 || !ltid_in_bounds_71898;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_71903) {\n                        eta_p_71892 = eta_p_71891;\n                        eta_p_71891 = ((__local int64_t *) local_mem_71861)[sext_i32_i64(squot32(local_tid_71854, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_71903) {\n                        int64_t defunc_0_op_res_71893 = mul64(eta_p_71891, eta_p_71892);\n                        \n                        eta_p_71891 = defunc_0_op_res_71893;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_71903) {\n                        ((__local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = eta_p_71891;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n    ", "        // restore correct values for first block\n            {\n                if (squot32(local_tid_71854, 32) == 0 && ltid_in_bounds_71898) {\n                    ((__local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = eta_p_71892;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_71854 == 0) {\n                acc_71894 = ((__local int64_t *) local_mem_71861)[segscan_tblock_sizze_57658 - (int64_t) 1];\n            } else {\n                acc_71894 = ((__local int64_t *) local_mem_71861)[sext_i32_i64(local_tid_71854) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_71904 = (int64_t) 1;\n        block_new_sgm_71905 = sgm_idx_71873 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_71905 && local_tid_71854 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_71849)[dynamic_id_71871] = acc_71894;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_71845)[dynamic_id_71871] = (int8_t) 2;\n                acc_71894 = (int64_t) 1;\n            }\n            if (!block_new_sgm_71905 && slt32(local_tid_71854, wave_sizze_71856)) {\n                if (local_tid_71854 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_71847)[dynamic_id_71871] = acc_71894;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_71845)[dynamic_id_71871] = (int8_t) 1;\n                    \n                    int8_t tmp_71906 = ((volatile __global int8_t *) status_flags_mem_71845)[dynamic_id_71871 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_71861)[(int64_t) 0] = tmp_71906;\n                }\n                mem_fence_local();\n                \n                int8_t status_71907 = ((__local int8_t *) local_mem_71861)[(int64_t) 0];", "\n                \n                if (status_71907 == (int8_t) 2) {\n                    if (local_tid_71854 == 0) {\n                        prefix_71904 = ((volatile __global int64_t *) incprefixes_mem_71849)[dynamic_id_71871 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_71908 = sext_i64_i32(dynamic_id_71871 - sext_i32_i64(wave_sizze_71856));\n                    \n                    while (slt32(wave_sizze_71856 * -1, readOffset_71908)) {\n                        int32_t read_i_71909 = readOffset_71908 + local_tid_71854;\n                        int64_t aggr_71910 = (int64_t) 1;\n                        int8_t flag_71911 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_71909)) {\n                            flag_71911 = ((volatile __global int8_t *) status_flags_mem_71845)[sext_i32_i64(read_i_71909)];\n                            if (flag_71911 == (int8_t) 2) {\n                                aggr_71910 = ((volatile __global int64_t *) incprefixes_mem_71849)[sext_i32_i64(read_i_71909)];\n                            } else if (flag_71911 == (int8_t) 1) {\n                                aggr_71910 = ((volatile __global int64_t *) aggregates_mem_71847)[sext_i32_i64(read_i_71909)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_71861)[(int64_t) 4 + sext_i32_i64(local_tid_71854)] = aggr_71910;\n                        ((__local int8_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = flag_71911;\n                        flag_71911 = ((__local int8_t *) local_mem_71861)[sext_i32_i64(wave_sizze_71856) - (int64_t) 1];\n                        if (slt8(flag_71911, (int8_t) 2)) {\n                            int8_t flg_x_71915;\n                            int8_t flg_y_71916;\n                            int64_t eta_p_71912;\n                            int64_t eta_p_71913;\n                            int32_t skip_threads_71917;\n     ",
                                    "                       \n                            // read input for in-block scan\n                            {\n                                flg_y_71916 = ((volatile __local int8_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)];\n                                eta_p_71913 = ((volatile __local int64_t *) local_mem_71861)[(int64_t) 4 + sext_i32_i64(local_tid_71854)];\n                                if ((local_tid_71854 - squot32(local_tid_71854, 32) * 32) == 0) {\n                                    eta_p_71912 = eta_p_71913;\n                                    flg_x_71915 = flg_y_71916;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_71917 = 1;\n                                while (slt32(skip_threads_71917, 32)) {\n                                    if (sle32(skip_threads_71917, local_tid_71854 - squot32(local_tid_71854, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_71915 = ((volatile __local int8_t *) local_mem_71861)[sext_i32_i64(local_tid_71854) - sext_i32_i64(skip_threads_71917)];\n                                            eta_p_71912 = ((volatile __local int64_t *) local_mem_71861)[(int64_t) 4 + (sext_i32_i64(local_tid_71854) - sext_i32_i64(skip_threads_71917))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_71916 == (int8_t) 2 || flg_y_71916 == (int8_t) 0) {\n                                                flg_x_71915 = flg_y_71916;\n                                                eta_p_71912 = eta_p_71913;\n                                            } else {\n                                                int64_t defunc_0_op", "_res_71914 = mul64(eta_p_71912, eta_p_71913);\n                                                \n                                                eta_p_71912 = defunc_0_op_res_71914;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_71861)[sext_i32_i64(local_tid_71854)] = flg_x_71915;\n                                            flg_y_71916 = flg_x_71915;\n                                            ((volatile __local int64_t *) local_mem_71861)[(int64_t) 4 + sext_i32_i64(local_tid_71854)] = eta_p_71912;\n                                            eta_p_71913 = eta_p_71912;\n                                        }\n                                    }\n                                    skip_threads_71917 *= 2;\n                                }\n                            }\n                        }\n                        flag_71911 = ((__local int8_t *) local_mem_71861)[sext_i32_i64(wave_sizze_71856) - (int64_t) 1];\n                        aggr_71910 = ((__local int64_t *) local_mem_71861)[(int64_t) 4 + (sext_i32_i64(wave_sizze_71856) - (int64_t) 1)];\n                        if (flag_71911 == (int8_t) 2) {\n                            readOffset_71908 = wave_sizze_71856 * -1;\n                        } else if (flag_71911 == (int8_t) 1) {\n                            readOffset_71908 -= wave_sizze_71856;\n                        }\n                        if (slt8((int8_t) 0, flag_71911)) {\n                            int64_t eta_p_71918 = aggr_71910;\n                            int64_t eta_p_71919 = prefix_71904;\n                            int64_t defunc_0_op_res_71920 = mul64(eta_p_71918, eta_p_71919);\n                            \n                            prefix_71904 = defunc_0_op_res_71920;\n                        }\n                        mem_fence_", "local();\n                    }\n                }\n                if (local_tid_71854 == 0) {\n                    if (boundary_71874 == sext_i64_i32(segscan_tblock_sizze_57658 * chunk_sizze_71842)) {\n                        int64_t eta_p_71921 = prefix_71904;\n                        int64_t eta_p_71922 = acc_71894;\n                        int64_t defunc_0_op_res_71923 = mul64(eta_p_71921, eta_p_71922);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_71849)[dynamic_id_71871] = defunc_0_op_res_71923;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_71845)[dynamic_id_71871] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_71861)[(int64_t) 4] = prefix_71904;\n                    acc_71894 = (int64_t) 1;\n                }\n            }\n            if (!(dynamic_id_71871 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_71904 = ((__local int64_t *) local_mem_71861)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_71924;\n            int64_t eta_p_71925;\n            int64_t eta_p_71927 = prefix_71904;\n            int64_t eta_p_71928 = acc_71894;\n            \n            if (slt32(local_tid_71854 * chunk_sizze_32b_71858, boundary_71874) && !block_new_sgm_71905) {\n                int64_t defunc_0_op_res_71929 = mul64(eta_p_71927, eta_p_71928);\n                \n                eta_p_71924 = defunc_0_op_res_71929;\n            } else {\n                eta_p_71924 = acc_71894;\n            }\n            \n            int32_t stopping_point_71930 = segsizze_compact_71875 - srem32(local_tid_71854 * chunk_sizze_32b_71858 - 1 + segsizze_compact_71875 - boundary_71874, segsizze_compact_71875);\n            \n            for (int64_t i_71931 = 0; i_71931 < chunk_sizze_71842; i_71931++) {\n                if",
                                    " (slt32(sext_i64_i32(i_71931), stopping_point_71930 - 1)) {\n                    eta_p_71925 = private_mem_71876[i_71931];\n                    \n                    int64_t defunc_0_op_res_71926 = mul64(eta_p_71924, eta_p_71925);\n                    \n                    private_mem_71876[i_71931] = defunc_0_op_res_71926;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_71932 = 0; i_71932 < chunk_sizze_71842; i_71932++) {\n                int64_t sharedIdx_71933 = sext_i32_i64(local_tid_71854) * chunk_sizze_71842 + i_71932;\n                int64_t tmp_71934 = private_mem_71876[i_71932];\n                \n                ((__local int64_t *) local_mem_71861)[sharedIdx_71933] = tmp_71934;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_71935 = 0; i_71935 < chunk_sizze_71842; i_71935++) {\n                int64_t flat_idx_71936 = thd_offset_71878 + i_71935 * segscan_tblock_sizze_57658;\n                int64_t slice_71937 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;\n                int64_t gtid_57662 = flat_idx_71936;\n                int64_t remnant_71938 = flat_idx_71936 - gtid_57662;\n                \n                if (slt64(flat_idx_71936, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353)) {\n                    int64_t tmp_71939 = ((__local int64_t *) local_mem_71861)[flat_idx_71936 - block_offset_71872];\n                    \n                    ((__global int64_t *) mem_68625)[gtid_57662] = tmp_71939;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_57658\n    #undef chunk_sizze_71842\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_71694_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_71694(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_68633)\n{\n    if (*global_fai", "lure >= 0)\n        return;\n    \n    int32_t local_tid_71696;\n    int32_t tblock_sizze_71699;\n    int32_t wave_sizze_71698;\n    int32_t block_id_71697;\n    int32_t global_tid_71695;\n    int64_t tid_71694;\n    int64_t x_68304;\n    \n    local_tid_71696 = get_local_id(0);\n    tblock_sizze_71699 = get_local_size(0);\n    wave_sizze_71698 = LOCKSTEP_WIDTH;\n    block_id_71697 = get_tblock_id(0);\n    global_tid_71695 = block_id_71697 * tblock_sizze_71699 + local_tid_71696;\n    tid_71694 = sext_i32_i64(global_tid_71695);\n    x_68304 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    ((__global int64_t *) mem_68633)[(int64_t) 0] = x_68304;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_71732_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_71732(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_68639)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71734;\n    int32_t tblock_sizze_71737;\n    int32_t wave_sizze_71736;\n    int32_t block_id_71735;\n    int32_t global_tid_71733;\n    int64_t tid_71732;\n    int64_t x_68319;\n    \n    local_tid_71734 = get_local_id(0);\n    tblock_sizze_71737 = get_local_size(0);\n    wave_sizze_71736 = LOCKSTEP_WIDTH;\n    block_id_71735 = get_tblock_id(0);\n    global_tid_71733 = block_id_71735 * tblock_sizze_71737 + local_tid_71734;\n    tid_71732 = sext_i32_i64(global_tid_71733);\n    x_68319 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    ((__global int64_t *) mem_68639)[(int64_t) 0] = x_68319;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_71780_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_71780(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_68645)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71782;\n    int32_t tblock_sizze_71785;\n   ", " int32_t wave_sizze_71784;\n    int32_t block_id_71783;\n    int32_t global_tid_71781;\n    int64_t tid_71780;\n    int64_t x_68327;\n    \n    local_tid_71782 = get_local_id(0);\n    tblock_sizze_71785 = get_local_size(0);\n    wave_sizze_71784 = LOCKSTEP_WIDTH;\n    block_id_71783 = get_tblock_id(0);\n    global_tid_71781 = block_id_71783 * tblock_sizze_71785 + local_tid_71782;\n    tid_71780 = sext_i32_i64(global_tid_71781);\n    x_68327 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    ((__global int64_t *) mem_68645)[(int64_t) 0] = x_68327;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_71791_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_71791(__global int *global_failure, __global unsigned char *ext_mem_68634, __global unsigned char *ext_mem_68640, __global unsigned char *ext_mem_68646, __global unsigned char *mem_68649, __global unsigned char *mem_68650, __global unsigned char *mem_68651)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71793;\n    int32_t tblock_sizze_71796;\n    int32_t wave_sizze_71795;\n    int32_t block_id_71794;\n    int32_t global_tid_71792;\n    int64_t tid_71791;\n    int64_t zm_lhs_68308;\n    int64_t min_arg1_68309;\n    int64_t zm_lhs_68323;\n    int64_t min_arg1_68324;\n    int64_t zm_lhs_68331;\n    int64_t min_arg1_68332;\n    \n    local_tid_71793 = get_local_id(0);\n    tblock_sizze_71796 = get_local_size(0);\n    wave_sizze_71795 = LOCKSTEP_WIDTH;\n    block_id_71794 = get_tblock_id(0);\n    global_tid_71792 = block_id_71794 * tblock_sizze_71796 + local_tid_71793;\n    tid_71791 = sext_i32_i64(global_tid_71792);\n    zm_lhs_68308 = ((__global int64_t *) ext_mem_68634)[(int64_t) 0];\n    min_arg1_68309 = sub64(zm_lhs_68308, (int64_t) 1);\n    zm_lhs_68323 = ((__global int64_t *) ext_mem_68640)[(int64_t) 0];\n    min_arg1_68324 = sub64(zm_lhs_68323, (int64_t) 1);\n    zm_lhs_68331 = ((__global int64_t *) ext_mem_68646)[(int64_t) 0];\n    min_arg1_68332 = sub64(zm_lhs_6833",
                                    "1, (int64_t) 1);\n    ((__global int64_t *) mem_68649)[(int64_t) 0] = min_arg1_68309;\n    ((__global int64_t *) mem_68650)[(int64_t) 0] = min_arg1_68324;\n    ((__global int64_t *) mem_68651)[(int64_t) 0] = min_arg1_68332;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_72175_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_72175(__global int *global_failure, __global unsigned char *mem_69053, __global unsigned char *mem_69056, __global unsigned char *mem_69057, __global unsigned char *mem_69058)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72177;\n    int32_t tblock_sizze_72180;\n    int32_t wave_sizze_72179;\n    int32_t block_id_72178;\n    int32_t global_tid_72176;\n    int64_t tid_72175;\n    int64_t defunc_0_reduce_res_68313;\n    int64_t defunc_0_reduce_res_68315;\n    \n    local_tid_72177 = get_local_id(0);\n    tblock_sizze_72180 = get_local_size(0);\n    wave_sizze_72179 = LOCKSTEP_WIDTH;\n    block_id_72178 = get_tblock_id(0);\n    global_tid_72176 = block_id_72178 * tblock_sizze_72180 + local_tid_72177;\n    tid_72175 = sext_i32_i64(global_tid_72176);\n    defunc_0_reduce_res_68313 = ((__global int64_t *) mem_69053)[(int64_t) 0];\n    defunc_0_reduce_res_68315 = ((__global int64_t *) mem_69056)[(int64_t) 0];\n    ((__global int64_t *) mem_69057)[(int64_t) 0] = defunc_0_reduce_res_68313;\n    ((__global int64_t *) mem_69058)[(int64_t) 0] = defunc_0_reduce_res_68315;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73464_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73464(__global int *global_failure, __global unsigned char *mem_70412, __global unsigned char *mem_70413)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73466;\n    int32_t tblock_sizze_73469;\n    int32_t wave_sizze_73468;\n    int32_t block_id_73467;\n    int32_t global_tid_73465;\n    int64_t tid_73464;\n    double f_arg0_68338;\n    int64_t f64_res_68341;\n    \n    local_tid_73466 = get_lo", "cal_id(0);\n    tblock_sizze_73469 = get_local_size(0);\n    wave_sizze_73468 = LOCKSTEP_WIDTH;\n    block_id_73467 = get_tblock_id(0);\n    global_tid_73465 = block_id_73467 * tblock_sizze_73469 + local_tid_73466;\n    tid_73464 = sext_i32_i64(global_tid_73465);\n    f_arg0_68338 = ((__global double *) mem_70412)[(int64_t) 0];\n    f64_res_68341 = fptosi_f64_i64(f_arg0_68338);\n    ((__global int64_t *) mem_70413)[(int64_t) 0] = f64_res_68341;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73491_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73491(__global int *global_failure, int64_t index_primexp_55527, __global unsigned char *mem_70412, __global unsigned char *mem_70415)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73493;\n    int32_t tblock_sizze_73496;\n    int32_t wave_sizze_73495;\n    int32_t block_id_73494;\n    int32_t global_tid_73492;\n    int64_t tid_73491;\n    double f_arg0_68344;\n    int64_t f64_res_68347;\n    \n    local_tid_73493 = get_local_id(0);\n    tblock_sizze_73496 = get_local_size(0);\n    wave_sizze_73495 = LOCKSTEP_WIDTH;\n    block_id_73494 = get_tblock_id(0);\n    global_tid_73492 = block_id_73494 * tblock_sizze_73496 + local_tid_73493;\n    tid_73491 = sext_i32_i64(global_tid_73492);\n    f_arg0_68344 = ((__global double *) mem_70412)[index_primexp_55527];\n    f64_res_68347 = fptosi_f64_i64(f_arg0_68344);\n    ((__global int64_t *) mem_70415)[index_primexp_55527] = f64_res_68347;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73497_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73497(__global int *global_failure, __global unsigned char *ext_mem_70427, __global unsigned char *mem_70428)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73499;\n    int32_t tblock_sizze_73502;\n    int32_t wave_sizze_73501;\n    int32_t block_id_73500;\n    int32_t global_tid_73498;\n    int64_t tid_73497;\n    int64_t f_arg0_68349;\n    int64_t max_res_", "68352;\n    \n    local_tid_73499 = get_local_id(0);\n    tblock_sizze_73502 = get_local_size(0);\n    wave_sizze_73501 = LOCKSTEP_WIDTH;\n    block_id_73500 = get_tblock_id(0);\n    global_tid_73498 = block_id_73500 * tblock_sizze_73502 + local_tid_73499;\n    tid_73497 = sext_i32_i64(global_tid_73498);\n    f_arg0_68349 = ((__global int64_t *) ext_mem_70427)[(int64_t) 0];\n    max_res_68352 = smax64((int64_t) 0, f_arg0_68349);\n    ((__global int64_t *) mem_70428)[(int64_t) 0] = max_res_68352;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73524_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73524(__global int *global_failure, int64_t index_primexp_55546, __global unsigned char *ext_mem_70427, __global unsigned char *mem_70430)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73526;\n    int32_t tblock_sizze_73529;\n    int32_t wave_sizze_73528;\n    int32_t block_id_73527;\n    int32_t global_tid_73525;\n    int64_t tid_73524;\n    int64_t f_arg0_68355;\n    int64_t max_res_68358;\n    \n    local_tid_73526 = get_local_id(0);\n    tblock_sizze_73529 = get_local_size(0);\n    wave_sizze_73528 = LOCKSTEP_WIDTH;\n    block_id_73527 = get_tblock_id(0);\n    global_tid_73525 = block_id_73527 * tblock_sizze_73529 + local_tid_73526;\n    tid_73524 = sext_i32_i64(global_tid_73525);\n    f_arg0_68355 = ((__global int64_t *) ext_mem_70427)[index_primexp_55546];\n    max_res_68358 = smax64((int64_t) 0, f_arg0_68355);\n    ((__global int64_t *) mem_70430)[index_primexp_55546] = max_res_68358;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73530_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73530(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *ext_mem_70442, __global unsigned char *mem_70443)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73532;\n    int32_t tblock_sizze_73535;\n    int32_t wave_sizze_73534;\n   ",
                                    " int32_t block_id_73533;\n    int32_t global_tid_73531;\n    int64_t tid_73530;\n    int64_t f_arg0_68360;\n    int64_t zm_lhs_68362;\n    int64_t min_arg1_68365;\n    int64_t min_res_68369;\n    \n    local_tid_73532 = get_local_id(0);\n    tblock_sizze_73535 = get_local_size(0);\n    wave_sizze_73534 = LOCKSTEP_WIDTH;\n    block_id_73533 = get_tblock_id(0);\n    global_tid_73531 = block_id_73533 * tblock_sizze_73535 + local_tid_73532;\n    tid_73530 = sext_i32_i64(global_tid_73531);\n    f_arg0_68360 = ((__global int64_t *) ext_mem_70442)[(int64_t) 0];\n    zm_lhs_68362 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    min_arg1_68365 = sub64(zm_lhs_68362, (int64_t) 1);\n    min_res_68369 = smin64(f_arg0_68360, min_arg1_68365);\n    ((__global int64_t *) mem_70443)[(int64_t) 0] = min_res_68369;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73557_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73557(__global int *global_failure, int64_t index_primexp_55565, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *ext_mem_70442, __global unsigned char *mem_70445)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73559;\n    int32_t tblock_sizze_73562;\n    int32_t wave_sizze_73561;\n    int32_t block_id_73560;\n    int32_t global_tid_73558;\n    int64_t tid_73557;\n    int64_t f_arg0_68372;\n    int64_t zm_lhs_68374;\n    int64_t min_arg1_68377;\n    int64_t min_res_68381;\n    \n    local_tid_73559 = get_local_id(0);\n    tblock_sizze_73562 = get_local_size(0);\n    wave_sizze_73561 = LOCKSTEP_WIDTH;\n    block_id_73560 = get_tblock_id(0);\n    global_tid_73558 = block_id_73560 * tblock_sizze_73562 + local_tid_73559;\n    tid_73557 = sext_i32_i64(global_tid_73558);\n    f_arg0_68372 = ((__global int64_t *) ext_mem_70442)[index_primexp_55565];\n    zm_lhs_68374 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_55565];\n    min_arg1_68377 = sub64(zm_lhs_68374, (int64", "_t) 1);\n    min_res_68381 = smin64(f_arg0_68372, min_arg1_68377);\n    ((__global int64_t *) mem_70445)[index_primexp_55565] = min_res_68381;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73574_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73574(__global int *global_failure, int64_t i_55578, __global unsigned char *mem_70460, __global unsigned char *mem_param_70464, __global unsigned char *mem_70465)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73576;\n    int32_t tblock_sizze_73579;\n    int32_t wave_sizze_73578;\n    int32_t block_id_73577;\n    int32_t global_tid_73575;\n    int64_t tid_73574;\n    int64_t b_68386;\n    int64_t acc_68388;\n    int64_t defunc_0_f_res_68390;\n    \n    local_tid_73576 = get_local_id(0);\n    tblock_sizze_73579 = get_local_size(0);\n    wave_sizze_73578 = LOCKSTEP_WIDTH;\n    block_id_73577 = get_tblock_id(0);\n    global_tid_73575 = block_id_73577 * tblock_sizze_73579 + local_tid_73576;\n    tid_73574 = sext_i32_i64(global_tid_73575);\n    b_68386 = ((__global int64_t *) mem_70460)[i_55578];\n    acc_68388 = ((__global int64_t *) mem_param_70464)[(int64_t) 0];\n    defunc_0_f_res_68390 = add64(b_68386, acc_68388);\n    ((__global int64_t *) mem_70465)[(int64_t) 0] = defunc_0_f_res_68390;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73581_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73581(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_70485)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73583;\n    int32_t tblock_sizze_73586;\n    int32_t wave_sizze_73585;\n    int32_t block_id_73584;\n    int32_t global_tid_73582;\n    int64_t tid_73581;\n    int64_t x_68445;\n    \n    local_tid_73583 = get_local_id(0);\n    tblock_sizze_73586 = get_local_size(0);\n    wave_sizze_73585 = LOCKSTEP_WIDTH;\n    block_id_73584 = get_tblock_id(0);\n    global_tid_73582 = block", "_id_73584 * tblock_sizze_73586 + local_tid_73583;\n    tid_73581 = sext_i32_i64(global_tid_73582);\n    x_68445 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[(int64_t) 0];\n    ((__global int64_t *) mem_70485)[(int64_t) 0] = x_68445;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73587_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73587(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2080U_38265, int64_t total_angle_no_38274, __global unsigned char *ext_mem_70468, __global unsigned char *ext_mem_70486, __global unsigned char *mem_70487, __global unsigned char *mem_70488, __global unsigned char *mem_70489)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73589;\n    int32_t tblock_sizze_73592;\n    int32_t wave_sizze_73591;\n    int32_t block_id_73590;\n    int32_t global_tid_73588;\n    int64_t tid_73587;\n    int64_t defunc_0_foldl_res_68392;\n    bool x_68393;\n    bool y_68396;\n    bool bounds_check_68400;\n    bool index_certs_68404;\n    int64_t zp_lhs_68438;\n    int64_t zm_lhs_68449;\n    int64_t min_arg1_68450;\n    \n    local_tid_73589 = get_local_id(0);\n    tblock_sizze_73592 = get_local_size(0);\n    wave_sizze_73591 = LOCKSTEP_WIDTH;\n    block_id_73590 = get_tblock_id(0);\n    global_tid_73588 = block_id_73590 * tblock_sizze_73592 + local_tid_73589;\n    tid_73587 = sext_i32_i64(global_tid_73588);\n    defunc_0_foldl_res_68392 = ((__global int64_t *) ext_mem_70468)[(int64_t) 0];\n    x_68393 = sle64((int64_t) 0, defunc_0_foldl_res_68392);\n    y_68396 = slt64(defunc_0_foldl_res_68392, dz2080U_38265);\n    bounds_check_68400 = x_68393 && y_68396;\n    if (!bounds_check_68400) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 122) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_68392;\n                global_failure_args[1] = (int64_t) dz2080U_38265;\n                ;\n            }\n            ",
                                    "return;\n        }\n    }\n    zp_lhs_68438 = mul64(total_angle_no_38274, defunc_0_foldl_res_68392);\n    zm_lhs_68449 = ((__global int64_t *) ext_mem_70486)[(int64_t) 0];\n    min_arg1_68450 = sub64(zm_lhs_68449, (int64_t) 1);\n    ((__global int64_t *) mem_70488)[(int64_t) 0] = zp_lhs_68438;\n    ((__global int64_t *) mem_70489)[(int64_t) 0] = min_arg1_68450;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73602_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73602(__global int *global_failure, __global unsigned char *mem_70492, __global unsigned char *mem_70493)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73604;\n    int32_t tblock_sizze_73607;\n    int32_t wave_sizze_73606;\n    int32_t block_id_73605;\n    int32_t global_tid_73603;\n    int64_t tid_73602;\n    double f_arg0_68407;\n    \n    local_tid_73604 = get_local_id(0);\n    tblock_sizze_73607 = get_local_size(0);\n    wave_sizze_73606 = LOCKSTEP_WIDTH;\n    block_id_73605 = get_tblock_id(0);\n    global_tid_73603 = block_id_73605 * tblock_sizze_73607 + local_tid_73604;\n    tid_73602 = sext_i32_i64(global_tid_73603);\n    f_arg0_68407 = ((__global double *) mem_70492)[(int64_t) 0];\n    ((__global double *) mem_70493)[(int64_t) 0] = f_arg0_68407;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73641_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73641(__global int *global_failure, int64_t i_55634, __global unsigned char *mem_70512, __global unsigned char *mem_param_70515, __global unsigned char *mem_70516)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73643;\n    int32_t tblock_sizze_73646;\n    int32_t wave_sizze_73645;\n    int32_t block_id_73644;\n    int32_t global_tid_73642;\n    int64_t tid_73641;\n    double b_68415;\n    double acc_68417;\n    double defunc_0_f_res_68419;\n    \n    local_tid_73643 = get_local_id(0);\n    tblock_sizze_73646 = get_local_size(0);\n    wave_sizze_73645 = LOCKSTEP_WIDTH", ";\n    block_id_73644 = get_tblock_id(0);\n    global_tid_73642 = block_id_73644 * tblock_sizze_73646 + local_tid_73643;\n    tid_73641 = sext_i32_i64(global_tid_73642);\n    b_68415 = ((__global double *) mem_70512)[i_55634];\n    acc_68417 = ((__global double *) mem_param_70515)[(int64_t) 0];\n    defunc_0_f_res_68419 = b_68415 + acc_68417;\n    ((__global double *) mem_70516)[(int64_t) 0] = defunc_0_f_res_68419;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73647_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73647(__global int *global_failure, int64_t i_55610, __global unsigned char *ext_mem_70506, __global unsigned char *ext_mem_70519, __global unsigned char *mem_70526)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73649;\n    int32_t tblock_sizze_73652;\n    int32_t wave_sizze_73651;\n    int32_t block_id_73650;\n    int32_t global_tid_73648;\n    int64_t tid_73647;\n    double this_x_68410;\n    double defunc_0_foldl_res_68421;\n    double sqrt_res_68422;\n    double atan2_res_68426;\n    \n    local_tid_73649 = get_local_id(0);\n    tblock_sizze_73652 = get_local_size(0);\n    wave_sizze_73651 = LOCKSTEP_WIDTH;\n    block_id_73650 = get_tblock_id(0);\n    global_tid_73648 = block_id_73650 * tblock_sizze_73652 + local_tid_73649;\n    tid_73647 = sext_i32_i64(global_tid_73648);\n    this_x_68410 = ((__global double *) ext_mem_70506)[i_55610];\n    defunc_0_foldl_res_68421 = ((__global double *) ext_mem_70519)[(int64_t) 0];\n    sqrt_res_68422 = futrts_sqrt64(defunc_0_foldl_res_68421);\n    atan2_res_68426 = futrts_atan2_64(sqrt_res_68422, this_x_68410);\n    ((__global double *) mem_70526)[i_55610] = atan2_res_68426;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73664_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73664(__global int *global_failure, int64_t i_55666, __global unsigned char *mem_70526, __global unsigned char *mem_param_70529, __global unsigned char *mem_70530)\n{\n    i", "f (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73666;\n    int32_t tblock_sizze_73669;\n    int32_t wave_sizze_73668;\n    int32_t block_id_73667;\n    int32_t global_tid_73665;\n    int64_t tid_73664;\n    int64_t b_68431;\n    int64_t acc_68433;\n    int64_t defunc_0_f_res_68435;\n    \n    local_tid_73666 = get_local_id(0);\n    tblock_sizze_73669 = get_local_size(0);\n    wave_sizze_73668 = LOCKSTEP_WIDTH;\n    block_id_73667 = get_tblock_id(0);\n    global_tid_73665 = block_id_73667 * tblock_sizze_73669 + local_tid_73666;\n    tid_73664 = sext_i32_i64(global_tid_73665);\n    b_68431 = ((__global int64_t *) mem_70526)[i_55666];\n    acc_68433 = ((__global int64_t *) mem_param_70529)[(int64_t) 0];\n    defunc_0_f_res_68435 = add64(b_68431, acc_68433);\n    ((__global int64_t *) mem_70530)[(int64_t) 0] = defunc_0_f_res_68435;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73670_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73670(__global int *global_failure, __global unsigned char *mem_70488, __global unsigned char *ext_mem_70533, __global unsigned char *mem_70534)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73672;\n    int32_t tblock_sizze_73675;\n    int32_t wave_sizze_73674;\n    int32_t block_id_73673;\n    int32_t global_tid_73671;\n    int64_t tid_73670;\n    int64_t defunc_0_foldl_res_68440;\n    int64_t zp_lhs_68441;\n    int64_t get_id_from_grid_angle_res_68442;\n    \n    local_tid_73672 = get_local_id(0);\n    tblock_sizze_73675 = get_local_size(0);\n    wave_sizze_73674 = LOCKSTEP_WIDTH;\n    block_id_73673 = get_tblock_id(0);\n    global_tid_73671 = block_id_73673 * tblock_sizze_73675 + local_tid_73672;\n    tid_73670 = sext_i32_i64(global_tid_73671);\n    defunc_0_foldl_res_68440 = ((__global int64_t *) ext_mem_70533)[(int64_t) 0];\n    zp_lhs_68441 = ((__global int64_t *) mem_70488)[(int64_t) 0];\n    get_id_from_grid_angle_res_68442 = add64(defunc_0_foldl_res_68440, zp_lhs_68441);\n    ((__global",
                                    " int64_t *) mem_70534)[(int64_t) 0] = get_id_from_grid_angle_res_68442;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73715_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73715(__global int *global_failure, __global unsigned char *mem_70545, __global unsigned char *mem_70546)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73717;\n    int32_t tblock_sizze_73720;\n    int32_t wave_sizze_73719;\n    int32_t block_id_73718;\n    int32_t global_tid_73716;\n    int64_t tid_73715;\n    double f_arg0_68452;\n    int64_t f64_res_68455;\n    \n    local_tid_73717 = get_local_id(0);\n    tblock_sizze_73720 = get_local_size(0);\n    wave_sizze_73719 = LOCKSTEP_WIDTH;\n    block_id_73718 = get_tblock_id(0);\n    global_tid_73716 = block_id_73718 * tblock_sizze_73720 + local_tid_73717;\n    tid_73715 = sext_i32_i64(global_tid_73716);\n    f_arg0_68452 = ((__global double *) mem_70545)[(int64_t) 0];\n    f64_res_68455 = fptosi_f64_i64(f_arg0_68452);\n    ((__global int64_t *) mem_70546)[(int64_t) 0] = f64_res_68455;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73742_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73742(__global int *global_failure, int64_t index_primexp_55724, __global unsigned char *mem_70545, __global unsigned char *mem_70548)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73744;\n    int32_t tblock_sizze_73747;\n    int32_t wave_sizze_73746;\n    int32_t block_id_73745;\n    int32_t global_tid_73743;\n    int64_t tid_73742;\n    double f_arg0_68458;\n    int64_t f64_res_68461;\n    \n    local_tid_73744 = get_local_id(0);\n    tblock_sizze_73747 = get_local_size(0);\n    wave_sizze_73746 = LOCKSTEP_WIDTH;\n    block_id_73745 = get_tblock_id(0);\n    global_tid_73743 = block_id_73745 * tblock_sizze_73747 + local_tid_73744;\n    tid_73742 = sext_i32_i64(global_tid_73743);\n    f_arg0_68458 = ((__global double *) mem_70545)[index_primexp_55724];\n    f64_res_68461 ", "= fptosi_f64_i64(f_arg0_68458);\n    ((__global int64_t *) mem_70548)[index_primexp_55724] = f64_res_68461;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73748_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73748(__global int *global_failure, __global unsigned char *ext_mem_70560, __global unsigned char *mem_70561)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73750;\n    int32_t tblock_sizze_73753;\n    int32_t wave_sizze_73752;\n    int32_t block_id_73751;\n    int32_t global_tid_73749;\n    int64_t tid_73748;\n    int64_t f_arg0_68463;\n    int64_t max_res_68466;\n    \n    local_tid_73750 = get_local_id(0);\n    tblock_sizze_73753 = get_local_size(0);\n    wave_sizze_73752 = LOCKSTEP_WIDTH;\n    block_id_73751 = get_tblock_id(0);\n    global_tid_73749 = block_id_73751 * tblock_sizze_73753 + local_tid_73750;\n    tid_73748 = sext_i32_i64(global_tid_73749);\n    f_arg0_68463 = ((__global int64_t *) ext_mem_70560)[(int64_t) 0];\n    max_res_68466 = smax64((int64_t) 0, f_arg0_68463);\n    ((__global int64_t *) mem_70561)[(int64_t) 0] = max_res_68466;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73775_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73775(__global int *global_failure, int64_t index_primexp_55740, __global unsigned char *ext_mem_70560, __global unsigned char *mem_70563)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73777;\n    int32_t tblock_sizze_73780;\n    int32_t wave_sizze_73779;\n    int32_t block_id_73778;\n    int32_t global_tid_73776;\n    int64_t tid_73775;\n    int64_t f_arg0_68469;\n    int64_t max_res_68472;\n    \n    local_tid_73777 = get_local_id(0);\n    tblock_sizze_73780 = get_local_size(0);\n    wave_sizze_73779 = LOCKSTEP_WIDTH;\n    block_id_73778 = get_tblock_id(0);\n    global_tid_73776 = block_id_73778 * tblock_sizze_73780 + local_tid_73777;\n    tid_73775 = sext_i32_i64(global_tid_73776);\n    f_arg0_68469 = ((__global int64_", "t *) ext_mem_70560)[index_primexp_55740];\n    max_res_68472 = smax64((int64_t) 0, f_arg0_68469);\n    ((__global int64_t *) mem_70563)[index_primexp_55740] = max_res_68472;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73781_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73781(__global int *global_failure, __global unsigned char *mem_70489, __global unsigned char *ext_mem_70575, __global unsigned char *mem_70576)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73783;\n    int32_t tblock_sizze_73786;\n    int32_t wave_sizze_73785;\n    int32_t block_id_73784;\n    int32_t global_tid_73782;\n    int64_t tid_73781;\n    int64_t f_arg0_68474;\n    int64_t min_arg1_68477;\n    int64_t min_res_68478;\n    \n    local_tid_73783 = get_local_id(0);\n    tblock_sizze_73786 = get_local_size(0);\n    wave_sizze_73785 = LOCKSTEP_WIDTH;\n    block_id_73784 = get_tblock_id(0);\n    global_tid_73782 = block_id_73784 * tblock_sizze_73786 + local_tid_73783;\n    tid_73781 = sext_i32_i64(global_tid_73782);\n    f_arg0_68474 = ((__global int64_t *) ext_mem_70575)[(int64_t) 0];\n    min_arg1_68477 = ((__global int64_t *) mem_70489)[(int64_t) 0];\n    min_res_68478 = smin64(f_arg0_68474, min_arg1_68477);\n    ((__global int64_t *) mem_70576)[(int64_t) 0] = min_res_68478;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73808_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73808(__global int *global_failure, int64_t index_primexp_55756, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *ext_mem_70575, __global unsigned char *mem_70578)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73810;\n    int32_t tblock_sizze_73813;\n    int32_t wave_sizze_73812;\n    int32_t block_id_73811;\n    int32_t global_tid_73809;\n    int64_t tid_73808;\n    int64_t f_arg0_68481;\n    int64_t zm_lhs_68483;\n    int64_t min_arg1_68486;\n    int64_t min_res_68490;\n    \n    local_t",
                                    "id_73810 = get_local_id(0);\n    tblock_sizze_73813 = get_local_size(0);\n    wave_sizze_73812 = LOCKSTEP_WIDTH;\n    block_id_73811 = get_tblock_id(0);\n    global_tid_73809 = block_id_73811 * tblock_sizze_73813 + local_tid_73810;\n    tid_73808 = sext_i32_i64(global_tid_73809);\n    f_arg0_68481 = ((__global int64_t *) ext_mem_70575)[index_primexp_55756];\n    zm_lhs_68483 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_55756];\n    min_arg1_68486 = sub64(zm_lhs_68483, (int64_t) 1);\n    min_res_68490 = smin64(f_arg0_68481, min_arg1_68486);\n    ((__global int64_t *) mem_70578)[index_primexp_55756] = min_res_68490;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73825_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73825(__global int *global_failure, int64_t i_55769, __global unsigned char *mem_70593, __global unsigned char *mem_param_70596, __global unsigned char *mem_70597)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73827;\n    int32_t tblock_sizze_73830;\n    int32_t wave_sizze_73829;\n    int32_t block_id_73828;\n    int32_t global_tid_73826;\n    int64_t tid_73825;\n    int64_t b_68495;\n    int64_t acc_68497;\n    int64_t defunc_0_f_res_68499;\n    \n    local_tid_73827 = get_local_id(0);\n    tblock_sizze_73830 = get_local_size(0);\n    wave_sizze_73829 = LOCKSTEP_WIDTH;\n    block_id_73828 = get_tblock_id(0);\n    global_tid_73826 = block_id_73828 * tblock_sizze_73830 + local_tid_73827;\n    tid_73825 = sext_i32_i64(global_tid_73826);\n    b_68495 = ((__global int64_t *) mem_70593)[i_55769];\n    acc_68497 = ((__global int64_t *) mem_param_70596)[(int64_t) 0];\n    defunc_0_f_res_68499 = add64(b_68495, acc_68497);\n    ((__global int64_t *) mem_70597)[(int64_t) 0] = defunc_0_f_res_68499;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73832_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73832(__global int *global_failure, int failure_is_an_option, __global ", "int64_t *global_failure_args, int64_t dz2080U_38265, int64_t total_angle_no_38274, __global unsigned char *ext_mem_70600, __global unsigned char *mem_70616, __global unsigned char *mem_70617)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73834;\n    int32_t tblock_sizze_73837;\n    int32_t wave_sizze_73836;\n    int32_t block_id_73835;\n    int32_t global_tid_73833;\n    int64_t tid_73832;\n    int64_t defunc_0_foldl_res_68501;\n    bool x_68502;\n    bool y_68505;\n    bool bounds_check_68509;\n    bool index_certs_68513;\n    int64_t zp_lhs_68547;\n    \n    local_tid_73834 = get_local_id(0);\n    tblock_sizze_73837 = get_local_size(0);\n    wave_sizze_73836 = LOCKSTEP_WIDTH;\n    block_id_73835 = get_tblock_id(0);\n    global_tid_73833 = block_id_73835 * tblock_sizze_73837 + local_tid_73834;\n    tid_73832 = sext_i32_i64(global_tid_73833);\n    defunc_0_foldl_res_68501 = ((__global int64_t *) ext_mem_70600)[(int64_t) 0];\n    x_68502 = sle64((int64_t) 0, defunc_0_foldl_res_68501);\n    y_68505 = slt64(defunc_0_foldl_res_68501, dz2080U_38265);\n    bounds_check_68509 = x_68502 && y_68505;\n    if (!bounds_check_68509) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 123) == -1) {\n                global_failure_args[0] = (int64_t) defunc_0_foldl_res_68501;\n                global_failure_args[1] = (int64_t) dz2080U_38265;\n                ;\n            }\n            return;\n        }\n    }\n    zp_lhs_68547 = mul64(total_angle_no_38274, defunc_0_foldl_res_68501);\n    ((__global int64_t *) mem_70617)[(int64_t) 0] = zp_lhs_68547;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73847_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73847(__global int *global_failure, __global unsigned char *mem_70620, __global unsigned char *mem_70621)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73849;\n    int32_t tblock_sizze_73852;\n    int32_t wave_sizze_73851;\n    int32_t block_id_73850;\n ", "   int32_t global_tid_73848;\n    int64_t tid_73847;\n    double f_arg0_68516;\n    \n    local_tid_73849 = get_local_id(0);\n    tblock_sizze_73852 = get_local_size(0);\n    wave_sizze_73851 = LOCKSTEP_WIDTH;\n    block_id_73850 = get_tblock_id(0);\n    global_tid_73848 = block_id_73850 * tblock_sizze_73852 + local_tid_73849;\n    tid_73847 = sext_i32_i64(global_tid_73848);\n    f_arg0_68516 = ((__global double *) mem_70620)[(int64_t) 0];\n    ((__global double *) mem_70621)[(int64_t) 0] = f_arg0_68516;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73886_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73886(__global int *global_failure, int64_t i_55822, __global unsigned char *mem_70640, __global unsigned char *mem_param_70643, __global unsigned char *mem_70644)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73888;\n    int32_t tblock_sizze_73891;\n    int32_t wave_sizze_73890;\n    int32_t block_id_73889;\n    int32_t global_tid_73887;\n    int64_t tid_73886;\n    double b_68524;\n    double acc_68526;\n    double defunc_0_f_res_68528;\n    \n    local_tid_73888 = get_local_id(0);\n    tblock_sizze_73891 = get_local_size(0);\n    wave_sizze_73890 = LOCKSTEP_WIDTH;\n    block_id_73889 = get_tblock_id(0);\n    global_tid_73887 = block_id_73889 * tblock_sizze_73891 + local_tid_73888;\n    tid_73886 = sext_i32_i64(global_tid_73887);\n    b_68524 = ((__global double *) mem_70640)[i_55822];\n    acc_68526 = ((__global double *) mem_param_70643)[(int64_t) 0];\n    defunc_0_f_res_68528 = b_68524 + acc_68526;\n    ((__global double *) mem_70644)[(int64_t) 0] = defunc_0_f_res_68528;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73892_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73892(__global int *global_failure, int64_t i_55798, __global unsigned char *mem_70602, __global unsigned char *ext_mem_70634, __global unsigned char *ext_mem_70647)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    i",
                                    "nt32_t local_tid_73894;\n    int32_t tblock_sizze_73897;\n    int32_t wave_sizze_73896;\n    int32_t block_id_73895;\n    int32_t global_tid_73893;\n    int64_t tid_73892;\n    double this_x_68519;\n    double defunc_0_foldl_res_68530;\n    double sqrt_res_68531;\n    double atan2_res_68535;\n    \n    local_tid_73894 = get_local_id(0);\n    tblock_sizze_73897 = get_local_size(0);\n    wave_sizze_73896 = LOCKSTEP_WIDTH;\n    block_id_73895 = get_tblock_id(0);\n    global_tid_73893 = block_id_73895 * tblock_sizze_73897 + local_tid_73894;\n    tid_73892 = sext_i32_i64(global_tid_73893);\n    this_x_68519 = ((__global double *) ext_mem_70634)[i_55798];\n    defunc_0_foldl_res_68530 = ((__global double *) ext_mem_70647)[(int64_t) 0];\n    sqrt_res_68531 = futrts_sqrt64(defunc_0_foldl_res_68530);\n    atan2_res_68535 = futrts_atan2_64(sqrt_res_68531, this_x_68519);\n    ((__global double *) mem_70602)[i_55798] = atan2_res_68535;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73909_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73909(__global int *global_failure, int64_t i_55850, __global unsigned char *mem_70654, __global unsigned char *mem_param_70657, __global unsigned char *mem_70658)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73911;\n    int32_t tblock_sizze_73914;\n    int32_t wave_sizze_73913;\n    int32_t block_id_73912;\n    int32_t global_tid_73910;\n    int64_t tid_73909;\n    int64_t b_68540;\n    int64_t acc_68542;\n    int64_t defunc_0_f_res_68544;\n    \n    local_tid_73911 = get_local_id(0);\n    tblock_sizze_73914 = get_local_size(0);\n    wave_sizze_73913 = LOCKSTEP_WIDTH;\n    block_id_73912 = get_tblock_id(0);\n    global_tid_73910 = block_id_73912 * tblock_sizze_73914 + local_tid_73911;\n    tid_73909 = sext_i32_i64(global_tid_73910);\n    b_68540 = ((__global int64_t *) mem_70654)[i_55850];\n    acc_68542 = ((__global int64_t *) mem_param_70657)[(int64_t) 0];\n    defunc_0_f_res_68544 = add64(b_68540, acc_68542);\n    ((", "__global int64_t *) mem_70658)[(int64_t) 0] = defunc_0_f_res_68544;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_73915_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_73915(__global int *global_failure, int64_t index_primexp_55698, __global unsigned char *mem_70536, __global unsigned char *mem_70617, __global unsigned char *ext_mem_70661)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73917;\n    int32_t tblock_sizze_73920;\n    int32_t wave_sizze_73919;\n    int32_t block_id_73918;\n    int32_t global_tid_73916;\n    int64_t tid_73915;\n    int64_t defunc_0_foldl_res_68549;\n    int64_t zp_lhs_68550;\n    int64_t get_id_from_grid_angle_res_68551;\n    \n    local_tid_73917 = get_local_id(0);\n    tblock_sizze_73920 = get_local_size(0);\n    wave_sizze_73919 = LOCKSTEP_WIDTH;\n    block_id_73918 = get_tblock_id(0);\n    global_tid_73916 = block_id_73918 * tblock_sizze_73920 + local_tid_73917;\n    tid_73915 = sext_i32_i64(global_tid_73916);\n    defunc_0_foldl_res_68549 = ((__global int64_t *) ext_mem_70661)[(int64_t) 0];\n    zp_lhs_68550 = ((__global int64_t *) mem_70617)[(int64_t) 0];\n    get_id_from_grid_angle_res_68551 = add64(defunc_0_foldl_res_68549, zp_lhs_68550);\n    ((__global int64_t *) mem_70536)[index_primexp_55698] = get_id_from_grid_angle_res_68551;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_71872(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_71871, int64_t virt_num_tblocks_71877, int64_t num_tblocks_71878, __global unsigned char *mem_68662, __global unsigned char *mem_68665)\n{\n    int32_t replicate_ltid_71873;\n    int32_t tblock_sizze_71875;\n    int32_t replicate_gid_71874;\n    int32_t replicate_gtid_71872;\n    int32_t phys_tblock_id_71879;\n    int32_t iterations_71880;\n    \n    replicate_ltid_71873 = get_local_id(0);\n    tblock_sizze_71875 = get_local_size(0);\n    replicate_gid_71874 = get_tblock_id(0);\n    replicate_gtid_71872 = replicate_gid_71874", " * tblock_sizze_71875 + replicate_ltid_71873;\n    phys_tblock_id_71879 = get_tblock_id(0);\n    iterations_71880 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71877) - phys_tblock_id_71879, sext_i64_i32(num_tblocks_71878));\n    for (int32_t i_71881 = 0; i_71881 < iterations_71880; i_71881++) {\n        int32_t virt_tblock_id_71882;\n        int64_t global_tid_71883;\n        int64_t slice_71886;\n        int64_t slice_71887;\n        int64_t rep_i_71884;\n        int64_t remnant_71888;\n        int64_t rep_i_71885;\n        int64_t remnant_71889;\n        \n        virt_tblock_id_71882 = phys_tblock_id_71879 + i_71881 * sext_i64_i32(num_tblocks_71878);\n        global_tid_71883 = sext_i32_i64(virt_tblock_id_71882) * sext_i32_i64(tblock_sizze_71875) + sext_i32_i64(replicate_ltid_71873);\n        slice_71886 = n_38267;\n        slice_71887 = dim_38264 * slice_71886;\n        rep_i_71884 = squot64(global_tid_71883, slice_71886);\n        remnant_71888 = global_tid_71883 - rep_i_71884 * slice_71886;\n        rep_i_71885 = remnant_71888;\n        remnant_71889 = remnant_71888 - rep_i_71885;\n        if (slt64(global_tid_71883, replicate_n_71871)) {\n            int64_t tmp_71890 = ((__global int64_t *) mem_68662)[rep_i_71885];\n            \n            ((__global int64_t *) mem_68665)[rep_i_71884 * n_38267 + rep_i_71885] = tmp_71890;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_71915(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_71914, int64_t virt_num_tblocks_71920, int64_t num_tblocks_71921, __global unsigned char *mem_68714, __global unsigned char *mem_68717)\n{\n    int32_t replicate_ltid_71916;\n    int32_t tblock_sizze_71918;\n    int32_t replicate_gid_71917;\n    int32_t replicate_gtid_71915;\n    int32_t phys_tblock_id_71922;\n    int32_t iterations_71923;\n    \n    replicate_ltid_71916 = get_local_id(0);\n    tblock_sizze_71918 = get_local_size(0);\n    replicate_gid_7191",
                                    "7 = get_tblock_id(0);\n    replicate_gtid_71915 = replicate_gid_71917 * tblock_sizze_71918 + replicate_ltid_71916;\n    phys_tblock_id_71922 = get_tblock_id(0);\n    iterations_71923 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71920) - phys_tblock_id_71922, sext_i64_i32(num_tblocks_71921));\n    for (int32_t i_71924 = 0; i_71924 < iterations_71923; i_71924++) {\n        int32_t virt_tblock_id_71925;\n        int64_t global_tid_71926;\n        int64_t slice_71929;\n        int64_t slice_71930;\n        int64_t rep_i_71927;\n        int64_t remnant_71931;\n        int64_t rep_i_71928;\n        int64_t remnant_71932;\n        \n        virt_tblock_id_71925 = phys_tblock_id_71922 + i_71924 * sext_i64_i32(num_tblocks_71921);\n        global_tid_71926 = sext_i32_i64(virt_tblock_id_71925) * sext_i32_i64(tblock_sizze_71918) + sext_i32_i64(replicate_ltid_71916);\n        slice_71929 = n_38267;\n        slice_71930 = dim_38264 * slice_71929;\n        rep_i_71927 = squot64(global_tid_71926, slice_71929);\n        remnant_71931 = global_tid_71926 - rep_i_71927 * slice_71929;\n        rep_i_71928 = remnant_71931;\n        remnant_71932 = remnant_71931 - rep_i_71928;\n        if (slt64(global_tid_71926, replicate_n_71914)) {\n            int64_t tmp_71933 = ((__global int64_t *) mem_68714)[rep_i_71928];\n            \n            ((__global int64_t *) mem_68717)[rep_i_71927 * n_38267 + rep_i_71928] = tmp_71933;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_71959(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_71958, int64_t virt_num_tblocks_71964, int64_t num_tblocks_71965, __global unsigned char *mem_68798, __global unsigned char *mem_68801)\n{\n    int32_t replicate_ltid_71960;\n    int32_t tblock_sizze_71962;\n    int32_t replicate_gid_71961;\n    int32_t replicate_gtid_71959;\n    int32_t phys_tblock_id_71966;\n    int32_t iterations_71967;\n    \n    replicate_ltid_71960 = get_local_id(0)", ";\n    tblock_sizze_71962 = get_local_size(0);\n    replicate_gid_71961 = get_tblock_id(0);\n    replicate_gtid_71959 = replicate_gid_71961 * tblock_sizze_71962 + replicate_ltid_71960;\n    phys_tblock_id_71966 = get_tblock_id(0);\n    iterations_71967 = sdiv_up32(sext_i64_i32(virt_num_tblocks_71964) - phys_tblock_id_71966, sext_i64_i32(num_tblocks_71965));\n    for (int32_t i_71968 = 0; i_71968 < iterations_71967; i_71968++) {\n        int32_t virt_tblock_id_71969;\n        int64_t global_tid_71970;\n        int64_t slice_71973;\n        int64_t slice_71974;\n        int64_t rep_i_71971;\n        int64_t remnant_71975;\n        int64_t rep_i_71972;\n        int64_t remnant_71976;\n        \n        virt_tblock_id_71969 = phys_tblock_id_71966 + i_71968 * sext_i64_i32(num_tblocks_71965);\n        global_tid_71970 = sext_i32_i64(virt_tblock_id_71969) * sext_i32_i64(tblock_sizze_71962) + sext_i32_i64(replicate_ltid_71960);\n        slice_71973 = n_38267;\n        slice_71974 = dim_38264 * slice_71973;\n        rep_i_71971 = squot64(global_tid_71970, slice_71973);\n        remnant_71975 = global_tid_71970 - rep_i_71971 * slice_71973;\n        rep_i_71972 = remnant_71975;\n        remnant_71976 = remnant_71975 - rep_i_71972;\n        if (slt64(global_tid_71970, replicate_n_71958)) {\n            int64_t tmp_71977 = ((__global int64_t *) mem_68798)[rep_i_71972];\n            \n            ((__global int64_t *) mem_68801)[rep_i_71971 * n_38267 + rep_i_71972] = tmp_71977;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72037(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_72036, int64_t virt_num_tblocks_72042, int64_t num_tblocks_72043, __global unsigned char *mem_68919, __global unsigned char *mem_68922)\n{\n    int32_t replicate_ltid_72038;\n    int32_t tblock_sizze_72040;\n    int32_t replicate_gid_72039;\n    int32_t replicate_gtid_72037;\n    int32_t phys_tblock_id_72044;\n    int32", "_t iterations_72045;\n    \n    replicate_ltid_72038 = get_local_id(0);\n    tblock_sizze_72040 = get_local_size(0);\n    replicate_gid_72039 = get_tblock_id(0);\n    replicate_gtid_72037 = replicate_gid_72039 * tblock_sizze_72040 + replicate_ltid_72038;\n    phys_tblock_id_72044 = get_tblock_id(0);\n    iterations_72045 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72042) - phys_tblock_id_72044, sext_i64_i32(num_tblocks_72043));\n    for (int32_t i_72046 = 0; i_72046 < iterations_72045; i_72046++) {\n        int32_t virt_tblock_id_72047;\n        int64_t global_tid_72048;\n        int64_t slice_72051;\n        int64_t slice_72052;\n        int64_t rep_i_72049;\n        int64_t remnant_72053;\n        int64_t rep_i_72050;\n        int64_t remnant_72054;\n        \n        virt_tblock_id_72047 = phys_tblock_id_72044 + i_72046 * sext_i64_i32(num_tblocks_72043);\n        global_tid_72048 = sext_i32_i64(virt_tblock_id_72047) * sext_i32_i64(tblock_sizze_72040) + sext_i32_i64(replicate_ltid_72038);\n        slice_72051 = n_38267;\n        slice_72052 = dim_38264 * slice_72051;\n        rep_i_72049 = squot64(global_tid_72048, slice_72051);\n        remnant_72053 = global_tid_72048 - rep_i_72049 * slice_72051;\n        rep_i_72050 = remnant_72053;\n        remnant_72054 = remnant_72053 - rep_i_72050;\n        if (slt64(global_tid_72048, replicate_n_72036)) {\n            double tmp_72055 = ((__global double *) mem_68919)[rep_i_72050 * dim_38264];\n            \n            ((__global double *) mem_68922)[rep_i_72049 * n_38267 + rep_i_72050] = tmp_72055;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72425(int64_t next_stride_54862, int64_t num_merges_54866, int64_t replicate_n_72424, int64_t virt_num_tblocks_72430, int64_t num_tblocks_72431, __global unsigned char *ext_mem_69606, __global unsigned char *mem_69609)\n{\n    int32_t replicate_ltid_72426;\n    int32_t tblock_sizze_72428;\n    int32_t ",
                                    "replicate_gid_72427;\n    int32_t replicate_gtid_72425;\n    int32_t phys_tblock_id_72432;\n    int32_t iterations_72433;\n    \n    replicate_ltid_72426 = get_local_id(0);\n    tblock_sizze_72428 = get_local_size(0);\n    replicate_gid_72427 = get_tblock_id(0);\n    replicate_gtid_72425 = replicate_gid_72427 * tblock_sizze_72428 + replicate_ltid_72426;\n    phys_tblock_id_72432 = get_tblock_id(0);\n    iterations_72433 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72430) - phys_tblock_id_72432, sext_i64_i32(num_tblocks_72431));\n    for (int32_t i_72434 = 0; i_72434 < iterations_72433; i_72434++) {\n        int32_t virt_tblock_id_72435;\n        int64_t global_tid_72436;\n        int64_t slice_72439;\n        int64_t slice_72440;\n        int64_t rep_i_72437;\n        int64_t remnant_72441;\n        int64_t rep_i_72438;\n        int64_t remnant_72442;\n        \n        virt_tblock_id_72435 = phys_tblock_id_72432 + i_72434 * sext_i64_i32(num_tblocks_72431);\n        global_tid_72436 = sext_i32_i64(virt_tblock_id_72435) * sext_i32_i64(tblock_sizze_72428) + sext_i32_i64(replicate_ltid_72426);\n        slice_72439 = num_merges_54866;\n        slice_72440 = next_stride_54862 * slice_72439;\n        rep_i_72437 = squot64(global_tid_72436, slice_72439);\n        remnant_72441 = global_tid_72436 - rep_i_72437 * slice_72439;\n        rep_i_72438 = remnant_72441;\n        remnant_72442 = remnant_72441 - rep_i_72438;\n        if (slt64(global_tid_72436, replicate_n_72424)) {\n            int64_t tmp_72443 = ((__global int64_t *) ext_mem_69606)[rep_i_72438];\n            \n            ((__global int64_t *) mem_69609)[rep_i_72437 * num_merges_54866 + rep_i_72438] = tmp_72443;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72445(int64_t next_stride_54862, int64_t num_merges_54866, int64_t replicate_n_72444, int64_t virt_num_tblocks_72450, int64_t num_tblocks_72451, __global unsigned char *ext_mem_696", "04, __global unsigned char *mem_69612)\n{\n    int32_t replicate_ltid_72446;\n    int32_t tblock_sizze_72448;\n    int32_t replicate_gid_72447;\n    int32_t replicate_gtid_72445;\n    int32_t phys_tblock_id_72452;\n    int32_t iterations_72453;\n    \n    replicate_ltid_72446 = get_local_id(0);\n    tblock_sizze_72448 = get_local_size(0);\n    replicate_gid_72447 = get_tblock_id(0);\n    replicate_gtid_72445 = replicate_gid_72447 * tblock_sizze_72448 + replicate_ltid_72446;\n    phys_tblock_id_72452 = get_tblock_id(0);\n    iterations_72453 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72450) - phys_tblock_id_72452, sext_i64_i32(num_tblocks_72451));\n    for (int32_t i_72454 = 0; i_72454 < iterations_72453; i_72454++) {\n        int32_t virt_tblock_id_72455;\n        int64_t global_tid_72456;\n        int64_t slice_72459;\n        int64_t slice_72460;\n        int64_t rep_i_72457;\n        int64_t remnant_72461;\n        int64_t rep_i_72458;\n        int64_t remnant_72462;\n        \n        virt_tblock_id_72455 = phys_tblock_id_72452 + i_72454 * sext_i64_i32(num_tblocks_72451);\n        global_tid_72456 = sext_i32_i64(virt_tblock_id_72455) * sext_i32_i64(tblock_sizze_72448) + sext_i32_i64(replicate_ltid_72446);\n        slice_72459 = num_merges_54866;\n        slice_72460 = next_stride_54862 * slice_72459;\n        rep_i_72457 = squot64(global_tid_72456, slice_72459);\n        remnant_72461 = global_tid_72456 - rep_i_72457 * slice_72459;\n        rep_i_72458 = remnant_72461;\n        remnant_72462 = remnant_72461 - rep_i_72458;\n        if (slt64(global_tid_72456, replicate_n_72444)) {\n            int64_t tmp_72463 = ((__global int64_t *) ext_mem_69604)[rep_i_72458];\n            \n            ((__global int64_t *) mem_69612)[rep_i_72457 * num_merges_54866 + rep_i_72458] = tmp_72463;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72465(int64_t dim_38264, int64_t next_stride_54862, int64_t n", "um_merges_54866, int64_t replicate_n_72464, int64_t virt_num_tblocks_72470, int64_t num_tblocks_72471, __global unsigned char *ext_mem_69605, __global unsigned char *mem_69616)\n{\n    int32_t replicate_ltid_72466;\n    int32_t tblock_sizze_72468;\n    int32_t replicate_gid_72467;\n    int32_t replicate_gtid_72465;\n    int32_t phys_tblock_id_72472;\n    int32_t iterations_72473;\n    \n    replicate_ltid_72466 = get_local_id(0);\n    tblock_sizze_72468 = get_local_size(0);\n    replicate_gid_72467 = get_tblock_id(0);\n    replicate_gtid_72465 = replicate_gid_72467 * tblock_sizze_72468 + replicate_ltid_72466;\n    phys_tblock_id_72472 = get_tblock_id(0);\n    iterations_72473 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72470) - phys_tblock_id_72472, sext_i64_i32(num_tblocks_72471));\n    for (int32_t i_72474 = 0; i_72474 < iterations_72473; i_72474++) {\n        int32_t virt_tblock_id_72475;\n        int64_t global_tid_72476;\n        int64_t slice_72480;\n        int64_t slice_72481;\n        int64_t slice_72482;\n        int64_t rep_i_72477;\n        int64_t remnant_72483;\n        int64_t rep_i_72478;\n        int64_t remnant_72484;\n        int64_t rep_i_72479;\n        int64_t remnant_72485;\n        \n        virt_tblock_id_72475 = phys_tblock_id_72472 + i_72474 * sext_i64_i32(num_tblocks_72471);\n        global_tid_72476 = sext_i32_i64(virt_tblock_id_72475) * sext_i32_i64(tblock_sizze_72468) + sext_i32_i64(replicate_ltid_72466);\n        slice_72480 = num_merges_54866;\n        slice_72481 = dim_38264 * slice_72480;\n        slice_72482 = next_stride_54862 * slice_72481;\n        rep_i_72477 = squot64(global_tid_72476, slice_72481);\n        remnant_72483 = global_tid_72476 - rep_i_72477 * slice_72481;\n        rep_i_72478 = squot64(remnant_72483, slice_72480);\n        remnant_72484 = remnant_72483 - rep_i_72478 * slice_72480;\n        rep_i_72479 = remnant_72484;\n        remnant_72485 = remnant_72484 - rep_i_72479;\n        if (slt64(global_tid_72476, replicate_n_72464)) {\n            double tmp_",
                                    "72486 = ((__global double *) ext_mem_69605)[rep_i_72478 + rep_i_72479 * dim_38264];\n            \n            ((__global double *) mem_69616)[rep_i_72477 * (num_merges_54866 * dim_38264) + rep_i_72478 * num_merges_54866 + rep_i_72479] = tmp_72486;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72623(int64_t greatest_divisor_leq_than_res_54727, int64_t num_merges_54866, int64_t num_blocks_54882, int64_t replicate_n_72622, int64_t virt_num_tblocks_72628, int64_t num_tblocks_72629, __global unsigned char *mem_69270, __global unsigned char *mem_69308)\n{\n    int32_t replicate_ltid_72624;\n    int32_t tblock_sizze_72626;\n    int32_t replicate_gid_72625;\n    int32_t replicate_gtid_72623;\n    int32_t phys_tblock_id_72630;\n    int32_t iterations_72631;\n    \n    replicate_ltid_72624 = get_local_id(0);\n    tblock_sizze_72626 = get_local_size(0);\n    replicate_gid_72625 = get_tblock_id(0);\n    replicate_gtid_72623 = replicate_gid_72625 * tblock_sizze_72626 + replicate_ltid_72624;\n    phys_tblock_id_72630 = get_tblock_id(0);\n    iterations_72631 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72628) - phys_tblock_id_72630, sext_i64_i32(num_tblocks_72629));\n    for (int32_t i_72632 = 0; i_72632 < iterations_72631; i_72632++) {\n        int32_t virt_tblock_id_72633;\n        int64_t global_tid_72634;\n        int64_t slice_72638;\n        int64_t slice_72639;\n        int64_t slice_72640;\n        int64_t rep_i_72635;\n        int64_t remnant_72641;\n        int64_t rep_i_72636;\n        int64_t remnant_72642;\n        int64_t rep_i_72637;\n        int64_t remnant_72643;\n        \n        virt_tblock_id_72633 = phys_tblock_id_72630 + i_72632 * sext_i64_i32(num_tblocks_72629);\n        global_tid_72634 = sext_i32_i64(virt_tblock_id_72633) * sext_i32_i64(tblock_sizze_72626) + sext_i32_i64(replicate_ltid_72624);\n        slice_72638 = num_blocks_54882;\n        slice_72639 = num_merges_54866 *", " slice_72638;\n        slice_72640 = greatest_divisor_leq_than_res_54727 * slice_72639;\n        rep_i_72635 = squot64(global_tid_72634, slice_72639);\n        remnant_72641 = global_tid_72634 - rep_i_72635 * slice_72639;\n        rep_i_72636 = squot64(remnant_72641, slice_72638);\n        remnant_72642 = remnant_72641 - rep_i_72636 * slice_72638;\n        rep_i_72637 = remnant_72642;\n        remnant_72643 = remnant_72642 - rep_i_72637;\n        if (slt64(global_tid_72634, replicate_n_72622)) {\n            int64_t tmp_72644 = ((__global int64_t *) mem_69270)[rep_i_72636 * num_blocks_54882 + rep_i_72637];\n            \n            ((__global int64_t *) mem_69308)[rep_i_72635 * (num_blocks_54882 * num_merges_54866) + rep_i_72636 * num_blocks_54882 + rep_i_72637] = tmp_72644;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72646(int64_t greatest_divisor_leq_than_res_54727, int64_t num_merges_54866, int64_t num_blocks_54882, int64_t replicate_n_72645, int64_t virt_num_tblocks_72651, int64_t num_tblocks_72652, __global unsigned char *mem_69273, __global unsigned char *mem_69312)\n{\n    int32_t replicate_ltid_72647;\n    int32_t tblock_sizze_72649;\n    int32_t replicate_gid_72648;\n    int32_t replicate_gtid_72646;\n    int32_t phys_tblock_id_72653;\n    int32_t iterations_72654;\n    \n    replicate_ltid_72647 = get_local_id(0);\n    tblock_sizze_72649 = get_local_size(0);\n    replicate_gid_72648 = get_tblock_id(0);\n    replicate_gtid_72646 = replicate_gid_72648 * tblock_sizze_72649 + replicate_ltid_72647;\n    phys_tblock_id_72653 = get_tblock_id(0);\n    iterations_72654 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72651) - phys_tblock_id_72653, sext_i64_i32(num_tblocks_72652));\n    for (int32_t i_72655 = 0; i_72655 < iterations_72654; i_72655++) {\n        int32_t virt_tblock_id_72656;\n        int64_t global_tid_72657;\n        int64_t slice_72661;\n        int64_t slice_72662;\n ", "       int64_t slice_72663;\n        int64_t rep_i_72658;\n        int64_t remnant_72664;\n        int64_t rep_i_72659;\n        int64_t remnant_72665;\n        int64_t rep_i_72660;\n        int64_t remnant_72666;\n        \n        virt_tblock_id_72656 = phys_tblock_id_72653 + i_72655 * sext_i64_i32(num_tblocks_72652);\n        global_tid_72657 = sext_i32_i64(virt_tblock_id_72656) * sext_i32_i64(tblock_sizze_72649) + sext_i32_i64(replicate_ltid_72647);\n        slice_72661 = num_blocks_54882;\n        slice_72662 = num_merges_54866 * slice_72661;\n        slice_72663 = greatest_divisor_leq_than_res_54727 * slice_72662;\n        rep_i_72658 = squot64(global_tid_72657, slice_72662);\n        remnant_72664 = global_tid_72657 - rep_i_72658 * slice_72662;\n        rep_i_72659 = squot64(remnant_72664, slice_72661);\n        remnant_72665 = remnant_72664 - rep_i_72659 * slice_72661;\n        rep_i_72660 = remnant_72665;\n        remnant_72666 = remnant_72665 - rep_i_72660;\n        if (slt64(global_tid_72657, replicate_n_72645)) {\n            int64_t tmp_72667 = ((__global int64_t *) mem_69273)[rep_i_72659 * num_blocks_54882 + rep_i_72660];\n            \n            ((__global int64_t *) mem_69312)[rep_i_72658 * (num_blocks_54882 * num_merges_54866) + rep_i_72659 * num_blocks_54882 + rep_i_72660] = tmp_72667;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_72669(int64_t dim_38264, int64_t greatest_divisor_leq_than_res_54727, int64_t num_merges_54866, int64_t num_blocks_54882, int64_t replicate_n_72668, int64_t virt_num_tblocks_72674, int64_t num_tblocks_72675, __global unsigned char *mem_69290, __global unsigned char *mem_69317)\n{\n    int32_t replicate_ltid_72670;\n    int32_t tblock_sizze_72672;\n    int32_t replicate_gid_72671;\n    int32_t replicate_gtid_72669;\n    int32_t phys_tblock_id_72676;\n    int32_t iterations_72677;\n    \n    replicate_ltid_72670 = get_local_id(0);\n    tbl",
                                    "ock_sizze_72672 = get_local_size(0);\n    replicate_gid_72671 = get_tblock_id(0);\n    replicate_gtid_72669 = replicate_gid_72671 * tblock_sizze_72672 + replicate_ltid_72670;\n    phys_tblock_id_72676 = get_tblock_id(0);\n    iterations_72677 = sdiv_up32(sext_i64_i32(virt_num_tblocks_72674) - phys_tblock_id_72676, sext_i64_i32(num_tblocks_72675));\n    for (int32_t i_72678 = 0; i_72678 < iterations_72677; i_72678++) {\n        int32_t virt_tblock_id_72679;\n        int64_t global_tid_72680;\n        int64_t slice_72685;\n        int64_t slice_72686;\n        int64_t slice_72687;\n        int64_t slice_72688;\n        int64_t rep_i_72681;\n        int64_t remnant_72689;\n        int64_t rep_i_72682;\n        int64_t remnant_72690;\n        int64_t rep_i_72683;\n        int64_t remnant_72691;\n        int64_t rep_i_72684;\n        int64_t remnant_72692;\n        \n        virt_tblock_id_72679 = phys_tblock_id_72676 + i_72678 * sext_i64_i32(num_tblocks_72675);\n        global_tid_72680 = sext_i32_i64(virt_tblock_id_72679) * sext_i32_i64(tblock_sizze_72672) + sext_i32_i64(replicate_ltid_72670);\n        slice_72685 = num_blocks_54882;\n        slice_72686 = num_merges_54866 * slice_72685;\n        slice_72687 = dim_38264 * slice_72686;\n        slice_72688 = greatest_divisor_leq_than_res_54727 * slice_72687;\n        rep_i_72681 = squot64(global_tid_72680, slice_72687);\n        remnant_72689 = global_tid_72680 - rep_i_72681 * slice_72687;\n        rep_i_72682 = squot64(remnant_72689, slice_72686);\n        remnant_72690 = remnant_72689 - rep_i_72682 * slice_72686;\n        rep_i_72683 = squot64(remnant_72690, slice_72685);\n        remnant_72691 = remnant_72690 - rep_i_72683 * slice_72685;\n        rep_i_72684 = remnant_72691;\n        remnant_72692 = remnant_72691 - rep_i_72684;\n        if (slt64(global_tid_72680, replicate_n_72668)) {\n            double tmp_72693 = ((__global double *) mem_69290)[rep_i_72682 * (num_blocks_54882 * num_merges_54866) + rep_i_72683 * num_blocks_54882 + rep_i_72684];\n    ", "        \n            ((__global double *) mem_69317)[rep_i_72681 * (num_blocks_54882 * num_merges_54866 * dim_38264) + rep_i_72682 * (num_blocks_54882 * num_merges_54866) + rep_i_72683 * num_blocks_54882 + rep_i_72684] = tmp_72693;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73161(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_73160, int64_t virt_num_tblocks_73166, int64_t num_tblocks_73167, __global unsigned char *mem_70022, __global unsigned char *mem_70025)\n{\n    int32_t replicate_ltid_73162;\n    int32_t tblock_sizze_73164;\n    int32_t replicate_gid_73163;\n    int32_t replicate_gtid_73161;\n    int32_t phys_tblock_id_73168;\n    int32_t iterations_73169;\n    \n    replicate_ltid_73162 = get_local_id(0);\n    tblock_sizze_73164 = get_local_size(0);\n    replicate_gid_73163 = get_tblock_id(0);\n    replicate_gtid_73161 = replicate_gid_73163 * tblock_sizze_73164 + replicate_ltid_73162;\n    phys_tblock_id_73168 = get_tblock_id(0);\n    iterations_73169 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73166) - phys_tblock_id_73168, sext_i64_i32(num_tblocks_73167));\n    for (int32_t i_73170 = 0; i_73170 < iterations_73169; i_73170++) {\n        int32_t virt_tblock_id_73171;\n        int64_t global_tid_73172;\n        int64_t slice_73175;\n        int64_t slice_73176;\n        int64_t rep_i_73173;\n        int64_t remnant_73177;\n        int64_t rep_i_73174;\n        int64_t remnant_73178;\n        \n        virt_tblock_id_73171 = phys_tblock_id_73168 + i_73170 * sext_i64_i32(num_tblocks_73167);\n        global_tid_73172 = sext_i32_i64(virt_tblock_id_73171) * sext_i32_i64(tblock_sizze_73164) + sext_i32_i64(replicate_ltid_73162);\n        slice_73175 = n_38267;\n        slice_73176 = dim_38264 * slice_73175;\n        rep_i_73173 = squot64(global_tid_73172, slice_73175);\n        remnant_73177 = global_tid_73172 - rep_i_73173 * slice_73175;\n        rep_i_73174 = remnant_73177", ";\n        remnant_73178 = remnant_73177 - rep_i_73174;\n        if (slt64(global_tid_73172, replicate_n_73160)) {\n            int64_t tmp_73179 = ((__global int64_t *) mem_70022)[rep_i_73174];\n            \n            ((__global int64_t *) mem_70025)[rep_i_73173 * n_38267 + rep_i_73174] = tmp_73179;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73204(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_73203, int64_t virt_num_tblocks_73209, int64_t num_tblocks_73210, __global unsigned char *mem_70074, __global unsigned char *mem_70077)\n{\n    int32_t replicate_ltid_73205;\n    int32_t tblock_sizze_73207;\n    int32_t replicate_gid_73206;\n    int32_t replicate_gtid_73204;\n    int32_t phys_tblock_id_73211;\n    int32_t iterations_73212;\n    \n    replicate_ltid_73205 = get_local_id(0);\n    tblock_sizze_73207 = get_local_size(0);\n    replicate_gid_73206 = get_tblock_id(0);\n    replicate_gtid_73204 = replicate_gid_73206 * tblock_sizze_73207 + replicate_ltid_73205;\n    phys_tblock_id_73211 = get_tblock_id(0);\n    iterations_73212 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73209) - phys_tblock_id_73211, sext_i64_i32(num_tblocks_73210));\n    for (int32_t i_73213 = 0; i_73213 < iterations_73212; i_73213++) {\n        int32_t virt_tblock_id_73214;\n        int64_t global_tid_73215;\n        int64_t slice_73218;\n        int64_t slice_73219;\n        int64_t rep_i_73216;\n        int64_t remnant_73220;\n        int64_t rep_i_73217;\n        int64_t remnant_73221;\n        \n        virt_tblock_id_73214 = phys_tblock_id_73211 + i_73213 * sext_i64_i32(num_tblocks_73210);\n        global_tid_73215 = sext_i32_i64(virt_tblock_id_73214) * sext_i32_i64(tblock_sizze_73207) + sext_i32_i64(replicate_ltid_73205);\n        slice_73218 = n_38267;\n        slice_73219 = dim_38264 * slice_73218;\n        rep_i_73216 = squot64(global_tid_73215, slice_73218);\n        remnant_73220 = global_tid_73",
                                    "215 - rep_i_73216 * slice_73218;\n        rep_i_73217 = remnant_73220;\n        remnant_73221 = remnant_73220 - rep_i_73217;\n        if (slt64(global_tid_73215, replicate_n_73203)) {\n            int64_t tmp_73222 = ((__global int64_t *) mem_70074)[rep_i_73217];\n            \n            ((__global int64_t *) mem_70077)[rep_i_73216 * n_38267 + rep_i_73217] = tmp_73222;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73248(int64_t dim_38264, int64_t n_38267, int64_t replicate_n_73247, int64_t virt_num_tblocks_73253, int64_t num_tblocks_73254, __global unsigned char *mem_70158, __global unsigned char *mem_70161)\n{\n    int32_t replicate_ltid_73249;\n    int32_t tblock_sizze_73251;\n    int32_t replicate_gid_73250;\n    int32_t replicate_gtid_73248;\n    int32_t phys_tblock_id_73255;\n    int32_t iterations_73256;\n    \n    replicate_ltid_73249 = get_local_id(0);\n    tblock_sizze_73251 = get_local_size(0);\n    replicate_gid_73250 = get_tblock_id(0);\n    replicate_gtid_73248 = replicate_gid_73250 * tblock_sizze_73251 + replicate_ltid_73249;\n    phys_tblock_id_73255 = get_tblock_id(0);\n    iterations_73256 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73253) - phys_tblock_id_73255, sext_i64_i32(num_tblocks_73254));\n    for (int32_t i_73257 = 0; i_73257 < iterations_73256; i_73257++) {\n        int32_t virt_tblock_id_73258;\n        int64_t global_tid_73259;\n        int64_t slice_73262;\n        int64_t slice_73263;\n        int64_t rep_i_73260;\n        int64_t remnant_73264;\n        int64_t rep_i_73261;\n        int64_t remnant_73265;\n        \n        virt_tblock_id_73258 = phys_tblock_id_73255 + i_73257 * sext_i64_i32(num_tblocks_73254);\n        global_tid_73259 = sext_i32_i64(virt_tblock_id_73258) * sext_i32_i64(tblock_sizze_73251) + sext_i32_i64(replicate_ltid_73249);\n        slice_73262 = n_38267;\n        slice_73263 = dim_38264 * slice_73262;\n        rep_i_73260 = squot64(g", "lobal_tid_73259, slice_73262);\n        remnant_73264 = global_tid_73259 - rep_i_73260 * slice_73262;\n        rep_i_73261 = remnant_73264;\n        remnant_73265 = remnant_73264 - rep_i_73261;\n        if (slt64(global_tid_73259, replicate_n_73247)) {\n            int64_t tmp_73266 = ((__global int64_t *) mem_70158)[rep_i_73261];\n            \n            ((__global int64_t *) mem_70161)[rep_i_73260 * n_38267 + rep_i_73261] = tmp_73266;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73471(int64_t dim_38264, int64_t replicate_n_73470, int64_t virt_num_tblocks_73476, int64_t num_tblocks_73477, __global unsigned char *mem_70413, __global unsigned char *mem_70415)\n{\n    int32_t replicate_ltid_73472;\n    int32_t tblock_sizze_73474;\n    int32_t replicate_gid_73473;\n    int32_t replicate_gtid_73471;\n    int32_t phys_tblock_id_73478;\n    int32_t iterations_73479;\n    \n    replicate_ltid_73472 = get_local_id(0);\n    tblock_sizze_73474 = get_local_size(0);\n    replicate_gid_73473 = get_tblock_id(0);\n    replicate_gtid_73471 = replicate_gid_73473 * tblock_sizze_73474 + replicate_ltid_73472;\n    phys_tblock_id_73478 = get_tblock_id(0);\n    iterations_73479 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73476) - phys_tblock_id_73478, sext_i64_i32(num_tblocks_73477));\n    for (int32_t i_73480 = 0; i_73480 < iterations_73479; i_73480++) {\n        int32_t virt_tblock_id_73481;\n        int64_t global_tid_73482;\n        int64_t slice_73485;\n        int64_t slice_73486;\n        int64_t rep_i_73483;\n        int64_t remnant_73487;\n        int64_t rep_i_73484;\n        int64_t remnant_73488;\n        \n        virt_tblock_id_73481 = phys_tblock_id_73478 + i_73480 * sext_i64_i32(num_tblocks_73477);\n        global_tid_73482 = sext_i32_i64(virt_tblock_id_73481) * sext_i32_i64(tblock_sizze_73474) + sext_i32_i64(replicate_ltid_73472);\n        slice_73485 = (int64_t) 1;\n        slice_73486 = d", "im_38264 * slice_73485;\n        rep_i_73483 = squot64(global_tid_73482, slice_73485);\n        remnant_73487 = global_tid_73482 - rep_i_73483 * slice_73485;\n        rep_i_73484 = remnant_73487;\n        remnant_73488 = remnant_73487 - rep_i_73484;\n        if (slt64(global_tid_73482, replicate_n_73470)) {\n            int64_t tmp_73489 = ((__global int64_t *) mem_70413)[rep_i_73484];\n            \n            ((__global int64_t *) mem_70415)[rep_i_73483 + rep_i_73484] = tmp_73489;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73504(int64_t dim_38264, int64_t replicate_n_73503, int64_t virt_num_tblocks_73509, int64_t num_tblocks_73510, __global unsigned char *mem_70428, __global unsigned char *mem_70430)\n{\n    int32_t replicate_ltid_73505;\n    int32_t tblock_sizze_73507;\n    int32_t replicate_gid_73506;\n    int32_t replicate_gtid_73504;\n    int32_t phys_tblock_id_73511;\n    int32_t iterations_73512;\n    \n    replicate_ltid_73505 = get_local_id(0);\n    tblock_sizze_73507 = get_local_size(0);\n    replicate_gid_73506 = get_tblock_id(0);\n    replicate_gtid_73504 = replicate_gid_73506 * tblock_sizze_73507 + replicate_ltid_73505;\n    phys_tblock_id_73511 = get_tblock_id(0);\n    iterations_73512 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73509) - phys_tblock_id_73511, sext_i64_i32(num_tblocks_73510));\n    for (int32_t i_73513 = 0; i_73513 < iterations_73512; i_73513++) {\n        int32_t virt_tblock_id_73514;\n        int64_t global_tid_73515;\n        int64_t slice_73518;\n        int64_t slice_73519;\n        int64_t rep_i_73516;\n        int64_t remnant_73520;\n        int64_t rep_i_73517;\n        int64_t remnant_73521;\n        \n        virt_tblock_id_73514 = phys_tblock_id_73511 + i_73513 * sext_i64_i32(num_tblocks_73510);\n        global_tid_73515 = sext_i32_i64(virt_tblock_id_73514) * sext_i32_i64(tblock_sizze_73507) + sext_i32_i64(replicate_ltid_73505);\n        slice",
                                    "_73518 = (int64_t) 1;\n        slice_73519 = dim_38264 * slice_73518;\n        rep_i_73516 = squot64(global_tid_73515, slice_73518);\n        remnant_73520 = global_tid_73515 - rep_i_73516 * slice_73518;\n        rep_i_73517 = remnant_73520;\n        remnant_73521 = remnant_73520 - rep_i_73517;\n        if (slt64(global_tid_73515, replicate_n_73503)) {\n            int64_t tmp_73522 = ((__global int64_t *) mem_70428)[rep_i_73517];\n            \n            ((__global int64_t *) mem_70430)[rep_i_73516 + rep_i_73517] = tmp_73522;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73537(int64_t dim_38264, int64_t replicate_n_73536, int64_t virt_num_tblocks_73542, int64_t num_tblocks_73543, __global unsigned char *mem_70443, __global unsigned char *mem_70445)\n{\n    int32_t replicate_ltid_73538;\n    int32_t tblock_sizze_73540;\n    int32_t replicate_gid_73539;\n    int32_t replicate_gtid_73537;\n    int32_t phys_tblock_id_73544;\n    int32_t iterations_73545;\n    \n    replicate_ltid_73538 = get_local_id(0);\n    tblock_sizze_73540 = get_local_size(0);\n    replicate_gid_73539 = get_tblock_id(0);\n    replicate_gtid_73537 = replicate_gid_73539 * tblock_sizze_73540 + replicate_ltid_73538;\n    phys_tblock_id_73544 = get_tblock_id(0);\n    iterations_73545 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73542) - phys_tblock_id_73544, sext_i64_i32(num_tblocks_73543));\n    for (int32_t i_73546 = 0; i_73546 < iterations_73545; i_73546++) {\n        int32_t virt_tblock_id_73547;\n        int64_t global_tid_73548;\n        int64_t slice_73551;\n        int64_t slice_73552;\n        int64_t rep_i_73549;\n        int64_t remnant_73553;\n        int64_t rep_i_73550;\n        int64_t remnant_73554;\n        \n        virt_tblock_id_73547 = phys_tblock_id_73544 + i_73546 * sext_i64_i32(num_tblocks_73543);\n        global_tid_73548 = sext_i32_i64(virt_tblock_id_73547) * sext_i32_i64(tblock_sizze_73540) + sext", "_i32_i64(replicate_ltid_73538);\n        slice_73551 = (int64_t) 1;\n        slice_73552 = dim_38264 * slice_73551;\n        rep_i_73549 = squot64(global_tid_73548, slice_73551);\n        remnant_73553 = global_tid_73548 - rep_i_73549 * slice_73551;\n        rep_i_73550 = remnant_73553;\n        remnant_73554 = remnant_73553 - rep_i_73550;\n        if (slt64(global_tid_73548, replicate_n_73536)) {\n            int64_t tmp_73555 = ((__global int64_t *) mem_70443)[rep_i_73550];\n            \n            ((__global int64_t *) mem_70445)[rep_i_73549 + rep_i_73550] = tmp_73555;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73609(int64_t dim_38264, int64_t replicate_n_73608, int64_t virt_num_tblocks_73614, int64_t num_tblocks_73615, __global unsigned char *mem_70493, __global unsigned char *mem_70495)\n{\n    int32_t replicate_ltid_73610;\n    int32_t tblock_sizze_73612;\n    int32_t replicate_gid_73611;\n    int32_t replicate_gtid_73609;\n    int32_t phys_tblock_id_73616;\n    int32_t iterations_73617;\n    \n    replicate_ltid_73610 = get_local_id(0);\n    tblock_sizze_73612 = get_local_size(0);\n    replicate_gid_73611 = get_tblock_id(0);\n    replicate_gtid_73609 = replicate_gid_73611 * tblock_sizze_73612 + replicate_ltid_73610;\n    phys_tblock_id_73616 = get_tblock_id(0);\n    iterations_73617 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73614) - phys_tblock_id_73616, sext_i64_i32(num_tblocks_73615));\n    for (int32_t i_73618 = 0; i_73618 < iterations_73617; i_73618++) {\n        int32_t virt_tblock_id_73619;\n        int64_t global_tid_73620;\n        int64_t slice_73623;\n        int64_t slice_73624;\n        int64_t rep_i_73621;\n        int64_t remnant_73625;\n        int64_t rep_i_73622;\n        int64_t remnant_73626;\n        \n        virt_tblock_id_73619 = phys_tblock_id_73616 + i_73618 * sext_i64_i32(num_tblocks_73615);\n        global_tid_73620 = sext_i32_i64(virt_tblock_id_736", "19) * sext_i32_i64(tblock_sizze_73612) + sext_i32_i64(replicate_ltid_73610);\n        slice_73623 = (int64_t) 1;\n        slice_73624 = dim_38264 * slice_73623;\n        rep_i_73621 = squot64(global_tid_73620, slice_73623);\n        remnant_73625 = global_tid_73620 - rep_i_73621 * slice_73623;\n        rep_i_73622 = remnant_73625;\n        remnant_73626 = remnant_73625 - rep_i_73622;\n        if (slt64(global_tid_73620, replicate_n_73608)) {\n            double tmp_73627 = ((__global double *) mem_70493)[rep_i_73622];\n            \n            ((__global double *) mem_70495)[rep_i_73621 + rep_i_73622] = tmp_73627;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73677(int64_t m_55474, int64_t replicate_n_73676, int64_t virt_num_tblocks_73682, int64_t num_tblocks_73683, __global unsigned char *mem_70534, __global unsigned char *mem_70536)\n{\n    int32_t replicate_ltid_73678;\n    int32_t tblock_sizze_73680;\n    int32_t replicate_gid_73679;\n    int32_t replicate_gtid_73677;\n    int32_t phys_tblock_id_73684;\n    int32_t iterations_73685;\n    \n    replicate_ltid_73678 = get_local_id(0);\n    tblock_sizze_73680 = get_local_size(0);\n    replicate_gid_73679 = get_tblock_id(0);\n    replicate_gtid_73677 = replicate_gid_73679 * tblock_sizze_73680 + replicate_ltid_73678;\n    phys_tblock_id_73684 = get_tblock_id(0);\n    iterations_73685 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73682) - phys_tblock_id_73684, sext_i64_i32(num_tblocks_73683));\n    for (int32_t i_73686 = 0; i_73686 < iterations_73685; i_73686++) {\n        int32_t virt_tblock_id_73687;\n        int64_t global_tid_73688;\n        int64_t slice_73691;\n        int64_t slice_73692;\n        int64_t rep_i_73689;\n        int64_t remnant_73693;\n        int64_t rep_i_73690;\n        int64_t remnant_73694;\n        \n        virt_tblock_id_73687 = phys_tblock_id_73684 + i_73686 * sext_i64_i32(num_tblocks_73683);\n        global_tid",
                                    "_73688 = sext_i32_i64(virt_tblock_id_73687) * sext_i32_i64(tblock_sizze_73680) + sext_i32_i64(replicate_ltid_73678);\n        slice_73691 = (int64_t) 1;\n        slice_73692 = m_55474 * slice_73691;\n        rep_i_73689 = squot64(global_tid_73688, slice_73691);\n        remnant_73693 = global_tid_73688 - rep_i_73689 * slice_73691;\n        rep_i_73690 = remnant_73693;\n        remnant_73694 = remnant_73693 - rep_i_73690;\n        if (slt64(global_tid_73688, replicate_n_73676)) {\n            int64_t tmp_73695 = ((__global int64_t *) mem_70534)[rep_i_73690];\n            \n            ((__global int64_t *) mem_70536)[rep_i_73689 + rep_i_73690] = tmp_73695;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73722(int64_t dim_38264, int64_t replicate_n_73721, int64_t virt_num_tblocks_73727, int64_t num_tblocks_73728, __global unsigned char *mem_70546, __global unsigned char *mem_70548)\n{\n    int32_t replicate_ltid_73723;\n    int32_t tblock_sizze_73725;\n    int32_t replicate_gid_73724;\n    int32_t replicate_gtid_73722;\n    int32_t phys_tblock_id_73729;\n    int32_t iterations_73730;\n    \n    replicate_ltid_73723 = get_local_id(0);\n    tblock_sizze_73725 = get_local_size(0);\n    replicate_gid_73724 = get_tblock_id(0);\n    replicate_gtid_73722 = replicate_gid_73724 * tblock_sizze_73725 + replicate_ltid_73723;\n    phys_tblock_id_73729 = get_tblock_id(0);\n    iterations_73730 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73727) - phys_tblock_id_73729, sext_i64_i32(num_tblocks_73728));\n    for (int32_t i_73731 = 0; i_73731 < iterations_73730; i_73731++) {\n        int32_t virt_tblock_id_73732;\n        int64_t global_tid_73733;\n        int64_t slice_73736;\n        int64_t slice_73737;\n        int64_t rep_i_73734;\n        int64_t remnant_73738;\n        int64_t rep_i_73735;\n        int64_t remnant_73739;\n        \n        virt_tblock_id_73732 = phys_tblock_id_73729 + i_73731 * sext_i64", "_i32(num_tblocks_73728);\n        global_tid_73733 = sext_i32_i64(virt_tblock_id_73732) * sext_i32_i64(tblock_sizze_73725) + sext_i32_i64(replicate_ltid_73723);\n        slice_73736 = (int64_t) 1;\n        slice_73737 = dim_38264 * slice_73736;\n        rep_i_73734 = squot64(global_tid_73733, slice_73736);\n        remnant_73738 = global_tid_73733 - rep_i_73734 * slice_73736;\n        rep_i_73735 = remnant_73738;\n        remnant_73739 = remnant_73738 - rep_i_73735;\n        if (slt64(global_tid_73733, replicate_n_73721)) {\n            int64_t tmp_73740 = ((__global int64_t *) mem_70546)[rep_i_73735];\n            \n            ((__global int64_t *) mem_70548)[rep_i_73734 + rep_i_73735] = tmp_73740;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73755(int64_t dim_38264, int64_t replicate_n_73754, int64_t virt_num_tblocks_73760, int64_t num_tblocks_73761, __global unsigned char *mem_70561, __global unsigned char *mem_70563)\n{\n    int32_t replicate_ltid_73756;\n    int32_t tblock_sizze_73758;\n    int32_t replicate_gid_73757;\n    int32_t replicate_gtid_73755;\n    int32_t phys_tblock_id_73762;\n    int32_t iterations_73763;\n    \n    replicate_ltid_73756 = get_local_id(0);\n    tblock_sizze_73758 = get_local_size(0);\n    replicate_gid_73757 = get_tblock_id(0);\n    replicate_gtid_73755 = replicate_gid_73757 * tblock_sizze_73758 + replicate_ltid_73756;\n    phys_tblock_id_73762 = get_tblock_id(0);\n    iterations_73763 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73760) - phys_tblock_id_73762, sext_i64_i32(num_tblocks_73761));\n    for (int32_t i_73764 = 0; i_73764 < iterations_73763; i_73764++) {\n        int32_t virt_tblock_id_73765;\n        int64_t global_tid_73766;\n        int64_t slice_73769;\n        int64_t slice_73770;\n        int64_t rep_i_73767;\n        int64_t remnant_73771;\n        int64_t rep_i_73768;\n        int64_t remnant_73772;\n        \n        virt_tblock_id_7376", "5 = phys_tblock_id_73762 + i_73764 * sext_i64_i32(num_tblocks_73761);\n        global_tid_73766 = sext_i32_i64(virt_tblock_id_73765) * sext_i32_i64(tblock_sizze_73758) + sext_i32_i64(replicate_ltid_73756);\n        slice_73769 = (int64_t) 1;\n        slice_73770 = dim_38264 * slice_73769;\n        rep_i_73767 = squot64(global_tid_73766, slice_73769);\n        remnant_73771 = global_tid_73766 - rep_i_73767 * slice_73769;\n        rep_i_73768 = remnant_73771;\n        remnant_73772 = remnant_73771 - rep_i_73768;\n        if (slt64(global_tid_73766, replicate_n_73754)) {\n            int64_t tmp_73773 = ((__global int64_t *) mem_70561)[rep_i_73768];\n            \n            ((__global int64_t *) mem_70563)[rep_i_73767 + rep_i_73768] = tmp_73773;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73788(int64_t dim_38264, int64_t replicate_n_73787, int64_t virt_num_tblocks_73793, int64_t num_tblocks_73794, __global unsigned char *mem_70576, __global unsigned char *mem_70578)\n{\n    int32_t replicate_ltid_73789;\n    int32_t tblock_sizze_73791;\n    int32_t replicate_gid_73790;\n    int32_t replicate_gtid_73788;\n    int32_t phys_tblock_id_73795;\n    int32_t iterations_73796;\n    \n    replicate_ltid_73789 = get_local_id(0);\n    tblock_sizze_73791 = get_local_size(0);\n    replicate_gid_73790 = get_tblock_id(0);\n    replicate_gtid_73788 = replicate_gid_73790 * tblock_sizze_73791 + replicate_ltid_73789;\n    phys_tblock_id_73795 = get_tblock_id(0);\n    iterations_73796 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73793) - phys_tblock_id_73795, sext_i64_i32(num_tblocks_73794));\n    for (int32_t i_73797 = 0; i_73797 < iterations_73796; i_73797++) {\n        int32_t virt_tblock_id_73798;\n        int64_t global_tid_73799;\n        int64_t slice_73802;\n        int64_t slice_73803;\n        int64_t rep_i_73800;\n        int64_t remnant_73804;\n        int64_t rep_i_73801;\n        int64_t remnan",
                                    "t_73805;\n        \n        virt_tblock_id_73798 = phys_tblock_id_73795 + i_73797 * sext_i64_i32(num_tblocks_73794);\n        global_tid_73799 = sext_i32_i64(virt_tblock_id_73798) * sext_i32_i64(tblock_sizze_73791) + sext_i32_i64(replicate_ltid_73789);\n        slice_73802 = (int64_t) 1;\n        slice_73803 = dim_38264 * slice_73802;\n        rep_i_73800 = squot64(global_tid_73799, slice_73802);\n        remnant_73804 = global_tid_73799 - rep_i_73800 * slice_73802;\n        rep_i_73801 = remnant_73804;\n        remnant_73805 = remnant_73804 - rep_i_73801;\n        if (slt64(global_tid_73799, replicate_n_73787)) {\n            int64_t tmp_73806 = ((__global int64_t *) mem_70576)[rep_i_73801];\n            \n            ((__global int64_t *) mem_70578)[rep_i_73800 + rep_i_73801] = tmp_73806;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_73854(int64_t dim_38264, int64_t replicate_n_73853, int64_t virt_num_tblocks_73859, int64_t num_tblocks_73860, __global unsigned char *mem_70621, __global unsigned char *mem_70623)\n{\n    int32_t replicate_ltid_73855;\n    int32_t tblock_sizze_73857;\n    int32_t replicate_gid_73856;\n    int32_t replicate_gtid_73854;\n    int32_t phys_tblock_id_73861;\n    int32_t iterations_73862;\n    \n    replicate_ltid_73855 = get_local_id(0);\n    tblock_sizze_73857 = get_local_size(0);\n    replicate_gid_73856 = get_tblock_id(0);\n    replicate_gtid_73854 = replicate_gid_73856 * tblock_sizze_73857 + replicate_ltid_73855;\n    phys_tblock_id_73861 = get_tblock_id(0);\n    iterations_73862 = sdiv_up32(sext_i64_i32(virt_num_tblocks_73859) - phys_tblock_id_73861, sext_i64_i32(num_tblocks_73860));\n    for (int32_t i_73863 = 0; i_73863 < iterations_73862; i_73863++) {\n        int32_t virt_tblock_id_73864;\n        int64_t global_tid_73865;\n        int64_t slice_73868;\n        int64_t slice_73869;\n        int64_t rep_i_73866;\n        int64_t remnant_73870;\n      ", "  int64_t rep_i_73867;\n        int64_t remnant_73871;\n        \n        virt_tblock_id_73864 = phys_tblock_id_73861 + i_73863 * sext_i64_i32(num_tblocks_73860);\n        global_tid_73865 = sext_i32_i64(virt_tblock_id_73864) * sext_i32_i64(tblock_sizze_73857) + sext_i32_i64(replicate_ltid_73855);\n        slice_73868 = (int64_t) 1;\n        slice_73869 = dim_38264 * slice_73868;\n        rep_i_73866 = squot64(global_tid_73865, slice_73868);\n        remnant_73870 = global_tid_73865 - rep_i_73866 * slice_73868;\n        rep_i_73867 = remnant_73870;\n        remnant_73871 = remnant_73870 - rep_i_73867;\n        if (slt64(global_tid_73865, replicate_n_73853)) {\n            double tmp_73872 = ((__global double *) mem_70621)[rep_i_73867];\n            \n            ((__global double *) mem_70623)[rep_i_73866 + rep_i_73867] = tmp_73872;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_global_65961_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_global_65961(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t total_grid_no_38275, int64_t arg_54492, unsigned char cond_54502_bits, int64_t num_tblocks_65956, int64_t min_arg1_68326, int64_t num_threads_71532, int64_t num_subhistos_72715, int32_t chk_i_72795, int64_t hist_H_chk_72796, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_69921, __global unsigned char *color_71433, __global unsigned char *color_71434, __global unsigned char *color_71435, __global unsigned char *color_71436, __global unsigned char *color_71437, __global unsigned char *color_71438, __global unsigned char *color_71439, __global unsigned char *defunc_0_map_res_", "subhistos_mem_72716)\n{\n    bool cond_54502 = cond_54502_bits;\n    \n    #define seghist_tblock_sizze_65954 (sort_for_Skyline_doubleziseghist_global_65961ziseghist_tblock_sizze_65954)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72798;\n    int32_t tblock_sizze_72801;\n    int32_t wave_sizze_72800;\n    int32_t block_id_72799;\n    int32_t global_tid_72797;\n    int64_t phys_tid_65961;\n    int32_t subhisto_ind_72802;\n    int64_t num_chunks_72803;\n    \n    local_tid_72798 = get_local_id(0);\n    tblock_sizze_72801 = get_local_size(0);\n    wave_sizze_72800 = LOCKSTEP_WIDTH;\n    block_id_72799 = get_tblock_id(0);\n    global_tid_72797 = block_id_72799 * tblock_sizze_72801 + local_tid_72798;\n    phys_tid_65961 = sext_i32_i64(global_tid_72797);\n    subhisto_ind_72802 = squot32(global_tid_72797, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_65954 * num_tblocks_65956), sext_i64_i32(num_subhistos_72715)));\n    num_chunks_72803 = sdiv_up64(n_38267, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_65954 * num_tblocks_65956)));\n    for (int64_t chunk_i_72804 = 0; chunk_i_72804 < num_chunks_72803; chunk_i_72804++) {\n        int64_t i_72805 = chunk_i_72804 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_65954 * num_tblocks_65956)) + sext_i32_i64(global_tid_72797);\n        \n        if (slt64(i_72805, n_38267)) {\n            int64_t slice_72806;\n            int64_t gtid_65960;\n            int64_t remnant_72807;\n            \n            slice_72806 = n_38267;\n            gtid_65960 = i_72805;\n            remnant_72807 = i_72805 - gtid_65960;\n            if (slt64(i_72805, n_38267)) {\n                __global unsigned char *ext_mem_ext_71576;\n                int64_t defunc_0_foldl_res_66030;\n                int64_t acc_66032;\n                \n                if (cond_54502) {\n                    ext_mem_ext_71576 = color_71434;\n                } else {\n                    __global unsigned char *ext_mem_ext_71567;\n                    int64_t f_arg0_66009;\n           ",
                                    "         int64_t min_res_66010;\n                    \n                    if (cond_54502) {\n                        ext_mem_ext_71567 = color_71433;\n                    } else {\n                        __global unsigned char *ext_mem_ext_71558;\n                        int64_t f_arg0_65995;\n                        int64_t max_res_65996;\n                        \n                        for (int64_t i_68278 = 0; i_68278 < dim_38264; i_68278++) {\n                            double eta_p_65972;\n                            double eta_p_65973;\n                            double defunc_0_f_res_65974;\n                            \n                            eta_p_65972 = ((__global double *) mem_69921)[gtid_65960 + i_68278 * n_38267];\n                            eta_p_65973 = ((__global double *) start_of_grid_partition_mem_68615)[i_68278];\n                            defunc_0_f_res_65974 = eta_p_65972 - eta_p_65973;\n                            ((__global double *) color_71437)[phys_tid_65961 + i_68278 * num_threads_71532] = defunc_0_f_res_65974;\n                        }\n                        for (int64_t i_68282 = 0; i_68282 < dim_38264; i_68282++) {\n                            double eta_p_65976;\n                            double eta_p_65977;\n                            double defunc_0_f_res_65978;\n                            \n                            eta_p_65976 = ((__global double *) color_71437)[phys_tid_65961 + i_68282 * num_threads_71532];\n                            eta_p_65977 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[i_68282];\n                            defunc_0_f_res_65978 = eta_p_65976 / eta_p_65977;\n                            ((__global double *) color_71439)[phys_tid_65961 + i_68282 * num_threads_71532] = defunc_0_f_res_65978;\n                        }\n                        if (cond_54502) {\n                            ext_mem_ext_71558 = color_71437;\n                        } else {\n                            double f_arg0_65981;\n   ", "                         int64_t f64_res_65982;\n                            \n                            f_arg0_65981 = ((__global double *) color_71439)[phys_tid_65961];\n                            f64_res_65982 = fptosi_f64_i64(f_arg0_65981);\n                            for (int64_t nest_i_72810 = 0; nest_i_72810 < dim_38264; nest_i_72810++) {\n                                ((__global int64_t *) color_71438)[phys_tid_65961 + nest_i_72810 * num_threads_71532] = f64_res_65982;\n                            }\n                            for (int64_t i_65985 = 0; i_65985 < arg_54492; i_65985++) {\n                                int64_t index_primexp_65987;\n                                bool x_65988;\n                                bool y_65989;\n                                bool bounds_check_65990;\n                                bool index_certs_65991;\n                                double f_arg0_65992;\n                                int64_t f64_res_65993;\n                                \n                                index_primexp_65987 = add64((int64_t) 1, i_65985);\n                                x_65988 = sle64((int64_t) 0, index_primexp_65987);\n                                y_65989 = slt64(index_primexp_65987, dim_38264);\n                                bounds_check_65990 = x_65988 && y_65989;\n                                if (!bounds_check_65990) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 101) == -1) {\n                                            global_failure_args[0] = (int64_t) index_primexp_65987;\n                                            global_failure_args[1] = (int64_t) dim_38264;\n                                            ;\n                                        }\n                                        return;\n                                    }\n                                }\n                                f_arg0_65992 = ((__global double *) color", "_71439)[phys_tid_65961 + index_primexp_65987 * num_threads_71532];\n                                f64_res_65993 = fptosi_f64_i64(f_arg0_65992);\n                                ((__global int64_t *) color_71438)[phys_tid_65961 + index_primexp_65987 * num_threads_71532] = f64_res_65993;\n                            }\n                            ext_mem_ext_71558 = color_71438;\n                        }\n                        f_arg0_65995 = ((__global int64_t *) ext_mem_ext_71558)[phys_tid_65961];\n                        max_res_65996 = smax64((int64_t) 0, f_arg0_65995);\n                        for (int64_t nest_i_72812 = 0; nest_i_72812 < dim_38264; nest_i_72812++) {\n                            ((__global int64_t *) color_71436)[phys_tid_65961 + nest_i_72812 * num_threads_71532] = max_res_65996;\n                        }\n                        for (int64_t i_65999 = 0; i_65999 < arg_54492; i_65999++) {\n                            int64_t index_primexp_66001;\n                            bool x_66002;\n                            bool y_66003;\n                            bool bounds_check_66004;\n                            bool index_certs_66005;\n                            int64_t f_arg0_66006;\n                            int64_t max_res_66007;\n                            \n                            index_primexp_66001 = add64((int64_t) 1, i_65999);\n                            x_66002 = sle64((int64_t) 0, index_primexp_66001);\n                            y_66003 = slt64(index_primexp_66001, dim_38264);\n                            bounds_check_66004 = x_66002 && y_66003;\n                            if (!bounds_check_66004) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 102) == -1) {\n                                        global_failure_args[0] = (int64_t) index_primexp_66001;\n                                        global_failure_args[1] = (int64_t) dim_38264;\n                                 ",
                                    "       ;\n                                    }\n                                    return;\n                                }\n                            }\n                            f_arg0_66006 = ((__global int64_t *) ext_mem_ext_71558)[phys_tid_65961 + index_primexp_66001 * num_threads_71532];\n                            max_res_66007 = smax64((int64_t) 0, f_arg0_66006);\n                            ((__global int64_t *) color_71436)[phys_tid_65961 + index_primexp_66001 * num_threads_71532] = max_res_66007;\n                        }\n                        ext_mem_ext_71567 = color_71436;\n                    }\n                    f_arg0_66009 = ((__global int64_t *) ext_mem_ext_71567)[phys_tid_65961];\n                    min_res_66010 = smin64(f_arg0_66009, min_arg1_68326);\n                    for (int64_t nest_i_72814 = 0; nest_i_72814 < dim_38264; nest_i_72814++) {\n                        ((__global int64_t *) color_71435)[phys_tid_65961 + nest_i_72814 * num_threads_71532] = min_res_66010;\n                    }\n                    for (int64_t i_66013 = 0; i_66013 < arg_54492; i_66013++) {\n                        int64_t index_primexp_66015;\n                        bool x_66016;\n                        bool y_66017;\n                        bool bounds_check_66018;\n                        bool index_certs_66019;\n                        bool index_certs_66021;\n                        int64_t f_arg0_66020;\n                        int64_t zm_lhs_66022;\n                        int64_t min_arg1_66023;\n                        int64_t min_res_66024;\n                        \n                        index_primexp_66015 = add64((int64_t) 1, i_66013);\n                        x_66016 = sle64((int64_t) 0, index_primexp_66015);\n                        y_66017 = slt64(index_primexp_66015, dim_38264);\n                        bounds_check_66018 = x_66016 && y_66017;\n                        if (!bounds_check_66018) {\n                            {\n                                if", " (atomic_cmpxchg_i32_global(global_failure, -1, 103) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_66015;\n                                    global_failure_args[1] = (int64_t) dim_38264;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        if (!bounds_check_66018) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 104) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_66015;\n                                    global_failure_args[1] = (int64_t) dim_38264;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg0_66020 = ((__global int64_t *) ext_mem_ext_71567)[phys_tid_65961 + index_primexp_66015 * num_threads_71532];\n                        zm_lhs_66022 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_66015];\n                        min_arg1_66023 = sub64(zm_lhs_66022, (int64_t) 1);\n                        min_res_66024 = smin64(f_arg0_66020, min_arg1_66023);\n                        ((__global int64_t *) color_71435)[phys_tid_65961 + index_primexp_66015 * num_threads_71532] = min_res_66024;\n                    }\n                    ext_mem_ext_71576 = color_71435;\n                }\n                for (int64_t i_68286 = 0; i_68286 < dim_38264; i_68286++) {\n                    int64_t eta_p_66027;\n                    int64_t eta_p_66028;\n                    int64_t defunc_0_f_res_66029;\n                    \n                    eta_p_66027 = ((__global int64_t *) ext_mem_ext_71576)[phys_tid_65961 + i_68286 * num_threads_71532];\n                    eta_p_66028 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[i", "_68286];\n                    defunc_0_f_res_66029 = mul64(eta_p_66027, eta_p_66028);\n                    ((__global int64_t *) color_71433)[phys_tid_65961 + i_68286 * num_threads_71532] = defunc_0_f_res_66029;\n                }\n                acc_66032 = (int64_t) 0;\n                for (int64_t i_66031 = 0; i_66031 < dim_38264; i_66031++) {\n                    int64_t b_66033;\n                    int64_t defunc_0_f_res_66034;\n                    int64_t acc_tmp_72817;\n                    \n                    b_66033 = ((__global int64_t *) color_71433)[phys_tid_65961 + i_66031 * num_threads_71532];\n                    defunc_0_f_res_66034 = add64(acc_66032, b_66033);\n                    acc_tmp_72817 = defunc_0_f_res_66034;\n                    acc_66032 = acc_tmp_72817;\n                }\n                defunc_0_foldl_res_66030 = acc_66032;\n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_72795) * hist_H_chk_72796, defunc_0_foldl_res_66030) && (slt64(defunc_0_foldl_res_66030, sext_i32_i64(chk_i_72795) * hist_H_chk_72796 + hist_H_chk_72796) && (sle64((int64_t) 0, defunc_0_foldl_res_66030) && slt64(defunc_0_foldl_res_66030, total_grid_no_38275)))) {\n                        int32_t eta_p_65962;\n                        int32_t eta_p_65963 = 1;\n                        int32_t old_72818;\n                        \n                        old_72818 = atomic_add_i32_global(&((volatile __global int *) defunc_0_map_res_subhistos_mem_72716)[sext_i32_i64(subhisto_ind_72802) * total_grid_no_38275 + defunc_0_foldl_res_66030], (int) eta_p_65963);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_65954\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_global_68146_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_global_68146(__global int *global_failure, int64_t total_part_no_38",
                                    "276, int64_t m_55474, int64_t num_tblocks_68141, int64_t num_subhistos_73922, int32_t chk_i_73992, int64_t hist_H_chk_73993, __global unsigned char *ext_mem_70670, __global unsigned char *defunc_0_map_res_subhistos_mem_73923)\n{\n    #define seghist_tblock_sizze_68139 (sort_for_Skyline_doubleziseghist_global_68146ziseghist_tblock_sizze_68139)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73995;\n    int32_t tblock_sizze_73998;\n    int32_t wave_sizze_73997;\n    int32_t block_id_73996;\n    int32_t global_tid_73994;\n    int64_t phys_tid_68146;\n    int32_t subhisto_ind_73999;\n    int64_t num_chunks_74000;\n    \n    local_tid_73995 = get_local_id(0);\n    tblock_sizze_73998 = get_local_size(0);\n    wave_sizze_73997 = LOCKSTEP_WIDTH;\n    block_id_73996 = get_tblock_id(0);\n    global_tid_73994 = block_id_73996 * tblock_sizze_73998 + local_tid_73995;\n    phys_tid_68146 = sext_i32_i64(global_tid_73994);\n    subhisto_ind_73999 = squot32(global_tid_73994, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_68139 * num_tblocks_68141), sext_i64_i32(num_subhistos_73922)));\n    num_chunks_74000 = sdiv_up64(m_55474, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_68139 * num_tblocks_68141)));\n    for (int64_t chunk_i_74001 = 0; chunk_i_74001 < num_chunks_74000; chunk_i_74001++) {\n        int64_t i_74002 = chunk_i_74001 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_68139 * num_tblocks_68141)) + sext_i32_i64(global_tid_73994);\n        \n        if (slt64(i_74002, m_55474)) {\n            int64_t slice_74003;\n            int64_t gtid_68145;\n            int64_t remnant_74004;\n            \n            slice_74003 = m_55474;\n            gtid_68145 = i_74002;\n            remnant_74004 = i_74002 - gtid_68145;\n            if (slt64(i_74002, m_55474)) {\n                int64_t bucket_p_68150 = ((__global int64_t *) ext_mem_70670)[gtid_68145];\n                \n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n", "                    if (sle64(sext_i32_i64(chk_i_73992) * hist_H_chk_73993, bucket_p_68150) && (slt64(bucket_p_68150, sext_i32_i64(chk_i_73992) * hist_H_chk_73993 + hist_H_chk_73993) && (sle64((int64_t) 0, bucket_p_68150) && slt64(bucket_p_68150, total_part_no_38276)))) {\n                        int64_t eta_p_68147;\n                        int64_t eta_p_68148 = (int64_t) 1;\n                        int64_t old_74005;\n                        \n                        old_74005 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_73923)[sext_i32_i64(subhisto_ind_73999) * total_part_no_38276 + bucket_p_68150], (int64_t) eta_p_68148);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_68139\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_local_65961_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_local_65961(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t total_grid_no_38275, int64_t arg_54492, unsigned char cond_54502_bits, int64_t min_arg1_68326, int64_t num_threads_71532, int64_t num_subhistos_72715, int64_t num_tblocks_72726, int32_t hist_M_72732, int32_t chk_i_72736, int64_t num_segments_72737, int64_t hist_H_chk_72738, int64_t histo_sizze_72739, int32_t init_per_thread_72740, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_69921, __global unsigned char *color_71433, __global unsigned char *color_71434, __global unsigned char *color_71435, __global unsigned char *color_71436, __global unsigned char *color_71437, __global unsigned char *color_71438, __global unsigned char *color_71439, __global unsigned char *defunc_0_map_res_subhistos_mem_72716)\n{\n", "    bool cond_54502 = cond_54502_bits;\n    \n    #define max_tblock_sizze_72725 (sort_for_Skyline_doubleziseghist_local_65961zimax_tblock_sizze_72725)\n    \n    volatile __local unsigned char *subhistogram_local_mem_72754_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_72754_backing_0_offset = 0 + ((int64_t) 4 * (hist_M_72732 * hist_H_chk_72738) + srem64((int64_t) 8 - srem64((int64_t) 4 * (hist_M_72732 * hist_H_chk_72738), (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72742;\n    int32_t tblock_sizze_72745;\n    int32_t wave_sizze_72744;\n    int32_t block_id_72743;\n    int32_t global_tid_72741;\n    int64_t phys_tid_65961;\n    int32_t phys_tblock_id_72746;\n    int32_t iterations_72747;\n    \n    local_tid_72742 = get_local_id(0);\n    tblock_sizze_72745 = get_local_size(0);\n    wave_sizze_72744 = LOCKSTEP_WIDTH;\n    block_id_72743 = get_tblock_id(0);\n    global_tid_72741 = block_id_72743 * tblock_sizze_72745 + local_tid_72742;\n    phys_tid_65961 = sext_i32_i64(global_tid_72741);\n    phys_tblock_id_72746 = get_tblock_id(0);\n    iterations_72747 = sdiv_up32(sext_i64_i32(num_tblocks_72726 * num_segments_72737) - phys_tblock_id_72746, sext_i64_i32(num_tblocks_72726));\n    for (int32_t i_72748 = 0; i_72748 < iterations_72747; i_72748++) {\n        int32_t virt_tblock_id_72749;\n        int32_t flat_segment_id_72750;\n        int32_t gid_in_segment_72751;\n        int32_t pgtid_in_segment_72752;\n        int32_t threads_per_segment_72753;\n        __local unsigned char *subhistogram_local_mem_72754;\n        int32_t thread_local_subhisto_i_72756;\n        int64_t num_chunks_72763;\n        \n        virt_tblock_id_72749 = phys_tblock_id_72746 + i_72748 * sext_i64_i32(num_tblocks_72726);\n        flat_segment_id_72750 = squot32(virt",
                                    "_tblock_id_72749, sext_i64_i32(num_tblocks_72726));\n        gid_in_segment_72751 = srem32(virt_tblock_id_72749, sext_i64_i32(num_tblocks_72726));\n        pgtid_in_segment_72752 = gid_in_segment_72751 * sext_i64_i32(max_tblock_sizze_72725) + local_tid_72742;\n        threads_per_segment_72753 = sext_i64_i32(num_tblocks_72726 * max_tblock_sizze_72725);\n        subhistogram_local_mem_72754 = (__local unsigned char *) subhistogram_local_mem_72754_backing_0;\n        thread_local_subhisto_i_72756 = srem32(local_tid_72742, hist_M_72732);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_72757 = 0; local_i_72757 < init_per_thread_72740; local_i_72757++) {\n                int32_t j_72758 = local_i_72757 * sext_i64_i32(max_tblock_sizze_72725) + local_tid_72742;\n                int32_t j_offset_72759 = hist_M_72732 * sext_i64_i32(histo_sizze_72739) * gid_in_segment_72751 + j_72758;\n                int32_t local_subhisto_i_72760 = squot32(j_72758, sext_i64_i32(histo_sizze_72739));\n                int32_t global_subhisto_i_72761 = squot32(j_offset_72759, sext_i64_i32(histo_sizze_72739));\n                \n                if (slt32(j_72758, hist_M_72732 * sext_i64_i32(histo_sizze_72739))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_72761 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_72715)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_72758, sext_i64_i32(histo_sizze_72739))) + sext_i32_i64(chk_i_72736) * hist_H_chk_72738) && slt64(sext_i32_i64(srem32(j_72758, sext_i64_i32(histo_sizze_72739))) + sext_i32_i64(chk_i_72736) * hist_H_chk_72738, total_grid_no_38275)))) {\n                            int32_t tmp_72762 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_72716)[sext_i32_i64(srem32(j_72758, sext_i64_i32(histo_sizze_72739))) + sext_i32_i64(chk_i_72736) * hist_H_chk_72738", "];\n                            \n                            ((__local int32_t *) subhistogram_local_mem_72754)[sext_i32_i64(local_subhisto_i_72760) * hist_H_chk_72738 + sext_i32_i64(srem32(j_72758, sext_i64_i32(histo_sizze_72739)))] = tmp_72762;\n                        } else {\n                            ((__local int32_t *) subhistogram_local_mem_72754)[sext_i32_i64(local_subhisto_i_72760) * hist_H_chk_72738 + sext_i32_i64(srem32(j_72758, sext_i64_i32(histo_sizze_72739)))] = 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_72763 = sdiv_up64(n_38267, sext_i32_i64(threads_per_segment_72753));\n        for (int64_t chunk_i_72764 = 0; chunk_i_72764 < num_chunks_72763; chunk_i_72764++) {\n            int64_t i_72765 = chunk_i_72764 * sext_i32_i64(threads_per_segment_72753) + sext_i32_i64(pgtid_in_segment_72752);\n            \n            if (slt64(i_72765, n_38267)) {\n                int64_t gtid_65960;\n                __global unsigned char *ext_mem_ext_71576;\n                int64_t defunc_0_foldl_res_66030;\n                int64_t acc_66032;\n                \n                gtid_65960 = i_72765;\n                if (cond_54502) {\n                    ext_mem_ext_71576 = color_71434;\n                } else {\n                    __global unsigned char *ext_mem_ext_71567;\n                    int64_t f_arg0_66009;\n                    int64_t min_res_66010;\n                    \n                    if (cond_54502) {\n                        ext_mem_ext_71567 = color_71433;\n                    } else {\n                        __global unsigned char *ext_mem_ext_71558;\n                        int64_t f_arg0_65995;\n                        int64_t max_res_65996;\n                        \n                        for (int64_t i_68278 = 0; i_68278 < dim_38264; i_68278++) {\n                            double eta_p_65972;\n                            double eta_p_65973;\n                   ", "         double defunc_0_f_res_65974;\n                            \n                            eta_p_65972 = ((__global double *) mem_69921)[gtid_65960 + i_68278 * n_38267];\n                            eta_p_65973 = ((__global double *) start_of_grid_partition_mem_68615)[i_68278];\n                            defunc_0_f_res_65974 = eta_p_65972 - eta_p_65973;\n                            ((__global double *) color_71437)[phys_tid_65961 + i_68278 * num_threads_71532] = defunc_0_f_res_65974;\n                        }\n                        for (int64_t i_68282 = 0; i_68282 < dim_38264; i_68282++) {\n                            double eta_p_65976;\n                            double eta_p_65977;\n                            double defunc_0_f_res_65978;\n                            \n                            eta_p_65976 = ((__global double *) color_71437)[phys_tid_65961 + i_68282 * num_threads_71532];\n                            eta_p_65977 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[i_68282];\n                            defunc_0_f_res_65978 = eta_p_65976 / eta_p_65977;\n                            ((__global double *) color_71439)[phys_tid_65961 + i_68282 * num_threads_71532] = defunc_0_f_res_65978;\n                        }\n                        if (cond_54502) {\n                            ext_mem_ext_71558 = color_71437;\n                        } else {\n                            double f_arg0_65981;\n                            int64_t f64_res_65982;\n                            \n                            f_arg0_65981 = ((__global double *) color_71439)[phys_tid_65961];\n                            f64_res_65982 = fptosi_f64_i64(f_arg0_65981);\n                            for (int64_t nest_i_72768 = 0; nest_i_72768 < dim_38264; nest_i_72768++) {\n                                ((__global int64_t *) color_71438)[phys_tid_65961 + nest_i_72768 * num_threads_71532] = f64_res_65982;\n                            }\n                            for (int64_t i_65985",
                                    " = 0; i_65985 < arg_54492; i_65985++) {\n                                int64_t index_primexp_65987;\n                                bool x_65988;\n                                bool y_65989;\n                                bool bounds_check_65990;\n                                bool index_certs_65991;\n                                double f_arg0_65992;\n                                int64_t f64_res_65993;\n                                \n                                index_primexp_65987 = add64((int64_t) 1, i_65985);\n                                x_65988 = sle64((int64_t) 0, index_primexp_65987);\n                                y_65989 = slt64(index_primexp_65987, dim_38264);\n                                bounds_check_65990 = x_65988 && y_65989;\n                                if (!bounds_check_65990) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 97) == -1) {\n                                            global_failure_args[0] = (int64_t) index_primexp_65987;\n                                            global_failure_args[1] = (int64_t) dim_38264;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                f_arg0_65992 = ((__global double *) color_71439)[phys_tid_65961 + index_primexp_65987 * num_threads_71532];\n                                f64_res_65993 = fptosi_f64_i64(f_arg0_65992);\n                                ((__global int64_t *) color_71438)[phys_tid_65961 + index_primexp_65987 * num_threads_71532] = f64_res_65993;\n                            }\n                            ext_mem_ext_71558 = color_71438;\n                        }\n                        f_arg0_65995 = ((__global int64_t *) ext_mem_ext_71558)[phys_tid_6596", "1];\n                        max_res_65996 = smax64((int64_t) 0, f_arg0_65995);\n                        for (int64_t nest_i_72770 = 0; nest_i_72770 < dim_38264; nest_i_72770++) {\n                            ((__global int64_t *) color_71436)[phys_tid_65961 + nest_i_72770 * num_threads_71532] = max_res_65996;\n                        }\n                        for (int64_t i_65999 = 0; i_65999 < arg_54492; i_65999++) {\n                            int64_t index_primexp_66001;\n                            bool x_66002;\n                            bool y_66003;\n                            bool bounds_check_66004;\n                            bool index_certs_66005;\n                            int64_t f_arg0_66006;\n                            int64_t max_res_66007;\n                            \n                            index_primexp_66001 = add64((int64_t) 1, i_65999);\n                            x_66002 = sle64((int64_t) 0, index_primexp_66001);\n                            y_66003 = slt64(index_primexp_66001, dim_38264);\n                            bounds_check_66004 = x_66002 && y_66003;\n                            if (!bounds_check_66004) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 98) == -1) {\n                                        global_failure_args[0] = (int64_t) index_primexp_66001;\n                                        global_failure_args[1] = (int64_t) dim_38264;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            f_arg0_66006 = ((__global int64_t *) ext_mem_ext_71558)[phys_tid_65961 + index_primexp_66001 * num_threads_71532];\n                            max_res_66007 = smax64((int64_t) 0, f_arg0_66006);\n                            ((__global int64_t *) color_7143", "6)[phys_tid_65961 + index_primexp_66001 * num_threads_71532] = max_res_66007;\n                        }\n                        ext_mem_ext_71567 = color_71436;\n                    }\n                    f_arg0_66009 = ((__global int64_t *) ext_mem_ext_71567)[phys_tid_65961];\n                    min_res_66010 = smin64(f_arg0_66009, min_arg1_68326);\n                    for (int64_t nest_i_72772 = 0; nest_i_72772 < dim_38264; nest_i_72772++) {\n                        ((__global int64_t *) color_71435)[phys_tid_65961 + nest_i_72772 * num_threads_71532] = min_res_66010;\n                    }\n                    for (int64_t i_66013 = 0; i_66013 < arg_54492; i_66013++) {\n                        int64_t index_primexp_66015;\n                        bool x_66016;\n                        bool y_66017;\n                        bool bounds_check_66018;\n                        bool index_certs_66019;\n                        bool index_certs_66021;\n                        int64_t f_arg0_66020;\n                        int64_t zm_lhs_66022;\n                        int64_t min_arg1_66023;\n                        int64_t min_res_66024;\n                        \n                        index_primexp_66015 = add64((int64_t) 1, i_66013);\n                        x_66016 = sle64((int64_t) 0, index_primexp_66015);\n                        y_66017 = slt64(index_primexp_66015, dim_38264);\n                        bounds_check_66018 = x_66016 && y_66017;\n                        if (!bounds_check_66018) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 99) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_66015;\n                                    global_failure_args[1] = (int64_t) dim_38264;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n   ",
                                    "                     }\n                        if (!bounds_check_66018) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 100) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_66015;\n                                    global_failure_args[1] = (int64_t) dim_38264;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        f_arg0_66020 = ((__global int64_t *) ext_mem_ext_71567)[phys_tid_65961 + index_primexp_66015 * num_threads_71532];\n                        zm_lhs_66022 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_66015];\n                        min_arg1_66023 = sub64(zm_lhs_66022, (int64_t) 1);\n                        min_res_66024 = smin64(f_arg0_66020, min_arg1_66023);\n                        ((__global int64_t *) color_71435)[phys_tid_65961 + index_primexp_66015 * num_threads_71532] = min_res_66024;\n                    }\n                    ext_mem_ext_71576 = color_71435;\n                }\n                for (int64_t i_68286 = 0; i_68286 < dim_38264; i_68286++) {\n                    int64_t eta_p_66027;\n                    int64_t eta_p_66028;\n                    int64_t defunc_0_f_res_66029;\n                    \n                    eta_p_66027 = ((__global int64_t *) ext_mem_ext_71576)[phys_tid_65961 + i_68286 * num_threads_71532];\n                    eta_p_66028 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[i_68286];\n                    defunc_0_f_res_66029 = mul64(eta_p_66027, eta_p_66028);\n                    ((__global int64_t *) color_71433)[phys_tid_65961 + i_68286 * num_threads_71532] = defunc_0_f_res_66029;\n                }\n                acc_66032 = (int64_t) 0;\n                for (int64_t i_66031 = 0; i_66031 < dim", "_38264; i_66031++) {\n                    int64_t b_66033;\n                    int64_t defunc_0_f_res_66034;\n                    int64_t acc_tmp_72775;\n                    \n                    b_66033 = ((__global int64_t *) color_71433)[phys_tid_65961 + i_66031 * num_threads_71532];\n                    defunc_0_f_res_66034 = add64(acc_66032, b_66033);\n                    acc_tmp_72775 = defunc_0_f_res_66034;\n                    acc_66032 = acc_tmp_72775;\n                }\n                defunc_0_foldl_res_66030 = acc_66032;\n                if (chk_i_72736 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, defunc_0_foldl_res_66030) && slt64(defunc_0_foldl_res_66030, total_grid_no_38275)) && (sle64(sext_i32_i64(chk_i_72736) * hist_H_chk_72738, defunc_0_foldl_res_66030) && slt64(defunc_0_foldl_res_66030, sext_i32_i64(chk_i_72736) * hist_H_chk_72738 + hist_H_chk_72738))) {\n                        int32_t eta_p_65962;\n                        int32_t eta_p_65963 = 1;\n                        int32_t old_72776;\n                        \n                        old_72776 = atomic_add_i32_shared(&((volatile __local int *) subhistogram_local_mem_72754)[sext_i32_i64(thread_local_subhisto_i_72756) * hist_H_chk_72738 + (defunc_0_foldl_res_66030 - sext_i32_i64(chk_i_72736) * hist_H_chk_72738)], (int) eta_p_65963);\n                    }\n                }\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_72777 = smin64(hist_H_chk_72738, total_grid_no_38275 - sext_i32_i64(chk_i_72736) * hist_H_chk_72738);\n            int32_t histo_sizze_72778 = sext_i64", "_i32(trunc_H_72777);\n            \n            for (int32_t local_i_72779 = 0; local_i_72779 < init_per_thread_72740; local_i_72779++) {\n                int32_t j_72780 = local_i_72779 * sext_i64_i32(max_tblock_sizze_72725) + local_tid_72742;\n                \n                if (slt32(j_72780, histo_sizze_72778)) {\n                    int32_t eta_p_65962;\n                    int32_t eta_p_65963;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_65962 = ((__local int32_t *) subhistogram_local_mem_72754)[sext_i32_i64(j_72780)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_72781 = 0; subhisto_id_72781 < hist_M_72732 - 1; subhisto_id_72781++) {\n                            eta_p_65963 = ((__local int32_t *) subhistogram_local_mem_72754)[(sext_i32_i64(subhisto_id_72781) + (int64_t) 1) * hist_H_chk_72738 + sext_i32_i64(j_72780)];\n                            \n                            int32_t defunc_0_op_res_65964 = add32(eta_p_65962, eta_p_65963);\n                            \n                            eta_p_65962 = defunc_0_op_res_65964;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int32_t *) defunc_0_map_res_subhistos_mem_72716)[srem64(sext_i32_i64(virt_tblock_id_72749), num_tblocks_72726) * total_grid_no_38275 + (sext_i32_i64(j_72780) + sext_i32_i64(chk_i_72736) * hist_H_chk_72738)] = eta_p_65962;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_72725\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_local_68146_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_local_68146(__global int *global_failure, int64",
                                    "_t total_part_no_38276, int64_t m_55474, int64_t num_subhistos_73922, int64_t num_tblocks_73933, int32_t hist_M_73939, int32_t chk_i_73943, int64_t num_segments_73944, int64_t hist_H_chk_73945, int64_t histo_sizze_73946, int32_t init_per_thread_73947, __global unsigned char *ext_mem_70670, __global unsigned char *defunc_0_map_res_subhistos_mem_73923)\n{\n    #define max_tblock_sizze_73932 (sort_for_Skyline_doubleziseghist_local_68146zimax_tblock_sizze_73932)\n    \n    volatile __local unsigned char *subhistogram_local_mem_73961_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_73961_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_73939 * hist_H_chk_73945) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_73939 * hist_H_chk_73945), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73949;\n    int32_t tblock_sizze_73952;\n    int32_t wave_sizze_73951;\n    int32_t block_id_73950;\n    int32_t global_tid_73948;\n    int64_t phys_tid_68146;\n    int32_t phys_tblock_id_73953;\n    int32_t iterations_73954;\n    \n    local_tid_73949 = get_local_id(0);\n    tblock_sizze_73952 = get_local_size(0);\n    wave_sizze_73951 = LOCKSTEP_WIDTH;\n    block_id_73950 = get_tblock_id(0);\n    global_tid_73948 = block_id_73950 * tblock_sizze_73952 + local_tid_73949;\n    phys_tid_68146 = sext_i32_i64(global_tid_73948);\n    phys_tblock_id_73953 = get_tblock_id(0);\n    iterations_73954 = sdiv_up32(sext_i64_i32(num_tblocks_73933 * num_segments_73944) - phys_tblock_id_73953, sext_i64_i32(num_tblocks_73933));\n    for (int32_t i_73955 = 0; i_73955 < iterations_73954; i_73955++) {\n        int32_t virt_tblock_id_73956;\n        int32_t flat_segment_id_73957;\n        int32_t gid_in_segment_73958;\n        int32_t pgtid_in_segment_73959;\n        int32_t threads_per_segment_73960;\n        __local unsigned char *subhistogram_local_mem_73961;\n        int32_t thread_local_subhisto_i_73963;\n        int64_t num_chunks_73970;\n        \n        vir", "t_tblock_id_73956 = phys_tblock_id_73953 + i_73955 * sext_i64_i32(num_tblocks_73933);\n        flat_segment_id_73957 = squot32(virt_tblock_id_73956, sext_i64_i32(num_tblocks_73933));\n        gid_in_segment_73958 = srem32(virt_tblock_id_73956, sext_i64_i32(num_tblocks_73933));\n        pgtid_in_segment_73959 = gid_in_segment_73958 * sext_i64_i32(max_tblock_sizze_73932) + local_tid_73949;\n        threads_per_segment_73960 = sext_i64_i32(num_tblocks_73933 * max_tblock_sizze_73932);\n        subhistogram_local_mem_73961 = (__local unsigned char *) subhistogram_local_mem_73961_backing_0;\n        thread_local_subhisto_i_73963 = srem32(local_tid_73949, hist_M_73939);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_73964 = 0; local_i_73964 < init_per_thread_73947; local_i_73964++) {\n                int32_t j_73965 = local_i_73964 * sext_i64_i32(max_tblock_sizze_73932) + local_tid_73949;\n                int32_t j_offset_73966 = hist_M_73939 * sext_i64_i32(histo_sizze_73946) * gid_in_segment_73958 + j_73965;\n                int32_t local_subhisto_i_73967 = squot32(j_73965, sext_i64_i32(histo_sizze_73946));\n                int32_t global_subhisto_i_73968 = squot32(j_offset_73966, sext_i64_i32(histo_sizze_73946));\n                \n                if (slt32(j_73965, hist_M_73939 * sext_i64_i32(histo_sizze_73946))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_73968 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_73922)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_73965, sext_i64_i32(histo_sizze_73946))) + sext_i32_i64(chk_i_73943) * hist_H_chk_73945) && slt64(sext_i32_i64(srem32(j_73965, sext_i64_i32(histo_sizze_73946))) + sext_i32_i64(chk_i_73943) * hist_H_chk_73945, total_part_no_38276)))) {\n                            int64_t tmp_73969 = ((__global int64_t *) defunc_0_map_res_", "subhistos_mem_73923)[sext_i32_i64(srem32(j_73965, sext_i64_i32(histo_sizze_73946))) + sext_i32_i64(chk_i_73943) * hist_H_chk_73945];\n                            \n                            ((__local int64_t *) subhistogram_local_mem_73961)[sext_i32_i64(local_subhisto_i_73967) * hist_H_chk_73945 + sext_i32_i64(srem32(j_73965, sext_i64_i32(histo_sizze_73946)))] = tmp_73969;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_73961)[sext_i32_i64(local_subhisto_i_73967) * hist_H_chk_73945 + sext_i32_i64(srem32(j_73965, sext_i64_i32(histo_sizze_73946)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_73970 = sdiv_up64(m_55474, sext_i32_i64(threads_per_segment_73960));\n        for (int64_t chunk_i_73971 = 0; chunk_i_73971 < num_chunks_73970; chunk_i_73971++) {\n            int64_t i_73972 = chunk_i_73971 * sext_i32_i64(threads_per_segment_73960) + sext_i32_i64(pgtid_in_segment_73959);\n            \n            if (slt64(i_73972, m_55474)) {\n                int64_t gtid_68145;\n                int64_t bucket_p_68150;\n                \n                gtid_68145 = i_73972;\n                bucket_p_68150 = ((__global int64_t *) ext_mem_70670)[gtid_68145];\n                if (chk_i_73943 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, bucket_p_68150) && slt64(bucket_p_68150, total_part_no_38276)) && (sle64(sext_i32_i64(chk_i_73943) * hist_H_chk_73945, bucket_p_68150) && slt64(bucket_p_68150, sext_i32_i64(chk_i_73943) * hist_H_chk_73945 + hist_H_chk_73945))) {\n                        int64_t eta_p_68147;\n                        int64_t eta_p_68148 = (int64_t) 1;\n                        int64_t old_73973;\n                        \n                        old_73973 = ato",
                                    "mic_add_i64_shared(&((volatile __local int64_t *) subhistogram_local_mem_73961)[sext_i32_i64(thread_local_subhisto_i_73963) * hist_H_chk_73945 + (bucket_p_68150 - sext_i32_i64(chk_i_73943) * hist_H_chk_73945)], (int64_t) eta_p_68148);\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_73974 = smin64(hist_H_chk_73945, total_part_no_38276 - sext_i32_i64(chk_i_73943) * hist_H_chk_73945);\n            int32_t histo_sizze_73975 = sext_i64_i32(trunc_H_73974);\n            \n            for (int32_t local_i_73976 = 0; local_i_73976 < init_per_thread_73947; local_i_73976++) {\n                int32_t j_73977 = local_i_73976 * sext_i64_i32(max_tblock_sizze_73932) + local_tid_73949;\n                \n                if (slt32(j_73977, histo_sizze_73975)) {\n                    int64_t eta_p_68147;\n                    int64_t eta_p_68148;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_68147 = ((__local int64_t *) subhistogram_local_mem_73961)[sext_i32_i64(j_73977)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_73978 = 0; subhisto_id_73978 < hist_M_73939 - 1; subhisto_id_73978++) {\n                            eta_p_68148 = ((__local int64_t *) subhistogram_local_mem_73961)[(sext_i32_i64(subhisto_id_73978) + (int64_t) 1) * hist_H_chk_73945 + sext_i32_i64(j_73977)];\n                            \n                            int64_t defunc_0_op_res_68149 = add64(eta_p_68147, eta_p_68148);\n                            \n                            eta_p_68147 = defunc_0_op_res_68149;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n  ", "                  {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_73923)[srem64(sext_i32_i64(virt_tblock_id_73956), num_tblocks_73933) * total_part_no_38276 + (sext_i32_i64(j_73977) + sext_i32_i64(chk_i_73943) * hist_H_chk_73945)] = eta_p_68147;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_73932\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61637_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61637(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xs_mem_68616, __global unsigned char *mem_68659)\n{\n    #define segmap_tblock_sizze_61632 (sort_for_Skyline_doublezisegmap_61637zisegmap_tblock_sizze_61632)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71842;\n    int32_t tblock_sizze_71845;\n    int32_t wave_sizze_71844;\n    int32_t block_id_71843;\n    int32_t global_tid_71841;\n    int64_t phys_tid_61637;\n    int64_t global_tid_71846;\n    int64_t slice_71847;\n    int64_t slice_71848;\n    int64_t gtid_61635;\n    int64_t remnant_71849;\n    int64_t gtid_61636;\n    int64_t remnant_71850;\n    \n    local_tid_71842 = get_local_id(0);\n    tblock_sizze_71845 = get_local_size(0);\n    wave_sizze_71844 = LOCKSTEP_WIDTH;\n    block_id_71843 = get_tblock_id(0);\n    global_tid_71841 = block_id_71843 * tblock_sizze_71845 + local_tid_71842;\n    phys_tid_61637 = sext_i32_i64(global_tid_71841);\n    global_tid_71846 = sext_i32_i64(block_id_71843) * segmap_tblock_sizze_61632 + sext_i32_i64(local_tid_71842);\n    slice_71847 = dim_38264;\n    slice_71848 = n_38267 * slice_71847;\n    gtid_61635 = squot64(global_tid_71846, slice_71847);\n    remnant_71849 = global_tid_71846 - gtid_61635 * slice_71847;\n    gtid_61636 = remnant_71849;\n    remnant_71850 = remnant_71849 - gtid_61636;\n    if (slt64(gti", "d_61635, n_38267) && slt64(gtid_61636, dim_38264)) {\n        double eta_p_61638;\n        double eta_p_61639;\n        double defunc_0_f_res_61640;\n        \n        eta_p_61638 = ((__global double *) xs_mem_68616)[gtid_61635 * dim_38264 + gtid_61636];\n        eta_p_61639 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_61636];\n        defunc_0_f_res_61640 = eta_p_61638 - eta_p_61639;\n        ((__global double *) mem_68659)[gtid_61635 * dim_38264 + gtid_61636] = defunc_0_f_res_61640;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61632\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61653_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61653(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_68659)\n{\n    #define segmap_tblock_sizze_61648 (sort_for_Skyline_doublezisegmap_61653zisegmap_tblock_sizze_61648)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71853;\n    int32_t tblock_sizze_71856;\n    int32_t wave_sizze_71855;\n    int32_t block_id_71854;\n    int32_t global_tid_71852;\n    int64_t phys_tid_61653;\n    int64_t global_tid_71857;\n    int64_t slice_71858;\n    int64_t slice_71859;\n    int64_t gtid_61651;\n    int64_t remnant_71860;\n    int64_t gtid_61652;\n    int64_t remnant_71861;\n    \n    local_tid_71853 = get_local_id(0);\n    tblock_sizze_71856 = get_local_size(0);\n    wave_sizze_71855 = LOCKSTEP_WIDTH;\n    block_id_71854 = get_tblock_id(0);\n    global_tid_71852 = block_id_71854 * tblock_sizze_71856 + local_tid_71853;\n    phys_tid_61653 = sext_i32_i64(global_tid_71852);\n    global_tid_71857 = sext_i32_i64(block_id_71854) * segmap_tblock_sizze_61648 + sext_i32_i64(local_tid_71853);\n    slice_71858 = dim_38264;\n    slice_71859 = n_38267 * slice_71858;\n    gtid_61651 = squot64(global_tid_71857, slice_71858);\n    remnant_71860 = global_tid_71857 - gtid_61651 * slice_71858;\n    gtid_61652 = remnant_71860;\n  ",
                                    "  remnant_71861 = remnant_71860 - gtid_61652;\n    if (slt64(gtid_61651, n_38267) && slt64(gtid_61652, dim_38264)) {\n        double eta_p_61654;\n        double eta_p_61655;\n        double defunc_0_f_res_61656;\n        \n        eta_p_61654 = ((__global double *) mem_68659)[gtid_61651 * dim_38264 + gtid_61652];\n        eta_p_61655 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_61652];\n        defunc_0_f_res_61656 = eta_p_61654 / eta_p_61655;\n        ((__global double *) mem_68659)[gtid_61651 * dim_38264 + gtid_61652] = defunc_0_f_res_61656;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61648\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61665_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61665(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *mem_68659, __global unsigned char *mem_68662)\n{\n    #define segmap_tblock_sizze_61661 (sort_for_Skyline_doublezisegmap_61665zisegmap_tblock_sizze_61661)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71864;\n    int32_t tblock_sizze_71867;\n    int32_t wave_sizze_71866;\n    int32_t block_id_71865;\n    int32_t global_tid_71863;\n    int64_t phys_tid_61665;\n    int64_t global_tid_71868;\n    int64_t slice_71869;\n    int64_t gtid_61664;\n    int64_t remnant_71870;\n    \n    local_tid_71864 = get_local_id(0);\n    tblock_sizze_71867 = get_local_size(0);\n    wave_sizze_71866 = LOCKSTEP_WIDTH;\n    block_id_71865 = get_tblock_id(0);\n    global_tid_71863 = block_id_71865 * tblock_sizze_71867 + local_tid_71864;\n    phys_tid_61665 = sext_i32_i64(global_tid_71863);\n    global_tid_71868 = sext_i32_i64(block_id_71865) * segmap_tblock_sizze_61661 + sext_i32_i64(local_tid_71864);\n    slice_71869 = n_38267;\n    gtid_61664 = global_tid_71868;\n    remnant_71870 = global_tid_71868 - gtid_61664;\n    if (slt64(gtid_61664, n_38267)) {\n        double f_arg0_61667;\n        int64_t f64_res_61668;\n        \n        f_arg0_61667 = ((__global double *) me", "m_68659)[gtid_61664 * dim_38264];\n        f64_res_61668 = fptosi_f64_i64(f_arg0_61667);\n        ((__global int64_t *) mem_68662)[gtid_61664] = f64_res_61668;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61661\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61678_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61678(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_61674, int32_t virt_num_tblocks_71891, __global unsigned char *mem_68676, __global unsigned char *mem_68687, __global unsigned char *mem_68705)\n{\n    #define segmap_tblock_sizze_61673 (sort_for_Skyline_doublezisegmap_61678zisegmap_tblock_sizze_61673)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71893;\n    int32_t tblock_sizze_71896;\n    int32_t wave_sizze_71895;\n    int32_t block_id_71894;\n    int32_t global_tid_71892;\n    int64_t phys_tid_61678;\n    int32_t phys_tblock_id_71897;\n    int32_t iterations_71898;\n    \n    local_tid_71893 = get_local_id(0);\n    tblock_sizze_71896 = get_local_size(0);\n    wave_sizze_71895 = LOCKSTEP_WIDTH;\n    block_id_71894 = get_tblock_id(0);\n    global_tid_71892 = block_id_71894 * tblock_sizze_71896 + local_tid_71893;\n    phys_tid_61678 = sext_i32_i64(global_tid_71892);\n    phys_tblock_id_71897 = get_tblock_id(0);\n    iterations_71898 = sdiv_up32(virt_num_tblocks_71891 - phys_tblock_id_71897, sext_i64_i32(num_tblocks_61674));\n    for (int32_t i_71899 = 0; i_71899 < iterations_71898; i_71899++) {\n        int32_t virt_tblock_id_71900;\n        int64_t global_tid_71901;\n        int64_t slice_71902;\n        int64_t gtid_61677;\n        int64_t remnant_71903;\n        \n        virt_tblock_id_71900 = phys_tblock_id_71897 + i", "_71899 * sext_i64_i32(num_tblocks_61674);\n        global_tid_71901 = sext_i32_i64(virt_tblock_id_71900) * segmap_tblock_sizze_61673 + sext_i32_i64(local_tid_71893);\n        slice_71902 = n_38267;\n        gtid_61677 = global_tid_71901;\n        remnant_71903 = global_tid_71901 - gtid_61677;\n        if (slt64(gtid_61677, n_38267)) {\n            for (int64_t i_61682 = 0; i_61682 < arg_54492; i_61682++) {\n                int64_t index_primexp_61684;\n                bool x_61685;\n                bool y_61686;\n                bool bounds_check_61687;\n                bool index_certs_61688;\n                double f_arg0_61689;\n                int64_t f64_res_61690;\n                \n                index_primexp_61684 = add64((int64_t) 1, i_61682);\n                x_61685 = sle64((int64_t) 0, index_primexp_61684);\n                y_61686 = slt64(index_primexp_61684, dim_38264);\n                bounds_check_61687 = x_61685 && y_61686;\n                if (!bounds_check_61687) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 34) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_61684;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_61689 = ((__global double *) mem_68687)[gtid_61677 + index_primexp_61684 * n_38267];\n                f64_res_61690 = fptosi_f64_i64(f_arg0_61689);\n                ((__global int64_t *) mem_68676)[gtid_61677 + index_primexp_61684 * n_38267] = f64_res_61690;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global int64_t *) mem_68705)[gtid_61677 + i_0 * n_38267] = ((__global int64_t *) mem_68676)[gtid_61677 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_",
                                    "FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_61673\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61698_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61698(__global int *global_failure, int64_t n_38267, int64_t ext_68710, __global unsigned char *ext_mem_68711, __global unsigned char *mem_68714)\n{\n    #define segmap_tblock_sizze_61694 (sort_for_Skyline_doublezisegmap_61698zisegmap_tblock_sizze_61694)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71907;\n    int32_t tblock_sizze_71910;\n    int32_t wave_sizze_71909;\n    int32_t block_id_71908;\n    int32_t global_tid_71906;\n    int64_t phys_tid_61698;\n    int64_t global_tid_71911;\n    int64_t slice_71912;\n    int64_t gtid_61697;\n    int64_t remnant_71913;\n    \n    local_tid_71907 = get_local_id(0);\n    tblock_sizze_71910 = get_local_size(0);\n    wave_sizze_71909 = LOCKSTEP_WIDTH;\n    block_id_71908 = get_tblock_id(0);\n    global_tid_71906 = block_id_71908 * tblock_sizze_71910 + local_tid_71907;\n    phys_tid_61698 = sext_i32_i64(global_tid_71906);\n    global_tid_71911 = sext_i32_i64(block_id_71908) * segmap_tblock_sizze_61694 + sext_i32_i64(local_tid_71907);\n    slice_71912 = n_38267;\n    gtid_61697 = global_tid_71911;\n    remnant_71913 = global_tid_71911 - gtid_61697;\n    if (slt64(gtid_61697, n_38267)) {\n        int64_t f_arg0_61700;\n        int64_t max_res_61701;\n        \n        f_arg0_61700 = ((__global int64_t *) ext_mem_68711)[gtid_61697 * ext_68710];\n        max_res_61701 = smax64((int64_t) 0, f_arg0_61700);\n        ((__global int64_t *) mem_68714)[gtid_61697] = max_res_61701;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61694\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61711_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61711(__global int *global_failure, int failure_is_an_option, __glob", "al int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_61707, int32_t virt_num_tblocks_71934, __global unsigned char *mem_68728, __global unsigned char *mem_68739, __global unsigned char *mem_68757)\n{\n    #define segmap_tblock_sizze_61706 (sort_for_Skyline_doublezisegmap_61711zisegmap_tblock_sizze_61706)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71936;\n    int32_t tblock_sizze_71939;\n    int32_t wave_sizze_71938;\n    int32_t block_id_71937;\n    int32_t global_tid_71935;\n    int64_t phys_tid_61711;\n    int32_t phys_tblock_id_71940;\n    int32_t iterations_71941;\n    \n    local_tid_71936 = get_local_id(0);\n    tblock_sizze_71939 = get_local_size(0);\n    wave_sizze_71938 = LOCKSTEP_WIDTH;\n    block_id_71937 = get_tblock_id(0);\n    global_tid_71935 = block_id_71937 * tblock_sizze_71939 + local_tid_71936;\n    phys_tid_61711 = sext_i32_i64(global_tid_71935);\n    phys_tblock_id_71940 = get_tblock_id(0);\n    iterations_71941 = sdiv_up32(virt_num_tblocks_71934 - phys_tblock_id_71940, sext_i64_i32(num_tblocks_61707));\n    for (int32_t i_71942 = 0; i_71942 < iterations_71941; i_71942++) {\n        int32_t virt_tblock_id_71943;\n        int64_t global_tid_71944;\n        int64_t slice_71945;\n        int64_t gtid_61710;\n        int64_t remnant_71946;\n        \n        virt_tblock_id_71943 = phys_tblock_id_71940 + i_71942 * sext_i64_i32(num_tblocks_61707);\n        global_tid_71944 = sext_i32_i64(virt_tblock_id_71943) * segmap_tblock_sizze_61706 + sext_i32_i64(local_tid_71936);\n        slice_71945 = n_38267;\n        gtid_61710 = global_tid_71944;\n        remnant_71946 = global_tid_71944 - gtid_61710;\n        if (slt64(gtid_61710, n_38267)) {\n            for (int64_t i_61715 = 0; i_61715 < arg_54492; i_61715++) {\n   ", "             int64_t index_primexp_61717;\n                bool x_61718;\n                bool y_61719;\n                bool bounds_check_61720;\n                bool index_certs_61721;\n                int64_t f_arg0_61722;\n                int64_t max_res_61723;\n                \n                index_primexp_61717 = add64((int64_t) 1, i_61715);\n                x_61718 = sle64((int64_t) 0, index_primexp_61717);\n                y_61719 = slt64(index_primexp_61717, dim_38264);\n                bounds_check_61720 = x_61718 && y_61719;\n                if (!bounds_check_61720) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 35) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_61717;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_61722 = ((__global int64_t *) mem_68739)[gtid_61710 + index_primexp_61717 * n_38267];\n                max_res_61723 = smax64((int64_t) 0, f_arg0_61722);\n                ((__global int64_t *) mem_68728)[gtid_61710 + index_primexp_61717 * n_38267] = max_res_61723;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global int64_t *) mem_68757)[gtid_61710 + i_0 * n_38267] = ((__global int64_t *) mem_68728)[gtid_61710 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_61706\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61731_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61731(__global int *global_failure, int64_t n_38267, int64_t ext_68794, __global ",
                                    "unsigned char *mem_68649, __global unsigned char *ext_mem_68795, __global unsigned char *mem_68798)\n{\n    #define segmap_tblock_sizze_61727 (sort_for_Skyline_doublezisegmap_61731zisegmap_tblock_sizze_61727)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71951;\n    int32_t tblock_sizze_71954;\n    int32_t wave_sizze_71953;\n    int32_t block_id_71952;\n    int32_t global_tid_71950;\n    int64_t phys_tid_61731;\n    int64_t global_tid_71955;\n    int64_t slice_71956;\n    int64_t gtid_61730;\n    int64_t remnant_71957;\n    \n    local_tid_71951 = get_local_id(0);\n    tblock_sizze_71954 = get_local_size(0);\n    wave_sizze_71953 = LOCKSTEP_WIDTH;\n    block_id_71952 = get_tblock_id(0);\n    global_tid_71950 = block_id_71952 * tblock_sizze_71954 + local_tid_71951;\n    phys_tid_61731 = sext_i32_i64(global_tid_71950);\n    global_tid_71955 = sext_i32_i64(block_id_71952) * segmap_tblock_sizze_61727 + sext_i32_i64(local_tid_71951);\n    slice_71956 = n_38267;\n    gtid_61730 = global_tid_71955;\n    remnant_71957 = global_tid_71955 - gtid_61730;\n    if (slt64(gtid_61730, n_38267)) {\n        int64_t min_arg1_68312;\n        int64_t f_arg0_61733;\n        int64_t min_res_61734;\n        \n        min_arg1_68312 = ((__global int64_t *) mem_68649)[(int64_t) 0];\n        f_arg0_61733 = ((__global int64_t *) ext_mem_68795)[gtid_61730 * ext_68794];\n        min_res_61734 = smin64(f_arg0_61733, min_arg1_68312);\n        ((__global int64_t *) mem_68798)[gtid_61730] = min_res_61734;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61727\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61744_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61744(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_61740, int32_t virt_num_tblocks_71978, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_68812, __global unsigned", " char *mem_68823, __global unsigned char *mem_68841)\n{\n    #define segmap_tblock_sizze_61739 (sort_for_Skyline_doublezisegmap_61744zisegmap_tblock_sizze_61739)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71980;\n    int32_t tblock_sizze_71983;\n    int32_t wave_sizze_71982;\n    int32_t block_id_71981;\n    int32_t global_tid_71979;\n    int64_t phys_tid_61744;\n    int32_t phys_tblock_id_71984;\n    int32_t iterations_71985;\n    \n    local_tid_71980 = get_local_id(0);\n    tblock_sizze_71983 = get_local_size(0);\n    wave_sizze_71982 = LOCKSTEP_WIDTH;\n    block_id_71981 = get_tblock_id(0);\n    global_tid_71979 = block_id_71981 * tblock_sizze_71983 + local_tid_71980;\n    phys_tid_61744 = sext_i32_i64(global_tid_71979);\n    phys_tblock_id_71984 = get_tblock_id(0);\n    iterations_71985 = sdiv_up32(virt_num_tblocks_71978 - phys_tblock_id_71984, sext_i64_i32(num_tblocks_61740));\n    for (int32_t i_71986 = 0; i_71986 < iterations_71985; i_71986++) {\n        int32_t virt_tblock_id_71987;\n        int64_t global_tid_71988;\n        int64_t slice_71989;\n        int64_t gtid_61743;\n        int64_t remnant_71990;\n        \n        virt_tblock_id_71987 = phys_tblock_id_71984 + i_71986 * sext_i64_i32(num_tblocks_61740);\n        global_tid_71988 = sext_i32_i64(virt_tblock_id_71987) * segmap_tblock_sizze_61739 + sext_i32_i64(local_tid_71980);\n        slice_71989 = n_38267;\n        gtid_61743 = global_tid_71988;\n        remnant_71990 = global_tid_71988 - gtid_61743;\n        if (slt64(gtid_61743, n_38267)) {\n            for (int64_t i_61748 = 0; i_61748 < arg_54492; i_61748++) {\n                int64_t index_primexp_61750;\n                bool x_61751;\n                bool y_61752;\n                bool bounds_check_61753;\n                bool index_certs_61754;\n                ", "bool index_certs_61756;\n                int64_t f_arg0_61755;\n                int64_t zm_lhs_61757;\n                int64_t min_arg1_61758;\n                int64_t min_res_61759;\n                \n                index_primexp_61750 = add64((int64_t) 1, i_61748);\n                x_61751 = sle64((int64_t) 0, index_primexp_61750);\n                y_61752 = slt64(index_primexp_61750, dim_38264);\n                bounds_check_61753 = x_61751 && y_61752;\n                if (!bounds_check_61753) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 36) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_61750;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_61753) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 37) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_61750;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_61755 = ((__global int64_t *) mem_68823)[gtid_61743 + index_primexp_61750 * n_38267];\n                zm_lhs_61757 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_61750];\n                min_arg1_61758 = sub64(zm_lhs_61757, (int64_t) 1);\n                min_res_61759 = smin64(f_arg0_61755, min_arg1_61758);\n                ((__global int64_t *) mem_68812)[gtid_61743 + index_primexp_61750 * n_38267] = min_res_61759;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global int64_t",
                                    " *) mem_68841)[gtid_61743 + i_0 * n_38267] = ((__global int64_t *) mem_68812)[gtid_61743 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_61739\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61773_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61773(__global int *global_failure, int64_t dim_38264, int64_t n_38267, int64_t ext_68890, int64_t ext_68891, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_68892, __global unsigned char *mem_68896)\n{\n    #define segmap_tblock_sizze_61768 (sort_for_Skyline_doublezisegmap_61773zisegmap_tblock_sizze_61768)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_71995;\n    int32_t tblock_sizze_71998;\n    int32_t wave_sizze_71997;\n    int32_t block_id_71996;\n    int32_t global_tid_71994;\n    int64_t phys_tid_61773;\n    int64_t global_tid_71999;\n    int64_t slice_72000;\n    int64_t slice_72001;\n    int64_t gtid_61771;\n    int64_t remnant_72002;\n    int64_t gtid_61772;\n    int64_t remnant_72003;\n    \n    local_tid_71995 = get_local_id(0);\n    tblock_sizze_71998 = get_local_size(0);\n    wave_sizze_71997 = LOCKSTEP_WIDTH;\n    block_id_71996 = get_tblock_id(0);\n    global_tid_71994 = block_id_71996 * tblock_sizze_71998 + local_tid_71995;\n    phys_tid_61773 = sext_i32_i64(global_tid_71994);\n    global_tid_71999 = sext_i32_i64(block_id_71996) * segmap_tblock_sizze_61768 + sext_i32_i64(local_tid_71995);\n    slice_72000 = dim_38264;\n    slice_72001 = n_38267 * slice_72000;\n    gtid_61771 = squot64(global_tid_71999, slice_72000);\n    remnant_72002 = global_tid_71999 - gtid_61771 * slice_72000;\n    gtid_61772 = remnant_72002;\n    remnant_72003 = remnant_72002 - gtid_61772;\n    if (slt64(gtid_61771, n_38267) && slt64(gtid_61772, ", "dim_38264)) {\n        int64_t eta_p_61774;\n        int64_t eta_p_61775;\n        int64_t defunc_0_f_res_61776;\n        \n        eta_p_61774 = ((__global int64_t *) ext_mem_68892)[gtid_61771 * ext_68891 + gtid_61772 * ext_68890];\n        eta_p_61775 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_61772];\n        defunc_0_f_res_61776 = mul64(eta_p_61774, eta_p_61775);\n        ((__global int64_t *) mem_68896)[gtid_61771 * dim_38264 + gtid_61772] = defunc_0_f_res_61776;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61768\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61784_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61784(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t dz2080U_38265, int64_t n_38267, __global unsigned char *mem_68907, __global unsigned char *mem_68909, __global unsigned char *mem_68911)\n{\n    #define segmap_tblock_sizze_61779 (sort_for_Skyline_doublezisegmap_61784zisegmap_tblock_sizze_61779)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72006;\n    int32_t tblock_sizze_72009;\n    int32_t wave_sizze_72008;\n    int32_t block_id_72007;\n    int32_t global_tid_72005;\n    int64_t phys_tid_61784;\n    int64_t global_tid_72010;\n    int64_t slice_72011;\n    int64_t gtid_61783;\n    int64_t remnant_72012;\n    \n    local_tid_72006 = get_local_id(0);\n    tblock_sizze_72009 = get_local_size(0);\n    wave_sizze_72008 = LOCKSTEP_WIDTH;\n    block_id_72007 = get_tblock_id(0);\n    global_tid_72005 = block_id_72007 * tblock_sizze_72009 + local_tid_72006;\n    phys_tid_61784 = sext_i32_i64(global_tid_72005);\n    global_tid_72010 = sext_i32_i64(block_id_72007) * segmap_tblock_sizze_61779 + sext_i32_i64(local_tid_72006);\n    slice_72011 = n_38267;\n    gtid_61783 = global_tid_72010;\n    remnant_72012 = global_tid_72010 - gtid_61783;\n    if (slt64(gtid_61783, n_38267)) {\n        int64_t defunc_0_foldl_res_61786;\n        int64_t acc_61788;\n", "        bool x_61791;\n        bool y_61792;\n        bool bounds_check_61793;\n        bool index_certs_61794;\n        \n        acc_61788 = (int64_t) 0;\n        for (int64_t i_61787 = 0; i_61787 < dim_38264; i_61787++) {\n            int64_t b_61789;\n            int64_t defunc_0_f_res_61790;\n            int64_t acc_tmp_72013;\n            \n            b_61789 = ((__global int64_t *) mem_68907)[gtid_61783 + i_61787 * n_38267];\n            defunc_0_f_res_61790 = add64(acc_61788, b_61789);\n            acc_tmp_72013 = defunc_0_f_res_61790;\n            acc_61788 = acc_tmp_72013;\n        }\n        defunc_0_foldl_res_61786 = acc_61788;\n        x_61791 = sle64((int64_t) 0, defunc_0_foldl_res_61786);\n        y_61792 = slt64(defunc_0_foldl_res_61786, dz2080U_38265);\n        bounds_check_61793 = x_61791 && y_61792;\n        if (!bounds_check_61793) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 38) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_61786;\n                    global_failure_args[1] = (int64_t) dz2080U_38265;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_68911)[gtid_61783] = defunc_0_foldl_res_61786;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61779\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61804_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61804(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_68909, __global unsigned char *mem_68911, __global unsigned char *mem_68919)\n{\n    #define segmap_tblock_sizze_61799 (sort_for_Skyline_doublezisegmap_61804zisegmap_tblock_sizze_61799)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72016;\n    int32_t tblock_sizze_72019;\n    int32_t wave_sizze_72018;\n    int32_t block_id_72017;\n    int32_t global_tid_72015;\n    int64_t phys",
                                    "_tid_61804;\n    int64_t global_tid_72020;\n    int64_t slice_72021;\n    int64_t slice_72022;\n    int64_t gtid_61803;\n    int64_t remnant_72023;\n    int64_t gtid_slice_61802;\n    int64_t remnant_72024;\n    \n    local_tid_72016 = get_local_id(0);\n    tblock_sizze_72019 = get_local_size(0);\n    wave_sizze_72018 = LOCKSTEP_WIDTH;\n    block_id_72017 = get_tblock_id(0);\n    global_tid_72015 = block_id_72017 * tblock_sizze_72019 + local_tid_72016;\n    phys_tid_61804 = sext_i32_i64(global_tid_72015);\n    global_tid_72020 = sext_i32_i64(block_id_72017) * segmap_tblock_sizze_61799 + sext_i32_i64(local_tid_72016);\n    slice_72021 = dim_38264;\n    slice_72022 = n_38267 * slice_72021;\n    gtid_61803 = squot64(global_tid_72020, slice_72021);\n    remnant_72023 = global_tid_72020 - gtid_61803 * slice_72021;\n    gtid_slice_61802 = remnant_72023;\n    remnant_72024 = remnant_72023 - gtid_slice_61802;\n    if (slt64(gtid_61803, n_38267) && slt64(gtid_slice_61802, dim_38264)) {\n        int64_t defunc_0_foldl_res_61805;\n        bool index_certs_61806;\n        double v_61807;\n        \n        defunc_0_foldl_res_61805 = ((__global int64_t *) mem_68911)[gtid_61803];\n        index_certs_61806 = 0;\n        v_61807 = ((__global double *) start_of_grid_partition_mem_68615)[defunc_0_foldl_res_61805 * dim_38264 + gtid_slice_61802];\n        ((__global double *) mem_68919)[gtid_61803 * dim_38264 + gtid_slice_61802] = v_61807;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61799\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61819_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61819(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *xs_mem_68616, __global unsigned char *mem_68919)\n{\n    #define segmap_tblock_sizze_61814 (sort_for_Skyline_doublezisegmap_61819zisegmap_tblock_sizze_61814)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72027;\n    int32_t tblock_sizze_72030;\n    int32_t wave_sizze_72029;\n    int32_", "t block_id_72028;\n    int32_t global_tid_72026;\n    int64_t phys_tid_61819;\n    int64_t global_tid_72031;\n    int64_t slice_72032;\n    int64_t slice_72033;\n    int64_t gtid_61817;\n    int64_t remnant_72034;\n    int64_t gtid_61818;\n    int64_t remnant_72035;\n    \n    local_tid_72027 = get_local_id(0);\n    tblock_sizze_72030 = get_local_size(0);\n    wave_sizze_72029 = LOCKSTEP_WIDTH;\n    block_id_72028 = get_tblock_id(0);\n    global_tid_72026 = block_id_72028 * tblock_sizze_72030 + local_tid_72027;\n    phys_tid_61819 = sext_i32_i64(global_tid_72026);\n    global_tid_72031 = sext_i32_i64(block_id_72028) * segmap_tblock_sizze_61814 + sext_i32_i64(local_tid_72027);\n    slice_72032 = dim_38264;\n    slice_72033 = n_38267 * slice_72032;\n    gtid_61817 = squot64(global_tid_72031, slice_72032);\n    remnant_72034 = global_tid_72031 - gtid_61817 * slice_72032;\n    gtid_61818 = remnant_72034;\n    remnant_72035 = remnant_72034 - gtid_61818;\n    if (slt64(gtid_61817, n_38267) && slt64(gtid_61818, dim_38264)) {\n        double eta_p_61820;\n        double eta_p_61821;\n        double defunc_0_f_res_61822;\n        \n        eta_p_61820 = ((__global double *) xs_mem_68616)[gtid_61817 * dim_38264 + gtid_61818];\n        eta_p_61821 = ((__global double *) mem_68919)[gtid_61817 * dim_38264 + gtid_61818];\n        defunc_0_f_res_61822 = eta_p_61820 - eta_p_61821;\n        ((__global double *) mem_68919)[gtid_61817 * dim_38264 + gtid_61818] = defunc_0_f_res_61822;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61814\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61841_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61841(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_61837, int32_t virt_num_tblocks_72056, __global unsigned char *mem_68933, __global unsigned char *mem_68944, __global unsigned char *mem_68962)\n{\n    #define segmap_tblock_sizze_61836 (", "sort_for_Skyline_doublezisegmap_61841zisegmap_tblock_sizze_61836)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72058;\n    int32_t tblock_sizze_72061;\n    int32_t wave_sizze_72060;\n    int32_t block_id_72059;\n    int32_t global_tid_72057;\n    int64_t phys_tid_61841;\n    int32_t phys_tblock_id_72062;\n    int32_t iterations_72063;\n    \n    local_tid_72058 = get_local_id(0);\n    tblock_sizze_72061 = get_local_size(0);\n    wave_sizze_72060 = LOCKSTEP_WIDTH;\n    block_id_72059 = get_tblock_id(0);\n    global_tid_72057 = block_id_72059 * tblock_sizze_72061 + local_tid_72058;\n    phys_tid_61841 = sext_i32_i64(global_tid_72057);\n    phys_tblock_id_72062 = get_tblock_id(0);\n    iterations_72063 = sdiv_up32(virt_num_tblocks_72056 - phys_tblock_id_72062, sext_i64_i32(num_tblocks_61837));\n    for (int32_t i_72064 = 0; i_72064 < iterations_72063; i_72064++) {\n        int32_t virt_tblock_id_72065;\n        int64_t global_tid_72066;\n        int64_t slice_72067;\n        int64_t gtid_61840;\n        int64_t remnant_72068;\n        \n        virt_tblock_id_72065 = phys_tblock_id_72062 + i_72064 * sext_i64_i32(num_tblocks_61837);\n        global_tid_72066 = sext_i32_i64(virt_tblock_id_72065) * segmap_tblock_sizze_61836 + sext_i32_i64(local_tid_72058);\n        slice_72067 = n_38267;\n        gtid_61840 = global_tid_72066;\n        remnant_72068 = global_tid_72066 - gtid_61840;\n        if (slt64(gtid_61840, n_38267)) {\n            for (int64_t i_61845 = 0; i_61845 < arg_54492; i_61845++) {\n                int64_t index_primexp_61847;\n                bool x_61848;\n                bool y_61849;\n                bool bounds_check_61850;\n                bool index_certs_61851;\n                \n                index_primexp_61847 = add64((int64_t) 1, i_61845);\n                x_61848 = ",
                                    "sle64((int64_t) 0, index_primexp_61847);\n                y_61849 = slt64(index_primexp_61847, dim_38264);\n                bounds_check_61850 = x_61848 && y_61849;\n                if (!bounds_check_61850) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 39) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_61847;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_68933)[gtid_61840 + n_38267 * index_primexp_61847 + i_0 * n_38267] = ((__global double *) mem_68944)[gtid_61840 + n_38267 * index_primexp_61847 + i_0 * n_38267];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global double *) mem_68962)[gtid_61840 + i_0 * n_38267] = ((__global double *) mem_68933)[gtid_61840 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_61836\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61889_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61889(__global int *global_failure, int64_t n_38267, int64_t map_arg1_61862, int64_t j_m_i_61863, int64_t ext_68709, int64_t ext_68710, __global unsigned char *ext_mem_68968, __global unsigned char *mem_68976)\n{\n    #define segmap_tblock_sizze_61884 (sort_for_Skyline_doublezisegmap_61889zisegmap_tblock_sizze_61884)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72076;\n    int32_t tblock_sizze_72079;\n    int32_t wave_si", "zze_72078;\n    int32_t block_id_72077;\n    int32_t global_tid_72075;\n    int64_t phys_tid_61889;\n    int64_t global_tid_72080;\n    int64_t slice_72081;\n    int64_t slice_72082;\n    int64_t gtid_61887;\n    int64_t remnant_72083;\n    int64_t gtid_61888;\n    int64_t remnant_72084;\n    \n    local_tid_72076 = get_local_id(0);\n    tblock_sizze_72079 = get_local_size(0);\n    wave_sizze_72078 = LOCKSTEP_WIDTH;\n    block_id_72077 = get_tblock_id(0);\n    global_tid_72075 = block_id_72077 * tblock_sizze_72079 + local_tid_72076;\n    phys_tid_61889 = sext_i32_i64(global_tid_72075);\n    global_tid_72080 = sext_i32_i64(block_id_72077) * segmap_tblock_sizze_61884 + sext_i32_i64(local_tid_72076);\n    slice_72081 = j_m_i_61863;\n    slice_72082 = n_38267 * slice_72081;\n    gtid_61887 = squot64(global_tid_72080, slice_72081);\n    remnant_72083 = global_tid_72080 - gtid_61887 * slice_72081;\n    gtid_61888 = remnant_72083;\n    remnant_72084 = remnant_72083 - gtid_61888;\n    if (slt64(gtid_61887, n_38267) && slt64(gtid_61888, j_m_i_61863)) {\n        int64_t slice_68231;\n        double eta_p_61890;\n        double lifted_lambda_res_61891;\n        \n        slice_68231 = map_arg1_61862 + gtid_61888;\n        eta_p_61890 = ((__global double *) ext_mem_68968)[gtid_61887 * ext_68710 + slice_68231 * ext_68709];\n        lifted_lambda_res_61891 = eta_p_61890 * eta_p_61890;\n        ((__global double *) mem_68976)[gtid_61887 * j_m_i_61863 + gtid_61888] = lifted_lambda_res_61891;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61884\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61899_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61899(__global int *global_failure, int64_t n_38267, int64_t arg_54492, int64_t i_61858, int64_t j_m_i_61863, int64_t num_tblocks_61895, int64_t ext_68709, int64_t ext_68710, int32_t virt_num_tblocks_72085, __global unsigned char *ext_mem_68968, __global unsigned char *mem_68987, __global unsigned char *mem_68998, __global unsigned char *mem_69010)\n", "{\n    #define segmap_tblock_sizze_61894 (sort_for_Skyline_doublezisegmap_61899zisegmap_tblock_sizze_61894)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72087;\n    int32_t tblock_sizze_72090;\n    int32_t wave_sizze_72089;\n    int32_t block_id_72088;\n    int32_t global_tid_72086;\n    int64_t phys_tid_61899;\n    int32_t phys_tblock_id_72091;\n    int32_t iterations_72092;\n    \n    local_tid_72087 = get_local_id(0);\n    tblock_sizze_72090 = get_local_size(0);\n    wave_sizze_72089 = LOCKSTEP_WIDTH;\n    block_id_72088 = get_tblock_id(0);\n    global_tid_72086 = block_id_72088 * tblock_sizze_72090 + local_tid_72087;\n    phys_tid_61899 = sext_i32_i64(global_tid_72086);\n    phys_tblock_id_72091 = get_tblock_id(0);\n    iterations_72092 = sdiv_up32(virt_num_tblocks_72085 - phys_tblock_id_72091, sext_i64_i32(num_tblocks_61895));\n    for (int32_t i_72093 = 0; i_72093 < iterations_72092; i_72093++) {\n        int32_t virt_tblock_id_72094;\n        int64_t global_tid_72095;\n        int64_t slice_72096;\n        int64_t gtid_61898;\n        int64_t remnant_72097;\n        \n        virt_tblock_id_72094 = phys_tblock_id_72091 + i_72093 * sext_i64_i32(num_tblocks_61895);\n        global_tid_72095 = sext_i32_i64(virt_tblock_id_72094) * segmap_tblock_sizze_61894 + sext_i32_i64(local_tid_72087);\n        slice_72096 = n_38267;\n        gtid_61898 = global_tid_72095;\n        remnant_72097 = global_tid_72095 - gtid_61898;\n        if (slt64(gtid_61898, n_38267)) {\n            double defunc_0_seqmap_res_r_transformed_row_61901;\n            double defunc_0_foldl_res_61903;\n            double acc_61905;\n            double sqrt_res_61908;\n            double atan2_res_61909;\n            \n            defunc_0_seqmap_res_r_transformed_row_61901 = ((__global double *) ext_mem_68968)[gtid_61898 * ext_68710 + i_61858 * ext_68709];\n            acc_61905 = 0.0;\n            for (int64_t i_61904 = 0; i_61904 < j_m_i_61863; i_61904++) {\n                double b_61906;\n                dou",
                                    "ble defunc_0_f_res_61907;\n                double acc_tmp_72098;\n                \n                b_61906 = ((__global double *) mem_68998)[gtid_61898 + i_61904 * n_38267];\n                defunc_0_f_res_61907 = acc_61905 + b_61906;\n                acc_tmp_72098 = defunc_0_f_res_61907;\n                acc_61905 = acc_tmp_72098;\n            }\n            defunc_0_foldl_res_61903 = acc_61905;\n            sqrt_res_61908 = futrts_sqrt64(defunc_0_foldl_res_61903);\n            atan2_res_61909 = futrts_atan2_64(sqrt_res_61908, defunc_0_seqmap_res_r_transformed_row_61901);\n            ((__global double *) mem_68987)[gtid_61898 + i_61858 * n_38267] = atan2_res_61909;\n            for (int64_t i_0 = 0; i_0 < arg_54492; i_0++) {\n                ((__global double *) mem_69010)[gtid_61898 + i_0 * n_38267] = ((__global double *) mem_68987)[gtid_61898 + i_0 * n_38267];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_61894\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61923_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61923(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_38267, int64_t arg_54492, int64_t ext_69011, int64_t ext_69012, __global unsigned char *angle_part_prefix_sum_mem_68610, __global unsigned char *angle_partitions_per_dim_mem_68611, __global unsigned char *ext_mem_68631, __global unsigned char *ext_mem_69014, __global unsigned char *mem_69018)\n{\n    #define segmap_tblock_sizze_61918 (sort_for_Skyline_doublezisegmap_61923zisegmap_tblock_sizze_61918)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72101;\n    int32_t tblock_sizze_72104;\n    int32_t wave_sizze_72103;\n    int32_t block_id_72102;\n    int32_t global_tid_72100;\n    int64_t phys_tid_61923;\n    int64_t global_tid_72105;\n    int64_t slice_72106;\n", "    int64_t slice_72107;\n    int64_t gtid_61921;\n    int64_t remnant_72108;\n    int64_t gtid_61922;\n    int64_t remnant_72109;\n    \n    local_tid_72101 = get_local_id(0);\n    tblock_sizze_72104 = get_local_size(0);\n    wave_sizze_72103 = LOCKSTEP_WIDTH;\n    block_id_72102 = get_tblock_id(0);\n    global_tid_72100 = block_id_72102 * tblock_sizze_72104 + local_tid_72101;\n    phys_tid_61923 = sext_i32_i64(global_tid_72100);\n    global_tid_72105 = sext_i32_i64(block_id_72102) * segmap_tblock_sizze_61918 + sext_i32_i64(local_tid_72101);\n    slice_72106 = arg_54492;\n    slice_72107 = n_38267 * slice_72106;\n    gtid_61921 = squot64(global_tid_72105, slice_72106);\n    remnant_72108 = global_tid_72105 - gtid_61921 * slice_72106;\n    gtid_61922 = remnant_72108;\n    remnant_72109 = remnant_72108 - gtid_61922;\n    if (slt64(gtid_61921, n_38267) && slt64(gtid_61922, arg_54492)) {\n        double eta_p_61924;\n        double eta_p_61925;\n        int64_t eta_p_61926;\n        int64_t eta_p_61927;\n        int64_t defunc_0_f_res_61928;\n        \n        eta_p_61924 = ((__global double *) ext_mem_69014)[gtid_61921 * ext_69012 + gtid_61922 * ext_69011];\n        eta_p_61925 = ((__global double *) ext_mem_68631)[gtid_61922];\n        eta_p_61926 = ((__global int64_t *) angle_part_prefix_sum_mem_68610)[gtid_61922];\n        eta_p_61927 = ((__global int64_t *) angle_partitions_per_dim_mem_68611)[gtid_61922];\n        futrts_lifted_lambda_10001(&defunc_0_f_res_61928, eta_p_61924, eta_p_61925, eta_p_61926, eta_p_61927);\n        ((__global int64_t *) mem_69018)[gtid_61921 * arg_54492 + gtid_61922] = defunc_0_f_res_61928;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61918\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_61935_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_61935(__global int *global_failure, int64_t n_38267, int64_t total_angle_no_38274, int64_t arg_54492, __global unsigned char *mem_68911, __global unsigned char *mem_69029, __global unsigned char *mem_6903", "2)\n{\n    #define segmap_tblock_sizze_61931 (sort_for_Skyline_doublezisegmap_61935zisegmap_tblock_sizze_61931)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72112;\n    int32_t tblock_sizze_72115;\n    int32_t wave_sizze_72114;\n    int32_t block_id_72113;\n    int32_t global_tid_72111;\n    int64_t phys_tid_61935;\n    int64_t global_tid_72116;\n    int64_t slice_72117;\n    int64_t gtid_61934;\n    int64_t remnant_72118;\n    \n    local_tid_72112 = get_local_id(0);\n    tblock_sizze_72115 = get_local_size(0);\n    wave_sizze_72114 = LOCKSTEP_WIDTH;\n    block_id_72113 = get_tblock_id(0);\n    global_tid_72111 = block_id_72113 * tblock_sizze_72115 + local_tid_72112;\n    phys_tid_61935 = sext_i32_i64(global_tid_72111);\n    global_tid_72116 = sext_i32_i64(block_id_72113) * segmap_tblock_sizze_61931 + sext_i32_i64(local_tid_72112);\n    slice_72117 = n_38267;\n    gtid_61934 = global_tid_72116;\n    remnant_72118 = global_tid_72116 - gtid_61934;\n    if (slt64(gtid_61934, n_38267)) {\n        int64_t defunc_0_foldl_res_61936;\n        int64_t defunc_0_foldl_res_61938;\n        int64_t acc_61940;\n        int64_t zp_lhs_61943;\n        int64_t get_id_from_grid_angle_res_61944;\n        \n        defunc_0_foldl_res_61936 = ((__global int64_t *) mem_68911)[gtid_61934];\n        acc_61940 = (int64_t) 0;\n        for (int64_t i_61939 = 0; i_61939 < arg_54492; i_61939++) {\n            int64_t b_61941;\n            int64_t defunc_0_f_res_61942;\n            int64_t acc_tmp_72119;\n            \n            b_61941 = ((__global int64_t *) mem_69029)[gtid_61934 + i_61939 * n_38267];\n            defunc_0_f_res_61942 = add64(acc_61940, b_61941);\n            acc_tmp_72119 = defunc_0_f_res_61942;\n            acc_61940 = acc_tmp_72119;\n        }\n        defunc_0_foldl_res_61938 = acc_61940;\n        zp_lhs_61943 = mul64(total_angle_no_38274, defunc_0_foldl_res_61936);\n        get_id_from_grid_angle_res_61944 = add64(defunc_0_foldl_res_61938, zp_lhs_61943);\n        ((__global int64_t *) m",
                                    "em_69032)[gtid_61934] = get_id_from_grid_angle_res_61944;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_61931\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_62276_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_62276(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t smallest_pow_2_geq_than_res_54686, int64_t block_sizze_54696, int64_t num_tblocks_62269, int32_t virt_num_tblocks_72181, __global unsigned char *mem_69032, __global unsigned char *mem_69043, __global unsigned char *mem_69055, __global unsigned char *mem_69057, __global unsigned char *mem_69058, __global unsigned char *mem_69065, __global unsigned char *mem_69082, __global unsigned char *mem_69085)\n{\n    #define segmap_tblock_sizze_62268 (sort_for_Skyline_doublezisegmap_62276zisegmap_tblock_sizze_62268)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72183;\n    int32_t tblock_sizze_72186;\n    int32_t wave_sizze_72185;\n    int32_t block_id_72184;\n    int32_t global_tid_72182;\n    int64_t phys_tid_62276;\n    int32_t phys_tblock_id_72187;\n    int32_t iterations_72188;\n    \n    local_tid_72183 = get_local_id(0);\n    tblock_sizze_72186 = get_local_size(0);\n    wave_sizze_72185 = LOCKSTEP_WIDTH;\n    block_id_72184 = get_tblock_id(0);\n    global_tid_72182 = block_id_72184 * tblock_sizze_72186 + local_tid_72183;\n    phys_tid_62276 = sext_i32_i64(global_tid_72182);\n    phys_tblock_id_72187 = get_tblock_id(0);\n    iterations_72188 = sdiv_up32(virt_num_tblocks_72181 - phys_tblock_id_72187, sext_i64_i32(num_tblocks_62269));\n    for (int32_t i_72189 = 0; i_72189 < iterations_72188; i_72189++) {\n        int32_t virt_tblock_id_72190;\n        int64_t global_tid_72191;\n        int64_t slice_7219", "2;\n        int64_t slice_72193;\n        int64_t gtid_62274;\n        int64_t remnant_72194;\n        int64_t gtid_62275;\n        int64_t remnant_72195;\n        \n        virt_tblock_id_72190 = phys_tblock_id_72187 + i_72189 * sext_i64_i32(num_tblocks_62269);\n        global_tid_72191 = sext_i32_i64(virt_tblock_id_72190) * segmap_tblock_sizze_62268 + sext_i32_i64(local_tid_72183);\n        slice_72192 = block_sizze_54696;\n        slice_72193 = smallest_pow_2_geq_than_res_54686 * slice_72192;\n        gtid_62274 = squot64(global_tid_72191, slice_72192);\n        remnant_72194 = global_tid_72191 - gtid_62274 * slice_72192;\n        gtid_62275 = remnant_72194;\n        remnant_72195 = remnant_72194 - gtid_62275;\n        if (slt64(gtid_62274, smallest_pow_2_geq_than_res_54686) && slt64(gtid_62275, block_sizze_54696)) {\n            int64_t index_primexp_68275;\n            int64_t k_62279;\n            bool cond_62280;\n            int64_t ext_69061;\n            int64_t ext_69060;\n            __global unsigned char *ext_mem_69062;\n            int64_t lifted_lambda_res_62281;\n            int64_t lifted_lambda_res_62283;\n            \n            index_primexp_68275 = mul64(block_sizze_54696, gtid_62274);\n            k_62279 = add64(gtid_62275, index_primexp_68275);\n            cond_62280 = slt64(k_62279, n_38267);\n            if (cond_62280) {\n                ext_69061 = k_62279;\n            } else {\n                ext_69061 = (int64_t) 0;\n            }\n            if (cond_62280) {\n                ext_69060 = n_38267;\n            } else {\n                ext_69060 = (int64_t) 1;\n            }\n            if (cond_62280) {\n                bool x_62284;\n                bool bounds_check_62285;\n                bool index_certs_62286;\n                int64_t lifted_lambda_res_t_res_62287;\n                \n                x_62284 = sle64((int64_t) 0, k_62279);\n                bounds_check_62285 = cond_62280 && x_62284;\n                if (!bounds_check_62285) {\n                    {\n     ", "                   if (atomic_cmpxchg_i32_global(global_failure, -1, 40) == -1) {\n                            global_failure_args[0] = (int64_t) k_62279;\n                            global_failure_args[1] = (int64_t) n_38267;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_t_res_62287 = ((__global int64_t *) mem_69032)[k_62279];\n                ext_mem_69062 = mem_69043;\n                lifted_lambda_res_62281 = lifted_lambda_res_t_res_62287;\n                lifted_lambda_res_62283 = k_62279;\n            } else {\n                int64_t defunc_0_reduce_res_68317;\n                int64_t defunc_0_reduce_res_68318;\n                \n                defunc_0_reduce_res_68317 = ((__global int64_t *) mem_69057)[(int64_t) 0];\n                defunc_0_reduce_res_68318 = ((__global int64_t *) mem_69058)[(int64_t) 0];\n                ext_mem_69062 = mem_69055;\n                lifted_lambda_res_62281 = defunc_0_reduce_res_68317;\n                lifted_lambda_res_62283 = defunc_0_reduce_res_68318;\n            }\n            ((__global int64_t *) mem_69065)[gtid_62274 * block_sizze_54696 + gtid_62275] = lifted_lambda_res_62281;\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global double *) mem_69082)[gtid_62274 * block_sizze_54696 + gtid_62275 + i_0 * (block_sizze_54696 * smallest_pow_2_geq_than_res_54686)] = ((__global double *) ext_mem_69062)[ext_69061 + i_0 * ext_69060];\n            }\n            ((__global int64_t *) mem_69085)[gtid_62274 * block_sizze_54696 + gtid_62275] = lifted_lambda_res_62283;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_62268\n}\nFUTHARK_KERNE",
                                    "L_SIZED(sort_for_Skyline_doublezisegmap_62306_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_62306(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t smallest_pow_2_geq_than_res_54686, int64_t block_sizze_54696, int64_t distance_54756, int64_t num_tblocks_62300, int64_t num_threads_71488, int64_t ctx_71501, int32_t virt_num_tblocks_72196, __global unsigned char *mem_69096, __global unsigned char *mem_69113, __global unsigned char *mem_69124, __global unsigned char *mem_69181, __global unsigned char *mem_69198, __global unsigned char *mem_69209, __global unsigned char *color_71392, __global unsigned char *color_71393)\n{\n    #define segmap_tblock_sizze_62299 (sort_for_Skyline_doublezisegmap_62306zisegmap_tblock_sizze_62299)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72198;\n    int32_t tblock_sizze_72201;\n    int32_t wave_sizze_72200;\n    int32_t block_id_72199;\n    int32_t global_tid_72197;\n    int64_t phys_tid_62306;\n    int32_t phys_tblock_id_72202;\n    int32_t iterations_72203;\n    \n    local_tid_72198 = get_local_id(0);\n    tblock_sizze_72201 = get_local_size(0);\n    wave_sizze_72200 = LOCKSTEP_WIDTH;\n    block_id_72199 = get_tblock_id(0);\n    global_tid_72197 = block_id_72199 * tblock_sizze_72201 + local_tid_72198;\n    phys_tid_62306 = sext_i32_i64(global_tid_72197);\n    phys_tblock_id_72202 = get_tblock_id(0);\n    iterations_72203 = sdiv_up32(virt_num_tblocks_72196 - phys_tblock_id_72202, sext_i64_i32(num_tblocks_62300));\n    for (int32_t i_72204 = 0; i_72204 < iterations_72203; i_72204++) {\n        int32_t virt_tblock_id_72205;\n        int64_t global_tid_72206;\n        int64_t slice_72207;\n        int64_t gtid_62305;\n        int64_t remnant_72208;\n        \n        virt_tbl", "ock_id_72205 = phys_tblock_id_72202 + i_72204 * sext_i64_i32(num_tblocks_62300);\n        global_tid_72206 = sext_i32_i64(virt_tblock_id_72205) * segmap_tblock_sizze_62299 + sext_i32_i64(local_tid_72198);\n        slice_72207 = smallest_pow_2_geq_than_res_54686;\n        gtid_62305 = global_tid_72206;\n        remnant_72208 = global_tid_72206 - gtid_62305;\n        if (slt64(gtid_62305, smallest_pow_2_geq_than_res_54686)) {\n            for (int64_t i_62313 = 0; i_62313 < distance_54756; i_62313++) {\n                int64_t gt_arg1_62317;\n                bool x_62318;\n                bool y_62319;\n                bool bounds_check_62320;\n                bool index_certs_62321;\n                bool y_62323;\n                bool index_certs_62324;\n                int64_t gt_arg1_62322;\n                int64_t gt_arg0_62325;\n                bool lifted_lambda_res_62326;\n                bool defunc_0_lifted_gt_res_62327;\n                bool s_62328;\n                int64_t s_62332;\n                bool loop_while_62333;\n                int64_t j_62337;\n                \n                gt_arg1_62317 = add64((int64_t) 1, i_62313);\n                x_62318 = sle64((int64_t) 0, gt_arg1_62317);\n                y_62319 = slt64(gt_arg1_62317, block_sizze_54696);\n                bounds_check_62320 = x_62318 && y_62319;\n                if (!bounds_check_62320) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 41) == -1) {\n                            global_failure_args[0] = (int64_t) gt_arg1_62317;\n                            global_failure_args[1] = (int64_t) block_sizze_54696;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                y_62323 = slt64(i_62313, block_sizze_54696);\n                if (!y_62323) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1,", " 42) == -1) {\n                            global_failure_args[0] = (int64_t) i_62313;\n                            global_failure_args[1] = (int64_t) block_sizze_54696;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                gt_arg1_62322 = ((__global int64_t *) mem_69096)[gtid_62305 + gt_arg1_62317 * smallest_pow_2_geq_than_res_54686];\n                gt_arg0_62325 = ((__global int64_t *) mem_69096)[gtid_62305 + i_62313 * smallest_pow_2_geq_than_res_54686];\n                lifted_lambda_res_62326 = sle64(gt_arg0_62325, gt_arg1_62322);\n                defunc_0_lifted_gt_res_62327 = !lifted_lambda_res_62326;\n                loop_while_62333 = defunc_0_lifted_gt_res_62327;\n                j_62337 = i_62313;\n                while (loop_while_62333) {\n                    bool x_62338;\n                    bool y_62339;\n                    bool bounds_check_62340;\n                    bool index_certs_62341;\n                    int64_t copy_arg0_62346;\n                    bool x_62347;\n                    bool y_62348;\n                    bool bounds_check_62349;\n                    bool index_certs_62350;\n                    int64_t copy_arg0_62342;\n                    int64_t copy_arg0_62344;\n                    int64_t copy_arg0_62351;\n                    int64_t copy_arg0_62353;\n                    int64_t tmp_62361;\n                    bool cond_62362;\n                    bool loop_cond_62363;\n                    bool loop_while_tmp_72212;\n                    int64_t j_tmp_72216;\n                    \n                    x_62338 = sle64((int64_t) 0, j_62337);\n                    y_62339 = slt64(j_62337, block_sizze_54696);\n                    bounds_check_62340 = x_62338 && y_62339;\n                    if (!bounds_check_62340) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 43) ",
                                    "== -1) {\n                                global_failure_args[0] = (int64_t) j_62337;\n                                global_failure_args[1] = (int64_t) block_sizze_54696;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_62346 = add64((int64_t) 1, j_62337);\n                    x_62347 = sle64((int64_t) 0, copy_arg0_62346);\n                    y_62348 = slt64(copy_arg0_62346, block_sizze_54696);\n                    bounds_check_62349 = x_62347 && y_62348;\n                    if (!bounds_check_62349) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 44) == -1) {\n                                global_failure_args[0] = (int64_t) copy_arg0_62346;\n                                global_failure_args[1] = (int64_t) block_sizze_54696;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_62342 = ((__global int64_t *) mem_69096)[gtid_62305 + j_62337 * smallest_pow_2_geq_than_res_54686];\n                    copy_arg0_62344 = ((__global int64_t *) mem_69124)[gtid_62305 + j_62337 * smallest_pow_2_geq_than_res_54686];\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) color_71393)[phys_tid_62306 + i_0 * num_threads_71488] = ((__global double *) mem_69113)[gtid_62305 + j_62337 * ctx_71501 + i_0 * smallest_pow_2_geq_than_res_54686];\n                    }\n                    copy_arg0_62351 = ((__global int64_t *) mem_69096)[gtid_62305 + copy_arg0_62346 * smallest_pow_2_geq_than_res_54686];\n                    copy_arg0_62353 = ((__global int64_t *) mem_69124)[gtid_62305 + copy_arg0_62346 * smallest_pow_2_geq_than_", "res_54686];\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) color_71392)[phys_tid_62306 + i_0 * num_threads_71488] = ((__global double *) mem_69113)[gtid_62305 + copy_arg0_62346 * ctx_71501 + i_0 * smallest_pow_2_geq_than_res_54686];\n                    }\n                    ((__global int64_t *) mem_69096)[gtid_62305 + j_62337 * smallest_pow_2_geq_than_res_54686] = copy_arg0_62351;\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) mem_69113)[gtid_62305 + j_62337 * ctx_71501 + i_0 * smallest_pow_2_geq_than_res_54686] = ((__global double *) color_71392)[phys_tid_62306 + i_0 * num_threads_71488];\n                    }\n                    ((__global int64_t *) mem_69124)[gtid_62305 + j_62337 * smallest_pow_2_geq_than_res_54686] = copy_arg0_62353;\n                    ((__global int64_t *) mem_69096)[gtid_62305 + copy_arg0_62346 * smallest_pow_2_geq_than_res_54686] = copy_arg0_62342;\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) mem_69113)[gtid_62305 + copy_arg0_62346 * ctx_71501 + i_0 * smallest_pow_2_geq_than_res_54686] = ((__global double *) color_71393)[phys_tid_62306 + i_0 * num_threads_71488];\n                    }\n                    ((__global int64_t *) mem_69124)[gtid_62305 + copy_arg0_62346 * smallest_pow_2_geq_than_res_54686] = copy_arg0_62344;\n                    tmp_62361 = sub64(j_62337, (int64_t) 1);\n                    cond_62362 = sle64((int64_t) 0, tmp_62361);\n                    if (cond_62362) {\n                        bool y_62365;\n                        bool bounds_check_62366;\n                        bool index_certs_62367;\n                        int64_t gt_arg1_62364;\n                        int64_t gt_arg0_62368;\n                        bool lifted_lambda_res_62369;\n                        bool defunc_0_lifted_gt_res_62370;\n                        \n   ", "                     y_62365 = slt64(tmp_62361, block_sizze_54696);\n                        bounds_check_62366 = cond_62362 && y_62365;\n                        if (!bounds_check_62366) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 45) == -1) {\n                                    global_failure_args[0] = (int64_t) tmp_62361;\n                                    global_failure_args[1] = (int64_t) block_sizze_54696;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        gt_arg1_62364 = ((__global int64_t *) mem_69096)[gtid_62305 + j_62337 * smallest_pow_2_geq_than_res_54686];\n                        gt_arg0_62368 = ((__global int64_t *) mem_69096)[gtid_62305 + tmp_62361 * smallest_pow_2_geq_than_res_54686];\n                        lifted_lambda_res_62369 = sle64(gt_arg0_62368, gt_arg1_62364);\n                        defunc_0_lifted_gt_res_62370 = !lifted_lambda_res_62369;\n                        loop_cond_62363 = defunc_0_lifted_gt_res_62370;\n                    } else {\n                        loop_cond_62363 = 0;\n                    }\n                    loop_while_tmp_72212 = loop_cond_62363;\n                    j_tmp_72216 = tmp_62361;\n                    loop_while_62333 = loop_while_tmp_72212;\n                    j_62337 = j_tmp_72216;\n                }\n                s_62328 = loop_while_62333;\n                s_62332 = j_62337;\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_54696; i_0++) {\n                ((__global int64_t *) mem_69181)[gtid_62305 + i_0 * smallest_pow_2_geq_than_res_54686] = ((__global int64_t *) mem_69096)[gtid_62305 + i_0 * smallest_pow_2_geq_than_res_54686];\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_54696; i_0++) {\n                for (int64",
                                    "_t i_1 = 0; i_1 < dim_38264; i_1++) {\n                    ((__global double *) mem_69198)[gtid_62305 + (i_0 * (smallest_pow_2_geq_than_res_54686 * dim_38264) + i_1 * smallest_pow_2_geq_than_res_54686)] = ((__global double *) mem_69113)[gtid_62305 + (i_0 * ctx_71501 + i_1 * smallest_pow_2_geq_than_res_54686)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_54696; i_0++) {\n                ((__global int64_t *) mem_69209)[gtid_62305 + i_0 * smallest_pow_2_geq_than_res_54686] = ((__global int64_t *) mem_69124)[gtid_62305 + i_0 * smallest_pow_2_geq_than_res_54686];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_62299\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65178_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65178(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t loop_dz2084Uz2082U_54856, int64_t next_stride_54862, unsigned char zzero_54863_bits, int64_t num_merges_54866, int64_t m_54871, unsigned char zzero_leq_i_p_m_t_s_54872_bits, unsigned char i_lte_j_54873_bits, __global unsigned char *mem_69246, __global unsigned char *mem_69247)\n{\n    bool zzero_54863 = zzero_54863_bits;\n    bool zzero_leq_i_p_m_t_s_54872 = zzero_leq_i_p_m_t_s_54872_bits;\n    bool i_lte_j_54873 = i_lte_j_54873_bits;\n    \n    #define segmap_tblock_sizze_65172 (sort_for_Skyline_doublezisegmap_65178zisegmap_tblock_sizze_65172)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72359;\n    int32_t tblock_sizze_72362;\n    int32_t wave_sizze_72361;\n    int32_t block_id_72360;\n    int32_t global_tid_72358;\n    int64_t phys_tid_65178;\n    int64_t global_tid_72363;\n    int64_t slice_72364;\n    int64_t gtid_65177;\n    int64_t remnant_72365;\n    \n    l", "ocal_tid_72359 = get_local_id(0);\n    tblock_sizze_72362 = get_local_size(0);\n    wave_sizze_72361 = LOCKSTEP_WIDTH;\n    block_id_72360 = get_tblock_id(0);\n    global_tid_72358 = block_id_72360 * tblock_sizze_72362 + local_tid_72359;\n    phys_tid_65178 = sext_i32_i64(global_tid_72358);\n    global_tid_72363 = sext_i32_i64(block_id_72360) * segmap_tblock_sizze_65172 + sext_i32_i64(local_tid_72359);\n    slice_72364 = num_merges_54866;\n    gtid_65177 = global_tid_72363;\n    remnant_72365 = global_tid_72363 - gtid_65177;\n    if (slt64(gtid_65177, num_merges_54866)) {\n        int64_t start_65180;\n        int64_t j_m_i_65181;\n        bool empty_slice_65182;\n        int64_t m_65183;\n        int64_t i_p_m_t_s_65184;\n        bool zzero_leq_i_p_m_t_s_65185;\n        bool i_p_m_t_s_leq_w_65186;\n        bool zzero_lte_i_65187;\n        bool i_lte_j_65188;\n        bool y_65189;\n        bool y_65190;\n        bool forwards_ok_65191;\n        bool ok_or_empty_65192;\n        bool index_certs_65193;\n        bool i_p_m_t_s_leq_w_65194;\n        bool y_65195;\n        bool forwards_ok_65196;\n        bool ok_or_empty_65197;\n        bool index_certs_65198;\n        \n        start_65180 = mul64(next_stride_54862, gtid_65177);\n        j_m_i_65181 = sub64(loop_dz2084Uz2082U_54856, start_65180);\n        empty_slice_65182 = j_m_i_65181 == (int64_t) 0;\n        m_65183 = sub64(j_m_i_65181, (int64_t) 1);\n        i_p_m_t_s_65184 = add64(start_65180, m_65183);\n        zzero_leq_i_p_m_t_s_65185 = sle64((int64_t) 0, i_p_m_t_s_65184);\n        i_p_m_t_s_leq_w_65186 = slt64(i_p_m_t_s_65184, loop_dz2084Uz2082U_54856);\n        zzero_lte_i_65187 = sle64((int64_t) 0, start_65180);\n        i_lte_j_65188 = sle64(start_65180, loop_dz2084Uz2082U_54856);\n        y_65189 = i_p_m_t_s_leq_w_65186 && zzero_lte_i_65187;\n        y_65190 = zzero_leq_i_p_m_t_s_65185 && y_65189;\n        forwards_ok_65191 = i_lte_j_65188 && y_65190;\n        ok_or_empty_65192 = empty_slice_65182 || forwards_ok_65191;\n        if (!ok_or_empty_651", "92) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 65) == -1) {\n                    global_failure_args[0] = (int64_t) start_65180;\n                    global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_54856;\n                    ;\n                }\n                return;\n            }\n        }\n        i_p_m_t_s_leq_w_65194 = slt64(m_54871, j_m_i_65181);\n        y_65195 = zzero_leq_i_p_m_t_s_54872 && i_p_m_t_s_leq_w_65194;\n        forwards_ok_65196 = i_lte_j_54873 && y_65195;\n        ok_or_empty_65197 = zzero_54863 || forwards_ok_65196;\n        if (!ok_or_empty_65197) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 66) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) next_stride_54862;\n                    global_failure_args[2] = (int64_t) j_m_i_65181;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65172\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65210_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65210(__global int *global_failure, int64_t next_stride_54862, int64_t num_merges_54866, __global unsigned char *mem_param_69237, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69596)\n{\n    #define segmap_tblock_sizze_65206 (sort_for_Skyline_doublezisegmap_65210zisegmap_tblock_sizze_65206)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72368;\n    int32_t tblock_sizze_72371;\n    int32_t wave_sizze_72370;\n    int32_t block_id_72369;\n    int32_t global_tid_72367;\n    int64_t phys_tid_65210;\n    int64_t global_tid_72372;\n    int64_t slice_72373;\n    int64_t gtid_65209;\n    int64_t remnant_72374;\n    \n    local_tid_72368 = get_local_id(0);\n    tblock_sizze_72371 = get_local_size(0);\n    wave_sizze_72370 = LOCKSTEP_WIDTH;\n    bloc",
                                    "k_id_72369 = get_tblock_id(0);\n    global_tid_72367 = block_id_72369 * tblock_sizze_72371 + local_tid_72368;\n    phys_tid_65210 = sext_i32_i64(global_tid_72367);\n    global_tid_72372 = sext_i32_i64(block_id_72369) * segmap_tblock_sizze_65206 + sext_i32_i64(local_tid_72368);\n    slice_72373 = num_merges_54866;\n    gtid_65209 = global_tid_72372;\n    remnant_72374 = global_tid_72372 - gtid_65209;\n    if (slt64(gtid_65209, num_merges_54866)) {\n        int64_t index_primexp_68257;\n        bool index_certs_65212;\n        bool index_certs_65213;\n        int64_t head_res_65214;\n        \n        index_primexp_68257 = mul64(next_stride_54862, gtid_65209);\n        index_certs_65212 = 0;\n        index_certs_65213 = 0;\n        head_res_65214 = ((__global int64_t *) mem_param_69237)[index_primexp_68257];\n        ((__global int64_t *) mem_69596)[gtid_65209] = head_res_65214;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65206\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65222_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65222(__global int *global_failure, int64_t dim_38264, int64_t next_stride_54862, int64_t num_merges_54866, __global unsigned char *mem_param_69241, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69600)\n{\n    #define segmap_tblock_sizze_65217 (sort_for_Skyline_doublezisegmap_65222zisegmap_tblock_sizze_65217)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72377;\n    int32_t tblock_sizze_72380;\n    int32_t wave_sizze_72379;\n    int32_t block_id_72378;\n    int32_t global_tid_72376;\n    int64_t phys_tid_65222;\n    int64_t global_tid_72381;\n    int64_t slice_72382;\n    int64_t slice_72383;\n    int64_t gtid_65221;\n    int64_t remnant_72384;\n    int64_t gtid_slice_65220;\n    int64_t remnant_72385;\n    \n    local_tid_72377 = get_local_id(0);\n    tblock_sizze_72380 = get_local_size(0);\n    wave_sizze_72379 = LOCKSTEP_WIDTH;\n    block_id_72378 = get_tblock_id(0);\n   ", " global_tid_72376 = block_id_72378 * tblock_sizze_72380 + local_tid_72377;\n    phys_tid_65222 = sext_i32_i64(global_tid_72376);\n    global_tid_72381 = sext_i32_i64(block_id_72378) * segmap_tblock_sizze_65217 + sext_i32_i64(local_tid_72377);\n    slice_72382 = dim_38264;\n    slice_72383 = num_merges_54866 * slice_72382;\n    gtid_65221 = squot64(global_tid_72381, slice_72382);\n    remnant_72384 = global_tid_72381 - gtid_65221 * slice_72382;\n    gtid_slice_65220 = remnant_72384;\n    remnant_72385 = remnant_72384 - gtid_slice_65220;\n    if (slt64(gtid_65221, num_merges_54866) && slt64(gtid_slice_65220, dim_38264)) {\n        int64_t index_primexp_68254;\n        bool index_certs_65224;\n        bool index_certs_65225;\n        double v_65226;\n        \n        index_primexp_68254 = mul64(next_stride_54862, gtid_65221);\n        index_certs_65224 = 0;\n        index_certs_65225 = 0;\n        v_65226 = ((__global double *) mem_param_69241)[index_primexp_68254 * dim_38264 + gtid_slice_65220];\n        ((__global double *) mem_69600)[gtid_65221 * dim_38264 + gtid_slice_65220] = v_65226;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65217\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65232_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65232(__global int *global_failure, int64_t next_stride_54862, int64_t num_merges_54866, __global unsigned char *mem_param_69244, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69603)\n{\n    #define segmap_tblock_sizze_65228 (sort_for_Skyline_doublezisegmap_65232zisegmap_tblock_sizze_65228)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72388;\n    int32_t tblock_sizze_72391;\n    int32_t wave_sizze_72390;\n    int32_t block_id_72389;\n    int32_t global_tid_72387;\n    int64_t phys_tid_65232;\n    int64_t global_tid_72392;\n    int64_t slice_72393;\n    int64_t gtid_65231;\n    int64_t remnant_72394;\n    \n    local_tid_72388 = get_local_id(0);\n    tblock_si", "zze_72391 = get_local_size(0);\n    wave_sizze_72390 = LOCKSTEP_WIDTH;\n    block_id_72389 = get_tblock_id(0);\n    global_tid_72387 = block_id_72389 * tblock_sizze_72391 + local_tid_72388;\n    phys_tid_65232 = sext_i32_i64(global_tid_72387);\n    global_tid_72392 = sext_i32_i64(block_id_72389) * segmap_tblock_sizze_65228 + sext_i32_i64(local_tid_72388);\n    slice_72393 = num_merges_54866;\n    gtid_65231 = global_tid_72392;\n    remnant_72394 = global_tid_72392 - gtid_65231;\n    if (slt64(gtid_65231, num_merges_54866)) {\n        int64_t index_primexp_68251;\n        bool index_certs_65234;\n        bool index_certs_65235;\n        int64_t head_res_65236;\n        \n        index_primexp_68251 = mul64(next_stride_54862, gtid_65231);\n        index_certs_65234 = 0;\n        index_certs_65235 = 0;\n        head_res_65236 = ((__global int64_t *) mem_param_69244)[index_primexp_68251];\n        ((__global int64_t *) mem_69603)[gtid_65231] = head_res_65236;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65228\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65246_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65246(__global int *global_failure, int64_t stride_54861, int64_t next_stride_54862, int64_t num_merges_54866, __global unsigned char *mem_param_69237, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69586, __global unsigned char *mem_69593)\n{\n    #define segmap_tblock_sizze_65241 (sort_for_Skyline_doublezisegmap_65246zisegmap_tblock_sizze_65241)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72397;\n    int32_t tblock_sizze_72400;\n    int32_t wave_sizze_72399;\n    int32_t block_id_72398;\n    int32_t global_tid_72396;\n    int64_t phys_tid_65246;\n    int64_t global_tid_72401;\n    int64_t slice_72402;\n    int64_t gtid_65245;\n    int64_t remnant_72403;\n    \n    local_tid_72397 = get_local_id(0);\n    tblock_sizze_72400 = get_local_size(0);\n    wave_sizze_72399 = LOCKSTEP_WIDTH;\n    bloc",
                                    "k_id_72398 = get_tblock_id(0);\n    global_tid_72396 = block_id_72398 * tblock_sizze_72400 + local_tid_72397;\n    phys_tid_65246 = sext_i32_i64(global_tid_72396);\n    global_tid_72401 = sext_i32_i64(block_id_72398) * segmap_tblock_sizze_65241 + sext_i32_i64(local_tid_72397);\n    slice_72402 = num_merges_54866;\n    gtid_65245 = global_tid_72401;\n    remnant_72403 = global_tid_72401 - gtid_65245;\n    if (slt64(gtid_65245, num_merges_54866)) {\n        int64_t index_primexp_68260;\n        bool index_certs_65248;\n        bool index_certs_65249;\n        int64_t slice_65250;\n        int64_t head_res_65251;\n        \n        index_primexp_68260 = mul64(next_stride_54862, gtid_65245);\n        index_certs_65248 = 0;\n        index_certs_65249 = 0;\n        slice_65250 = stride_54861 + index_primexp_68260;\n        head_res_65251 = ((__global int64_t *) mem_param_69237)[slice_65250];\n        ((__global int64_t *) mem_69593)[gtid_65245] = slice_65250;\n        ((__global int64_t *) mem_69586)[gtid_65245] = head_res_65251;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65241\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65259_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65259(__global int *global_failure, int64_t dim_38264, int64_t num_merges_54866, __global unsigned char *mem_param_69241, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69590, __global unsigned char *mem_69593)\n{\n    #define segmap_tblock_sizze_65254 (sort_for_Skyline_doublezisegmap_65259zisegmap_tblock_sizze_65254)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72406;\n    int32_t tblock_sizze_72409;\n    int32_t wave_sizze_72408;\n    int32_t block_id_72407;\n    int32_t global_tid_72405;\n    int64_t phys_tid_65259;\n    int64_t global_tid_72410;\n    int64_t slice_72411;\n    int64_t slice_72412;\n    int64_t gtid_65258;\n    int64_t remnant_72413;\n    int64_t gtid_slice_65257;\n    int64_t remnant_72414;\n    \n    local", "_tid_72406 = get_local_id(0);\n    tblock_sizze_72409 = get_local_size(0);\n    wave_sizze_72408 = LOCKSTEP_WIDTH;\n    block_id_72407 = get_tblock_id(0);\n    global_tid_72405 = block_id_72407 * tblock_sizze_72409 + local_tid_72406;\n    phys_tid_65259 = sext_i32_i64(global_tid_72405);\n    global_tid_72410 = sext_i32_i64(block_id_72407) * segmap_tblock_sizze_65254 + sext_i32_i64(local_tid_72406);\n    slice_72411 = dim_38264;\n    slice_72412 = num_merges_54866 * slice_72411;\n    gtid_65258 = squot64(global_tid_72410, slice_72411);\n    remnant_72413 = global_tid_72410 - gtid_65258 * slice_72411;\n    gtid_slice_65257 = remnant_72413;\n    remnant_72414 = remnant_72413 - gtid_slice_65257;\n    if (slt64(gtid_65258, num_merges_54866) && slt64(gtid_slice_65257, dim_38264)) {\n        bool index_certs_65260;\n        bool index_certs_65261;\n        int64_t slice_65262;\n        double v_65263;\n        \n        index_certs_65260 = 0;\n        index_certs_65261 = 0;\n        slice_65262 = ((__global int64_t *) mem_69593)[gtid_65258];\n        v_65263 = ((__global double *) mem_param_69241)[slice_65262 * dim_38264 + gtid_slice_65257];\n        ((__global double *) mem_69590)[gtid_65258 * dim_38264 + gtid_slice_65257] = v_65263;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65254\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65269_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65269(__global int *global_failure, int64_t num_merges_54866, __global unsigned char *mem_param_69244, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69593)\n{\n    #define segmap_tblock_sizze_65265 (sort_for_Skyline_doublezisegmap_65269zisegmap_tblock_sizze_65265)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72417;\n    int32_t tblock_sizze_72420;\n    int32_t wave_sizze_72419;\n    int32_t block_id_72418;\n    int32_t global_tid_72416;\n    int64_t phys_tid_65269;\n    int64_t global_tid_72421;\n    int64_t slice_724", "22;\n    int64_t gtid_65268;\n    int64_t remnant_72423;\n    \n    local_tid_72417 = get_local_id(0);\n    tblock_sizze_72420 = get_local_size(0);\n    wave_sizze_72419 = LOCKSTEP_WIDTH;\n    block_id_72418 = get_tblock_id(0);\n    global_tid_72416 = block_id_72418 * tblock_sizze_72420 + local_tid_72417;\n    phys_tid_65269 = sext_i32_i64(global_tid_72416);\n    global_tid_72421 = sext_i32_i64(block_id_72418) * segmap_tblock_sizze_65265 + sext_i32_i64(local_tid_72417);\n    slice_72422 = num_merges_54866;\n    gtid_65268 = global_tid_72421;\n    remnant_72423 = global_tid_72421 - gtid_65268;\n    if (slt64(gtid_65268, num_merges_54866)) {\n        bool index_certs_65270;\n        bool index_certs_65271;\n        int64_t slice_65272;\n        int64_t head_res_65273;\n        \n        index_certs_65270 = 0;\n        index_certs_65271 = 0;\n        slice_65272 = ((__global int64_t *) mem_69593)[gtid_65268];\n        head_res_65273 = ((__global int64_t *) mem_param_69244)[slice_65272];\n        ((__global int64_t *) mem_69593)[gtid_65268] = head_res_65273;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65265\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65294_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65294(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t loop_dz2084Uz2082U_54856, int64_t stride_54861, int64_t next_stride_54862, int64_t num_merges_54866, int64_t j_m_i_54884, int64_t num_tblocks_65288, int64_t binop_y_69644, int32_t virt_num_tblocks_72488, __global unsigned char *mem_param_69237, __global unsigned char *mem_param_69244, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69627, __global unsigned char *mem_69638, __global unsigned char *mem_69655, __global unsigned char *mem_69666, __global unsigned char *mem_69700, __global unsigned char *mem_69717, __global unsigned char *mem_69728)\n{\n    #define segmap_tblock_sizze_65287 (so",
                                    "rt_for_Skyline_doublezisegmap_65294zisegmap_tblock_sizze_65287)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72490;\n    int32_t tblock_sizze_72493;\n    int32_t wave_sizze_72492;\n    int32_t block_id_72491;\n    int32_t global_tid_72489;\n    int64_t phys_tid_65294;\n    int32_t phys_tblock_id_72494;\n    int32_t iterations_72495;\n    \n    local_tid_72490 = get_local_id(0);\n    tblock_sizze_72493 = get_local_size(0);\n    wave_sizze_72492 = LOCKSTEP_WIDTH;\n    block_id_72491 = get_tblock_id(0);\n    global_tid_72489 = block_id_72491 * tblock_sizze_72493 + local_tid_72490;\n    phys_tid_65294 = sext_i32_i64(global_tid_72489);\n    phys_tblock_id_72494 = get_tblock_id(0);\n    iterations_72495 = sdiv_up32(virt_num_tblocks_72488 - phys_tblock_id_72494, sext_i64_i32(num_tblocks_65288));\n    for (int32_t i_72496 = 0; i_72496 < iterations_72495; i_72496++) {\n        int32_t virt_tblock_id_72497;\n        int64_t global_tid_72498;\n        int64_t slice_72499;\n        int64_t gtid_65293;\n        int64_t remnant_72500;\n        \n        virt_tblock_id_72497 = phys_tblock_id_72494 + i_72496 * sext_i64_i32(num_tblocks_65288);\n        global_tid_72498 = sext_i32_i64(virt_tblock_id_72497) * segmap_tblock_sizze_65287 + sext_i32_i64(local_tid_72490);\n        slice_72499 = num_merges_54866;\n        gtid_65293 = global_tid_72498;\n        remnant_72500 = global_tid_72498 - gtid_65293;\n        if (slt64(gtid_65293, num_merges_54866)) {\n            int64_t index_primexp_68248;\n            bool index_certs_65296;\n            bool index_certs_65297;\n            int64_t data_65301;\n            int64_t i_65306;\n            \n            index_primexp_68248 = mul64(next_stride_54862, gtid_65293);\n            index_certs_65296 = 0;\n            index_certs_65297 = 0;\n            i_65306 = (", "int64_t) 0;\n            for (int64_t k_65305 = 0; k_65305 < next_stride_54862; k_65305++) {\n                int64_t j_65310;\n                bool cond_65311;\n                bool x_71054;\n                bool cond_65313;\n                bool x_65315;\n                bool y_65316;\n                bool bounds_check_65317;\n                bool loop_not_taken_71046;\n                bool protect_assert_disj_71047;\n                bool protect_assert_disj_71057;\n                bool index_certs_65318;\n                int64_t slice_65319;\n                int64_t slice_65320;\n                bool protect_cond_conj_71058;\n                int64_t leq_arg1_65321;\n                bool x_65322;\n                bool bounds_check_65323;\n                bool protect_assert_disj_71051;\n                bool protect_assert_disj_71060;\n                bool index_certs_65324;\n                int64_t slice_65325;\n                int64_t leq_arg0_65326;\n                bool lifted_lambda_res_65327;\n                bool x_71107;\n                bool cond_65312;\n                bool protect_assert_disj_70945;\n                bool index_certs_65344;\n                bool loop_not_taken_70940;\n                bool protect_assert_disj_70941;\n                bool index_certs_65336;\n                int64_t ext_69679;\n                int64_t loopres_65328;\n                int64_t loopres_65329;\n                int64_t loopres_65331;\n                int64_t i_tmp_72501;\n                \n                j_65310 = sub64(k_65305, i_65306);\n                cond_65311 = j_65310 == j_m_i_54884;\n                x_71054 = !cond_65311;\n                cond_65313 = slt64(i_65306, stride_54861);\n                x_65315 = sle64((int64_t) 0, j_65310);\n                y_65316 = slt64(j_65310, j_m_i_54884);\n                bounds_check_65317 = x_65315 && y_65316;\n                loop_not_taken_71046 = !cond_65313;\n                protect_assert_disj_71047 = bounds_check_65317 || loop_not_taken_71046;\n            ", "    protect_assert_disj_71057 = cond_65311 || protect_assert_disj_71047;\n                if (!protect_assert_disj_71057) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 67) == -1) {\n                            global_failure_args[0] = (int64_t) j_65310;\n                            global_failure_args[1] = (int64_t) j_m_i_54884;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_65319 = stride_54861 + j_65310;\n                slice_65320 = slice_65319 + index_primexp_68248;\n                protect_cond_conj_71058 = cond_65313 && x_71054;\n                if (protect_cond_conj_71058) {\n                    int64_t x_71048 = ((__global int64_t *) mem_param_69237)[slice_65320];\n                    \n                    leq_arg1_65321 = x_71048;\n                } else {\n                    leq_arg1_65321 = (int64_t) 0;\n                }\n                x_65322 = sle64((int64_t) 0, i_65306);\n                bounds_check_65323 = cond_65313 && x_65322;\n                protect_assert_disj_71051 = bounds_check_65323 || loop_not_taken_71046;\n                protect_assert_disj_71060 = cond_65311 || protect_assert_disj_71051;\n                if (!protect_assert_disj_71060) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 68) == -1) {\n                            global_failure_args[0] = (int64_t) i_65306;\n                            global_failure_args[1] = (int64_t) stride_54861;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_65325 = i_65306 + index_primexp_68248;\n                if (protect_cond_conj_71058) {\n                    int64_t x_71052 = ((__global int64_t *) mem_param_69237)[sli",
                                    "ce_65325];\n                    \n                    leq_arg0_65326 = x_71052;\n                } else {\n                    leq_arg0_65326 = (int64_t) 0;\n                }\n                lifted_lambda_res_65327 = sle64(leq_arg0_65326, leq_arg1_65321);\n                x_71107 = cond_65313 && lifted_lambda_res_65327;\n                cond_65312 = cond_65311 || x_71107;\n                protect_assert_disj_70945 = cond_65312 || bounds_check_65317;\n                if (!protect_assert_disj_70945) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 69) == -1) {\n                            global_failure_args[0] = (int64_t) j_65310;\n                            global_failure_args[1] = (int64_t) j_m_i_54884;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_70940 = !cond_65312;\n                protect_assert_disj_70941 = bounds_check_65323 || loop_not_taken_70940;\n                if (!protect_assert_disj_70941) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 70) == -1) {\n                            global_failure_args[0] = (int64_t) i_65306;\n                            global_failure_args[1] = (int64_t) stride_54861;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_65312) {\n                    ext_69679 = slice_65325;\n                } else {\n                    ext_69679 = slice_65320;\n                }\n                if (cond_65312) {\n                    int64_t tmp_65332;\n                    int64_t tmp_65338;\n                    int64_t tmp_65340;\n                    \n                    tmp_65332 = add64((int64_t) 1, i_65306);\n                    tmp_65338 = ((__global i", "nt64_t *) mem_param_69237)[slice_65325];\n                    tmp_65340 = ((__global int64_t *) mem_param_69244)[slice_65325];\n                    loopres_65328 = tmp_65332;\n                    loopres_65329 = tmp_65338;\n                    loopres_65331 = tmp_65340;\n                } else {\n                    int64_t tmp_65347;\n                    int64_t tmp_65349;\n                    \n                    tmp_65347 = ((__global int64_t *) mem_param_69237)[slice_65320];\n                    tmp_65349 = ((__global int64_t *) mem_param_69244)[slice_65320];\n                    loopres_65328 = i_65306;\n                    loopres_65329 = tmp_65347;\n                    loopres_65331 = tmp_65349;\n                }\n                ((__global int64_t *) mem_69627)[gtid_65293 + k_65305 * num_merges_54866] = loopres_65329;\n                for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                    ((__global double *) mem_69655)[gtid_65293 + k_65305 * binop_y_69644 + i_0 * num_merges_54866] = ((__global double *) mem_69666)[ext_69679 + i_0 * loop_dz2084Uz2082U_54856];\n                }\n                ((__global int64_t *) mem_69638)[gtid_65293 + k_65305 * num_merges_54866] = loopres_65331;\n                i_tmp_72501 = loopres_65328;\n                i_65306 = i_tmp_72501;\n            }\n            data_65301 = i_65306;\n            for (int64_t i_0 = 0; i_0 < next_stride_54862; i_0++) {\n                ((__global int64_t *) mem_69700)[gtid_65293 + i_0 * num_merges_54866] = ((__global int64_t *) mem_69627)[gtid_65293 + i_0 * num_merges_54866];\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_54862; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_38264; i_1++) {\n                    ((__global double *) mem_69717)[gtid_65293 + (i_0 * (num_merges_54866 * dim_38264) + i_1 * num_merges_54866)] = ((__global double *) mem_69655)[gtid_65293 + (i_0 * binop_y_69644 + i_1 * num_merges_54866)];\n                }\n            }\n            for (int64_t i_0 ", "= 0; i_0 < next_stride_54862; i_0++) {\n                ((__global int64_t *) mem_69728)[gtid_65293 + i_0 * num_merges_54866] = ((__global int64_t *) mem_69638)[gtid_65293 + i_0 * num_merges_54866];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_65287\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65638_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65638(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t greatest_divisor_leq_than_res_54727, int64_t stride_54861, int64_t next_stride_54862, int64_t num_merges_54866, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, int64_t j_m_i_54884, __global unsigned char *mem_param_69237, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69251, __global unsigned char *mem_69254)\n{\n    #define segmap_tblock_sizze_65632 (sort_for_Skyline_doublezisegmap_65638zisegmap_tblock_sizze_65632)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72592;\n    int32_t tblock_sizze_72595;\n    int32_t wave_sizze_72594;\n    int32_t block_id_72593;\n    int32_t global_tid_72591;\n    int64_t phys_tid_65638;\n    int64_t global_tid_72596;\n    int64_t slice_72597;\n    int64_t slice_72598;\n    int64_t gtid_65636;\n    int64_t remnant_72599;\n    int64_t gtid_65637;\n    int64_t remnant_72600;\n    \n    local_tid_72592 = get_local_id(0);\n    tblock_sizze_72595 = get_local_size(0);\n    wave_sizze_72594 = LOCKSTEP_WIDTH;\n    block_id_72593 = get_tblock_id(0);\n    global_tid_72591 = block_id_72593 * tblock_sizze_72595 + local_tid_72592;\n    phys_tid_65638 = sext_i32_i64(global_tid_72591);\n    global_tid_72596 = sext_i32_i64(blo",
                                    "ck_id_72593) * segmap_tblock_sizze_65632 + sext_i32_i64(local_tid_72592);\n    slice_72597 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n    slice_72598 = num_merges_54866 * slice_72597;\n    gtid_65636 = squot64(global_tid_72596, slice_72597);\n    remnant_72599 = global_tid_72596 - gtid_65636 * slice_72597;\n    gtid_65637 = remnant_72599;\n    remnant_72600 = remnant_72599 - gtid_65637;\n    if (slt64(gtid_65636, num_merges_54866) && slt64(gtid_65637, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883)) {\n        int64_t index_primexp_68272;\n        bool index_certs_65640;\n        bool index_certs_65641;\n        int64_t split_count_arg3_65643;\n        int64_t defunc_0_split_count_res_65644;\n        int64_t defunc_0_split_count_res_65645;\n        int64_t defunc_0_split_count_res_65646;\n        int64_t defunc_0_split_count_res_65647;\n        int64_t defunc_0_split_count_res_65648;\n        bool loop_cond_65649;\n        bool defunc_0_split_count_res_65650;\n        int64_t defunc_0_split_count_res_65651;\n        int64_t defunc_0_split_count_res_65652;\n        int64_t defunc_0_split_count_res_65653;\n        int64_t defunc_0_split_count_res_65654;\n        int64_t defunc_0_split_count_res_65655;\n        bool loop_while_65656;\n        int64_t ss_65657;\n        int64_t ss_65658;\n        int64_t tt_65659;\n        int64_t tt_65660;\n        int64_t count_65661;\n        \n        index_primexp_68272 = mul64(next_stride_54862, gtid_65636);\n        index_certs_65640 = 0;\n        index_certs_65641 = 0;\n        split_count_arg3_65643 = mul64(greatest_divisor_leq_than_res_54727, gtid_65637);\n        futrts_lifted_normalizze_9970(&defunc_0_split_count_res_65644, &defunc_0_split_count_res_65645, &defunc_0_split_count_res_65646, &defunc_0_split_count_res_65647, &defunc_0_split_count_res_65648, (int64_t) 0, stride_54861, (int64_t) 0, j_m_i_54884, split_count_arg3_65643);\n        loop_cond_65649 = slt64((int64_t) 0, defunc_0_split_count_res_65648);\n        loop_while_65656 = loop_cond_65649;\n     ", "   ss_65657 = defunc_0_split_count_res_65644;\n        ss_65658 = defunc_0_split_count_res_65645;\n        tt_65659 = defunc_0_split_count_res_65646;\n        tt_65660 = defunc_0_split_count_res_65647;\n        count_65661 = defunc_0_split_count_res_65648;\n        while (loop_while_65656) {\n            int64_t zlze_lhs_65662;\n            bool cond_65663;\n            int64_t defunc_0_lifted_step_res_65664;\n            int64_t defunc_0_lifted_step_res_65665;\n            int64_t defunc_0_lifted_step_res_65666;\n            int64_t defunc_0_lifted_step_res_65667;\n            int64_t loopres_65730;\n            int64_t loopres_65731;\n            int64_t loopres_65732;\n            int64_t loopres_65733;\n            int64_t loopres_65734;\n            bool loop_cond_65735;\n            bool loop_while_tmp_72601;\n            int64_t ss_tmp_72602;\n            int64_t ss_tmp_72603;\n            int64_t tt_tmp_72604;\n            int64_t tt_tmp_72605;\n            int64_t count_tmp_72606;\n            \n            zlze_lhs_65662 = sub64(ss_65658, ss_65657);\n            cond_65663 = sle64(zlze_lhs_65662, (int64_t) 0);\n            if (cond_65663) {\n                int64_t tmp_65668 = add64(tt_65659, count_65661);\n                \n                defunc_0_lifted_step_res_65664 = ss_65657;\n                defunc_0_lifted_step_res_65665 = tmp_65668;\n                defunc_0_lifted_step_res_65666 = tt_65660;\n                defunc_0_lifted_step_res_65667 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_65669;\n                bool cond_65670;\n                int64_t defunc_0_lifted_step_res_f_res_65671;\n                int64_t defunc_0_lifted_step_res_f_res_65672;\n                int64_t defunc_0_lifted_step_res_f_res_65673;\n                int64_t defunc_0_lifted_step_res_f_res_65674;\n                \n                zlze_lhs_65669 = sub64(tt_65660, tt_65659);\n                cond_65670 = sle64(zlze_lhs_65669, (int64_t) 0);\n                if (cond_65670) {\n                 ", "   int64_t tmp_65675 = add64(ss_65657, count_65661);\n                    \n                    defunc_0_lifted_step_res_f_res_65671 = tmp_65675;\n                    defunc_0_lifted_step_res_f_res_65672 = tt_65659;\n                    defunc_0_lifted_step_res_f_res_65673 = tt_65660;\n                    defunc_0_lifted_step_res_f_res_65674 = (int64_t) 0;\n                } else {\n                    bool cond_65676;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65677;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65678;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65679;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65680;\n                    \n                    cond_65676 = count_65661 == (int64_t) 1;\n                    if (cond_65676) {\n                        bool x_65681;\n                        bool y_65682;\n                        bool bounds_check_65683;\n                        bool index_certs_65684;\n                        bool x_65687;\n                        bool y_65688;\n                        bool bounds_check_65689;\n                        bool index_certs_65690;\n                        int64_t slice_65685;\n                        int64_t leq_arg1_65686;\n                        int64_t slice_65691;\n                        int64_t slice_65692;\n                        int64_t leq_arg0_65693;\n                        bool lifted_lambda_res_65694;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_65695;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_65696;\n                        \n                        x_65681 = sle64((int64_t) 0, ss_65657);\n                        y_65682 = slt64(ss_65657, stride_54861);\n                        bounds_check_65683 = x_65681 && y_65682;\n                        if (!bounds_check_65683) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1,",
                                    " 84) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_65657;\n                                    global_failure_args[1] = (int64_t) stride_54861;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        x_65687 = sle64((int64_t) 0, tt_65659);\n                        y_65688 = slt64(tt_65659, j_m_i_54884);\n                        bounds_check_65689 = x_65687 && y_65688;\n                        if (!bounds_check_65689) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 85) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_65659;\n                                    global_failure_args[1] = (int64_t) j_m_i_54884;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        slice_65685 = ss_65657 + index_primexp_68272;\n                        leq_arg1_65686 = ((__global int64_t *) mem_param_69237)[slice_65685];\n                        slice_65691 = stride_54861 + tt_65659;\n                        slice_65692 = slice_65691 + index_primexp_68272;\n                        leq_arg0_65693 = ((__global int64_t *) mem_param_69237)[slice_65692];\n                        lifted_lambda_res_65694 = sle64(leq_arg0_65693, leq_arg1_65686);\n                        if (lifted_lambda_res_65694) {\n                            int64_t tmp_65697 = add64((int64_t) 1, tt_65659);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65695 = ss_65657;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65696 = tmp_65697;\n                        } else {\n                            int64_t tmp_65698 = add64((int64_t) 1, ss_65657);\n               ", "             \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65695 = tmp_65698;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65696 = tt_65659;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_65677 = defunc_0_lifted_step_res_f_res_f_res_t_res_65695;\n                        defunc_0_lifted_step_res_f_res_f_res_65678 = defunc_0_lifted_step_res_f_res_f_res_t_res_65696;\n                        defunc_0_lifted_step_res_f_res_f_res_65679 = tt_65660;\n                        defunc_0_lifted_step_res_f_res_f_res_65680 = (int64_t) 0;\n                    } else {\n                        int64_t m_65699;\n                        int64_t n_65700;\n                        bool cond_65701;\n                        int64_t zgze_lhs_65702;\n                        bool cond_f_res_65703;\n                        bool x_65704;\n                        bool y_65705;\n                        bool cond_65706;\n                        bool leq_y_x_65707;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_65724;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_65725;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_65726;\n                        \n                        m_65699 = sdiv64(count_65661, (int64_t) 2);\n                        n_65700 = sub64(count_65661, m_65699);\n                        cond_65701 = n_65700 == (int64_t) 0;\n                        zgze_lhs_65702 = add64(ss_65657, m_65699);\n                        cond_f_res_65703 = sle64(ss_65658, zgze_lhs_65702);\n                        x_65704 = !cond_65701;\n                        y_65705 = cond_f_res_65703 && x_65704;\n                        cond_65706 = cond_65701 || y_65705;\n                        if (cond_65706) {\n                            leq_y_x_65707 = 1;\n                        } else {\n                            bool x_65708;\n                            bool y", "_65709;\n                            bool bounds_check_65710;\n                            bool index_certs_65711;\n                            int64_t zm_lhs_65714;\n                            int64_t leq_arg0_65715;\n                            bool x_65716;\n                            bool y_65717;\n                            bool bounds_check_65718;\n                            bool index_certs_65719;\n                            int64_t slice_65712;\n                            int64_t leq_arg1_65713;\n                            int64_t slice_65720;\n                            int64_t slice_65721;\n                            int64_t leq_arg0_65722;\n                            bool lifted_lambda_res_65723;\n                            \n                            x_65708 = sle64((int64_t) 0, zgze_lhs_65702);\n                            y_65709 = slt64(zgze_lhs_65702, stride_54861);\n                            bounds_check_65710 = x_65708 && y_65709;\n                            if (!bounds_check_65710) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 86) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_65702;\n                                        global_failure_args[1] = (int64_t) stride_54861;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            zm_lhs_65714 = add64(tt_65659, n_65700);\n                            leq_arg0_65715 = sub64(zm_lhs_65714, (int64_t) 1);\n                            x_65716 = sle64((int64_t) 0, leq_arg0_65715);\n                            y_65717 = slt64(leq_arg0_65715, j_m_i_54884);\n                            bounds_check_65718 = x_65716 && y_65717;\n                            if (!bounds_check_65718) {\n                                {\n                              ",
                                    "      if (atomic_cmpxchg_i32_global(global_failure, -1, 87) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_65715;\n                                        global_failure_args[1] = (int64_t) j_m_i_54884;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            slice_65712 = zgze_lhs_65702 + index_primexp_68272;\n                            leq_arg1_65713 = ((__global int64_t *) mem_param_69237)[slice_65712];\n                            slice_65720 = stride_54861 + leq_arg0_65715;\n                            slice_65721 = slice_65720 + index_primexp_68272;\n                            leq_arg0_65722 = ((__global int64_t *) mem_param_69237)[slice_65721];\n                            lifted_lambda_res_65723 = sle64(leq_arg0_65722, leq_arg1_65713);\n                            leq_y_x_65707 = lifted_lambda_res_65723;\n                        }\n                        if (leq_y_x_65707) {\n                            int64_t tmp_65727;\n                            int64_t tmp_65728;\n                            \n                            tmp_65727 = add64(tt_65659, n_65700);\n                            tmp_65728 = sub64(count_65661, n_65700);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65724 = tmp_65727;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65725 = tt_65660;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65726 = tmp_65728;\n                        } else {\n                            int64_t tmp_65729 = add64(tt_65659, n_65700);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65724 = tt_65659;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65725 = tmp_65729;\n                            defunc_0_lifted_step_res_f_res_f_re", "s_f_res_65726 = count_65661;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_65677 = ss_65657;\n                        defunc_0_lifted_step_res_f_res_f_res_65678 = defunc_0_lifted_step_res_f_res_f_res_f_res_65724;\n                        defunc_0_lifted_step_res_f_res_f_res_65679 = defunc_0_lifted_step_res_f_res_f_res_f_res_65725;\n                        defunc_0_lifted_step_res_f_res_f_res_65680 = defunc_0_lifted_step_res_f_res_f_res_f_res_65726;\n                    }\n                    defunc_0_lifted_step_res_f_res_65671 = defunc_0_lifted_step_res_f_res_f_res_65677;\n                    defunc_0_lifted_step_res_f_res_65672 = defunc_0_lifted_step_res_f_res_f_res_65678;\n                    defunc_0_lifted_step_res_f_res_65673 = defunc_0_lifted_step_res_f_res_f_res_65679;\n                    defunc_0_lifted_step_res_f_res_65674 = defunc_0_lifted_step_res_f_res_f_res_65680;\n                }\n                defunc_0_lifted_step_res_65664 = defunc_0_lifted_step_res_f_res_65671;\n                defunc_0_lifted_step_res_65665 = defunc_0_lifted_step_res_f_res_65672;\n                defunc_0_lifted_step_res_65666 = defunc_0_lifted_step_res_f_res_65673;\n                defunc_0_lifted_step_res_65667 = defunc_0_lifted_step_res_f_res_65674;\n            }\n            futrts_lifted_normalizze_9970(&loopres_65730, &loopres_65731, &loopres_65732, &loopres_65733, &loopres_65734, defunc_0_lifted_step_res_65664, ss_65658, defunc_0_lifted_step_res_65665, defunc_0_lifted_step_res_65666, defunc_0_lifted_step_res_65667);\n            loop_cond_65735 = slt64((int64_t) 0, loopres_65734);\n            loop_while_tmp_72601 = loop_cond_65735;\n            ss_tmp_72602 = loopres_65730;\n            ss_tmp_72603 = loopres_65731;\n            tt_tmp_72604 = loopres_65732;\n            tt_tmp_72605 = loopres_65733;\n            count_tmp_72606 = loopres_65734;\n            loop_while_65656 = loop_while_tmp_72601;\n            ss_65657 = ss_tmp_72602;\n            ss", "_65658 = ss_tmp_72603;\n            tt_65659 = tt_tmp_72604;\n            tt_65660 = tt_tmp_72605;\n            count_65661 = count_tmp_72606;\n        }\n        defunc_0_split_count_res_65650 = loop_while_65656;\n        defunc_0_split_count_res_65651 = ss_65657;\n        defunc_0_split_count_res_65652 = ss_65658;\n        defunc_0_split_count_res_65653 = tt_65659;\n        defunc_0_split_count_res_65654 = tt_65660;\n        defunc_0_split_count_res_65655 = count_65661;\n        ((__global int64_t *) mem_69251)[gtid_65636 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 + gtid_65637] = defunc_0_split_count_res_65651;\n        ((__global int64_t *) mem_69254)[gtid_65636 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 + gtid_65637] = defunc_0_split_count_res_65653;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_65632\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65759_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65759(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t loop_dz2084Uz2082U_54856, int64_t stride_54861, int64_t next_stride_54862, int64_t num_merges_54866, int64_t num_blocks_54882, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, int64_t num_tblocks_65746, int32_t virt_num_tblocks_72607, __global unsigned char *mem_param_69237, __global unsigned char *mem_param_69244, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69251, __global unsigned char *mem_69254, __global unsigned char *mem_69265, __global unsigned char *mem_69270, __global unsigned char *mem_69273, __global unsigned char *mem_69290, __global unsigned char *mem_69293, __global unsigned char *mem_69296, __global unsigned char *mem_69299, __global unsigned char *mem_69300, __global unsigned char *mem_69303, __global unsigned char *mem_69304)\n{\n    #define segmap_tblock_sizze_65745 (sort_for_Skyline_doublezisegmap_65759zisegmap_tblock_sizze_65745)\n    \n    vo",
                                    "latile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72609;\n    int32_t tblock_sizze_72612;\n    int32_t wave_sizze_72611;\n    int32_t block_id_72610;\n    int32_t global_tid_72608;\n    int64_t phys_tid_65759;\n    int32_t phys_tblock_id_72613;\n    int32_t iterations_72614;\n    \n    local_tid_72609 = get_local_id(0);\n    tblock_sizze_72612 = get_local_size(0);\n    wave_sizze_72611 = LOCKSTEP_WIDTH;\n    block_id_72610 = get_tblock_id(0);\n    global_tid_72608 = block_id_72610 * tblock_sizze_72612 + local_tid_72609;\n    phys_tid_65759 = sext_i32_i64(global_tid_72608);\n    phys_tblock_id_72613 = get_tblock_id(0);\n    iterations_72614 = sdiv_up32(virt_num_tblocks_72607 - phys_tblock_id_72613, sext_i64_i32(num_tblocks_65746));\n    for (int32_t i_72615 = 0; i_72615 < iterations_72614; i_72615++) {\n        int32_t virt_tblock_id_72616;\n        int64_t global_tid_72617;\n        int64_t slice_72618;\n        int64_t slice_72619;\n        int64_t gtid_65757;\n        int64_t remnant_72620;\n        int64_t gtid_65758;\n        int64_t remnant_72621;\n        \n        virt_tblock_id_72616 = phys_tblock_id_72613 + i_72615 * sext_i64_i32(num_tblocks_65746);\n        global_tid_72617 = sext_i32_i64(virt_tblock_id_72616) * segmap_tblock_sizze_65745 + sext_i32_i64(local_tid_72609);\n        slice_72618 = num_blocks_54882;\n        slice_72619 = num_merges_54866 * slice_72618;\n        gtid_65757 = squot64(global_tid_72617, slice_72618);\n        remnant_72620 = global_tid_72617 - gtid_65757 * slice_72618;\n        gtid_65758 = remnant_72620;\n        remnant_72621 = remnant_72620 - gtid_65758;\n        if (slt64(gtid_65757, num_merges_54866) && slt64(gtid_65758, num_blocks_54882)) {\n            bool y_65767;\n            bool index_certs_65769;\n            int64_t defunc_0_f_res_65770;\n            int64_", "t defunc_0_f_res_65771;\n            int64_t tmp_65772;\n            bool x_65773;\n            bool y_65774;\n            bool bounds_check_65775;\n            bool index_certs_65776;\n            int64_t defunc_0_f_res_65777;\n            int64_t defunc_0_f_res_65778;\n            int64_t merge_sequential_arg2_65779;\n            int64_t merge_sequential_arg2_65780;\n            int64_t j_m_i_65781;\n            bool empty_slice_65782;\n            int64_t m_65783;\n            int64_t i_p_m_t_s_65784;\n            bool zzero_leq_i_p_m_t_s_65785;\n            bool i_p_m_t_s_leq_w_65786;\n            bool zzero_lte_i_65787;\n            bool i_lte_j_65788;\n            bool y_65789;\n            bool y_65790;\n            bool forwards_ok_65791;\n            bool ok_or_empty_65792;\n            bool index_certs_65793;\n            int64_t j_m_i_65794;\n            bool empty_slice_65795;\n            int64_t m_65796;\n            int64_t i_p_m_t_s_65797;\n            bool zzero_leq_i_p_m_t_s_65798;\n            bool i_p_m_t_s_leq_w_65799;\n            bool zzero_lte_i_65800;\n            bool i_lte_j_65801;\n            bool y_65802;\n            bool y_65803;\n            bool forwards_ok_65804;\n            bool ok_or_empty_65805;\n            bool index_certs_65806;\n            bool cond_65807;\n            bool y_65816;\n            bool protect_assert_disj_70977;\n            bool index_certs_65817;\n            int64_t index_primexp_68269;\n            bool index_certs_65761;\n            bool index_certs_65762;\n            int64_t slice_65818;\n            int64_t slice_65812;\n            int64_t ext_69267;\n            int64_t dummy_65808;\n            int64_t dummy_65810;\n            \n            y_65767 = slt64(gtid_65758, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);\n            if (!y_65767) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 88) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_65758;\n                        global_fa", "ilure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_65770 = ((__global int64_t *) mem_69251)[gtid_65757 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 + gtid_65758];\n            defunc_0_f_res_65771 = ((__global int64_t *) mem_69254)[gtid_65757 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 + gtid_65758];\n            tmp_65772 = add64((int64_t) 1, gtid_65758);\n            x_65773 = sle64((int64_t) 0, tmp_65772);\n            y_65774 = slt64(tmp_65772, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);\n            bounds_check_65775 = x_65773 && y_65774;\n            if (!bounds_check_65775) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 89) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_65772;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_65777 = ((__global int64_t *) mem_69251)[gtid_65757 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 + tmp_65772];\n            defunc_0_f_res_65778 = ((__global int64_t *) mem_69254)[gtid_65757 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 + tmp_65772];\n            merge_sequential_arg2_65779 = add64(stride_54861, defunc_0_f_res_65771);\n            merge_sequential_arg2_65780 = add64(stride_54861, defunc_0_f_res_65778);\n            j_m_i_65781 = sub64(merge_sequential_arg2_65780, merge_sequential_arg2_65779);\n            empty_slice_65782 = j_m_i_65781 == (int64_t) 0;\n            m_65783 = sub64(j_m_i_65781, (int64_t) 1);\n            i_p_m_t_s_65784 = add64(merge_sequential_arg2_65779, m_65783);\n            zzero_leq_i_p_m_t_s_65785 = sle64(",
                                    "(int64_t) 0, i_p_m_t_s_65784);\n            i_p_m_t_s_leq_w_65786 = slt64(i_p_m_t_s_65784, next_stride_54862);\n            zzero_lte_i_65787 = sle64((int64_t) 0, merge_sequential_arg2_65779);\n            i_lte_j_65788 = sle64(merge_sequential_arg2_65779, merge_sequential_arg2_65780);\n            y_65789 = i_p_m_t_s_leq_w_65786 && zzero_lte_i_65787;\n            y_65790 = zzero_leq_i_p_m_t_s_65785 && y_65789;\n            forwards_ok_65791 = i_lte_j_65788 && y_65790;\n            ok_or_empty_65792 = empty_slice_65782 || forwards_ok_65791;\n            if (!ok_or_empty_65792) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 90) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_65779;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_65780;\n                        global_failure_args[2] = (int64_t) next_stride_54862;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            j_m_i_65794 = sub64(defunc_0_f_res_65777, defunc_0_f_res_65770);\n            empty_slice_65795 = j_m_i_65794 == (int64_t) 0;\n            m_65796 = sub64(j_m_i_65794, (int64_t) 1);\n            i_p_m_t_s_65797 = add64(defunc_0_f_res_65770, m_65796);\n            zzero_leq_i_p_m_t_s_65798 = sle64((int64_t) 0, i_p_m_t_s_65797);\n            i_p_m_t_s_leq_w_65799 = slt64(i_p_m_t_s_65797, next_stride_54862);\n            zzero_lte_i_65800 = sle64((int64_t) 0, defunc_0_f_res_65770);\n            i_lte_j_65801 = sle64(defunc_0_f_res_65770, defunc_0_f_res_65777);\n            y_65802 = i_p_m_t_s_leq_w_65799 && zzero_lte_i_65800;\n            y_65803 = zzero_leq_i_p_m_t_s_65798 && y_65802;\n            forwards_ok_65804 = i_lte_j_65801 && y_65803;\n            ok_or_empty_65805 = empty_slice_65795 || forwards_ok_65804;\n            if (!ok_or_empty_65805) {\n                {\n                    if (atomic_cm", "pxchg_i32_global(global_failure, -1, 91) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_65770;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_65777;\n                        global_failure_args[2] = (int64_t) next_stride_54862;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            cond_65807 = slt64((int64_t) 0, j_m_i_65794);\n            y_65816 = slt64((int64_t) 0, j_m_i_65781);\n            protect_assert_disj_70977 = cond_65807 || y_65816;\n            if (!protect_assert_disj_70977) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 92) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_65781;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            index_primexp_68269 = mul64(next_stride_54862, gtid_65757);\n            index_certs_65761 = 0;\n            index_certs_65762 = 0;\n            slice_65818 = merge_sequential_arg2_65779 + index_primexp_68269;\n            slice_65812 = defunc_0_f_res_65770 + index_primexp_68269;\n            if (cond_65807) {\n                ext_69267 = slice_65812;\n            } else {\n                ext_69267 = slice_65818;\n            }\n            if (cond_65807) {\n                int64_t head_res_65813;\n                int64_t head_res_65815;\n                \n                head_res_65813 = ((__global int64_t *) mem_param_69237)[slice_65812];\n                head_res_65815 = ((__global int64_t *) mem_param_69244)[slice_65812];\n                dummy_65808 = head_res_65813;\n                dummy_65810 = head_res_65815;\n            } else {\n                int64_t head_res_65819;\n                int64_t head_res_65821;\n         ", "       \n                head_res_65819 = ((__global int64_t *) mem_param_69237)[slice_65818];\n                head_res_65821 = ((__global int64_t *) mem_param_69244)[slice_65818];\n                dummy_65808 = head_res_65819;\n                dummy_65810 = head_res_65821;\n            }\n            ((__global int64_t *) mem_69270)[gtid_65757 * num_blocks_54882 + gtid_65758] = dummy_65808;\n            ((__global int64_t *) mem_69273)[gtid_65757 * num_blocks_54882 + gtid_65758] = dummy_65810;\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global double *) mem_69290)[gtid_65757 * num_blocks_54882 + gtid_65758 + i_0 * (num_blocks_54882 * num_merges_54866)] = ((__global double *) mem_69265)[ext_69267 + i_0 * loop_dz2084Uz2082U_54856];\n            }\n            ((__global int64_t *) mem_69293)[gtid_65757 * num_blocks_54882 + gtid_65758] = defunc_0_f_res_65770;\n            ((__global int64_t *) mem_69296)[gtid_65757 * num_blocks_54882 + gtid_65758] = merge_sequential_arg2_65779;\n            ((__global int64_t *) mem_69299)[gtid_65757 * num_blocks_54882 + gtid_65758] = j_m_i_65781;\n            ((__global int64_t *) mem_69303)[gtid_65757 * num_blocks_54882 + gtid_65758] = j_m_i_65794;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_65745\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_65841_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_65841(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t greatest_divisor_leq_than_res_54727, int64_t loop_dz2084Uz2082U_54856, int64_t next_stride_54862, int64_t num_merges_54866, int64_t num_blocks_54882, int64_t nest_sizze_65744, int64_t num_tblocks_65834, int64_t binop_y_69363, int32_t virt_num_tblocks_72694, __gl",
                                    "obal unsigned char *mem_param_69237, __global unsigned char *mem_param_69244, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69265, __global unsigned char *mem_69293, __global unsigned char *mem_69296, __global unsigned char *mem_69299, __global unsigned char *mem_69300, __global unsigned char *mem_69303, __global unsigned char *mem_69304, __global unsigned char *mem_69334, __global unsigned char *mem_69351, __global unsigned char *mem_69375, __global unsigned char *mem_69425, __global unsigned char *mem_69449, __global unsigned char *mem_69466)\n{\n    #define segmap_tblock_sizze_65833 (sort_for_Skyline_doublezisegmap_65841zisegmap_tblock_sizze_65833)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72696;\n    int32_t tblock_sizze_72699;\n    int32_t wave_sizze_72698;\n    int32_t block_id_72697;\n    int32_t global_tid_72695;\n    int64_t phys_tid_65841;\n    int32_t phys_tblock_id_72700;\n    int32_t iterations_72701;\n    \n    local_tid_72696 = get_local_id(0);\n    tblock_sizze_72699 = get_local_size(0);\n    wave_sizze_72698 = LOCKSTEP_WIDTH;\n    block_id_72697 = get_tblock_id(0);\n    global_tid_72695 = block_id_72697 * tblock_sizze_72699 + local_tid_72696;\n    phys_tid_65841 = sext_i32_i64(global_tid_72695);\n    phys_tblock_id_72700 = get_tblock_id(0);\n    iterations_72701 = sdiv_up32(virt_num_tblocks_72694 - phys_tblock_id_72700, sext_i64_i32(num_tblocks_65834));\n    for (int32_t i_72702 = 0; i_72702 < iterations_72701; i_72702++) {\n        int32_t virt_tblock_id_72703;\n        int64_t global_tid_72704;\n        int64_t slice_72705;\n        int64_t slice_72706;\n        int64_t gtid_65839;\n        int64_t remnant_72707;\n        int64_t gtid_65840;\n        int64_t remnant_72708;\n        \n        virt_tblock_id_", "72703 = phys_tblock_id_72700 + i_72702 * sext_i64_i32(num_tblocks_65834);\n        global_tid_72704 = sext_i32_i64(virt_tblock_id_72703) * segmap_tblock_sizze_65833 + sext_i32_i64(local_tid_72696);\n        slice_72705 = num_blocks_54882;\n        slice_72706 = num_merges_54866 * slice_72705;\n        gtid_65839 = squot64(global_tid_72704, slice_72705);\n        remnant_72707 = global_tid_72704 - gtid_65839 * slice_72705;\n        gtid_65840 = remnant_72707;\n        remnant_72708 = remnant_72707 - gtid_65840;\n        if (slt64(gtid_65839, num_merges_54866) && slt64(gtid_65840, num_blocks_54882)) {\n            int64_t index_primexp_68266;\n            bool index_certs_65843;\n            bool index_certs_65844;\n            int64_t defunc_0_f_res_65845;\n            int64_t merge_sequential_arg2_65846;\n            int64_t j_m_i_65847;\n            bool index_certs_65848;\n            int64_t j_m_i_65849;\n            bool index_certs_65850;\n            int64_t binop_x_69387;\n            int64_t lmad_arg_69388;\n            int64_t data_65854;\n            int64_t i_65859;\n            \n            index_primexp_68266 = mul64(next_stride_54862, gtid_65839);\n            index_certs_65843 = 0;\n            index_certs_65844 = 0;\n            defunc_0_f_res_65845 = ((__global int64_t *) mem_69293)[gtid_65839 * num_blocks_54882 + gtid_65840];\n            merge_sequential_arg2_65846 = ((__global int64_t *) mem_69296)[gtid_65839 * num_blocks_54882 + gtid_65840];\n            j_m_i_65847 = ((__global int64_t *) mem_69299)[gtid_65839 * num_blocks_54882 + gtid_65840];\n            index_certs_65848 = 0;\n            j_m_i_65849 = ((__global int64_t *) mem_69303)[gtid_65839 * num_blocks_54882 + gtid_65840];\n            index_certs_65850 = 0;\n            binop_x_69387 = num_blocks_54882 * gtid_65839;\n            lmad_arg_69388 = gtid_65840 + binop_x_69387;\n            i_65859 = (int64_t) 0;\n            for (int64_t k_65858 = 0; k_65858 < greatest_divisor_leq_than_res_54727; k_65858++) {\n            ", "    int64_t j_65863;\n                bool cond_65864;\n                bool x_71090;\n                bool cond_65866;\n                bool x_65868;\n                bool y_65869;\n                bool bounds_check_65870;\n                bool loop_not_taken_71082;\n                bool protect_assert_disj_71083;\n                bool protect_assert_disj_71093;\n                bool index_certs_65871;\n                int64_t slice_65872;\n                int64_t slice_65873;\n                bool protect_cond_conj_71094;\n                int64_t leq_arg1_65874;\n                bool x_65875;\n                bool bounds_check_65876;\n                bool protect_assert_disj_71087;\n                bool protect_assert_disj_71096;\n                bool index_certs_65877;\n                int64_t slice_65878;\n                int64_t slice_65879;\n                int64_t leq_arg0_65880;\n                bool lifted_lambda_res_65881;\n                bool x_71113;\n                bool cond_65865;\n                bool protect_assert_disj_70969;\n                bool index_certs_65899;\n                bool loop_not_taken_70964;\n                bool protect_assert_disj_70965;\n                bool index_certs_65890;\n                int64_t ext_69398;\n                int64_t loopres_65882;\n                int64_t loopres_65883;\n                int64_t loopres_65885;\n                int64_t i_tmp_72709;\n                \n                j_65863 = sub64(k_65858, i_65859);\n                cond_65864 = j_65863 == j_m_i_65847;\n                x_71090 = !cond_65864;\n                cond_65866 = slt64(i_65859, j_m_i_65849);\n                x_65868 = sle64((int64_t) 0, j_65863);\n                y_65869 = slt64(j_65863, j_m_i_65847);\n                bounds_check_65870 = x_65868 && y_65869;\n                loop_not_taken_71082 = !cond_65866;\n                protect_assert_disj_71083 = bounds_check_65870 || loop_not_taken_71082;\n                protect_assert_disj_71093 = cond_65864 || protect_assert_disj_71",
                                    "083;\n                if (!protect_assert_disj_71093) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 93) == -1) {\n                            global_failure_args[0] = (int64_t) j_65863;\n                            global_failure_args[1] = (int64_t) j_m_i_65847;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_65872 = merge_sequential_arg2_65846 + j_65863;\n                slice_65873 = slice_65872 + index_primexp_68266;\n                protect_cond_conj_71094 = cond_65866 && x_71090;\n                if (protect_cond_conj_71094) {\n                    int64_t x_71084 = ((__global int64_t *) mem_param_69237)[slice_65873];\n                    \n                    leq_arg1_65874 = x_71084;\n                } else {\n                    leq_arg1_65874 = (int64_t) 0;\n                }\n                x_65875 = sle64((int64_t) 0, i_65859);\n                bounds_check_65876 = cond_65866 && x_65875;\n                protect_assert_disj_71087 = bounds_check_65876 || loop_not_taken_71082;\n                protect_assert_disj_71096 = cond_65864 || protect_assert_disj_71087;\n                if (!protect_assert_disj_71096) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 94) == -1) {\n                            global_failure_args[0] = (int64_t) i_65859;\n                            global_failure_args[1] = (int64_t) j_m_i_65849;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_65878 = defunc_0_f_res_65845 + i_65859;\n                slice_65879 = slice_65878 + index_primexp_68266;\n                if (protect_cond_conj_71094) {\n                    int64_t x_71088 = ((__global int64_t *) mem_para", "m_69237)[slice_65879];\n                    \n                    leq_arg0_65880 = x_71088;\n                } else {\n                    leq_arg0_65880 = (int64_t) 0;\n                }\n                lifted_lambda_res_65881 = sle64(leq_arg0_65880, leq_arg1_65874);\n                x_71113 = cond_65866 && lifted_lambda_res_65881;\n                cond_65865 = cond_65864 || x_71113;\n                protect_assert_disj_70969 = cond_65865 || bounds_check_65870;\n                if (!protect_assert_disj_70969) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 95) == -1) {\n                            global_failure_args[0] = (int64_t) j_65863;\n                            global_failure_args[1] = (int64_t) j_m_i_65847;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_70964 = !cond_65865;\n                protect_assert_disj_70965 = bounds_check_65876 || loop_not_taken_70964;\n                if (!protect_assert_disj_70965) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 96) == -1) {\n                            global_failure_args[0] = (int64_t) i_65859;\n                            global_failure_args[1] = (int64_t) j_m_i_65849;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_65865) {\n                    ext_69398 = slice_65879;\n                } else {\n                    ext_69398 = slice_65873;\n                }\n                if (cond_65865) {\n                    int64_t tmp_65886;\n                    int64_t tmp_65893;\n                    int64_t tmp_65895;\n                    \n                    tmp_65886 = add64((int64_t) 1, i_65859);\n                    tmp_65893 = (", "(__global int64_t *) mem_param_69237)[slice_65879];\n                    tmp_65895 = ((__global int64_t *) mem_param_69244)[slice_65879];\n                    loopres_65882 = tmp_65886;\n                    loopres_65883 = tmp_65893;\n                    loopres_65885 = tmp_65895;\n                } else {\n                    int64_t tmp_65902;\n                    int64_t tmp_65904;\n                    \n                    tmp_65902 = ((__global int64_t *) mem_param_69237)[slice_65873];\n                    tmp_65904 = ((__global int64_t *) mem_param_69244)[slice_65873];\n                    loopres_65882 = i_65859;\n                    loopres_65883 = tmp_65902;\n                    loopres_65885 = tmp_65904;\n                }\n                ((__global int64_t *) mem_69334)[lmad_arg_69388 + k_65858 * nest_sizze_65744] = loopres_65883;\n                for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                    ((__global double *) mem_69375)[lmad_arg_69388 + k_65858 * binop_y_69363 + i_0 * nest_sizze_65744] = ((__global double *) mem_69265)[ext_69398 + i_0 * loop_dz2084Uz2082U_54856];\n                }\n                ((__global int64_t *) mem_69351)[lmad_arg_69388 + k_65858 * nest_sizze_65744] = loopres_65885;\n                i_tmp_72709 = loopres_65882;\n                i_65859 = i_tmp_72709;\n            }\n            data_65854 = i_65859;\n            for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n                ((__global int64_t *) mem_69425)[gtid_65839 * num_blocks_54882 + gtid_65840 + i_0 * (num_blocks_54882 * num_merges_54866)] = ((__global int64_t *) mem_69334)[lmad_arg_69388 + i_0 * nest_sizze_65744];\n            }\n            for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_38264; i_1++) {\n                    ((__global double *) mem_69449)[gtid_65839 * num_blocks_54882 + gtid_65840 + (i_0 * (num_blocks_54882 * num_merges_54866 * dim_38264) + i_1 * (num_bloc",
                                    "ks_54882 * num_merges_54866))] = ((__global double *) mem_69375)[lmad_arg_69388 + (i_0 * binop_y_69363 + i_1 * nest_sizze_65744)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n                ((__global int64_t *) mem_69466)[gtid_65839 * num_blocks_54882 + gtid_65840 + i_0 * (num_blocks_54882 * num_merges_54866)] = ((__global int64_t *) mem_69351)[lmad_arg_69388 + i_0 * nest_sizze_65744];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_65833\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67665_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67665(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *ext_mem_69910, __global unsigned char *mem_70019)\n{\n    #define segmap_tblock_sizze_67660 (sort_for_Skyline_doublezisegmap_67665zisegmap_tblock_sizze_67660)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73131;\n    int32_t tblock_sizze_73134;\n    int32_t wave_sizze_73133;\n    int32_t block_id_73132;\n    int32_t global_tid_73130;\n    int64_t phys_tid_67665;\n    int64_t global_tid_73135;\n    int64_t slice_73136;\n    int64_t slice_73137;\n    int64_t gtid_67663;\n    int64_t remnant_73138;\n    int64_t gtid_67664;\n    int64_t remnant_73139;\n    \n    local_tid_73131 = get_local_id(0);\n    tblock_sizze_73134 = get_local_size(0);\n    wave_sizze_73133 = LOCKSTEP_WIDTH;\n    block_id_73132 = get_tblock_id(0);\n    global_tid_73130 = block_id_73132 * tblock_sizze_73134 + local_tid_73131;\n    phys_tid_67665 = sext_i32_i64(global_tid_73130);\n    global_tid_73135 = sext_i32_i64(block_id_73132) * segmap_tblock_sizze_67660 + sext_i32_i64(local_tid_73131);\n    s", "lice_73136 = dim_38264;\n    slice_73137 = n_38267 * slice_73136;\n    gtid_67663 = squot64(global_tid_73135, slice_73136);\n    remnant_73138 = global_tid_73135 - gtid_67663 * slice_73136;\n    gtid_67664 = remnant_73138;\n    remnant_73139 = remnant_73138 - gtid_67664;\n    if (slt64(gtid_67663, n_38267) && slt64(gtid_67664, dim_38264)) {\n        double eta_p_67666;\n        double eta_p_67667;\n        double defunc_0_f_res_67668;\n        \n        eta_p_67666 = ((__global double *) ext_mem_69910)[gtid_67663 * dim_38264 + gtid_67664];\n        eta_p_67667 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_67664];\n        defunc_0_f_res_67668 = eta_p_67666 - eta_p_67667;\n        ((__global double *) mem_70019)[gtid_67663 * dim_38264 + gtid_67664] = defunc_0_f_res_67668;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67660\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67681_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67681(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_70019)\n{\n    #define segmap_tblock_sizze_67676 (sort_for_Skyline_doublezisegmap_67681zisegmap_tblock_sizze_67676)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73142;\n    int32_t tblock_sizze_73145;\n    int32_t wave_sizze_73144;\n    int32_t block_id_73143;\n    int32_t global_tid_73141;\n    int64_t phys_tid_67681;\n    int64_t global_tid_73146;\n    int64_t slice_73147;\n    int64_t slice_73148;\n    int64_t gtid_67679;\n    int64_t remnant_73149;\n    int64_t gtid_67680;\n    int64_t remnant_73150;\n    \n    local_tid_73142 = get_local_id(0);\n    tblock_sizze_73145 = get_local_size(0);\n    wave_sizze_73144 = LOCKSTEP_WIDTH;\n    block_id_73143 = get_tblock_id(0);\n    global_tid_73141 = block_id_73143 * tblock_sizze_73145 + local_tid_73142;\n    phys_tid_67681 = sext_i32_i64(global_tid_73141);\n    global_tid_73146 = sext_i32_i64(block_id_73143) * ", "segmap_tblock_sizze_67676 + sext_i32_i64(local_tid_73142);\n    slice_73147 = dim_38264;\n    slice_73148 = n_38267 * slice_73147;\n    gtid_67679 = squot64(global_tid_73146, slice_73147);\n    remnant_73149 = global_tid_73146 - gtid_67679 * slice_73147;\n    gtid_67680 = remnant_73149;\n    remnant_73150 = remnant_73149 - gtid_67680;\n    if (slt64(gtid_67679, n_38267) && slt64(gtid_67680, dim_38264)) {\n        double eta_p_67682;\n        double eta_p_67683;\n        double defunc_0_f_res_67684;\n        \n        eta_p_67682 = ((__global double *) mem_70019)[gtid_67679 * dim_38264 + gtid_67680];\n        eta_p_67683 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_67680];\n        defunc_0_f_res_67684 = eta_p_67682 / eta_p_67683;\n        ((__global double *) mem_70019)[gtid_67679 * dim_38264 + gtid_67680] = defunc_0_f_res_67684;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67676\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67693_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67693(__global int *global_failure, int64_t dim_38264, int64_t n_38267, __global unsigned char *mem_70019, __global unsigned char *mem_70022)\n{\n    #define segmap_tblock_sizze_67689 (sort_for_Skyline_doublezisegmap_67693zisegmap_tblock_sizze_67689)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73153;\n    int32_t tblock_sizze_73156;\n    int32_t wave_sizze_73155;\n    int32_t block_id_73154;\n    int32_t global_tid_73152;\n    int64_t phys_tid_67693;\n    int64_t global_tid_73157;\n    int64_t slice_73158;\n    int64_t gtid_67692;\n    int64_t remnant_73159;\n    \n    local_tid_73153 = get_local_id(0);\n    tblock_sizze_73156 = get_local_size(0);\n    wave_sizze_73155 = LOCKSTEP_WIDTH;\n    block_id_73154 = get_tblock_id(0);\n    global_tid_73152 = block_id_73154 * tblock_sizze_73156 + local_tid_73153;\n    phys_tid_67693 = sext_i32_i64(global_tid_73152);\n    global_tid_73157 = sext_i32_i64(block_id_73154) * segmap_tblock_sizze_67689 + sext_i32_i64",
                                    "(local_tid_73153);\n    slice_73158 = n_38267;\n    gtid_67692 = global_tid_73157;\n    remnant_73159 = global_tid_73157 - gtid_67692;\n    if (slt64(gtid_67692, n_38267)) {\n        double f_arg0_67695;\n        int64_t f64_res_67696;\n        \n        f_arg0_67695 = ((__global double *) mem_70019)[gtid_67692 * dim_38264];\n        f64_res_67696 = fptosi_f64_i64(f_arg0_67695);\n        ((__global int64_t *) mem_70022)[gtid_67692] = f64_res_67696;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67689\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67706_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67706(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_67702, int32_t virt_num_tblocks_73180, __global unsigned char *mem_70036, __global unsigned char *mem_70047, __global unsigned char *mem_70065)\n{\n    #define segmap_tblock_sizze_67701 (sort_for_Skyline_doublezisegmap_67706zisegmap_tblock_sizze_67701)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_73182;\n    int32_t tblock_sizze_73185;\n    int32_t wave_sizze_73184;\n    int32_t block_id_73183;\n    int32_t global_tid_73181;\n    int64_t phys_tid_67706;\n    int32_t phys_tblock_id_73186;\n    int32_t iterations_73187;\n    \n    local_tid_73182 = get_local_id(0);\n    tblock_sizze_73185 = get_local_size(0);\n    wave_sizze_73184 = LOCKSTEP_WIDTH;\n    block_id_73183 = get_tblock_id(0);\n    global_tid_73181 = block_id_73183 * tblock_sizze_73185 + local_tid_73182;\n    phys_tid_67706 = sext_i32_i64(global_tid_73181);\n    phys_tblock_id_73186 = get_tblock_id(0);\n    iterations_73187 = sdiv_up32(virt_num_tblocks_73180 - phys_tblock_id_73186, sext_i64_i32(num_tblocks_67702));\n    for (i", "nt32_t i_73188 = 0; i_73188 < iterations_73187; i_73188++) {\n        int32_t virt_tblock_id_73189;\n        int64_t global_tid_73190;\n        int64_t slice_73191;\n        int64_t gtid_67705;\n        int64_t remnant_73192;\n        \n        virt_tblock_id_73189 = phys_tblock_id_73186 + i_73188 * sext_i64_i32(num_tblocks_67702);\n        global_tid_73190 = sext_i32_i64(virt_tblock_id_73189) * segmap_tblock_sizze_67701 + sext_i32_i64(local_tid_73182);\n        slice_73191 = n_38267;\n        gtid_67705 = global_tid_73190;\n        remnant_73192 = global_tid_73190 - gtid_67705;\n        if (slt64(gtid_67705, n_38267)) {\n            for (int64_t i_67710 = 0; i_67710 < arg_54492; i_67710++) {\n                int64_t index_primexp_67712;\n                bool x_67713;\n                bool y_67714;\n                bool bounds_check_67715;\n                bool index_certs_67716;\n                double f_arg0_67717;\n                int64_t f64_res_67718;\n                \n                index_primexp_67712 = add64((int64_t) 1, i_67710);\n                x_67713 = sle64((int64_t) 0, index_primexp_67712);\n                y_67714 = slt64(index_primexp_67712, dim_38264);\n                bounds_check_67715 = x_67713 && y_67714;\n                if (!bounds_check_67715) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 117) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_67712;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_67717 = ((__global double *) mem_70047)[gtid_67705 + index_primexp_67712 * n_38267];\n                f64_res_67718 = fptosi_f64_i64(f_arg0_67717);\n                ((__global int64_t *) mem_70036)[gtid_67705 + index_primexp_67712 * n_38267] = f64_res_67718;\n        ", "    }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global int64_t *) mem_70065)[gtid_67705 + i_0 * n_38267] = ((__global int64_t *) mem_70036)[gtid_67705 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_67701\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67726_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67726(__global int *global_failure, int64_t n_38267, int64_t ext_68710, __global unsigned char *ext_mem_70071, __global unsigned char *mem_70074)\n{\n    #define segmap_tblock_sizze_67722 (sort_for_Skyline_doublezisegmap_67726zisegmap_tblock_sizze_67722)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73196;\n    int32_t tblock_sizze_73199;\n    int32_t wave_sizze_73198;\n    int32_t block_id_73197;\n    int32_t global_tid_73195;\n    int64_t phys_tid_67726;\n    int64_t global_tid_73200;\n    int64_t slice_73201;\n    int64_t gtid_67725;\n    int64_t remnant_73202;\n    \n    local_tid_73196 = get_local_id(0);\n    tblock_sizze_73199 = get_local_size(0);\n    wave_sizze_73198 = LOCKSTEP_WIDTH;\n    block_id_73197 = get_tblock_id(0);\n    global_tid_73195 = block_id_73197 * tblock_sizze_73199 + local_tid_73196;\n    phys_tid_67726 = sext_i32_i64(global_tid_73195);\n    global_tid_73200 = sext_i32_i64(block_id_73197) * segmap_tblock_sizze_67722 + sext_i32_i64(local_tid_73196);\n    slice_73201 = n_38267;\n    gtid_67725 = global_tid_73200;\n    remnant_73202 = global_tid_73200 - gtid_67725;\n    if (slt64(gtid_67725, n_38267)) {\n        int64_t f_arg0_67728;\n        int64_t max_res_67729;\n        \n        f_arg0_67728 = ((__global int64_t *) ext_mem_70071)[gtid_67725 * ext_68710];\n        max_res_67729 = smax64((int64_t) 0, f_arg0_67728);\n        ((__global int64_t *) mem",
                                    "_70074)[gtid_67725] = max_res_67729;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67722\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67739_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67739(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_67735, int32_t virt_num_tblocks_73223, __global unsigned char *mem_70088, __global unsigned char *mem_70099, __global unsigned char *mem_70117)\n{\n    #define segmap_tblock_sizze_67734 (sort_for_Skyline_doublezisegmap_67739zisegmap_tblock_sizze_67734)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_73225;\n    int32_t tblock_sizze_73228;\n    int32_t wave_sizze_73227;\n    int32_t block_id_73226;\n    int32_t global_tid_73224;\n    int64_t phys_tid_67739;\n    int32_t phys_tblock_id_73229;\n    int32_t iterations_73230;\n    \n    local_tid_73225 = get_local_id(0);\n    tblock_sizze_73228 = get_local_size(0);\n    wave_sizze_73227 = LOCKSTEP_WIDTH;\n    block_id_73226 = get_tblock_id(0);\n    global_tid_73224 = block_id_73226 * tblock_sizze_73228 + local_tid_73225;\n    phys_tid_67739 = sext_i32_i64(global_tid_73224);\n    phys_tblock_id_73229 = get_tblock_id(0);\n    iterations_73230 = sdiv_up32(virt_num_tblocks_73223 - phys_tblock_id_73229, sext_i64_i32(num_tblocks_67735));\n    for (int32_t i_73231 = 0; i_73231 < iterations_73230; i_73231++) {\n        int32_t virt_tblock_id_73232;\n        int64_t global_tid_73233;\n        int64_t slice_73234;\n        int64_t gtid_67738;\n        int64_t remnant_73235;\n        \n        virt_tblock_id_73232 = phys_tblock_id_73229 + i_73231 * sext_i64_i32(num_tblocks_67735);\n        global_tid_73233 = sext_i32_i64(virt_tblock_id_73232) * segmap_tblock_s", "izze_67734 + sext_i32_i64(local_tid_73225);\n        slice_73234 = n_38267;\n        gtid_67738 = global_tid_73233;\n        remnant_73235 = global_tid_73233 - gtid_67738;\n        if (slt64(gtid_67738, n_38267)) {\n            for (int64_t i_67743 = 0; i_67743 < arg_54492; i_67743++) {\n                int64_t index_primexp_67745;\n                bool x_67746;\n                bool y_67747;\n                bool bounds_check_67748;\n                bool index_certs_67749;\n                int64_t f_arg0_67750;\n                int64_t max_res_67751;\n                \n                index_primexp_67745 = add64((int64_t) 1, i_67743);\n                x_67746 = sle64((int64_t) 0, index_primexp_67745);\n                y_67747 = slt64(index_primexp_67745, dim_38264);\n                bounds_check_67748 = x_67746 && y_67747;\n                if (!bounds_check_67748) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 118) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_67745;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_67750 = ((__global int64_t *) mem_70099)[gtid_67738 + index_primexp_67745 * n_38267];\n                max_res_67751 = smax64((int64_t) 0, f_arg0_67750);\n                ((__global int64_t *) mem_70088)[gtid_67738 + index_primexp_67745 * n_38267] = max_res_67751;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global int64_t *) mem_70117)[gtid_67738 + i_0 * n_38267] = ((__global int64_t *) mem_70088)[gtid_67738 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE", " | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_67734\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67759_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67759(__global int *global_failure, int64_t n_38267, int64_t ext_70154, __global unsigned char *mem_68651, __global unsigned char *ext_mem_70155, __global unsigned char *mem_70158)\n{\n    #define segmap_tblock_sizze_67755 (sort_for_Skyline_doublezisegmap_67759zisegmap_tblock_sizze_67755)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73240;\n    int32_t tblock_sizze_73243;\n    int32_t wave_sizze_73242;\n    int32_t block_id_73241;\n    int32_t global_tid_73239;\n    int64_t phys_tid_67759;\n    int64_t global_tid_73244;\n    int64_t slice_73245;\n    int64_t gtid_67758;\n    int64_t remnant_73246;\n    \n    local_tid_73240 = get_local_id(0);\n    tblock_sizze_73243 = get_local_size(0);\n    wave_sizze_73242 = LOCKSTEP_WIDTH;\n    block_id_73241 = get_tblock_id(0);\n    global_tid_73239 = block_id_73241 * tblock_sizze_73243 + local_tid_73240;\n    phys_tid_67759 = sext_i32_i64(global_tid_73239);\n    global_tid_73244 = sext_i32_i64(block_id_73241) * segmap_tblock_sizze_67755 + sext_i32_i64(local_tid_73240);\n    slice_73245 = n_38267;\n    gtid_67758 = global_tid_73244;\n    remnant_73246 = global_tid_73244 - gtid_67758;\n    if (slt64(gtid_67758, n_38267)) {\n        int64_t min_arg1_68337;\n        int64_t f_arg0_67761;\n        int64_t min_res_67762;\n        \n        min_arg1_68337 = ((__global int64_t *) mem_68651)[(int64_t) 0];\n        f_arg0_67761 = ((__global int64_t *) ext_mem_70155)[gtid_67758 * ext_70154];\n        min_res_67762 = smin64(f_arg0_67761, min_arg1_68337);\n        ((__global int64_t *) mem_70158)[gtid_67758] = min_res_67762;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67755\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67772_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67772(__global int *global_failure, int",
                                    " failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, int64_t num_tblocks_67768, int32_t virt_num_tblocks_73267, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *mem_70172, __global unsigned char *mem_70183, __global unsigned char *mem_70201)\n{\n    #define segmap_tblock_sizze_67767 (sort_for_Skyline_doublezisegmap_67772zisegmap_tblock_sizze_67767)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_73269;\n    int32_t tblock_sizze_73272;\n    int32_t wave_sizze_73271;\n    int32_t block_id_73270;\n    int32_t global_tid_73268;\n    int64_t phys_tid_67772;\n    int32_t phys_tblock_id_73273;\n    int32_t iterations_73274;\n    \n    local_tid_73269 = get_local_id(0);\n    tblock_sizze_73272 = get_local_size(0);\n    wave_sizze_73271 = LOCKSTEP_WIDTH;\n    block_id_73270 = get_tblock_id(0);\n    global_tid_73268 = block_id_73270 * tblock_sizze_73272 + local_tid_73269;\n    phys_tid_67772 = sext_i32_i64(global_tid_73268);\n    phys_tblock_id_73273 = get_tblock_id(0);\n    iterations_73274 = sdiv_up32(virt_num_tblocks_73267 - phys_tblock_id_73273, sext_i64_i32(num_tblocks_67768));\n    for (int32_t i_73275 = 0; i_73275 < iterations_73274; i_73275++) {\n        int32_t virt_tblock_id_73276;\n        int64_t global_tid_73277;\n        int64_t slice_73278;\n        int64_t gtid_67771;\n        int64_t remnant_73279;\n        \n        virt_tblock_id_73276 = phys_tblock_id_73273 + i_73275 * sext_i64_i32(num_tblocks_67768);\n        global_tid_73277 = sext_i32_i64(virt_tblock_id_73276) * segmap_tblock_sizze_67767 + sext_i32_i64(local_tid_73269);\n        slice_73278 = n_38267;\n        gtid_67771 = global_tid_73277;\n        remnant_73279 = global_tid_73277 - gtid_67771;\n        if (slt64(gtid_67771,", " n_38267)) {\n            for (int64_t i_67776 = 0; i_67776 < arg_54492; i_67776++) {\n                int64_t index_primexp_67778;\n                bool x_67779;\n                bool y_67780;\n                bool bounds_check_67781;\n                bool index_certs_67782;\n                bool index_certs_67784;\n                int64_t f_arg0_67783;\n                int64_t zm_lhs_67785;\n                int64_t min_arg1_67786;\n                int64_t min_res_67787;\n                \n                index_primexp_67778 = add64((int64_t) 1, i_67776);\n                x_67779 = sle64((int64_t) 0, index_primexp_67778);\n                y_67780 = slt64(index_primexp_67778, dim_38264);\n                bounds_check_67781 = x_67779 && y_67780;\n                if (!bounds_check_67781) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 119) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_67778;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_67781) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 120) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_67778;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_67783 = ((__global int64_t *) mem_70183)[gtid_67771 + index_primexp_67778 * n_38267];\n                zm_lhs_67785 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_67778];\n                min_arg1_67786 = sub64(zm_lhs_67785, (int64_t) 1);", "\n                min_res_67787 = smin64(f_arg0_67783, min_arg1_67786);\n                ((__global int64_t *) mem_70172)[gtid_67771 + index_primexp_67778 * n_38267] = min_res_67787;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global int64_t *) mem_70201)[gtid_67771 + i_0 * n_38267] = ((__global int64_t *) mem_70172)[gtid_67771 + i_0 * n_38267];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_67767\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67801_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67801(__global int *global_failure, int64_t dim_38264, int64_t n_38267, int64_t ext_70250, int64_t ext_70251, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_70252, __global unsigned char *mem_70256)\n{\n    #define segmap_tblock_sizze_67796 (sort_for_Skyline_doublezisegmap_67801zisegmap_tblock_sizze_67796)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73284;\n    int32_t tblock_sizze_73287;\n    int32_t wave_sizze_73286;\n    int32_t block_id_73285;\n    int32_t global_tid_73283;\n    int64_t phys_tid_67801;\n    int64_t global_tid_73288;\n    int64_t slice_73289;\n    int64_t slice_73290;\n    int64_t gtid_67799;\n    int64_t remnant_73291;\n    int64_t gtid_67800;\n    int64_t remnant_73292;\n    \n    local_tid_73284 = get_local_id(0);\n    tblock_sizze_73287 = get_local_size(0);\n    wave_sizze_73286 = LOCKSTEP_WIDTH;\n    block_id_73285 = get_tblock_id(0);\n    global_tid_73283 = block_id_73285 * tblock_sizze_73287 + local_tid_73284;\n    phys_tid_67801 = sext_i32_i64(global_tid_73283);\n    global_tid_73288 = sext_i32_i64(block_id_73285) * segmap_tblock_sizze_67796 + sext_i32_i64(local_tid_73284);\n    slice_73289 = dim_38264;\n    slice_",
                                    "73290 = n_38267 * slice_73289;\n    gtid_67799 = squot64(global_tid_73288, slice_73289);\n    remnant_73291 = global_tid_73288 - gtid_67799 * slice_73289;\n    gtid_67800 = remnant_73291;\n    remnant_73292 = remnant_73291 - gtid_67800;\n    if (slt64(gtid_67799, n_38267) && slt64(gtid_67800, dim_38264)) {\n        int64_t eta_p_67802;\n        int64_t eta_p_67803;\n        int64_t defunc_0_f_res_67804;\n        \n        eta_p_67802 = ((__global int64_t *) ext_mem_70252)[gtid_67799 * ext_70251 + gtid_67800 * ext_70250];\n        eta_p_67803 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_67800];\n        defunc_0_f_res_67804 = mul64(eta_p_67802, eta_p_67803);\n        ((__global int64_t *) mem_70256)[gtid_67799 * dim_38264 + gtid_67800] = defunc_0_f_res_67804;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67796\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67811_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67811(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t total_grid_no_38275, __global unsigned char *mem_68643, __global unsigned char *mem_70267, __global unsigned char *mem_70270)\n{\n    #define segmap_tblock_sizze_67807 (sort_for_Skyline_doublezisegmap_67811zisegmap_tblock_sizze_67807)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73295;\n    int32_t tblock_sizze_73298;\n    int32_t wave_sizze_73297;\n    int32_t block_id_73296;\n    int32_t global_tid_73294;\n    int64_t phys_tid_67811;\n    int64_t global_tid_73299;\n    int64_t slice_73300;\n    int64_t gtid_67810;\n    int64_t remnant_73301;\n    \n    local_tid_73295 = get_local_id(0);\n    tblock_sizze_73298 = get_local_size(0);\n    wave_sizze_73297 = LOCKSTEP_WIDTH;\n    block_id_73296 = get_tblock_id(0);\n    global_tid_73294 = block_id_73296 * tblock_sizze_73298 + local_tid_73295;\n    phys_tid_67811 = sext_i32_i64(global_tid_73294);\n    global_tid_73299 = sext_i32_i64(bl", "ock_id_73296) * segmap_tblock_sizze_67807 + sext_i32_i64(local_tid_73295);\n    slice_73300 = n_38267;\n    gtid_67810 = global_tid_73299;\n    remnant_73301 = global_tid_73299 - gtid_67810;\n    if (slt64(gtid_67810, n_38267)) {\n        int64_t defunc_0_foldl_res_67813;\n        int64_t acc_67815;\n        bool x_67818;\n        bool y_67819;\n        bool bounds_check_67820;\n        bool index_certs_67821;\n        bool tmp_67822;\n        bool defunc_0_p_res_67823;\n        int64_t defunc_0_f_res_67824;\n        \n        acc_67815 = (int64_t) 0;\n        for (int64_t i_67814 = 0; i_67814 < dim_38264; i_67814++) {\n            int64_t b_67816;\n            int64_t defunc_0_f_res_67817;\n            int64_t acc_tmp_73302;\n            \n            b_67816 = ((__global int64_t *) mem_70267)[gtid_67810 + i_67814 * n_38267];\n            defunc_0_f_res_67817 = add64(acc_67815, b_67816);\n            acc_tmp_73302 = defunc_0_f_res_67817;\n            acc_67815 = acc_tmp_73302;\n        }\n        defunc_0_foldl_res_67813 = acc_67815;\n        x_67818 = sle64((int64_t) 0, defunc_0_foldl_res_67813);\n        y_67819 = slt64(defunc_0_foldl_res_67813, total_grid_no_38275);\n        bounds_check_67820 = x_67818 && y_67819;\n        if (!bounds_check_67820) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 121) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_67813;\n                    global_failure_args[1] = (int64_t) total_grid_no_38275;\n                    ;\n                }\n                return;\n            }\n        }\n        tmp_67822 = ((__global bool *) mem_68643)[defunc_0_foldl_res_67813];\n        defunc_0_p_res_67823 = !tmp_67822;\n        defunc_0_f_res_67824 = btoi_bool_i64(defunc_0_p_res_67823);\n        ((__global int64_t *) mem_70270)[gtid_67810] = defunc_0_f_res_67824;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67807\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67863_dim1, 1, 1)\nvoid so", "rt_for_Skyline_doublezisegmap_67863(__global int *global_failure, int64_t n_38267, __global unsigned char *ext_mem_70393, __global unsigned char *ext_mem_70394, __global unsigned char *mem_70402, __global unsigned char *mem_70404)\n{\n    #define segmap_tblock_sizze_67858 (sort_for_Skyline_doublezisegmap_67863zisegmap_tblock_sizze_67858)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73411;\n    int32_t tblock_sizze_73414;\n    int32_t wave_sizze_73413;\n    int32_t block_id_73412;\n    int32_t global_tid_73410;\n    int64_t phys_tid_67863;\n    int64_t global_tid_73415;\n    int64_t slice_73416;\n    int64_t gtid_67862;\n    int64_t remnant_73417;\n    \n    local_tid_73411 = get_local_id(0);\n    tblock_sizze_73414 = get_local_size(0);\n    wave_sizze_73413 = LOCKSTEP_WIDTH;\n    block_id_73412 = get_tblock_id(0);\n    global_tid_73410 = block_id_73412 * tblock_sizze_73414 + local_tid_73411;\n    phys_tid_67863 = sext_i32_i64(global_tid_73410);\n    global_tid_73415 = sext_i32_i64(block_id_73412) * segmap_tblock_sizze_67858 + sext_i32_i64(local_tid_73411);\n    slice_73416 = n_38267;\n    gtid_67862 = global_tid_73415;\n    remnant_73417 = global_tid_73415 - gtid_67862;\n    if (slt64(gtid_67862, n_38267)) {\n        int64_t eta_p_67864;\n        bool cond_67866;\n        int64_t lifted_lambda_res_67867;\n        \n        eta_p_67864 = ((__global int64_t *) ext_mem_70393)[gtid_67862];\n        cond_67866 = eta_p_67864 == (int64_t) 1;\n        if (cond_67866) {\n            int64_t eta_p_67865;\n            int64_t lifted_lambda_res_t_res_67868;\n            \n            eta_p_67865 = ((__global int64_t *) ext_mem_70394)[gtid_67862];\n            lifted_lambda_res_t_res_67868 = sub64(eta_p_67865, (int64_t) 1);\n            lifted_lambda_res_67867 = lifted_lambda_res_t_res_67868;\n        } else {\n            lifted_lambda_res_67867 = (int64_t) -1;\n        }\n        ((__global int64_t *) mem_70402)[gtid_67862] = lifted_lambda_res_67867;\n        ((__global int64_t *) mem_7040",
                                    "4)[gtid_67862] = lifted_lambda_res_67867;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67858\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67875_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67875(__global int *global_failure, int64_t dim_38264, int64_t n_38267, int64_t m_55474, int64_t num_tblocks_67881, int32_t virt_num_tblocks_73418, __global unsigned char *ext_mem_69910, __global unsigned char *mem_70397, __global unsigned char *mem_70402)\n{\n    #define segmap_tblock_sizze_67879 (sort_for_Skyline_doublezisegmap_67875zisegmap_tblock_sizze_67879)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73420;\n    int32_t tblock_sizze_73423;\n    int32_t wave_sizze_73422;\n    int32_t block_id_73421;\n    int32_t global_tid_73419;\n    int64_t phys_tid_67875;\n    int32_t phys_tblock_id_73424;\n    int32_t iterations_73425;\n    \n    local_tid_73420 = get_local_id(0);\n    tblock_sizze_73423 = get_local_size(0);\n    wave_sizze_73422 = LOCKSTEP_WIDTH;\n    block_id_73421 = get_tblock_id(0);\n    global_tid_73419 = block_id_73421 * tblock_sizze_73423 + local_tid_73420;\n    phys_tid_67875 = sext_i32_i64(global_tid_73419);\n    phys_tblock_id_73424 = get_tblock_id(0);\n    iterations_73425 = sdiv_up32(virt_num_tblocks_73418 - phys_tblock_id_73424, sext_i64_i32(num_tblocks_67881));\n    for (int32_t i_73426 = 0; i_73426 < iterations_73425; i_73426++) {\n        int32_t virt_tblock_id_73427;\n        int64_t global_tid_73428;\n        int64_t slice_73429;\n        int64_t slice_73430;\n        int64_t write_i_67871;\n        int64_t remnant_73431;\n        int64_t val_i_67872;\n        int64_t remnant_73432;\n        \n        virt_tblock_id_73427 = phys_tblock_id_73424 + i_73426 * sext_i64_i32(num_tblocks_67881);\n        global_tid_73428 = sext_i32_i64(virt_tblock_id_73427) * segmap_tblock_sizze_67879 + sext_i32_i64(local_tid_73420);\n        slice_73429 = dim_38264;\n        slice_73430 = n_38267 * slice_73429;\n        write_i_67871 = squot64(glo", "bal_tid_73428, slice_73429);\n        remnant_73431 = global_tid_73428 - write_i_67871 * slice_73429;\n        val_i_67872 = remnant_73431;\n        remnant_73432 = remnant_73431 - val_i_67872;\n        if (slt64(write_i_67871, n_38267) && slt64(val_i_67872, dim_38264)) {\n            double scatter_tmp_elem_67873;\n            int64_t scatter_tmp_i_67874;\n            \n            scatter_tmp_elem_67873 = ((__global double *) ext_mem_69910)[write_i_67871 * dim_38264 + val_i_67872];\n            scatter_tmp_i_67874 = ((__global int64_t *) mem_70402)[write_i_67871];\n            if ((sle64((int64_t) 0, scatter_tmp_i_67874) && slt64(scatter_tmp_i_67874, m_55474)) && (sle64((int64_t) 0, val_i_67872) && slt64(val_i_67872, dim_38264))) {\n                ((__global double *) mem_70397)[scatter_tmp_i_67874 * dim_38264 + val_i_67872] = scatter_tmp_elem_67873;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_67879\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67886_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67886(__global int *global_failure, int64_t n_38267, int64_t m_55474, int64_t num_tblocks_67891, int32_t virt_num_tblocks_73433, __global unsigned char *ext_mem_69906, __global unsigned char *mem_70399, __global unsigned char *mem_70404)\n{\n    #define segmap_tblock_sizze_67889 (sort_for_Skyline_doublezisegmap_67886zisegmap_tblock_sizze_67889)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73435;\n    int32_t tblock_sizze_73438;\n    int32_t wave_sizze_73437;\n    int32_t block_id_73436;\n    int32_t global_tid_73434;\n    int64_t phys_tid_67886;\n    int32_t phys_tblock_id_73439;\n    int32_t iterations_73440;\n    \n    local_tid_73435 = get_local_id(0);\n    tblock_sizze_73438 = get_local_size(0);\n    wave_sizze_73437 = LOCKSTEP_WIDTH;\n    block_id_73436 = get_tblock_id(0);\n    global_tid_73434 = block_id_73436 * tblock_sizze_73438 + local_tid_73435", ";\n    phys_tid_67886 = sext_i32_i64(global_tid_73434);\n    phys_tblock_id_73439 = get_tblock_id(0);\n    iterations_73440 = sdiv_up32(virt_num_tblocks_73433 - phys_tblock_id_73439, sext_i64_i32(num_tblocks_67891));\n    for (int32_t i_73441 = 0; i_73441 < iterations_73440; i_73441++) {\n        int32_t virt_tblock_id_73442;\n        int64_t global_tid_73443;\n        int64_t slice_73444;\n        int64_t write_i_67883;\n        int64_t remnant_73445;\n        \n        virt_tblock_id_73442 = phys_tblock_id_73439 + i_73441 * sext_i64_i32(num_tblocks_67891);\n        global_tid_73443 = sext_i32_i64(virt_tblock_id_73442) * segmap_tblock_sizze_67889 + sext_i32_i64(local_tid_73435);\n        slice_73444 = n_38267;\n        write_i_67883 = global_tid_73443;\n        remnant_73445 = global_tid_73443 - write_i_67883;\n        if (slt64(write_i_67883, n_38267)) {\n            int64_t scatter_tmp_elem_67884;\n            int64_t scatter_tmp_i_67885;\n            \n            scatter_tmp_elem_67884 = ((__global int64_t *) ext_mem_69906)[write_i_67883];\n            scatter_tmp_i_67885 = ((__global int64_t *) mem_70404)[write_i_67883];\n            if (sle64((int64_t) 0, scatter_tmp_i_67885) && slt64(scatter_tmp_i_67885, m_55474)) {\n                ((__global int64_t *) mem_70399)[scatter_tmp_i_67885] = scatter_tmp_elem_67884;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_67889\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67909_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67909(__global int *global_failure, int64_t dim_38264, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_70397, __global unsigned char *mem_70412)\n{\n    #define segmap_tblock_sizze_67905 (sort_for_Skyline_doublezisegmap_67909zisegmap_tblock_sizze_67905)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73448;\n    int32_t tblock_sizze_73451;\n    int32_t w",
                                    "ave_sizze_73450;\n    int32_t block_id_73449;\n    int32_t global_tid_73447;\n    int64_t phys_tid_67909;\n    int64_t global_tid_73452;\n    int64_t slice_73453;\n    int64_t gtid_67908;\n    int64_t remnant_73454;\n    \n    local_tid_73448 = get_local_id(0);\n    tblock_sizze_73451 = get_local_size(0);\n    wave_sizze_73450 = LOCKSTEP_WIDTH;\n    block_id_73449 = get_tblock_id(0);\n    global_tid_73447 = block_id_73449 * tblock_sizze_73451 + local_tid_73448;\n    phys_tid_67909 = sext_i32_i64(global_tid_73447);\n    global_tid_73452 = sext_i32_i64(block_id_73449) * segmap_tblock_sizze_67905 + sext_i32_i64(local_tid_73448);\n    slice_73453 = dim_38264;\n    gtid_67908 = global_tid_73452;\n    remnant_73454 = global_tid_73452 - gtid_67908;\n    if (slt64(gtid_67908, dim_38264)) {\n        double eta_p_67910;\n        double eta_p_67911;\n        double defunc_0_f_res_67912;\n        \n        eta_p_67910 = ((__global double *) mem_70397)[gtid_67908];\n        eta_p_67911 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_67908];\n        defunc_0_f_res_67912 = eta_p_67910 - eta_p_67911;\n        ((__global double *) mem_70412)[gtid_67908] = defunc_0_f_res_67912;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67905\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67929_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67929(__global int *global_failure, int64_t dim_38264, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_70412)\n{\n    #define segmap_tblock_sizze_67925 (sort_for_Skyline_doublezisegmap_67929zisegmap_tblock_sizze_67925)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73457;\n    int32_t tblock_sizze_73460;\n    int32_t wave_sizze_73459;\n    int32_t block_id_73458;\n    int32_t global_tid_73456;\n    int64_t phys_tid_67929;\n    int64_t global_tid_73461;\n    int64_t slice_73462;\n    int64_t gtid_67928;\n    int64_t remnant_73463;\n    \n    local_tid_73457 = get_local_id(0);\n    tblock_sizze_", "73460 = get_local_size(0);\n    wave_sizze_73459 = LOCKSTEP_WIDTH;\n    block_id_73458 = get_tblock_id(0);\n    global_tid_73456 = block_id_73458 * tblock_sizze_73460 + local_tid_73457;\n    phys_tid_67929 = sext_i32_i64(global_tid_73456);\n    global_tid_73461 = sext_i32_i64(block_id_73458) * segmap_tblock_sizze_67925 + sext_i32_i64(local_tid_73457);\n    slice_73462 = dim_38264;\n    gtid_67928 = global_tid_73461;\n    remnant_73463 = global_tid_73461 - gtid_67928;\n    if (slt64(gtid_67928, dim_38264)) {\n        double eta_p_67930;\n        double eta_p_67931;\n        double defunc_0_f_res_67932;\n        \n        eta_p_67930 = ((__global double *) mem_70412)[gtid_67928];\n        eta_p_67931 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_67928];\n        defunc_0_f_res_67932 = eta_p_67930 / eta_p_67931;\n        ((__global double *) mem_70412)[gtid_67928] = defunc_0_f_res_67932;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67925\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67949_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67949(__global int *global_failure, int64_t dim_38264, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_70457, __global unsigned char *mem_70460)\n{\n    #define segmap_tblock_sizze_67945 (sort_for_Skyline_doublezisegmap_67949zisegmap_tblock_sizze_67945)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73565;\n    int32_t tblock_sizze_73568;\n    int32_t wave_sizze_73567;\n    int32_t block_id_73566;\n    int32_t global_tid_73564;\n    int64_t phys_tid_67949;\n    int64_t global_tid_73569;\n    int64_t slice_73570;\n    int64_t gtid_67948;\n    int64_t remnant_73571;\n    \n    local_tid_73565 = get_local_id(0);\n    tblock_sizze_73568 = get_local_size(0);\n    wave_sizze_73567 = LOCKSTEP_WIDTH;\n    block_id_73566 = get_tblock_id(0);\n    global_tid_73564 = block_id_73566 * tblock_sizze_73568 + local_tid_73565;\n    phys_tid_67949 = sext_i32_i64(global_tid_73564)", ";\n    global_tid_73569 = sext_i32_i64(block_id_73566) * segmap_tblock_sizze_67945 + sext_i32_i64(local_tid_73565);\n    slice_73570 = dim_38264;\n    gtid_67948 = global_tid_73569;\n    remnant_73571 = global_tid_73569 - gtid_67948;\n    if (slt64(gtid_67948, dim_38264)) {\n        int64_t eta_p_67950;\n        int64_t eta_p_67951;\n        int64_t defunc_0_f_res_67952;\n        \n        eta_p_67950 = ((__global int64_t *) ext_mem_70457)[gtid_67948];\n        eta_p_67951 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_67948];\n        defunc_0_f_res_67952 = mul64(eta_p_67950, eta_p_67951);\n        ((__global int64_t *) mem_70460)[gtid_67948] = defunc_0_f_res_67952;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67945\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67969_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67969(__global int *global_failure, int64_t dim_38264, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_70397, __global unsigned char *ext_mem_70468, __global unsigned char *mem_70492)\n{\n    #define segmap_tblock_sizze_67965 (sort_for_Skyline_doublezisegmap_67969zisegmap_tblock_sizze_67965)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73595;\n    int32_t tblock_sizze_73598;\n    int32_t wave_sizze_73597;\n    int32_t block_id_73596;\n    int32_t global_tid_73594;\n    int64_t phys_tid_67969;\n    int64_t global_tid_73599;\n    int64_t slice_73600;\n    int64_t gtid_67968;\n    int64_t remnant_73601;\n    \n    local_tid_73595 = get_local_id(0);\n    tblock_sizze_73598 = get_local_size(0);\n    wave_sizze_73597 = LOCKSTEP_WIDTH;\n    block_id_73596 = get_tblock_id(0);\n    global_tid_73594 = block_id_73596 * tblock_sizze_73598 + local_tid_73595;\n    phys_tid_67969 = sext_i32_i64(global_tid_73594);\n    global_tid_73599 = sext_i32_i64(block_id_73596) * segmap_tblock_sizze_67965 + sext_i32_i64(local_tid_73595);\n    slice_73600 = dim_38264;\n    gtid_67968 = global_tid_73599;\n    ",
                                    "remnant_73601 = global_tid_73599 - gtid_67968;\n    if (slt64(gtid_67968, dim_38264)) {\n        int64_t defunc_0_foldl_res_68406;\n        double eta_p_67970;\n        double eta_p_67971;\n        double defunc_0_f_res_67972;\n        \n        defunc_0_foldl_res_68406 = ((__global int64_t *) ext_mem_70468)[(int64_t) 0];\n        eta_p_67970 = ((__global double *) mem_70397)[gtid_67968];\n        eta_p_67971 = ((__global double *) start_of_grid_partition_mem_68615)[defunc_0_foldl_res_68406 * dim_38264 + gtid_67968];\n        defunc_0_f_res_67972 = eta_p_67970 - eta_p_67971;\n        ((__global double *) mem_70492)[gtid_67968] = defunc_0_f_res_67972;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67965\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_67988_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_67988(__global int *global_failure, int64_t map_arg1_55615, int64_t j_m_i_55616, __global unsigned char *ext_mem_70506, __global unsigned char *mem_70512)\n{\n    #define segmap_tblock_sizze_67984 (sort_for_Skyline_doublezisegmap_67988zisegmap_tblock_sizze_67984)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73632;\n    int32_t tblock_sizze_73635;\n    int32_t wave_sizze_73634;\n    int32_t block_id_73633;\n    int32_t global_tid_73631;\n    int64_t phys_tid_67988;\n    int64_t global_tid_73636;\n    int64_t slice_73637;\n    int64_t gtid_67987;\n    int64_t remnant_73638;\n    \n    local_tid_73632 = get_local_id(0);\n    tblock_sizze_73635 = get_local_size(0);\n    wave_sizze_73634 = LOCKSTEP_WIDTH;\n    block_id_73633 = get_tblock_id(0);\n    global_tid_73631 = block_id_73633 * tblock_sizze_73635 + local_tid_73632;\n    phys_tid_67988 = sext_i32_i64(global_tid_73631);\n    global_tid_73636 = sext_i32_i64(block_id_73633) * segmap_tblock_sizze_67984 + sext_i32_i64(local_tid_73632);\n    slice_73637 = j_m_i_55616;\n    gtid_67987 = global_tid_73636;\n    remnant_73638 = global_tid_73636 - gtid_67987;\n    if (slt64(gtid_67987, j_m_i_55616)) {\n      ", "  int64_t slice_68191;\n        double eta_p_67989;\n        double lifted_lambda_res_67990;\n        \n        slice_68191 = map_arg1_55615 + gtid_67987;\n        eta_p_67989 = ((__global double *) ext_mem_70506)[slice_68191];\n        lifted_lambda_res_67990 = eta_p_67989 * eta_p_67989;\n        ((__global double *) mem_70512)[gtid_67987] = lifted_lambda_res_67990;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_67984\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68009_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68009(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_54492, __global unsigned char *angle_part_prefix_sum_mem_68610, __global unsigned char *angle_partitions_per_dim_mem_68611, __global unsigned char *ext_mem_70484, __global unsigned char *mem_70526)\n{\n    #define segmap_tblock_sizze_68005 (sort_for_Skyline_doublezisegmap_68009zisegmap_tblock_sizze_68005)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_73655;\n    int32_t tblock_sizze_73658;\n    int32_t wave_sizze_73657;\n    int32_t block_id_73656;\n    int32_t global_tid_73654;\n    int64_t phys_tid_68009;\n    int64_t global_tid_73659;\n    int64_t slice_73660;\n    int64_t gtid_68008;\n    int64_t remnant_73661;\n    \n    local_tid_73655 = get_local_id(0);\n    tblock_sizze_73658 = get_local_size(0);\n    wave_sizze_73657 = LOCKSTEP_WIDTH;\n    block_id_73656 = get_tblock_id(0);\n    global_tid_73654 = block_id_73656 * tblock_sizze_73658 + local_tid_73655;\n    phys_tid_68009 = sext_i32_i64(global_tid_73654);\n    global_tid_73659 = sext_i32_i64(block_id_73656) * segmap_tblock_sizze_68005 + sext_i32_i64(local_tid_73655);\n    slice_73660 = arg_54492;\n    gtid_68008 = global_tid_73659;\n    remnant_73661 = global_tid_73659 - gtid_68008;\n    if (slt64(gtid_68008, arg_54492)) {\n        double eta_p_68010;\n        double eta_p_68011;\n        i", "nt64_t eta_p_68012;\n        int64_t eta_p_68013;\n        int64_t defunc_0_f_res_68014;\n        \n        eta_p_68010 = ((__global double *) mem_70526)[gtid_68008];\n        eta_p_68011 = ((__global double *) ext_mem_70484)[gtid_68008];\n        eta_p_68012 = ((__global int64_t *) angle_part_prefix_sum_mem_68610)[gtid_68008];\n        eta_p_68013 = ((__global int64_t *) angle_partitions_per_dim_mem_68611)[gtid_68008];\n        futrts_lifted_lambda_10001(&defunc_0_f_res_68014, eta_p_68010, eta_p_68011, eta_p_68012, eta_p_68013);\n        ((__global int64_t *) mem_70526)[gtid_68008] = defunc_0_f_res_68014;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_68005\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68031_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68031(__global int *global_failure, int64_t dim_38264, int64_t index_primexp_55698, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_70397, __global unsigned char *mem_70545)\n{\n    #define segmap_tblock_sizze_68027 (sort_for_Skyline_doublezisegmap_68031zisegmap_tblock_sizze_68027)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73699;\n    int32_t tblock_sizze_73702;\n    int32_t wave_sizze_73701;\n    int32_t block_id_73700;\n    int32_t global_tid_73698;\n    int64_t phys_tid_68031;\n    int64_t global_tid_73703;\n    int64_t slice_73704;\n    int64_t gtid_68030;\n    int64_t remnant_73705;\n    \n    local_tid_73699 = get_local_id(0);\n    tblock_sizze_73702 = get_local_size(0);\n    wave_sizze_73701 = LOCKSTEP_WIDTH;\n    block_id_73700 = get_tblock_id(0);\n    global_tid_73698 = block_id_73700 * tblock_sizze_73702 + local_tid_73699;\n    phys_tid_68031 = sext_i32_i64(global_tid_73698);\n    global_tid_73703 = sext_i32_i64(block_id_73700) * segmap_tblock_sizze_68027 + sext_i32_i64(local_tid_73699);\n    slice_73704 = dim_38264;\n    gtid_68030 = global_tid_73703;\n    remnant_73705 = global_tid_73703 - gtid_68030;\n    if (slt64(gtid_68030, dim_38264",
                                    ")) {\n        double eta_p_68032;\n        double eta_p_68033;\n        double defunc_0_f_res_68034;\n        \n        eta_p_68032 = ((__global double *) mem_70397)[index_primexp_55698 * dim_38264 + gtid_68030];\n        eta_p_68033 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_68030];\n        defunc_0_f_res_68034 = eta_p_68032 - eta_p_68033;\n        ((__global double *) mem_70545)[gtid_68030] = defunc_0_f_res_68034;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_68027\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68051_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68051(__global int *global_failure, int64_t dim_38264, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *mem_70545)\n{\n    #define segmap_tblock_sizze_68047 (sort_for_Skyline_doublezisegmap_68051zisegmap_tblock_sizze_68047)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73708;\n    int32_t tblock_sizze_73711;\n    int32_t wave_sizze_73710;\n    int32_t block_id_73709;\n    int32_t global_tid_73707;\n    int64_t phys_tid_68051;\n    int64_t global_tid_73712;\n    int64_t slice_73713;\n    int64_t gtid_68050;\n    int64_t remnant_73714;\n    \n    local_tid_73708 = get_local_id(0);\n    tblock_sizze_73711 = get_local_size(0);\n    wave_sizze_73710 = LOCKSTEP_WIDTH;\n    block_id_73709 = get_tblock_id(0);\n    global_tid_73707 = block_id_73709 * tblock_sizze_73711 + local_tid_73708;\n    phys_tid_68051 = sext_i32_i64(global_tid_73707);\n    global_tid_73712 = sext_i32_i64(block_id_73709) * segmap_tblock_sizze_68047 + sext_i32_i64(local_tid_73708);\n    slice_73713 = dim_38264;\n    gtid_68050 = global_tid_73712;\n    remnant_73714 = global_tid_73712 - gtid_68050;\n    if (slt64(gtid_68050, dim_38264)) {\n        double eta_p_68052;\n        double eta_p_68053;\n        double defunc_0_f_res_68054;\n        \n        eta_p_68052 = ((__global double *) mem_70545)[gtid_68050];\n        eta_p_68053 = ((__global double *) grid_part_sizze_per", "_dim_mem_68613)[gtid_68050];\n        defunc_0_f_res_68054 = eta_p_68052 / eta_p_68053;\n        ((__global double *) mem_70545)[gtid_68050] = defunc_0_f_res_68054;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_68047\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68071_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68071(__global int *global_failure, int64_t dim_38264, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *ext_mem_70590, __global unsigned char *mem_70593)\n{\n    #define segmap_tblock_sizze_68067 (sort_for_Skyline_doublezisegmap_68071zisegmap_tblock_sizze_68067)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73816;\n    int32_t tblock_sizze_73819;\n    int32_t wave_sizze_73818;\n    int32_t block_id_73817;\n    int32_t global_tid_73815;\n    int64_t phys_tid_68071;\n    int64_t global_tid_73820;\n    int64_t slice_73821;\n    int64_t gtid_68070;\n    int64_t remnant_73822;\n    \n    local_tid_73816 = get_local_id(0);\n    tblock_sizze_73819 = get_local_size(0);\n    wave_sizze_73818 = LOCKSTEP_WIDTH;\n    block_id_73817 = get_tblock_id(0);\n    global_tid_73815 = block_id_73817 * tblock_sizze_73819 + local_tid_73816;\n    phys_tid_68071 = sext_i32_i64(global_tid_73815);\n    global_tid_73820 = sext_i32_i64(block_id_73817) * segmap_tblock_sizze_68067 + sext_i32_i64(local_tid_73816);\n    slice_73821 = dim_38264;\n    gtid_68070 = global_tid_73820;\n    remnant_73822 = global_tid_73820 - gtid_68070;\n    if (slt64(gtid_68070, dim_38264)) {\n        int64_t eta_p_68072;\n        int64_t eta_p_68073;\n        int64_t defunc_0_f_res_68074;\n        \n        eta_p_68072 = ((__global int64_t *) ext_mem_70590)[gtid_68070];\n        eta_p_68073 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_68070];\n        defunc_0_f_res_68074 = mul64(eta_p_68072, eta_p_68073);\n        ((__global int64_t *) mem_70593)[gtid_68070] = defunc_0_f_res_68074;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock", "_sizze_68067\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68091_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68091(__global int *global_failure, int64_t dim_38264, int64_t index_primexp_55698, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_70397, __global unsigned char *ext_mem_70600, __global unsigned char *mem_70620)\n{\n    #define segmap_tblock_sizze_68087 (sort_for_Skyline_doublezisegmap_68091zisegmap_tblock_sizze_68087)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73840;\n    int32_t tblock_sizze_73843;\n    int32_t wave_sizze_73842;\n    int32_t block_id_73841;\n    int32_t global_tid_73839;\n    int64_t phys_tid_68091;\n    int64_t global_tid_73844;\n    int64_t slice_73845;\n    int64_t gtid_68090;\n    int64_t remnant_73846;\n    \n    local_tid_73840 = get_local_id(0);\n    tblock_sizze_73843 = get_local_size(0);\n    wave_sizze_73842 = LOCKSTEP_WIDTH;\n    block_id_73841 = get_tblock_id(0);\n    global_tid_73839 = block_id_73841 * tblock_sizze_73843 + local_tid_73840;\n    phys_tid_68091 = sext_i32_i64(global_tid_73839);\n    global_tid_73844 = sext_i32_i64(block_id_73841) * segmap_tblock_sizze_68087 + sext_i32_i64(local_tid_73840);\n    slice_73845 = dim_38264;\n    gtid_68090 = global_tid_73844;\n    remnant_73846 = global_tid_73844 - gtid_68090;\n    if (slt64(gtid_68090, dim_38264)) {\n        int64_t defunc_0_foldl_res_68515;\n        double eta_p_68092;\n        double eta_p_68093;\n        double defunc_0_f_res_68094;\n        \n        defunc_0_foldl_res_68515 = ((__global int64_t *) ext_mem_70600)[(int64_t) 0];\n        eta_p_68092 = ((__global double *) mem_70397)[index_primexp_55698 * dim_38264 + gtid_68090];\n        eta_p_68093 = ((__global double *) start_of_grid_partition_mem_68615)[defunc_0_foldl_res_68515 * dim_38264 + gtid_68090];\n        defunc_0_f_res_68094 = eta_p_68092 - eta_p_68093;\n        ((__global double *) mem_70620)[gtid_68090] = defunc_0_f_res_68094;\n    }\n    \n  error_0:\n  ",
                                    "  return;\n    #undef segmap_tblock_sizze_68087\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68110_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68110(__global int *global_failure, int64_t map_arg1_55803, int64_t j_m_i_55804, __global unsigned char *ext_mem_70634, __global unsigned char *mem_70640)\n{\n    #define segmap_tblock_sizze_68106 (sort_for_Skyline_doublezisegmap_68110zisegmap_tblock_sizze_68106)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73877;\n    int32_t tblock_sizze_73880;\n    int32_t wave_sizze_73879;\n    int32_t block_id_73878;\n    int32_t global_tid_73876;\n    int64_t phys_tid_68110;\n    int64_t global_tid_73881;\n    int64_t slice_73882;\n    int64_t gtid_68109;\n    int64_t remnant_73883;\n    \n    local_tid_73877 = get_local_id(0);\n    tblock_sizze_73880 = get_local_size(0);\n    wave_sizze_73879 = LOCKSTEP_WIDTH;\n    block_id_73878 = get_tblock_id(0);\n    global_tid_73876 = block_id_73878 * tblock_sizze_73880 + local_tid_73877;\n    phys_tid_68110 = sext_i32_i64(global_tid_73876);\n    global_tid_73881 = sext_i32_i64(block_id_73878) * segmap_tblock_sizze_68106 + sext_i32_i64(local_tid_73877);\n    slice_73882 = j_m_i_55804;\n    gtid_68109 = global_tid_73881;\n    remnant_73883 = global_tid_73881 - gtid_68109;\n    if (slt64(gtid_68109, j_m_i_55804)) {\n        int64_t slice_68188;\n        double eta_p_68111;\n        double lifted_lambda_res_68112;\n        \n        slice_68188 = map_arg1_55803 + gtid_68109;\n        eta_p_68111 = ((__global double *) ext_mem_70634)[slice_68188];\n        lifted_lambda_res_68112 = eta_p_68111 * eta_p_68111;\n        ((__global double *) mem_70640)[gtid_68109] = lifted_lambda_res_68112;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_68106\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68131_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68131(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t arg_54492, __global", " unsigned char *angle_part_prefix_sum_mem_68610, __global unsigned char *angle_partitions_per_dim_mem_68611, __global unsigned char *mem_70602, __global unsigned char *ext_mem_70615, __global unsigned char *mem_70654)\n{\n    #define segmap_tblock_sizze_68127 (sort_for_Skyline_doublezisegmap_68131zisegmap_tblock_sizze_68127)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_73900;\n    int32_t tblock_sizze_73903;\n    int32_t wave_sizze_73902;\n    int32_t block_id_73901;\n    int32_t global_tid_73899;\n    int64_t phys_tid_68131;\n    int64_t global_tid_73904;\n    int64_t slice_73905;\n    int64_t gtid_68130;\n    int64_t remnant_73906;\n    \n    local_tid_73900 = get_local_id(0);\n    tblock_sizze_73903 = get_local_size(0);\n    wave_sizze_73902 = LOCKSTEP_WIDTH;\n    block_id_73901 = get_tblock_id(0);\n    global_tid_73899 = block_id_73901 * tblock_sizze_73903 + local_tid_73900;\n    phys_tid_68131 = sext_i32_i64(global_tid_73899);\n    global_tid_73904 = sext_i32_i64(block_id_73901) * segmap_tblock_sizze_68127 + sext_i32_i64(local_tid_73900);\n    slice_73905 = arg_54492;\n    gtid_68130 = global_tid_73904;\n    remnant_73906 = global_tid_73904 - gtid_68130;\n    if (slt64(gtid_68130, arg_54492)) {\n        double eta_p_68132;\n        double eta_p_68133;\n        int64_t eta_p_68134;\n        int64_t eta_p_68135;\n        int64_t defunc_0_f_res_68136;\n        \n        eta_p_68132 = ((__global double *) mem_70602)[gtid_68130];\n        eta_p_68133 = ((__global double *) ext_mem_70615)[gtid_68130];\n        eta_p_68134 = ((__global int64_t *) angle_part_prefix_sum_mem_68610)[gtid_68130];\n        eta_p_68135 = ((__global int64_t *) angle_partitions_per_dim_mem_68611)[gtid_68130];\n        futrts_lifted_lambda_10001(&defunc_0_f_res_68136, eta_p_68132, eta_p_68133, eta_p_68134, eta_p_68135);\n        ((__global int64_t *) mem_70654)[gtid_68130] = defunc_0_f_res_68136;\n    }\n    \n  error_0:\n    return", ";\n    #undef segmap_tblock_sizze_68127\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_68179_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_68179(__global int *global_failure, int64_t total_part_no_38276, __global unsigned char *mem_70674, __global unsigned char *mem_70677)\n{\n    #define segmap_tblock_sizze_68175 (sort_for_Skyline_doublezisegmap_68179zisegmap_tblock_sizze_68175)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_74186;\n    int32_t tblock_sizze_74189;\n    int32_t wave_sizze_74188;\n    int32_t block_id_74187;\n    int32_t global_tid_74185;\n    int64_t phys_tid_68179;\n    int64_t global_tid_74190;\n    int64_t slice_74191;\n    int64_t gtid_68178;\n    int64_t remnant_74192;\n    \n    local_tid_74186 = get_local_id(0);\n    tblock_sizze_74189 = get_local_size(0);\n    wave_sizze_74188 = LOCKSTEP_WIDTH;\n    block_id_74187 = get_tblock_id(0);\n    global_tid_74185 = block_id_74187 * tblock_sizze_74189 + local_tid_74186;\n    phys_tid_68179 = sext_i32_i64(global_tid_74185);\n    global_tid_74190 = sext_i32_i64(block_id_74187) * segmap_tblock_sizze_68175 + sext_i32_i64(local_tid_74186);\n    slice_74191 = total_part_no_38276;\n    gtid_68178 = global_tid_74190;\n    remnant_74192 = global_tid_74190 - gtid_68178;\n    if (slt64(gtid_68178, total_part_no_38276)) {\n        int64_t zv_lhs_68181;\n        int64_t tmp_68182;\n        bool cond_68184;\n        int64_t lifted_lambda_res_68185;\n        \n        zv_lhs_68181 = add64((int64_t) -1, gtid_68178);\n        tmp_68182 = smod64(zv_lhs_68181, total_part_no_38276);\n        cond_68184 = gtid_68178 == (int64_t) 0;\n        if (cond_68184) {\n            lifted_lambda_res_68185 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_68183 = ((__global int64_t *) mem_70674)[tmp_68182];\n            \n            lifted_lambda_res_68185 = lifted_lambda_res_68183;\n        }\n        ((__global int64_t *) mem_70677)[gtid_68178] = lifted_lambda_res_68185;\n    }\n    \n  error_0:\n    return;\n    #u",
                                    "ndef segmap_tblock_sizze_68175\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_61505(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, unsigned char cond_54502_bits, int64_t binop_x_68663, int64_t maxSubHelper_71383, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xs_mem_68616, __global unsigned char *mem_68649, __global unsigned char *mem_68883)\n{\n    bool cond_54502 = cond_54502_bits;\n    volatile __local unsigned char *color_71388_backing_4 = &shared_mem[0];\n    const int64_t color_71388_backing_4_offset = 0 + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71387_backing_3 = &shared_mem[color_71388_backing_4_offset];\n    const int64_t color_71387_backing_3_offset = color_71388_backing_4_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71386_backing_2 = &shared_mem[color_71387_backing_3_offset];\n    const int64_t color_71386_backing_2_offset = color_71387_backing_3_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71385_backing_1 = &shared_mem[color_71386_backing_2_offset];\n    const int64_t color_71385_backing_1_offset = color_71386_backing_2_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71384_backing_0 = &shared_mem[color_71385_backing_1_offset];\n    const int64_t color_71384_backing_0_offset = color_71385_backing_1_offset + (maxSubHelper_71383 + srem64((int64_t) 8 - srem64(maxSubHelper_71383, (int64_t) 8), (int64_t) 8));\n    volatile __local int", " local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71804;\n    int32_t tblock_sizze_71807;\n    int32_t wave_sizze_71806;\n    int32_t block_id_71805;\n    int32_t global_tid_71803;\n    int64_t phys_tblock_id_61505;\n    int64_t slice_71809;\n    int64_t ltid_pre_71808;\n    int64_t remnant_71810;\n    int64_t slice_71811;\n    int64_t gtid_61504;\n    int64_t remnant_71812;\n    __local unsigned char *color_71384;\n    __local unsigned char *color_71385;\n    __local unsigned char *color_71386;\n    __local unsigned char *color_71387;\n    __local unsigned char *color_71388;\n    int64_t min_arg1_68311;\n    __local unsigned char *ext_mem_68872;\n    int64_t f_arg0_61552;\n    int64_t min_res_61553;\n    int64_t rep_i_71820;\n    \n    local_tid_71804 = get_local_id(0);\n    tblock_sizze_71807 = get_local_size(0);\n    wave_sizze_71806 = LOCKSTEP_WIDTH;\n    block_id_71805 = get_tblock_id(0);\n    global_tid_71803 = block_id_71805 * tblock_sizze_71807 + local_tid_71804;\n    phys_tblock_id_61505 = sext_i32_i64(block_id_71805);\n    slice_71809 = dim_38264;\n    ltid_pre_71808 = sext_i32_i64(local_tid_71804);\n    remnant_71810 = sext_i32_i64(local_tid_71804) - ltid_pre_71808;\n    slice_71811 = n_38267;\n    gtid_61504 = sext_i32_i64(block_id_71805);\n    remnant_71812 = sext_i32_i64(block_id_71805) - gtid_61504;\n    color_71384 = (__local unsigned char *) color_71384_backing_0;\n    color_71385 = (__local unsigned char *) color_71385_backing_1;\n    color_71386 = (__local unsigned char *) color_71386_backing_2;\n    color_71387 = (__local unsigned char *) color_71387_backing_3;\n    color_71388 = (__local unsigned char *) color_71388_backing_4;\n    min_arg1_68311 = ((__global int64_t *) mem_68649)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_54502) {\n        ext_mem_68872 = color_71385;\n    } else {\n    ", "    int64_t phys_tid_61512;\n        int64_t gtid_61511;\n        double eta_p_61513;\n        double eta_p_61514;\n        double defunc_0_f_res_61515;\n        int64_t phys_tid_61518;\n        int64_t gtid_61517;\n        double eta_p_61519;\n        double eta_p_61520;\n        double defunc_0_f_res_61521;\n        __local unsigned char *ext_mem_68859;\n        int64_t f_arg0_61538;\n        int64_t max_res_61539;\n        int64_t rep_i_71817;\n        \n        phys_tid_61512 = sext_i32_i64(local_tid_71804);\n        gtid_61511 = sext_i32_i64(sext_i64_i32(ltid_pre_71808));\n        eta_p_61513 = ((__global double *) xs_mem_68616)[gtid_61504 * dim_38264 + gtid_61511];\n        eta_p_61514 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_61511];\n        defunc_0_f_res_61515 = eta_p_61513 - eta_p_61514;\n        ((__local double *) color_71388)[gtid_61511] = defunc_0_f_res_61515;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_61518 = sext_i32_i64(local_tid_71804);\n        gtid_61517 = sext_i32_i64(sext_i64_i32(ltid_pre_71808));\n        eta_p_61519 = ((__local double *) color_71388)[gtid_61517];\n        eta_p_61520 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_61517];\n        defunc_0_f_res_61521 = eta_p_61519 / eta_p_61520;\n        ((__local double *) color_71388)[gtid_61517] = defunc_0_f_res_61521;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_54502) {\n            ext_mem_68859 = color_71384;\n        } else {\n            double f_arg0_61524;\n            int64_t f64_res_61525;\n            int64_t rep_i_71814;\n            \n            f_arg0_61524 = ((__local double *) color_71388)[(int64_t) 0];\n            f64_res_61525 = fptosi_f64_i64(f_arg0_61524);\n            rep_i_71814 = sext_i32_i64(sext_i64_i32(ltid_pre_71808));\n            ((__local int64_t *) color_71387)[rep_i_71814] = f64_res_61525;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64",
                                    "_t i_61528 = 0; i_61528 < arg_54492; i_61528++) {\n                int64_t index_primexp_61530;\n                bool x_61531;\n                bool y_61532;\n                bool bounds_check_61533;\n                bool index_certs_61534;\n                double f_arg0_61535;\n                int64_t f64_res_61536;\n                \n                index_primexp_61530 = add64((int64_t) 1, i_61528);\n                x_61531 = sle64((int64_t) 0, index_primexp_61530);\n                y_61532 = slt64(index_primexp_61530, dim_38264);\n                bounds_check_61533 = x_61531 && y_61532;\n                if (!bounds_check_61533) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 28) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_61530;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_61535 = ((__local double *) color_71388)[index_primexp_61530];\n                f64_res_61536 = fptosi_f64_i64(f_arg0_61535);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_71804 == 0) {\n                    ((__local int64_t *) color_71387)[index_primexp_61530] = f64_res_61536;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_68859 = color_71387;\n        }\n        f_arg0_61538 = ((__local int64_t *) ext_mem_68859)[(int64_t) 0];\n        max_res_61539 = smax64((int64_t) 0, f_arg0_61538);\n        rep_i_71817 = sext_i32_i64(sext_i64_i32(ltid_pre_71808));\n        ((__local int64_t *) color_71386)[rep_i_71817] = max_res_61539;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (i", "nt64_t i_61542 = 0; i_61542 < arg_54492; i_61542++) {\n            int64_t index_primexp_61544;\n            bool x_61545;\n            bool y_61546;\n            bool bounds_check_61547;\n            bool index_certs_61548;\n            int64_t f_arg0_61549;\n            int64_t max_res_61550;\n            \n            index_primexp_61544 = add64((int64_t) 1, i_61542);\n            x_61545 = sle64((int64_t) 0, index_primexp_61544);\n            y_61546 = slt64(index_primexp_61544, dim_38264);\n            bounds_check_61547 = x_61545 && y_61546;\n            if (!bounds_check_61547) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 29) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_61544;\n                        global_failure_args[1] = (int64_t) dim_38264;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_61549 = ((__local int64_t *) ext_mem_68859)[index_primexp_61544];\n            max_res_61550 = smax64((int64_t) 0, f_arg0_61549);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_71804 == 0) {\n                ((__local int64_t *) color_71386)[index_primexp_61544] = max_res_61550;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_68872 = color_71386;\n    }\n    f_arg0_61552 = ((__local int64_t *) ext_mem_68872)[(int64_t) 0];\n    min_res_61553 = smin64(f_arg0_61552, min_arg1_68311);\n    rep_i_71820 = sext_i32_i64(sext_i64_i32(ltid_pre_71808));\n    ((__local int64_t *) color_71384)[rep_i_71820] = min_res_61553;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_61556 = 0; i_61556 < arg_54492; i_61556++) {\n        int64_t index_primexp_61558;\n        bool x_61559;\n        bool y_61560;\n        bool bounds_check_615", "61;\n        bool index_certs_61562;\n        bool index_certs_61564;\n        int64_t f_arg0_61563;\n        int64_t zm_lhs_61565;\n        int64_t min_arg1_61566;\n        int64_t min_res_61567;\n        \n        index_primexp_61558 = add64((int64_t) 1, i_61556);\n        x_61559 = sle64((int64_t) 0, index_primexp_61558);\n        y_61560 = slt64(index_primexp_61558, dim_38264);\n        bounds_check_61561 = x_61559 && y_61560;\n        if (!bounds_check_61561) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 30) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_61558;\n                    global_failure_args[1] = (int64_t) dim_38264;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_61561) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 31) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_61558;\n                    global_failure_args[1] = (int64_t) dim_38264;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_61563 = ((__local int64_t *) ext_mem_68872)[index_primexp_61558];\n        zm_lhs_61565 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_61558];\n        min_arg1_61566 = sub64(zm_lhs_61565, (int64_t) 1);\n        min_res_61567 = smin64(f_arg0_61563, min_arg1_61566);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_71804 == 0) {\n            ((__local int64_t *) color_71384)[index_primexp_61558] = min_res_61567;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_68883)[gtid_61504 * dim_38264 + sext_i32_i64(local_tid_71804)] = ((__local int64_t *) color_71384)[sext_i32_i64(local_tid_71804)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_",
                                    "doublezisegmap_intrablock_61581(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, unsigned char cond_54502_bits, int64_t binop_x_68663, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *xs_mem_68616, __global unsigned char *mem_68786)\n{\n    bool cond_54502 = cond_54502_bits;\n    volatile __local unsigned char *color_71391_backing_2 = &shared_mem[0];\n    const int64_t color_71391_backing_2_offset = 0 + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71390_backing_1 = &shared_mem[color_71391_backing_2_offset];\n    const int64_t color_71390_backing_1_offset = color_71391_backing_2_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71389_backing_0 = &shared_mem[color_71390_backing_1_offset];\n    const int64_t color_71389_backing_0_offset = color_71390_backing_1_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_71825;\n    int32_t tblock_sizze_71828;\n    int32_t wave_sizze_71827;\n    int32_t block_id_71826;\n    int32_t global_tid_71824;\n    int64_t phys_tblock_id_61581;\n    int64_t slice_71830;\n    int64_t ltid_pre_71829;\n    int64_t remnant_71831;\n    int64_t slice_71832;\n    int64_t gtid_61580;\n    int64_t remnant_71833;\n    __local unsigned char *color_71389;\n    __local unsigned char *color_71390;\n    __local unsigned char *color_71391;\n    int64_t phys_tid_61586;\n    int64_t gtid_61585;\n    double eta_p_61587", ";\n    double eta_p_61588;\n    double defunc_0_f_res_61589;\n    int64_t phys_tid_61592;\n    int64_t gtid_61591;\n    double eta_p_61593;\n    double eta_p_61594;\n    double defunc_0_f_res_61595;\n    __local unsigned char *ext_mem_68775;\n    int64_t f_arg0_61612;\n    int64_t max_res_61613;\n    int64_t rep_i_71838;\n    \n    local_tid_71825 = get_local_id(0);\n    tblock_sizze_71828 = get_local_size(0);\n    wave_sizze_71827 = LOCKSTEP_WIDTH;\n    block_id_71826 = get_tblock_id(0);\n    global_tid_71824 = block_id_71826 * tblock_sizze_71828 + local_tid_71825;\n    phys_tblock_id_61581 = sext_i32_i64(block_id_71826);\n    slice_71830 = dim_38264;\n    ltid_pre_71829 = sext_i32_i64(local_tid_71825);\n    remnant_71831 = sext_i32_i64(local_tid_71825) - ltid_pre_71829;\n    slice_71832 = n_38267;\n    gtid_61580 = sext_i32_i64(block_id_71826);\n    remnant_71833 = sext_i32_i64(block_id_71826) - gtid_61580;\n    color_71389 = (__local unsigned char *) color_71389_backing_0;\n    color_71390 = (__local unsigned char *) color_71390_backing_1;\n    color_71391 = (__local unsigned char *) color_71391_backing_2;\n    phys_tid_61586 = sext_i32_i64(local_tid_71825);\n    gtid_61585 = sext_i32_i64(sext_i64_i32(ltid_pre_71829));\n    eta_p_61587 = ((__global double *) xs_mem_68616)[gtid_61580 * dim_38264 + gtid_61585];\n    eta_p_61588 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_61585];\n    defunc_0_f_res_61589 = eta_p_61587 - eta_p_61588;\n    ((__local double *) color_71389)[gtid_61585] = defunc_0_f_res_61589;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_61592 = sext_i32_i64(local_tid_71825);\n    gtid_61591 = sext_i32_i64(sext_i64_i32(ltid_pre_71829));\n    eta_p_61593 = ((__local double *) color_71389)[gtid_61591];\n    eta_p_61594 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_61591];\n    defunc_0_f_res_61595 = eta_p_61593 / eta_p_61594;\n    ((__local double *) color_71389)[gtid_61591] = defunc_0_f_res_61595;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_M", "EM_FENCE);\n    if (cond_54502) {\n        ext_mem_68775 = color_71390;\n    } else {\n        double f_arg0_61598;\n        int64_t f64_res_61599;\n        int64_t rep_i_71835;\n        \n        f_arg0_61598 = ((__local double *) color_71389)[(int64_t) 0];\n        f64_res_61599 = fptosi_f64_i64(f_arg0_61598);\n        rep_i_71835 = sext_i32_i64(sext_i64_i32(ltid_pre_71829));\n        ((__local int64_t *) color_71391)[rep_i_71835] = f64_res_61599;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_61602 = 0; i_61602 < arg_54492; i_61602++) {\n            int64_t index_primexp_61604;\n            bool x_61605;\n            bool y_61606;\n            bool bounds_check_61607;\n            bool index_certs_61608;\n            double f_arg0_61609;\n            int64_t f64_res_61610;\n            \n            index_primexp_61604 = add64((int64_t) 1, i_61602);\n            x_61605 = sle64((int64_t) 0, index_primexp_61604);\n            y_61606 = slt64(index_primexp_61604, dim_38264);\n            bounds_check_61607 = x_61605 && y_61606;\n            if (!bounds_check_61607) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 32) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_61604;\n                        global_failure_args[1] = (int64_t) dim_38264;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_61609 = ((__local double *) color_71389)[index_primexp_61604];\n            f64_res_61610 = fptosi_f64_i64(f_arg0_61609);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_71825 == 0) {\n                ((__local int64_t *) color_71391)[index_primexp_61604] = f64_res_61610;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_68775 = color_71391;\n    }\n    f_arg0_61612 = ((__local int64_t *) ext_mem_68775)[(int64_t)",
                                    " 0];\n    max_res_61613 = smax64((int64_t) 0, f_arg0_61612);\n    rep_i_71838 = sext_i32_i64(sext_i64_i32(ltid_pre_71829));\n    ((__local int64_t *) color_71389)[rep_i_71838] = max_res_61613;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_61616 = 0; i_61616 < arg_54492; i_61616++) {\n        int64_t index_primexp_61618;\n        bool x_61619;\n        bool y_61620;\n        bool bounds_check_61621;\n        bool index_certs_61622;\n        int64_t f_arg0_61623;\n        int64_t max_res_61624;\n        \n        index_primexp_61618 = add64((int64_t) 1, i_61616);\n        x_61619 = sle64((int64_t) 0, index_primexp_61618);\n        y_61620 = slt64(index_primexp_61618, dim_38264);\n        bounds_check_61621 = x_61619 && y_61620;\n        if (!bounds_check_61621) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 33) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_61618;\n                    global_failure_args[1] = (int64_t) dim_38264;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_61623 = ((__local int64_t *) ext_mem_68775)[index_primexp_61618];\n        max_res_61624 = smax64((int64_t) 0, f_arg0_61623);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_71825 == 0) {\n            ((__local int64_t *) color_71389)[index_primexp_61618] = max_res_61624;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_68786)[gtid_61580 * dim_38264 + sext_i32_i64(local_tid_71825)] = ((__local int64_t *) color_71389)[sext_i32_i64(local_tid_71825)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_62633(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t d", "im_38264, int64_t greatest_divisor_leq_than_res_54727, int64_t loop_dz2084Uz2082U_54856, int64_t stride_54861, int64_t next_stride_54862, unsigned char zzero_54863_bits, int64_t num_merges_54866, int64_t m_54871, unsigned char zzero_leq_i_p_m_t_s_54872_bits, unsigned char i_lte_j_54873_bits, unsigned char cond_54874_bits, int64_t num_blocks_54882, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, int64_t j_m_i_54884, unsigned char cond_54894_bits, int64_t computed_tblock_sizze_62376, int64_t bytes_69494, int64_t bytes_69503, int64_t bytes_69508, int64_t lmad_arg_69540, int64_t bytes_69557, int64_t bytes_69561, int64_t binop_x_69607, int64_t binop_x_69614, int64_t maxSubHelper_71394, int64_t maxSubHelper_71395, int64_t maxSubHelper_71396, int32_t num_chunks_72232, int32_t num_chunks_72233, int32_t num_chunks_72234, int32_t num_chunks_72235, __global unsigned char *mem_param_69237, __global unsigned char *mem_param_69241, __global unsigned char *mem_param_69244, __global unsigned char *mem_69862, __global unsigned char *mem_69866, __global unsigned char *mem_69869)\n{\n    bool zzero_54863 = zzero_54863_bits;\n    bool zzero_leq_i_p_m_t_s_54872 = zzero_leq_i_p_m_t_s_54872_bits;\n    bool i_lte_j_54873 = i_lte_j_54873_bits;\n    bool cond_54874 = cond_54874_bits;\n    bool cond_54894 = cond_54894_bits;\n    volatile __local unsigned char *color_71413_backing_16 = &shared_mem[0];\n    const int64_t color_71413_backing_16_offset = 0 + (bytes_69494 + srem64((int64_t) 8 - srem64(bytes_69494, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71412_backing_15 = &shared_mem[color_71413_backing_16_offset];\n    const int64_t color_71412_backing_15_offset = color_71413_backing_16_offset + (bytes_69508 + srem64((int64_t) 8 - srem64(bytes_69508, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71411_backing_14 = &shared_mem[color_71412_backing_15_offset];\n    const int64_t color_71411_backing_14_offset = color_71412_backing_15_offset + (bytes", "_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71410_backing_13 = &shared_mem[color_71411_backing_14_offset];\n    const int64_t color_71410_backing_13_offset = color_71411_backing_14_offset + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71409_backing_12 = &shared_mem[color_71410_backing_13_offset];\n    const int64_t color_71409_backing_12_offset = color_71410_backing_13_offset + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71408_backing_11 = &shared_mem[color_71409_backing_12_offset];\n    const int64_t color_71408_backing_11_offset = color_71409_backing_12_offset + (int64_t) 0;\n    volatile __local unsigned char *color_71407_backing_10 = &shared_mem[color_71408_backing_11_offset];\n    const int64_t color_71407_backing_10_offset = color_71408_backing_11_offset + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71406_backing_9 = &shared_mem[color_71407_backing_10_offset];\n    const int64_t color_71406_backing_9_offset = color_71407_backing_10_offset + (int64_t) 0;\n    volatile __local unsigned char *color_71405_backing_8 = &shared_mem[color_71406_backing_9_offset];\n    const int64_t color_71405_backing_8_offset = color_71406_backing_9_offset + (maxSubHelper_71396 + srem64((int64_t) 8 - srem64(maxSubHelper_71396, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71404_backing_7 = &shared_mem[color_71405_backing_8_offset];\n    const int64_t color_71404_backing_7_offset = color_71405_backing_8_offset + (maxSubHelper_71395 + srem64((int64_t) 8 - srem64(maxSubHelper_71395, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71403_backing_6 = &shared_mem[color_71404_backing_7_offset];\n    const int64_t color_71403_backing_6_",
                                    "offset = color_71404_backing_7_offset + (maxSubHelper_71394 + srem64((int64_t) 8 - srem64(maxSubHelper_71394, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71402_backing_5 = &shared_mem[color_71403_backing_6_offset];\n    const int64_t color_71402_backing_5_offset = color_71403_backing_6_offset + (bytes_69557 + srem64((int64_t) 8 - srem64(bytes_69557, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71401_backing_4 = &shared_mem[color_71402_backing_5_offset];\n    const int64_t color_71401_backing_4_offset = color_71402_backing_5_offset + (bytes_69561 + srem64((int64_t) 8 - srem64(bytes_69561, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71400_backing_3 = &shared_mem[color_71401_backing_4_offset];\n    const int64_t color_71400_backing_3_offset = color_71401_backing_4_offset + (bytes_69557 + srem64((int64_t) 8 - srem64(bytes_69557, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71399_backing_2 = &shared_mem[color_71400_backing_3_offset];\n    const int64_t color_71399_backing_2_offset = color_71400_backing_3_offset + (binop_x_69607 + srem64((int64_t) 8 - srem64(binop_x_69607, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71398_backing_1 = &shared_mem[color_71399_backing_2_offset];\n    const int64_t color_71398_backing_1_offset = color_71399_backing_2_offset + (binop_x_69607 + srem64((int64_t) 8 - srem64(binop_x_69607, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71397_backing_0 = &shared_mem[color_71398_backing_1_offset];\n    const int64_t color_71397_backing_0_offset = color_71398_backing_1_offset + (binop_x_69614 + srem64((int64_t) 8 - srem64(binop_x_69614, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72240;\n    int32_t tblock_sizze_72243;\n    int32_t wave_sizze_72242;\n    int32_t block_id_72241;\n  ", "  int32_t global_tid_72239;\n    int64_t phys_tblock_id_62633;\n    int64_t slice_72247;\n    int64_t slice_72248;\n    int64_t slice_72249;\n    int64_t ltid_pre_72244;\n    int64_t remnant_72250;\n    int64_t ltid_pre_72245;\n    int64_t remnant_72251;\n    int64_t ltid_pre_72246;\n    int64_t remnant_72252;\n    int64_t slice_72255;\n    int64_t slice_72256;\n    int64_t ltid_pre_72253;\n    int64_t remnant_72257;\n    int64_t ltid_pre_72254;\n    int64_t remnant_72258;\n    int64_t slice_72260;\n    int64_t ltid_pre_72259;\n    int64_t remnant_72261;\n    int64_t slice_72264;\n    int64_t slice_72265;\n    int64_t ltid_pre_72262;\n    int64_t remnant_72266;\n    int64_t ltid_pre_72263;\n    int64_t remnant_72267;\n    int64_t slice_72269;\n    int64_t ltid_pre_72268;\n    int64_t remnant_72270;\n    int64_t slice_72272;\n    int64_t ltid_pre_72271;\n    int64_t remnant_72273;\n    int64_t slice_72274;\n    int64_t gtid_62632;\n    int64_t remnant_72275;\n    __local unsigned char *color_71397;\n    __local unsigned char *color_71398;\n    __local unsigned char *color_71399;\n    __local unsigned char *color_71400;\n    __local unsigned char *color_71401;\n    __local unsigned char *color_71402;\n    __local unsigned char *color_71403;\n    __local unsigned char *color_71404;\n    __local unsigned char *color_71405;\n    __local unsigned char *color_71406;\n    __local unsigned char *color_71407;\n    __local unsigned char *color_71408;\n    __local unsigned char *color_71409;\n    __local unsigned char *color_71410;\n    __local unsigned char *color_71411;\n    __local unsigned char *color_71412;\n    __local unsigned char *color_71413;\n    int64_t start_62635;\n    int64_t j_m_i_62636;\n    bool empty_slice_62637;\n    int64_t m_62638;\n    int64_t i_p_m_t_s_62639;\n    bool zzero_leq_i_p_m_t_s_62640;\n    bool i_p_m_t_s_leq_w_62641;\n    bool zzero_lte_i_62642;\n    bool i_lte_j_62643;\n    bool y_62644;\n    bool y_62645;\n    bool forwards_ok_62646;\n    bool ok_or_empty_62647;\n    bool index_certs_62648;\n    bool i_p_m", "_t_s_leq_w_62649;\n    bool y_62650;\n    bool forwards_ok_62651;\n    bool ok_or_empty_62652;\n    bool index_certs_62653;\n    int64_t slice_62663;\n    int64_t binop_y_69813;\n    int64_t binop_y_69815;\n    int64_t ext_69817;\n    __local unsigned char *ext_mem_69859;\n    __local unsigned char *ext_mem_69856;\n    __local unsigned char *ext_mem_69852;\n    int32_t num_chunks_72348;\n    int32_t num_chunks_72351;\n    int32_t num_chunks_72354;\n    \n    local_tid_72240 = get_local_id(0);\n    tblock_sizze_72243 = get_local_size(0);\n    wave_sizze_72242 = LOCKSTEP_WIDTH;\n    block_id_72241 = get_tblock_id(0);\n    global_tid_72239 = block_id_72241 * tblock_sizze_72243 + local_tid_72240;\n    phys_tblock_id_62633 = sext_i32_i64(block_id_72241);\n    slice_72247 = num_blocks_54882;\n    slice_72248 = dim_38264 * slice_72247;\n    slice_72249 = greatest_divisor_leq_than_res_54727 * slice_72248;\n    ltid_pre_72244 = squot64(sext_i32_i64(local_tid_72240), slice_72248);\n    remnant_72250 = sext_i32_i64(local_tid_72240) - ltid_pre_72244 * slice_72248;\n    ltid_pre_72245 = squot64(remnant_72250, slice_72247);\n    remnant_72251 = remnant_72250 - ltid_pre_72245 * slice_72247;\n    ltid_pre_72246 = remnant_72251;\n    remnant_72252 = remnant_72251 - ltid_pre_72246;\n    slice_72255 = num_blocks_54882;\n    slice_72256 = greatest_divisor_leq_than_res_54727 * slice_72255;\n    ltid_pre_72253 = squot64(sext_i32_i64(local_tid_72240), slice_72255);\n    remnant_72257 = sext_i32_i64(local_tid_72240) - ltid_pre_72253 * slice_72255;\n    ltid_pre_72254 = remnant_72257;\n    remnant_72258 = remnant_72257 - ltid_pre_72254;\n    slice_72260 = next_stride_54862;\n    ltid_pre_72259 = sext_i32_i64(local_tid_72240);\n    remnant_72261 = sext_i32_i64(local_tid_72240) - ltid_pre_72259;\n    slice_72264 = dim_38264;\n    slice_72265 = next_stride_54862 * slice_72264;\n    ltid_pre_72262 = squot64(sext_i32_i64(local_tid_72240), slice_72264);\n    remnant_72266 = sext_i32_i64(local_tid_72240) - ltid_pre_72262 * slice_72264;\n   ",
                                    " ltid_pre_72263 = remnant_72266;\n    remnant_72267 = remnant_72266 - ltid_pre_72263;\n    slice_72269 = num_blocks_54882;\n    ltid_pre_72268 = sext_i32_i64(local_tid_72240);\n    remnant_72270 = sext_i32_i64(local_tid_72240) - ltid_pre_72268;\n    slice_72272 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n    ltid_pre_72271 = sext_i32_i64(local_tid_72240);\n    remnant_72273 = sext_i32_i64(local_tid_72240) - ltid_pre_72271;\n    slice_72274 = num_merges_54866;\n    gtid_62632 = sext_i32_i64(block_id_72241);\n    remnant_72275 = sext_i32_i64(block_id_72241) - gtid_62632;\n    color_71397 = (__local unsigned char *) color_71397_backing_0;\n    color_71398 = (__local unsigned char *) color_71398_backing_1;\n    color_71399 = (__local unsigned char *) color_71399_backing_2;\n    color_71400 = (__local unsigned char *) color_71400_backing_3;\n    color_71401 = (__local unsigned char *) color_71401_backing_4;\n    color_71402 = (__local unsigned char *) color_71402_backing_5;\n    color_71403 = (__local unsigned char *) color_71403_backing_6;\n    color_71404 = (__local unsigned char *) color_71404_backing_7;\n    color_71405 = (__local unsigned char *) color_71405_backing_8;\n    color_71406 = (__local unsigned char *) color_71406_backing_9;\n    color_71407 = (__local unsigned char *) color_71407_backing_10;\n    color_71408 = (__local unsigned char *) color_71408_backing_11;\n    color_71409 = (__local unsigned char *) color_71409_backing_12;\n    color_71410 = (__local unsigned char *) color_71410_backing_13;\n    color_71411 = (__local unsigned char *) color_71411_backing_14;\n    color_71412 = (__local unsigned char *) color_71412_backing_15;\n    color_71413 = (__local unsigned char *) color_71413_backing_16;\n    start_62635 = mul64(next_stride_54862, gtid_62632);\n    j_m_i_62636 = sub64(loop_dz2084Uz2082U_54856, start_62635);\n    empty_slice_62637 = j_m_i_62636 == (int64_t) 0;\n    m_62638 = sub64(j_m_i_62636, (int64_t) 1);\n    i_p_m_t_s_62639 = add64(start_62635, m_62638);\n    zzero_leq", "_i_p_m_t_s_62640 = sle64((int64_t) 0, i_p_m_t_s_62639);\n    i_p_m_t_s_leq_w_62641 = slt64(i_p_m_t_s_62639, loop_dz2084Uz2082U_54856);\n    zzero_lte_i_62642 = sle64((int64_t) 0, start_62635);\n    i_lte_j_62643 = sle64(start_62635, loop_dz2084Uz2082U_54856);\n    y_62644 = i_p_m_t_s_leq_w_62641 && zzero_lte_i_62642;\n    y_62645 = zzero_leq_i_p_m_t_s_62640 && y_62644;\n    forwards_ok_62646 = i_lte_j_62643 && y_62645;\n    ok_or_empty_62647 = empty_slice_62637 || forwards_ok_62646;\n    if (!ok_or_empty_62647) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 46) == -1) {\n                global_failure_args[0] = (int64_t) start_62635;\n                global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_54856;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    i_p_m_t_s_leq_w_62649 = slt64(m_54871, j_m_i_62636);\n    y_62650 = zzero_leq_i_p_m_t_s_54872 && i_p_m_t_s_leq_w_62649;\n    forwards_ok_62651 = i_lte_j_54873 && y_62650;\n    ok_or_empty_62652 = zzero_54863 || forwards_ok_62651;\n    if (!ok_or_empty_62652) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 47) == -1) {\n                global_failure_args[0] = (int64_t) (int64_t) 0;\n                global_failure_args[1] = (int64_t) next_stride_54862;\n                global_failure_args[2] = (int64_t) j_m_i_62636;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    slice_62663 = stride_54861 + start_62635;\n    binop_y_69813 = dim_38264 * slice_62663;\n    binop_y_69815 = dim_38264 * start_62635;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_54894) {\n        ext_69817 = binop_y_69815;\n    } else {\n        ext_69817 = binop_y_69813;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_54874) {\n        int64_t dummy_62657;\n        int64_t dummy_62659;\n        int64_t data_6267", "0;\n        int64_t i_62675;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_54894) {\n            int64_t head_res_62660;\n            int64_t head_res_62662;\n            \n            head_res_62660 = ((__global int64_t *) mem_param_69237)[start_62635];\n            head_res_62662 = ((__global int64_t *) mem_param_69244)[start_62635];\n            dummy_62657 = head_res_62660;\n            dummy_62659 = head_res_62662;\n        } else {\n            int64_t head_res_62664;\n            int64_t head_res_62666;\n            \n            head_res_62664 = ((__global int64_t *) mem_param_69237)[slice_62663];\n            head_res_62666 = ((__global int64_t *) mem_param_69244)[slice_62663];\n            dummy_62657 = head_res_62664;\n            dummy_62659 = head_res_62666;\n        }\n        for (int32_t chunk_i_72278 = 0; chunk_i_72278 < num_chunks_72234; chunk_i_72278++) {\n            int32_t i_72279;\n            int64_t slice_72280;\n            int64_t rep_i_72277;\n            int64_t remnant_72281;\n            \n            i_72279 = chunk_i_72278 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n            slice_72280 = next_stride_54862;\n            rep_i_72277 = sext_i32_i64(i_72279);\n            remnant_72281 = sext_i32_i64(i_72279) - rep_i_72277;\n            if (sle64((int64_t) 0, rep_i_72277) && slt64(rep_i_72277, next_stride_54862)) {\n                ((__local int64_t *) color_71399)[rep_i_72277] = dummy_62657;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_72284 = 0; chunk_i_72284 < num_chunks_72234; chunk_i_72284++) {\n            int32_t i_72285;\n            int64_t slice_72286;\n            int64_t rep_i_72283;\n            int64_t remnant_72287;\n            \n            i_72285 = chunk_i_72284 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n            slice_72286 = next_stride_54862;\n            rep_i_72283 = sext_i32_i64(i_72285);\n            remnant_72287 = sext_i32_i64(i_72285) -",
                                    " rep_i_72283;\n            if (sle64((int64_t) 0, rep_i_72283) && slt64(rep_i_72283, next_stride_54862)) {\n                ((__local int64_t *) color_71398)[rep_i_72283] = dummy_62659;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_72291 = 0; chunk_i_72291 < num_chunks_72235; chunk_i_72291++) {\n            int32_t i_72292;\n            int64_t slice_72293;\n            int64_t slice_72294;\n            int64_t rep_i_72289;\n            int64_t remnant_72295;\n            int64_t rep_i_72290;\n            int64_t remnant_72296;\n            \n            i_72292 = chunk_i_72291 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n            slice_72293 = dim_38264;\n            slice_72294 = next_stride_54862 * slice_72293;\n            rep_i_72289 = squot64(sext_i32_i64(i_72292), slice_72293);\n            remnant_72295 = sext_i32_i64(i_72292) - rep_i_72289 * slice_72293;\n            rep_i_72290 = remnant_72295;\n            remnant_72296 = remnant_72295 - rep_i_72290;\n            if ((sle64((int64_t) 0, rep_i_72289) && slt64(rep_i_72289, next_stride_54862)) && (sle64((int64_t) 0, rep_i_72290) && slt64(rep_i_72290, dim_38264))) {\n                double tmp_72297 = ((__global double *) mem_param_69241)[ext_69817 + rep_i_72290];\n                \n                ((__local double *) color_71397)[rep_i_72289 * dim_38264 + rep_i_72290] = tmp_72297;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        i_62675 = (int64_t) 0;\n        for (int64_t k_62674 = 0; k_62674 < next_stride_54862; k_62674++) {\n            int64_t j_62679;\n            bool cond_62680;\n            bool x_71018;\n            bool cond_62682;\n            bool x_62684;\n            bool y_62685;\n            bool bounds_check_62686;\n            bool loop_not_taken_71010;\n            bool protect_assert_disj_71011;\n            bool protect_assert_disj_71021;\n            bool index_certs_62687;\n            int64_t s", "lice_62688;\n            int64_t slice_62689;\n            bool protect_cond_conj_71022;\n            int64_t leq_arg1_62690;\n            bool x_62691;\n            bool bounds_check_62692;\n            bool protect_assert_disj_71015;\n            bool protect_assert_disj_71024;\n            bool index_certs_62693;\n            int64_t slice_62694;\n            int64_t leq_arg0_62695;\n            bool lifted_lambda_res_62696;\n            bool x_71101;\n            bool cond_62681;\n            bool protect_assert_disj_70897;\n            bool index_certs_62713;\n            bool loop_not_taken_70892;\n            bool protect_assert_disj_70893;\n            bool index_certs_62705;\n            int64_t binop_y_69835;\n            int64_t binop_y_69837;\n            int64_t ext_69839;\n            int64_t loopres_62697;\n            int64_t loopres_62698;\n            int64_t loopres_62700;\n            int32_t num_chunks_72302;\n            int64_t i_tmp_72298;\n            \n            j_62679 = sub64(k_62674, i_62675);\n            cond_62680 = j_62679 == j_m_i_54884;\n            x_71018 = !cond_62680;\n            cond_62682 = slt64(i_62675, stride_54861);\n            x_62684 = sle64((int64_t) 0, j_62679);\n            y_62685 = slt64(j_62679, j_m_i_54884);\n            bounds_check_62686 = x_62684 && y_62685;\n            loop_not_taken_71010 = !cond_62682;\n            protect_assert_disj_71011 = bounds_check_62686 || loop_not_taken_71010;\n            protect_assert_disj_71021 = cond_62680 || protect_assert_disj_71011;\n            if (!protect_assert_disj_71021) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 48) == -1) {\n                        global_failure_args[0] = (int64_t) j_62679;\n                        global_failure_args[1] = (int64_t) j_m_i_54884;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            slice_62688 = stride_54861 + ", "j_62679;\n            slice_62689 = start_62635 + slice_62688;\n            protect_cond_conj_71022 = cond_62682 && x_71018;\n            \n          error_4:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_71022) {\n                int64_t x_71012 = ((__global int64_t *) mem_param_69237)[slice_62689];\n                \n                leq_arg1_62690 = x_71012;\n            } else {\n                leq_arg1_62690 = (int64_t) 0;\n            }\n            x_62691 = sle64((int64_t) 0, i_62675);\n            bounds_check_62692 = cond_62682 && x_62691;\n            protect_assert_disj_71015 = bounds_check_62692 || loop_not_taken_71010;\n            protect_assert_disj_71024 = cond_62680 || protect_assert_disj_71015;\n            if (!protect_assert_disj_71024) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 49) == -1) {\n                        global_failure_args[0] = (int64_t) i_62675;\n                        global_failure_args[1] = (int64_t) stride_54861;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_5;\n                }\n            }\n            slice_62694 = start_62635 + i_62675;\n            \n          error_5:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_71022) {\n                int64_t x_71016 = ((__global int64_t *) mem_param_69237)[slice_62694];\n                \n                leq_arg0_62695 = x_71016;\n            } else {\n                leq_arg0_62695 = (int64_t) 0;\n            }\n            lifted_lambda_res_62696 = sle64(leq_arg0_62695, leq_arg1_62690);\n            x_71101 = cond_62682 && lifted_lambda_res_62696;\n            cond_62681 = cond_62680 || x_71101;\n            protect_assert_disj_70897 = cond_62",
                                    "681 || bounds_check_62686;\n            if (!protect_assert_disj_70897) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 50) == -1) {\n                        global_failure_args[0] = (int64_t) j_62679;\n                        global_failure_args[1] = (int64_t) j_m_i_54884;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            loop_not_taken_70892 = !cond_62681;\n            protect_assert_disj_70893 = bounds_check_62692 || loop_not_taken_70892;\n            if (!protect_assert_disj_70893) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 51) == -1) {\n                        global_failure_args[0] = (int64_t) i_62675;\n                        global_failure_args[1] = (int64_t) stride_54861;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            binop_y_69835 = dim_38264 * slice_62689;\n            binop_y_69837 = dim_38264 * slice_62694;\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_62681) {\n                ext_69839 = binop_y_69837;\n            } else {\n                ext_69839 = binop_y_69835;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_62681) {\n                int64_t tmp_62701;\n                int64_t tmp_62707;\n                int64_t tmp_62709;\n                \n                tmp_62701 = add64((int64_t) 1, i_62675);\n                tmp_62707 = ((__global int64_t *) mem_param_69237)[slice_62694];\n                tmp_62709 = ((__global int64_t *) mem_param_69244)[slice_62694];\n                loopres_62697 = tmp_62701;\n                loopres_62698 = tmp_62707;\n                loopres_62700 = t", "mp_62709;\n            } else {\n                int64_t tmp_62716;\n                int64_t tmp_62718;\n                \n                tmp_62716 = ((__global int64_t *) mem_param_69237)[slice_62689];\n                tmp_62718 = ((__global int64_t *) mem_param_69244)[slice_62689];\n                loopres_62697 = i_62675;\n                loopres_62698 = tmp_62716;\n                loopres_62700 = tmp_62718;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_72240 == 0) {\n                ((__local int64_t *) color_71399)[k_62674] = loopres_62698;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            num_chunks_72302 = sdiv_up32(sext_i64_i32(dim_38264), sext_i64_i32(computed_tblock_sizze_62376));\n            for (int32_t chunk_i_72303 = 0; chunk_i_72303 < num_chunks_72302; chunk_i_72303++) {\n                int32_t i_72304 = chunk_i_72303 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n                \n                if (slt32(i_72304, sext_i64_i32(dim_38264))) {\n                    ((__local double *) color_71397)[k_62674 * dim_38264 + sext_i32_i64(i_72304)] = ((__global double *) mem_param_69241)[ext_69839 + sext_i32_i64(i_72304)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_72240 == 0) {\n                ((__local int64_t *) color_71398)[k_62674] = loopres_62700;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            i_tmp_72298 = loopres_62697;\n            i_62675 = i_tmp_72298;\n        }\n        data_62670 = i_62675;\n        ext_mem_69859 = color_71399;\n        ext_mem_69856 = color_71397;\n        ext_mem_69852 = color_71398;\n    } else {\n        int64_t phys_tid_62726;\n        int64_t gtid_62725;\n        int64_t phys_tid_62832;\n        int64_t gtid_62831;\n        int64_t phys_tid_62903;\n        int64_t gtid_62902;\n        \n        phys_tid_62726 = sext_i32_i64(local_tid_72240);\n        gtid_62725 =", " sext_i32_i64(sext_i64_i32(ltid_pre_72271));\n        if (slt64(gtid_62725, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883)) {\n            int64_t split_count_arg3_62728;\n            int64_t defunc_0_split_count_res_62729;\n            int64_t defunc_0_split_count_res_62730;\n            int64_t defunc_0_split_count_res_62731;\n            int64_t defunc_0_split_count_res_62732;\n            int64_t defunc_0_split_count_res_62733;\n            bool loop_cond_62734;\n            bool defunc_0_split_count_res_62735;\n            int64_t defunc_0_split_count_res_62736;\n            int64_t defunc_0_split_count_res_62737;\n            int64_t defunc_0_split_count_res_62738;\n            int64_t defunc_0_split_count_res_62739;\n            int64_t defunc_0_split_count_res_62740;\n            bool loop_while_62741;\n            int64_t ss_62742;\n            int64_t ss_62743;\n            int64_t tt_62744;\n            int64_t tt_62745;\n            int64_t count_62746;\n            \n            split_count_arg3_62728 = mul64(greatest_divisor_leq_than_res_54727, gtid_62725);\n            futrts_lifted_normalizze_9970(&defunc_0_split_count_res_62729, &defunc_0_split_count_res_62730, &defunc_0_split_count_res_62731, &defunc_0_split_count_res_62732, &defunc_0_split_count_res_62733, (int64_t) 0, stride_54861, (int64_t) 0, j_m_i_54884, split_count_arg3_62728);\n            loop_cond_62734 = slt64((int64_t) 0, defunc_0_split_count_res_62733);\n            loop_while_62741 = loop_cond_62734;\n            ss_62742 = defunc_0_split_count_res_62729;\n            ss_62743 = defunc_0_split_count_res_62730;\n            tt_62744 = defunc_0_split_count_res_62731;\n            tt_62745 = defunc_0_split_count_res_62732;\n            count_62746 = defunc_0_split_count_res_62733;\n            while (loop_while_62741) {\n                int64_t zlze_lhs_62747;\n                bool cond_62748;\n                int64_t defunc_0_lifted_step_res_62749;\n                int64_t defunc_0_lifted_step_res_62750;\n                in",
                                    "t64_t defunc_0_lifted_step_res_62751;\n                int64_t defunc_0_lifted_step_res_62752;\n                int64_t loopres_62815;\n                int64_t loopres_62816;\n                int64_t loopres_62817;\n                int64_t loopres_62818;\n                int64_t loopres_62819;\n                bool loop_cond_62820;\n                bool loop_while_tmp_72305;\n                int64_t ss_tmp_72306;\n                int64_t ss_tmp_72307;\n                int64_t tt_tmp_72308;\n                int64_t tt_tmp_72309;\n                int64_t count_tmp_72310;\n                \n                zlze_lhs_62747 = sub64(ss_62743, ss_62742);\n                cond_62748 = sle64(zlze_lhs_62747, (int64_t) 0);\n                if (cond_62748) {\n                    int64_t tmp_62753 = add64(tt_62744, count_62746);\n                    \n                    defunc_0_lifted_step_res_62749 = ss_62742;\n                    defunc_0_lifted_step_res_62750 = tmp_62753;\n                    defunc_0_lifted_step_res_62751 = tt_62745;\n                    defunc_0_lifted_step_res_62752 = (int64_t) 0;\n                } else {\n                    int64_t zlze_lhs_62754;\n                    bool cond_62755;\n                    int64_t defunc_0_lifted_step_res_f_res_62756;\n                    int64_t defunc_0_lifted_step_res_f_res_62757;\n                    int64_t defunc_0_lifted_step_res_f_res_62758;\n                    int64_t defunc_0_lifted_step_res_f_res_62759;\n                    \n                    zlze_lhs_62754 = sub64(tt_62745, tt_62744);\n                    cond_62755 = sle64(zlze_lhs_62754, (int64_t) 0);\n                    if (cond_62755) {\n                        int64_t tmp_62760 = add64(ss_62742, count_62746);\n                        \n                        defunc_0_lifted_step_res_f_res_62756 = tmp_62760;\n                        defunc_0_lifted_step_res_f_res_62757 = tt_62744;\n                        defunc_0_lifted_step_res_f_res_62758 = tt_62745;\n                        defunc_0_", "lifted_step_res_f_res_62759 = (int64_t) 0;\n                    } else {\n                        bool cond_62761;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_62762;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_62763;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_62764;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_62765;\n                        \n                        cond_62761 = count_62746 == (int64_t) 1;\n                        if (cond_62761) {\n                            bool x_62766;\n                            bool y_62767;\n                            bool bounds_check_62768;\n                            bool index_certs_62769;\n                            bool x_62772;\n                            bool y_62773;\n                            bool bounds_check_62774;\n                            bool index_certs_62775;\n                            int64_t slice_62770;\n                            int64_t leq_arg1_62771;\n                            int64_t slice_62776;\n                            int64_t slice_62777;\n                            int64_t leq_arg0_62778;\n                            bool lifted_lambda_res_62779;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_62780;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_62781;\n                            \n                            x_62766 = sle64((int64_t) 0, ss_62742);\n                            y_62767 = slt64(ss_62742, stride_54861);\n                            bounds_check_62768 = x_62766 && y_62767;\n                            if (!bounds_check_62768) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 52) == -1) {\n                                        global_failure_args[0] = (int64_t) ss_62742;\n                                        global_failure_args[1] = (int64_t) stride_54", "861;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_8;\n                                }\n                            }\n                            x_62772 = sle64((int64_t) 0, tt_62744);\n                            y_62773 = slt64(tt_62744, j_m_i_54884);\n                            bounds_check_62774 = x_62772 && y_62773;\n                            if (!bounds_check_62774) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 53) == -1) {\n                                        global_failure_args[0] = (int64_t) tt_62744;\n                                        global_failure_args[1] = (int64_t) j_m_i_54884;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_8;\n                                }\n                            }\n                            slice_62770 = start_62635 + ss_62742;\n                            leq_arg1_62771 = ((__global int64_t *) mem_param_69237)[slice_62770];\n                            slice_62776 = stride_54861 + tt_62744;\n                            slice_62777 = start_62635 + slice_62776;\n                            leq_arg0_62778 = ((__global int64_t *) mem_param_69237)[slice_62777];\n                            lifted_lambda_res_62779 = sle64(leq_arg0_62778, leq_arg1_62771);\n                            if (lifted_lambda_res_62779) {\n                                int64_t tmp_62782 = add64((int64_t) 1, tt_62744);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_62780 = ss_62742;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_62781 = tmp_62782;\n                            } else {\n                                int64_t tm",
                                    "p_62783 = add64((int64_t) 1, ss_62742);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_62780 = tmp_62783;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_62781 = tt_62744;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_62762 = defunc_0_lifted_step_res_f_res_f_res_t_res_62780;\n                            defunc_0_lifted_step_res_f_res_f_res_62763 = defunc_0_lifted_step_res_f_res_f_res_t_res_62781;\n                            defunc_0_lifted_step_res_f_res_f_res_62764 = tt_62745;\n                            defunc_0_lifted_step_res_f_res_f_res_62765 = (int64_t) 0;\n                        } else {\n                            int64_t m_62784;\n                            int64_t n_62785;\n                            bool cond_62786;\n                            int64_t zgze_lhs_62787;\n                            bool cond_f_res_62788;\n                            bool x_62789;\n                            bool y_62790;\n                            bool cond_62791;\n                            bool leq_y_x_62792;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_62809;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_62810;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_62811;\n                            \n                            m_62784 = sdiv64(count_62746, (int64_t) 2);\n                            n_62785 = sub64(count_62746, m_62784);\n                            cond_62786 = n_62785 == (int64_t) 0;\n                            zgze_lhs_62787 = add64(ss_62742, m_62784);\n                            cond_f_res_62788 = sle64(ss_62743, zgze_lhs_62787);\n                            x_62789 = !cond_62786;\n                            y_62790 = cond_f_res_62788 && x_62789;\n                            cond_62791 = cond_62786 || y_62790;\n                       ", "     if (cond_62791) {\n                                leq_y_x_62792 = 1;\n                            } else {\n                                bool x_62793;\n                                bool y_62794;\n                                bool bounds_check_62795;\n                                bool index_certs_62796;\n                                int64_t zm_lhs_62799;\n                                int64_t leq_arg0_62800;\n                                bool x_62801;\n                                bool y_62802;\n                                bool bounds_check_62803;\n                                bool index_certs_62804;\n                                int64_t slice_62797;\n                                int64_t leq_arg1_62798;\n                                int64_t slice_62805;\n                                int64_t slice_62806;\n                                int64_t leq_arg0_62807;\n                                bool lifted_lambda_res_62808;\n                                \n                                x_62793 = sle64((int64_t) 0, zgze_lhs_62787);\n                                y_62794 = slt64(zgze_lhs_62787, stride_54861);\n                                bounds_check_62795 = x_62793 && y_62794;\n                                if (!bounds_check_62795) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 54) == -1) {\n                                            global_failure_args[0] = (int64_t) zgze_lhs_62787;\n                                            global_failure_args[1] = (int64_t) stride_54861;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_8;\n                                    }\n                                }\n                                zm_lhs_62799 = add64(tt_62744, n_62785);\n                                leq_arg", "0_62800 = sub64(zm_lhs_62799, (int64_t) 1);\n                                x_62801 = sle64((int64_t) 0, leq_arg0_62800);\n                                y_62802 = slt64(leq_arg0_62800, j_m_i_54884);\n                                bounds_check_62803 = x_62801 && y_62802;\n                                if (!bounds_check_62803) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 55) == -1) {\n                                            global_failure_args[0] = (int64_t) leq_arg0_62800;\n                                            global_failure_args[1] = (int64_t) j_m_i_54884;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_8;\n                                    }\n                                }\n                                slice_62797 = start_62635 + zgze_lhs_62787;\n                                leq_arg1_62798 = ((__global int64_t *) mem_param_69237)[slice_62797];\n                                slice_62805 = stride_54861 + leq_arg0_62800;\n                                slice_62806 = start_62635 + slice_62805;\n                                leq_arg0_62807 = ((__global int64_t *) mem_param_69237)[slice_62806];\n                                lifted_lambda_res_62808 = sle64(leq_arg0_62807, leq_arg1_62798);\n                                leq_y_x_62792 = lifted_lambda_res_62808;\n                            }\n                            if (leq_y_x_62792) {\n                                int64_t tmp_62812;\n                                int64_t tmp_62813;\n                                \n                                tmp_62812 = add64(tt_62744, n_62785);\n                                tmp_62813 = sub64(count_62746, n_62785);\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_62809 = tmp_62812;\n                ",
                                    "                defunc_0_lifted_step_res_f_res_f_res_f_res_62810 = tt_62745;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_62811 = tmp_62813;\n                            } else {\n                                int64_t tmp_62814 = add64(tt_62744, n_62785);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_f_res_62809 = tt_62744;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_62810 = tmp_62814;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_62811 = count_62746;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_62762 = ss_62742;\n                            defunc_0_lifted_step_res_f_res_f_res_62763 = defunc_0_lifted_step_res_f_res_f_res_f_res_62809;\n                            defunc_0_lifted_step_res_f_res_f_res_62764 = defunc_0_lifted_step_res_f_res_f_res_f_res_62810;\n                            defunc_0_lifted_step_res_f_res_f_res_62765 = defunc_0_lifted_step_res_f_res_f_res_f_res_62811;\n                        }\n                        defunc_0_lifted_step_res_f_res_62756 = defunc_0_lifted_step_res_f_res_f_res_62762;\n                        defunc_0_lifted_step_res_f_res_62757 = defunc_0_lifted_step_res_f_res_f_res_62763;\n                        defunc_0_lifted_step_res_f_res_62758 = defunc_0_lifted_step_res_f_res_f_res_62764;\n                        defunc_0_lifted_step_res_f_res_62759 = defunc_0_lifted_step_res_f_res_f_res_62765;\n                    }\n                    defunc_0_lifted_step_res_62749 = defunc_0_lifted_step_res_f_res_62756;\n                    defunc_0_lifted_step_res_62750 = defunc_0_lifted_step_res_f_res_62757;\n                    defunc_0_lifted_step_res_62751 = defunc_0_lifted_step_res_f_res_62758;\n                    defunc_0_lifted_step_res_62752 = defunc_0_lifted_step_res_f_res_62759;\n                }\n                futrts_lifted_normalizze_9970(&loopres_628", "15, &loopres_62816, &loopres_62817, &loopres_62818, &loopres_62819, defunc_0_lifted_step_res_62749, ss_62743, defunc_0_lifted_step_res_62750, defunc_0_lifted_step_res_62751, defunc_0_lifted_step_res_62752);\n                loop_cond_62820 = slt64((int64_t) 0, loopres_62819);\n                loop_while_tmp_72305 = loop_cond_62820;\n                ss_tmp_72306 = loopres_62815;\n                ss_tmp_72307 = loopres_62816;\n                tt_tmp_72308 = loopres_62817;\n                tt_tmp_72309 = loopres_62818;\n                count_tmp_72310 = loopres_62819;\n                loop_while_62741 = loop_while_tmp_72305;\n                ss_62742 = ss_tmp_72306;\n                ss_62743 = ss_tmp_72307;\n                tt_62744 = tt_tmp_72308;\n                tt_62745 = tt_tmp_72309;\n                count_62746 = count_tmp_72310;\n            }\n            defunc_0_split_count_res_62735 = loop_while_62741;\n            defunc_0_split_count_res_62736 = ss_62742;\n            defunc_0_split_count_res_62737 = ss_62743;\n            defunc_0_split_count_res_62738 = tt_62744;\n            defunc_0_split_count_res_62739 = tt_62745;\n            defunc_0_split_count_res_62740 = count_62746;\n            ((__local int64_t *) color_71413)[gtid_62725] = defunc_0_split_count_res_62736;\n            ((__local int64_t *) color_71405)[gtid_62725] = defunc_0_split_count_res_62738;\n        }\n        \n      error_8:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_62832 = sext_i32_i64(local_tid_72240);\n        gtid_62831 = sext_i32_i64(sext_i64_i32(ltid_pre_72268));\n        if (slt64(gtid_62831, num_blocks_54882)) {\n            bool y_62835;\n            bool index_certs_62837;\n            int64_t defunc_0_f_res_62838;\n            int64_t defunc_0_f_res_62839;\n            int64_t tmp_62840;\n            bool x_62841;\n            bool y_62842;\n            bool bounds_check_62843;\n            bool index_certs_6284", "4;\n            int64_t defunc_0_f_res_62845;\n            int64_t defunc_0_f_res_62846;\n            int64_t merge_sequential_arg2_62847;\n            int64_t merge_sequential_arg2_62848;\n            int64_t j_m_i_62849;\n            bool empty_slice_62850;\n            int64_t m_62851;\n            int64_t i_p_m_t_s_62852;\n            bool zzero_leq_i_p_m_t_s_62853;\n            bool i_p_m_t_s_leq_w_62854;\n            bool zzero_lte_i_62855;\n            bool i_lte_j_62856;\n            bool y_62857;\n            bool y_62858;\n            bool forwards_ok_62859;\n            bool ok_or_empty_62860;\n            bool index_certs_62861;\n            int64_t j_m_i_62862;\n            bool empty_slice_62863;\n            int64_t m_62864;\n            int64_t i_p_m_t_s_62865;\n            bool zzero_leq_i_p_m_t_s_62866;\n            bool i_p_m_t_s_leq_w_62867;\n            bool zzero_lte_i_62868;\n            bool i_lte_j_62869;\n            bool y_62870;\n            bool y_62871;\n            bool forwards_ok_62872;\n            bool ok_or_empty_62873;\n            bool index_certs_62874;\n            bool cond_62875;\n            bool y_62884;\n            bool protect_assert_disj_70918;\n            bool index_certs_62885;\n            int64_t slice_62886;\n            int64_t binop_y_69745;\n            int64_t slice_62880;\n            int64_t binop_y_69747;\n            int64_t ext_69749;\n            int64_t dummy_62876;\n            int64_t dummy_62878;\n            \n            y_62835 = slt64(gtid_62831, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);\n            if (!y_62835) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 56) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_62831;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n         ",
                                    "   }\n            defunc_0_f_res_62838 = ((__local int64_t *) color_71413)[gtid_62831];\n            defunc_0_f_res_62839 = ((__local int64_t *) color_71405)[gtid_62831];\n            tmp_62840 = add64((int64_t) 1, gtid_62831);\n            x_62841 = sle64((int64_t) 0, tmp_62840);\n            y_62842 = slt64(tmp_62840, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);\n            bounds_check_62843 = x_62841 && y_62842;\n            if (!bounds_check_62843) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 57) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_62840;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            defunc_0_f_res_62845 = ((__local int64_t *) color_71413)[tmp_62840];\n            defunc_0_f_res_62846 = ((__local int64_t *) color_71405)[tmp_62840];\n            merge_sequential_arg2_62847 = add64(stride_54861, defunc_0_f_res_62839);\n            merge_sequential_arg2_62848 = add64(stride_54861, defunc_0_f_res_62846);\n            j_m_i_62849 = sub64(merge_sequential_arg2_62848, merge_sequential_arg2_62847);\n            empty_slice_62850 = j_m_i_62849 == (int64_t) 0;\n            m_62851 = sub64(j_m_i_62849, (int64_t) 1);\n            i_p_m_t_s_62852 = add64(merge_sequential_arg2_62847, m_62851);\n            zzero_leq_i_p_m_t_s_62853 = sle64((int64_t) 0, i_p_m_t_s_62852);\n            i_p_m_t_s_leq_w_62854 = slt64(i_p_m_t_s_62852, next_stride_54862);\n            zzero_lte_i_62855 = sle64((int64_t) 0, merge_sequential_arg2_62847);\n            i_lte_j_62856 = sle64(merge_sequential_arg2_62847, merge_sequential_arg2_62848);\n            y_62857 = i_p_m_t_s_leq_w_62854 && zzero_lte_i_62855;\n            y_62858 = zzero_leq_i_p_m_t_s_62853 && y_62857;\n            forwards_ok_62859 = i_lte_j_62856 ", "&& y_62858;\n            ok_or_empty_62860 = empty_slice_62850 || forwards_ok_62859;\n            if (!ok_or_empty_62860) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 58) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_62847;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_62848;\n                        global_failure_args[2] = (int64_t) next_stride_54862;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            j_m_i_62862 = sub64(defunc_0_f_res_62845, defunc_0_f_res_62838);\n            empty_slice_62863 = j_m_i_62862 == (int64_t) 0;\n            m_62864 = sub64(j_m_i_62862, (int64_t) 1);\n            i_p_m_t_s_62865 = add64(defunc_0_f_res_62838, m_62864);\n            zzero_leq_i_p_m_t_s_62866 = sle64((int64_t) 0, i_p_m_t_s_62865);\n            i_p_m_t_s_leq_w_62867 = slt64(i_p_m_t_s_62865, next_stride_54862);\n            zzero_lte_i_62868 = sle64((int64_t) 0, defunc_0_f_res_62838);\n            i_lte_j_62869 = sle64(defunc_0_f_res_62838, defunc_0_f_res_62845);\n            y_62870 = i_p_m_t_s_leq_w_62867 && zzero_lte_i_62868;\n            y_62871 = zzero_leq_i_p_m_t_s_62866 && y_62870;\n            forwards_ok_62872 = i_lte_j_62869 && y_62871;\n            ok_or_empty_62873 = empty_slice_62863 || forwards_ok_62872;\n            if (!ok_or_empty_62873) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 59) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_62838;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_62845;\n                        global_failure_args[2] = (int64_t) next_stride_54862;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            c", "ond_62875 = slt64((int64_t) 0, j_m_i_62862);\n            y_62884 = slt64((int64_t) 0, j_m_i_62849);\n            protect_assert_disj_70918 = cond_62875 || y_62884;\n            if (!protect_assert_disj_70918) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 60) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_62849;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            slice_62886 = start_62635 + merge_sequential_arg2_62847;\n            binop_y_69745 = dim_38264 * slice_62886;\n            slice_62880 = start_62635 + defunc_0_f_res_62838;\n            binop_y_69747 = dim_38264 * slice_62880;\n            if (cond_62875) {\n                ext_69749 = binop_y_69747;\n            } else {\n                ext_69749 = binop_y_69745;\n            }\n            if (cond_62875) {\n                int64_t head_res_62881;\n                int64_t head_res_62883;\n                \n                head_res_62881 = ((__global int64_t *) mem_param_69237)[slice_62880];\n                head_res_62883 = ((__global int64_t *) mem_param_69244)[slice_62880];\n                dummy_62876 = head_res_62881;\n                dummy_62878 = head_res_62883;\n            } else {\n                int64_t head_res_62887;\n                int64_t head_res_62889;\n                \n                head_res_62887 = ((__global int64_t *) mem_param_69237)[slice_62886];\n                head_res_62889 = ((__global int64_t *) mem_param_69244)[slice_62886];\n                dummy_62876 = head_res_62887;\n                dummy_62878 = head_res_62889;\n            }\n            ((__local int64_t *) color_71404)[gtid_62831] = dummy_62876;\n            ((__local int64_t *) color_71403)[gtid_62831] = dummy_62878;\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n            ",
                                    "    ((__local double *) color_71412)[gtid_62831 * dim_38264 + i_0] = ((__global double *) mem_param_69241)[ext_69749 + i_0];\n            }\n            ((__local int64_t *) color_71411)[gtid_62831] = defunc_0_f_res_62838;\n            ((__local int64_t *) color_71410)[gtid_62831] = merge_sequential_arg2_62847;\n            ((__local int64_t *) color_71409)[gtid_62831] = j_m_i_62849;\n            ((__local int64_t *) color_71407)[gtid_62831] = j_m_i_62862;\n        }\n        \n      error_9:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_72314 = 0; chunk_i_72314 < num_chunks_72233; chunk_i_72314++) {\n            int32_t i_72315;\n            int64_t slice_72316;\n            int64_t slice_72317;\n            int64_t rep_i_72312;\n            int64_t remnant_72318;\n            int64_t rep_i_72313;\n            int64_t remnant_72319;\n            \n            i_72315 = chunk_i_72314 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n            slice_72316 = num_blocks_54882;\n            slice_72317 = greatest_divisor_leq_than_res_54727 * slice_72316;\n            rep_i_72312 = squot64(sext_i32_i64(i_72315), slice_72316);\n            remnant_72318 = sext_i32_i64(i_72315) - rep_i_72312 * slice_72316;\n            rep_i_72313 = remnant_72318;\n            remnant_72319 = remnant_72318 - rep_i_72313;\n            if ((sle64((int64_t) 0, rep_i_72312) && slt64(rep_i_72312, greatest_divisor_leq_than_res_54727)) && (sle64((int64_t) 0, rep_i_72313) && slt64(rep_i_72313, num_blocks_54882))) {\n                int64_t tmp_72320 = ((__local int64_t *) color_71404)[rep_i_72313];\n                \n                ((__local int64_t *) color_71405)[rep_i_72312 * num_blocks_54882 + rep_i_72313] = tmp_72320;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_72324 = 0; chunk_i_72324 < num_chunks_72233; chunk_i_72324++) {\n            int32_t i_72325;", "\n            int64_t slice_72326;\n            int64_t slice_72327;\n            int64_t rep_i_72322;\n            int64_t remnant_72328;\n            int64_t rep_i_72323;\n            int64_t remnant_72329;\n            \n            i_72325 = chunk_i_72324 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n            slice_72326 = num_blocks_54882;\n            slice_72327 = greatest_divisor_leq_than_res_54727 * slice_72326;\n            rep_i_72322 = squot64(sext_i32_i64(i_72325), slice_72326);\n            remnant_72328 = sext_i32_i64(i_72325) - rep_i_72322 * slice_72326;\n            rep_i_72323 = remnant_72328;\n            remnant_72329 = remnant_72328 - rep_i_72323;\n            if ((sle64((int64_t) 0, rep_i_72322) && slt64(rep_i_72322, greatest_divisor_leq_than_res_54727)) && (sle64((int64_t) 0, rep_i_72323) && slt64(rep_i_72323, num_blocks_54882))) {\n                int64_t tmp_72330 = ((__local int64_t *) color_71403)[rep_i_72323];\n                \n                ((__local int64_t *) color_71404)[rep_i_72322 * num_blocks_54882 + rep_i_72323] = tmp_72330;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_72335 = 0; chunk_i_72335 < num_chunks_72232; chunk_i_72335++) {\n            int32_t i_72336;\n            int64_t slice_72337;\n            int64_t slice_72338;\n            int64_t slice_72339;\n            int64_t rep_i_72332;\n            int64_t remnant_72340;\n            int64_t rep_i_72333;\n            int64_t remnant_72341;\n            int64_t rep_i_72334;\n            int64_t remnant_72342;\n            \n            i_72336 = chunk_i_72335 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n            slice_72337 = num_blocks_54882;\n            slice_72338 = dim_38264 * slice_72337;\n            slice_72339 = greatest_divisor_leq_than_res_54727 * slice_72338;\n            rep_i_72332 = squot64(sext_i32_i64(i_72336), slice_72338);\n            remnant_72340 = sext_i32_i64(i_72336) - rep_i_72332 * slice_723", "38;\n            rep_i_72333 = squot64(remnant_72340, slice_72337);\n            remnant_72341 = remnant_72340 - rep_i_72333 * slice_72337;\n            rep_i_72334 = remnant_72341;\n            remnant_72342 = remnant_72341 - rep_i_72334;\n            if (((sle64((int64_t) 0, rep_i_72332) && slt64(rep_i_72332, greatest_divisor_leq_than_res_54727)) && (sle64((int64_t) 0, rep_i_72333) && slt64(rep_i_72333, dim_38264))) && (sle64((int64_t) 0, rep_i_72334) && slt64(rep_i_72334, num_blocks_54882))) {\n                double tmp_72343 = ((__local double *) color_71412)[rep_i_72333 + rep_i_72334 * dim_38264];\n                \n                ((__local double *) color_71403)[rep_i_72332 * (num_blocks_54882 * dim_38264) + rep_i_72333 * num_blocks_54882 + rep_i_72334] = tmp_72343;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_62903 = sext_i32_i64(local_tid_72240);\n        gtid_62902 = sext_i32_i64(sext_i64_i32(ltid_pre_72268));\n        if (slt64(gtid_62902, num_blocks_54882)) {\n            int64_t defunc_0_f_res_62904;\n            int64_t merge_sequential_arg2_62905;\n            int64_t j_m_i_62906;\n            bool index_certs_62907;\n            int64_t j_m_i_62908;\n            bool index_certs_62909;\n            int64_t data_62913;\n            int64_t i_62918;\n            \n            defunc_0_f_res_62904 = ((__local int64_t *) color_71411)[gtid_62902];\n            merge_sequential_arg2_62905 = ((__local int64_t *) color_71410)[gtid_62902];\n            j_m_i_62906 = ((__local int64_t *) color_71409)[gtid_62902];\n            index_certs_62907 = 0;\n            j_m_i_62908 = ((__local int64_t *) color_71407)[gtid_62902];\n            index_certs_62909 = 0;\n            i_62918 = (int64_t) 0;\n            for (int64_t k_62917 = 0; k_62917 < greatest_divisor_leq_than_res_54727; k_62917++) {\n                int64_t j_62922;\n                bool cond_62923;\n                bool x_71036;\n                bool cond_62925;\n                bool x_62927;\n       ",
                                    "         bool y_62928;\n                bool bounds_check_62929;\n                bool loop_not_taken_71028;\n                bool protect_assert_disj_71029;\n                bool protect_assert_disj_71039;\n                bool index_certs_62930;\n                int64_t slice_62931;\n                int64_t slice_62932;\n                bool protect_cond_conj_71040;\n                int64_t leq_arg1_62933;\n                bool x_62934;\n                bool bounds_check_62935;\n                bool protect_assert_disj_71033;\n                bool protect_assert_disj_71042;\n                bool index_certs_62936;\n                int64_t slice_62937;\n                int64_t slice_62938;\n                int64_t leq_arg0_62939;\n                bool lifted_lambda_res_62940;\n                bool x_71104;\n                bool cond_62924;\n                bool protect_assert_disj_70910;\n                bool index_certs_62958;\n                bool loop_not_taken_70905;\n                bool protect_assert_disj_70906;\n                bool index_certs_62949;\n                int64_t binop_y_69788;\n                int64_t binop_y_69790;\n                int64_t ext_69792;\n                int64_t loopres_62941;\n                int64_t loopres_62942;\n                int64_t loopres_62944;\n                int64_t i_tmp_72344;\n                \n                j_62922 = sub64(k_62917, i_62918);\n                cond_62923 = j_62922 == j_m_i_62906;\n                x_71036 = !cond_62923;\n                cond_62925 = slt64(i_62918, j_m_i_62908);\n                x_62927 = sle64((int64_t) 0, j_62922);\n                y_62928 = slt64(j_62922, j_m_i_62906);\n                bounds_check_62929 = x_62927 && y_62928;\n                loop_not_taken_71028 = !cond_62925;\n                protect_assert_disj_71029 = bounds_check_62929 || loop_not_taken_71028;\n                protect_assert_disj_71039 = cond_62923 || protect_assert_disj_71029;\n                if (!protect_assert_disj_71039) {\n                    {", "\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 61) == -1) {\n                            global_failure_args[0] = (int64_t) j_62922;\n                            global_failure_args[1] = (int64_t) j_m_i_62906;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                slice_62931 = merge_sequential_arg2_62905 + j_62922;\n                slice_62932 = start_62635 + slice_62931;\n                protect_cond_conj_71040 = cond_62925 && x_71036;\n                if (protect_cond_conj_71040) {\n                    int64_t x_71030 = ((__global int64_t *) mem_param_69237)[slice_62932];\n                    \n                    leq_arg1_62933 = x_71030;\n                } else {\n                    leq_arg1_62933 = (int64_t) 0;\n                }\n                x_62934 = sle64((int64_t) 0, i_62918);\n                bounds_check_62935 = cond_62925 && x_62934;\n                protect_assert_disj_71033 = bounds_check_62935 || loop_not_taken_71028;\n                protect_assert_disj_71042 = cond_62923 || protect_assert_disj_71033;\n                if (!protect_assert_disj_71042) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 62) == -1) {\n                            global_failure_args[0] = (int64_t) i_62918;\n                            global_failure_args[1] = (int64_t) j_m_i_62908;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                slice_62937 = defunc_0_f_res_62904 + i_62918;\n                slice_62938 = start_62635 + slice_62937;\n                if (protect_cond_conj_71040) {\n                    int64_t x_71034 = ((__global int64_t *) mem_param_69237)[slice_62938];\n                    \n                    leq_arg0_62939 = x_71034;\n", "                } else {\n                    leq_arg0_62939 = (int64_t) 0;\n                }\n                lifted_lambda_res_62940 = sle64(leq_arg0_62939, leq_arg1_62933);\n                x_71104 = cond_62925 && lifted_lambda_res_62940;\n                cond_62924 = cond_62923 || x_71104;\n                protect_assert_disj_70910 = cond_62924 || bounds_check_62929;\n                if (!protect_assert_disj_70910) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 63) == -1) {\n                            global_failure_args[0] = (int64_t) j_62922;\n                            global_failure_args[1] = (int64_t) j_m_i_62906;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                loop_not_taken_70905 = !cond_62924;\n                protect_assert_disj_70906 = bounds_check_62935 || loop_not_taken_70905;\n                if (!protect_assert_disj_70906) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 64) == -1) {\n                            global_failure_args[0] = (int64_t) i_62918;\n                            global_failure_args[1] = (int64_t) j_m_i_62908;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                binop_y_69788 = dim_38264 * slice_62932;\n                binop_y_69790 = dim_38264 * slice_62938;\n                if (cond_62924) {\n                    ext_69792 = binop_y_69790;\n                } else {\n                    ext_69792 = binop_y_69788;\n                }\n                if (cond_62924) {\n                    int64_t tmp_62945;\n                    int64_t tmp_62952;\n                    int64_t tmp_62954;\n                    \n                    tmp_62945 = add64((int64_t) 1, i_62918);\n   ",
                                    "                 tmp_62952 = ((__global int64_t *) mem_param_69237)[slice_62938];\n                    tmp_62954 = ((__global int64_t *) mem_param_69244)[slice_62938];\n                    loopres_62941 = tmp_62945;\n                    loopres_62942 = tmp_62952;\n                    loopres_62944 = tmp_62954;\n                } else {\n                    int64_t tmp_62961;\n                    int64_t tmp_62963;\n                    \n                    tmp_62961 = ((__global int64_t *) mem_param_69237)[slice_62932];\n                    tmp_62963 = ((__global int64_t *) mem_param_69244)[slice_62932];\n                    loopres_62941 = i_62918;\n                    loopres_62942 = tmp_62961;\n                    loopres_62944 = tmp_62963;\n                }\n                ((__local int64_t *) color_71405)[gtid_62902 + k_62917 * num_blocks_54882] = loopres_62942;\n                for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                    ((__local double *) color_71403)[gtid_62902 + k_62917 * lmad_arg_69540 + i_0 * num_blocks_54882] = ((__global double *) mem_param_69241)[ext_69792 + i_0];\n                }\n                ((__local int64_t *) color_71404)[gtid_62902 + k_62917 * num_blocks_54882] = loopres_62944;\n                i_tmp_72344 = loopres_62941;\n                i_62918 = i_tmp_72344;\n            }\n            data_62913 = i_62918;\n            for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n                ((__local int64_t *) color_71402)[gtid_62902 * greatest_divisor_leq_than_res_54727 + i_0] = ((__local int64_t *) color_71405)[gtid_62902 + i_0 * num_blocks_54882];\n            }\n            for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_38264; i_1++) {\n                    ((__local double *) color_71401)[gtid_62902 * (dim_38264 * greatest_divisor_leq_than_res_54727) + (i_0 * dim_38264 + i_1)] = ((__local double *) color_71403)[gtid_62902 + (i_0 * lmad_arg", "_69540 + i_1 * num_blocks_54882)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n                ((__local int64_t *) color_71400)[gtid_62902 * greatest_divisor_leq_than_res_54727 + i_0] = ((__local int64_t *) color_71404)[gtid_62902 + i_0 * num_blocks_54882];\n            }\n        }\n        \n      error_10:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        ext_mem_69859 = color_71402;\n        ext_mem_69856 = color_71401;\n        ext_mem_69852 = color_71400;\n    }\n    num_chunks_72348 = sdiv_up32(sext_i64_i32(next_stride_54862), sext_i64_i32(computed_tblock_sizze_62376));\n    for (int32_t chunk_i_72349 = 0; chunk_i_72349 < num_chunks_72348; chunk_i_72349++) {\n        int32_t i_72350 = chunk_i_72349 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n        \n        if (slt32(i_72350, sext_i64_i32(next_stride_54862))) {\n            ((__global int64_t *) mem_69862)[gtid_62632 * next_stride_54862 + sext_i32_i64(i_72350)] = ((__local int64_t *) ext_mem_69859)[sext_i32_i64(i_72350)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_72351 = sdiv_up32(sext_i64_i32(next_stride_54862) * sext_i64_i32(dim_38264), sext_i64_i32(computed_tblock_sizze_62376));\n    for (int32_t chunk_i_72352 = 0; chunk_i_72352 < num_chunks_72351; chunk_i_72352++) {\n        int32_t i_72353 = chunk_i_72352 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n        \n        if (slt32(i_72353, sext_i64_i32(next_stride_54862) * sext_i64_i32(dim_38264))) {\n            ((__global double *) mem_69866)[gtid_62632 * (dim_38264 * next_stride_54862) + sext_i32_i64(squot32(i_72353, sext_i64_i32(dim_38264))) * dim_38264 + sext_i32_i64(i_72353 - squot32(i_72353, sext_i64_i32(dim_38264)) * sext_i64_i32(dim_38264))] = ((__local double *) ext_mem_69856)[sext_i32_i64(squot32(i_72353, sext_i64_i32(dim_38264))) * dim_38264 + sext", "_i32_i64(i_72353 - squot32(i_72353, sext_i64_i32(dim_38264)) * sext_i64_i32(dim_38264))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_72354 = sdiv_up32(sext_i64_i32(next_stride_54862), sext_i64_i32(computed_tblock_sizze_62376));\n    for (int32_t chunk_i_72355 = 0; chunk_i_72355 < num_chunks_72354; chunk_i_72355++) {\n        int32_t i_72356 = chunk_i_72355 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72240;\n        \n        if (slt32(i_72356, sext_i64_i32(next_stride_54862))) {\n            ((__global int64_t *) mem_69869)[gtid_62632 * next_stride_54862 + sext_i32_i64(i_72356)] = ((__local int64_t *) ext_mem_69852)[sext_i32_i64(i_72356)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_11:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_65373(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t greatest_divisor_leq_than_res_54727, int64_t stride_54861, int64_t next_stride_54862, int64_t num_merges_54866, int64_t num_blocks_54882, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, int64_t j_m_i_54884, int64_t computed_tblock_sizze_62376, int64_t bytes_69503, int64_t bytes_69521, int64_t lmad_arg_69540, int64_t maxSubHelper_71414, int64_t maxSubHelper_71415, int64_t maxSubHelper_71416, int64_t maxSubHelper_71417, int64_t maxSubHelper_71418, int32_t num_chunks_72505, int32_t num_chunks_72506, __global unsigned char *mem_param_69237, __global unsigned char *mem_param_69241, __global unsigned char *mem_param_69244, __global unsigned char *mem_69246, __global unsigned char *mem_69247, __global unsigned char *mem_69568, __global unsigned char *mem_69572, __global unsigned char *mem_69575)\n{\n    volatile __local unsigned char *color_71430_backing_11 = &shared_mem[0];\n    const int64_t color_71430_backing_11_offset = 0 + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsign",
                                    "ed char *color_71429_backing_10 = &shared_mem[color_71430_backing_11_offset];\n    const int64_t color_71429_backing_10_offset = color_71430_backing_11_offset + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71428_backing_9 = &shared_mem[color_71429_backing_10_offset];\n    const int64_t color_71428_backing_9_offset = color_71429_backing_10_offset + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71427_backing_8 = &shared_mem[color_71428_backing_9_offset];\n    const int64_t color_71427_backing_8_offset = color_71428_backing_9_offset + (int64_t) 0;\n    volatile __local unsigned char *color_71426_backing_7 = &shared_mem[color_71427_backing_8_offset];\n    const int64_t color_71426_backing_7_offset = color_71427_backing_8_offset + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71425_backing_6 = &shared_mem[color_71426_backing_7_offset];\n    const int64_t color_71425_backing_6_offset = color_71426_backing_7_offset + (int64_t) 0;\n    volatile __local unsigned char *color_71424_backing_5 = &shared_mem[color_71425_backing_6_offset];\n    const int64_t color_71424_backing_5_offset = color_71425_backing_6_offset + (bytes_69521 + srem64((int64_t) 8 - srem64(bytes_69521, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71423_backing_4 = &shared_mem[color_71424_backing_5_offset];\n    const int64_t color_71423_backing_4_offset = color_71424_backing_5_offset + (maxSubHelper_71418 + srem64((int64_t) 8 - srem64(maxSubHelper_71418, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71422_backing_3 = &shared_mem[color_71423_backing_4_offset];\n    const int64_t color_71422_backing_3_offset = color_71423_backing_4_offset + (maxSubHelper_71417 + srem64((int64_t) 8 - srem64(maxSubHelper_71417, (int64_t) 8), (int64_t", ") 8));\n    volatile __local unsigned char *color_71421_backing_2 = &shared_mem[color_71422_backing_3_offset];\n    const int64_t color_71421_backing_2_offset = color_71422_backing_3_offset + (maxSubHelper_71416 + srem64((int64_t) 8 - srem64(maxSubHelper_71416, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71420_backing_1 = &shared_mem[color_71421_backing_2_offset];\n    const int64_t color_71420_backing_1_offset = color_71421_backing_2_offset + (maxSubHelper_71415 + srem64((int64_t) 8 - srem64(maxSubHelper_71415, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71419_backing_0 = &shared_mem[color_71420_backing_1_offset];\n    const int64_t color_71419_backing_0_offset = color_71420_backing_1_offset + (maxSubHelper_71414 + srem64((int64_t) 8 - srem64(maxSubHelper_71414, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_72511;\n    int32_t tblock_sizze_72514;\n    int32_t wave_sizze_72513;\n    int32_t block_id_72512;\n    int32_t global_tid_72510;\n    int64_t phys_tblock_id_65373;\n    int64_t slice_72518;\n    int64_t slice_72519;\n    int64_t slice_72520;\n    int64_t ltid_pre_72515;\n    int64_t remnant_72521;\n    int64_t ltid_pre_72516;\n    int64_t remnant_72522;\n    int64_t ltid_pre_72517;\n    int64_t remnant_72523;\n    int64_t slice_72526;\n    int64_t slice_72527;\n    int64_t ltid_pre_72524;\n    int64_t remnant_72528;\n    int64_t ltid_pre_72525;\n    int64_t remnant_72529;\n    int64_t slice_72531;\n    int64_t ltid_pre_72530;\n    int64_t remnant_72532;\n    int64_t slice_72534;\n    int64_t ltid_pre_72533;\n    int64_t remnant_72535;\n    int64_t slice_72536;\n    int64_t gtid_65372;\n    int64_t remnant_72537;\n    __local unsigned char *color_71419;\n    __local unsigned char *color_71420;\n    __local unsigned char *color_71421;\n    __local unsigned char *color_71422;\n    __local unsigned char *color_71423;\n    __lo", "cal unsigned char *color_71424;\n    __local unsigned char *color_71425;\n    __local unsigned char *color_71426;\n    __local unsigned char *color_71427;\n    __local unsigned char *color_71428;\n    __local unsigned char *color_71429;\n    __local unsigned char *color_71430;\n    int64_t index_primexp_68263;\n    bool index_certs_65375;\n    bool index_certs_65376;\n    int64_t phys_tid_65380;\n    int64_t gtid_65379;\n    int64_t phys_tid_65485;\n    int64_t gtid_65484;\n    int64_t phys_tid_65556;\n    int64_t gtid_65555;\n    int32_t num_chunks_72581;\n    int32_t num_chunks_72584;\n    int32_t num_chunks_72587;\n    \n    local_tid_72511 = get_local_id(0);\n    tblock_sizze_72514 = get_local_size(0);\n    wave_sizze_72513 = LOCKSTEP_WIDTH;\n    block_id_72512 = get_tblock_id(0);\n    global_tid_72510 = block_id_72512 * tblock_sizze_72514 + local_tid_72511;\n    phys_tblock_id_65373 = sext_i32_i64(block_id_72512);\n    slice_72518 = num_blocks_54882;\n    slice_72519 = dim_38264 * slice_72518;\n    slice_72520 = greatest_divisor_leq_than_res_54727 * slice_72519;\n    ltid_pre_72515 = squot64(sext_i32_i64(local_tid_72511), slice_72519);\n    remnant_72521 = sext_i32_i64(local_tid_72511) - ltid_pre_72515 * slice_72519;\n    ltid_pre_72516 = squot64(remnant_72521, slice_72518);\n    remnant_72522 = remnant_72521 - ltid_pre_72516 * slice_72518;\n    ltid_pre_72517 = remnant_72522;\n    remnant_72523 = remnant_72522 - ltid_pre_72517;\n    slice_72526 = num_blocks_54882;\n    slice_72527 = greatest_divisor_leq_than_res_54727 * slice_72526;\n    ltid_pre_72524 = squot64(sext_i32_i64(local_tid_72511), slice_72526);\n    remnant_72528 = sext_i32_i64(local_tid_72511) - ltid_pre_72524 * slice_72526;\n    ltid_pre_72525 = remnant_72528;\n    remnant_72529 = remnant_72528 - ltid_pre_72525;\n    slice_72531 = num_blocks_54882;\n    ltid_pre_72530 = sext_i32_i64(local_tid_72511);\n    remnant_72532 = sext_i32_i64(local_tid_72511) - ltid_pre_72530;\n    slice_72534 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n    lti",
                                    "d_pre_72533 = sext_i32_i64(local_tid_72511);\n    remnant_72535 = sext_i32_i64(local_tid_72511) - ltid_pre_72533;\n    slice_72536 = num_merges_54866;\n    gtid_65372 = sext_i32_i64(block_id_72512);\n    remnant_72537 = sext_i32_i64(block_id_72512) - gtid_65372;\n    color_71419 = (__local unsigned char *) color_71419_backing_0;\n    color_71420 = (__local unsigned char *) color_71420_backing_1;\n    color_71421 = (__local unsigned char *) color_71421_backing_2;\n    color_71422 = (__local unsigned char *) color_71422_backing_3;\n    color_71423 = (__local unsigned char *) color_71423_backing_4;\n    color_71424 = (__local unsigned char *) color_71424_backing_5;\n    color_71425 = (__local unsigned char *) color_71425_backing_6;\n    color_71426 = (__local unsigned char *) color_71426_backing_7;\n    color_71427 = (__local unsigned char *) color_71427_backing_8;\n    color_71428 = (__local unsigned char *) color_71428_backing_9;\n    color_71429 = (__local unsigned char *) color_71429_backing_10;\n    color_71430 = (__local unsigned char *) color_71430_backing_11;\n    index_primexp_68263 = mul64(next_stride_54862, gtid_65372);\n    index_certs_65375 = 0;\n    index_certs_65376 = 0;\n    phys_tid_65380 = sext_i32_i64(local_tid_72511);\n    gtid_65379 = sext_i32_i64(sext_i64_i32(ltid_pre_72533));\n    if (slt64(gtid_65379, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883)) {\n        int64_t split_count_arg3_65382;\n        int64_t defunc_0_split_count_res_65383;\n        int64_t defunc_0_split_count_res_65384;\n        int64_t defunc_0_split_count_res_65385;\n        int64_t defunc_0_split_count_res_65386;\n        int64_t defunc_0_split_count_res_65387;\n        bool loop_cond_65388;\n        bool defunc_0_split_count_res_65389;\n        int64_t defunc_0_split_count_res_65390;\n        int64_t defunc_0_split_count_res_65391;\n        int64_t defunc_0_split_count_res_65392;\n        int64_t defunc_0_split_count_res_65393;\n        int64_t defunc_0_split_count_res_65394;\n        bool loop_while_65395;\n   ", "     int64_t ss_65396;\n        int64_t ss_65397;\n        int64_t tt_65398;\n        int64_t tt_65399;\n        int64_t count_65400;\n        \n        split_count_arg3_65382 = mul64(greatest_divisor_leq_than_res_54727, gtid_65379);\n        futrts_lifted_normalizze_9970(&defunc_0_split_count_res_65383, &defunc_0_split_count_res_65384, &defunc_0_split_count_res_65385, &defunc_0_split_count_res_65386, &defunc_0_split_count_res_65387, (int64_t) 0, stride_54861, (int64_t) 0, j_m_i_54884, split_count_arg3_65382);\n        loop_cond_65388 = slt64((int64_t) 0, defunc_0_split_count_res_65387);\n        loop_while_65395 = loop_cond_65388;\n        ss_65396 = defunc_0_split_count_res_65383;\n        ss_65397 = defunc_0_split_count_res_65384;\n        tt_65398 = defunc_0_split_count_res_65385;\n        tt_65399 = defunc_0_split_count_res_65386;\n        count_65400 = defunc_0_split_count_res_65387;\n        while (loop_while_65395) {\n            int64_t zlze_lhs_65401;\n            bool cond_65402;\n            int64_t defunc_0_lifted_step_res_65403;\n            int64_t defunc_0_lifted_step_res_65404;\n            int64_t defunc_0_lifted_step_res_65405;\n            int64_t defunc_0_lifted_step_res_65406;\n            int64_t loopres_65469;\n            int64_t loopres_65470;\n            int64_t loopres_65471;\n            int64_t loopres_65472;\n            int64_t loopres_65473;\n            bool loop_cond_65474;\n            bool loop_while_tmp_72538;\n            int64_t ss_tmp_72539;\n            int64_t ss_tmp_72540;\n            int64_t tt_tmp_72541;\n            int64_t tt_tmp_72542;\n            int64_t count_tmp_72543;\n            \n            zlze_lhs_65401 = sub64(ss_65397, ss_65396);\n            cond_65402 = sle64(zlze_lhs_65401, (int64_t) 0);\n            if (cond_65402) {\n                int64_t tmp_65407 = add64(tt_65398, count_65400);\n                \n                defunc_0_lifted_step_res_65403 = ss_65396;\n                defunc_0_lifted_step_res_65404 = tmp_65407;\n                defu", "nc_0_lifted_step_res_65405 = tt_65399;\n                defunc_0_lifted_step_res_65406 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_65408;\n                bool cond_65409;\n                int64_t defunc_0_lifted_step_res_f_res_65410;\n                int64_t defunc_0_lifted_step_res_f_res_65411;\n                int64_t defunc_0_lifted_step_res_f_res_65412;\n                int64_t defunc_0_lifted_step_res_f_res_65413;\n                \n                zlze_lhs_65408 = sub64(tt_65399, tt_65398);\n                cond_65409 = sle64(zlze_lhs_65408, (int64_t) 0);\n                if (cond_65409) {\n                    int64_t tmp_65414 = add64(ss_65396, count_65400);\n                    \n                    defunc_0_lifted_step_res_f_res_65410 = tmp_65414;\n                    defunc_0_lifted_step_res_f_res_65411 = tt_65398;\n                    defunc_0_lifted_step_res_f_res_65412 = tt_65399;\n                    defunc_0_lifted_step_res_f_res_65413 = (int64_t) 0;\n                } else {\n                    bool cond_65415;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65416;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65417;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65418;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_65419;\n                    \n                    cond_65415 = count_65400 == (int64_t) 1;\n                    if (cond_65415) {\n                        bool x_65420;\n                        bool y_65421;\n                        bool bounds_check_65422;\n                        bool index_certs_65423;\n                        bool x_65426;\n                        bool y_65427;\n                        bool bounds_check_65428;\n                        bool index_certs_65429;\n                        int64_t slice_65424;\n                        int64_t leq_arg1_65425;\n                        int64_t slice_65430;\n                        int64_t slice_65431;\n           ",
                                    "             int64_t leq_arg0_65432;\n                        bool lifted_lambda_res_65433;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_65434;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_65435;\n                        \n                        x_65420 = sle64((int64_t) 0, ss_65396);\n                        y_65421 = slt64(ss_65396, stride_54861);\n                        bounds_check_65422 = x_65420 && y_65421;\n                        if (!bounds_check_65422) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 71) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_65396;\n                                    global_failure_args[1] = (int64_t) stride_54861;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        x_65426 = sle64((int64_t) 0, tt_65398);\n                        y_65427 = slt64(tt_65398, j_m_i_54884);\n                        bounds_check_65428 = x_65426 && y_65427;\n                        if (!bounds_check_65428) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 72) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_65398;\n                                    global_failure_args[1] = (int64_t) j_m_i_54884;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        slice_65424 = ss_65396 + index_primexp_68263;\n                        leq_arg1_65425 = ((__global int64_t *) mem_param_69237)[slice_65424];\n                        slice_65430 ", "= stride_54861 + tt_65398;\n                        slice_65431 = slice_65430 + index_primexp_68263;\n                        leq_arg0_65432 = ((__global int64_t *) mem_param_69237)[slice_65431];\n                        lifted_lambda_res_65433 = sle64(leq_arg0_65432, leq_arg1_65425);\n                        if (lifted_lambda_res_65433) {\n                            int64_t tmp_65436 = add64((int64_t) 1, tt_65398);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65434 = ss_65396;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65435 = tmp_65436;\n                        } else {\n                            int64_t tmp_65437 = add64((int64_t) 1, ss_65396);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65434 = tmp_65437;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_65435 = tt_65398;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_65416 = defunc_0_lifted_step_res_f_res_f_res_t_res_65434;\n                        defunc_0_lifted_step_res_f_res_f_res_65417 = defunc_0_lifted_step_res_f_res_f_res_t_res_65435;\n                        defunc_0_lifted_step_res_f_res_f_res_65418 = tt_65399;\n                        defunc_0_lifted_step_res_f_res_f_res_65419 = (int64_t) 0;\n                    } else {\n                        int64_t m_65438;\n                        int64_t n_65439;\n                        bool cond_65440;\n                        int64_t zgze_lhs_65441;\n                        bool cond_f_res_65442;\n                        bool x_65443;\n                        bool y_65444;\n                        bool cond_65445;\n                        bool leq_y_x_65446;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_65463;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_65464;\n                        int64_t defunc_0_lifted_step_res_f_r", "es_f_res_f_res_65465;\n                        \n                        m_65438 = sdiv64(count_65400, (int64_t) 2);\n                        n_65439 = sub64(count_65400, m_65438);\n                        cond_65440 = n_65439 == (int64_t) 0;\n                        zgze_lhs_65441 = add64(ss_65396, m_65438);\n                        cond_f_res_65442 = sle64(ss_65397, zgze_lhs_65441);\n                        x_65443 = !cond_65440;\n                        y_65444 = cond_f_res_65442 && x_65443;\n                        cond_65445 = cond_65440 || y_65444;\n                        if (cond_65445) {\n                            leq_y_x_65446 = 1;\n                        } else {\n                            bool x_65447;\n                            bool y_65448;\n                            bool bounds_check_65449;\n                            bool index_certs_65450;\n                            int64_t zm_lhs_65453;\n                            int64_t leq_arg0_65454;\n                            bool x_65455;\n                            bool y_65456;\n                            bool bounds_check_65457;\n                            bool index_certs_65458;\n                            int64_t slice_65451;\n                            int64_t leq_arg1_65452;\n                            int64_t slice_65459;\n                            int64_t slice_65460;\n                            int64_t leq_arg0_65461;\n                            bool lifted_lambda_res_65462;\n                            \n                            x_65447 = sle64((int64_t) 0, zgze_lhs_65441);\n                            y_65448 = slt64(zgze_lhs_65441, stride_54861);\n                            bounds_check_65449 = x_65447 && y_65448;\n                            if (!bounds_check_65449) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 73) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_65441;\n           ",
                                    "                             global_failure_args[1] = (int64_t) stride_54861;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            zm_lhs_65453 = add64(tt_65398, n_65439);\n                            leq_arg0_65454 = sub64(zm_lhs_65453, (int64_t) 1);\n                            x_65455 = sle64((int64_t) 0, leq_arg0_65454);\n                            y_65456 = slt64(leq_arg0_65454, j_m_i_54884);\n                            bounds_check_65457 = x_65455 && y_65456;\n                            if (!bounds_check_65457) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 74) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_65454;\n                                        global_failure_args[1] = (int64_t) j_m_i_54884;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            slice_65451 = zgze_lhs_65441 + index_primexp_68263;\n                            leq_arg1_65452 = ((__global int64_t *) mem_param_69237)[slice_65451];\n                            slice_65459 = stride_54861 + leq_arg0_65454;\n                            slice_65460 = slice_65459 + index_primexp_68263;\n                            leq_arg0_65461 = ((__global int64_t *) mem_param_69237)[slice_65460];\n                            lifted_lambda_res_65462 = sle64(leq_arg0_65461, leq_arg1_65452);\n                            leq_y_x_65446 = lifted_lambda_res_65462;\n                        }\n                        if (leq_y_x_65446) {\n                            int64", "_t tmp_65466;\n                            int64_t tmp_65467;\n                            \n                            tmp_65466 = add64(tt_65398, n_65439);\n                            tmp_65467 = sub64(count_65400, n_65439);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65463 = tmp_65466;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65464 = tt_65399;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65465 = tmp_65467;\n                        } else {\n                            int64_t tmp_65468 = add64(tt_65398, n_65439);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65463 = tt_65398;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65464 = tmp_65468;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_65465 = count_65400;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_65416 = ss_65396;\n                        defunc_0_lifted_step_res_f_res_f_res_65417 = defunc_0_lifted_step_res_f_res_f_res_f_res_65463;\n                        defunc_0_lifted_step_res_f_res_f_res_65418 = defunc_0_lifted_step_res_f_res_f_res_f_res_65464;\n                        defunc_0_lifted_step_res_f_res_f_res_65419 = defunc_0_lifted_step_res_f_res_f_res_f_res_65465;\n                    }\n                    defunc_0_lifted_step_res_f_res_65410 = defunc_0_lifted_step_res_f_res_f_res_65416;\n                    defunc_0_lifted_step_res_f_res_65411 = defunc_0_lifted_step_res_f_res_f_res_65417;\n                    defunc_0_lifted_step_res_f_res_65412 = defunc_0_lifted_step_res_f_res_f_res_65418;\n                    defunc_0_lifted_step_res_f_res_65413 = defunc_0_lifted_step_res_f_res_f_res_65419;\n                }\n                defunc_0_lifted_step_res_65403 = defunc_0_lifted_step_res_f_res_65410;\n                defunc_0_lifted_step_res_65404 = defunc_0_lifted_step_res_f_res_65411;\n           ", "     defunc_0_lifted_step_res_65405 = defunc_0_lifted_step_res_f_res_65412;\n                defunc_0_lifted_step_res_65406 = defunc_0_lifted_step_res_f_res_65413;\n            }\n            futrts_lifted_normalizze_9970(&loopres_65469, &loopres_65470, &loopres_65471, &loopres_65472, &loopres_65473, defunc_0_lifted_step_res_65403, ss_65397, defunc_0_lifted_step_res_65404, defunc_0_lifted_step_res_65405, defunc_0_lifted_step_res_65406);\n            loop_cond_65474 = slt64((int64_t) 0, loopres_65473);\n            loop_while_tmp_72538 = loop_cond_65474;\n            ss_tmp_72539 = loopres_65469;\n            ss_tmp_72540 = loopres_65470;\n            tt_tmp_72541 = loopres_65471;\n            tt_tmp_72542 = loopres_65472;\n            count_tmp_72543 = loopres_65473;\n            loop_while_65395 = loop_while_tmp_72538;\n            ss_65396 = ss_tmp_72539;\n            ss_65397 = ss_tmp_72540;\n            tt_65398 = tt_tmp_72541;\n            tt_65399 = tt_tmp_72542;\n            count_65400 = count_tmp_72543;\n        }\n        defunc_0_split_count_res_65389 = loop_while_65395;\n        defunc_0_split_count_res_65390 = ss_65396;\n        defunc_0_split_count_res_65391 = ss_65397;\n        defunc_0_split_count_res_65392 = tt_65398;\n        defunc_0_split_count_res_65393 = tt_65399;\n        defunc_0_split_count_res_65394 = count_65400;\n        ((__local int64_t *) color_71423)[gtid_65379] = defunc_0_split_count_res_65390;\n        ((__local int64_t *) color_71422)[gtid_65379] = defunc_0_split_count_res_65392;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_65485 = sext_i32_i64(local_tid_72511);\n    gtid_65484 = sext_i32_i64(sext_i64_i32(ltid_pre_72530));\n    if (slt64(gtid_65484, num_blocks_54882)) {\n        bool y_65488;\n        bool index_certs_65490;\n        int64_t defunc_0_f_res_65491;\n        int64_t defunc_0_f_res_65492;\n        int64_t tmp_65493;\n        bool x_65494;\n        bool y_65",
                                    "495;\n        bool bounds_check_65496;\n        bool index_certs_65497;\n        int64_t defunc_0_f_res_65498;\n        int64_t defunc_0_f_res_65499;\n        int64_t merge_sequential_arg2_65500;\n        int64_t merge_sequential_arg2_65501;\n        int64_t j_m_i_65502;\n        bool empty_slice_65503;\n        int64_t m_65504;\n        int64_t i_p_m_t_s_65505;\n        bool zzero_leq_i_p_m_t_s_65506;\n        bool i_p_m_t_s_leq_w_65507;\n        bool zzero_lte_i_65508;\n        bool i_lte_j_65509;\n        bool y_65510;\n        bool y_65511;\n        bool forwards_ok_65512;\n        bool ok_or_empty_65513;\n        bool index_certs_65514;\n        int64_t j_m_i_65515;\n        bool empty_slice_65516;\n        int64_t m_65517;\n        int64_t i_p_m_t_s_65518;\n        bool zzero_leq_i_p_m_t_s_65519;\n        bool i_p_m_t_s_leq_w_65520;\n        bool zzero_lte_i_65521;\n        bool i_lte_j_65522;\n        bool y_65523;\n        bool y_65524;\n        bool forwards_ok_65525;\n        bool ok_or_empty_65526;\n        bool index_certs_65527;\n        bool cond_65528;\n        bool y_65537;\n        bool protect_assert_disj_70961;\n        bool index_certs_65538;\n        int64_t slice_65539;\n        int64_t binop_y_69498;\n        int64_t slice_65533;\n        int64_t binop_y_69500;\n        int64_t ext_69502;\n        int64_t dummy_65529;\n        int64_t dummy_65531;\n        \n        y_65488 = slt64(gtid_65484, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);\n        if (!y_65488) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 75) == -1) {\n                    global_failure_args[0] = (int64_t) gtid_65484;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_65491 = ((__local int64_t *) color_71423)[gtid_65484];\n        defunc_0_f_res_65492 = ((__local int64_t *) color_71422)[g", "tid_65484];\n        tmp_65493 = add64((int64_t) 1, gtid_65484);\n        x_65494 = sle64((int64_t) 0, tmp_65493);\n        y_65495 = slt64(tmp_65493, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);\n        bounds_check_65496 = x_65494 && y_65495;\n        if (!bounds_check_65496) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 76) == -1) {\n                    global_failure_args[0] = (int64_t) tmp_65493;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_65498 = ((__local int64_t *) color_71423)[tmp_65493];\n        defunc_0_f_res_65499 = ((__local int64_t *) color_71422)[tmp_65493];\n        merge_sequential_arg2_65500 = add64(stride_54861, defunc_0_f_res_65492);\n        merge_sequential_arg2_65501 = add64(stride_54861, defunc_0_f_res_65499);\n        j_m_i_65502 = sub64(merge_sequential_arg2_65501, merge_sequential_arg2_65500);\n        empty_slice_65503 = j_m_i_65502 == (int64_t) 0;\n        m_65504 = sub64(j_m_i_65502, (int64_t) 1);\n        i_p_m_t_s_65505 = add64(merge_sequential_arg2_65500, m_65504);\n        zzero_leq_i_p_m_t_s_65506 = sle64((int64_t) 0, i_p_m_t_s_65505);\n        i_p_m_t_s_leq_w_65507 = slt64(i_p_m_t_s_65505, next_stride_54862);\n        zzero_lte_i_65508 = sle64((int64_t) 0, merge_sequential_arg2_65500);\n        i_lte_j_65509 = sle64(merge_sequential_arg2_65500, merge_sequential_arg2_65501);\n        y_65510 = i_p_m_t_s_leq_w_65507 && zzero_lte_i_65508;\n        y_65511 = zzero_leq_i_p_m_t_s_65506 && y_65510;\n        forwards_ok_65512 = i_lte_j_65509 && y_65511;\n        ok_or_empty_65513 = empty_slice_65503 || forwards_ok_65512;\n        if (!ok_or_empty_65513) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 77) == -1) {\n                    global_failure_args[0] = (int64_t) merge_sequentia", "l_arg2_65500;\n                    global_failure_args[1] = (int64_t) merge_sequential_arg2_65501;\n                    global_failure_args[2] = (int64_t) next_stride_54862;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        j_m_i_65515 = sub64(defunc_0_f_res_65498, defunc_0_f_res_65491);\n        empty_slice_65516 = j_m_i_65515 == (int64_t) 0;\n        m_65517 = sub64(j_m_i_65515, (int64_t) 1);\n        i_p_m_t_s_65518 = add64(defunc_0_f_res_65491, m_65517);\n        zzero_leq_i_p_m_t_s_65519 = sle64((int64_t) 0, i_p_m_t_s_65518);\n        i_p_m_t_s_leq_w_65520 = slt64(i_p_m_t_s_65518, next_stride_54862);\n        zzero_lte_i_65521 = sle64((int64_t) 0, defunc_0_f_res_65491);\n        i_lte_j_65522 = sle64(defunc_0_f_res_65491, defunc_0_f_res_65498);\n        y_65523 = i_p_m_t_s_leq_w_65520 && zzero_lte_i_65521;\n        y_65524 = zzero_leq_i_p_m_t_s_65519 && y_65523;\n        forwards_ok_65525 = i_lte_j_65522 && y_65524;\n        ok_or_empty_65526 = empty_slice_65516 || forwards_ok_65525;\n        if (!ok_or_empty_65526) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 78) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_f_res_65491;\n                    global_failure_args[1] = (int64_t) defunc_0_f_res_65498;\n                    global_failure_args[2] = (int64_t) next_stride_54862;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        cond_65528 = slt64((int64_t) 0, j_m_i_65515);\n        y_65537 = slt64((int64_t) 0, j_m_i_65502);\n        protect_assert_disj_70961 = cond_65528 || y_65537;\n        if (!protect_assert_disj_70961) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 79) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) j_m_i_65502;\n   ",
                                    "                 ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        slice_65539 = merge_sequential_arg2_65500 + index_primexp_68263;\n        binop_y_69498 = dim_38264 * slice_65539;\n        slice_65533 = defunc_0_f_res_65491 + index_primexp_68263;\n        binop_y_69500 = dim_38264 * slice_65533;\n        if (cond_65528) {\n            ext_69502 = binop_y_69500;\n        } else {\n            ext_69502 = binop_y_69498;\n        }\n        if (cond_65528) {\n            int64_t head_res_65534;\n            int64_t head_res_65536;\n            \n            head_res_65534 = ((__global int64_t *) mem_param_69237)[slice_65533];\n            head_res_65536 = ((__global int64_t *) mem_param_69244)[slice_65533];\n            dummy_65529 = head_res_65534;\n            dummy_65531 = head_res_65536;\n        } else {\n            int64_t head_res_65540;\n            int64_t head_res_65542;\n            \n            head_res_65540 = ((__global int64_t *) mem_param_69237)[slice_65539];\n            head_res_65542 = ((__global int64_t *) mem_param_69244)[slice_65539];\n            dummy_65529 = head_res_65540;\n            dummy_65531 = head_res_65542;\n        }\n        ((__local int64_t *) color_71421)[gtid_65484] = dummy_65529;\n        ((__local int64_t *) color_71420)[gtid_65484] = dummy_65531;\n        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n            ((__local double *) color_71419)[gtid_65484 * dim_38264 + i_0] = ((__global double *) mem_param_69241)[ext_69502 + i_0];\n        }\n        ((__local int64_t *) color_71430)[gtid_65484] = defunc_0_f_res_65491;\n        ((__local int64_t *) color_71429)[gtid_65484] = merge_sequential_arg2_65500;\n        ((__local int64_t *) color_71428)[gtid_65484] = j_m_i_65502;\n        ((__local int64_t *) color_71426)[gtid_65484] = j_m_i_65515;\n    }\n    \n  error_1:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chu", "nk_i_72547 = 0; chunk_i_72547 < num_chunks_72506; chunk_i_72547++) {\n        int32_t i_72548;\n        int64_t slice_72549;\n        int64_t slice_72550;\n        int64_t rep_i_72545;\n        int64_t remnant_72551;\n        int64_t rep_i_72546;\n        int64_t remnant_72552;\n        \n        i_72548 = chunk_i_72547 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72511;\n        slice_72549 = num_blocks_54882;\n        slice_72550 = greatest_divisor_leq_than_res_54727 * slice_72549;\n        rep_i_72545 = squot64(sext_i32_i64(i_72548), slice_72549);\n        remnant_72551 = sext_i32_i64(i_72548) - rep_i_72545 * slice_72549;\n        rep_i_72546 = remnant_72551;\n        remnant_72552 = remnant_72551 - rep_i_72546;\n        if ((sle64((int64_t) 0, rep_i_72545) && slt64(rep_i_72545, greatest_divisor_leq_than_res_54727)) && (sle64((int64_t) 0, rep_i_72546) && slt64(rep_i_72546, num_blocks_54882))) {\n            int64_t tmp_72553 = ((__local int64_t *) color_71421)[rep_i_72546];\n            \n            ((__local int64_t *) color_71424)[rep_i_72545 * num_blocks_54882 + rep_i_72546] = tmp_72553;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_72557 = 0; chunk_i_72557 < num_chunks_72506; chunk_i_72557++) {\n        int32_t i_72558;\n        int64_t slice_72559;\n        int64_t slice_72560;\n        int64_t rep_i_72555;\n        int64_t remnant_72561;\n        int64_t rep_i_72556;\n        int64_t remnant_72562;\n        \n        i_72558 = chunk_i_72557 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72511;\n        slice_72559 = num_blocks_54882;\n        slice_72560 = greatest_divisor_leq_than_res_54727 * slice_72559;\n        rep_i_72555 = squot64(sext_i32_i64(i_72558), slice_72559);\n        remnant_72561 = sext_i32_i64(i_72558) - rep_i_72555 * slice_72559;\n        rep_i_72556 = remnant_72561;\n        remnant_72562 = remnant_72561 - rep_i_72556;\n        if ((sle64((int64_t) 0, rep_i_72555) && slt64(rep_i_72555, greatest_divisor_leq_than_res_54727)) ", "&& (sle64((int64_t) 0, rep_i_72556) && slt64(rep_i_72556, num_blocks_54882))) {\n            int64_t tmp_72563 = ((__local int64_t *) color_71420)[rep_i_72556];\n            \n            ((__local int64_t *) color_71423)[rep_i_72555 * num_blocks_54882 + rep_i_72556] = tmp_72563;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_72568 = 0; chunk_i_72568 < num_chunks_72505; chunk_i_72568++) {\n        int32_t i_72569;\n        int64_t slice_72570;\n        int64_t slice_72571;\n        int64_t slice_72572;\n        int64_t rep_i_72565;\n        int64_t remnant_72573;\n        int64_t rep_i_72566;\n        int64_t remnant_72574;\n        int64_t rep_i_72567;\n        int64_t remnant_72575;\n        \n        i_72569 = chunk_i_72568 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72511;\n        slice_72570 = num_blocks_54882;\n        slice_72571 = dim_38264 * slice_72570;\n        slice_72572 = greatest_divisor_leq_than_res_54727 * slice_72571;\n        rep_i_72565 = squot64(sext_i32_i64(i_72569), slice_72571);\n        remnant_72573 = sext_i32_i64(i_72569) - rep_i_72565 * slice_72571;\n        rep_i_72566 = squot64(remnant_72573, slice_72570);\n        remnant_72574 = remnant_72573 - rep_i_72566 * slice_72570;\n        rep_i_72567 = remnant_72574;\n        remnant_72575 = remnant_72574 - rep_i_72567;\n        if (((sle64((int64_t) 0, rep_i_72565) && slt64(rep_i_72565, greatest_divisor_leq_than_res_54727)) && (sle64((int64_t) 0, rep_i_72566) && slt64(rep_i_72566, dim_38264))) && (sle64((int64_t) 0, rep_i_72567) && slt64(rep_i_72567, num_blocks_54882))) {\n            double tmp_72576 = ((__local double *) color_71419)[rep_i_72566 + rep_i_72567 * dim_38264];\n            \n            ((__local double *) color_71422)[rep_i_72565 * (num_blocks_54882 * dim_38264) + rep_i_72566 * num_blocks_54882 + rep_i_72567] = tmp_72576;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_65556 = sext_i32_i64(local_tid_72511);\n    gtid_65555 = sext_i32_i64(sext_i64_i32",
                                    "(ltid_pre_72530));\n    if (slt64(gtid_65555, num_blocks_54882)) {\n        int64_t defunc_0_f_res_65557;\n        int64_t merge_sequential_arg2_65558;\n        int64_t j_m_i_65559;\n        bool index_certs_65560;\n        int64_t j_m_i_65561;\n        bool index_certs_65562;\n        int64_t data_65566;\n        int64_t i_65571;\n        \n        defunc_0_f_res_65557 = ((__local int64_t *) color_71430)[gtid_65555];\n        merge_sequential_arg2_65558 = ((__local int64_t *) color_71429)[gtid_65555];\n        j_m_i_65559 = ((__local int64_t *) color_71428)[gtid_65555];\n        index_certs_65560 = 0;\n        j_m_i_65561 = ((__local int64_t *) color_71426)[gtid_65555];\n        index_certs_65562 = 0;\n        i_65571 = (int64_t) 0;\n        for (int64_t k_65570 = 0; k_65570 < greatest_divisor_leq_than_res_54727; k_65570++) {\n            int64_t j_65575;\n            bool cond_65576;\n            bool x_71072;\n            bool cond_65578;\n            bool x_65580;\n            bool y_65581;\n            bool bounds_check_65582;\n            bool loop_not_taken_71064;\n            bool protect_assert_disj_71065;\n            bool protect_assert_disj_71075;\n            bool index_certs_65583;\n            int64_t slice_65584;\n            int64_t slice_65585;\n            bool protect_cond_conj_71076;\n            int64_t leq_arg1_65586;\n            bool x_65587;\n            bool bounds_check_65588;\n            bool protect_assert_disj_71069;\n            bool protect_assert_disj_71078;\n            bool index_certs_65589;\n            int64_t slice_65590;\n            int64_t slice_65591;\n            int64_t leq_arg0_65592;\n            bool lifted_lambda_res_65593;\n            bool x_71110;\n            bool cond_65577;\n            bool protect_assert_disj_70953;\n            bool index_certs_65611;\n            bool loop_not_taken_70948;\n            bool protect_assert_disj_70949;\n            bool index_certs_65602;\n            int64_t binop_y_69541;\n            int64_t binop_y_69543;\n            int", "64_t ext_69545;\n            int64_t loopres_65594;\n            int64_t loopres_65595;\n            int64_t loopres_65597;\n            int64_t i_tmp_72577;\n            \n            j_65575 = sub64(k_65570, i_65571);\n            cond_65576 = j_65575 == j_m_i_65559;\n            x_71072 = !cond_65576;\n            cond_65578 = slt64(i_65571, j_m_i_65561);\n            x_65580 = sle64((int64_t) 0, j_65575);\n            y_65581 = slt64(j_65575, j_m_i_65559);\n            bounds_check_65582 = x_65580 && y_65581;\n            loop_not_taken_71064 = !cond_65578;\n            protect_assert_disj_71065 = bounds_check_65582 || loop_not_taken_71064;\n            protect_assert_disj_71075 = cond_65576 || protect_assert_disj_71065;\n            if (!protect_assert_disj_71075) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 80) == -1) {\n                        global_failure_args[0] = (int64_t) j_65575;\n                        global_failure_args[1] = (int64_t) j_m_i_65559;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_65584 = merge_sequential_arg2_65558 + j_65575;\n            slice_65585 = slice_65584 + index_primexp_68263;\n            protect_cond_conj_71076 = cond_65578 && x_71072;\n            if (protect_cond_conj_71076) {\n                int64_t x_71066 = ((__global int64_t *) mem_param_69237)[slice_65585];\n                \n                leq_arg1_65586 = x_71066;\n            } else {\n                leq_arg1_65586 = (int64_t) 0;\n            }\n            x_65587 = sle64((int64_t) 0, i_65571);\n            bounds_check_65588 = cond_65578 && x_65587;\n            protect_assert_disj_71069 = bounds_check_65588 || loop_not_taken_71064;\n            protect_assert_disj_71078 = cond_65576 || protect_assert_disj_71069;\n            if (!protect_assert_disj_71078) {\n                {\n                    if (atomic_cmpxchg_i32_glob", "al(global_failure, -1, 81) == -1) {\n                        global_failure_args[0] = (int64_t) i_65571;\n                        global_failure_args[1] = (int64_t) j_m_i_65561;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_65590 = defunc_0_f_res_65557 + i_65571;\n            slice_65591 = slice_65590 + index_primexp_68263;\n            if (protect_cond_conj_71076) {\n                int64_t x_71070 = ((__global int64_t *) mem_param_69237)[slice_65591];\n                \n                leq_arg0_65592 = x_71070;\n            } else {\n                leq_arg0_65592 = (int64_t) 0;\n            }\n            lifted_lambda_res_65593 = sle64(leq_arg0_65592, leq_arg1_65586);\n            x_71110 = cond_65578 && lifted_lambda_res_65593;\n            cond_65577 = cond_65576 || x_71110;\n            protect_assert_disj_70953 = cond_65577 || bounds_check_65582;\n            if (!protect_assert_disj_70953) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 82) == -1) {\n                        global_failure_args[0] = (int64_t) j_65575;\n                        global_failure_args[1] = (int64_t) j_m_i_65559;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            loop_not_taken_70948 = !cond_65577;\n            protect_assert_disj_70949 = bounds_check_65588 || loop_not_taken_70948;\n            if (!protect_assert_disj_70949) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 83) == -1) {\n                        global_failure_args[0] = (int64_t) i_65571;\n                        global_failure_args[1] = (int64_t) j_m_i_65561;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n          ",
                                    "  binop_y_69541 = dim_38264 * slice_65585;\n            binop_y_69543 = dim_38264 * slice_65591;\n            if (cond_65577) {\n                ext_69545 = binop_y_69543;\n            } else {\n                ext_69545 = binop_y_69541;\n            }\n            if (cond_65577) {\n                int64_t tmp_65598;\n                int64_t tmp_65605;\n                int64_t tmp_65607;\n                \n                tmp_65598 = add64((int64_t) 1, i_65571);\n                tmp_65605 = ((__global int64_t *) mem_param_69237)[slice_65591];\n                tmp_65607 = ((__global int64_t *) mem_param_69244)[slice_65591];\n                loopres_65594 = tmp_65598;\n                loopres_65595 = tmp_65605;\n                loopres_65597 = tmp_65607;\n            } else {\n                int64_t tmp_65614;\n                int64_t tmp_65616;\n                \n                tmp_65614 = ((__global int64_t *) mem_param_69237)[slice_65585];\n                tmp_65616 = ((__global int64_t *) mem_param_69244)[slice_65585];\n                loopres_65594 = i_65571;\n                loopres_65595 = tmp_65614;\n                loopres_65597 = tmp_65616;\n            }\n            ((__local int64_t *) color_71424)[gtid_65555 + k_65570 * num_blocks_54882] = loopres_65595;\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__local double *) color_71422)[gtid_65555 + k_65570 * lmad_arg_69540 + i_0 * num_blocks_54882] = ((__global double *) mem_param_69241)[ext_69545 + i_0];\n            }\n            ((__local int64_t *) color_71423)[gtid_65555 + k_65570 * num_blocks_54882] = loopres_65597;\n            i_tmp_72577 = loopres_65594;\n            i_65571 = i_tmp_72577;\n        }\n        data_65566 = i_65571;\n        for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n            ((__local int64_t *) color_71421)[gtid_65555 * greatest_divisor_leq_than_res_54727 + i_0] = ((__local int64_t *) color_71424)[gtid_65555 + i_0 * num_blocks_54882];\n        }\n     ", "   for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n            for (int64_t i_1 = 0; i_1 < dim_38264; i_1++) {\n                ((__local double *) color_71420)[gtid_65555 * (dim_38264 * greatest_divisor_leq_than_res_54727) + (i_0 * dim_38264 + i_1)] = ((__local double *) color_71422)[gtid_65555 + (i_0 * lmad_arg_69540 + i_1 * num_blocks_54882)];\n            }\n        }\n        for (int64_t i_0 = 0; i_0 < greatest_divisor_leq_than_res_54727; i_0++) {\n            ((__local int64_t *) color_71419)[gtid_65555 * greatest_divisor_leq_than_res_54727 + i_0] = ((__local int64_t *) color_71423)[gtid_65555 + i_0 * num_blocks_54882];\n        }\n    }\n    \n  error_2:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_72581 = sdiv_up32(sext_i64_i32(next_stride_54862), sext_i64_i32(computed_tblock_sizze_62376));\n    for (int32_t chunk_i_72582 = 0; chunk_i_72582 < num_chunks_72581; chunk_i_72582++) {\n        int32_t i_72583 = chunk_i_72582 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72511;\n        \n        if (slt32(i_72583, sext_i64_i32(next_stride_54862))) {\n            ((__global int64_t *) mem_69568)[gtid_65372 * next_stride_54862 + sext_i32_i64(i_72583)] = ((__local int64_t *) color_71421)[sext_i32_i64(i_72583)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_72584 = sdiv_up32(sext_i64_i32(next_stride_54862) * sext_i64_i32(dim_38264), sext_i64_i32(computed_tblock_sizze_62376));\n    for (int32_t chunk_i_72585 = 0; chunk_i_72585 < num_chunks_72584; chunk_i_72585++) {\n        int32_t i_72586 = chunk_i_72585 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72511;\n        \n        if (slt32(i_72586, sext_i64_i32(next_stride_54862) * sext_i64_i32(dim_38264))) {\n            ((__global double *) mem_69572)[gtid_65372 * (dim_38264 * next_stride_54862) + sext_i32_i64(squot32(i_72586, sext_i64_i32(dim_38264))) * dim_38264 + sext_i32_i64(i_72586 - squot32(i_", "72586, sext_i64_i32(dim_38264)) * sext_i64_i32(dim_38264))] = ((__local double *) color_71420)[sext_i32_i64(squot32(i_72586, sext_i64_i32(dim_38264))) * dim_38264 + sext_i32_i64(i_72586 - squot32(i_72586, sext_i64_i32(dim_38264)) * sext_i64_i32(dim_38264))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_72587 = sdiv_up32(sext_i64_i32(next_stride_54862), sext_i64_i32(computed_tblock_sizze_62376));\n    for (int32_t chunk_i_72588 = 0; chunk_i_72588 < num_chunks_72587; chunk_i_72588++) {\n        int32_t i_72589 = chunk_i_72588 * sext_i64_i32(computed_tblock_sizze_62376) + local_tid_72511;\n        \n        if (slt32(i_72589, sext_i64_i32(next_stride_54862))) {\n            ((__global int64_t *) mem_69575)[gtid_65372 * next_stride_54862 + sext_i32_i64(i_72589)] = ((__local int64_t *) color_71419)[sext_i32_i64(i_72589)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_67437(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t total_grid_no_38275, int64_t arg_54492, unsigned char cond_54502_bits, int64_t min_arg1_68335, int64_t binop_x_68663, int64_t maxSubHelper_71450, __global unsigned char *grid_part_prefix_sum_mem_68612, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_68643, __global unsigned char *ext_mem_69910, __global unsigned char *mem_70318)\n{\n    bool cond_54502 = cond_54502_bits;\n    volatile __local unsigned char *color_71457_backing_6 = &shared_mem[0];\n    const int64_t color_71457_backing_6_offset = 0 + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71456_backing_5 = &shared_mem[color_71457_backing_6_offset];\n    const int64_t ",
                                    "color_71456_backing_5_offset = color_71457_backing_6_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71455_backing_4 = &shared_mem[color_71456_backing_5_offset];\n    const int64_t color_71455_backing_4_offset = color_71456_backing_5_offset + (int64_t) 0;\n    volatile __local unsigned char *color_71454_backing_3 = &shared_mem[color_71455_backing_4_offset];\n    const int64_t color_71454_backing_3_offset = color_71455_backing_4_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71453_backing_2 = &shared_mem[color_71454_backing_3_offset];\n    const int64_t color_71453_backing_2_offset = color_71454_backing_3_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71452_backing_1 = &shared_mem[color_71453_backing_2_offset];\n    const int64_t color_71452_backing_1_offset = color_71453_backing_2_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71451_backing_0 = &shared_mem[color_71452_backing_1_offset];\n    const int64_t color_71451_backing_0_offset = color_71452_backing_1_offset + (maxSubHelper_71450 + srem64((int64_t) 8 - srem64(maxSubHelper_71450, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_73071;\n    int32_t tblock_sizze_73074;\n    int32_t wave_sizze_73073;\n    int32_t block_id_73072;\n    int32_t global_tid_73070;\n    int64_t phys_tblock_id_67437;\n    int64_t slice_73076;\n    int64_t ltid_pre_73075;\n    int64_t remnant_73077;\n    int64_t slice_73078;\n    int64_t gtid_67436;\n    in", "t64_t remnant_73079;\n    __local unsigned char *color_71451;\n    __local unsigned char *color_71452;\n    __local unsigned char *color_71453;\n    __local unsigned char *color_71454;\n    __local unsigned char *color_71455;\n    __local unsigned char *color_71456;\n    __local unsigned char *color_71457;\n    __local unsigned char *ext_mem_70314;\n    int64_t phys_tid_67505;\n    int64_t gtid_67504;\n    int64_t eta_p_67506;\n    int64_t eta_p_67507;\n    int64_t defunc_0_f_res_67508;\n    int64_t defunc_0_foldl_res_67509;\n    int64_t acc_67511;\n    bool x_67514;\n    bool y_67515;\n    bool bounds_check_67516;\n    bool index_certs_67517;\n    bool tmp_67518;\n    bool defunc_0_p_res_67519;\n    int64_t defunc_0_f_res_67520;\n    \n    local_tid_73071 = get_local_id(0);\n    tblock_sizze_73074 = get_local_size(0);\n    wave_sizze_73073 = LOCKSTEP_WIDTH;\n    block_id_73072 = get_tblock_id(0);\n    global_tid_73070 = block_id_73072 * tblock_sizze_73074 + local_tid_73071;\n    phys_tblock_id_67437 = sext_i32_i64(block_id_73072);\n    slice_73076 = dim_38264;\n    ltid_pre_73075 = sext_i32_i64(local_tid_73071);\n    remnant_73077 = sext_i32_i64(local_tid_73071) - ltid_pre_73075;\n    slice_73078 = n_38267;\n    gtid_67436 = sext_i32_i64(block_id_73072);\n    remnant_73079 = sext_i32_i64(block_id_73072) - gtid_67436;\n    color_71451 = (__local unsigned char *) color_71451_backing_0;\n    color_71452 = (__local unsigned char *) color_71452_backing_1;\n    color_71453 = (__local unsigned char *) color_71453_backing_2;\n    color_71454 = (__local unsigned char *) color_71454_backing_3;\n    color_71455 = (__local unsigned char *) color_71455_backing_4;\n    color_71456 = (__local unsigned char *) color_71456_backing_5;\n    color_71457 = (__local unsigned char *) color_71457_backing_6;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_54502) {\n        ext_mem_70314 = color_71452;\n    } else {\n        __local unsigned char *ext_mem_70301;\n        int64_t f_arg0_67486;\n        int64_t min_res_67487;\n        int64", "_t rep_i_73087;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_54502) {\n            ext_mem_70301 = color_71451;\n        } else {\n            int64_t phys_tid_67446;\n            int64_t gtid_67445;\n            double eta_p_67447;\n            double eta_p_67448;\n            double defunc_0_f_res_67449;\n            int64_t phys_tid_67452;\n            int64_t gtid_67451;\n            double eta_p_67453;\n            double eta_p_67454;\n            double defunc_0_f_res_67455;\n            __local unsigned char *ext_mem_70288;\n            int64_t f_arg0_67472;\n            int64_t max_res_67473;\n            int64_t rep_i_73084;\n            \n            phys_tid_67446 = sext_i32_i64(local_tid_73071);\n            gtid_67445 = sext_i32_i64(sext_i64_i32(ltid_pre_73075));\n            eta_p_67447 = ((__global double *) ext_mem_69910)[gtid_67436 * dim_38264 + gtid_67445];\n            eta_p_67448 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_67445];\n            defunc_0_f_res_67449 = eta_p_67447 - eta_p_67448;\n            ((__local double *) color_71457)[gtid_67445] = defunc_0_f_res_67449;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            phys_tid_67452 = sext_i32_i64(local_tid_73071);\n            gtid_67451 = sext_i32_i64(sext_i64_i32(ltid_pre_73075));\n            eta_p_67453 = ((__local double *) color_71457)[gtid_67451];\n            eta_p_67454 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_67451];\n            defunc_0_f_res_67455 = eta_p_67453 / eta_p_67454;\n            ((__local double *) color_71457)[gtid_67451] = defunc_0_f_res_67455;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_54502) {\n                ext_mem_70288 = color_71455;\n            } else {\n                double f_arg0_67458;\n                int64_t f64_res_67459;\n                int64_t rep_i_73081;\n                \n                f_arg0_67458 = ((__local double *) color_71457)[(int64_t) 0];\n      ",
                                    "          f64_res_67459 = fptosi_f64_i64(f_arg0_67458);\n                rep_i_73081 = sext_i32_i64(sext_i64_i32(ltid_pre_73075));\n                ((__local int64_t *) color_71456)[rep_i_73081] = f64_res_67459;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                for (int64_t i_67462 = 0; i_67462 < arg_54492; i_67462++) {\n                    int64_t index_primexp_67464;\n                    bool x_67465;\n                    bool y_67466;\n                    bool bounds_check_67467;\n                    bool index_certs_67468;\n                    double f_arg0_67469;\n                    int64_t f64_res_67470;\n                    \n                    index_primexp_67464 = add64((int64_t) 1, i_67462);\n                    x_67465 = sle64((int64_t) 0, index_primexp_67464);\n                    y_67466 = slt64(index_primexp_67464, dim_38264);\n                    bounds_check_67467 = x_67465 && y_67466;\n                    if (!bounds_check_67467) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 106) == -1) {\n                                global_failure_args[0] = (int64_t) index_primexp_67464;\n                                global_failure_args[1] = (int64_t) dim_38264;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_6;\n                        }\n                    }\n                    f_arg0_67469 = ((__local double *) color_71457)[index_primexp_67464];\n                    f64_res_67470 = fptosi_f64_i64(f_arg0_67469);\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    if (local_tid_73071 == 0) {\n                        ((__local int64_t *) color_71456)[index_primexp_67464] = f64_res_67470;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                ext_mem_70288 = color_71456;\n            }\n        ", "    f_arg0_67472 = ((__local int64_t *) ext_mem_70288)[(int64_t) 0];\n            max_res_67473 = smax64((int64_t) 0, f_arg0_67472);\n            rep_i_73084 = sext_i32_i64(sext_i64_i32(ltid_pre_73075));\n            ((__local int64_t *) color_71454)[rep_i_73084] = max_res_67473;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_67476 = 0; i_67476 < arg_54492; i_67476++) {\n                int64_t index_primexp_67478;\n                bool x_67479;\n                bool y_67480;\n                bool bounds_check_67481;\n                bool index_certs_67482;\n                int64_t f_arg0_67483;\n                int64_t max_res_67484;\n                \n                index_primexp_67478 = add64((int64_t) 1, i_67476);\n                x_67479 = sle64((int64_t) 0, index_primexp_67478);\n                y_67480 = slt64(index_primexp_67478, dim_38264);\n                bounds_check_67481 = x_67479 && y_67480;\n                if (!bounds_check_67481) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 107) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_67478;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_7;\n                    }\n                }\n                f_arg0_67483 = ((__local int64_t *) ext_mem_70288)[index_primexp_67478];\n                max_res_67484 = smax64((int64_t) 0, f_arg0_67483);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_73071 == 0) {\n                    ((__local int64_t *) color_71454)[index_primexp_67478] = max_res_67484;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n           ", " }\n            ext_mem_70301 = color_71454;\n        }\n        f_arg0_67486 = ((__local int64_t *) ext_mem_70301)[(int64_t) 0];\n        min_res_67487 = smin64(f_arg0_67486, min_arg1_68335);\n        rep_i_73087 = sext_i32_i64(sext_i64_i32(ltid_pre_73075));\n        ((__local int64_t *) color_71453)[rep_i_73087] = min_res_67487;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_7:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_67490 = 0; i_67490 < arg_54492; i_67490++) {\n            int64_t index_primexp_67492;\n            bool x_67493;\n            bool y_67494;\n            bool bounds_check_67495;\n            bool index_certs_67496;\n            bool index_certs_67498;\n            int64_t f_arg0_67497;\n            int64_t zm_lhs_67499;\n            int64_t min_arg1_67500;\n            int64_t min_res_67501;\n            \n            index_primexp_67492 = add64((int64_t) 1, i_67490);\n            x_67493 = sle64((int64_t) 0, index_primexp_67492);\n            y_67494 = slt64(index_primexp_67492, dim_38264);\n            bounds_check_67495 = x_67493 && y_67494;\n            if (!bounds_check_67495) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 108) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_67492;\n                        global_failure_args[1] = (int64_t) dim_38264;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            if (!bounds_check_67495) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 109) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_67492;\n                        global_failure_args[1] = (int64_t) dim_38264;\n                        ;\n                    }\n                    local_failure = 1;\n    ",
                                    "                goto error_8;\n                }\n            }\n            f_arg0_67497 = ((__local int64_t *) ext_mem_70301)[index_primexp_67492];\n            zm_lhs_67499 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_67492];\n            min_arg1_67500 = sub64(zm_lhs_67499, (int64_t) 1);\n            min_res_67501 = smin64(f_arg0_67497, min_arg1_67500);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_73071 == 0) {\n                ((__local int64_t *) color_71453)[index_primexp_67492] = min_res_67501;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_70314 = color_71453;\n    }\n    phys_tid_67505 = sext_i32_i64(local_tid_73071);\n    gtid_67504 = sext_i32_i64(sext_i64_i32(ltid_pre_73075));\n    eta_p_67506 = ((__local int64_t *) ext_mem_70314)[gtid_67504];\n    eta_p_67507 = ((__global int64_t *) grid_part_prefix_sum_mem_68612)[gtid_67504];\n    defunc_0_f_res_67508 = mul64(eta_p_67506, eta_p_67507);\n    ((__local int64_t *) color_71451)[gtid_67504] = defunc_0_f_res_67508;\n    \n  error_8:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    acc_67511 = (int64_t) 0;\n    for (int64_t i_67510 = 0; i_67510 < dim_38264; i_67510++) {\n        int64_t b_67512;\n        int64_t defunc_0_f_res_67513;\n        int64_t acc_tmp_73089;\n        \n        b_67512 = ((__local int64_t *) color_71451)[i_67510];\n        defunc_0_f_res_67513 = add64(acc_67511, b_67512);\n        acc_tmp_73089 = defunc_0_f_res_67513;\n        acc_67511 = acc_tmp_73089;\n    }\n    defunc_0_foldl_res_67509 = acc_67511;\n    x_67514 = sle64((int64_t) 0, defunc_0_foldl_res_67509);\n    y_67515 = slt64(defunc_0_foldl_res_67509, total_grid_no_38275);\n    bounds_check_67516 = x_67514 && y_67515;\n    if (!bounds_check_67516) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 110) == -1) {\n                global_failure_args[0] = (int64_", "t) defunc_0_foldl_res_67509;\n                global_failure_args[1] = (int64_t) total_grid_no_38275;\n                ;\n            }\n            local_failure = 1;\n            goto error_10;\n        }\n    }\n    tmp_67518 = ((__global bool *) mem_68643)[defunc_0_foldl_res_67509];\n    defunc_0_p_res_67519 = !tmp_67518;\n    defunc_0_f_res_67520 = btoi_bool_i64(defunc_0_p_res_67519);\n    if (local_tid_73071 == 0) {\n        ((__global int64_t *) mem_70318)[gtid_67436] = defunc_0_f_res_67520;\n    }\n    \n  error_10:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_67533(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, unsigned char cond_54502_bits, int64_t binop_x_68663, int64_t maxSubHelper_71458, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *grid_partitions_per_dim_mem_68614, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_68651, __global unsigned char *ext_mem_69910, __global unsigned char *mem_70243)\n{\n    bool cond_54502 = cond_54502_bits;\n    volatile __local unsigned char *color_71463_backing_4 = &shared_mem[0];\n    const int64_t color_71463_backing_4_offset = 0 + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71462_backing_3 = &shared_mem[color_71463_backing_4_offset];\n    const int64_t color_71462_backing_3_offset = color_71463_backing_4_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71461_backing_2 = &shared_mem[color_71462_backing_3_offset];\n    const int64_t color_71461_backing_2_offset = color_71462_backing_3_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71460_backing_1 = &shared_mem[color_714", "61_backing_2_offset];\n    const int64_t color_71460_backing_1_offset = color_71461_backing_2_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71459_backing_0 = &shared_mem[color_71460_backing_1_offset];\n    const int64_t color_71459_backing_0_offset = color_71460_backing_1_offset + (maxSubHelper_71458 + srem64((int64_t) 8 - srem64(maxSubHelper_71458, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_73093;\n    int32_t tblock_sizze_73096;\n    int32_t wave_sizze_73095;\n    int32_t block_id_73094;\n    int32_t global_tid_73092;\n    int64_t phys_tblock_id_67533;\n    int64_t slice_73098;\n    int64_t ltid_pre_73097;\n    int64_t remnant_73099;\n    int64_t slice_73100;\n    int64_t gtid_67532;\n    int64_t remnant_73101;\n    __local unsigned char *color_71459;\n    __local unsigned char *color_71460;\n    __local unsigned char *color_71461;\n    __local unsigned char *color_71462;\n    __local unsigned char *color_71463;\n    int64_t min_arg1_68336;\n    __local unsigned char *ext_mem_70232;\n    int64_t f_arg0_67580;\n    int64_t min_res_67581;\n    int64_t rep_i_73109;\n    \n    local_tid_73093 = get_local_id(0);\n    tblock_sizze_73096 = get_local_size(0);\n    wave_sizze_73095 = LOCKSTEP_WIDTH;\n    block_id_73094 = get_tblock_id(0);\n    global_tid_73092 = block_id_73094 * tblock_sizze_73096 + local_tid_73093;\n    phys_tblock_id_67533 = sext_i32_i64(block_id_73094);\n    slice_73098 = dim_38264;\n    ltid_pre_73097 = sext_i32_i64(local_tid_73093);\n    remnant_73099 = sext_i32_i64(local_tid_73093) - ltid_pre_73097;\n    slice_73100 = n_38267;\n    gtid_67532 = sext_i32_i64(block_id_73094);\n    remnant_73101 = sext_i32_i64(block_id_73094) - gtid_67532;\n    color_71459 ",
                                    "= (__local unsigned char *) color_71459_backing_0;\n    color_71460 = (__local unsigned char *) color_71460_backing_1;\n    color_71461 = (__local unsigned char *) color_71461_backing_2;\n    color_71462 = (__local unsigned char *) color_71462_backing_3;\n    color_71463 = (__local unsigned char *) color_71463_backing_4;\n    min_arg1_68336 = ((__global int64_t *) mem_68651)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_54502) {\n        ext_mem_70232 = color_71460;\n    } else {\n        int64_t phys_tid_67540;\n        int64_t gtid_67539;\n        double eta_p_67541;\n        double eta_p_67542;\n        double defunc_0_f_res_67543;\n        int64_t phys_tid_67546;\n        int64_t gtid_67545;\n        double eta_p_67547;\n        double eta_p_67548;\n        double defunc_0_f_res_67549;\n        __local unsigned char *ext_mem_70219;\n        int64_t f_arg0_67566;\n        int64_t max_res_67567;\n        int64_t rep_i_73106;\n        \n        phys_tid_67540 = sext_i32_i64(local_tid_73093);\n        gtid_67539 = sext_i32_i64(sext_i64_i32(ltid_pre_73097));\n        eta_p_67541 = ((__global double *) ext_mem_69910)[gtid_67532 * dim_38264 + gtid_67539];\n        eta_p_67542 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_67539];\n        defunc_0_f_res_67543 = eta_p_67541 - eta_p_67542;\n        ((__local double *) color_71463)[gtid_67539] = defunc_0_f_res_67543;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_67546 = sext_i32_i64(local_tid_73093);\n        gtid_67545 = sext_i32_i64(sext_i64_i32(ltid_pre_73097));\n        eta_p_67547 = ((__local double *) color_71463)[gtid_67545];\n        eta_p_67548 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_67545];\n        defunc_0_f_res_67549 = eta_p_67547 / eta_p_67548;\n        ((__local double *) color_71463)[gtid_67545] = defunc_0_f_res_67549;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_54502) {\n            ext_mem_70219 = color_71459;\n        } else {\n", "            double f_arg0_67552;\n            int64_t f64_res_67553;\n            int64_t rep_i_73103;\n            \n            f_arg0_67552 = ((__local double *) color_71463)[(int64_t) 0];\n            f64_res_67553 = fptosi_f64_i64(f_arg0_67552);\n            rep_i_73103 = sext_i32_i64(sext_i64_i32(ltid_pre_73097));\n            ((__local int64_t *) color_71462)[rep_i_73103] = f64_res_67553;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_67556 = 0; i_67556 < arg_54492; i_67556++) {\n                int64_t index_primexp_67558;\n                bool x_67559;\n                bool y_67560;\n                bool bounds_check_67561;\n                bool index_certs_67562;\n                double f_arg0_67563;\n                int64_t f64_res_67564;\n                \n                index_primexp_67558 = add64((int64_t) 1, i_67556);\n                x_67559 = sle64((int64_t) 0, index_primexp_67558);\n                y_67560 = slt64(index_primexp_67558, dim_38264);\n                bounds_check_67561 = x_67559 && y_67560;\n                if (!bounds_check_67561) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 111) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_67558;\n                            global_failure_args[1] = (int64_t) dim_38264;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_67563 = ((__local double *) color_71463)[index_primexp_67558];\n                f64_res_67564 = fptosi_f64_i64(f_arg0_67563);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_73093 == 0) {\n                    ((__local int64_t *) color_71462)[index_primexp_67558] = f64_res_67564;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_7", "0219 = color_71462;\n        }\n        f_arg0_67566 = ((__local int64_t *) ext_mem_70219)[(int64_t) 0];\n        max_res_67567 = smax64((int64_t) 0, f_arg0_67566);\n        rep_i_73106 = sext_i32_i64(sext_i64_i32(ltid_pre_73097));\n        ((__local int64_t *) color_71461)[rep_i_73106] = max_res_67567;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_67570 = 0; i_67570 < arg_54492; i_67570++) {\n            int64_t index_primexp_67572;\n            bool x_67573;\n            bool y_67574;\n            bool bounds_check_67575;\n            bool index_certs_67576;\n            int64_t f_arg0_67577;\n            int64_t max_res_67578;\n            \n            index_primexp_67572 = add64((int64_t) 1, i_67570);\n            x_67573 = sle64((int64_t) 0, index_primexp_67572);\n            y_67574 = slt64(index_primexp_67572, dim_38264);\n            bounds_check_67575 = x_67573 && y_67574;\n            if (!bounds_check_67575) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 112) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_67572;\n                        global_failure_args[1] = (int64_t) dim_38264;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_67577 = ((__local int64_t *) ext_mem_70219)[index_primexp_67572];\n            max_res_67578 = smax64((int64_t) 0, f_arg0_67577);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_73093 == 0) {\n                ((__local int64_t *) color_71461)[index_primexp_67572] = max_res_67578;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_70232 = color_71461;\n    }\n    f_arg0_67580 = ((__local int64_t *) ext_mem_70232)[(int64_t) 0];\n    min_res_67581 =",
                                    " smin64(f_arg0_67580, min_arg1_68336);\n    rep_i_73109 = sext_i32_i64(sext_i64_i32(ltid_pre_73097));\n    ((__local int64_t *) color_71459)[rep_i_73109] = min_res_67581;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_67584 = 0; i_67584 < arg_54492; i_67584++) {\n        int64_t index_primexp_67586;\n        bool x_67587;\n        bool y_67588;\n        bool bounds_check_67589;\n        bool index_certs_67590;\n        bool index_certs_67592;\n        int64_t f_arg0_67591;\n        int64_t zm_lhs_67593;\n        int64_t min_arg1_67594;\n        int64_t min_res_67595;\n        \n        index_primexp_67586 = add64((int64_t) 1, i_67584);\n        x_67587 = sle64((int64_t) 0, index_primexp_67586);\n        y_67588 = slt64(index_primexp_67586, dim_38264);\n        bounds_check_67589 = x_67587 && y_67588;\n        if (!bounds_check_67589) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 113) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_67586;\n                    global_failure_args[1] = (int64_t) dim_38264;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_67589) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 114) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_67586;\n                    global_failure_args[1] = (int64_t) dim_38264;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_67591 = ((__local int64_t *) ext_mem_70232)[index_primexp_67586];\n        zm_lhs_67593 = ((__global int64_t *) grid_partitions_per_dim_mem_68614)[index_primexp_67586];\n        min_arg1_67594 = sub64(zm_lhs_67593, (int64_t) 1);\n        min_res_67595 = smin64(f_a", "rg0_67591, min_arg1_67594);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_73093 == 0) {\n            ((__local int64_t *) color_71459)[index_primexp_67586] = min_res_67595;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_70243)[gtid_67532 * dim_38264 + sext_i32_i64(local_tid_73093)] = ((__local int64_t *) color_71459)[sext_i32_i64(local_tid_73093)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_67609(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t n_38267, int64_t arg_54492, unsigned char cond_54502_bits, int64_t binop_x_68663, __global unsigned char *grid_part_sizze_per_dim_mem_68613, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *ext_mem_69910, __global unsigned char *mem_70146)\n{\n    bool cond_54502 = cond_54502_bits;\n    volatile __local unsigned char *color_71466_backing_2 = &shared_mem[0];\n    const int64_t color_71466_backing_2_offset = 0 + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71465_backing_1 = &shared_mem[color_71466_backing_2_offset];\n    const int64_t color_71465_backing_1_offset = color_71466_backing_2_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_71464_backing_0 = &shared_mem[color_71465_backing_1_offset];\n    const int64_t color_71464_backing_0_offset = color_71465_backing_1_offset + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_73114;\n ", "   int32_t tblock_sizze_73117;\n    int32_t wave_sizze_73116;\n    int32_t block_id_73115;\n    int32_t global_tid_73113;\n    int64_t phys_tblock_id_67609;\n    int64_t slice_73119;\n    int64_t ltid_pre_73118;\n    int64_t remnant_73120;\n    int64_t slice_73121;\n    int64_t gtid_67608;\n    int64_t remnant_73122;\n    __local unsigned char *color_71464;\n    __local unsigned char *color_71465;\n    __local unsigned char *color_71466;\n    int64_t phys_tid_67614;\n    int64_t gtid_67613;\n    double eta_p_67615;\n    double eta_p_67616;\n    double defunc_0_f_res_67617;\n    int64_t phys_tid_67620;\n    int64_t gtid_67619;\n    double eta_p_67621;\n    double eta_p_67622;\n    double defunc_0_f_res_67623;\n    __local unsigned char *ext_mem_70135;\n    int64_t f_arg0_67640;\n    int64_t max_res_67641;\n    int64_t rep_i_73127;\n    \n    local_tid_73114 = get_local_id(0);\n    tblock_sizze_73117 = get_local_size(0);\n    wave_sizze_73116 = LOCKSTEP_WIDTH;\n    block_id_73115 = get_tblock_id(0);\n    global_tid_73113 = block_id_73115 * tblock_sizze_73117 + local_tid_73114;\n    phys_tblock_id_67609 = sext_i32_i64(block_id_73115);\n    slice_73119 = dim_38264;\n    ltid_pre_73118 = sext_i32_i64(local_tid_73114);\n    remnant_73120 = sext_i32_i64(local_tid_73114) - ltid_pre_73118;\n    slice_73121 = n_38267;\n    gtid_67608 = sext_i32_i64(block_id_73115);\n    remnant_73122 = sext_i32_i64(block_id_73115) - gtid_67608;\n    color_71464 = (__local unsigned char *) color_71464_backing_0;\n    color_71465 = (__local unsigned char *) color_71465_backing_1;\n    color_71466 = (__local unsigned char *) color_71466_backing_2;\n    phys_tid_67614 = sext_i32_i64(local_tid_73114);\n    gtid_67613 = sext_i32_i64(sext_i64_i32(ltid_pre_73118));\n    eta_p_67615 = ((__global double *) ext_mem_69910)[gtid_67608 * dim_38264 + gtid_67613];\n    eta_p_67616 = ((__global double *) start_of_grid_partition_mem_68615)[gtid_67613];\n    defunc_0_f_res_67617 = eta_p_67615 - eta_p_67616;\n    ((__local double *) color_71464)[gtid_67613] = ",
                                    "defunc_0_f_res_67617;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_67620 = sext_i32_i64(local_tid_73114);\n    gtid_67619 = sext_i32_i64(sext_i64_i32(ltid_pre_73118));\n    eta_p_67621 = ((__local double *) color_71464)[gtid_67619];\n    eta_p_67622 = ((__global double *) grid_part_sizze_per_dim_mem_68613)[gtid_67619];\n    defunc_0_f_res_67623 = eta_p_67621 / eta_p_67622;\n    ((__local double *) color_71464)[gtid_67619] = defunc_0_f_res_67623;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_54502) {\n        ext_mem_70135 = color_71465;\n    } else {\n        double f_arg0_67626;\n        int64_t f64_res_67627;\n        int64_t rep_i_73124;\n        \n        f_arg0_67626 = ((__local double *) color_71464)[(int64_t) 0];\n        f64_res_67627 = fptosi_f64_i64(f_arg0_67626);\n        rep_i_73124 = sext_i32_i64(sext_i64_i32(ltid_pre_73118));\n        ((__local int64_t *) color_71466)[rep_i_73124] = f64_res_67627;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_67630 = 0; i_67630 < arg_54492; i_67630++) {\n            int64_t index_primexp_67632;\n            bool x_67633;\n            bool y_67634;\n            bool bounds_check_67635;\n            bool index_certs_67636;\n            double f_arg0_67637;\n            int64_t f64_res_67638;\n            \n            index_primexp_67632 = add64((int64_t) 1, i_67630);\n            x_67633 = sle64((int64_t) 0, index_primexp_67632);\n            y_67634 = slt64(index_primexp_67632, dim_38264);\n            bounds_check_67635 = x_67633 && y_67634;\n            if (!bounds_check_67635) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 115) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_67632;\n                        global_failure_args[1] = (int64_t) dim_38264;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n          ", "      }\n            }\n            f_arg0_67637 = ((__local double *) color_71464)[index_primexp_67632];\n            f64_res_67638 = fptosi_f64_i64(f_arg0_67637);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_73114 == 0) {\n                ((__local int64_t *) color_71466)[index_primexp_67632] = f64_res_67638;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_70135 = color_71466;\n    }\n    f_arg0_67640 = ((__local int64_t *) ext_mem_70135)[(int64_t) 0];\n    max_res_67641 = smax64((int64_t) 0, f_arg0_67640);\n    rep_i_73127 = sext_i32_i64(sext_i64_i32(ltid_pre_73118));\n    ((__local int64_t *) color_71464)[rep_i_73127] = max_res_67641;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_67644 = 0; i_67644 < arg_54492; i_67644++) {\n        int64_t index_primexp_67646;\n        bool x_67647;\n        bool y_67648;\n        bool bounds_check_67649;\n        bool index_certs_67650;\n        int64_t f_arg0_67651;\n        int64_t max_res_67652;\n        \n        index_primexp_67646 = add64((int64_t) 1, i_67644);\n        x_67647 = sle64((int64_t) 0, index_primexp_67646);\n        y_67648 = slt64(index_primexp_67646, dim_38264);\n        bounds_check_67649 = x_67647 && y_67648;\n        if (!bounds_check_67649) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 116) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_67646;\n                    global_failure_args[1] = (int64_t) dim_38264;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_67651 = ((__local int64_t *) ext_mem_70135)[index_primexp_67646];\n        max_res_67652 = smax64((int64_t) 0, f_arg0_67651);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_73114 == 0) {\n            ((__local int64_t ", "*) color_71464)[index_primexp_67646] = max_res_67652;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_70146)[gtid_67608 * dim_38264 + sext_i32_i64(local_tid_73114)] = ((__local int64_t *) color_71464)[sext_i32_i64(local_tid_73114)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_large_72821_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_large_72821(__global int *global_failure, int64_t total_grid_no_38275, int64_t num_tblocks_65956, int64_t num_subhistos_72715, int64_t blocks_per_segment_72852, int64_t q_72853, int64_t num_virtblocks_72854, int64_t threads_per_segment_72855, __global unsigned char *mem_68642, __global unsigned char *defunc_0_map_res_subhistos_mem_72716, __global unsigned char *segred_tmp_mem_72856, __global unsigned char *counters_mem_72858)\n{\n    #define seghist_tblock_sizze_65954 (sort_for_Skyline_doublezisegred_large_72821ziseghist_tblock_sizze_65954)\n    #define chunk_sizze_72822 (sort_for_Skyline_doublezisegred_large_72821zichunk_sizze_72822)\n    \n    volatile __local unsigned char *sync_arr_mem_72867_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_72867_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i32_mem_72865_backing_0 = &shared_mem[sync_arr_mem_72867_backing_1_offset];\n    const int64_t red_arr_i32_mem_72865_backing_0_offset = sync_arr_mem_72867_backing_1_offset + ((int64_t) 4 * seghist_tblock_sizze_65954 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_65954, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72861;\n    int32_t tblock_sizze_72864;\n    int32_t wave_sizze_72863;\n    int32_t block_id_72862;\n    int32_t global_tid_72860;\n    int64_t flat_gtid_72821;\n    __local unsigned char *red_arr_i32_mem_72865;\n    __local unsigned char *sync_arr_mem_72867;\n    int32_t phys_tblock_id_72869;\n    int32_t iterations_72870;\n    \n  ",
                                    "  local_tid_72861 = get_local_id(0);\n    tblock_sizze_72864 = get_local_size(0);\n    wave_sizze_72863 = LOCKSTEP_WIDTH;\n    block_id_72862 = get_tblock_id(0);\n    global_tid_72860 = block_id_72862 * tblock_sizze_72864 + local_tid_72861;\n    flat_gtid_72821 = sext_i32_i64(global_tid_72860);\n    red_arr_i32_mem_72865 = (__local unsigned char *) red_arr_i32_mem_72865_backing_0;\n    sync_arr_mem_72867 = (__local unsigned char *) sync_arr_mem_72867_backing_1;\n    phys_tblock_id_72869 = get_tblock_id(0);\n    iterations_72870 = sdiv_up32(sext_i64_i32(num_virtblocks_72854) - phys_tblock_id_72869, sext_i64_i32(num_tblocks_65956));\n    for (int32_t i_72871 = 0; i_72871 < iterations_72870; i_72871++) {\n        int32_t virt_tblock_id_72872;\n        int64_t flat_segment_id_72873;\n        int64_t global_tid_72874;\n        int64_t slice_72875;\n        int64_t bucket_id_72819;\n        int64_t remnant_72876;\n        int64_t subhistogram_id_72820;\n        int32_t eta_p_block_res_acc_72877;\n        int32_t eta_p_65962;\n        int32_t eta_p_65963;\n        int64_t tblock_id_in_segment_72881;\n        int64_t block_base_offset_72882;\n        int32_t offset_72885;\n        int32_t skip_waves_72886;\n        int32_t eta_p_72878;\n        int32_t eta_p_72879;\n        \n        virt_tblock_id_72872 = phys_tblock_id_72869 + i_72871 * sext_i64_i32(num_tblocks_65956);\n        flat_segment_id_72873 = squot64(sext_i32_i64(virt_tblock_id_72872), blocks_per_segment_72852);\n        global_tid_72874 = srem64(sext_i32_i64(virt_tblock_id_72872) * seghist_tblock_sizze_65954 + sext_i32_i64(local_tid_72861), threads_per_segment_72855);\n        slice_72875 = total_grid_no_38275;\n        bucket_id_72819 = flat_segment_id_72873;\n        remnant_72876 = flat_segment_id_72873 - bucket_id_72819;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_72877 = 0;\n        }\n        tblock_id_in_segment_72881 = squot64(global_tid_72874, seghist_tblock_sizze_65954);\n      ", "  block_base_offset_72882 = tblock_id_in_segment_72881 * q_72853 * seghist_tblock_sizze_65954;\n        for (int64_t i_72883 = 0; i_72883 < q_72853; i_72883++) {\n            int64_t block_offset_72884 = block_base_offset_72882 + i_72883 * seghist_tblock_sizze_65954;\n            \n            subhistogram_id_72820 = global_tid_72874 + threads_per_segment_72855 * i_72883;\n            if (slt64(subhistogram_id_72820, num_subhistos_72715)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_65962 = eta_p_block_res_acc_72877;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_65963 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_72716)[subhistogram_id_72820 * total_grid_no_38275 + bucket_id_72819];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int32_t defunc_0_op_res_65964 = add32(eta_p_65962, eta_p_65963);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_72877 = defunc_0_op_res_65964;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861)] = eta_p_block_res_acc_72877;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_72886 = 1;\n        offset_72885 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_72861, sext_i64_i32(seghist_tblock_sizze_65954))) {\n                eta_p_72878 = ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861 + offset_72885)];\n            }\n        }\n        offset_72885 = 1;\n", "        while (slt32(offset_72885, wave_sizze_72863)) {\n            if (slt32(local_tid_72861 + offset_72885, sext_i64_i32(seghist_tblock_sizze_65954)) && ((local_tid_72861 - squot32(local_tid_72861, wave_sizze_72863) * wave_sizze_72863) & (2 * offset_72885 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_72879 = ((volatile __local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861 + offset_72885)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_0_op_res_72880 = add32(eta_p_72878, eta_p_72879);\n                    \n                    eta_p_72878 = defunc_0_op_res_72880;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861)] = eta_p_72878;\n                }\n            }\n            offset_72885 *= 2;\n        }\n        while (slt32(skip_waves_72886, squot32(sext_i64_i32(seghist_tblock_sizze_65954) + wave_sizze_72863 - 1, wave_sizze_72863))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_72885 = skip_waves_72886 * wave_sizze_72863;\n            if (slt32(local_tid_72861 + offset_72885, sext_i64_i32(seghist_tblock_sizze_65954)) && ((local_tid_72861 - squot32(local_tid_72861, wave_sizze_72863) * wave_sizze_72863) == 0 && (squot32(local_tid_72861, wave_sizze_72863) & (2 * skip_waves_72886 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_72879 = ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861 + offset_72885)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_0_op_res_72880 = add32(eta_p_72878, eta_p_72879);\n                    \n                    eta_p_72878 = defunc_0_op_res_72880;\n                }\n                // write result of operation\n                {\n  ",
                                    "                  ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861)] = eta_p_72878;\n                }\n            }\n            skip_waves_72886 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_72861) == (int64_t) 0) {\n                eta_p_block_res_acc_72877 = eta_p_72878;\n            } else {\n                eta_p_block_res_acc_72877 = 0;\n            }\n        }\n        if (blocks_per_segment_72852 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_72861 == 0) {\n                    ((__global int32_t *) mem_68642)[bucket_id_72819] = eta_p_block_res_acc_72877;\n                }\n            }\n        } else {\n            int32_t old_counter_72887;\n            bool is_last_block_72888;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_72861 == 0) {\n                    ((__global int32_t *) segred_tmp_mem_72856)[sext_i32_i64(virt_tblock_id_72872)] = eta_p_block_res_acc_72877;\n                    mem_fence_global();\n                    old_counter_72887 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72858)[srem64(flat_segment_id_72873, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_72867)[(int64_t) 0] = old_counter_72887 == sext_i64_i32(blocks_per_segment_72852 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_72888 = ((__local bool *) sync_arr_mem_72867)[(int64_t) 0];\n            if (is_last_block_72888) {\n                if (local_tid_72861 == 0) {\n                    old_counter_72887 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72858)[srem64(flat_segment_id_72873, (int64_t) 204", "80)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_72852));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_72889 = sdiv_up64(blocks_per_segment_72852, seghist_tblock_sizze_65954);\n                    \n                    eta_p_65962 = 0;\n                    for (int64_t i_72890 = 0; i_72890 < read_per_thread_72889; i_72890++) {\n                        int64_t block_res_id_72891 = sext_i32_i64(local_tid_72861) * read_per_thread_72889 + i_72890;\n                        int64_t index_of_block_res_72892 = flat_segment_id_72873 * blocks_per_segment_72852 + block_res_id_72891;\n                        \n                        if (slt64(block_res_id_72891, blocks_per_segment_72852)) {\n                            eta_p_65963 = ((__global int32_t *) segred_tmp_mem_72856)[index_of_block_res_72892];\n                            \n                            int32_t defunc_0_op_res_65964 = add32(eta_p_65962, eta_p_65963);\n                            \n                            eta_p_65962 = defunc_0_op_res_65964;\n                        }\n                    }\n                }\n                ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861)] = eta_p_65962;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_72893;\n                    int32_t skip_waves_72894 = 1;\n                    int32_t eta_p_72878;\n                    int32_t eta_p_72879;\n                    \n                    offset_72893 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_72861, sext_i64_i32(seghist_tblock_sizze_65954))) {\n                            eta_p_72878 = ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861 + offset_72893)];\n                        }\n                    }\n          ", "          offset_72893 = 1;\n                    while (slt32(offset_72893, wave_sizze_72863)) {\n                        if (slt32(local_tid_72861 + offset_72893, sext_i64_i32(seghist_tblock_sizze_65954)) && ((local_tid_72861 - squot32(local_tid_72861, wave_sizze_72863) * wave_sizze_72863) & (2 * offset_72893 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_72879 = ((volatile __local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861 + offset_72893)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_0_op_res_72880 = add32(eta_p_72878, eta_p_72879);\n                                \n                                eta_p_72878 = defunc_0_op_res_72880;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861)] = eta_p_72878;\n                            }\n                        }\n                        offset_72893 *= 2;\n                    }\n                    while (slt32(skip_waves_72894, squot32(sext_i64_i32(seghist_tblock_sizze_65954) + wave_sizze_72863 - 1, wave_sizze_72863))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_72893 = skip_waves_72894 * wave_sizze_72863;\n                        if (slt32(local_tid_72861 + offset_72893, sext_i64_i32(seghist_tblock_sizze_65954)) && ((local_tid_72861 - squot32(local_tid_72861, wave_sizze_72863) * wave_sizze_72863) == 0 && (squot32(local_tid_72861, wave_sizze_72863) & (2 * skip_waves_72894 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_72879 = ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861 + off",
                                    "set_72893)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_0_op_res_72880 = add32(eta_p_72878, eta_p_72879);\n                                \n                                eta_p_72878 = defunc_0_op_res_72880;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int32_t *) red_arr_i32_mem_72865)[sext_i32_i64(local_tid_72861)] = eta_p_72878;\n                            }\n                        }\n                        skip_waves_72894 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_72861 == 0) {\n                            ((__global int32_t *) mem_68642)[bucket_id_72819] = eta_p_72878;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_65954\n    #undef chunk_sizze_72822\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_large_74008_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_large_74008(__global int *global_failure, int64_t total_part_no_38276, int64_t num_tblocks_68141, int64_t num_subhistos_73922, int64_t blocks_per_segment_74039, int64_t q_74040, int64_t num_virtblocks_74041, int64_t threads_per_segment_74042, __global unsigned char *mem_68648, __global unsigned char *defunc_0_map_res_subhistos_mem_73923, __global unsigned char *segred_tmp_mem_74043, __global unsigned char *counters_mem_74045)\n{\n    #define seghist_tblock_sizze_68139 (sort_for_Skyline_doublezisegred_large_74008ziseghist_tblock_sizze_68139)\n    #define chunk_sizze_74009 (sort_for_Skyline_doublezisegred_large_74008zichunk_sizze_74009)\n    \n    volatile ", "__local unsigned char *sync_arr_mem_74054_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_74054_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_74052_backing_0 = &shared_mem[sync_arr_mem_74054_backing_1_offset];\n    const int64_t red_arr_i64_mem_74052_backing_0_offset = sync_arr_mem_74054_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_68139 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_68139, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_74048;\n    int32_t tblock_sizze_74051;\n    int32_t wave_sizze_74050;\n    int32_t block_id_74049;\n    int32_t global_tid_74047;\n    int64_t flat_gtid_74008;\n    __local unsigned char *red_arr_i64_mem_74052;\n    __local unsigned char *sync_arr_mem_74054;\n    int32_t phys_tblock_id_74056;\n    int32_t iterations_74057;\n    \n    local_tid_74048 = get_local_id(0);\n    tblock_sizze_74051 = get_local_size(0);\n    wave_sizze_74050 = LOCKSTEP_WIDTH;\n    block_id_74049 = get_tblock_id(0);\n    global_tid_74047 = block_id_74049 * tblock_sizze_74051 + local_tid_74048;\n    flat_gtid_74008 = sext_i32_i64(global_tid_74047);\n    red_arr_i64_mem_74052 = (__local unsigned char *) red_arr_i64_mem_74052_backing_0;\n    sync_arr_mem_74054 = (__local unsigned char *) sync_arr_mem_74054_backing_1;\n    phys_tblock_id_74056 = get_tblock_id(0);\n    iterations_74057 = sdiv_up32(sext_i64_i32(num_virtblocks_74041) - phys_tblock_id_74056, sext_i64_i32(num_tblocks_68141));\n    for (int32_t i_74058 = 0; i_74058 < iterations_74057; i_74058++) {\n        int32_t virt_tblock_id_74059;\n        int64_t flat_segment_id_74060;\n        int64_t global_tid_74061;\n        int64_t slice_74062;\n        int64_t bucket_id_74006;\n        int64_t remnant_74063;\n        int64_t subhistogram_id_74007;\n        int64_t eta_p_block_res_acc_74064;\n        int64_t eta_p_68147;\n        int64_t eta_p_68148;\n        int64_t tblock_id_in_segment_74068;\n        int64_t ", "block_base_offset_74069;\n        int32_t offset_74072;\n        int32_t skip_waves_74073;\n        int64_t eta_p_74065;\n        int64_t eta_p_74066;\n        \n        virt_tblock_id_74059 = phys_tblock_id_74056 + i_74058 * sext_i64_i32(num_tblocks_68141);\n        flat_segment_id_74060 = squot64(sext_i32_i64(virt_tblock_id_74059), blocks_per_segment_74039);\n        global_tid_74061 = srem64(sext_i32_i64(virt_tblock_id_74059) * seghist_tblock_sizze_68139 + sext_i32_i64(local_tid_74048), threads_per_segment_74042);\n        slice_74062 = total_part_no_38276;\n        bucket_id_74006 = flat_segment_id_74060;\n        remnant_74063 = flat_segment_id_74060 - bucket_id_74006;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_74064 = (int64_t) 0;\n        }\n        tblock_id_in_segment_74068 = squot64(global_tid_74061, seghist_tblock_sizze_68139);\n        block_base_offset_74069 = tblock_id_in_segment_74068 * q_74040 * seghist_tblock_sizze_68139;\n        for (int64_t i_74070 = 0; i_74070 < q_74040; i_74070++) {\n            int64_t block_offset_74071 = block_base_offset_74069 + i_74070 * seghist_tblock_sizze_68139;\n            \n            subhistogram_id_74007 = global_tid_74061 + threads_per_segment_74042 * i_74070;\n            if (slt64(subhistogram_id_74007, num_subhistos_73922)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_68147 = eta_p_block_res_acc_74064;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_68148 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_73923)[subhistogram_id_74007 * total_part_no_38276 + bucket_id_74006];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t defunc_0_op_res_68149 = add64(eta_p_68147, eta_p_68148);\n                        \n         ",
                                    "               // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_74064 = defunc_0_op_res_68149;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048)] = eta_p_block_res_acc_74064;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_74073 = 1;\n        offset_74072 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_74048, sext_i64_i32(seghist_tblock_sizze_68139))) {\n                eta_p_74065 = ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048 + offset_74072)];\n            }\n        }\n        offset_74072 = 1;\n        while (slt32(offset_74072, wave_sizze_74050)) {\n            if (slt32(local_tid_74048 + offset_74072, sext_i64_i32(seghist_tblock_sizze_68139)) && ((local_tid_74048 - squot32(local_tid_74048, wave_sizze_74050) * wave_sizze_74050) & (2 * offset_74072 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_74066 = ((volatile __local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048 + offset_74072)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_74067 = add64(eta_p_74065, eta_p_74066);\n                    \n                    eta_p_74065 = defunc_0_op_res_74067;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048)] = eta_p_74065;\n                }\n            }\n            offset_74072 *= 2;\n        }\n        while (slt32(skip_waves_74073, squot32(sext_i64_i32(seghist_tblock_sizze_68139) + wave_sizze_74050 - 1, wave", "_sizze_74050))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_74072 = skip_waves_74073 * wave_sizze_74050;\n            if (slt32(local_tid_74048 + offset_74072, sext_i64_i32(seghist_tblock_sizze_68139)) && ((local_tid_74048 - squot32(local_tid_74048, wave_sizze_74050) * wave_sizze_74050) == 0 && (squot32(local_tid_74048, wave_sizze_74050) & (2 * skip_waves_74073 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_74066 = ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048 + offset_74072)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_74067 = add64(eta_p_74065, eta_p_74066);\n                    \n                    eta_p_74065 = defunc_0_op_res_74067;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048)] = eta_p_74065;\n                }\n            }\n            skip_waves_74073 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_74048) == (int64_t) 0) {\n                eta_p_block_res_acc_74064 = eta_p_74065;\n            } else {\n                eta_p_block_res_acc_74064 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_74039 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_74048 == 0) {\n                    ((__global int64_t *) mem_68648)[bucket_id_74006] = eta_p_block_res_acc_74064;\n                }\n            }\n        } else {\n            int32_t old_counter_74074;\n            bool is_last_block_74075;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_7404", "8 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_74043)[sext_i32_i64(virt_tblock_id_74059)] = eta_p_block_res_acc_74064;\n                    mem_fence_global();\n                    old_counter_74074 = atomic_add_i32_global(&((volatile __global int *) counters_mem_74045)[srem64(flat_segment_id_74060, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_74054)[(int64_t) 0] = old_counter_74074 == sext_i64_i32(blocks_per_segment_74039 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_74075 = ((__local bool *) sync_arr_mem_74054)[(int64_t) 0];\n            if (is_last_block_74075) {\n                if (local_tid_74048 == 0) {\n                    old_counter_74074 = atomic_add_i32_global(&((volatile __global int *) counters_mem_74045)[srem64(flat_segment_id_74060, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_74039));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_74076 = sdiv_up64(blocks_per_segment_74039, seghist_tblock_sizze_68139);\n                    \n                    eta_p_68147 = (int64_t) 0;\n                    for (int64_t i_74077 = 0; i_74077 < read_per_thread_74076; i_74077++) {\n                        int64_t block_res_id_74078 = sext_i32_i64(local_tid_74048) * read_per_thread_74076 + i_74077;\n                        int64_t index_of_block_res_74079 = flat_segment_id_74060 * blocks_per_segment_74039 + block_res_id_74078;\n                        \n                        if (slt64(block_res_id_74078, blocks_per_segment_74039)) {\n                            eta_p_68148 = ((__global int64_t *) segred_tmp_mem_74043)[index_of_block_res_74079];\n                            \n                            int64_t defunc_0_op_res_68149 = add64(eta_p_68147, eta_p_68148);\n                            \n                            eta_p_68",
                                    "147 = defunc_0_op_res_68149;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048)] = eta_p_68147;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_74080;\n                    int32_t skip_waves_74081 = 1;\n                    int64_t eta_p_74065;\n                    int64_t eta_p_74066;\n                    \n                    offset_74080 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_74048, sext_i64_i32(seghist_tblock_sizze_68139))) {\n                            eta_p_74065 = ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048 + offset_74080)];\n                        }\n                    }\n                    offset_74080 = 1;\n                    while (slt32(offset_74080, wave_sizze_74050)) {\n                        if (slt32(local_tid_74048 + offset_74080, sext_i64_i32(seghist_tblock_sizze_68139)) && ((local_tid_74048 - squot32(local_tid_74048, wave_sizze_74050) * wave_sizze_74050) & (2 * offset_74080 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_74066 = ((volatile __local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048 + offset_74080)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_74067 = add64(eta_p_74065, eta_p_74066);\n                                \n                                eta_p_74065 = defunc_0_op_res_74067;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_74052)[sext_i3", "2_i64(local_tid_74048)] = eta_p_74065;\n                            }\n                        }\n                        offset_74080 *= 2;\n                    }\n                    while (slt32(skip_waves_74081, squot32(sext_i64_i32(seghist_tblock_sizze_68139) + wave_sizze_74050 - 1, wave_sizze_74050))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_74080 = skip_waves_74081 * wave_sizze_74050;\n                        if (slt32(local_tid_74048 + offset_74080, sext_i64_i32(seghist_tblock_sizze_68139)) && ((local_tid_74048 - squot32(local_tid_74048, wave_sizze_74050) * wave_sizze_74050) == 0 && (squot32(local_tid_74048, wave_sizze_74050) & (2 * skip_waves_74081 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_74066 = ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048 + offset_74080)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_74067 = add64(eta_p_74065, eta_p_74066);\n                                \n                                eta_p_74065 = defunc_0_op_res_74067;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_74052)[sext_i32_i64(local_tid_74048)] = eta_p_74065;\n                            }\n                        }\n                        skip_waves_74081 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_74048 == 0) {\n                            ((__global int64_t *) mem_68648)[bucket_id_74006] = eta_p_74065;\n                        }\n                    }\n                }\n            }\n        }\n        bar", "rier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_68139\n    #undef chunk_sizze_74009\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_61956_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_61956(__global int *global_failure, int64_t dim_38264, int64_t n_38267, int64_t reduce_arg1_54700, int64_t num_tblocks_61949, int64_t num_threads_69044, __global unsigned char *xs_mem_68616, __global unsigned char *mem_69032, __global unsigned char *mem_69043, __global unsigned char *mem_69048, __global unsigned char *mem_69053, __global unsigned char *mem_69055, __global unsigned char *mem_69056, __global unsigned char *counters_mem_72121, __global unsigned char *segred_tmp_mem_72123, __global unsigned char *segred_tmp_mem_72125, __global unsigned char *segred_tmp_mem_72127)\n{\n    #define segred_tblock_sizze_61947 (sort_for_Skyline_doublezisegred_nonseg_61956zisegred_tblock_sizze_61947)\n    #define chunk_sizze_72120 (sort_for_Skyline_doublezisegred_nonseg_61956zichunk_sizze_72120)\n    \n    volatile __local unsigned char *sync_arr_mem_72140_backing_2 = &shared_mem[0];\n    const int64_t sync_arr_mem_72140_backing_2_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_72138_backing_1 = &shared_mem[sync_arr_mem_72140_backing_2_offset];\n    const int64_t red_arr_i64_mem_72138_backing_1_offset = sync_arr_mem_72140_backing_2_offset + ((int64_t) 8 * segred_tblock_sizze_61947 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_61947, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_i64_mem_72135_backing_0 = &shared_mem[red_arr_i64_mem_72138_backing_1_offset];\n    const int64_t red_arr_i64_mem_72135_backing_0_offset = red_arr_i64_mem_72138_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_61947 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_61947, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n   ",
                                    " int32_t local_tid_72131;\n    int32_t tblock_sizze_72134;\n    int32_t wave_sizze_72133;\n    int32_t block_id_72132;\n    int32_t global_tid_72130;\n    int64_t phys_tid_61956;\n    __local unsigned char *red_arr_i64_mem_72135;\n    __local unsigned char *red_arr_i64_mem_72138;\n    __local unsigned char *sync_arr_mem_72140;\n    int64_t dummy_61954;\n    int64_t gtid_61955;\n    int64_t q_72142;\n    int64_t eta_p_block_res_acc_72143;\n    int64_t eta_p_block_res_acc_72144;\n    int64_t eta_p_54735;\n    int64_t eta_p_54737;\n    int64_t eta_p_54738;\n    int64_t eta_p_54740;\n    int64_t tblock_id_in_segment_72159;\n    int64_t block_base_offset_72160;\n    int32_t old_counter_72165;\n    bool is_last_block_72168;\n    \n    local_tid_72131 = get_local_id(0);\n    tblock_sizze_72134 = get_local_size(0);\n    wave_sizze_72133 = LOCKSTEP_WIDTH;\n    block_id_72132 = get_tblock_id(0);\n    global_tid_72130 = block_id_72132 * tblock_sizze_72134 + local_tid_72131;\n    phys_tid_61956 = sext_i32_i64(global_tid_72130);\n    red_arr_i64_mem_72135 = (__local unsigned char *) red_arr_i64_mem_72135_backing_0;\n    red_arr_i64_mem_72138 = (__local unsigned char *) red_arr_i64_mem_72138_backing_1;\n    sync_arr_mem_72140 = (__local unsigned char *) sync_arr_mem_72140_backing_2;\n    dummy_61954 = (int64_t) 0;\n    gtid_61955 = (int64_t) 0;\n    q_72142 = sdiv_up64(n_38267, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_61947 * num_tblocks_61949)) * chunk_sizze_72120);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_72143 = reduce_arg1_54700;\n        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n            ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock_sizze_61947] = ((__global double *) xs_mem_68616)[i_0];\n        }\n        eta_p_block_res_acc_72144 = (int64_t) 0;\n    }\n    tblock_id_in_segment_72159 = squot64(phys_tid_61956, segred_tblock_sizz", "e_61947);\n    block_base_offset_72160 = tblock_id_in_segment_72159 * q_72142 * segred_tblock_sizze_61947;\n    for (int64_t i_72161 = 0; i_72161 < q_72142; i_72161++) {\n        int64_t block_offset_72162;\n        int32_t offset_72163;\n        int32_t skip_waves_72164;\n        int64_t eta_p_72145;\n        int64_t eta_p_72147;\n        int64_t eta_p_72148;\n        int64_t eta_p_72150;\n        \n        block_offset_72162 = block_base_offset_72160 + i_72161 * segred_tblock_sizze_61947;\n        gtid_61955 = block_offset_72162 + sext_i32_i64(local_tid_72131);\n        if (slt64(gtid_61955, n_38267)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_54732 = ((__global int64_t *) mem_69032)[gtid_61955];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_54735 = eta_p_block_res_acc_72143;\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock_sizze_61947];\n                        }\n                        eta_p_54737 = eta_p_block_res_acc_72144;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_54738 = x_54732;\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[(phys_tid_61956 + num_threads_69044) * dim_38264 + i_0] = ((__global double *) mem_69043)[gtid_61955 + i_0 * n_38267];\n                        }\n                        eta_p_54740 = gtid_61955;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool lifted_lambda_res_54741 = sle64(e", "ta_p_54735, eta_p_54738);\n                        int64_t defunc_0_op_res_54742;\n                        \n                        if (lifted_lambda_res_54741) {\n                            defunc_0_op_res_54742 = eta_p_54738;\n                        } else {\n                            defunc_0_op_res_54742 = eta_p_54735;\n                        }\n                        \n                        int64_t defunc_0_op_res_54743;\n                        \n                        if (lifted_lambda_res_54741) {\n                            defunc_0_op_res_54743 = eta_p_54740;\n                        } else {\n                            defunc_0_op_res_54743 = eta_p_54737;\n                        }\n                        \n                        int64_t lmad_ext_69049 = dim_38264 * phys_tid_61956;\n                        int64_t binop_x_69050 = phys_tid_61956 + num_threads_69044;\n                        int64_t lmad_ext_69051 = dim_38264 * binop_x_69050;\n                        int64_t ext_69052;\n                        \n                        if (lifted_lambda_res_54741) {\n                            ext_69052 = lmad_ext_69051;\n                        } else {\n                            ext_69052 = lmad_ext_69049;\n                        }\n                        if (lifted_lambda_res_54741) { }\n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_72143 = defunc_0_op_res_54742;\n                            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                                ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock_sizze_61947] = ((__global double *) mem_69048)[ext_69052 + i_0];\n                            }\n                            eta_p_block_res_acc_72144 = defunc_0_op_res_54743;\n                        }\n                    }\n                }\n            }\n  ",
                                    "      }\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131)] = eta_p_block_res_acc_72143;\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock_sizze_61947];\n            }\n            ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131)] = eta_p_block_res_acc_72144;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_72164 = 1;\n        offset_72163 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_72131, sext_i64_i32(segred_tblock_sizze_61947))) {\n                eta_p_72145 = ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131 + offset_72163)];\n                if (!(phys_tid_61956 * dim_38264 == sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72163) * dim_38264)) {\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72163) * dim_38264 + i_0];\n                    }\n                }\n                eta_p_72147 = ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131 + offset_72163)];\n            }\n        }\n        offset_72163 = 1;\n        while (slt32(offset_72163, wave_sizze_72133)) {\n            if (slt32(local_tid_72131 + offset_72163, sext_i64_i32(segred_tblock_sizze_61947)) && ((local_tid_72131 - squot32(local_tid_72131, wave_sizze_72133) * wave_sizze_", "72133) & (2 * offset_72163 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_72148 = ((volatile __local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131 + offset_72163)];\n                    if (!((phys_tid_61956 + num_threads_69044) * dim_38264 == sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72163) * dim_38264)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[(phys_tid_61956 + num_threads_69044) * dim_38264 + i_0] = ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72163) * dim_38264 + i_0];\n                        }\n                    }\n                    eta_p_72150 = ((volatile __local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131 + offset_72163)];\n                }\n                // apply reduction operation\n                {\n                    bool lifted_lambda_res_72151 = sle64(eta_p_72145, eta_p_72148);\n                    int64_t defunc_0_op_res_72152;\n                    \n                    if (lifted_lambda_res_72151) {\n                        defunc_0_op_res_72152 = eta_p_72148;\n                    } else {\n                        defunc_0_op_res_72152 = eta_p_72145;\n                    }\n                    \n                    int64_t defunc_0_op_res_72153;\n                    \n                    if (lifted_lambda_res_72151) {\n                        defunc_0_op_res_72153 = eta_p_72150;\n                    } else {\n                        defunc_0_op_res_72153 = eta_p_72147;\n                    }\n                    \n                    int64_t lmad_ext_72154 = dim_38264 * phys_tid_61956;\n                    int64_t binop_x_72155 = phys_tid_61956 + num_threads_69044;\n                    int64_t lmad_ext_72156 = dim_38264 * binop_", "x_72155;\n                    int64_t ext_72157;\n                    \n                    if (lifted_lambda_res_72151) {\n                        ext_72157 = lmad_ext_72156;\n                    } else {\n                        ext_72157 = lmad_ext_72154;\n                    }\n                    if (lifted_lambda_res_72151) { }\n                    eta_p_72145 = defunc_0_op_res_72152;\n                    if (!(phys_tid_61956 * dim_38264 == ext_72157)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[ext_72157 + i_0];\n                        }\n                    }\n                    eta_p_72147 = defunc_0_op_res_72153;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131)] = eta_p_72145;\n                    ((volatile __local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131)] = eta_p_72147;\n                }\n            }\n            offset_72163 *= 2;\n        }\n        while (slt32(skip_waves_72164, squot32(sext_i64_i32(segred_tblock_sizze_61947) + wave_sizze_72133 - 1, wave_sizze_72133))) {\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            offset_72163 = skip_waves_72164 * wave_sizze_72133;\n            if (slt32(local_tid_72131 + offset_72163, sext_i64_i32(segred_tblock_sizze_61947)) && ((local_tid_72131 - squot32(local_tid_72131, wave_sizze_72133) * wave_sizze_72133) == 0 && (squot32(local_tid_72131, wave_sizze_72133) & (2 * skip_waves_72164 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_72148 = ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131 + offset_72163)];\n                    if (!((phys_tid_61956 + num_threads_69044) * dim_38264 == sext_i32_i64(block_id_72132) * (segre",
                                    "d_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72163) * dim_38264)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[(phys_tid_61956 + num_threads_69044) * dim_38264 + i_0] = ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72163) * dim_38264 + i_0];\n                        }\n                    }\n                    eta_p_72150 = ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131 + offset_72163)];\n                }\n                // apply reduction operation\n                {\n                    bool lifted_lambda_res_72151 = sle64(eta_p_72145, eta_p_72148);\n                    int64_t defunc_0_op_res_72152;\n                    \n                    if (lifted_lambda_res_72151) {\n                        defunc_0_op_res_72152 = eta_p_72148;\n                    } else {\n                        defunc_0_op_res_72152 = eta_p_72145;\n                    }\n                    \n                    int64_t defunc_0_op_res_72153;\n                    \n                    if (lifted_lambda_res_72151) {\n                        defunc_0_op_res_72153 = eta_p_72150;\n                    } else {\n                        defunc_0_op_res_72153 = eta_p_72147;\n                    }\n                    \n                    int64_t lmad_ext_72154 = dim_38264 * phys_tid_61956;\n                    int64_t binop_x_72155 = phys_tid_61956 + num_threads_69044;\n                    int64_t lmad_ext_72156 = dim_38264 * binop_x_72155;\n                    int64_t ext_72157;\n                    \n                    if (lifted_lambda_res_72151) {\n                        ext_72157 = lmad_ext_72156;\n                    } else {\n                        ext_72157 = lmad_ext_72154;\n                    }\n                    if (lifted_lambda_res_72151) { }\n                    eta_p_7", "2145 = defunc_0_op_res_72152;\n                    if (!(phys_tid_61956 * dim_38264 == ext_72157)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[ext_72157 + i_0];\n                        }\n                    }\n                    eta_p_72147 = defunc_0_op_res_72153;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131)] = eta_p_72145;\n                    ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131)] = eta_p_72147;\n                }\n            }\n            skip_waves_72164 *= 2;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Copy array-typed operands to result array\n        {\n            if (local_tid_72131 == 0) {\n                if (!((sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131) * dim_38264) == phys_tid_61956 * dim_38264)) {\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131) * dim_38264 + i_0] = ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0];\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_72131) == (int64_t) 0) {\n                eta_p_block_res_acc_72143 = eta_p_72145;\n                for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                    ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock", "_sizze_61947] = ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0];\n                }\n                eta_p_block_res_acc_72144 = eta_p_72147;\n            } else {\n                eta_p_block_res_acc_72143 = reduce_arg1_54700;\n                for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                    ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock_sizze_61947] = ((__global double *) xs_mem_68616)[i_0];\n                }\n                eta_p_block_res_acc_72144 = (int64_t) 0;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_72131 == 0) {\n            ((__global int64_t *) segred_tmp_mem_72123)[sext_i32_i64(block_id_72132)] = eta_p_block_res_acc_72143;\n            mem_fence_global();\n            for (int64_t nest_i_72166 = 0; nest_i_72166 < dim_38264; nest_i_72166++) {\n                double tmp_72167 = ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(local_tid_72131) + sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + nest_i_72166 * segred_tblock_sizze_61947];\n                \n                ((__global double *) segred_tmp_mem_72125)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + nest_i_72166 * segred_tblock_sizze_61947] = tmp_72167;\n                mem_fence_global();\n            }\n            ((__global int64_t *) segred_tmp_mem_72127)[sext_i32_i64(block_id_72132)] = eta_p_block_res_acc_72144;\n            mem_fence_global();\n            old_counter_72165 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72121)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_72140)[(int64_t) 0] = old_counter_72165 == sext_i64_i32(num_tblocks_61949 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last",
                                    "_block_72168 = ((__local bool *) sync_arr_mem_72140)[(int64_t) 0];\n    if (is_last_block_72168) {\n        if (local_tid_72131 == 0) {\n            old_counter_72165 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72121)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_61949));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_72169 = sdiv_up64(num_tblocks_61949, segred_tblock_sizze_61947);\n            \n            eta_p_54735 = reduce_arg1_54700;\n            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) xs_mem_68616)[i_0];\n            }\n            eta_p_54737 = (int64_t) 0;\n            for (int64_t i_72170 = 0; i_72170 < read_per_thread_72169; i_72170++) {\n                int64_t block_res_id_72171 = sext_i32_i64(local_tid_72131) * read_per_thread_72169 + i_72170;\n                int64_t index_of_block_res_72172 = block_res_id_72171;\n                \n                if (slt64(block_res_id_72171, num_tblocks_61949)) {\n                    eta_p_54738 = ((__global int64_t *) segred_tmp_mem_72123)[index_of_block_res_72172];\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) mem_69048)[(phys_tid_61956 + num_threads_69044) * dim_38264 + i_0] = ((__global double *) segred_tmp_mem_72125)[index_of_block_res_72172 * (segred_tblock_sizze_61947 * dim_38264) + i_0 * segred_tblock_sizze_61947];\n                    }\n                    eta_p_54740 = ((__global int64_t *) segred_tmp_mem_72127)[index_of_block_res_72172];\n                    \n                    bool lifted_lambda_res_54741 = sle64(eta_p_54735, eta_p_54738);\n                    int64_t defunc_0_op_res_54742;\n                    \n                    if (lifted_lambda_res_54741) {\n                        defunc_0_op_res_54742 = eta_p_54738;\n                    } else {\n          ", "              defunc_0_op_res_54742 = eta_p_54735;\n                    }\n                    \n                    int64_t defunc_0_op_res_54743;\n                    \n                    if (lifted_lambda_res_54741) {\n                        defunc_0_op_res_54743 = eta_p_54740;\n                    } else {\n                        defunc_0_op_res_54743 = eta_p_54737;\n                    }\n                    \n                    int64_t lmad_ext_69049 = dim_38264 * phys_tid_61956;\n                    int64_t binop_x_69050 = phys_tid_61956 + num_threads_69044;\n                    int64_t lmad_ext_69051 = dim_38264 * binop_x_69050;\n                    int64_t ext_69052;\n                    \n                    if (lifted_lambda_res_54741) {\n                        ext_69052 = lmad_ext_69051;\n                    } else {\n                        ext_69052 = lmad_ext_69049;\n                    }\n                    if (lifted_lambda_res_54741) { }\n                    eta_p_54735 = defunc_0_op_res_54742;\n                    if (!(phys_tid_61956 * dim_38264 == ext_69052)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[ext_69052 + i_0];\n                        }\n                    }\n                    eta_p_54737 = defunc_0_op_res_54743;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131)] = eta_p_54735;\n        ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131)] = eta_p_54737;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_72173;\n            int32_t skip_waves_72174 = 1;\n            int64_t eta_p_72145;\n            int64_t eta_p_72147;\n            int64_t eta_p_72148;\n            int64_t eta_p_72150;\n            \n            offset_72173 = 0;\n            // par", "ticipating threads read initial accumulator\n            {\n                if (slt32(local_tid_72131, sext_i64_i32(segred_tblock_sizze_61947))) {\n                    eta_p_72145 = ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131 + offset_72173)];\n                    if (!(phys_tid_61956 * dim_38264 == sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72173) * dim_38264)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72173) * dim_38264 + i_0];\n                        }\n                    }\n                    eta_p_72147 = ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131 + offset_72173)];\n                }\n            }\n            offset_72173 = 1;\n            while (slt32(offset_72173, wave_sizze_72133)) {\n                if (slt32(local_tid_72131 + offset_72173, sext_i64_i32(segred_tblock_sizze_61947)) && ((local_tid_72131 - squot32(local_tid_72131, wave_sizze_72133) * wave_sizze_72133) & (2 * offset_72173 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_72148 = ((volatile __local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131 + offset_72173)];\n                        if (!((phys_tid_61956 + num_threads_69044) * dim_38264 == sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72173) * dim_38264)) {\n                            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                                ((__global double *) mem_69048)[(phys_tid_61956 + num_threads_69044) * dim_38264 + i_0] = ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_t",
                                    "block_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72173) * dim_38264 + i_0];\n                            }\n                        }\n                        eta_p_72150 = ((volatile __local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131 + offset_72173)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool lifted_lambda_res_72151 = sle64(eta_p_72145, eta_p_72148);\n                        int64_t defunc_0_op_res_72152;\n                        \n                        if (lifted_lambda_res_72151) {\n                            defunc_0_op_res_72152 = eta_p_72148;\n                        } else {\n                            defunc_0_op_res_72152 = eta_p_72145;\n                        }\n                        \n                        int64_t defunc_0_op_res_72153;\n                        \n                        if (lifted_lambda_res_72151) {\n                            defunc_0_op_res_72153 = eta_p_72150;\n                        } else {\n                            defunc_0_op_res_72153 = eta_p_72147;\n                        }\n                        \n                        int64_t lmad_ext_72154 = dim_38264 * phys_tid_61956;\n                        int64_t binop_x_72155 = phys_tid_61956 + num_threads_69044;\n                        int64_t lmad_ext_72156 = dim_38264 * binop_x_72155;\n                        int64_t ext_72157;\n                        \n                        if (lifted_lambda_res_72151) {\n                            ext_72157 = lmad_ext_72156;\n                        } else {\n                            ext_72157 = lmad_ext_72154;\n                        }\n                        if (lifted_lambda_res_72151) { }\n                        eta_p_72145 = defunc_0_op_res_72152;\n                        if (!(phys_tid_61956 * dim_38264 == ext_72157)) {\n                            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                              ", "  ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[ext_72157 + i_0];\n                            }\n                        }\n                        eta_p_72147 = defunc_0_op_res_72153;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131)] = eta_p_72145;\n                        ((volatile __local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131)] = eta_p_72147;\n                    }\n                }\n                offset_72173 *= 2;\n            }\n            while (slt32(skip_waves_72174, squot32(sext_i64_i32(segred_tblock_sizze_61947) + wave_sizze_72133 - 1, wave_sizze_72133))) {\n                barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n                offset_72173 = skip_waves_72174 * wave_sizze_72133;\n                if (slt32(local_tid_72131 + offset_72173, sext_i64_i32(segred_tblock_sizze_61947)) && ((local_tid_72131 - squot32(local_tid_72131, wave_sizze_72133) * wave_sizze_72133) == 0 && (squot32(local_tid_72131, wave_sizze_72133) & (2 * skip_waves_72174 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_72148 = ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131 + offset_72173)];\n                        if (!((phys_tid_61956 + num_threads_69044) * dim_38264 == sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72173) * dim_38264)) {\n                            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                                ((__global double *) mem_69048)[(phys_tid_61956 + num_threads_69044) * dim_38264 + i_0] = ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131 + offset_72173) * dim_38264 + i_0];\n        ", "                    }\n                        }\n                        eta_p_72150 = ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131 + offset_72173)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool lifted_lambda_res_72151 = sle64(eta_p_72145, eta_p_72148);\n                        int64_t defunc_0_op_res_72152;\n                        \n                        if (lifted_lambda_res_72151) {\n                            defunc_0_op_res_72152 = eta_p_72148;\n                        } else {\n                            defunc_0_op_res_72152 = eta_p_72145;\n                        }\n                        \n                        int64_t defunc_0_op_res_72153;\n                        \n                        if (lifted_lambda_res_72151) {\n                            defunc_0_op_res_72153 = eta_p_72150;\n                        } else {\n                            defunc_0_op_res_72153 = eta_p_72147;\n                        }\n                        \n                        int64_t lmad_ext_72154 = dim_38264 * phys_tid_61956;\n                        int64_t binop_x_72155 = phys_tid_61956 + num_threads_69044;\n                        int64_t lmad_ext_72156 = dim_38264 * binop_x_72155;\n                        int64_t ext_72157;\n                        \n                        if (lifted_lambda_res_72151) {\n                            ext_72157 = lmad_ext_72156;\n                        } else {\n                            ext_72157 = lmad_ext_72154;\n                        }\n                        if (lifted_lambda_res_72151) { }\n                        eta_p_72145 = defunc_0_op_res_72152;\n                        if (!(phys_tid_61956 * dim_38264 == ext_72157)) {\n                            for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                                ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0] = ((__global double *) mem_69048)[ext_72157 + i",
                                    "_0];\n                            }\n                        }\n                        eta_p_72147 = defunc_0_op_res_72153;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_72135)[sext_i32_i64(local_tid_72131)] = eta_p_72145;\n                        ((__local int64_t *) red_arr_i64_mem_72138)[sext_i32_i64(local_tid_72131)] = eta_p_72147;\n                    }\n                }\n                skip_waves_72174 *= 2;\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            // Copy array-typed operands to result array\n            {\n                if (local_tid_72131 == 0) {\n                    if (!((sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131) * dim_38264) == phys_tid_61956 * dim_38264)) {\n                        for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                            ((__global double *) mem_69048)[sext_i32_i64(block_id_72132) * (segred_tblock_sizze_61947 * dim_38264) + sext_i32_i64(local_tid_72131) * dim_38264 + i_0] = ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0];\n                        }\n                    }\n                }\n            }\n            // and back to memory with the final result\n            {\n                if (local_tid_72131 == 0) {\n                    ((__global int64_t *) mem_69053)[(int64_t) 0] = eta_p_72145;\n                    for (int64_t i_0 = 0; i_0 < dim_38264; i_0++) {\n                        ((__global double *) mem_69055)[i_0] = ((__global double *) mem_69048)[phys_tid_61956 * dim_38264 + i_0];\n                    }\n                    ((__global int64_t *) mem_69056)[(int64_t) 0] = eta_p_72147;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_61947\n    #undef chunk_sizze_72120\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_6604", "4_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_66044(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_38264, int64_t dz2080U_38265, int64_t total_grid_no_38275, int64_t i_55346, int64_t num_tblocks_66039, int64_t num_threads_71585, int64_t num_threads_72901, __global unsigned char *start_of_grid_partition_mem_68615, __global unsigned char *mem_68642, __global unsigned char *mem_68643, __global unsigned char *mem_69996, __global unsigned char *color_71440, __global unsigned char *counters_mem_72897, __global unsigned char *segred_tmp_mem_72899)\n{\n    #define segred_tblock_sizze_66037 (sort_for_Skyline_doublezisegred_nonseg_66044zisegred_tblock_sizze_66037)\n    #define chunk_sizze_72896 (sort_for_Skyline_doublezisegred_nonseg_66044zichunk_sizze_72896)\n    \n    volatile __local unsigned char *sync_arr_mem_72909_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_72909_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_bool_mem_72907_backing_0 = &shared_mem[sync_arr_mem_72909_backing_1_offset];\n    const int64_t red_arr_bool_mem_72907_backing_0_offset = sync_arr_mem_72909_backing_1_offset + (segred_tblock_sizze_66037 + srem64((int64_t) 8 - srem64(segred_tblock_sizze_66037, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_72903;\n    int32_t tblock_sizze_72906;\n    int32_t wave_sizze_72905;\n    int32_t block_id_72904;\n    int32_t global_tid_72902;\n    int64_t phys_tid_66044;\n    __local unsigned char *red_arr_bool_mem_72907;\n    __local unsigned char *sync_arr_mem_72909;\n    int64_t dummy_66042;\n    int64_t gtid_66043;\n    int64_t q_72911;\n    bool eta_p_block_res_acc_72912;\n    bool eta_p_55378;\n    bool eta_p_55379;\n    int64_t tblock_id_in_s", "egment_72916;\n    int64_t block_base_offset_72917;\n    int32_t offset_72922;\n    int32_t skip_waves_72923;\n    bool eta_p_72913;\n    bool eta_p_72914;\n    int32_t old_counter_72924;\n    bool is_last_block_72925;\n    \n    local_tid_72903 = get_local_id(0);\n    tblock_sizze_72906 = get_local_size(0);\n    wave_sizze_72905 = LOCKSTEP_WIDTH;\n    block_id_72904 = get_tblock_id(0);\n    global_tid_72902 = block_id_72904 * tblock_sizze_72906 + local_tid_72903;\n    phys_tid_66044 = sext_i32_i64(global_tid_72902);\n    red_arr_bool_mem_72907 = (__local unsigned char *) red_arr_bool_mem_72907_backing_0;\n    sync_arr_mem_72909 = (__local unsigned char *) sync_arr_mem_72909_backing_1;\n    dummy_66042 = (int64_t) 0;\n    gtid_66043 = (int64_t) 0;\n    q_72911 = sdiv_up64(total_grid_no_38275, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_66037 * num_tblocks_66039)) * chunk_sizze_72896);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_72912 = 0;\n    }\n    tblock_id_in_segment_72916 = squot64(phys_tid_66044, segred_tblock_sizze_66037);\n    block_base_offset_72917 = tblock_id_in_segment_72916 * q_72911 * segred_tblock_sizze_66037;\n    for (int64_t i_72918 = 0; i_72918 < q_72911; i_72918++) {\n        int64_t block_offset_72919 = block_base_offset_72917 + i_72918 * segred_tblock_sizze_66037;\n        \n        gtid_66043 = phys_tid_66044 + num_threads_72901 * i_72918;\n        if (slt64(gtid_66043, total_grid_no_38275)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    bool cond_56647 = gtid_66043 == i_55346;\n                    bool x_70848 = !cond_56647;\n                    int32_t zeze_lhs_56653;\n                    \n                    if (x_70848) {\n                        int32_t x_70850 = ((__global int32_t *) mem_68642)[gtid_66043];\n                        \n                        zeze_lhs_56653 = x_70850;\n                    } else {\n                        zeze_",
                                    "lhs_56653 = 0;\n                    }\n                    \n                    bool cond_f_res_56654 = zeze_lhs_56653 == 0;\n                    bool cond_56648 = cond_56647 || cond_f_res_56654;\n                    bool defunc_0_f_res_56655;\n                    \n                    if (cond_56648) {\n                        defunc_0_f_res_56655 = 0;\n                    } else {\n                        bool y_56657 = slt64(gtid_66043, dz2080U_38265);\n                        bool index_certs_56659;\n                        \n                        if (!y_56657) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 105) == -1) {\n                                    global_failure_args[0] = (int64_t) gtid_66043;\n                                    global_failure_args[1] = (int64_t) dz2080U_38265;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        for (int64_t i_68290 = 0; i_68290 < dim_38264; i_68290++) {\n                            double eta_p_56662 = ((__global double *) start_of_grid_partition_mem_68615)[i_55346 * dim_38264 + i_68290];\n                            double eta_p_56663 = ((__global double *) mem_69996)[gtid_66043 + i_68290 * dz2080U_38265];\n                            bool defunc_0_f_res_56664 = eta_p_56663 < eta_p_56662;\n                            \n                            ((__global bool *) color_71440)[phys_tid_66044 + i_68290 * num_threads_71585] = defunc_0_f_res_56664;\n                        }\n                        \n                        bool defunc_0_foldl_res_56665;\n                        bool acc_56667 = 1;\n                        \n                        for (int64_t i_56666 = 0; i_56666 < dim_38264; i_56666++) {\n                            bool b_56668 = ((__global bool *) color_71440)", "[phys_tid_66044 + i_56666 * num_threads_71585];\n                            bool x_56669 = acc_56667 && b_56668;\n                            bool acc_tmp_72921 = x_56669;\n                            \n                            acc_56667 = acc_tmp_72921;\n                        }\n                        defunc_0_foldl_res_56665 = acc_56667;\n                        defunc_0_f_res_56655 = defunc_0_foldl_res_56665;\n                    }\n                    // load accumulator(s)\n                    {\n                        eta_p_55378 = eta_p_block_res_acc_72912;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_55379 = defunc_0_f_res_56655;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool defunc_0_op_res_55380 = eta_p_55378 || eta_p_55379;\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_72912 = defunc_0_op_res_55380;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_block_res_acc_72912;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_72923 = 1;\n    offset_72922 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_72903, sext_i64_i32(segred_tblock_sizze_66037))) {\n            eta_p_72913 = ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72922)];\n        }\n    }\n    offset_72922 = 1;\n    while (slt32(offset_72922, wave_sizze_72905)) {\n        if (slt32(local_tid_72903 + offset_72922, sext_i64_i32(segred_tblock_sizze_66037)", ") && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) & (2 * offset_72922 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_72914 = ((volatile __local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72922)];\n            }\n            // apply reduction operation\n            {\n                bool defunc_0_op_res_72915 = eta_p_72913 || eta_p_72914;\n                \n                eta_p_72913 = defunc_0_op_res_72915;\n            }\n            // write result of operation\n            {\n                ((volatile __local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72913;\n            }\n        }\n        offset_72922 *= 2;\n    }\n    while (slt32(skip_waves_72923, squot32(sext_i64_i32(segred_tblock_sizze_66037) + wave_sizze_72905 - 1, wave_sizze_72905))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_72922 = skip_waves_72923 * wave_sizze_72905;\n        if (slt32(local_tid_72903 + offset_72922, sext_i64_i32(segred_tblock_sizze_66037)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) == 0 && (squot32(local_tid_72903, wave_sizze_72905) & (2 * skip_waves_72923 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_72914 = ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72922)];\n            }\n            // apply reduction operation\n            {\n                bool defunc_0_op_res_72915 = eta_p_72913 || eta_p_72914;\n                \n                eta_p_72913 = defunc_0_op_res_72915;\n            }\n            // write result of operation\n            {\n                ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72913;\n            }\n        }\n        skip_waves_72923 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if",
                                    " (sext_i32_i64(local_tid_72903) == (int64_t) 0) {\n            eta_p_block_res_acc_72912 = eta_p_72913;\n        } else {\n            eta_p_block_res_acc_72912 = 0;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_72903 == 0) {\n            ((__global bool *) segred_tmp_mem_72899)[sext_i32_i64(block_id_72904)] = eta_p_block_res_acc_72912;\n            mem_fence_global();\n            old_counter_72924 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72897)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_72909)[(int64_t) 0] = old_counter_72924 == sext_i64_i32(num_tblocks_66039 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_72925 = ((__local bool *) sync_arr_mem_72909)[(int64_t) 0];\n    if (is_last_block_72925) {\n        if (local_tid_72903 == 0) {\n            old_counter_72924 = atomic_add_i32_global(&((volatile __global int *) counters_mem_72897)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_66039));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_72926 = sdiv_up64(num_tblocks_66039, segred_tblock_sizze_66037);\n            \n            eta_p_55378 = 0;\n            for (int64_t i_72927 = 0; i_72927 < read_per_thread_72926; i_72927++) {\n                int64_t block_res_id_72928 = sext_i32_i64(local_tid_72903) * read_per_thread_72926 + i_72927;\n                int64_t index_of_block_res_72929 = block_res_id_72928;\n                \n                if (slt64(block_res_id_72928, num_tblocks_66039)) {\n                    eta_p_55379 = ((__global bool *) segred_tmp_mem_72899)[index_of_block_res_72929];\n                    \n                    bool defunc_0_op_res_55380 = eta_p_55378 || eta_p_55379;\n                    \n                    eta_p_55378 = defunc_0_op_res_55380;\n                }\n            }\n        }\n        ((__local bool *) red_arr_bool_mem_72907)", "[sext_i32_i64(local_tid_72903)] = eta_p_55378;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_72930;\n            int32_t skip_waves_72931 = 1;\n            bool eta_p_72913;\n            bool eta_p_72914;\n            \n            offset_72930 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_72903, sext_i64_i32(segred_tblock_sizze_66037))) {\n                    eta_p_72913 = ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72930)];\n                }\n            }\n            offset_72930 = 1;\n            while (slt32(offset_72930, wave_sizze_72905)) {\n                if (slt32(local_tid_72903 + offset_72930, sext_i64_i32(segred_tblock_sizze_66037)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) & (2 * offset_72930 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_72914 = ((volatile __local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72930)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool defunc_0_op_res_72915 = eta_p_72913 || eta_p_72914;\n                        \n                        eta_p_72913 = defunc_0_op_res_72915;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72913;\n                    }\n                }\n                offset_72930 *= 2;\n            }\n            while (slt32(skip_waves_72931, squot32(sext_i64_i32(segred_tblock_sizze_66037) + wave_sizze_72905 - 1, wave_sizze_72905))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_72930 = skip_waves_72931 * wave_sizze_72905;\n                if (slt32(local_tid_72903 + o", "ffset_72930, sext_i64_i32(segred_tblock_sizze_66037)) && ((local_tid_72903 - squot32(local_tid_72903, wave_sizze_72905) * wave_sizze_72905) == 0 && (squot32(local_tid_72903, wave_sizze_72905) & (2 * skip_waves_72931 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_72914 = ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903 + offset_72930)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool defunc_0_op_res_72915 = eta_p_72913 || eta_p_72914;\n                        \n                        eta_p_72913 = defunc_0_op_res_72915;\n                    }\n                    // write result of operation\n                    {\n                        ((__local bool *) red_arr_bool_mem_72907)[sext_i32_i64(local_tid_72903)] = eta_p_72913;\n                    }\n                }\n                skip_waves_72931 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_72903 == 0) {\n                    ((__global bool *) mem_68643)[i_55346] = eta_p_72913;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_66037\n    #undef chunk_sizze_72896\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_small_72821_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_small_72821(__global int *global_failure, int64_t total_grid_no_38275, int64_t num_tblocks_65956, int64_t num_subhistos_72715, int64_t segment_sizze_nonzzero_72823, __global unsigned char *mem_68642, __global unsigned char *defunc_0_map_res_subhistos_mem_72716)\n{\n    #define seghist_tblock_sizze_65954 (sort_for_Skyline_doublezisegred_small_72821ziseghist_tblock_sizze_65954)\n    \n    volatile __local unsigned char *red_arr_i32_mem_72830_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i32_mem_72830_backing_0_offset = 0 + (",
                                    "(int64_t) 4 * seghist_tblock_sizze_65954 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_65954, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_72826;\n    int32_t tblock_sizze_72829;\n    int32_t wave_sizze_72828;\n    int32_t block_id_72827;\n    int32_t global_tid_72825;\n    int64_t flat_gtid_72821;\n    __local unsigned char *red_arr_i32_mem_72830;\n    int32_t phys_tblock_id_72832;\n    int32_t iterations_72833;\n    \n    local_tid_72826 = get_local_id(0);\n    tblock_sizze_72829 = get_local_size(0);\n    wave_sizze_72828 = LOCKSTEP_WIDTH;\n    block_id_72827 = get_tblock_id(0);\n    global_tid_72825 = block_id_72827 * tblock_sizze_72829 + local_tid_72826;\n    flat_gtid_72821 = sext_i32_i64(global_tid_72825);\n    red_arr_i32_mem_72830 = (__local unsigned char *) red_arr_i32_mem_72830_backing_0;\n    phys_tblock_id_72832 = get_tblock_id(0);\n    iterations_72833 = sdiv_up32(sext_i64_i32(sdiv_up64(total_grid_no_38275, squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823))) - phys_tblock_id_72832, sext_i64_i32(num_tblocks_65956));\n    for (int32_t i_72834 = 0; i_72834 < iterations_72833; i_72834++) {\n        int32_t virt_tblock_id_72835;\n        int64_t slice_72836;\n        int64_t bucket_id_72819;\n        int64_t remnant_72837;\n        int64_t subhistogram_id_72820;\n        \n        virt_tblock_id_72835 = phys_tblock_id_72832 + i_72834 * sext_i64_i32(num_tblocks_65956);\n        slice_72836 = total_grid_no_38275;\n        bucket_id_72819 = squot64(sext_i32_i64(local_tid_72826), segment_sizze_nonzzero_72823) + sext_i32_i64(virt_tblock_id_72835) * squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823);\n        remnant_72837 = squot64(sext_i32_i64(local_tid_72826), segment_sizze_nonzzero_72823) + sext_i32_i64(virt_tblock_id_72835) * squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823) - bucket_id_72819;\n        subhistogram_id_72820 = srem64(sext_i32_i64(local_tid_72826),", " num_subhistos_72715);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_72715) && (slt64(bucket_id_72819, total_grid_no_38275) && slt64(sext_i32_i64(local_tid_72826), num_subhistos_72715 * squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823)))) {\n                // save results to be reduced\n                {\n                    int32_t tmp_72838 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_72716)[subhistogram_id_72820 * total_grid_no_38275 + bucket_id_72819];\n                    \n                    ((__local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)] = tmp_72838;\n                }\n            } else {\n                ((__local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)] = 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_72715)) {\n            // perform segmented scan to imitate reduction\n            {\n                int32_t eta_p_65962;\n                int32_t eta_p_65963;\n                int32_t eta_p_72839;\n                int32_t eta_p_72840;\n                bool ltid_in_bounds_72842 = slt64(sext_i32_i64(local_tid_72826), num_subhistos_72715 * squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823));\n                int32_t skip_threads_72843;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_72842) {\n                        eta_p_65963 = ((volatile __local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)];\n                        if ((local_tid_72826 - squot32(local_tid_72826, 32) * 32) == 0) {\n                            eta_p_65962 = eta_p_65963;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_72843 = 1;\n                    while (slt32(skip_threads_72843", ", 32)) {\n                        bool thread_active_72844 = sle32(skip_threads_72843, local_tid_72826 - squot32(local_tid_72826, 32) * 32) && ltid_in_bounds_72842;\n                        \n                        if (thread_active_72844) {\n                            // read operands\n                            {\n                                eta_p_65962 = ((volatile __local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826) - sext_i32_i64(skip_threads_72843)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_72845 = slt64(srem64(sext_i32_i64(local_tid_72826), num_subhistos_72715), sext_i32_i64(local_tid_72826) - sext_i32_i64(local_tid_72826 - skip_threads_72843));\n                            \n                            if (thread_active_72844 && inactive_72845) {\n                                eta_p_65962 = eta_p_65963;\n                            }\n                            if (thread_active_72844) {\n                                if (!inactive_72845) {\n                                    int32_t defunc_0_op_res_65964 = add32(eta_p_65962, eta_p_65963);\n                                    \n                                    eta_p_65962 = defunc_0_op_res_65964;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_72828, skip_threads_72843)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_72844) {\n                            // write result\n                            {\n                                ((volatile __local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)] = eta_p_65962;\n                                eta_p_65963 = eta_p_65962;\n                            }\n                        }\n                        if (sle32(wave_sizze_72828, skip_th",
                                    "reads_72843)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_72843 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_72826 - squot32(local_tid_72826, 32) * 32) == 31 && ltid_in_bounds_72842) {\n                        ((volatile __local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(squot32(local_tid_72826, 32))] = eta_p_65962;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_72846;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_72826, 32) == 0 && ltid_in_bounds_72842) {\n                            eta_p_72840 = ((volatile __local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)];\n                            if ((local_tid_72826 - squot32(local_tid_72826, 32) * 32) == 0) {\n                                eta_p_72839 = eta_p_72840;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_72846 = 1;\n                        while (slt32(skip_threads_72846, 32)) {\n                            bool thread_active_72847 = sle32(skip_threads_72846, local_tid_72826 - squot32(local_tid_72826, 32) * 32) && (squot32(local_tid_72826, 32) == 0 && ltid_in_bounds_72842);\n                            \n                            if (thread_active_72847) {\n                                // read operands\n                                {\n                                    eta_p_72839 = ((volatile __lo", "cal int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826) - sext_i32_i64(skip_threads_72846)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_72848 = slt64(srem64(sext_i32_i64(local_tid_72826 * 32 + 32 - 1), num_subhistos_72715), sext_i32_i64(local_tid_72826 * 32 + 32 - 1) - sext_i32_i64((local_tid_72826 - skip_threads_72846) * 32 + 32 - 1));\n                                \n                                if (thread_active_72847 && inactive_72848) {\n                                    eta_p_72839 = eta_p_72840;\n                                }\n                                if (thread_active_72847) {\n                                    if (!inactive_72848) {\n                                        int32_t defunc_0_op_res_72841 = add32(eta_p_72839, eta_p_72840);\n                                        \n                                        eta_p_72839 = defunc_0_op_res_72841;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_72828, skip_threads_72846)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_72847) {\n                                // write result\n                                {\n                                    ((volatile __local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)] = eta_p_72839;\n                                    eta_p_72840 = eta_p_72839;\n                                }\n                            }\n                            if (sle32(wave_sizze_72828, skip_threads_72846)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_72846 *= 2;\n                        }\n                    }\n           ", "     }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_72849 = squot32(local_tid_72826, 32) == 0 || !ltid_in_bounds_72842;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_72849) {\n                            eta_p_65963 = eta_p_65962;\n                            eta_p_65962 = ((__local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(squot32(local_tid_72826, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_72850 = slt64(srem64(sext_i32_i64(local_tid_72826), num_subhistos_72715), sext_i32_i64(local_tid_72826) - sext_i32_i64(squot32(local_tid_72826, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_72849) {\n                            if (inactive_72850) {\n                                eta_p_65962 = eta_p_65963;\n                            }\n                        }\n                        if (!no_carry_in_72849) {\n                            if (!inactive_72850) {\n                                int32_t defunc_0_op_res_65964 = add32(eta_p_65962, eta_p_65963);\n                                \n                                eta_p_65962 = defunc_0_op_res_65964;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_72849) {\n                            ((__local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)] = eta_p_65962;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_72826, 32) == 0 && ltid_in_bounds_7",
                                    "2842) {\n                        ((__local int32_t *) red_arr_i32_mem_72830)[sext_i32_i64(local_tid_72826)] = eta_p_65963;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_72835) * squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823) + sext_i32_i64(local_tid_72826), total_grid_no_38275) && slt64(sext_i32_i64(local_tid_72826), squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823))) {\n                int32_t tmp_72851 = ((__local int32_t *) red_arr_i32_mem_72830)[(sext_i32_i64(local_tid_72826) + (int64_t) 1) * segment_sizze_nonzzero_72823 - (int64_t) 1];\n                \n                ((__global int32_t *) mem_68642)[sext_i32_i64(virt_tblock_id_72835) * squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823) + sext_i32_i64(local_tid_72826)] = tmp_72851;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_65954\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_small_74008_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_small_74008(__global int *global_failure, int64_t total_part_no_38276, int64_t num_tblocks_68141, int64_t num_subhistos_73922, int64_t segment_sizze_nonzzero_74010, __global unsigned char *mem_68648, __global unsigned char *defunc_0_map_res_subhistos_mem_73923)\n{\n    #define seghist_tblock_sizze_68139 (sort_for_Skyline_doublezisegred_small_74008ziseghist_tblock_sizze_68139)\n    \n    volatile __local unsigned char *red_arr_i64_mem_74017_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_74017_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_68139 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_68139, (int64_t) 8), (int64_t) 8));\n    \n    if (*glo", "bal_failure >= 0)\n        return;\n    \n    int32_t local_tid_74013;\n    int32_t tblock_sizze_74016;\n    int32_t wave_sizze_74015;\n    int32_t block_id_74014;\n    int32_t global_tid_74012;\n    int64_t flat_gtid_74008;\n    __local unsigned char *red_arr_i64_mem_74017;\n    int32_t phys_tblock_id_74019;\n    int32_t iterations_74020;\n    \n    local_tid_74013 = get_local_id(0);\n    tblock_sizze_74016 = get_local_size(0);\n    wave_sizze_74015 = LOCKSTEP_WIDTH;\n    block_id_74014 = get_tblock_id(0);\n    global_tid_74012 = block_id_74014 * tblock_sizze_74016 + local_tid_74013;\n    flat_gtid_74008 = sext_i32_i64(global_tid_74012);\n    red_arr_i64_mem_74017 = (__local unsigned char *) red_arr_i64_mem_74017_backing_0;\n    phys_tblock_id_74019 = get_tblock_id(0);\n    iterations_74020 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_38276, squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010))) - phys_tblock_id_74019, sext_i64_i32(num_tblocks_68141));\n    for (int32_t i_74021 = 0; i_74021 < iterations_74020; i_74021++) {\n        int32_t virt_tblock_id_74022;\n        int64_t slice_74023;\n        int64_t bucket_id_74006;\n        int64_t remnant_74024;\n        int64_t subhistogram_id_74007;\n        \n        virt_tblock_id_74022 = phys_tblock_id_74019 + i_74021 * sext_i64_i32(num_tblocks_68141);\n        slice_74023 = total_part_no_38276;\n        bucket_id_74006 = squot64(sext_i32_i64(local_tid_74013), segment_sizze_nonzzero_74010) + sext_i32_i64(virt_tblock_id_74022) * squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010);\n        remnant_74024 = squot64(sext_i32_i64(local_tid_74013), segment_sizze_nonzzero_74010) + sext_i32_i64(virt_tblock_id_74022) * squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010) - bucket_id_74006;\n        subhistogram_id_74007 = srem64(sext_i32_i64(local_tid_74013), num_subhistos_73922);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_73922) && (slt64(bucket_id_74006, ", "total_part_no_38276) && slt64(sext_i32_i64(local_tid_74013), num_subhistos_73922 * squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010)))) {\n                // save results to be reduced\n                {\n                    int64_t tmp_74025 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_73923)[subhistogram_id_74007 * total_part_no_38276 + bucket_id_74006];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)] = tmp_74025;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_73922)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_68147;\n                int64_t eta_p_68148;\n                int64_t eta_p_74026;\n                int64_t eta_p_74027;\n                bool ltid_in_bounds_74029 = slt64(sext_i32_i64(local_tid_74013), num_subhistos_73922 * squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010));\n                int32_t skip_threads_74030;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_74029) {\n                        eta_p_68148 = ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)];\n                        if ((local_tid_74013 - squot32(local_tid_74013, 32) * 32) == 0) {\n                            eta_p_68147 = eta_p_68148;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_74030 = 1;\n                    while (slt32(skip_threads_74030, 32)) {\n                        bool thread_active_74031 = sle32(skip_threads_74030, local_tid_74013 - squot32(local_tid_74013, 32) * 32) && ltid_in",
                                    "_bounds_74029;\n                        \n                        if (thread_active_74031) {\n                            // read operands\n                            {\n                                eta_p_68147 = ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013) - sext_i32_i64(skip_threads_74030)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_74032 = slt64(srem64(sext_i32_i64(local_tid_74013), num_subhistos_73922), sext_i32_i64(local_tid_74013) - sext_i32_i64(local_tid_74013 - skip_threads_74030));\n                            \n                            if (thread_active_74031 && inactive_74032) {\n                                eta_p_68147 = eta_p_68148;\n                            }\n                            if (thread_active_74031) {\n                                if (!inactive_74032) {\n                                    int64_t defunc_0_op_res_68149 = add64(eta_p_68147, eta_p_68148);\n                                    \n                                    eta_p_68147 = defunc_0_op_res_68149;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_74015, skip_threads_74030)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_74031) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)] = eta_p_68147;\n                                eta_p_68148 = eta_p_68147;\n                            }\n                        }\n                        if (sle32(wave_sizze_74015, skip_threads_74030)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_74030 *= 2;\n", "                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_74013 - squot32(local_tid_74013, 32) * 32) == 31 && ltid_in_bounds_74029) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(squot32(local_tid_74013, 32))] = eta_p_68147;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_74033;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_74013, 32) == 0 && ltid_in_bounds_74029) {\n                            eta_p_74027 = ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)];\n                            if ((local_tid_74013 - squot32(local_tid_74013, 32) * 32) == 0) {\n                                eta_p_74026 = eta_p_74027;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_74033 = 1;\n                        while (slt32(skip_threads_74033, 32)) {\n                            bool thread_active_74034 = sle32(skip_threads_74033, local_tid_74013 - squot32(local_tid_74013, 32) * 32) && (squot32(local_tid_74013, 32) == 0 && ltid_in_bounds_74029);\n                            \n                            if (thread_active_74034) {\n                                // read operands\n                                {\n                                    eta_p_74026 = ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013) - sext_i32_i64(skip_threads_74033)];\n                                }\n          ", "                  }\n                            // perform operation\n                            {\n                                bool inactive_74035 = slt64(srem64(sext_i32_i64(local_tid_74013 * 32 + 32 - 1), num_subhistos_73922), sext_i32_i64(local_tid_74013 * 32 + 32 - 1) - sext_i32_i64((local_tid_74013 - skip_threads_74033) * 32 + 32 - 1));\n                                \n                                if (thread_active_74034 && inactive_74035) {\n                                    eta_p_74026 = eta_p_74027;\n                                }\n                                if (thread_active_74034) {\n                                    if (!inactive_74035) {\n                                        int64_t defunc_0_op_res_74028 = add64(eta_p_74026, eta_p_74027);\n                                        \n                                        eta_p_74026 = defunc_0_op_res_74028;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_74015, skip_threads_74033)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_74034) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)] = eta_p_74026;\n                                    eta_p_74027 = eta_p_74026;\n                                }\n                            }\n                            if (sle32(wave_sizze_74015, skip_threads_74033)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_74033 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_74036 = squot32(local_tid_74013, 32) == 0 || !",
                                    "ltid_in_bounds_74029;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_74036) {\n                            eta_p_68148 = eta_p_68147;\n                            eta_p_68147 = ((__local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(squot32(local_tid_74013, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_74037 = slt64(srem64(sext_i32_i64(local_tid_74013), num_subhistos_73922), sext_i32_i64(local_tid_74013) - sext_i32_i64(squot32(local_tid_74013, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_74036) {\n                            if (inactive_74037) {\n                                eta_p_68147 = eta_p_68148;\n                            }\n                        }\n                        if (!no_carry_in_74036) {\n                            if (!inactive_74037) {\n                                int64_t defunc_0_op_res_68149 = add64(eta_p_68147, eta_p_68148);\n                                \n                                eta_p_68147 = defunc_0_op_res_68149;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_74036) {\n                            ((__local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)] = eta_p_68147;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_74013, 32) == 0 && ltid_in_bounds_74029) {\n                        ((__local int64_t *) red_arr_i64_mem_74017)[sext_i32_i64(local_tid_74013)] = eta_p_68148;\n                    }\n     ", "           }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_74022) * squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010) + sext_i32_i64(local_tid_74013), total_part_no_38276) && slt64(sext_i32_i64(local_tid_74013), squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010))) {\n                int64_t tmp_74038 = ((__local int64_t *) red_arr_i64_mem_74017)[(sext_i32_i64(local_tid_74013) + (int64_t) 1) * segment_sizze_nonzzero_74010 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_68648)[sext_i32_i64(virt_tblock_id_74022) * squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010) + sext_i32_i64(local_tid_74013)] = tmp_74038;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_68139\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegscan_67833_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegscan_67833(__global int *global_failure, int64_t n_38267, int64_t num_tblocks_67829, int64_t num_virt_blocks_73309, int64_t num_virt_threads_73310, __global unsigned char *ext_mem_70319, __global unsigned char *mem_70324, __global unsigned char *status_flags_mem_73311, __global unsigned char *aggregates_mem_73313, __global unsigned char *incprefixes_mem_73315, __global unsigned char *global_dynid_mem_73317)\n{\n    #define segscan_tblock_sizze_67828 (sort_for_Skyline_doublezisegscan_67833zisegscan_tblock_sizze_67828)\n    #define chunk_sizze_73308 (sort_for_Skyline_doublezisegscan_67833zichunk_sizze_73308)\n    \n    volatile __local unsigned char *local_mem_73327_backing_0 = &shared_mem[0];\n    const int64_t local_mem_73327_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_67828), chunk_sizze_73308 * seg", "scan_tblock_sizze_67828 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_67828), chunk_sizze_73308 * segscan_tblock_sizze_67828 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_73320;\n    int32_t tblock_sizze_73323;\n    int32_t wave_sizze_73322;\n    int32_t block_id_73321;\n    int32_t global_tid_73319;\n    int64_t phys_tid_67833;\n    int32_t chunk_sizze_32b_73324;\n    int64_t byte_offsets_73325;\n    int64_t warp_byte_offset_73326;\n    __local unsigned char *local_mem_73327;\n    int64_t trans_arr_len_73328;\n    int64_t phys_block_id_73334;\n    int64_t virtloop_bound_73335;\n    \n    local_tid_73320 = get_local_id(0);\n    tblock_sizze_73323 = get_local_size(0);\n    wave_sizze_73322 = LOCKSTEP_WIDTH;\n    block_id_73321 = get_tblock_id(0);\n    global_tid_73319 = block_id_73321 * tblock_sizze_73323 + local_tid_73320;\n    phys_tid_67833 = sext_i32_i64(global_tid_73319);\n    chunk_sizze_32b_73324 = sext_i64_i32(chunk_sizze_73308);\n    byte_offsets_73325 = segscan_tblock_sizze_67828 * (int64_t) 8;\n    warp_byte_offset_73326 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_73327 = (__local unsigned char *) local_mem_73327_backing_0;\n    trans_arr_len_73328 = chunk_sizze_73308 * segscan_tblock_sizze_67828;\n    phys_block_id_73334 = get_tblock_id(0);\n    virtloop_bound_73335 = sdiv_up64(num_virt_blocks_73309 - phys_block_id_73334, num_tblocks_67829);\n    for (int64_t virtloop_i_73336 = 0; virtloop_i_73336 < virtloop_bound_73335; virtloop_i_73336++) {\n        int64_t dynamic_id_73337;\n        int64_t block_offset_73338;\n        int64_t sgm_idx_73339;\n        int32_t boundary_73340;\n        int32_t segsizze_compact_73341;\n        int64_t private_mem_73342[chunk_sizze_73308];\n        int64_t thd_offset_73344;\n        int64_t acc_73360;\n        int64_t prefix_73370;\n        bool block_new_sgm_73371;\n        \n        // Fi",
                                    "rst thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_73320 == 0) {\n                dynamic_id_73337 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_73317)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_73327)[(int64_t) 0] = dynamic_id_73337;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_73337 == num_virt_blocks_73309 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_73317)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_73337 = ((__local int32_t *) local_mem_73327)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_73338 = dynamic_id_73337 * chunk_sizze_73308 * segscan_tblock_sizze_67828;\n        sgm_idx_73339 = smod64(block_offset_73338, n_38267);\n        boundary_73340 = sext_i64_i32(smin64(chunk_sizze_73308 * segscan_tblock_sizze_67828, n_38267 - sgm_idx_73339));\n        segsizze_compact_73341 = sext_i64_i32(smin64(chunk_sizze_73308 * segscan_tblock_sizze_67828, n_38267));\n        thd_offset_73344 = block_offset_73338 + sext_i32_i64(local_tid_73320);\n        // Load and map\n        {\n            for (int64_t i_73345 = 0; i_73345 < chunk_sizze_73308; i_73345++) {\n                int64_t virt_tid_73346 = thd_offset_73344 + i_73345 * segscan_tblock_sizze_67828;\n                int64_t slice_73347 = n_38267;\n                int64_t gtid_67832 = virt_tid_73346;\n                int64_t remnant_73348 = virt_tid_73346 - gtid_67832;\n                \n                if (slt64(virt_tid_73346, n_38267)) {\n                    int64_t x_67837 = ((__global int64_t *) ext_mem_70319)[gtid_67832];\n                    \n                    private_mem_73342[i_73345] = x_67837;\n             ", "   } else {\n                    private_mem_73342[i_73345] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_73349 = 0; i_73349 < chunk_sizze_73308; i_73349++) {\n                int64_t sharedIdx_73350 = sext_i32_i64(local_tid_73320) + i_73349 * segscan_tblock_sizze_67828;\n                int64_t tmp_73351 = private_mem_73342[i_73349];\n                \n                ((__local int64_t *) local_mem_73327)[sharedIdx_73350] = tmp_73351;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_73352 = 0; i_73352 < chunk_sizze_73308; i_73352++) {\n                int64_t sharedIdx_73353 = sext_i32_i64(local_tid_73320) * chunk_sizze_73308 + i_73352;\n                int64_t tmp_73354 = ((__local int64_t *) local_mem_73327)[sharedIdx_73353];\n                \n                private_mem_73342[i_73352] = tmp_73354;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_73355 = 0; i_73355 < chunk_sizze_73308 - (int64_t) 1; i_73355++) {\n                int64_t eta_p_67834;\n                int64_t eta_p_67835;\n                \n                eta_p_67834 = private_mem_73342[i_73355];\n                eta_p_67835 = private_mem_73342[i_73355 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_67836 = add64(eta_p_67834, eta_p_67835);\n                \n                private_mem_73342[i_73355 + (int64_t) 1] = defunc_0_op_res_67836;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_73356 = private_mem_73342[chunk_sizze_73308 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)] = tmp_73356;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_73357;\n            int64_t et", "a_p_73358;\n            int64_t eta_p_73361;\n            int64_t eta_p_73362;\n            bool ltid_in_bounds_73364 = slt64(sext_i32_i64(local_tid_73320), num_virt_threads_73310);\n            int32_t skip_threads_73365;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_73364) {\n                    eta_p_73358 = ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)];\n                    if ((local_tid_73320 - squot32(local_tid_73320, 32) * 32) == 0) {\n                        eta_p_73357 = eta_p_73358;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_73365 = 1;\n                while (slt32(skip_threads_73365, 32)) {\n                    bool thread_active_73366 = sle32(skip_threads_73365, local_tid_73320 - squot32(local_tid_73320, 32) * 32) && ltid_in_bounds_73364;\n                    \n                    if (thread_active_73366) {\n                        // read operands\n                        {\n                            eta_p_73357 = ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320) - sext_i32_i64(skip_threads_73365)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_73366) {\n                            int64_t defunc_0_op_res_73359 = add64(eta_p_73357, eta_p_73358);\n                            \n                            eta_p_73357 = defunc_0_op_res_73359;\n                        }\n                    }\n                    if (sle32(wave_sizze_73322, skip_threads_73365)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_73366) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(local",
                                    "_tid_73320)] = eta_p_73357;\n                            eta_p_73358 = eta_p_73357;\n                        }\n                    }\n                    if (sle32(wave_sizze_73322, skip_threads_73365)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_73365 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_73320 - squot32(local_tid_73320, 32) * 32) == 31 && ltid_in_bounds_73364) {\n                    ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(squot32(local_tid_73320, 32))] = eta_p_73357;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_73367;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_73320, 32) == 0 && ltid_in_bounds_73364) {\n                        eta_p_73362 = ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)];\n                        if ((local_tid_73320 - squot32(local_tid_73320, 32) * 32) == 0) {\n                            eta_p_73361 = eta_p_73362;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_73367 = 1;\n                    while (slt32(skip_threads_73367, 32)) {\n                        bool thread_active_73368 = sle32(skip_threads_73367, local_tid_73320 - squot32(local_tid_73320, 32) * 32) && (squot32(local_tid_73320, 32) == 0 && ltid_in_bounds_73364);\n                        \n                        if (thread_active_73368) {\n                            // read operands\n                            {\n                               ", " eta_p_73361 = ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320) - sext_i32_i64(skip_threads_73367)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_73368) {\n                                int64_t defunc_0_op_res_73363 = add64(eta_p_73361, eta_p_73362);\n                                \n                                eta_p_73361 = defunc_0_op_res_73363;\n                            }\n                        }\n                        if (sle32(wave_sizze_73322, skip_threads_73367)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_73368) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)] = eta_p_73361;\n                                eta_p_73362 = eta_p_73361;\n                            }\n                        }\n                        if (sle32(wave_sizze_73322, skip_threads_73367)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_73367 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_73369 = squot32(local_tid_73320, 32) == 0 || !ltid_in_bounds_73364;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_73369) {\n                        eta_p_73358 = eta_p_73357;\n                        eta_p_73357 = ((__local int64_t *) local_mem_73327)[sext_i32_i64(squot32(local_tid_73320, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_", "in_73369) {\n                        int64_t defunc_0_op_res_73359 = add64(eta_p_73357, eta_p_73358);\n                        \n                        eta_p_73357 = defunc_0_op_res_73359;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_73369) {\n                        ((__local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)] = eta_p_73357;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_73320, 32) == 0 && ltid_in_bounds_73364) {\n                    ((__local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)] = eta_p_73358;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_73320 == 0) {\n                acc_73360 = ((__local int64_t *) local_mem_73327)[segscan_tblock_sizze_67828 - (int64_t) 1];\n            } else {\n                acc_73360 = ((__local int64_t *) local_mem_73327)[sext_i32_i64(local_tid_73320) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_73370 = (int64_t) 0;\n        block_new_sgm_73371 = sgm_idx_73339 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_73371 && local_tid_73320 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_73315)[dynamic_id_73337] = acc_73360;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_73311)[dynamic_id_73337] = (int8_t) 2;\n                acc_73360 = (int64_t) 0;\n            }\n            if (!block_new_sgm_73371 && slt32(local_tid_73320, wave_sizze_73322)) {\n                if (local_tid_73320 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_73313)[dynamic_id_73337] = acc_73360;\n                    mem_fen",
                                    "ce_global();\n                    ((volatile __global int8_t *) status_flags_mem_73311)[dynamic_id_73337] = (int8_t) 1;\n                    \n                    int8_t tmp_73372 = ((volatile __global int8_t *) status_flags_mem_73311)[dynamic_id_73337 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_73327)[(int64_t) 0] = tmp_73372;\n                }\n                mem_fence_local();\n                \n                int8_t status_73373 = ((__local int8_t *) local_mem_73327)[(int64_t) 0];\n                \n                if (status_73373 == (int8_t) 2) {\n                    if (local_tid_73320 == 0) {\n                        prefix_73370 = ((volatile __global int64_t *) incprefixes_mem_73315)[dynamic_id_73337 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_73374 = sext_i64_i32(dynamic_id_73337 - sext_i32_i64(wave_sizze_73322));\n                    \n                    while (slt32(wave_sizze_73322 * -1, readOffset_73374)) {\n                        int32_t read_i_73375 = readOffset_73374 + local_tid_73320;\n                        int64_t aggr_73376 = (int64_t) 0;\n                        int8_t flag_73377 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_73375)) {\n                            flag_73377 = ((volatile __global int8_t *) status_flags_mem_73311)[sext_i32_i64(read_i_73375)];\n                            if (flag_73377 == (int8_t) 2) {\n                                aggr_73376 = ((volatile __global int64_t *) incprefixes_mem_73315)[sext_i32_i64(read_i_73375)];\n                            } else if (flag_73377 == (int8_t) 1) {\n                                aggr_73376 = ((volatile __global int64_t *) aggregates_mem_73313)[sext_i32_i64(read_i_73375)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_73327)[(int64_t) 4 + sext_i32_i64(local_tid_73320)] = aggr_73376;\n     ", "                   ((__local int8_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)] = flag_73377;\n                        flag_73377 = ((__local int8_t *) local_mem_73327)[sext_i32_i64(wave_sizze_73322) - (int64_t) 1];\n                        if (slt8(flag_73377, (int8_t) 2)) {\n                            int8_t flg_x_73381;\n                            int8_t flg_y_73382;\n                            int64_t eta_p_73378;\n                            int64_t eta_p_73379;\n                            int32_t skip_threads_73383;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_73382 = ((volatile __local int8_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)];\n                                eta_p_73379 = ((volatile __local int64_t *) local_mem_73327)[(int64_t) 4 + sext_i32_i64(local_tid_73320)];\n                                if ((local_tid_73320 - squot32(local_tid_73320, 32) * 32) == 0) {\n                                    eta_p_73378 = eta_p_73379;\n                                    flg_x_73381 = flg_y_73382;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_73383 = 1;\n                                while (slt32(skip_threads_73383, 32)) {\n                                    if (sle32(skip_threads_73383, local_tid_73320 - squot32(local_tid_73320, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_73381 = ((volatile __local int8_t *) local_mem_73327)[sext_i32_i64(local_tid_73320) - sext_i32_i64(skip_threads_73383)];\n                                            eta_p_73378 = ((volatile __local int64_t *) local_mem_73327)[(int64_t) 4 + (sext_i32_i64(local_tid_73320) - sext_i32_i64(skip_th", "reads_73383))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_73382 == (int8_t) 2 || flg_y_73382 == (int8_t) 0) {\n                                                flg_x_73381 = flg_y_73382;\n                                                eta_p_73378 = eta_p_73379;\n                                            } else {\n                                                int64_t defunc_0_op_res_73380 = add64(eta_p_73378, eta_p_73379);\n                                                \n                                                eta_p_73378 = defunc_0_op_res_73380;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_73327)[sext_i32_i64(local_tid_73320)] = flg_x_73381;\n                                            flg_y_73382 = flg_x_73381;\n                                            ((volatile __local int64_t *) local_mem_73327)[(int64_t) 4 + sext_i32_i64(local_tid_73320)] = eta_p_73378;\n                                            eta_p_73379 = eta_p_73378;\n                                        }\n                                    }\n                                    skip_threads_73383 *= 2;\n                                }\n                            }\n                        }\n                        flag_73377 = ((__local int8_t *) local_mem_73327)[sext_i32_i64(wave_sizze_73322) - (int64_t) 1];\n                        aggr_73376 = ((__local int64_t *) local_mem_73327)[(int64_t) 4 + (sext_i32_i64(wave_sizze_73322) - (int64_t) 1)];\n                        if (flag_73377 == (int8_t) 2) {\n                            readOffset_73374 = wave_sizze_73322 * -1;\n                        } else if (flag_73377 == (in",
                                    "t8_t) 1) {\n                            readOffset_73374 -= wave_sizze_73322;\n                        }\n                        if (slt8((int8_t) 0, flag_73377)) {\n                            int64_t eta_p_73384 = aggr_73376;\n                            int64_t eta_p_73385 = prefix_73370;\n                            int64_t defunc_0_op_res_73386 = add64(eta_p_73384, eta_p_73385);\n                            \n                            prefix_73370 = defunc_0_op_res_73386;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_73320 == 0) {\n                    if (boundary_73340 == sext_i64_i32(segscan_tblock_sizze_67828 * chunk_sizze_73308)) {\n                        int64_t eta_p_73387 = prefix_73370;\n                        int64_t eta_p_73388 = acc_73360;\n                        int64_t defunc_0_op_res_73389 = add64(eta_p_73387, eta_p_73388);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_73315)[dynamic_id_73337] = defunc_0_op_res_73389;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_73311)[dynamic_id_73337] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_73327)[(int64_t) 4] = prefix_73370;\n                    acc_73360 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_73337 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_73370 = ((__local int64_t *) local_mem_73327)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_73390;\n            int64_t eta_p_73391;\n            int64_t eta_p_73393 = prefix_73370;\n            int64_t eta_p_73394 = acc_73360;\n            \n            if (slt32(local_tid_73320 * chunk_sizze_32b_73324, boundary_73340) && !block_new_sgm_73371) {\n ", "               int64_t defunc_0_op_res_73395 = add64(eta_p_73393, eta_p_73394);\n                \n                eta_p_73390 = defunc_0_op_res_73395;\n            } else {\n                eta_p_73390 = acc_73360;\n            }\n            \n            int32_t stopping_point_73396 = segsizze_compact_73341 - srem32(local_tid_73320 * chunk_sizze_32b_73324 - 1 + segsizze_compact_73341 - boundary_73340, segsizze_compact_73341);\n            \n            for (int64_t i_73397 = 0; i_73397 < chunk_sizze_73308; i_73397++) {\n                if (slt32(sext_i64_i32(i_73397), stopping_point_73396 - 1)) {\n                    eta_p_73391 = private_mem_73342[i_73397];\n                    \n                    int64_t defunc_0_op_res_73392 = add64(eta_p_73390, eta_p_73391);\n                    \n                    private_mem_73342[i_73397] = defunc_0_op_res_73392;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_73398 = 0; i_73398 < chunk_sizze_73308; i_73398++) {\n                int64_t sharedIdx_73399 = sext_i32_i64(local_tid_73320) * chunk_sizze_73308 + i_73398;\n                int64_t tmp_73400 = private_mem_73342[i_73398];\n                \n                ((__local int64_t *) local_mem_73327)[sharedIdx_73399] = tmp_73400;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_73401 = 0; i_73401 < chunk_sizze_73308; i_73401++) {\n                int64_t flat_idx_73402 = thd_offset_73344 + i_73401 * segscan_tblock_sizze_67828;\n                int64_t slice_73403 = n_38267;\n                int64_t gtid_67832 = flat_idx_73402;\n                int64_t remnant_73404 = flat_idx_73402 - gtid_67832;\n                \n                if (slt64(flat_idx_73402, n_38267)) {\n                    int64_t tmp_73405 = ((__local int64_t *) local_mem_73327)[flat_idx_73402 - block_offset_73338];\n                    \n                    ((__global int64_t *) mem_7", "0324)[gtid_67832] = tmp_73405;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_67828\n    #undef chunk_sizze_73308\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegscan_68159_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegscan_68159(__global int *global_failure, int64_t total_part_no_38276, int64_t num_tblocks_68156, int64_t num_virt_blocks_74087, int64_t num_virt_threads_74088, __global unsigned char *mem_68648, __global unsigned char *mem_70674, __global unsigned char *status_flags_mem_74089, __global unsigned char *aggregates_mem_74091, __global unsigned char *incprefixes_mem_74093, __global unsigned char *global_dynid_mem_74095)\n{\n    #define segscan_tblock_sizze_68154 (sort_for_Skyline_doublezisegscan_68159zisegscan_tblock_sizze_68154)\n    #define chunk_sizze_74086 (sort_for_Skyline_doublezisegscan_68159zichunk_sizze_74086)\n    \n    volatile __local unsigned char *local_mem_74105_backing_0 = &shared_mem[0];\n    const int64_t local_mem_74105_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_68154), chunk_sizze_74086 * segscan_tblock_sizze_68154 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_68154), chunk_sizze_74086 * segscan_tblock_sizze_68154 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_74098;\n    int32_t tblock_sizze_74101;\n    int32_t wave_sizze_74100;\n    int32_t block_id_74099;\n    int32_t global_tid_74097;\n    int64_t phys_tid_68159;\n    int32_t chunk_sizze_32b_74102;\n    int64_t byte_offsets_74103;\n    int64_t warp_byte_offset_74104;\n    __local unsigned char *local_mem_74105;\n    int64_t trans_arr_len_74106;\n    int64_t phys_block_id_74112;\n    int64_t virtloop_bound_74113;\n    \n    local_tid_74098 = get_local_id(0);\n    tblock_sizze_74101 = get_local_size(0);\n    wave_sizze_7410",
                                    "0 = LOCKSTEP_WIDTH;\n    block_id_74099 = get_tblock_id(0);\n    global_tid_74097 = block_id_74099 * tblock_sizze_74101 + local_tid_74098;\n    phys_tid_68159 = sext_i32_i64(global_tid_74097);\n    chunk_sizze_32b_74102 = sext_i64_i32(chunk_sizze_74086);\n    byte_offsets_74103 = segscan_tblock_sizze_68154 * (int64_t) 8;\n    warp_byte_offset_74104 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_74105 = (__local unsigned char *) local_mem_74105_backing_0;\n    trans_arr_len_74106 = chunk_sizze_74086 * segscan_tblock_sizze_68154;\n    phys_block_id_74112 = get_tblock_id(0);\n    virtloop_bound_74113 = sdiv_up64(num_virt_blocks_74087 - phys_block_id_74112, num_tblocks_68156);\n    for (int64_t virtloop_i_74114 = 0; virtloop_i_74114 < virtloop_bound_74113; virtloop_i_74114++) {\n        int64_t dynamic_id_74115;\n        int64_t block_offset_74116;\n        int64_t sgm_idx_74117;\n        int32_t boundary_74118;\n        int32_t segsizze_compact_74119;\n        int64_t private_mem_74120[chunk_sizze_74086];\n        int64_t thd_offset_74122;\n        int64_t acc_74138;\n        int64_t prefix_74148;\n        bool block_new_sgm_74149;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_74098 == 0) {\n                dynamic_id_74115 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_74095)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_74105)[(int64_t) 0] = dynamic_id_74115;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_74115 == num_virt_blocks_74087 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_74095)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_74115 = ((__local ", "int32_t *) local_mem_74105)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_74116 = dynamic_id_74115 * chunk_sizze_74086 * segscan_tblock_sizze_68154;\n        sgm_idx_74117 = smod64(block_offset_74116, total_part_no_38276);\n        boundary_74118 = sext_i64_i32(smin64(chunk_sizze_74086 * segscan_tblock_sizze_68154, total_part_no_38276 - sgm_idx_74117));\n        segsizze_compact_74119 = sext_i64_i32(smin64(chunk_sizze_74086 * segscan_tblock_sizze_68154, total_part_no_38276));\n        thd_offset_74122 = block_offset_74116 + sext_i32_i64(local_tid_74098);\n        // Load and map\n        {\n            for (int64_t i_74123 = 0; i_74123 < chunk_sizze_74086; i_74123++) {\n                int64_t virt_tid_74124 = thd_offset_74122 + i_74123 * segscan_tblock_sizze_68154;\n                int64_t slice_74125 = total_part_no_38276;\n                int64_t gtid_68158 = virt_tid_74124;\n                int64_t remnant_74126 = virt_tid_74124 - gtid_68158;\n                \n                if (slt64(virt_tid_74124, total_part_no_38276)) {\n                    int64_t x_55869 = ((__global int64_t *) mem_68648)[gtid_68158];\n                    \n                    private_mem_74120[i_74123] = x_55869;\n                } else {\n                    private_mem_74120[i_74123] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_74127 = 0; i_74127 < chunk_sizze_74086; i_74127++) {\n                int64_t sharedIdx_74128 = sext_i32_i64(local_tid_74098) + i_74127 * segscan_tblock_sizze_68154;\n                int64_t tmp_74129 = private_mem_74120[i_74127];\n                \n                ((__local int64_t *) local_mem_74105)[sharedIdx_74128] = tmp_74129;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_74130 = 0; i_74130 < chunk_sizze_74086; i_74130++) {\n                int64_t sharedIdx_74131 = sext_i32_i64(local_tid_74098) * ", "chunk_sizze_74086 + i_74130;\n                int64_t tmp_74132 = ((__local int64_t *) local_mem_74105)[sharedIdx_74131];\n                \n                private_mem_74120[i_74130] = tmp_74132;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_74133 = 0; i_74133 < chunk_sizze_74086 - (int64_t) 1; i_74133++) {\n                int64_t eta_p_55870;\n                int64_t eta_p_55871;\n                \n                eta_p_55870 = private_mem_74120[i_74133];\n                eta_p_55871 = private_mem_74120[i_74133 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_55872 = add64(eta_p_55870, eta_p_55871);\n                \n                private_mem_74120[i_74133 + (int64_t) 1] = defunc_0_op_res_55872;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_74134 = private_mem_74120[chunk_sizze_74086 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)] = tmp_74134;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_74135;\n            int64_t eta_p_74136;\n            int64_t eta_p_74139;\n            int64_t eta_p_74140;\n            bool ltid_in_bounds_74142 = slt64(sext_i32_i64(local_tid_74098), num_virt_threads_74088);\n            int32_t skip_threads_74143;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_74142) {\n                    eta_p_74136 = ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)];\n                    if ((local_tid_74098 - squot32(local_tid_74098, 32) * 32) == 0) {\n                        eta_p_74135 = eta_p_74136;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_74143 = 1;\n            ",
                                    "    while (slt32(skip_threads_74143, 32)) {\n                    bool thread_active_74144 = sle32(skip_threads_74143, local_tid_74098 - squot32(local_tid_74098, 32) * 32) && ltid_in_bounds_74142;\n                    \n                    if (thread_active_74144) {\n                        // read operands\n                        {\n                            eta_p_74135 = ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098) - sext_i32_i64(skip_threads_74143)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_74144) {\n                            int64_t defunc_0_op_res_74137 = add64(eta_p_74135, eta_p_74136);\n                            \n                            eta_p_74135 = defunc_0_op_res_74137;\n                        }\n                    }\n                    if (sle32(wave_sizze_74100, skip_threads_74143)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_74144) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)] = eta_p_74135;\n                            eta_p_74136 = eta_p_74135;\n                        }\n                    }\n                    if (sle32(wave_sizze_74100, skip_threads_74143)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_74143 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_74098 - squot32(local_tid_74098, 32) * 32) == 31 && ltid_in_bounds_74142) {\n                    ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(squot32(local_tid_74098, 32))] = eta_p_74135;\n                }\n            }\n            barr", "ier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_74145;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_74098, 32) == 0 && ltid_in_bounds_74142) {\n                        eta_p_74140 = ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)];\n                        if ((local_tid_74098 - squot32(local_tid_74098, 32) * 32) == 0) {\n                            eta_p_74139 = eta_p_74140;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_74145 = 1;\n                    while (slt32(skip_threads_74145, 32)) {\n                        bool thread_active_74146 = sle32(skip_threads_74145, local_tid_74098 - squot32(local_tid_74098, 32) * 32) && (squot32(local_tid_74098, 32) == 0 && ltid_in_bounds_74142);\n                        \n                        if (thread_active_74146) {\n                            // read operands\n                            {\n                                eta_p_74139 = ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098) - sext_i32_i64(skip_threads_74145)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_74146) {\n                                int64_t defunc_0_op_res_74141 = add64(eta_p_74139, eta_p_74140);\n                                \n                                eta_p_74139 = defunc_0_op_res_74141;\n                            }\n                        }\n                        if (sle32(wave_sizze_74100, skip_threads_74145)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_acti", "ve_74146) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)] = eta_p_74139;\n                                eta_p_74140 = eta_p_74139;\n                            }\n                        }\n                        if (sle32(wave_sizze_74100, skip_threads_74145)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_74145 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_74147 = squot32(local_tid_74098, 32) == 0 || !ltid_in_bounds_74142;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_74147) {\n                        eta_p_74136 = eta_p_74135;\n                        eta_p_74135 = ((__local int64_t *) local_mem_74105)[sext_i32_i64(squot32(local_tid_74098, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_74147) {\n                        int64_t defunc_0_op_res_74137 = add64(eta_p_74135, eta_p_74136);\n                        \n                        eta_p_74135 = defunc_0_op_res_74137;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_74147) {\n                        ((__local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)] = eta_p_74135;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_74098, 32) == 0 && ltid_in_bounds_74142) {\n                    ((__local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_7",
                                    "4098)] = eta_p_74136;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_74098 == 0) {\n                acc_74138 = ((__local int64_t *) local_mem_74105)[segscan_tblock_sizze_68154 - (int64_t) 1];\n            } else {\n                acc_74138 = ((__local int64_t *) local_mem_74105)[sext_i32_i64(local_tid_74098) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_74148 = (int64_t) 0;\n        block_new_sgm_74149 = sgm_idx_74117 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_74149 && local_tid_74098 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_74093)[dynamic_id_74115] = acc_74138;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_74089)[dynamic_id_74115] = (int8_t) 2;\n                acc_74138 = (int64_t) 0;\n            }\n            if (!block_new_sgm_74149 && slt32(local_tid_74098, wave_sizze_74100)) {\n                if (local_tid_74098 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_74091)[dynamic_id_74115] = acc_74138;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_74089)[dynamic_id_74115] = (int8_t) 1;\n                    \n                    int8_t tmp_74150 = ((volatile __global int8_t *) status_flags_mem_74089)[dynamic_id_74115 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_74105)[(int64_t) 0] = tmp_74150;\n                }\n                mem_fence_local();\n                \n                int8_t status_74151 = ((__local int8_t *) local_mem_74105)[(int64_t) 0];\n                \n                if (status_74151 == (int8_t) 2) {\n                    if (local_tid_74098 == 0) {\n                        prefix_74148 = ((volatile __global int64_t *) incprefixes_mem_74093)[dynamic_id_74115 -", " (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_74152 = sext_i64_i32(dynamic_id_74115 - sext_i32_i64(wave_sizze_74100));\n                    \n                    while (slt32(wave_sizze_74100 * -1, readOffset_74152)) {\n                        int32_t read_i_74153 = readOffset_74152 + local_tid_74098;\n                        int64_t aggr_74154 = (int64_t) 0;\n                        int8_t flag_74155 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_74153)) {\n                            flag_74155 = ((volatile __global int8_t *) status_flags_mem_74089)[sext_i32_i64(read_i_74153)];\n                            if (flag_74155 == (int8_t) 2) {\n                                aggr_74154 = ((volatile __global int64_t *) incprefixes_mem_74093)[sext_i32_i64(read_i_74153)];\n                            } else if (flag_74155 == (int8_t) 1) {\n                                aggr_74154 = ((volatile __global int64_t *) aggregates_mem_74091)[sext_i32_i64(read_i_74153)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_74105)[(int64_t) 4 + sext_i32_i64(local_tid_74098)] = aggr_74154;\n                        ((__local int8_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)] = flag_74155;\n                        flag_74155 = ((__local int8_t *) local_mem_74105)[sext_i32_i64(wave_sizze_74100) - (int64_t) 1];\n                        if (slt8(flag_74155, (int8_t) 2)) {\n                            int8_t flg_x_74159;\n                            int8_t flg_y_74160;\n                            int64_t eta_p_74156;\n                            int64_t eta_p_74157;\n                            int32_t skip_threads_74161;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_74160 = ((volatile __local int8_t *) local_mem_74105)[sext_i32_i64(local_ti", "d_74098)];\n                                eta_p_74157 = ((volatile __local int64_t *) local_mem_74105)[(int64_t) 4 + sext_i32_i64(local_tid_74098)];\n                                if ((local_tid_74098 - squot32(local_tid_74098, 32) * 32) == 0) {\n                                    eta_p_74156 = eta_p_74157;\n                                    flg_x_74159 = flg_y_74160;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_74161 = 1;\n                                while (slt32(skip_threads_74161, 32)) {\n                                    if (sle32(skip_threads_74161, local_tid_74098 - squot32(local_tid_74098, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_74159 = ((volatile __local int8_t *) local_mem_74105)[sext_i32_i64(local_tid_74098) - sext_i32_i64(skip_threads_74161)];\n                                            eta_p_74156 = ((volatile __local int64_t *) local_mem_74105)[(int64_t) 4 + (sext_i32_i64(local_tid_74098) - sext_i32_i64(skip_threads_74161))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_74160 == (int8_t) 2 || flg_y_74160 == (int8_t) 0) {\n                                                flg_x_74159 = flg_y_74160;\n                                                eta_p_74156 = eta_p_74157;\n                                            } else {\n                                                int64_t defunc_0_op_res_74158 = add64(eta_p_74156, eta_p_74157);\n                                                \n                                                eta_p_74156 = defunc_0_op_res_74158;\n                                            }\n ",
                                    "                                       }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_74105)[sext_i32_i64(local_tid_74098)] = flg_x_74159;\n                                            flg_y_74160 = flg_x_74159;\n                                            ((volatile __local int64_t *) local_mem_74105)[(int64_t) 4 + sext_i32_i64(local_tid_74098)] = eta_p_74156;\n                                            eta_p_74157 = eta_p_74156;\n                                        }\n                                    }\n                                    skip_threads_74161 *= 2;\n                                }\n                            }\n                        }\n                        flag_74155 = ((__local int8_t *) local_mem_74105)[sext_i32_i64(wave_sizze_74100) - (int64_t) 1];\n                        aggr_74154 = ((__local int64_t *) local_mem_74105)[(int64_t) 4 + (sext_i32_i64(wave_sizze_74100) - (int64_t) 1)];\n                        if (flag_74155 == (int8_t) 2) {\n                            readOffset_74152 = wave_sizze_74100 * -1;\n                        } else if (flag_74155 == (int8_t) 1) {\n                            readOffset_74152 -= wave_sizze_74100;\n                        }\n                        if (slt8((int8_t) 0, flag_74155)) {\n                            int64_t eta_p_74162 = aggr_74154;\n                            int64_t eta_p_74163 = prefix_74148;\n                            int64_t defunc_0_op_res_74164 = add64(eta_p_74162, eta_p_74163);\n                            \n                            prefix_74148 = defunc_0_op_res_74164;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_74098 == 0) {\n                    if (boundary_74118 == sext_i64_i32(segscan_tblock_sizze_68154 * chunk_sizze_74086)) {\n                        int6", "4_t eta_p_74165 = prefix_74148;\n                        int64_t eta_p_74166 = acc_74138;\n                        int64_t defunc_0_op_res_74167 = add64(eta_p_74165, eta_p_74166);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_74093)[dynamic_id_74115] = defunc_0_op_res_74167;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_74089)[dynamic_id_74115] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_74105)[(int64_t) 4] = prefix_74148;\n                    acc_74138 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_74115 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_74148 = ((__local int64_t *) local_mem_74105)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_74168;\n            int64_t eta_p_74169;\n            int64_t eta_p_74171 = prefix_74148;\n            int64_t eta_p_74172 = acc_74138;\n            \n            if (slt32(local_tid_74098 * chunk_sizze_32b_74102, boundary_74118) && !block_new_sgm_74149) {\n                int64_t defunc_0_op_res_74173 = add64(eta_p_74171, eta_p_74172);\n                \n                eta_p_74168 = defunc_0_op_res_74173;\n            } else {\n                eta_p_74168 = acc_74138;\n            }\n            \n            int32_t stopping_point_74174 = segsizze_compact_74119 - srem32(local_tid_74098 * chunk_sizze_32b_74102 - 1 + segsizze_compact_74119 - boundary_74118, segsizze_compact_74119);\n            \n            for (int64_t i_74175 = 0; i_74175 < chunk_sizze_74086; i_74175++) {\n                if (slt32(sext_i64_i32(i_74175), stopping_point_74174 - 1)) {\n                    eta_p_74169 = private_mem_74120[i_74175];\n                    \n                    int64_t defunc_0_op_res_74170 = add64(eta_p_74168, eta_p_74169);", "\n                    \n                    private_mem_74120[i_74175] = defunc_0_op_res_74170;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_74176 = 0; i_74176 < chunk_sizze_74086; i_74176++) {\n                int64_t sharedIdx_74177 = sext_i32_i64(local_tid_74098) * chunk_sizze_74086 + i_74176;\n                int64_t tmp_74178 = private_mem_74120[i_74176];\n                \n                ((__local int64_t *) local_mem_74105)[sharedIdx_74177] = tmp_74178;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_74179 = 0; i_74179 < chunk_sizze_74086; i_74179++) {\n                int64_t flat_idx_74180 = thd_offset_74122 + i_74179 * segscan_tblock_sizze_68154;\n                int64_t slice_74181 = total_part_no_38276;\n                int64_t gtid_68158 = flat_idx_74180;\n                int64_t remnant_74182 = flat_idx_74180 - gtid_68158;\n                \n                if (slt64(flat_idx_74180, total_part_no_38276)) {\n                    int64_t tmp_74183 = ((__local int64_t *) local_mem_74105)[flat_idx_74180 - block_offset_74116];\n                    \n                    ((__global int64_t *) mem_70674)[gtid_68158] = tmp_74183;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_68154\n    #undef chunk_sizze_74086\n}\n", NULL};
// Start of gpu_prototypes.h

// Constants used for transpositions.  In principle these should be configurable.
#define TR_BLOCK_DIM 16
#define TR_TILE_DIM (TR_BLOCK_DIM*2)
#define TR_ELEMS_PER_THREAD 8

// Config stuff included in every GPU backend.
struct gpu_config {
  size_t default_block_size;
  size_t default_grid_size;
  size_t default_tile_size;
  size_t default_reg_tile_size;
  size_t default_cache;
  size_t default_shared_memory;
  size_t default_registers;
  size_t default_threshold;

  int default_block_size_changed;
  int default_grid_size_changed;
  int default_tile_size_changed;
};

// The following are dummy sizes that mean the concrete defaults
// will be set during initialisation via hardware-inspection-based
// heuristics.
struct gpu_config gpu_config_initial = {
  0
};

// Must be defined by the user.
static int gpu_macros(struct futhark_context *ctx, char*** names, int64_t** values);

static void gpu_init_log(struct futhark_context *ctx);
struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx);
void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels);
static int gpu_free_all(struct futhark_context *ctx);

// End of gpu_prototypes.h

// Start of backends/cuda.h.

// Forward declarations.
// Invoked by setup_opencl() after the platform and device has been
// found, but before the program is loaded.  Its intended use is to
// tune constants based on the selected platform and device.
static void set_tuning_params(struct futhark_context* ctx);
static char* get_failure_msg(int failure_idx, int64_t args[]);

#define CUDA_SUCCEED_FATAL(x) cuda_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define CUDA_SUCCEED_NONFATAL(x) cuda_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_FATAL(x) nvrtc_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_NONFATAL(x) nvrtc_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
// Take care not to override an existing error.
#define CUDA_SUCCEED_OR_RETURN(e) {             \
    char *serror = CUDA_SUCCEED_NONFATAL(e);    \
    if (serror) {                               \
      if (!ctx->error) {                        \
        ctx->error = serror;                    \
      } else {                                  \
        free(serror);                           \
      }                                         \
      return bad;                               \
    }                                           \
  }

// CUDA_SUCCEED_OR_RETURN returns the value of the variable 'bad' in
// scope.  By default, it will be this one.  Create a local variable
// of some other type if needed.  This is a bit of a hack, but it
// saves effort in the code generator.
static const int bad = 1;

static inline void cuda_api_succeed_fatal(CUresult res, const char *call,
                                          const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    futhark_panic(-1, "%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* cuda_api_succeed_nonfatal(CUresult res, const char *call,
                                       const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    return msgprintf("%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

static inline void nvrtc_api_succeed_fatal(nvrtcResult res, const char *call,
                                           const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    futhark_panic(-1, "%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* nvrtc_api_succeed_nonfatal(nvrtcResult res, const char *call,
                                        const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    return msgprintf("%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char* cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
  // Uniform fields above.

  char* program;
  int num_nvrtc_opts;
  char* *nvrtc_opts;

  char* preferred_device;
  int preferred_device_num;

  int unified_memory;

  char* dump_ptx_to;
  char* load_ptx_from;

  struct gpu_config gpu;
};

static void backend_context_config_setup(struct futhark_context_config *cfg) {
  cfg->num_nvrtc_opts = 0;
  cfg->nvrtc_opts = (char**) malloc(sizeof(char*));
  cfg->nvrtc_opts[0] = NULL;

  cfg->program = strconcat(gpu_program);

  cfg->preferred_device_num = 0;
  cfg->preferred_device = strdup("");

  cfg->dump_ptx_to = NULL;
  cfg->load_ptx_from = NULL;

  cfg->unified_memory = 2;

  cfg->gpu = gpu_config_initial;
  cfg->gpu.default_block_size = 256;
  cfg->gpu.default_tile_size = 32;
  cfg->gpu.default_reg_tile_size = 2;
  cfg->gpu.default_threshold = 32*1024;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  for (int i = 0; i < cfg->num_nvrtc_opts; i++) {
    free(cfg->nvrtc_opts[i]);
  }
  free(cfg->nvrtc_opts);
  free(cfg->dump_ptx_to);
  free(cfg->load_ptx_from);
  free(cfg->preferred_device);
  free(cfg->program);
}

void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt) {
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = strdup(opt);
  cfg->num_nvrtc_opts++;
  cfg->nvrtc_opts = (char **) realloc(cfg->nvrtc_opts, (cfg->num_nvrtc_opts + 1) * sizeof(char *));
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = NULL;
}

void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s) {
  int x = 0;
  if (*s == '#') {
    s++;
    while (isdigit(*s)) {
      x = x * 10 + (*s++)-'0';
    }
    // Skip trailing spaces.
    while (isspace(*s)) {
      s++;
    }
  }
  free(cfg->preferred_device);
  cfg->preferred_device = strdup(s);
  cfg->preferred_device_num = x;
}

const char* futhark_context_config_get_program(struct futhark_context_config *cfg) {
  return cfg->program;
}

void futhark_context_config_set_program(struct futhark_context_config *cfg, const char *s) {
  free(cfg->program);
  cfg->program = strdup(s);
}

void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *path) {
  free(cfg->dump_ptx_to);
  cfg->dump_ptx_to = strdup(path);
}

void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *path) {
  free(cfg->load_ptx_from);
  cfg->load_ptx_from = strdup(path);
}

void futhark_context_config_set_unified_memory(struct futhark_context_config* cfg, int flag) {
  cfg->unified_memory = flag;
}

// A record of something that happened.
struct profiling_record {
  cudaEvent_t *events; // Points to two events.
  const char *name;
};

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
  // Uniform fields above.

  CUdeviceptr global_failure;
  CUdeviceptr global_failure_args;
  struct tuning_params tuning_params;
  // True if a potentially failing kernel has been enqueued.
  int32_t failure_is_an_option;
  int total_runs;
  long int total_runtime;
  int64_t peak_mem_usage_device;
  int64_t cur_mem_usage_device;

  CUdevice dev;
  CUcontext cu_ctx;
  CUmodule module;
  CUstream stream;

  struct free_list gpu_free_list;

  size_t max_thread_block_size;
  size_t max_grid_size;
  size_t max_tile_size;
  size_t max_threshold;
  size_t max_shared_memory;
  size_t max_bespoke;
  size_t max_registers;
  size_t max_cache;

  size_t lockstep_width;

  struct builtin_kernels* kernels;
};

#define CU_DEV_ATTR(x) (CU_DEVICE_ATTRIBUTE_##x)
#define device_query(dev,attrib) _device_query(dev, CU_DEV_ATTR(attrib))
static int _device_query(CUdevice dev, CUdevice_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuDeviceGetAttribute(&val, attrib, dev));
  return val;
}

#define CU_FUN_ATTR(x) (CU_FUNC_ATTRIBUTE_##x)
#define function_query(fn,attrib) _function_query(dev, CU_FUN_ATTR(attrib))
static int _function_query(CUfunction dev, CUfunction_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuFuncGetAttribute(&val, attrib, dev));
  return val;
}

static int cuda_device_setup(struct futhark_context *ctx) {
  struct futhark_context_config *cfg = ctx->cfg;
  char name[256];
  int count, chosen = -1, best_cc = -1;
  int cc_major_best = 0, cc_minor_best = 0;
  int cc_major = 0, cc_minor = 0;
  CUdevice dev;

  CUDA_SUCCEED_FATAL(cuDeviceGetCount(&count));
  if (count == 0) { return 1; }

  int num_device_matches = 0;

  // XXX: Current device selection policy is to choose the device with the
  // highest compute capability (if no preferred device is set).
  // This should maybe be changed, since greater compute capability is not
  // necessarily an indicator of better performance.
  for (int i = 0; i < count; i++) {
    CUDA_SUCCEED_FATAL(cuDeviceGet(&dev, i));

    cc_major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
    cc_minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

    CUDA_SUCCEED_FATAL(cuDeviceGetName(name, sizeof(name) - 1, dev));
    name[sizeof(name) - 1] = 0;

    if (cfg->logging) {
      fprintf(ctx->log, "Device #%d: name=\"%s\", compute capability=%d.%d\n",
              i, name, cc_major, cc_minor);
    }

    if (device_query(dev, COMPUTE_MODE) == CU_COMPUTEMODE_PROHIBITED) {
      if (cfg->logging) {
        fprintf(ctx->log, "Device #%d is compute-prohibited, ignoring\n", i);
      }
      continue;
    }

    if (best_cc == -1 || cc_major > cc_major_best ||
        (cc_major == cc_major_best && cc_minor > cc_minor_best)) {
      best_cc = i;
      cc_major_best = cc_major;
      cc_minor_best = cc_minor;
    }

    if (strstr(name, cfg->preferred_device) != NULL &&
        num_device_matches++ == cfg->preferred_device_num) {
      chosen = i;
      break;
    }
  }

  if (chosen == -1) { chosen = best_cc; }
  if (chosen == -1) { return 1; }

  if (cfg->logging) {
    fprintf(ctx->log, "Using device #%d\n", chosen);
  }

  CUDA_SUCCEED_FATAL(cuDeviceGet(&ctx->dev, chosen));
  return 0;
}

static const char *cuda_nvrtc_get_arch(CUdevice dev) {
  static struct {
    int major;
    int minor;
    const char *arch_str;
  } const x[] = {
    { 3, 0, "compute_30" },
    { 3, 2, "compute_32" },
    { 3, 5, "compute_35" },
    { 3, 7, "compute_37" },
    { 5, 0, "compute_50" },
    { 5, 2, "compute_52" },
    { 5, 3, "compute_53" },
    { 6, 0, "compute_60" },
    { 6, 1, "compute_61" },
    { 6, 2, "compute_62" },
    { 7, 0, "compute_70" },
    { 7, 2, "compute_72" },
    { 7, 5, "compute_75" },
    { 8, 0, "compute_80" },
    { 8, 6, "compute_80" },
    { 8, 7, "compute_80" }
  };

  int major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
  int minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

  int chosen = -1;
  int num_archs = sizeof(x)/sizeof(x[0]);
  for (int i = 0; i < num_archs; i++) {
    if (x[i].major < major || (x[i].major == major && x[i].minor <= minor)) {
      chosen = i;
    } else {
      break;
    }
  }

  if (chosen == -1) {
    futhark_panic(-1, "Unsupported compute capability %d.%d\n", major, minor);
  }

  if (x[chosen].major != major || x[chosen].minor != minor) {
    fprintf(stderr,
            "Warning: device compute capability is %d.%d, but newest supported by Futhark is %d.%d.\n",
            major, minor, x[chosen].major, x[chosen].minor);
  }

  return x[chosen].arch_str;
}

static void cuda_nvrtc_mk_build_options(struct futhark_context *ctx, const char *extra_opts[],
                                        char*** opts_out, size_t *n_opts) {
  int arch_set = 0, num_extra_opts;
  struct futhark_context_config *cfg = ctx->cfg;

  char** macro_names;
  int64_t* macro_vals;
  int num_macros = gpu_macros(ctx, &macro_names, &macro_vals);

  // nvrtc cannot handle multiple -arch options.  Hence, if one of the
  // extra_opts is -arch, we have to be careful not to do our usual
  // automatic generation.
  for (num_extra_opts = 0; extra_opts[num_extra_opts] != NULL; num_extra_opts++) {
    if (strstr(extra_opts[num_extra_opts], "-arch")
        == extra_opts[num_extra_opts] ||
        strstr(extra_opts[num_extra_opts], "--gpu-architecture")
        == extra_opts[num_extra_opts]) {
      arch_set = 1;
    }
  }

  size_t i = 0, n_opts_alloc = 20 + num_macros + num_extra_opts + cfg->num_tuning_params;
  char **opts = (char**) malloc(n_opts_alloc * sizeof(char *));
  if (!arch_set) {
    opts[i++] = strdup("-arch");
    opts[i++] = strdup(cuda_nvrtc_get_arch(ctx->dev));
  }
  opts[i++] = strdup("-default-device");
  if (cfg->debugging) {
    opts[i++] = strdup("-G");
    opts[i++] = strdup("-lineinfo");
  } else {
    opts[i++] = strdup("--disable-warnings");
  }
  opts[i++] = msgprintf("-D%s=%d",
                        "max_thread_block_size",
                        (int)ctx->max_thread_block_size);
  opts[i++] = msgprintf("-D%s=%d",
                        "max_shared_memory",
                        (int)ctx->max_shared_memory);
  opts[i++] = msgprintf("-D%s=%d",
                        "max_registers",
                        (int)ctx->max_registers);

  for (int j = 0; j < num_macros; j++) {
    opts[i++] = msgprintf("-D%s=%zu", macro_names[j], macro_vals[j]);
  }

  for (int j = 0; j < cfg->num_tuning_params; j++) {
    opts[i++] = msgprintf("-D%s=%zu", cfg->tuning_param_vars[j],
                          cfg->tuning_params[j]);
  }
  opts[i++] = msgprintf("-DLOCKSTEP_WIDTH=%zu", ctx->lockstep_width);
  opts[i++] = msgprintf("-DMAX_THREADS_PER_BLOCK=%zu", ctx->max_thread_block_size);

  // Time for the best lines of the code in the entire compiler.
  if (getenv("CUDA_HOME") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_HOME"));
  }
  if (getenv("CUDA_ROOT") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_ROOT"));
  }
  if (getenv("CUDA_PATH") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_PATH"));
  }
  opts[i++] = msgprintf("-I/usr/local/cuda/include");
  opts[i++] = msgprintf("-I/usr/include");

  for (int j = 0; extra_opts[j] != NULL; j++) {
    opts[i++] = strdup(extra_opts[j]);
  }

  opts[i++] = msgprintf("-DTR_BLOCK_DIM=%d", TR_BLOCK_DIM);
  opts[i++] = msgprintf("-DTR_TILE_DIM=%d", TR_TILE_DIM);
  opts[i++] = msgprintf("-DTR_ELEMS_PER_THREAD=%d", TR_ELEMS_PER_THREAD);

  free(macro_names);
  free(macro_vals);

  *n_opts = i;
  *opts_out = opts;
}

static char* cuda_nvrtc_build(const char *src, const char *opts[], size_t n_opts,
                              char **ptx) {
  nvrtcProgram prog;
  char *problem = NULL;

  problem = NVRTC_SUCCEED_NONFATAL(nvrtcCreateProgram(&prog, src, "futhark-cuda", 0, NULL, NULL));

  if (problem) {
    return problem;
  }

  nvrtcResult res = nvrtcCompileProgram(prog, n_opts, opts);
  if (res != NVRTC_SUCCESS) {
    size_t log_size;
    if (nvrtcGetProgramLogSize(prog, &log_size) == NVRTC_SUCCESS) {
      char *log = (char*) malloc(log_size);
      if (nvrtcGetProgramLog(prog, log) == NVRTC_SUCCESS) {
        problem = msgprintf("NVRTC compilation failed.\n\n%s\n", log);
      } else {
        problem = msgprintf("Could not retrieve compilation log\n");
      }
      free(log);
    }
    return problem;
  }

  size_t ptx_size;
  NVRTC_SUCCEED_FATAL(nvrtcGetPTXSize(prog, &ptx_size));
  *ptx = (char*) malloc(ptx_size);
  NVRTC_SUCCEED_FATAL(nvrtcGetPTX(prog, *ptx));

  NVRTC_SUCCEED_FATAL(nvrtcDestroyProgram(&prog));

  return NULL;
}

static void cuda_load_ptx_from_cache(struct futhark_context_config *cfg,
                                     const char *src,
                                     const char *opts[], size_t n_opts,
                                     struct cache_hash *h, const char *cache_fname,
                                     char **ptx) {
  if (cfg->logging) {
    fprintf(stderr, "Restoring cache from from %s...\n", cache_fname);
  }
  cache_hash_init(h);
  for (size_t i = 0; i < n_opts; i++) {
    cache_hash(h, opts[i], strlen(opts[i]));
  }
  cache_hash(h, src, strlen(src));
  size_t ptxsize;
  errno = 0;
  if (cache_restore(cache_fname, h, (unsigned char**)ptx, &ptxsize) != 0) {
    if (cfg->logging) {
      fprintf(stderr, "Failed to restore cache (errno: %s)\n", strerror(errno));
    }
  }
}

static void cuda_size_setup(struct futhark_context *ctx)
{
  struct futhark_context_config *cfg = ctx->cfg;
  if (cfg->gpu.default_block_size > ctx->max_thread_block_size) {
    if (cfg->gpu.default_block_size_changed) {
      fprintf(stderr,
              "Note: Device limits default block size to %zu (down from %zu).\n",
              ctx->max_thread_block_size, cfg->gpu.default_block_size);
    }
    cfg->gpu.default_block_size = ctx->max_thread_block_size;
  }
  if (cfg->gpu.default_grid_size > ctx->max_grid_size) {
    if (cfg->gpu.default_grid_size_changed) {
      fprintf(stderr,
              "Note: Device limits default grid size to %zu (down from %zu).\n",
              ctx->max_grid_size, cfg->gpu.default_grid_size);
    }
    cfg->gpu.default_grid_size = ctx->max_grid_size;
  }
  if (cfg->gpu.default_tile_size > ctx->max_tile_size) {
    if (cfg->gpu.default_tile_size_changed) {
      fprintf(stderr,
              "Note: Device limits default tile size to %zu (down from %zu).\n",
              ctx->max_tile_size, cfg->gpu.default_tile_size);
    }
    cfg->gpu.default_tile_size = ctx->max_tile_size;
  }

  if (!cfg->gpu.default_grid_size_changed) {
    cfg->gpu.default_grid_size =
      (device_query(ctx->dev, MULTIPROCESSOR_COUNT) *
       device_query(ctx->dev, MAX_THREADS_PER_MULTIPROCESSOR))
      / cfg->gpu.default_block_size;
  }

  for (int i = 0; i < cfg->num_tuning_params; i++) {
    const char *size_class = cfg->tuning_param_classes[i];
    int64_t *size_value = &cfg->tuning_params[i];
    const char* size_name = cfg->tuning_param_names[i];
    int64_t max_value = 0, default_value = 0;

    if (strstr(size_class, "thread_block_size") == size_class) {
      max_value = ctx->max_thread_block_size;
      default_value = cfg->gpu.default_block_size;
    } else if (strstr(size_class, "grid_size") == size_class) {
      max_value = ctx->max_grid_size;
      default_value = cfg->gpu.default_grid_size;
      // XXX: as a quick and dirty hack, use twice as many threads for
      // histograms by default.  We really should just be smarter
      // about sizes somehow.
      if (strstr(size_name, ".seghist_") != NULL) {
        default_value *= 2;
      }
    } else if (strstr(size_class, "tile_size") == size_class) {
      max_value = ctx->max_tile_size;
      default_value = cfg->gpu.default_tile_size;
    } else if (strstr(size_class, "reg_tile_size") == size_class) {
      max_value = 0; // No limit.
      default_value = cfg->gpu.default_reg_tile_size;
    } else if (strstr(size_class, "shared_memory") == size_class) {
      max_value = ctx->max_shared_memory;
      default_value = ctx->max_shared_memory;
    } else if (strstr(size_class, "cache") == size_class) {
      max_value = ctx->max_cache;
      default_value = ctx->max_cache;
    } else if (strstr(size_class, "threshold") == size_class) {
      // Threshold can be as large as it takes.
      default_value = cfg->gpu.default_threshold;
    } else {
      // Bespoke sizes have no limit or default.
    }

    if (*size_value == 0) {
      *size_value = default_value;
    } else if (max_value > 0 && *size_value > max_value) {
      fprintf(stderr, "Note: Device limits %s to %zu (down from %zu)\n",
              size_name, max_value, *size_value);
      *size_value = max_value;
    }
  }
}

static char* cuda_module_setup(struct futhark_context *ctx,
                               const char *src,
                               const char *extra_opts[],
                               const char* cache_fname) {
  char *ptx = NULL;
  struct futhark_context_config *cfg = ctx->cfg;

  if (cfg->load_ptx_from) {
    ptx = slurp_file(cfg->load_ptx_from, NULL);
  }

  char **opts;
  size_t n_opts;
  cuda_nvrtc_mk_build_options(ctx, extra_opts, &opts, &n_opts);

  if (cfg->logging) {
    fprintf(stderr, "NVRTC compile options:\n");
    for (size_t j = 0; j < n_opts; j++) {
      fprintf(stderr, "\t%s\n", opts[j]);
    }
    fprintf(stderr, "\n");
  }

  struct cache_hash h;
  int loaded_ptx_from_cache = 0;
  if (cache_fname != NULL) {
    cuda_load_ptx_from_cache(cfg, src, (const char**)opts, n_opts, &h, cache_fname, &ptx);

    if (ptx != NULL) {
      if (cfg->logging) {
        fprintf(stderr, "Restored PTX from cache; now loading module...\n");
      }
      if (cuModuleLoadData(&ctx->module, ptx) == CUDA_SUCCESS) {
        if (cfg->logging) {
          fprintf(stderr, "Success!\n");
        }
        loaded_ptx_from_cache = 1;
      } else {
        if (cfg->logging) {
          fprintf(stderr, "Failed!\n");
        }
        free(ptx);
        ptx = NULL;
      }
    }
  }

  if (ptx == NULL) {
    char* problem = cuda_nvrtc_build(src, (const char**)opts, n_opts, &ptx);
    if (problem != NULL) {
      return problem;
    }
  }

  if (cfg->dump_ptx_to != NULL) {
    dump_file(cfg->dump_ptx_to, ptx, strlen(ptx));
  }

  if (!loaded_ptx_from_cache) {
    CUDA_SUCCEED_FATAL(cuModuleLoadData(&ctx->module, ptx));
  }

  if (cache_fname != NULL && !loaded_ptx_from_cache) {
    if (cfg->logging) {
      fprintf(stderr, "Caching PTX in %s...\n", cache_fname);
    }
    errno = 0;
    if (cache_store(cache_fname, &h, (const unsigned char*)ptx, strlen(ptx)) != 0) {
      fprintf(stderr, "Failed to cache PTX: %s\n", strerror(errno));
    }
  }

  for (size_t i = 0; i < n_opts; i++) {
    free((char *)opts[i]);
  }
  free(opts);
  free(ptx);

  return NULL;
}

struct cuda_event {
  cudaEvent_t start;
  cudaEvent_t end;
};

static struct cuda_event* cuda_event_new(struct futhark_context* ctx) {
  if (ctx->profiling && !ctx->profiling_paused) {
    struct cuda_event* e = malloc(sizeof(struct cuda_event));
    cudaEventCreate(&e->start);
    cudaEventCreate(&e->end);
    return e;
  } else {
    return NULL;
  }
}

static int cuda_event_report(struct str_builder* sb, struct cuda_event* e) {
  float ms;
  CUresult err;
  if ((err = cuEventElapsedTime(&ms, e->start, e->end)) != CUDA_SUCCESS) {
    return err;
  }

  // CUDA provides milisecond resolution, but we want microseconds.
  str_builder(sb, ",\"duration\":%f", ms*1000);

  if ((err = cuEventDestroy(e->start)) != CUDA_SUCCESS) {
    return 1;
  }

  if ((err = cuEventDestroy(e->end)) != CUDA_SUCCESS) {
    return 1;
  }

  free(e);

  return 0;
}

int futhark_context_sync(struct futhark_context* ctx) {
  CUDA_SUCCEED_OR_RETURN(cuCtxPushCurrent(ctx->cu_ctx));
  CUDA_SUCCEED_OR_RETURN(cuCtxSynchronize());
  if (ctx->failure_is_an_option) {
    // Check for any delayed error.
    int32_t failure_idx;
    CUDA_SUCCEED_OR_RETURN(
                           cuMemcpyDtoH(&failure_idx,
                                        ctx->global_failure,
                                        sizeof(int32_t)));
    ctx->failure_is_an_option = 0;

    if (failure_idx >= 0) {
      // We have to clear global_failure so that the next entry point
      // is not considered a failure from the start.
      int32_t no_failure = -1;
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyHtoD(ctx->global_failure,
                                          &no_failure,
                                          sizeof(int32_t)));

      int64_t args[max_failure_args+1];
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyDtoH(&args,
                                          ctx->global_failure_args,
                                          sizeof(args)));

      ctx->error = get_failure_msg(failure_idx, args);

      return FUTHARK_PROGRAM_ERROR;
    }
  }

  CUDA_SUCCEED_OR_RETURN(cuCtxPopCurrent(&ctx->cu_ctx));
  return 0;
}

struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx);
void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels);

int backend_context_setup(struct futhark_context* ctx) {
  ctx->failure_is_an_option = 0;
  ctx->total_runs = 0;
  ctx->total_runtime = 0;
  ctx->peak_mem_usage_device = 0;
  ctx->cur_mem_usage_device = 0;
  ctx->kernels = NULL;

  CUDA_SUCCEED_FATAL(cuInit(0));
  if (cuda_device_setup(ctx) != 0) {
    futhark_panic(-1, "No suitable CUDA device found.\n");
  }
  CUDA_SUCCEED_FATAL(cuCtxCreate(&ctx->cu_ctx, 0, ctx->dev));

  free_list_init(&ctx->gpu_free_list);

  if (ctx->cfg->unified_memory == 2) {
    ctx->cfg->unified_memory = device_query(ctx->dev, MANAGED_MEMORY);
  }

  if (ctx->cfg->logging) {
    if (ctx->cfg->unified_memory) {
      fprintf(ctx->log, "Using managed memory\n");
    } else {
      fprintf(ctx->log, "Using unmanaged memory\n");
    }
  }

  ctx->max_thread_block_size = device_query(ctx->dev, MAX_THREADS_PER_BLOCK);
  ctx->max_grid_size = device_query(ctx->dev, MAX_GRID_DIM_X);
  ctx->max_tile_size = sqrt(ctx->max_thread_block_size);
  ctx->max_threshold = 1U<<31; // No limit.
  ctx->max_bespoke = 1U<<31; // No limit.

  if (ctx->cfg->gpu.default_registers != 0) {
    ctx->max_registers = ctx->cfg->gpu.default_registers;
  } else {
    ctx->max_registers = device_query(ctx->dev, MAX_REGISTERS_PER_BLOCK);
  }

  if (ctx->cfg->gpu.default_shared_memory != 0) {
    ctx->max_shared_memory = ctx->cfg->gpu.default_shared_memory;
  } else {
    // MAX_SHARED_MEMORY_PER_BLOCK gives bogus numbers (48KiB); probably
    // for backwards compatibility.  Add _OPTIN and you seem to get the
    // right number.
    ctx->max_shared_memory = device_query(ctx->dev, MAX_SHARED_MEMORY_PER_BLOCK_OPTIN);
#if CUDART_VERSION >= 12000
    ctx->max_shared_memory -= device_query(ctx->dev, RESERVED_SHARED_MEMORY_PER_BLOCK);
#endif
  }

  if (ctx->cfg->gpu.default_cache != 0) {
    ctx->max_cache = ctx->cfg->gpu.default_cache;
  } else {
    ctx->max_cache = device_query(ctx->dev, L2_CACHE_SIZE);
  }

  ctx->lockstep_width = device_query(ctx->dev, WARP_SIZE);
  CUDA_SUCCEED_FATAL(cuStreamCreate(&ctx->stream, CU_STREAM_DEFAULT));
  cuda_size_setup(ctx);

  gpu_init_log(ctx);

  ctx->error = cuda_module_setup(ctx,
                                 ctx->cfg->program,
                                 (const char**)ctx->cfg->nvrtc_opts,
                                 ctx->cfg->cache_fname);

  if (ctx->error != NULL) {
    futhark_panic(1, "During CUDA initialisation:\n%s\n", ctx->error);
  }

  int32_t no_error = -1;
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure, sizeof(no_error)));
  CUDA_SUCCEED_FATAL(cuMemcpyHtoD(ctx->global_failure, &no_error, sizeof(no_error)));
  // The +1 is to avoid zero-byte allocations.
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure_args, sizeof(int64_t)*(max_failure_args+1)));

  if ((ctx->kernels = init_builtin_kernels(ctx)) == NULL) {
    return 1;
  }

  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  if (ctx->kernels != NULL) {
    free_builtin_kernels(ctx, ctx->kernels);
    cuMemFree(ctx->global_failure);
    cuMemFree(ctx->global_failure_args);
    CUDA_SUCCEED_FATAL(gpu_free_all(ctx));
    CUDA_SUCCEED_FATAL(cuStreamDestroy(ctx->stream));
    CUDA_SUCCEED_FATAL(cuModuleUnload(ctx->module));
    CUDA_SUCCEED_FATAL(cuCtxDestroy(ctx->cu_ctx));
  }
  free_list_destroy(&ctx->gpu_free_list);
}

// GPU ABSTRACTION LAYER

// Types.

typedef CUfunction gpu_kernel;
typedef CUdeviceptr gpu_mem;

static void gpu_create_kernel(struct futhark_context *ctx,
                              gpu_kernel* kernel,
                              const char* name) {
  if (ctx->debugging) {
    fprintf(ctx->log, "Creating kernel %s.\n", name);
  }
  CUDA_SUCCEED_FATAL(cuModuleGetFunction(kernel, ctx->module, name));
  // Unless the below is set, the kernel is limited to 48KiB of memory.
  CUDA_SUCCEED_FATAL(cuFuncSetAttribute(*kernel,
                                        cudaFuncAttributeMaxDynamicSharedMemorySize,
                                        ctx->max_shared_memory));
}

static void gpu_free_kernel(struct futhark_context *ctx,
                            gpu_kernel kernel) {
  (void)ctx;
  (void)kernel;
}

static int gpu_scalar_to_device(struct futhark_context* ctx,
                                gpu_mem dst, size_t offset, size_t size,
                                void *src) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_scalar_to_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoD(dst + offset, src, size));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int gpu_scalar_from_device(struct futhark_context* ctx,
                                  void *dst,
                                  gpu_mem src, size_t offset, size_t size) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_scalar_from_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(dst, src + offset, size));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int gpu_memcpy(struct futhark_context* ctx,
                      gpu_mem dst, int64_t dst_offset,
                      gpu_mem src, int64_t src_offset,
                      int64_t nbytes) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_dev_to_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyAsync(dst+dst_offset, src+src_offset, nbytes, ctx->stream));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int memcpy_host2gpu(struct futhark_context* ctx, bool sync,
                           gpu_mem dst, int64_t dst_offset,
                           const unsigned char* src, int64_t src_offset,
                           int64_t nbytes) {
  if (nbytes > 0) {
    struct cuda_event *event = cuda_event_new(ctx);
    if (event != NULL) {
      add_event(ctx,
                "copy_host_to_dev",
                strdup(""),
                event,
                (event_report_fn)cuda_event_report);
      CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    }
    if (sync) {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyHtoD(dst + dst_offset, src + src_offset, nbytes));
    } else {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyHtoDAsync(dst + dst_offset, src + src_offset, nbytes, ctx->stream));
    }
    if (event != NULL) {
      CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
    }
  }
  return FUTHARK_SUCCESS;
}

static int memcpy_gpu2host(struct futhark_context* ctx, bool sync,
                           unsigned char* dst, int64_t dst_offset,
                           gpu_mem src, int64_t src_offset,
                           int64_t nbytes) {
  if (nbytes > 0) {
    struct cuda_event *event = cuda_event_new(ctx);
    if (event != NULL) {
      add_event(ctx,
                "copy_dev_to_host",
                strdup(""),
                event,
                (event_report_fn)cuda_event_report);
      CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    }
    if (sync) {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyDtoH(dst + dst_offset, src + src_offset, nbytes));
    } else {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyDtoHAsync(dst + dst_offset, src + src_offset, nbytes, ctx->stream));
    }
    if (event != NULL) {
      CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
    }
    if (sync &&
        ctx->failure_is_an_option &&
        futhark_context_sync(ctx) != 0) {
      return 1;
    }
  }
  return FUTHARK_SUCCESS;
}

static int gpu_launch_kernel(struct futhark_context* ctx,
                             gpu_kernel kernel, const char *name,
                             const int32_t grid[3],
                             const int32_t block[3],
                             unsigned int shared_mem_bytes,
                             int num_args,
                             void* args[num_args],
                             size_t args_sizes[num_args]) {
  (void) args_sizes;

  if (shared_mem_bytes > ctx->max_shared_memory) {
    set_error(ctx, msgprintf("Kernel %s with %d bytes of memory exceeds device limit of %d\n",
                             name, shared_mem_bytes, (int)ctx->max_shared_memory));
    return 1;
  }

  int64_t time_start = 0, time_end = 0;
  if (ctx->debugging) {
    time_start = get_wall_time();
  }

  struct cuda_event *event = cuda_event_new(ctx);

  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    add_event(ctx,
              name,
              msgprintf("Kernel %s with\n"
                        "  grid=(%d,%d,%d)\n"
                        "  block=(%d,%d,%d)\n"
                        "  shared memory=%d",
                        name,
                        grid[0], grid[1], grid[2],
                        block[0], block[1], block[2],
                        shared_mem_bytes),
              event,
              (event_report_fn)cuda_event_report);
  }

  CUDA_SUCCEED_OR_RETURN
    (cuLaunchKernel(kernel,
                    grid[0], grid[1], grid[2],
                    block[0], block[1], block[2],
                    shared_mem_bytes, ctx->stream,
                    args, NULL));

  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }

  if (ctx->debugging) {
    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
    time_end = get_wall_time();
    long int time_diff = time_end - time_start;
    fprintf(ctx->log, "  runtime: %ldus\n", time_diff);
  }
  if (ctx->logging) {
    fprintf(ctx->log, "\n");
  }

  return FUTHARK_SUCCESS;
}

static int gpu_alloc_actual(struct futhark_context *ctx, size_t size, gpu_mem *mem_out) {
  CUresult res;
  if (ctx->cfg->unified_memory) {
    res = cuMemAllocManaged(mem_out, size, CU_MEM_ATTACH_GLOBAL);
  } else {
    res = cuMemAlloc(mem_out, size);
  }

  if (res == CUDA_ERROR_OUT_OF_MEMORY) {
    return FUTHARK_OUT_OF_MEMORY;
  }

  CUDA_SUCCEED_OR_RETURN(res);
  return FUTHARK_SUCCESS;
}

static int gpu_free_actual(struct futhark_context *ctx, gpu_mem mem) {
  (void)ctx;
  CUDA_SUCCEED_OR_RETURN(cuMemFree(mem));
  return FUTHARK_SUCCESS;
}

// End of backends/cuda.h.

// Start of gpu.h

// Generic functions that use our tiny GPU abstraction layer.  The
// entire context must be defined before this header is included.  In
// particular we expect the following functions to be available:

static int gpu_free_actual(struct futhark_context *ctx, gpu_mem mem);
static int gpu_alloc_actual(struct futhark_context *ctx, size_t size, gpu_mem *mem_out);
int gpu_launch_kernel(struct futhark_context* ctx,
                      gpu_kernel kernel, const char *name,
                      const int32_t grid[3],
                      const int32_t block[3],
                      unsigned int shared_mem_bytes,
                      int num_args,
                      void* args[num_args],
                      size_t args_sizes[num_args]);
int gpu_memcpy(struct futhark_context* ctx,
               gpu_mem dst, int64_t dst_offset,
               gpu_mem src, int64_t src_offset,
               int64_t nbytes);
int gpu_scalar_from_device(struct futhark_context* ctx,
                           void *dst,
                           gpu_mem src, size_t offset, size_t size);
int gpu_scalar_to_device(struct futhark_context* ctx,
                         gpu_mem dst, size_t offset, size_t size,
                         void *src);
void gpu_create_kernel(struct futhark_context *ctx,
                       gpu_kernel* kernel,
                       const char* name);

static void gpu_init_log(struct futhark_context *ctx) {
  if (ctx->cfg->logging) {
    fprintf(ctx->log, "Default block size: %ld\n", (long)ctx->cfg->gpu.default_block_size);
    fprintf(ctx->log, "Default grid size: %ld\n", (long)ctx->cfg->gpu.default_grid_size);
    fprintf(ctx->log, "Default tile size: %ld\n", (long)ctx->cfg->gpu.default_tile_size);
    fprintf(ctx->log, "Default register tile size: %ld\n", (long)ctx->cfg->gpu.default_reg_tile_size);
    fprintf(ctx->log, "Default cache: %ld\n", (long)ctx->cfg->gpu.default_cache);
    fprintf(ctx->log, "Default registers: %ld\n", (long)ctx->cfg->gpu.default_registers);
    fprintf(ctx->log, "Default threshold: %ld\n", (long)ctx->cfg->gpu.default_threshold);
    fprintf(ctx->log, "Max thread block size: %ld\n", (long)ctx->max_thread_block_size);
    fprintf(ctx->log, "Max grid size: %ld\n", (long)ctx->max_grid_size);
    fprintf(ctx->log, "Max tile size: %ld\n", (long)ctx->max_tile_size);
    fprintf(ctx->log, "Max threshold: %ld\n", (long)ctx->max_threshold);
    fprintf(ctx->log, "Max shared memory: %ld\n", (long)ctx->max_shared_memory);
    fprintf(ctx->log, "Max registers: %ld\n", (long)ctx->max_registers);
    fprintf(ctx->log, "Max cache: %ld\n", (long)ctx->max_cache);
    fprintf(ctx->log, "Lockstep width: %ld\n", (long)ctx->lockstep_width);
  }
}

// Generic GPU command line options.

void futhark_context_config_set_default_thread_block_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_block_size = size;
  cfg->gpu.default_block_size_changed = 1;
}

void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size) {
  futhark_context_config_set_default_thread_block_size(cfg, size);
}

void futhark_context_config_set_default_grid_size(struct futhark_context_config *cfg, int num) {
  cfg->gpu.default_grid_size = num;
  cfg->gpu.default_grid_size_changed = 1;
}

void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int num) {
  futhark_context_config_set_default_grid_size(cfg, num);
}

void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_tile_size = size;
  cfg->gpu.default_tile_size_changed = 1;
}

void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_reg_tile_size = size;
}

void futhark_context_config_set_default_cache(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_cache = size;
}

void futhark_context_config_set_default_registers(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_registers = size;
}

void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_threshold = size;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t new_value) {
  for (int i = 0; i < cfg->num_tuning_params; i++) {
    if (strcmp(param_name, cfg->tuning_param_names[i]) == 0) {
      cfg->tuning_params[i] = new_value;
      return 0;
    }
  }
  if (strcmp(param_name, "default_thread_block_size") == 0 ||
      strcmp(param_name, "default_group_size") == 0) {
    cfg->gpu.default_block_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_grid_size") == 0 ||
      strcmp(param_name, "default_num_groups") == 0) {
    cfg->gpu.default_grid_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_threshold") == 0) {
    cfg->gpu.default_threshold = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_tile_size") == 0) {
    cfg->gpu.default_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_reg_tile_size") == 0) {
    cfg->gpu.default_reg_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_cache") == 0) {
    cfg->gpu.default_cache = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_shared_memory") == 0) {
    cfg->gpu.default_shared_memory = new_value;
    return 0;
  }

  return 1;
}

// End of GPU command line optiopns.

// Max number of thead blocks we allow along the second or third
// dimension for transpositions.
#define MAX_TR_THREAD_BLOCKS 65535

struct builtin_kernels {
  // We have a lot of ways to transpose arrays.
  gpu_kernel map_transpose_1b;
  gpu_kernel map_transpose_1b_low_height;
  gpu_kernel map_transpose_1b_low_width;
  gpu_kernel map_transpose_1b_small;
  gpu_kernel map_transpose_1b_large;
  gpu_kernel map_transpose_2b;
  gpu_kernel map_transpose_2b_low_height;
  gpu_kernel map_transpose_2b_low_width;
  gpu_kernel map_transpose_2b_small;
  gpu_kernel map_transpose_2b_large;
  gpu_kernel map_transpose_4b;
  gpu_kernel map_transpose_4b_low_height;
  gpu_kernel map_transpose_4b_low_width;
  gpu_kernel map_transpose_4b_small;
  gpu_kernel map_transpose_4b_large;
  gpu_kernel map_transpose_8b;
  gpu_kernel map_transpose_8b_low_height;
  gpu_kernel map_transpose_8b_low_width;
  gpu_kernel map_transpose_8b_small;
  gpu_kernel map_transpose_8b_large;

  // And a few ways of copying.
  gpu_kernel lmad_copy_1b;
  gpu_kernel lmad_copy_2b;
  gpu_kernel lmad_copy_4b;
  gpu_kernel lmad_copy_8b;
};

struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx) {
  struct builtin_kernels *kernels = malloc(sizeof(struct builtin_kernels));
  gpu_create_kernel(ctx, &kernels->map_transpose_1b, "map_transpose_1b");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_large, "map_transpose_1b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_low_height, "map_transpose_1b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_low_width, "map_transpose_1b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_small, "map_transpose_1b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_2b, "map_transpose_2b");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_large, "map_transpose_2b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_low_height, "map_transpose_2b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_low_width, "map_transpose_2b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_small, "map_transpose_2b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_4b, "map_transpose_4b");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_large, "map_transpose_4b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_low_height, "map_transpose_4b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_low_width, "map_transpose_4b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_small, "map_transpose_4b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_8b, "map_transpose_8b");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_large, "map_transpose_8b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_low_height, "map_transpose_8b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_low_width, "map_transpose_8b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_small, "map_transpose_8b_small");

  gpu_create_kernel(ctx, &kernels->lmad_copy_1b, "lmad_copy_1b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_2b, "lmad_copy_2b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_4b, "lmad_copy_4b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_8b, "lmad_copy_8b");

  return kernels;
}

void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels) {
  gpu_free_kernel(ctx, kernels->map_transpose_1b);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_2b);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_4b);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_8b);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_small);

  gpu_free_kernel(ctx, kernels->lmad_copy_1b);
  gpu_free_kernel(ctx, kernels->lmad_copy_2b);
  gpu_free_kernel(ctx, kernels->lmad_copy_4b);
  gpu_free_kernel(ctx, kernels->lmad_copy_8b);

  free(kernels);
}

static int gpu_alloc(struct futhark_context *ctx, FILE *log,
                     size_t min_size, const char *tag,
                     gpu_mem *mem_out, size_t *size_out) {
  if (min_size < sizeof(int)) {
    min_size = sizeof(int);
  }

  gpu_mem* memptr;
  if (free_list_find(&ctx->gpu_free_list, min_size, tag, size_out, (fl_mem*)&memptr) == 0) {
    // Successfully found a free block.  Is it big enough?
    if (*size_out >= min_size) {
      if (ctx->cfg->debugging) {
        fprintf(log, "No need to allocate: Found a block in the free list.\n");
      }
      *mem_out = *memptr;
      free(memptr);
      return FUTHARK_SUCCESS;
    } else {
      if (ctx->cfg->debugging) {
        fprintf(log, "Found a free block, but it was too small.\n");
      }
      int error = gpu_free_actual(ctx, *memptr);
      free(memptr);
      if (error != FUTHARK_SUCCESS) {
        return error;
      }
    }
  }

  *size_out = min_size;

  // We have to allocate a new block from the driver.  If the
  // allocation does not succeed, then we might be in an out-of-memory
  // situation.  We now start freeing things from the free list until
  // we think we have freed enough that the allocation will succeed.
  // Since we don't know how far the allocation is from fitting, we
  // have to check after every deallocation.  This might be pretty
  // expensive.  Let's hope that this case is hit rarely.

  if (ctx->cfg->debugging) {
    fprintf(log, "Actually allocating the desired block.\n");
  }

  int error = gpu_alloc_actual(ctx, min_size, mem_out);

  while (error == FUTHARK_OUT_OF_MEMORY) {
    if (ctx->cfg->debugging) {
      fprintf(log, "Out of GPU memory: releasing entry from the free list...\n");
    }
    gpu_mem* memptr;
    if (free_list_first(&ctx->gpu_free_list, (fl_mem*)&memptr) == 0) {
      gpu_mem mem = *memptr;
      free(memptr);
      error = gpu_free_actual(ctx, mem);
      if (error != FUTHARK_SUCCESS) {
        return error;
      }
    } else {
      break;
    }
    error = gpu_alloc_actual(ctx, min_size, mem_out);
  }

  return error;
}

static int gpu_free(struct futhark_context *ctx,
                    gpu_mem mem, size_t size, const char *tag) {
  gpu_mem* memptr = malloc(sizeof(gpu_mem));
  *memptr = mem;
  free_list_insert(&ctx->gpu_free_list, size, (fl_mem)memptr, tag);
  return FUTHARK_SUCCESS;
}

static int gpu_free_all(struct futhark_context *ctx) {
  free_list_pack(&ctx->gpu_free_list);
  gpu_mem* memptr;
  while (free_list_first(&ctx->gpu_free_list, (fl_mem*)&memptr) == 0) {
    gpu_mem mem = *memptr;
    free(memptr);
    int error = gpu_free_actual(ctx, mem);
    if (error != FUTHARK_SUCCESS) {
      return error;
    }
  }

  return FUTHARK_SUCCESS;
}

static int gpu_map_transpose(struct futhark_context* ctx,
                             gpu_kernel kernel_default,
                             gpu_kernel kernel_low_height,
                             gpu_kernel kernel_low_width,
                             gpu_kernel kernel_small,
                             gpu_kernel kernel_large,
                             const char *name, size_t elem_size,
                             gpu_mem dst, int64_t dst_offset,
                             gpu_mem src, int64_t src_offset,
                             int64_t k, int64_t n, int64_t m) {
  int64_t mulx = TR_BLOCK_DIM / n;
  int64_t muly = TR_BLOCK_DIM / m;
  int32_t mulx32 = mulx;
  int32_t muly32 = muly;
  int32_t k32 = k;
  int32_t n32 = n;
  int32_t m32 = m;

  gpu_kernel kernel = kernel_default;
  int32_t grid[3];
  int32_t block[3];

  void* args[11];
  size_t args_sizes[11] = {
    sizeof(gpu_mem), sizeof(int64_t),
    sizeof(gpu_mem), sizeof(int64_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t)
  };

  args[0] = &dst;
  args[1] = &dst_offset;
  args[2] = &src;
  args[3] = &src_offset;
  args[7] = &mulx;
  args[8] = &muly;

  if (dst_offset + k * n * m <= 2147483647L &&
      src_offset + k * n * m <= 2147483647L) {
    if (m <= TR_BLOCK_DIM/2 && n <= TR_BLOCK_DIM/2) {
      if (ctx->logging) { fprintf(ctx->log, "Using small kernel\n"); }
      kernel = kernel_small;
      grid[0] = ((k * n * m) + (TR_BLOCK_DIM*TR_BLOCK_DIM) - 1) / (TR_BLOCK_DIM*TR_BLOCK_DIM);
      grid[1] = 1;
      grid[2] = 1;
      block[0] = TR_BLOCK_DIM*TR_BLOCK_DIM;
      block[1] = 1;
      block[2] = 1;
    } else if (m <= TR_BLOCK_DIM/2 && TR_BLOCK_DIM < n) {
      if (ctx->logging) { fprintf(ctx->log, "Using low-width kernel\n"); }
      kernel = kernel_low_width;
      int64_t x_elems = m;
      int64_t y_elems = (n + muly - 1) / muly;
      grid[0] = (x_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[1] = (y_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[2] = k;
      block[0] = TR_BLOCK_DIM;
      block[1] = TR_BLOCK_DIM;
      block[2] = 1;
    } else if (n <= TR_BLOCK_DIM/2 && TR_BLOCK_DIM < m) {
      if (ctx->logging) { fprintf(ctx->log, "Using low-height kernel\n"); }
      kernel = kernel_low_height;
      int64_t x_elems = (m + mulx - 1) / mulx;
      int64_t y_elems = n;
      grid[0] = (x_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[1] = (y_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[2] = k;
      block[0] = TR_BLOCK_DIM;
      block[1] = TR_BLOCK_DIM;
      block[2] = 1;
    } else {
      if (ctx->logging) { fprintf(ctx->log, "Using default kernel\n"); }
      kernel = kernel_default;
      grid[0] = (m+TR_TILE_DIM-1)/TR_TILE_DIM;
      grid[1] = (n+TR_TILE_DIM-1)/TR_TILE_DIM;
      grid[2] = k;
      block[0] = TR_TILE_DIM;
      block[1] = TR_TILE_DIM/TR_ELEMS_PER_THREAD;
      block[2] = 1;
    }
    args[4] = &k32;
    args[5] = &m32;
    args[6] = &n32;
    args[7] = &mulx32;
    args[8] = &muly32;
  } else {
    if (ctx->logging) { fprintf(ctx->log, "Using large kernel\n"); }
    kernel = kernel_large;
    grid[0] = (m+TR_TILE_DIM-1)/TR_TILE_DIM;
    grid[1] = (n+TR_TILE_DIM-1)/TR_TILE_DIM;
    grid[2] = k;
    block[0] = TR_TILE_DIM;
    block[1] = TR_TILE_DIM/TR_ELEMS_PER_THREAD;
    block[2] = 1;
    args[4] = &k;
    args[5] = &m;
    args[6] = &n;
    args[7] = &mulx;
    args[8] = &muly;
    args_sizes[4] = sizeof(int64_t);
    args_sizes[5] = sizeof(int64_t);
    args_sizes[6] = sizeof(int64_t);
    args_sizes[7] = sizeof(int64_t);
    args_sizes[8] = sizeof(int64_t);
  }

  // Cap the number of thead blocks we launch and figure out how many
  // repeats we need alongside each dimension.
  int32_t repeat_1 = grid[1] / MAX_TR_THREAD_BLOCKS;
  int32_t repeat_2 = grid[2] / MAX_TR_THREAD_BLOCKS;
  grid[1] = repeat_1 > 0 ? MAX_TR_THREAD_BLOCKS : grid[1];
  grid[2] = repeat_2 > 0 ? MAX_TR_THREAD_BLOCKS : grid[2];
  args[9] = &repeat_1;
  args[10] = &repeat_2;
  args_sizes[9] = sizeof(repeat_1);
  args_sizes[10] = sizeof(repeat_2);

  if (ctx->logging) {
    fprintf(ctx->log, "\n");
  }

  return gpu_launch_kernel(ctx, kernel, name, grid, block,
                           TR_TILE_DIM*(TR_TILE_DIM+1)*elem_size,
                           sizeof(args)/sizeof(args[0]), args, args_sizes);
}

#define GEN_MAP_TRANSPOSE_GPU2GPU(NAME, ELEM_TYPE)                      \
  static int map_transpose_gpu2gpu_##NAME                               \
  (struct futhark_context* ctx,                                         \
   gpu_mem dst, int64_t dst_offset,                                     \
   gpu_mem src, int64_t src_offset,                                     \
   int64_t k, int64_t m, int64_t n)                                     \
  {                                                                     \
    return                                                              \
      gpu_map_transpose                                                 \
      (ctx,                                                             \
       ctx->kernels->map_transpose_##NAME,                              \
       ctx->kernels->map_transpose_##NAME##_low_height,                 \
       ctx->kernels->map_transpose_##NAME##_low_width,                  \
       ctx->kernels->map_transpose_##NAME##_small,                      \
       ctx->kernels->map_transpose_##NAME##_large,                      \
       "map_transpose_" #NAME, sizeof(ELEM_TYPE),                       \
       dst, dst_offset, src, src_offset,                                \
       k, n, m);                                                        \
  }

static int gpu_lmad_copy(struct futhark_context* ctx,
                         gpu_kernel kernel, int r,
                         gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                         gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                         int64_t shape[r]) {
  if (r > 8) {
    set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy array of greater than rank 8.\n"));
    return 1;
  }

  int64_t n = 1;
  for (int i = 0; i < r; i++) { n *= shape[i]; }

  void* args[6+(8*3)];
  size_t args_sizes[6+(8*3)];

  args[0] = &dst;
  args_sizes[0] = sizeof(gpu_mem);
  args[1] = &dst_offset;
  args_sizes[1] = sizeof(dst_offset);
  args[2] = &src;
  args_sizes[2] = sizeof(gpu_mem);
  args[3] = &src_offset;
  args_sizes[3] = sizeof(src_offset);
  args[4] = &n;
  args_sizes[4] = sizeof(n);
  args[5] = &r;
  args_sizes[5] = sizeof(r);

  int64_t zero = 0;

  for (int i = 0; i < 8; i++) {
    args_sizes[6+i*3] = sizeof(int64_t);
    args_sizes[6+i*3+1] = sizeof(int64_t);
    args_sizes[6+i*3+2] = sizeof(int64_t);
    if (i < r) {
      args[6+i*3] = &shape[i];
      args[6+i*3+1] = &dst_strides[i];
      args[6+i*3+2] = &src_strides[i];
    } else {
      args[6+i*3] = &zero;
      args[6+i*3+1] = &zero;
      args[6+i*3+2] = &zero;
    }
  }
  const size_t w = 256; // XXX: hardcoded thread block size.

  return gpu_launch_kernel(ctx, kernel, "copy_lmad_dev_to_dev",
                           (const int32_t[3]) {(n+w-1)/w,1,1},
                           (const int32_t[3]) {w,1,1},
                           0, 6+(8*3), args, args_sizes);
}

#define GEN_LMAD_COPY_ELEMENTS_GPU2GPU(NAME, ELEM_TYPE)                 \
  static int lmad_copy_elements_gpu2gpu_##NAME                          \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    return gpu_lmad_copy(ctx, ctx->kernels->lmad_copy_##NAME, r,        \
                         dst, dst_offset, dst_strides,                  \
                         src, src_offset, src_strides,                  \
                         shape);                                        \
  }                                                                     \

#define GEN_LMAD_COPY_GPU2GPU(NAME, ELEM_TYPE)                          \
  static int lmad_copy_gpu2gpu_##NAME                                   \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "GPU to GPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return FUTHARK_SUCCESS; }                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                       r, dst_strides, src_strides, shape)) {           \
      log_transpose(ctx, k, n, m);                                      \
      return map_transpose_gpu2gpu_##NAME                               \
        (ctx, dst, dst_offset, src, src_offset, k, n, m);               \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}        \
      return gpu_memcpy(ctx,                                            \
                        dst, dst_offset*sizeof(ELEM_TYPE),              \
                        src, src_offset*sizeof(ELEM_TYPE),              \
                        size * sizeof(ELEM_TYPE));                      \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}     \
      return lmad_copy_elements_gpu2gpu_##NAME                          \
        (ctx, r,                                                        \
         dst, dst_offset, dst_strides,                                  \
         src, src_offset, src_strides,                                  \
         shape);                                                        \
    }                                                                   \
  }

static int
lmad_copy_elements_host2gpu(struct futhark_context *ctx, size_t elem_size,
                            int r,
                            gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                            unsigned char* src, int64_t src_offset, int64_t src_strides[r],
                            int64_t shape[r]) {
  (void)ctx; (void)elem_size; (void)r;
  (void)dst; (void)dst_offset; (void)dst_strides;
  (void)src; (void)src_offset; (void)src_strides;
  (void)shape;
  set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy unstructured array from host to GPU.\n"));
  return 1;
}

static int
lmad_copy_elements_gpu2host (struct futhark_context *ctx, size_t elem_size,
                             int r,
                             unsigned char* dst, int64_t dst_offset, int64_t dst_strides[r],
                             gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                             int64_t shape[r]) {
  (void)ctx; (void)elem_size; (void)r;
  (void)dst; (void)dst_offset; (void)dst_strides;
  (void)src; (void)src_offset; (void)src_strides;
  (void)shape;
  set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy unstructured array from GPU to host.\n"));
  return 1;
}

#define GEN_LMAD_COPY_ELEMENTS_HOSTGPU(NAME, ELEM_TYPE)                 \
  static int lmad_copy_elements_gpu2gpu_##NAME                          \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    return (ctx, ctx->kernels->lmad_copy_##NAME, r,                     \
                         dst, dst_offset, dst_strides,                  \
                         src, src_offset, src_strides,                  \
                         shape);                                        \
  }                                                                     \


static int lmad_copy_host2gpu(struct futhark_context* ctx, size_t elem_size, bool sync,
                              int r,
                              gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                              unsigned char* src, int64_t src_offset, int64_t src_strides[r],
                              int64_t shape[r]) {
  log_copy(ctx, "Host to GPU", r, dst_offset, dst_strides,
           src_offset, src_strides, shape);
  int64_t size = elem_size;
  for (int i = 0; i < r; i++) { size *= shape[i]; }
  if (size == 0) { return FUTHARK_SUCCESS; }
  int64_t k, n, m;
  if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {
    if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}
    return memcpy_host2gpu(ctx, sync,
                           dst, dst_offset*elem_size,
                           src, src_offset*elem_size,
                           size);
  } else {
    if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}
    int error;
    error = lmad_copy_elements_host2gpu
      (ctx, elem_size, r,
       dst, dst_offset, dst_strides,
       src, src_offset, src_strides,
       shape);
    if (error == 0 && sync) {
      error = futhark_context_sync(ctx);
    }
    return error;
  }
}

static int lmad_copy_gpu2host(struct futhark_context* ctx, size_t elem_size, bool sync,
                              int r,
                              unsigned char* dst, int64_t dst_offset, int64_t dst_strides[r],
                              gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                              int64_t shape[r]) {
  log_copy(ctx, "Host to GPU", r, dst_offset, dst_strides,
           src_offset, src_strides, shape);
  int64_t size = elem_size;
  for (int i = 0; i < r; i++) { size *= shape[i]; }
  if (size == 0) { return FUTHARK_SUCCESS; }
  int64_t k, n, m;
  if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {
    if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}
    return memcpy_gpu2host(ctx, sync,
                           dst, dst_offset*elem_size,
                           src, src_offset*elem_size,
                           size);
  } else {
    if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}
    int error;
    error = lmad_copy_elements_gpu2host
      (ctx, elem_size, r,
       dst, dst_offset, dst_strides,
       src, src_offset, src_strides,
       shape);
    if (error == 0 && sync) {
      error = futhark_context_sync(ctx);
    }
    return error;
  }
}

GEN_MAP_TRANSPOSE_GPU2GPU(1b, uint8_t)
GEN_MAP_TRANSPOSE_GPU2GPU(2b, uint16_t)
GEN_MAP_TRANSPOSE_GPU2GPU(4b, uint32_t)
GEN_MAP_TRANSPOSE_GPU2GPU(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS_GPU2GPU(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(8b, uint64_t)

GEN_LMAD_COPY_GPU2GPU(1b, uint8_t)
GEN_LMAD_COPY_GPU2GPU(2b, uint16_t)
GEN_LMAD_COPY_GPU2GPU(4b, uint32_t)
GEN_LMAD_COPY_GPU2GPU(8b, uint64_t)

// End of gpu.h

static int gpu_macros(struct futhark_context *ctx, char ***names_out, int64_t **values_out)
{
    int num_macros = 307;
    char **names = malloc(num_macros * sizeof(char *));
    int64_t *values = malloc(num_macros * sizeof(int64_t));
    
    {
        names[0] = "sort_for_Skyline_doublezisegmap_68179_dim1";
        values[0] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68163;
    }
    {
        names[1] = "sort_for_Skyline_doublezisegmap_68179zisegmap_tblock_sizze_68175";
        values[1] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68163;
    }
    {
        names[2] = "sort_for_Skyline_doublezisegscan_68159_dim1";
        values[2] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_68153;
    }
    {
        names[3] = "sort_for_Skyline_doublezisegscan_68159zisegscan_tblock_sizze_68154";
        values[3] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_68153;
    }
    {
        names[4] = "sort_for_Skyline_doublezisegscan_68159zichunk_sizze_74086";
        values[4] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[5] = "sort_for_Skyline_doublezisegred_large_74008_dim1";
        values[5] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    }
    {
        names[6] = "sort_for_Skyline_doublezisegred_large_74008ziseghist_tblock_sizze_68139";
        values[6] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    }
    {
        names[7] = "sort_for_Skyline_doublezisegred_large_74008zichunk_sizze_74009";
        values[7] = (int64_t) 1;
    }
    {
        names[8] = "sort_for_Skyline_doublezisegred_small_74008_dim1";
        values[8] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    }
    {
        names[9] = "sort_for_Skyline_doublezisegred_small_74008ziseghist_tblock_sizze_68139";
        values[9] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    }
    {
        names[10] = "sort_for_Skyline_doubleziseghist_global_68146_dim1";
        values[10] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    }
    {
        names[11] = "sort_for_Skyline_doubleziseghist_global_68146ziseghist_tblock_sizze_68139";
        values[11] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    }
    {
        names[12] = "sort_for_Skyline_doubleziseghist_local_68146_dim1";
        values[12] = ctx->max_thread_block_size;
    }
    {
        names[13] = "sort_for_Skyline_doubleziseghist_local_68146zimax_tblock_sizze_73932";
        values[13] = ctx->max_thread_block_size;
    }
    {
        names[14] = "sort_for_Skyline_doublezigpuseq_73915_dim1";
        values[14] = (int64_t) 1;
    }
    {
        names[15] = "sort_for_Skyline_doublezigpuseq_73909_dim1";
        values[15] = (int64_t) 1;
    }
    {
        names[16] = "sort_for_Skyline_doublezisegmap_68131_dim1";
        values[16] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68116;
    }
    {
        names[17] = "sort_for_Skyline_doublezisegmap_68131zisegmap_tblock_sizze_68127";
        values[17] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68116;
    }
    {
        names[18] = "sort_for_Skyline_doublezigpuseq_73892_dim1";
        values[18] = (int64_t) 1;
    }
    {
        names[19] = "sort_for_Skyline_doublezigpuseq_73886_dim1";
        values[19] = (int64_t) 1;
    }
    {
        names[20] = "sort_for_Skyline_doublezisegmap_68110_dim1";
        values[20] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68098;
    }
    {
        names[21] = "sort_for_Skyline_doublezisegmap_68110zisegmap_tblock_sizze_68106";
        values[21] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68098;
    }
    {
        names[22] = "sort_for_Skyline_doublezigpuseq_73847_dim1";
        values[22] = (int64_t) 1;
    }
    {
        names[23] = "sort_for_Skyline_doublezisegmap_68091_dim1";
        values[23] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68078;
    }
    {
        names[24] = "sort_for_Skyline_doublezisegmap_68091zisegmap_tblock_sizze_68087";
        values[24] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68078;
    }
    {
        names[25] = "sort_for_Skyline_doublezigpuseq_73832_dim1";
        values[25] = (int64_t) 1;
    }
    {
        names[26] = "sort_for_Skyline_doublezigpuseq_73825_dim1";
        values[26] = (int64_t) 1;
    }
    {
        names[27] = "sort_for_Skyline_doublezisegmap_68071_dim1";
        values[27] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68058;
    }
    {
        names[28] = "sort_for_Skyline_doublezisegmap_68071zisegmap_tblock_sizze_68067";
        values[28] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68058;
    }
    {
        names[29] = "sort_for_Skyline_doublezigpuseq_73808_dim1";
        values[29] = (int64_t) 1;
    }
    {
        names[30] = "sort_for_Skyline_doublezigpuseq_73781_dim1";
        values[30] = (int64_t) 1;
    }
    {
        names[31] = "sort_for_Skyline_doublezigpuseq_73775_dim1";
        values[31] = (int64_t) 1;
    }
    {
        names[32] = "sort_for_Skyline_doublezigpuseq_73748_dim1";
        values[32] = (int64_t) 1;
    }
    {
        names[33] = "sort_for_Skyline_doublezigpuseq_73742_dim1";
        values[33] = (int64_t) 1;
    }
    {
        names[34] = "sort_for_Skyline_doublezigpuseq_73715_dim1";
        values[34] = (int64_t) 1;
    }
    {
        names[35] = "sort_for_Skyline_doublezisegmap_68051_dim1";
        values[35] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68038;
    }
    {
        names[36] = "sort_for_Skyline_doublezisegmap_68051zisegmap_tblock_sizze_68047";
        values[36] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68038;
    }
    {
        names[37] = "sort_for_Skyline_doublezisegmap_68031_dim1";
        values[37] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68018;
    }
    {
        names[38] = "sort_for_Skyline_doublezisegmap_68031zisegmap_tblock_sizze_68027";
        values[38] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68018;
    }
    {
        names[39] = "sort_for_Skyline_doublezigpuseq_73670_dim1";
        values[39] = (int64_t) 1;
    }
    {
        names[40] = "sort_for_Skyline_doublezigpuseq_73664_dim1";
        values[40] = (int64_t) 1;
    }
    {
        names[41] = "sort_for_Skyline_doublezisegmap_68009_dim1";
        values[41] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67994;
    }
    {
        names[42] = "sort_for_Skyline_doublezisegmap_68009zisegmap_tblock_sizze_68005";
        values[42] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67994;
    }
    {
        names[43] = "sort_for_Skyline_doublezigpuseq_73647_dim1";
        values[43] = (int64_t) 1;
    }
    {
        names[44] = "sort_for_Skyline_doublezigpuseq_73641_dim1";
        values[44] = (int64_t) 1;
    }
    {
        names[45] = "sort_for_Skyline_doublezisegmap_67988_dim1";
        values[45] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67976;
    }
    {
        names[46] = "sort_for_Skyline_doublezisegmap_67988zisegmap_tblock_sizze_67984";
        values[46] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67976;
    }
    {
        names[47] = "sort_for_Skyline_doublezigpuseq_73602_dim1";
        values[47] = (int64_t) 1;
    }
    {
        names[48] = "sort_for_Skyline_doublezisegmap_67969_dim1";
        values[48] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67956;
    }
    {
        names[49] = "sort_for_Skyline_doublezisegmap_67969zisegmap_tblock_sizze_67965";
        values[49] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67956;
    }
    {
        names[50] = "sort_for_Skyline_doublezigpuseq_73587_dim1";
        values[50] = (int64_t) 1;
    }
    {
        names[51] = "sort_for_Skyline_doublezigpuseq_73581_dim1";
        values[51] = (int64_t) 1;
    }
    {
        names[52] = "sort_for_Skyline_doublezigpuseq_73574_dim1";
        values[52] = (int64_t) 1;
    }
    {
        names[53] = "sort_for_Skyline_doublezisegmap_67949_dim1";
        values[53] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67936;
    }
    {
        names[54] = "sort_for_Skyline_doublezisegmap_67949zisegmap_tblock_sizze_67945";
        values[54] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67936;
    }
    {
        names[55] = "sort_for_Skyline_doublezigpuseq_73557_dim1";
        values[55] = (int64_t) 1;
    }
    {
        names[56] = "sort_for_Skyline_doublezigpuseq_73530_dim1";
        values[56] = (int64_t) 1;
    }
    {
        names[57] = "sort_for_Skyline_doublezigpuseq_73524_dim1";
        values[57] = (int64_t) 1;
    }
    {
        names[58] = "sort_for_Skyline_doublezigpuseq_73497_dim1";
        values[58] = (int64_t) 1;
    }
    {
        names[59] = "sort_for_Skyline_doublezigpuseq_73491_dim1";
        values[59] = (int64_t) 1;
    }
    {
        names[60] = "sort_for_Skyline_doublezigpuseq_73464_dim1";
        values[60] = (int64_t) 1;
    }
    {
        names[61] = "sort_for_Skyline_doublezisegmap_67929_dim1";
        values[61] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67916;
    }
    {
        names[62] = "sort_for_Skyline_doublezisegmap_67929zisegmap_tblock_sizze_67925";
        values[62] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67916;
    }
    {
        names[63] = "sort_for_Skyline_doublezisegmap_67909_dim1";
        values[63] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67896;
    }
    {
        names[64] = "sort_for_Skyline_doublezisegmap_67909zisegmap_tblock_sizze_67905";
        values[64] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67896;
    }
    {
        names[65] = "sort_for_Skyline_doublezisegmap_67886_dim1";
        values[65] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67888;
    }
    {
        names[66] = "sort_for_Skyline_doublezisegmap_67886zisegmap_tblock_sizze_67889";
        values[66] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67888;
    }
    {
        names[67] = "sort_for_Skyline_doublezisegmap_67875_dim1";
        values[67] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67878;
    }
    {
        names[68] = "sort_for_Skyline_doublezisegmap_67875zisegmap_tblock_sizze_67879";
        values[68] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67878;
    }
    {
        names[69] = "sort_for_Skyline_doublezisegmap_67863_dim1";
        values[69] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67847;
    }
    {
        names[70] = "sort_for_Skyline_doublezisegmap_67863zisegmap_tblock_sizze_67858";
        values[70] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67847;
    }
    {
        names[71] = "sort_for_Skyline_doublezisegscan_67833_dim1";
        values[71] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_67420;
    }
    {
        names[72] = "sort_for_Skyline_doublezisegscan_67833zisegscan_tblock_sizze_67828";
        values[72] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_67420;
    }
    {
        names[73] = "sort_for_Skyline_doublezisegscan_67833zichunk_sizze_73308";
        values[73] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[74] = "sort_for_Skyline_doublezisegmap_67811_dim1";
        values[74] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66265;
    }
    {
        names[75] = "sort_for_Skyline_doublezisegmap_67811zisegmap_tblock_sizze_67807";
        values[75] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66265;
    }
    {
        names[76] = "sort_for_Skyline_doublezisegmap_67801_dim1";
        values[76] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66297;
    }
    {
        names[77] = "sort_for_Skyline_doublezisegmap_67801zisegmap_tblock_sizze_67796";
        values[77] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66297;
    }
    {
        names[78] = "sort_for_Skyline_doublezisegmap_67772_dim1";
        values[78] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66474;
    }
    {
        names[79] = "sort_for_Skyline_doublezisegmap_67772zisegmap_tblock_sizze_67767";
        values[79] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66474;
    }
    {
        names[80] = "sort_for_Skyline_doublezisegmap_67759_dim1";
        values[80] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66503;
    }
    {
        names[81] = "sort_for_Skyline_doublezisegmap_67759zisegmap_tblock_sizze_67755";
        values[81] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66503;
    }
    {
        names[82] = "sort_for_Skyline_doublezisegmap_67739_dim1";
        values[82] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66630;
    }
    {
        names[83] = "sort_for_Skyline_doublezisegmap_67739zisegmap_tblock_sizze_67734";
        values[83] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66630;
    }
    {
        names[84] = "sort_for_Skyline_doublezisegmap_67726_dim1";
        values[84] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66656;
    }
    {
        names[85] = "sort_for_Skyline_doublezisegmap_67726zisegmap_tblock_sizze_67722";
        values[85] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66656;
    }
    {
        names[86] = "sort_for_Skyline_doublezisegmap_67706_dim1";
        values[86] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66688;
    }
    {
        names[87] = "sort_for_Skyline_doublezisegmap_67706zisegmap_tblock_sizze_67701";
        values[87] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66688;
    }
    {
        names[88] = "sort_for_Skyline_doublezisegmap_67693_dim1";
        values[88] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66714;
    }
    {
        names[89] = "sort_for_Skyline_doublezisegmap_67693zisegmap_tblock_sizze_67689";
        values[89] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66714;
    }
    {
        names[90] = "sort_for_Skyline_doublezisegmap_67681_dim1";
        values[90] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66768;
    }
    {
        names[91] = "sort_for_Skyline_doublezisegmap_67681zisegmap_tblock_sizze_67676";
        values[91] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66768;
    }
    {
        names[92] = "sort_for_Skyline_doublezisegmap_67665_dim1";
        values[92] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66801;
    }
    {
        names[93] = "sort_for_Skyline_doublezisegmap_67665zisegmap_tblock_sizze_67660";
        values[93] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66801;
    }
    {
        names[94] = "sort_for_Skyline_doublezisegred_nonseg_66044_dim1";
        values[94] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_66036;
    }
    {
        names[95] = "sort_for_Skyline_doublezisegred_nonseg_66044zisegred_tblock_sizze_66037";
        values[95] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_66036;
    }
    {
        names[96] = "sort_for_Skyline_doublezisegred_nonseg_66044zichunk_sizze_72896";
        values[96] = (int64_t) 1;
    }
    {
        names[97] = "sort_for_Skyline_doublezisegred_large_72821_dim1";
        values[97] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    }
    {
        names[98] = "sort_for_Skyline_doublezisegred_large_72821ziseghist_tblock_sizze_65954";
        values[98] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    }
    {
        names[99] = "sort_for_Skyline_doublezisegred_large_72821zichunk_sizze_72822";
        values[99] = (int64_t) 1;
    }
    {
        names[100] = "sort_for_Skyline_doublezisegred_small_72821_dim1";
        values[100] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    }
    {
        names[101] = "sort_for_Skyline_doublezisegred_small_72821ziseghist_tblock_sizze_65954";
        values[101] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    }
    {
        names[102] = "sort_for_Skyline_doubleziseghist_global_65961_dim1";
        values[102] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    }
    {
        names[103] = "sort_for_Skyline_doubleziseghist_global_65961ziseghist_tblock_sizze_65954";
        values[103] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    }
    {
        names[104] = "sort_for_Skyline_doubleziseghist_local_65961_dim1";
        values[104] = ctx->max_thread_block_size;
    }
    {
        names[105] = "sort_for_Skyline_doubleziseghist_local_65961zimax_tblock_sizze_72725";
        values[105] = ctx->max_thread_block_size;
    }
    {
        names[106] = "sort_for_Skyline_doublezisegmap_65841_dim1";
        values[106] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64270;
    }
    {
        names[107] = "sort_for_Skyline_doublezisegmap_65841zisegmap_tblock_sizze_65833";
        values[107] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64270;
    }
    {
        names[108] = "sort_for_Skyline_doublezisegmap_65759_dim1";
        values[108] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64363;
    }
    {
        names[109] = "sort_for_Skyline_doublezisegmap_65759zisegmap_tblock_sizze_65745";
        values[109] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64363;
    }
    {
        names[110] = "sort_for_Skyline_doublezisegmap_65638_dim1";
        values[110] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64611;
    }
    {
        names[111] = "sort_for_Skyline_doublezisegmap_65638zisegmap_tblock_sizze_65632";
        values[111] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64611;
    }
    {
        names[112] = "sort_for_Skyline_doublezisegmap_65294_dim1";
        values[112] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63280;
    }
    {
        names[113] = "sort_for_Skyline_doublezisegmap_65294zisegmap_tblock_sizze_65287";
        values[113] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63280;
    }
    {
        names[114] = "sort_for_Skyline_doublezisegmap_65269_dim1";
        values[114] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63449;
    }
    {
        names[115] = "sort_for_Skyline_doublezisegmap_65269zisegmap_tblock_sizze_65265";
        values[115] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63449;
    }
    {
        names[116] = "sort_for_Skyline_doublezisegmap_65259_dim1";
        values[116] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63464;
    }
    {
        names[117] = "sort_for_Skyline_doublezisegmap_65259zisegmap_tblock_sizze_65254";
        values[117] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63464;
    }
    {
        names[118] = "sort_for_Skyline_doublezisegmap_65246_dim1";
        values[118] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63477;
    }
    {
        names[119] = "sort_for_Skyline_doublezisegmap_65246zisegmap_tblock_sizze_65241";
        values[119] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63477;
    }
    {
        names[120] = "sort_for_Skyline_doublezisegmap_65232_dim1";
        values[120] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63376;
    }
    {
        names[121] = "sort_for_Skyline_doublezisegmap_65232zisegmap_tblock_sizze_65228";
        values[121] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63376;
    }
    {
        names[122] = "sort_for_Skyline_doublezisegmap_65222_dim1";
        values[122] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63391;
    }
    {
        names[123] = "sort_for_Skyline_doublezisegmap_65222zisegmap_tblock_sizze_65217";
        values[123] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63391;
    }
    {
        names[124] = "sort_for_Skyline_doublezisegmap_65210_dim1";
        values[124] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63404;
    }
    {
        names[125] = "sort_for_Skyline_doublezisegmap_65210zisegmap_tblock_sizze_65206";
        values[125] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63404;
    }
    {
        names[126] = "sort_for_Skyline_doublezisegmap_65178_dim1";
        values[126] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_65146;
    }
    {
        names[127] = "sort_for_Skyline_doublezisegmap_65178zisegmap_tblock_sizze_65172";
        values[127] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_65146;
    }
    {
        names[128] = "sort_for_Skyline_doublezisegmap_62306_dim1";
        values[128] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62036;
    }
    {
        names[129] = "sort_for_Skyline_doublezisegmap_62306zisegmap_tblock_sizze_62299";
        values[129] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62036;
    }
    {
        names[130] = "sort_for_Skyline_doublezisegmap_62276_dim1";
        values[130] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62200;
    }
    {
        names[131] = "sort_for_Skyline_doublezisegmap_62276zisegmap_tblock_sizze_62268";
        values[131] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62200;
    }
    {
        names[132] = "sort_for_Skyline_doublezigpuseq_72175_dim1";
        values[132] = (int64_t) 1;
    }
    {
        names[133] = "sort_for_Skyline_doublezisegred_nonseg_61956_dim1";
        values[133] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_61946;
    }
    {
        names[134] = "sort_for_Skyline_doublezisegred_nonseg_61956zisegred_tblock_sizze_61947";
        values[134] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_61946;
    }
    {
        names[135] = "sort_for_Skyline_doublezisegred_nonseg_61956zichunk_sizze_72120";
        values[135] = (int64_t) 1;
    }
    {
        names[136] = "sort_for_Skyline_doublezisegmap_61935_dim1";
        values[136] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60327;
    }
    {
        names[137] = "sort_for_Skyline_doublezisegmap_61935zisegmap_tblock_sizze_61931";
        values[137] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60327;
    }
    {
        names[138] = "sort_for_Skyline_doublezisegmap_61923_dim1";
        values[138] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60355;
    }
    {
        names[139] = "sort_for_Skyline_doublezisegmap_61923zisegmap_tblock_sizze_61918";
        values[139] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60355;
    }
    {
        names[140] = "sort_for_Skyline_doublezisegmap_61899_dim1";
        values[140] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60391;
    }
    {
        names[141] = "sort_for_Skyline_doublezisegmap_61899zisegmap_tblock_sizze_61894";
        values[141] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60391;
    }
    {
        names[142] = "sort_for_Skyline_doublezisegmap_61889_dim1";
        values[142] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60422;
    }
    {
        names[143] = "sort_for_Skyline_doublezisegmap_61889zisegmap_tblock_sizze_61884";
        values[143] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60422;
    }
    {
        names[144] = "sort_for_Skyline_doublezisegmap_61841_dim1";
        values[144] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60505;
    }
    {
        names[145] = "sort_for_Skyline_doublezisegmap_61841zisegmap_tblock_sizze_61836";
        values[145] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60505;
    }
    {
        names[146] = "sort_for_Skyline_doublezisegmap_61819_dim1";
        values[146] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60551;
    }
    {
        names[147] = "sort_for_Skyline_doublezisegmap_61819zisegmap_tblock_sizze_61814";
        values[147] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60551;
    }
    {
        names[148] = "sort_for_Skyline_doublezisegmap_61804_dim1";
        values[148] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60577;
    }
    {
        names[149] = "sort_for_Skyline_doublezisegmap_61804zisegmap_tblock_sizze_61799";
        values[149] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60577;
    }
    {
        names[150] = "sort_for_Skyline_doublezisegmap_61784_dim1";
        values[150] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60647;
    }
    {
        names[151] = "sort_for_Skyline_doublezisegmap_61784zisegmap_tblock_sizze_61779";
        values[151] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60647;
    }
    {
        names[152] = "sort_for_Skyline_doublezisegmap_61773_dim1";
        values[152] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60676;
    }
    {
        names[153] = "sort_for_Skyline_doublezisegmap_61773zisegmap_tblock_sizze_61768";
        values[153] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60676;
    }
    {
        names[154] = "sort_for_Skyline_doublezisegmap_61744_dim1";
        values[154] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60853;
    }
    {
        names[155] = "sort_for_Skyline_doublezisegmap_61744zisegmap_tblock_sizze_61739";
        values[155] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60853;
    }
    {
        names[156] = "sort_for_Skyline_doublezisegmap_61731_dim1";
        values[156] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60882;
    }
    {
        names[157] = "sort_for_Skyline_doublezisegmap_61731zisegmap_tblock_sizze_61727";
        values[157] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60882;
    }
    {
        names[158] = "sort_for_Skyline_doublezisegmap_61711_dim1";
        values[158] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61009;
    }
    {
        names[159] = "sort_for_Skyline_doublezisegmap_61711zisegmap_tblock_sizze_61706";
        values[159] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61009;
    }
    {
        names[160] = "sort_for_Skyline_doublezisegmap_61698_dim1";
        values[160] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61035;
    }
    {
        names[161] = "sort_for_Skyline_doublezisegmap_61698zisegmap_tblock_sizze_61694";
        values[161] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61035;
    }
    {
        names[162] = "sort_for_Skyline_doublezisegmap_61678_dim1";
        values[162] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61067;
    }
    {
        names[163] = "sort_for_Skyline_doublezisegmap_61678zisegmap_tblock_sizze_61673";
        values[163] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61067;
    }
    {
        names[164] = "sort_for_Skyline_doublezisegmap_61665_dim1";
        values[164] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61093;
    }
    {
        names[165] = "sort_for_Skyline_doublezisegmap_61665zisegmap_tblock_sizze_61661";
        values[165] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61093;
    }
    {
        names[166] = "sort_for_Skyline_doublezisegmap_61653_dim1";
        values[166] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61147;
    }
    {
        names[167] = "sort_for_Skyline_doublezisegmap_61653zisegmap_tblock_sizze_61648";
        values[167] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61147;
    }
    {
        names[168] = "sort_for_Skyline_doublezisegmap_61637_dim1";
        values[168] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61180;
    }
    {
        names[169] = "sort_for_Skyline_doublezisegmap_61637zisegmap_tblock_sizze_61632";
        values[169] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61180;
    }
    {
        names[170] = "sort_for_Skyline_doublezigpuseq_71791_dim1";
        values[170] = (int64_t) 1;
    }
    {
        names[171] = "sort_for_Skyline_doublezigpuseq_71780_dim1";
        values[171] = (int64_t) 1;
    }
    {
        names[172] = "sort_for_Skyline_doublezigpuseq_71732_dim1";
        values[172] = (int64_t) 1;
    }
    {
        names[173] = "sort_for_Skyline_doublezigpuseq_71694_dim1";
        values[173] = (int64_t) 1;
    }
    {
        names[174] = "define_skyline_space_doublezisegmap_57806_dim1";
        values[174] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57739;
    }
    {
        names[175] = "define_skyline_space_doublezisegmap_57806zisegmap_tblock_sizze_57801";
        values[175] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57739;
    }
    {
        names[176] = "define_skyline_space_doublezisegmap_57719_dim1";
        values[176] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57703;
    }
    {
        names[177] = "define_skyline_space_doublezisegmap_57719zisegmap_tblock_sizze_57715";
        values[177] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57703;
    }
    {
        names[178] = "define_skyline_space_doublezisegmap_57693_dim1";
        values[178] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57677;
    }
    {
        names[179] = "define_skyline_space_doublezisegmap_57693zisegmap_tblock_sizze_57689";
        values[179] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57677;
    }
    {
        names[180] = "define_skyline_space_doublezisegred_nonseg_57673_dim1";
        values[180] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57665;
    }
    {
        names[181] = "define_skyline_space_doublezisegred_nonseg_57673zisegred_tblock_sizze_57666";
        values[181] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57665;
    }
    {
        names[182] = "define_skyline_space_doublezisegred_nonseg_57673zichunk_sizze_71941";
        values[182] = (int64_t) 1;
    }
    {
        names[183] = "define_skyline_space_doublezisegscan_57663_dim1";
        values[183] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57657;
    }
    {
        names[184] = "define_skyline_space_doublezisegscan_57663zisegscan_tblock_sizze_57658";
        values[184] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57657;
    }
    {
        names[185] = "define_skyline_space_doublezisegscan_57663zichunk_sizze_71842";
        values[185] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[186] = "define_skyline_space_doublezisegred_nonseg_57653_dim1";
        values[186] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57645;
    }
    {
        names[187] = "define_skyline_space_doublezisegred_nonseg_57653zisegred_tblock_sizze_57646";
        values[187] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57645;
    }
    {
        names[188] = "define_skyline_space_doublezisegred_nonseg_57653zichunk_sizze_71803";
        values[188] = (int64_t) 1;
    }
    {
        names[189] = "define_skyline_space_doublezisegscan_57643_dim1";
        values[189] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57637;
    }
    {
        names[190] = "define_skyline_space_doublezisegscan_57643zisegscan_tblock_sizze_57638";
        values[190] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57637;
    }
    {
        names[191] = "define_skyline_space_doublezisegscan_57643zichunk_sizze_71664";
        values[191] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[192] = "calc_local_Skyline_GFUR_doublezisegmap_60269_dim1";
        values[192] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253;
    }
    {
        names[193] = "calc_local_Skyline_GFUR_doublezisegmap_60269zisegmap_tblock_sizze_60265";
        values[193] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253;
    }
    {
        names[194] = "calc_local_Skyline_GFUR_doublezisegscan_60249_dim1";
        values[194] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243;
    }
    {
        names[195] = "calc_local_Skyline_GFUR_doublezisegscan_60249zisegscan_tblock_sizze_60244";
        values[195] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243;
    }
    {
        names[196] = "calc_local_Skyline_GFUR_doublezisegscan_60249zichunk_sizze_72941";
        values[196] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[197] = "calc_local_Skyline_GFUR_doublezisegred_large_72863_dim1";
        values[197] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    }
    {
        names[198] = "calc_local_Skyline_GFUR_doublezisegred_large_72863ziseghist_tblock_sizze_60229";
        values[198] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    }
    {
        names[199] = "calc_local_Skyline_GFUR_doublezisegred_large_72863zichunk_sizze_72864";
        values[199] = (int64_t) 1;
    }
    {
        names[200] = "calc_local_Skyline_GFUR_doublezisegred_small_72863_dim1";
        values[200] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    }
    {
        names[201] = "calc_local_Skyline_GFUR_doublezisegred_small_72863ziseghist_tblock_sizze_60229";
        values[201] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    }
    {
        names[202] = "calc_local_Skyline_GFUR_doubleziseghist_global_60236_dim1";
        values[202] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    }
    {
        names[203] = "calc_local_Skyline_GFUR_doubleziseghist_global_60236ziseghist_tblock_sizze_60229";
        values[203] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    }
    {
        names[204] = "calc_local_Skyline_GFUR_doubleziseghist_local_60236_dim1";
        values[204] = ctx->max_thread_block_size;
    }
    {
        names[205] = "calc_local_Skyline_GFUR_doubleziseghist_local_60236zimax_tblock_sizze_72787";
        values[205] = ctx->max_thread_block_size;
    }
    {
        names[206] = "calc_local_Skyline_GFUR_doublezigpuseq_72770_dim1";
        values[206] = (int64_t) 1;
    }
    {
        names[207] = "calc_local_Skyline_GFUR_doublezigpuseq_72764_dim1";
        values[207] = (int64_t) 1;
    }
    {
        names[208] = "calc_local_Skyline_GFUR_doublezisegmap_60221_dim1";
        values[208] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206;
    }
    {
        names[209] = "calc_local_Skyline_GFUR_doublezisegmap_60221zisegmap_tblock_sizze_60217";
        values[209] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206;
    }
    {
        names[210] = "calc_local_Skyline_GFUR_doublezigpuseq_72747_dim1";
        values[210] = (int64_t) 1;
    }
    {
        names[211] = "calc_local_Skyline_GFUR_doublezigpuseq_72741_dim1";
        values[211] = (int64_t) 1;
    }
    {
        names[212] = "calc_local_Skyline_GFUR_doublezisegmap_60200_dim1";
        values[212] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188;
    }
    {
        names[213] = "calc_local_Skyline_GFUR_doublezisegmap_60200zisegmap_tblock_sizze_60196";
        values[213] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188;
    }
    {
        names[214] = "calc_local_Skyline_GFUR_doublezigpuseq_72702_dim1";
        values[214] = (int64_t) 1;
    }
    {
        names[215] = "calc_local_Skyline_GFUR_doublezisegmap_60181_dim1";
        values[215] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168;
    }
    {
        names[216] = "calc_local_Skyline_GFUR_doublezisegmap_60181zisegmap_tblock_sizze_60177";
        values[216] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168;
    }
    {
        names[217] = "calc_local_Skyline_GFUR_doublezigpuseq_72687_dim1";
        values[217] = (int64_t) 1;
    }
    {
        names[218] = "calc_local_Skyline_GFUR_doublezigpuseq_72680_dim1";
        values[218] = (int64_t) 1;
    }
    {
        names[219] = "calc_local_Skyline_GFUR_doublezisegmap_60161_dim1";
        values[219] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148;
    }
    {
        names[220] = "calc_local_Skyline_GFUR_doublezisegmap_60161zisegmap_tblock_sizze_60157";
        values[220] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148;
    }
    {
        names[221] = "calc_local_Skyline_GFUR_doublezigpuseq_72663_dim1";
        values[221] = (int64_t) 1;
    }
    {
        names[222] = "calc_local_Skyline_GFUR_doublezigpuseq_72636_dim1";
        values[222] = (int64_t) 1;
    }
    {
        names[223] = "calc_local_Skyline_GFUR_doublezigpuseq_72630_dim1";
        values[223] = (int64_t) 1;
    }
    {
        names[224] = "calc_local_Skyline_GFUR_doublezigpuseq_72603_dim1";
        values[224] = (int64_t) 1;
    }
    {
        names[225] = "calc_local_Skyline_GFUR_doublezigpuseq_72597_dim1";
        values[225] = (int64_t) 1;
    }
    {
        names[226] = "calc_local_Skyline_GFUR_doublezigpuseq_72570_dim1";
        values[226] = (int64_t) 1;
    }
    {
        names[227] = "calc_local_Skyline_GFUR_doublezisegmap_60141_dim1";
        values[227] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128;
    }
    {
        names[228] = "calc_local_Skyline_GFUR_doublezisegmap_60141zisegmap_tblock_sizze_60137";
        values[228] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128;
    }
    {
        names[229] = "calc_local_Skyline_GFUR_doublezisegmap_60121_dim1";
        values[229] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108;
    }
    {
        names[230] = "calc_local_Skyline_GFUR_doublezisegmap_60121zisegmap_tblock_sizze_60117";
        values[230] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108;
    }
    {
        names[231] = "calc_local_Skyline_GFUR_doublezigpuseq_72525_dim1";
        values[231] = (int64_t) 1;
    }
    {
        names[232] = "calc_local_Skyline_GFUR_doublezigpuseq_72519_dim1";
        values[232] = (int64_t) 1;
    }
    {
        names[233] = "calc_local_Skyline_GFUR_doublezisegmap_60099_dim1";
        values[233] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084;
    }
    {
        names[234] = "calc_local_Skyline_GFUR_doublezisegmap_60099zisegmap_tblock_sizze_60095";
        values[234] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084;
    }
    {
        names[235] = "calc_local_Skyline_GFUR_doublezigpuseq_72502_dim1";
        values[235] = (int64_t) 1;
    }
    {
        names[236] = "calc_local_Skyline_GFUR_doublezigpuseq_72496_dim1";
        values[236] = (int64_t) 1;
    }
    {
        names[237] = "calc_local_Skyline_GFUR_doublezisegmap_60078_dim1";
        values[237] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066;
    }
    {
        names[238] = "calc_local_Skyline_GFUR_doublezisegmap_60078zisegmap_tblock_sizze_60074";
        values[238] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066;
    }
    {
        names[239] = "calc_local_Skyline_GFUR_doublezigpuseq_72457_dim1";
        values[239] = (int64_t) 1;
    }
    {
        names[240] = "calc_local_Skyline_GFUR_doublezisegmap_60059_dim1";
        values[240] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046;
    }
    {
        names[241] = "calc_local_Skyline_GFUR_doublezisegmap_60059zisegmap_tblock_sizze_60055";
        values[241] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046;
    }
    {
        names[242] = "calc_local_Skyline_GFUR_doublezigpuseq_72442_dim1";
        values[242] = (int64_t) 1;
    }
    {
        names[243] = "calc_local_Skyline_GFUR_doublezigpuseq_72436_dim1";
        values[243] = (int64_t) 1;
    }
    {
        names[244] = "calc_local_Skyline_GFUR_doublezigpuseq_72429_dim1";
        values[244] = (int64_t) 1;
    }
    {
        names[245] = "calc_local_Skyline_GFUR_doublezisegmap_60039_dim1";
        values[245] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026;
    }
    {
        names[246] = "calc_local_Skyline_GFUR_doublezisegmap_60039zisegmap_tblock_sizze_60035";
        values[246] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026;
    }
    {
        names[247] = "calc_local_Skyline_GFUR_doublezigpuseq_72412_dim1";
        values[247] = (int64_t) 1;
    }
    {
        names[248] = "calc_local_Skyline_GFUR_doublezigpuseq_72385_dim1";
        values[248] = (int64_t) 1;
    }
    {
        names[249] = "calc_local_Skyline_GFUR_doublezigpuseq_72379_dim1";
        values[249] = (int64_t) 1;
    }
    {
        names[250] = "calc_local_Skyline_GFUR_doublezigpuseq_72352_dim1";
        values[250] = (int64_t) 1;
    }
    {
        names[251] = "calc_local_Skyline_GFUR_doublezigpuseq_72346_dim1";
        values[251] = (int64_t) 1;
    }
    {
        names[252] = "calc_local_Skyline_GFUR_doublezigpuseq_72319_dim1";
        values[252] = (int64_t) 1;
    }
    {
        names[253] = "calc_local_Skyline_GFUR_doublezisegmap_60019_dim1";
        values[253] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006;
    }
    {
        names[254] = "calc_local_Skyline_GFUR_doublezisegmap_60019zisegmap_tblock_sizze_60015";
        values[254] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006;
    }
    {
        names[255] = "calc_local_Skyline_GFUR_doublezisegmap_59999_dim1";
        values[255] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986;
    }
    {
        names[256] = "calc_local_Skyline_GFUR_doublezisegmap_59999zisegmap_tblock_sizze_59995";
        values[256] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986;
    }
    {
        names[257] = "calc_local_Skyline_GFUR_doublezisegmap_59979_dim1";
        values[257] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916;
    }
    {
        names[258] = "calc_local_Skyline_GFUR_doublezisegmap_59979zisegmap_tblock_sizze_59975";
        values[258] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916;
    }
    {
        names[259] = "calc_local_Skyline_GFUR_doublezisegmap_59970_dim1";
        values[259] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930;
    }
    {
        names[260] = "calc_local_Skyline_GFUR_doublezisegmap_59970zisegmap_tblock_sizze_59965";
        values[260] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930;
    }
    {
        names[261] = "calc_local_Skyline_GFUR_doublezisegmap_59957_dim1";
        values[261] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942;
    }
    {
        names[262] = "calc_local_Skyline_GFUR_doublezisegmap_59957zisegmap_tblock_sizze_59953";
        values[262] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942;
    }
    {
        names[263] = "calc_local_Skyline_GFUR_doublezisegmap_59905_dim1";
        values[263] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907;
    }
    {
        names[264] = "calc_local_Skyline_GFUR_doublezisegmap_59905zisegmap_tblock_sizze_59908";
        values[264] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907;
    }
    {
        names[265] = "calc_local_Skyline_GFUR_doublezisegscan_59903_dim1";
        values[265] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897;
    }
    {
        names[266] = "calc_local_Skyline_GFUR_doublezisegscan_59903zisegscan_tblock_sizze_59898";
        values[266] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897;
    }
    {
        names[267] = "calc_local_Skyline_GFUR_doublezisegscan_59903zichunk_sizze_72139";
        values[267] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[268] = "calc_local_Skyline_GFUR_doublezisegmap_59799_dim1";
        values[268] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891;
    }
    {
        names[269] = "calc_local_Skyline_GFUR_doublezisegmap_59799zisegmap_tblock_sizze_59795";
        values[269] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891;
    }
    {
        names[270] = "calc_local_Skyline_GFUR_doublezisegmap_59787_dim1";
        values[270] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006;
    }
    {
        names[271] = "calc_local_Skyline_GFUR_doublezisegmap_59787zisegmap_tblock_sizze_59782";
        values[271] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006;
    }
    {
        names[272] = "calc_local_Skyline_GFUR_doublezisegmap_59763_dim1";
        values[272] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042;
    }
    {
        names[273] = "calc_local_Skyline_GFUR_doublezisegmap_59763zisegmap_tblock_sizze_59758";
        values[273] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042;
    }
    {
        names[274] = "calc_local_Skyline_GFUR_doublezisegmap_59753_dim1";
        values[274] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073;
    }
    {
        names[275] = "calc_local_Skyline_GFUR_doublezisegmap_59753zisegmap_tblock_sizze_59748";
        values[275] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073;
    }
    {
        names[276] = "calc_local_Skyline_GFUR_doublezisegmap_59705_dim1";
        values[276] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156;
    }
    {
        names[277] = "calc_local_Skyline_GFUR_doublezisegmap_59705zisegmap_tblock_sizze_59700";
        values[277] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156;
    }
    {
        names[278] = "calc_local_Skyline_GFUR_doublezisegmap_59683_dim1";
        values[278] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202;
    }
    {
        names[279] = "calc_local_Skyline_GFUR_doublezisegmap_59683zisegmap_tblock_sizze_59678";
        values[279] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202;
    }
    {
        names[280] = "calc_local_Skyline_GFUR_doublezisegmap_59668_dim1";
        values[280] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228;
    }
    {
        names[281] = "calc_local_Skyline_GFUR_doublezisegmap_59668zisegmap_tblock_sizze_59663";
        values[281] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228;
    }
    {
        names[282] = "calc_local_Skyline_GFUR_doublezisegmap_59648_dim1";
        values[282] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298;
    }
    {
        names[283] = "calc_local_Skyline_GFUR_doublezisegmap_59648zisegmap_tblock_sizze_59643";
        values[283] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298;
    }
    {
        names[284] = "calc_local_Skyline_GFUR_doublezisegmap_59637_dim1";
        values[284] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327;
    }
    {
        names[285] = "calc_local_Skyline_GFUR_doublezisegmap_59637zisegmap_tblock_sizze_59632";
        values[285] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327;
    }
    {
        names[286] = "calc_local_Skyline_GFUR_doublezisegmap_59608_dim1";
        values[286] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504;
    }
    {
        names[287] = "calc_local_Skyline_GFUR_doublezisegmap_59608zisegmap_tblock_sizze_59603";
        values[287] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504;
    }
    {
        names[288] = "calc_local_Skyline_GFUR_doublezisegmap_59595_dim1";
        values[288] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533;
    }
    {
        names[289] = "calc_local_Skyline_GFUR_doublezisegmap_59595zisegmap_tblock_sizze_59591";
        values[289] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533;
    }
    {
        names[290] = "calc_local_Skyline_GFUR_doublezisegmap_59575_dim1";
        values[290] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660;
    }
    {
        names[291] = "calc_local_Skyline_GFUR_doublezisegmap_59575zisegmap_tblock_sizze_59570";
        values[291] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660;
    }
    {
        names[292] = "calc_local_Skyline_GFUR_doublezisegmap_59562_dim1";
        values[292] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686;
    }
    {
        names[293] = "calc_local_Skyline_GFUR_doublezisegmap_59562zisegmap_tblock_sizze_59558";
        values[293] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686;
    }
    {
        names[294] = "calc_local_Skyline_GFUR_doublezisegmap_59542_dim1";
        values[294] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781;
    }
    {
        names[295] = "calc_local_Skyline_GFUR_doublezisegmap_59542zisegmap_tblock_sizze_59537";
        values[295] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781;
    }
    {
        names[296] = "calc_local_Skyline_GFUR_doublezisegmap_59529_dim1";
        values[296] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807;
    }
    {
        names[297] = "calc_local_Skyline_GFUR_doublezisegmap_59529zisegmap_tblock_sizze_59525";
        values[297] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807;
    }
    {
        names[298] = "calc_local_Skyline_GFUR_doublezisegmap_59519_dim1";
        values[298] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829;
    }
    {
        names[299] = "calc_local_Skyline_GFUR_doublezisegmap_59519zisegmap_tblock_sizze_59514";
        values[299] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829;
    }
    {
        names[300] = "calc_local_Skyline_GFUR_doublezisegmap_59503_dim1";
        values[300] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862;
    }
    {
        names[301] = "calc_local_Skyline_GFUR_doublezisegmap_59503zisegmap_tblock_sizze_59498";
        values[301] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862;
    }
    {
        names[302] = "calc_local_Skyline_GFUR_doublezigpuseq_71759_dim1";
        values[302] = (int64_t) 1;
    }
    {
        names[303] = "calc_local_Skyline_GFUR_doublezigpuseq_71727_dim1";
        values[303] = (int64_t) 1;
    }
    {
        names[304] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_57839_dim1";
        values[304] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830;
    }
    {
        names[305] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_57839zisegred_tblock_sizze_57831";
        values[305] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830;
    }
    {
        names[306] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_57839zichunk_sizze_71656";
        values[306] = (int64_t) 1;
    }
    *names_out = names;
    *values_out = values;
    return num_macros;
}
static char *get_failure_msg(int failure_idx, int64_t args[])
{
    (void) args;
    switch (failure_idx) {
        
      case 0:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:353:38-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 1:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 2:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 3:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 4:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 5:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 6:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 7:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 8:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 9:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 10:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 11:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 12:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 13:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 14:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:365:63-78\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:365:44-80\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 15:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:366:95-112\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 16:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:367:56-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:367:44-70\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 17:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:372:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 18:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:372:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 19:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:372:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 20:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:374:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 21:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:374:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 22:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:374:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 23:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:383:39-49\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:383:28-50\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 24:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 25:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n", args[0], args[1]);
            break;
        }
        
      case 26:
        {
            return msgprintf("division by zero\n-> #0  ftSkyline.fut:62:78-86\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:59:36-64:34\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:57:20-65:18\n   #5  ftSkyline.fut:95:90-114\n   #6  ftSkyline.fut:715:17-41\n   #7  ftSkyline.fut:704:1-715:41\n");
            break;
        }
        
      case 27:
        {
            return msgprintf("division by zero\n-> #0  ftSkyline.fut:62:87-94\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:59:36-64:34\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:57:20-65:18\n   #5  ftSkyline.fut:95:90-114\n   #6  ftSkyline.fut:715:17-41\n   #7  ftSkyline.fut:704:1-715:41\n");
            break;
        }
        
      case 28:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 29:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 30:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 31:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 32:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 33:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 34:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 35:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 36:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 37:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 38:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 39:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 40:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 41:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 42:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 43:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 44:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 45:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 46:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 47:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 48:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 49:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 50:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 51:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 52:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 53:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 54:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 55:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 56:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 57:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 58:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 59:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 60:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:727:17-40\n   #11 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 61:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 62:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 63:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 64:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 65:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 66:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 67:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 68:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 69:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 70:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 71:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 72:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 73:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 74:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 75:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 76:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 77:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 78:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 79:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:727:17-40\n   #11 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 80:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 81:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 82:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 83:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 84:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 85:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 86:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 87:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:727:17-40\n   #12 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 88:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 89:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 90:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 91:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 92:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:727:17-40\n   #11 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 93:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 94:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 95:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 96:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 97:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:292:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 98:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:292:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 99:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:292:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 100:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 101:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:292:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 102:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:292:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 103:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:292:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 104:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 105:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:303:103-133\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 106:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 107:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 108:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 109:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 110:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:321:30-53\n   #1  /prelude/soacs.fut:255:31-32\n   #2  /prelude/soacs.fut:255:48-50\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 111:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 112:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 113:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 114:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 115:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 116:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 117:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 118:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 119:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 120:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 121:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:321:30-53\n   #1  /prelude/soacs.fut:255:31-32\n   #2  /prelude/soacs.fut:255:48-50\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 122:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
        
      case 123:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n", args[0], args[1]);
            break;
        }
    }
    return strdup("Unknown error.  This is a compiler bug.");
}
struct program {
    int dummy;
    gpu_kernel builtinzhiota_i64ziiota_i64_71661;
    gpu_kernel builtinzhreplicate_boolzireplicate_71764;
    gpu_kernel builtinzhreplicate_f64zireplicate_71678;
    gpu_kernel builtinzhreplicate_i32zireplicate_71743;
    gpu_kernel builtinzhreplicate_i64zireplicate_71705;
    gpu_kernel builtinzhreplicate_i8zireplicate_72950;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_71727;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_71759;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72319;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72346;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72352;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72379;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72385;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72412;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72429;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72436;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72442;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72457;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72496;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72502;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72519;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72525;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72570;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72597;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72603;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72630;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72636;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72663;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72680;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72687;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72702;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72741;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72747;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72764;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_72770;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_71857;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_71901;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_71945;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72046;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72326;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72359;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72392;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72464;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72532;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72577;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72610;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72643;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_72709;
    gpu_kernel calc_local_Skyline_GFUR_doubleziseghist_global_60236;
    gpu_kernel calc_local_Skyline_GFUR_doubleziseghist_local_60236;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59503;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59519;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59529;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59542;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59562;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59575;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59595;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59608;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59637;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59648;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59668;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59683;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59705;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59753;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59763;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59787;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59799;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59905;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59957;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59970;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59979;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_59999;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60019;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60039;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60059;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60078;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60099;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60121;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60141;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60161;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60181;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60200;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60221;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_60269;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_large_72863;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_nonseg_57839;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_small_72863;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegscan_59903;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegscan_60249;
    gpu_kernel define_skyline_space_doublezisegmap_57693;
    gpu_kernel define_skyline_space_doublezisegmap_57719;
    gpu_kernel define_skyline_space_doublezisegmap_57806;
    gpu_kernel define_skyline_space_doublezisegred_nonseg_57653;
    gpu_kernel define_skyline_space_doublezisegred_nonseg_57673;
    gpu_kernel define_skyline_space_doublezisegscan_57643;
    gpu_kernel define_skyline_space_doublezisegscan_57663;
    gpu_kernel sort_for_Skyline_doublezigpuseq_71694;
    gpu_kernel sort_for_Skyline_doublezigpuseq_71732;
    gpu_kernel sort_for_Skyline_doublezigpuseq_71780;
    gpu_kernel sort_for_Skyline_doublezigpuseq_71791;
    gpu_kernel sort_for_Skyline_doublezigpuseq_72175;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73464;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73491;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73497;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73524;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73530;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73557;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73574;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73581;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73587;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73602;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73641;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73647;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73664;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73670;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73715;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73742;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73748;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73775;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73781;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73808;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73825;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73832;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73847;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73886;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73892;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73909;
    gpu_kernel sort_for_Skyline_doublezigpuseq_73915;
    gpu_kernel sort_for_Skyline_doublezireplicate_71872;
    gpu_kernel sort_for_Skyline_doublezireplicate_71915;
    gpu_kernel sort_for_Skyline_doublezireplicate_71959;
    gpu_kernel sort_for_Skyline_doublezireplicate_72037;
    gpu_kernel sort_for_Skyline_doublezireplicate_72425;
    gpu_kernel sort_for_Skyline_doublezireplicate_72445;
    gpu_kernel sort_for_Skyline_doublezireplicate_72465;
    gpu_kernel sort_for_Skyline_doublezireplicate_72623;
    gpu_kernel sort_for_Skyline_doublezireplicate_72646;
    gpu_kernel sort_for_Skyline_doublezireplicate_72669;
    gpu_kernel sort_for_Skyline_doublezireplicate_73161;
    gpu_kernel sort_for_Skyline_doublezireplicate_73204;
    gpu_kernel sort_for_Skyline_doublezireplicate_73248;
    gpu_kernel sort_for_Skyline_doublezireplicate_73471;
    gpu_kernel sort_for_Skyline_doublezireplicate_73504;
    gpu_kernel sort_for_Skyline_doublezireplicate_73537;
    gpu_kernel sort_for_Skyline_doublezireplicate_73609;
    gpu_kernel sort_for_Skyline_doublezireplicate_73677;
    gpu_kernel sort_for_Skyline_doublezireplicate_73722;
    gpu_kernel sort_for_Skyline_doublezireplicate_73755;
    gpu_kernel sort_for_Skyline_doublezireplicate_73788;
    gpu_kernel sort_for_Skyline_doublezireplicate_73854;
    gpu_kernel sort_for_Skyline_doubleziseghist_global_65961;
    gpu_kernel sort_for_Skyline_doubleziseghist_global_68146;
    gpu_kernel sort_for_Skyline_doubleziseghist_local_65961;
    gpu_kernel sort_for_Skyline_doubleziseghist_local_68146;
    gpu_kernel sort_for_Skyline_doublezisegmap_61637;
    gpu_kernel sort_for_Skyline_doublezisegmap_61653;
    gpu_kernel sort_for_Skyline_doublezisegmap_61665;
    gpu_kernel sort_for_Skyline_doublezisegmap_61678;
    gpu_kernel sort_for_Skyline_doublezisegmap_61698;
    gpu_kernel sort_for_Skyline_doublezisegmap_61711;
    gpu_kernel sort_for_Skyline_doublezisegmap_61731;
    gpu_kernel sort_for_Skyline_doublezisegmap_61744;
    gpu_kernel sort_for_Skyline_doublezisegmap_61773;
    gpu_kernel sort_for_Skyline_doublezisegmap_61784;
    gpu_kernel sort_for_Skyline_doublezisegmap_61804;
    gpu_kernel sort_for_Skyline_doublezisegmap_61819;
    gpu_kernel sort_for_Skyline_doublezisegmap_61841;
    gpu_kernel sort_for_Skyline_doublezisegmap_61889;
    gpu_kernel sort_for_Skyline_doublezisegmap_61899;
    gpu_kernel sort_for_Skyline_doublezisegmap_61923;
    gpu_kernel sort_for_Skyline_doublezisegmap_61935;
    gpu_kernel sort_for_Skyline_doublezisegmap_62276;
    gpu_kernel sort_for_Skyline_doublezisegmap_62306;
    gpu_kernel sort_for_Skyline_doublezisegmap_65178;
    gpu_kernel sort_for_Skyline_doublezisegmap_65210;
    gpu_kernel sort_for_Skyline_doublezisegmap_65222;
    gpu_kernel sort_for_Skyline_doublezisegmap_65232;
    gpu_kernel sort_for_Skyline_doublezisegmap_65246;
    gpu_kernel sort_for_Skyline_doublezisegmap_65259;
    gpu_kernel sort_for_Skyline_doublezisegmap_65269;
    gpu_kernel sort_for_Skyline_doublezisegmap_65294;
    gpu_kernel sort_for_Skyline_doublezisegmap_65638;
    gpu_kernel sort_for_Skyline_doublezisegmap_65759;
    gpu_kernel sort_for_Skyline_doublezisegmap_65841;
    gpu_kernel sort_for_Skyline_doublezisegmap_67665;
    gpu_kernel sort_for_Skyline_doublezisegmap_67681;
    gpu_kernel sort_for_Skyline_doublezisegmap_67693;
    gpu_kernel sort_for_Skyline_doublezisegmap_67706;
    gpu_kernel sort_for_Skyline_doublezisegmap_67726;
    gpu_kernel sort_for_Skyline_doublezisegmap_67739;
    gpu_kernel sort_for_Skyline_doublezisegmap_67759;
    gpu_kernel sort_for_Skyline_doublezisegmap_67772;
    gpu_kernel sort_for_Skyline_doublezisegmap_67801;
    gpu_kernel sort_for_Skyline_doublezisegmap_67811;
    gpu_kernel sort_for_Skyline_doublezisegmap_67863;
    gpu_kernel sort_for_Skyline_doublezisegmap_67875;
    gpu_kernel sort_for_Skyline_doublezisegmap_67886;
    gpu_kernel sort_for_Skyline_doublezisegmap_67909;
    gpu_kernel sort_for_Skyline_doublezisegmap_67929;
    gpu_kernel sort_for_Skyline_doublezisegmap_67949;
    gpu_kernel sort_for_Skyline_doublezisegmap_67969;
    gpu_kernel sort_for_Skyline_doublezisegmap_67988;
    gpu_kernel sort_for_Skyline_doublezisegmap_68009;
    gpu_kernel sort_for_Skyline_doublezisegmap_68031;
    gpu_kernel sort_for_Skyline_doublezisegmap_68051;
    gpu_kernel sort_for_Skyline_doublezisegmap_68071;
    gpu_kernel sort_for_Skyline_doublezisegmap_68091;
    gpu_kernel sort_for_Skyline_doublezisegmap_68110;
    gpu_kernel sort_for_Skyline_doublezisegmap_68131;
    gpu_kernel sort_for_Skyline_doublezisegmap_68179;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_61505;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_61581;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_62633;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_65373;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_67437;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_67533;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_67609;
    gpu_kernel sort_for_Skyline_doublezisegred_large_72821;
    gpu_kernel sort_for_Skyline_doublezisegred_large_74008;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_61956;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_66044;
    gpu_kernel sort_for_Skyline_doublezisegred_small_72821;
    gpu_kernel sort_for_Skyline_doublezisegred_small_74008;
    gpu_kernel sort_for_Skyline_doublezisegscan_67833;
    gpu_kernel sort_for_Skyline_doublezisegscan_68159;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
    gpu_create_kernel(ctx, &ctx->program->builtinzhiota_i64ziiota_i64_71661, "builtinzhiota_i64ziiota_i64_71661");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_boolzireplicate_71764, "builtinzhreplicate_boolzireplicate_71764");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_f64zireplicate_71678, "builtinzhreplicate_f64zireplicate_71678");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i32zireplicate_71743, "builtinzhreplicate_i32zireplicate_71743");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i64zireplicate_71705, "builtinzhreplicate_i64zireplicate_71705");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i8zireplicate_72950, "builtinzhreplicate_i8zireplicate_72950");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_71727, "calc_local_Skyline_GFUR_doublezigpuseq_71727");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_71759, "calc_local_Skyline_GFUR_doublezigpuseq_71759");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72319, "calc_local_Skyline_GFUR_doublezigpuseq_72319");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72346, "calc_local_Skyline_GFUR_doublezigpuseq_72346");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72352, "calc_local_Skyline_GFUR_doublezigpuseq_72352");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72379, "calc_local_Skyline_GFUR_doublezigpuseq_72379");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72385, "calc_local_Skyline_GFUR_doublezigpuseq_72385");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72412, "calc_local_Skyline_GFUR_doublezigpuseq_72412");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72429, "calc_local_Skyline_GFUR_doublezigpuseq_72429");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72436, "calc_local_Skyline_GFUR_doublezigpuseq_72436");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72442, "calc_local_Skyline_GFUR_doublezigpuseq_72442");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72457, "calc_local_Skyline_GFUR_doublezigpuseq_72457");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72496, "calc_local_Skyline_GFUR_doublezigpuseq_72496");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72502, "calc_local_Skyline_GFUR_doublezigpuseq_72502");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72519, "calc_local_Skyline_GFUR_doublezigpuseq_72519");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72525, "calc_local_Skyline_GFUR_doublezigpuseq_72525");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72570, "calc_local_Skyline_GFUR_doublezigpuseq_72570");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72597, "calc_local_Skyline_GFUR_doublezigpuseq_72597");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72603, "calc_local_Skyline_GFUR_doublezigpuseq_72603");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72630, "calc_local_Skyline_GFUR_doublezigpuseq_72630");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72636, "calc_local_Skyline_GFUR_doublezigpuseq_72636");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72663, "calc_local_Skyline_GFUR_doublezigpuseq_72663");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72680, "calc_local_Skyline_GFUR_doublezigpuseq_72680");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72687, "calc_local_Skyline_GFUR_doublezigpuseq_72687");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72702, "calc_local_Skyline_GFUR_doublezigpuseq_72702");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72741, "calc_local_Skyline_GFUR_doublezigpuseq_72741");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72747, "calc_local_Skyline_GFUR_doublezigpuseq_72747");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72764, "calc_local_Skyline_GFUR_doublezigpuseq_72764");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72770, "calc_local_Skyline_GFUR_doublezigpuseq_72770");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71857, "calc_local_Skyline_GFUR_doublezireplicate_71857");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71901, "calc_local_Skyline_GFUR_doublezireplicate_71901");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71945, "calc_local_Skyline_GFUR_doublezireplicate_71945");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72046, "calc_local_Skyline_GFUR_doublezireplicate_72046");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72326, "calc_local_Skyline_GFUR_doublezireplicate_72326");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72359, "calc_local_Skyline_GFUR_doublezireplicate_72359");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72392, "calc_local_Skyline_GFUR_doublezireplicate_72392");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72464, "calc_local_Skyline_GFUR_doublezireplicate_72464");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72532, "calc_local_Skyline_GFUR_doublezireplicate_72532");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72577, "calc_local_Skyline_GFUR_doublezireplicate_72577");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72610, "calc_local_Skyline_GFUR_doublezireplicate_72610");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72643, "calc_local_Skyline_GFUR_doublezireplicate_72643");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72709, "calc_local_Skyline_GFUR_doublezireplicate_72709");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_60236, "calc_local_Skyline_GFUR_doubleziseghist_global_60236");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_60236, "calc_local_Skyline_GFUR_doubleziseghist_local_60236");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59503, "calc_local_Skyline_GFUR_doublezisegmap_59503");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59519, "calc_local_Skyline_GFUR_doublezisegmap_59519");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59529, "calc_local_Skyline_GFUR_doublezisegmap_59529");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59542, "calc_local_Skyline_GFUR_doublezisegmap_59542");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59562, "calc_local_Skyline_GFUR_doublezisegmap_59562");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59575, "calc_local_Skyline_GFUR_doublezisegmap_59575");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59595, "calc_local_Skyline_GFUR_doublezisegmap_59595");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59608, "calc_local_Skyline_GFUR_doublezisegmap_59608");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59637, "calc_local_Skyline_GFUR_doublezisegmap_59637");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59648, "calc_local_Skyline_GFUR_doublezisegmap_59648");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59668, "calc_local_Skyline_GFUR_doublezisegmap_59668");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59683, "calc_local_Skyline_GFUR_doublezisegmap_59683");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59705, "calc_local_Skyline_GFUR_doublezisegmap_59705");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59753, "calc_local_Skyline_GFUR_doublezisegmap_59753");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59763, "calc_local_Skyline_GFUR_doublezisegmap_59763");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59787, "calc_local_Skyline_GFUR_doublezisegmap_59787");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59799, "calc_local_Skyline_GFUR_doublezisegmap_59799");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59905, "calc_local_Skyline_GFUR_doublezisegmap_59905");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59957, "calc_local_Skyline_GFUR_doublezisegmap_59957");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59970, "calc_local_Skyline_GFUR_doublezisegmap_59970");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59979, "calc_local_Skyline_GFUR_doublezisegmap_59979");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59999, "calc_local_Skyline_GFUR_doublezisegmap_59999");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60019, "calc_local_Skyline_GFUR_doublezisegmap_60019");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60039, "calc_local_Skyline_GFUR_doublezisegmap_60039");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60059, "calc_local_Skyline_GFUR_doublezisegmap_60059");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60078, "calc_local_Skyline_GFUR_doublezisegmap_60078");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60099, "calc_local_Skyline_GFUR_doublezisegmap_60099");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60121, "calc_local_Skyline_GFUR_doublezisegmap_60121");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60141, "calc_local_Skyline_GFUR_doublezisegmap_60141");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60161, "calc_local_Skyline_GFUR_doublezisegmap_60161");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60181, "calc_local_Skyline_GFUR_doublezisegmap_60181");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60200, "calc_local_Skyline_GFUR_doublezisegmap_60200");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60221, "calc_local_Skyline_GFUR_doublezisegmap_60221");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60269, "calc_local_Skyline_GFUR_doublezisegmap_60269");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_72863, "calc_local_Skyline_GFUR_doublezisegred_large_72863");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_57839, "calc_local_Skyline_GFUR_doublezisegred_nonseg_57839");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_72863, "calc_local_Skyline_GFUR_doublezisegred_small_72863");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegscan_59903, "calc_local_Skyline_GFUR_doublezisegscan_59903");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegscan_60249, "calc_local_Skyline_GFUR_doublezisegscan_60249");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_57693, "define_skyline_space_doublezisegmap_57693");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_57719, "define_skyline_space_doublezisegmap_57719");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_57806, "define_skyline_space_doublezisegmap_57806");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegred_nonseg_57653, "define_skyline_space_doublezisegred_nonseg_57653");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegred_nonseg_57673, "define_skyline_space_doublezisegred_nonseg_57673");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegscan_57643, "define_skyline_space_doublezisegscan_57643");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegscan_57663, "define_skyline_space_doublezisegscan_57663");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_71694, "sort_for_Skyline_doublezigpuseq_71694");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_71732, "sort_for_Skyline_doublezigpuseq_71732");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_71780, "sort_for_Skyline_doublezigpuseq_71780");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_71791, "sort_for_Skyline_doublezigpuseq_71791");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_72175, "sort_for_Skyline_doublezigpuseq_72175");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73464, "sort_for_Skyline_doublezigpuseq_73464");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73491, "sort_for_Skyline_doublezigpuseq_73491");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73497, "sort_for_Skyline_doublezigpuseq_73497");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73524, "sort_for_Skyline_doublezigpuseq_73524");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73530, "sort_for_Skyline_doublezigpuseq_73530");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73557, "sort_for_Skyline_doublezigpuseq_73557");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73574, "sort_for_Skyline_doublezigpuseq_73574");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73581, "sort_for_Skyline_doublezigpuseq_73581");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73587, "sort_for_Skyline_doublezigpuseq_73587");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73602, "sort_for_Skyline_doublezigpuseq_73602");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73641, "sort_for_Skyline_doublezigpuseq_73641");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73647, "sort_for_Skyline_doublezigpuseq_73647");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73664, "sort_for_Skyline_doublezigpuseq_73664");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73670, "sort_for_Skyline_doublezigpuseq_73670");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73715, "sort_for_Skyline_doublezigpuseq_73715");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73742, "sort_for_Skyline_doublezigpuseq_73742");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73748, "sort_for_Skyline_doublezigpuseq_73748");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73775, "sort_for_Skyline_doublezigpuseq_73775");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73781, "sort_for_Skyline_doublezigpuseq_73781");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73808, "sort_for_Skyline_doublezigpuseq_73808");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73825, "sort_for_Skyline_doublezigpuseq_73825");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73832, "sort_for_Skyline_doublezigpuseq_73832");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73847, "sort_for_Skyline_doublezigpuseq_73847");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73886, "sort_for_Skyline_doublezigpuseq_73886");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73892, "sort_for_Skyline_doublezigpuseq_73892");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73909, "sort_for_Skyline_doublezigpuseq_73909");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_73915, "sort_for_Skyline_doublezigpuseq_73915");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_71872, "sort_for_Skyline_doublezireplicate_71872");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_71915, "sort_for_Skyline_doublezireplicate_71915");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_71959, "sort_for_Skyline_doublezireplicate_71959");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72037, "sort_for_Skyline_doublezireplicate_72037");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72425, "sort_for_Skyline_doublezireplicate_72425");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72445, "sort_for_Skyline_doublezireplicate_72445");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72465, "sort_for_Skyline_doublezireplicate_72465");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72623, "sort_for_Skyline_doublezireplicate_72623");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72646, "sort_for_Skyline_doublezireplicate_72646");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_72669, "sort_for_Skyline_doublezireplicate_72669");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73161, "sort_for_Skyline_doublezireplicate_73161");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73204, "sort_for_Skyline_doublezireplicate_73204");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73248, "sort_for_Skyline_doublezireplicate_73248");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73471, "sort_for_Skyline_doublezireplicate_73471");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73504, "sort_for_Skyline_doublezireplicate_73504");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73537, "sort_for_Skyline_doublezireplicate_73537");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73609, "sort_for_Skyline_doublezireplicate_73609");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73677, "sort_for_Skyline_doublezireplicate_73677");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73722, "sort_for_Skyline_doublezireplicate_73722");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73755, "sort_for_Skyline_doublezireplicate_73755");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73788, "sort_for_Skyline_doublezireplicate_73788");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_73854, "sort_for_Skyline_doublezireplicate_73854");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_global_65961, "sort_for_Skyline_doubleziseghist_global_65961");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_global_68146, "sort_for_Skyline_doubleziseghist_global_68146");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_local_65961, "sort_for_Skyline_doubleziseghist_local_65961");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_local_68146, "sort_for_Skyline_doubleziseghist_local_68146");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61637, "sort_for_Skyline_doublezisegmap_61637");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61653, "sort_for_Skyline_doublezisegmap_61653");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61665, "sort_for_Skyline_doublezisegmap_61665");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61678, "sort_for_Skyline_doublezisegmap_61678");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61698, "sort_for_Skyline_doublezisegmap_61698");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61711, "sort_for_Skyline_doublezisegmap_61711");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61731, "sort_for_Skyline_doublezisegmap_61731");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61744, "sort_for_Skyline_doublezisegmap_61744");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61773, "sort_for_Skyline_doublezisegmap_61773");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61784, "sort_for_Skyline_doublezisegmap_61784");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61804, "sort_for_Skyline_doublezisegmap_61804");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61819, "sort_for_Skyline_doublezisegmap_61819");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61841, "sort_for_Skyline_doublezisegmap_61841");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61889, "sort_for_Skyline_doublezisegmap_61889");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61899, "sort_for_Skyline_doublezisegmap_61899");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61923, "sort_for_Skyline_doublezisegmap_61923");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_61935, "sort_for_Skyline_doublezisegmap_61935");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_62276, "sort_for_Skyline_doublezisegmap_62276");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_62306, "sort_for_Skyline_doublezisegmap_62306");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65178, "sort_for_Skyline_doublezisegmap_65178");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65210, "sort_for_Skyline_doublezisegmap_65210");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65222, "sort_for_Skyline_doublezisegmap_65222");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65232, "sort_for_Skyline_doublezisegmap_65232");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65246, "sort_for_Skyline_doublezisegmap_65246");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65259, "sort_for_Skyline_doublezisegmap_65259");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65269, "sort_for_Skyline_doublezisegmap_65269");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65294, "sort_for_Skyline_doublezisegmap_65294");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65638, "sort_for_Skyline_doublezisegmap_65638");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65759, "sort_for_Skyline_doublezisegmap_65759");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_65841, "sort_for_Skyline_doublezisegmap_65841");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67665, "sort_for_Skyline_doublezisegmap_67665");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67681, "sort_for_Skyline_doublezisegmap_67681");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67693, "sort_for_Skyline_doublezisegmap_67693");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67706, "sort_for_Skyline_doublezisegmap_67706");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67726, "sort_for_Skyline_doublezisegmap_67726");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67739, "sort_for_Skyline_doublezisegmap_67739");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67759, "sort_for_Skyline_doublezisegmap_67759");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67772, "sort_for_Skyline_doublezisegmap_67772");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67801, "sort_for_Skyline_doublezisegmap_67801");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67811, "sort_for_Skyline_doublezisegmap_67811");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67863, "sort_for_Skyline_doublezisegmap_67863");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67875, "sort_for_Skyline_doublezisegmap_67875");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67886, "sort_for_Skyline_doublezisegmap_67886");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67909, "sort_for_Skyline_doublezisegmap_67909");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67929, "sort_for_Skyline_doublezisegmap_67929");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67949, "sort_for_Skyline_doublezisegmap_67949");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67969, "sort_for_Skyline_doublezisegmap_67969");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_67988, "sort_for_Skyline_doublezisegmap_67988");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68009, "sort_for_Skyline_doublezisegmap_68009");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68031, "sort_for_Skyline_doublezisegmap_68031");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68051, "sort_for_Skyline_doublezisegmap_68051");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68071, "sort_for_Skyline_doublezisegmap_68071");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68091, "sort_for_Skyline_doublezisegmap_68091");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68110, "sort_for_Skyline_doublezisegmap_68110");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68131, "sort_for_Skyline_doublezisegmap_68131");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_68179, "sort_for_Skyline_doublezisegmap_68179");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_61505, "sort_for_Skyline_doublezisegmap_intrablock_61505");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_61581, "sort_for_Skyline_doublezisegmap_intrablock_61581");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_62633, "sort_for_Skyline_doublezisegmap_intrablock_62633");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_65373, "sort_for_Skyline_doublezisegmap_intrablock_65373");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67437, "sort_for_Skyline_doublezisegmap_intrablock_67437");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67533, "sort_for_Skyline_doublezisegmap_intrablock_67533");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67609, "sort_for_Skyline_doublezisegmap_intrablock_67609");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_large_72821, "sort_for_Skyline_doublezisegred_large_72821");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_large_74008, "sort_for_Skyline_doublezisegred_large_74008");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_61956, "sort_for_Skyline_doublezisegred_nonseg_61956");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_66044, "sort_for_Skyline_doublezisegred_nonseg_66044");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_small_72821, "sort_for_Skyline_doublezisegred_small_72821");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_small_74008, "sort_for_Skyline_doublezisegred_small_74008");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegscan_67833, "sort_for_Skyline_doublezisegscan_67833");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegscan_68159, "sort_for_Skyline_doublezisegscan_68159");
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    gpu_free_kernel(ctx, ctx->program->builtinzhiota_i64ziiota_i64_71661);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_boolzireplicate_71764);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_f64zireplicate_71678);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i32zireplicate_71743);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i64zireplicate_71705);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i8zireplicate_72950);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_71727);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_71759);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72319);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72346);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72352);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72379);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72385);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72412);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72429);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72436);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72442);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72457);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72496);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72502);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72519);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72525);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72570);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72597);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72603);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72630);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72636);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72663);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72680);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72687);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72702);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72741);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72747);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72764);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72770);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71857);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71901);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71945);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72046);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72326);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72359);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72392);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72464);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72532);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72577);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72610);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72643);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72709);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_60236);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_60236);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59503);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59519);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59529);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59542);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59562);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59575);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59595);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59608);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59637);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59648);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59668);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59683);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59705);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59753);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59763);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59787);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59799);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59905);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59957);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59970);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59979);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59999);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60019);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60039);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60059);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60078);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60099);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60121);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60141);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60161);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60181);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60200);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60221);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60269);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_72863);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_57839);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_72863);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_59903);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_60249);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_57693);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_57719);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_57806);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_57653);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_57673);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_57643);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_57663);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71694);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71732);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71780);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71791);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_72175);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73464);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73491);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73497);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73524);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73530);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73557);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73574);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73581);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73587);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73602);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73641);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73647);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73664);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73670);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73715);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73742);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73748);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73775);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73781);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73808);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73825);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73832);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73847);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73886);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73892);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73909);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73915);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_71872);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_71915);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_71959);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72037);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72425);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72445);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72465);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72623);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72646);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72669);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73161);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73204);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73248);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73471);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73504);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73537);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73609);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73677);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73722);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73755);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73788);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73854);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_65961);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_68146);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_65961);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_68146);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61637);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61653);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61665);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61678);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61698);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61711);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61731);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61744);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61773);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61784);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61804);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61819);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61841);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61889);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61899);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61923);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61935);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_62276);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_62306);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65178);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65210);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65222);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65232);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65246);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65259);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65269);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65294);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65638);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65759);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65841);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67665);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67681);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67693);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67706);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67726);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67739);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67759);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67772);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67801);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67811);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67863);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67875);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67886);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67909);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67929);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67949);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67969);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67988);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68009);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68031);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68051);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68071);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68091);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68110);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68131);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68179);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_61505);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_61581);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_62633);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_65373);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67437);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67533);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67609);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_72821);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_74008);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_61956);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_66044);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_72821);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_74008);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_67833);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_68159);
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
    ctx->tuning_params.builtinzhiota_i64zitblock_sizze_71665 = &ctx->cfg->tuning_params[0];
    ctx->tuning_params.builtinzhreplicate_boolzitblock_sizze_71768 = &ctx->cfg->tuning_params[1];
    ctx->tuning_params.builtinzhreplicate_f64zitblock_sizze_71682 = &ctx->cfg->tuning_params[2];
    ctx->tuning_params.builtinzhreplicate_i32zitblock_sizze_71747 = &ctx->cfg->tuning_params[3];
    ctx->tuning_params.builtinzhreplicate_i64zitblock_sizze_71709 = &ctx->cfg->tuning_params[4];
    ctx->tuning_params.builtinzhreplicate_i8zitblock_sizze_72954 = &ctx->cfg->tuning_params[5];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L2_72839 = &ctx->cfg->tuning_params[6];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L_72786 = &ctx->cfg->tuning_params[7];
    ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_60230 = &ctx->cfg->tuning_params[8];
    ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228 = &ctx->cfg->tuning_params[9];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58044 = &ctx->cfg->tuning_params[10];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58158 = &ctx->cfg->tuning_params[11];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58506 = &ctx->cfg->tuning_params[12];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58662 = &ctx->cfg->tuning_params[13];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58783 = &ctx->cfg->tuning_params[14];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_59909 = &ctx->cfg->tuning_params[15];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891 = &ctx->cfg->tuning_params[16];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006 = &ctx->cfg->tuning_params[17];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042 = &ctx->cfg->tuning_params[18];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073 = &ctx->cfg->tuning_params[19];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156 = &ctx->cfg->tuning_params[20];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202 = &ctx->cfg->tuning_params[21];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228 = &ctx->cfg->tuning_params[22];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298 = &ctx->cfg->tuning_params[23];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327 = &ctx->cfg->tuning_params[24];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504 = &ctx->cfg->tuning_params[25];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533 = &ctx->cfg->tuning_params[26];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660 = &ctx->cfg->tuning_params[27];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686 = &ctx->cfg->tuning_params[28];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781 = &ctx->cfg->tuning_params[29];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807 = &ctx->cfg->tuning_params[30];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829 = &ctx->cfg->tuning_params[31];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862 = &ctx->cfg->tuning_params[32];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907 = &ctx->cfg->tuning_params[33];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916 = &ctx->cfg->tuning_params[34];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930 = &ctx->cfg->tuning_params[35];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942 = &ctx->cfg->tuning_params[36];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986 = &ctx->cfg->tuning_params[37];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006 = &ctx->cfg->tuning_params[38];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026 = &ctx->cfg->tuning_params[39];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046 = &ctx->cfg->tuning_params[40];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066 = &ctx->cfg->tuning_params[41];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084 = &ctx->cfg->tuning_params[42];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108 = &ctx->cfg->tuning_params[43];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128 = &ctx->cfg->tuning_params[44];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148 = &ctx->cfg->tuning_params[45];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168 = &ctx->cfg->tuning_params[46];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188 = &ctx->cfg->tuning_params[47];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206 = &ctx->cfg->tuning_params[48];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253 = &ctx->cfg->tuning_params[49];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_num_tblocks_57832 = &ctx->cfg->tuning_params[50];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830 = &ctx->cfg->tuning_params[51];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_59899 = &ctx->cfg->tuning_params[52];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_60245 = &ctx->cfg->tuning_params[53];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897 = &ctx->cfg->tuning_params[54];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243 = &ctx->cfg->tuning_params[55];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[56];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[57];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_2 = &ctx->cfg->tuning_params[58];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_71861 = &ctx->cfg->tuning_params[59];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_71905 = &ctx->cfg->tuning_params[60];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_71949 = &ctx->cfg->tuning_params[61];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72050 = &ctx->cfg->tuning_params[62];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72330 = &ctx->cfg->tuning_params[63];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72363 = &ctx->cfg->tuning_params[64];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72396 = &ctx->cfg->tuning_params[65];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72468 = &ctx->cfg->tuning_params[66];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72536 = &ctx->cfg->tuning_params[67];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72581 = &ctx->cfg->tuning_params[68];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72614 = &ctx->cfg->tuning_params[69];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72647 = &ctx->cfg->tuning_params[70];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72713 = &ctx->cfg->tuning_params[71];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57677 = &ctx->cfg->tuning_params[72];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57703 = &ctx->cfg->tuning_params[73];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57739 = &ctx->cfg->tuning_params[74];
    ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_57647 = &ctx->cfg->tuning_params[75];
    ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_57667 = &ctx->cfg->tuning_params[76];
    ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57645 = &ctx->cfg->tuning_params[77];
    ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57665 = &ctx->cfg->tuning_params[78];
    ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_57639 = &ctx->cfg->tuning_params[79];
    ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_57659 = &ctx->cfg->tuning_params[80];
    ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57637 = &ctx->cfg->tuning_params[81];
    ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57657 = &ctx->cfg->tuning_params[82];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L2_72787 = &ctx->cfg->tuning_params[83];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L2_73984 = &ctx->cfg->tuning_params[84];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L_72724 = &ctx->cfg->tuning_params[85];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L_73931 = &ctx->cfg->tuning_params[86];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_65955 = &ctx->cfg->tuning_params[87];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_68140 = &ctx->cfg->tuning_params[88];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953 = &ctx->cfg->tuning_params[89];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138 = &ctx->cfg->tuning_params[90];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_60393 = &ctx->cfg->tuning_params[91];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_60507 = &ctx->cfg->tuning_params[92];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_60855 = &ctx->cfg->tuning_params[93];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_61011 = &ctx->cfg->tuning_params[94];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_61069 = &ctx->cfg->tuning_params[95];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_62038 = &ctx->cfg->tuning_params[96];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_62202 = &ctx->cfg->tuning_params[97];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_63282 = &ctx->cfg->tuning_params[98];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_64272 = &ctx->cfg->tuning_params[99];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_64365 = &ctx->cfg->tuning_params[100];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_66476 = &ctx->cfg->tuning_params[101];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_66632 = &ctx->cfg->tuning_params[102];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_66690 = &ctx->cfg->tuning_params[103];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_67880 = &ctx->cfg->tuning_params[104];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_67890 = &ctx->cfg->tuning_params[105];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60327 = &ctx->cfg->tuning_params[106];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60355 = &ctx->cfg->tuning_params[107];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60391 = &ctx->cfg->tuning_params[108];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60422 = &ctx->cfg->tuning_params[109];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60505 = &ctx->cfg->tuning_params[110];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60551 = &ctx->cfg->tuning_params[111];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60577 = &ctx->cfg->tuning_params[112];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60647 = &ctx->cfg->tuning_params[113];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60676 = &ctx->cfg->tuning_params[114];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60853 = &ctx->cfg->tuning_params[115];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60882 = &ctx->cfg->tuning_params[116];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61009 = &ctx->cfg->tuning_params[117];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61035 = &ctx->cfg->tuning_params[118];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61067 = &ctx->cfg->tuning_params[119];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61093 = &ctx->cfg->tuning_params[120];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61147 = &ctx->cfg->tuning_params[121];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61180 = &ctx->cfg->tuning_params[122];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62036 = &ctx->cfg->tuning_params[123];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62200 = &ctx->cfg->tuning_params[124];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63280 = &ctx->cfg->tuning_params[125];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63376 = &ctx->cfg->tuning_params[126];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63391 = &ctx->cfg->tuning_params[127];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63404 = &ctx->cfg->tuning_params[128];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63449 = &ctx->cfg->tuning_params[129];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63464 = &ctx->cfg->tuning_params[130];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63477 = &ctx->cfg->tuning_params[131];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64270 = &ctx->cfg->tuning_params[132];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64363 = &ctx->cfg->tuning_params[133];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64611 = &ctx->cfg->tuning_params[134];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_65146 = &ctx->cfg->tuning_params[135];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66265 = &ctx->cfg->tuning_params[136];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66297 = &ctx->cfg->tuning_params[137];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66474 = &ctx->cfg->tuning_params[138];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66503 = &ctx->cfg->tuning_params[139];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66630 = &ctx->cfg->tuning_params[140];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66656 = &ctx->cfg->tuning_params[141];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66688 = &ctx->cfg->tuning_params[142];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66714 = &ctx->cfg->tuning_params[143];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66768 = &ctx->cfg->tuning_params[144];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66801 = &ctx->cfg->tuning_params[145];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67847 = &ctx->cfg->tuning_params[146];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67878 = &ctx->cfg->tuning_params[147];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67888 = &ctx->cfg->tuning_params[148];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67896 = &ctx->cfg->tuning_params[149];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67916 = &ctx->cfg->tuning_params[150];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67936 = &ctx->cfg->tuning_params[151];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67956 = &ctx->cfg->tuning_params[152];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67976 = &ctx->cfg->tuning_params[153];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67994 = &ctx->cfg->tuning_params[154];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68018 = &ctx->cfg->tuning_params[155];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68038 = &ctx->cfg->tuning_params[156];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68058 = &ctx->cfg->tuning_params[157];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68078 = &ctx->cfg->tuning_params[158];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68098 = &ctx->cfg->tuning_params[159];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68116 = &ctx->cfg->tuning_params[160];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68163 = &ctx->cfg->tuning_params[161];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_61948 = &ctx->cfg->tuning_params[162];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_66038 = &ctx->cfg->tuning_params[163];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_61946 = &ctx->cfg->tuning_params[164];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_66036 = &ctx->cfg->tuning_params[165];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_66050 = &ctx->cfg->tuning_params[166];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_67422 = &ctx->cfg->tuning_params[167];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_68155 = &ctx->cfg->tuning_params[168];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_66048 = &ctx->cfg->tuning_params[169];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_67420 = &ctx->cfg->tuning_params[170];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_68153 = &ctx->cfg->tuning_params[171];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[172];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[173];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_2 = &ctx->cfg->tuning_params[174];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_3 = &ctx->cfg->tuning_params[175];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_5 = &ctx->cfg->tuning_params[176];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_6 = &ctx->cfg->tuning_params[177];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_7 = &ctx->cfg->tuning_params[178];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_outer_screma_4 = &ctx->cfg->tuning_params[179];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_71876 = &ctx->cfg->tuning_params[180];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_71919 = &ctx->cfg->tuning_params[181];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_71963 = &ctx->cfg->tuning_params[182];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72041 = &ctx->cfg->tuning_params[183];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72429 = &ctx->cfg->tuning_params[184];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72449 = &ctx->cfg->tuning_params[185];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72469 = &ctx->cfg->tuning_params[186];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72627 = &ctx->cfg->tuning_params[187];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72650 = &ctx->cfg->tuning_params[188];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72673 = &ctx->cfg->tuning_params[189];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73165 = &ctx->cfg->tuning_params[190];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73208 = &ctx->cfg->tuning_params[191];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73252 = &ctx->cfg->tuning_params[192];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73475 = &ctx->cfg->tuning_params[193];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73508 = &ctx->cfg->tuning_params[194];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73541 = &ctx->cfg->tuning_params[195];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73613 = &ctx->cfg->tuning_params[196];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73681 = &ctx->cfg->tuning_params[197];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73726 = &ctx->cfg->tuning_params[198];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73759 = &ctx->cfg->tuning_params[199];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73792 = &ctx->cfg->tuning_params[200];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73858 = &ctx->cfg->tuning_params[201];
}
int memblock_unref_device(struct futhark_context *ctx, struct memblock_device *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "space 'device'", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_device -= block->size;
            (void) gpu_free(ctx, block->mem, block->size, desc);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_device);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc_device(struct futhark_context *ctx, struct memblock_device *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "space 'device'", ctx->cur_mem_usage_device);
    
    int ret = memblock_unref_device(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "space 'device'", (long long) ctx->cur_mem_usage_device);
    (void) gpu_alloc(ctx, ctx->log, (size_t) size, desc, &block->mem, (size_t *) &size);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_device + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_device = new_usage;
        if (new_usage > ctx->peak_mem_usage_device) {
            ctx->peak_mem_usage_device = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "space 'device'", (long long) size, (long long) ctx->cur_mem_usage_device, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set_device(struct futhark_context *ctx, struct memblock_device *lhs, struct memblock_device *rhs, const char *lhs_desc)
{
    int ret = memblock_unref_device(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"space 'device'\": %lld", (long long) ctx->peak_mem_usage_device);
    str_builder_char(&builder, ',');
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    ctx->peak_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    if (ctx->error == NULL)
        gpu_free_all(ctx);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_builtinzhiota_i64(struct futhark_context *ctx, struct memblock_device mem_71656, int64_t n_71657, int64_t x_71658, int64_t s_71659);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_71759, int64_t num_elems_71760, bool val_71761);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_f64(struct futhark_context *ctx, struct memblock_device mem_71673, int64_t num_elems_71674, double val_71675);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_71738, int64_t num_elems_71739, int32_t val_71740);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i64(struct futhark_context *ctx, struct memblock_device mem_71700, int64_t num_elems_71701, int64_t val_71702);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i8(struct futhark_context *ctx, struct memblock_device mem_72945, int64_t num_elems_72946, int8_t val_72947);
FUTHARK_FUN_ATTR int futrts_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_74193, struct memblock_device *mem_out_p_74194, struct memblock_device *mem_out_p_74195, struct memblock_device *mem_out_p_74196, int64_t *out_prim_out_74197, int64_t *out_prim_out_74198, struct memblock_device angle_part_prefix_sum_mem_68610, struct memblock_device angle_partitions_per_dim_mem_68611, struct memblock_device grid_part_prefix_sum_mem_68612, struct memblock_device grid_part_sizze_per_dim_mem_68613, struct memblock_device grid_partitions_per_dim_mem_68614, struct memblock_device start_of_grid_partition_mem_68615, struct memblock_device isPartitionDominated_mem_68616, struct memblock_device part_idx_mem_68617, struct memblock_device xys_mem_68618, struct memblock_device xys_mem_68619, int64_t dim_45075, int64_t dz2080U_45076, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, int64_t dz2081U_45078, int64_t dz2082U_45079, int64_t dz2083U_45080, int64_t total_angle_no_45087, int64_t total_grid_no_45088, int64_t total_part_no_45089);
FUTHARK_FUN_ATTR int futrts_entry_define_skyline_space_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_74204, struct memblock_device *mem_out_p_74205, struct memblock_device *mem_out_p_74206, struct memblock_device *mem_out_p_74207, struct memblock_device *mem_out_p_74208, struct memblock_device *mem_out_p_74209, int64_t *out_prim_out_74210, int64_t *out_prim_out_74211, int64_t *out_prim_out_74212, int64_t *out_prim_out_74213, struct memblock_device min_per_dim_mem_68610, struct memblock_device max_per_dim_mem_68611, struct memblock_device grid_partitions_per_dim_mem_68612, struct memblock_device angle_partitions_per_dim_mem_68613, int64_t dim_26352, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353);
FUTHARK_FUN_ATTR int futrts_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_74216, struct memblock_device *mem_out_p_74217, struct memblock_device *mem_out_p_74218, struct memblock_device *mem_out_p_74219, int64_t *out_prim_out_74220, int64_t *out_prim_out_74221, int64_t *out_prim_out_74222, struct memblock_device angle_part_prefix_sum_mem_68610, struct memblock_device angle_partitions_per_dim_mem_68611, struct memblock_device grid_part_prefix_sum_mem_68612, struct memblock_device grid_part_sizze_per_dim_mem_68613, struct memblock_device grid_partitions_per_dim_mem_68614, struct memblock_device start_of_grid_partition_mem_68615, struct memblock_device xs_mem_68616, int64_t dim_38264, int64_t dz2080U_38265, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, int64_t n_38267, int64_t total_angle_no_38274, int64_t total_grid_no_38275, int64_t total_part_no_38276, bool use_measure_for_sorting_38278);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10000(struct futhark_context *ctx, double *out_prim_out_74231, struct memblock_device angle_partitions_per_dim_mem_68610, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26461, int64_t dim_26462, int64_t i_26464);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10001(struct futhark_context *ctx, int64_t *out_prim_out_74233, double a_26476, double ba_26477, int64_t pf_26478, int64_t pd_26479);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9970(struct futhark_context *ctx, int64_t *out_prim_out_74234, int64_t *out_prim_out_74235, int64_t *out_prim_out_74236, int64_t *out_prim_out_74237, int64_t *out_prim_out_74238, int64_t slo_27047, int64_t shi_27048, int64_t tlo_27049, int64_t thi_27050, int64_t count_27051);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    #define counters_mem_71657 (ctx->constants->counters_mem_71657)
    #define counters_mem_71804 (ctx->constants->counters_mem_71804)
    #define counters_mem_71942 (ctx->constants->counters_mem_71942)
    #define counters_mem_72121 (ctx->constants->counters_mem_72121)
    #define counters_mem_72858 (ctx->constants->counters_mem_72858)
    #define counters_mem_72897 (ctx->constants->counters_mem_72897)
    #define counters_mem_72900 (ctx->constants->counters_mem_72900)
    #define counters_mem_74045 (ctx->constants->counters_mem_74045)
    #define global_dynid_mem_71693 (ctx->constants->global_dynid_mem_71693)
    #define global_dynid_mem_71851 (ctx->constants->global_dynid_mem_71851)
    #define global_dynid_mem_72168 (ctx->constants->global_dynid_mem_72168)
    #define global_dynid_mem_72950 (ctx->constants->global_dynid_mem_72950)
    #define global_dynid_mem_72969 (ctx->constants->global_dynid_mem_72969)
    #define global_dynid_mem_73317 (ctx->constants->global_dynid_mem_73317)
    #define global_dynid_mem_74095 (ctx->constants->global_dynid_mem_74095)
    counters_mem_71657.references = NULL;
    counters_mem_71804.references = NULL;
    counters_mem_71942.references = NULL;
    counters_mem_72121.references = NULL;
    counters_mem_72858.references = NULL;
    counters_mem_72897.references = NULL;
    counters_mem_72900.references = NULL;
    counters_mem_74045.references = NULL;
    global_dynid_mem_71693.references = NULL;
    global_dynid_mem_71851.references = NULL;
    global_dynid_mem_72168.references = NULL;
    global_dynid_mem_72950.references = NULL;
    global_dynid_mem_72969.references = NULL;
    global_dynid_mem_73317.references = NULL;
    global_dynid_mem_74095.references = NULL;
    if (memblock_alloc_device(ctx, &global_dynid_mem_71693, (int64_t) 4, "global_dynid_mem_71693")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_71693, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_71804, (int64_t) 80, "counters_mem_71804")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_71804, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_71851, (int64_t) 4, "global_dynid_mem_71851")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_71851, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_71942, (int64_t) 80, "counters_mem_71942")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_71942, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_71657, (int64_t) 80, "counters_mem_71657")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_71657, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_72168, (int64_t) 4, "global_dynid_mem_72168")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_72168, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_72900, (int64_t) 81920, "counters_mem_72900")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_72900, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_72950, (int64_t) 4, "global_dynid_mem_72950")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_72950, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_72121, (int64_t) 80, "counters_mem_72121")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_72121, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_72858, (int64_t) 81920, "counters_mem_72858")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_72858, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_72897, (int64_t) 80, "counters_mem_72897")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_72897, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_72969, (int64_t) 4, "global_dynid_mem_72969")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_72969, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_73317, (int64_t) 4, "global_dynid_mem_73317")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_73317, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_74045, (int64_t) 81920, "counters_mem_74045")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_74045, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_74095, (int64_t) 4, "global_dynid_mem_74095")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_74095, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    #undef counters_mem_71657
    #undef counters_mem_71804
    #undef counters_mem_71942
    #undef counters_mem_72121
    #undef counters_mem_72858
    #undef counters_mem_72897
    #undef counters_mem_72900
    #undef counters_mem_74045
    #undef global_dynid_mem_71693
    #undef global_dynid_mem_71851
    #undef global_dynid_mem_72168
    #undef global_dynid_mem_72950
    #undef global_dynid_mem_72969
    #undef global_dynid_mem_73317
    #undef global_dynid_mem_74095
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_71657, "ctx->constants->counters_mem_71657") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_71804, "ctx->constants->counters_mem_71804") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_71942, "ctx->constants->counters_mem_71942") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_72121, "ctx->constants->counters_mem_72121") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_72858, "ctx->constants->counters_mem_72858") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_72897, "ctx->constants->counters_mem_72897") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_72900, "ctx->constants->counters_mem_72900") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_74045, "ctx->constants->counters_mem_74045") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_71693, "ctx->constants->global_dynid_mem_71693") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_71851, "ctx->constants->global_dynid_mem_71851") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_72168, "ctx->constants->global_dynid_mem_72168") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_72950, "ctx->constants->global_dynid_mem_72950") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_72969, "ctx->constants->global_dynid_mem_72969") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_73317, "ctx->constants->global_dynid_mem_73317") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_74095, "ctx->constants->global_dynid_mem_74095") != 0)
        return 1;
    return 0;
}
static int gpu_kernel_builtinzhiota_i64ziiota_i64_71661(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhiota_i64ziiota_i64_71661, "builtin#iota_i64.iota_i64_71661", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_boolzireplicate_71764(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, bool arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_boolzireplicate_71764, "builtin#replicate_bool.replicate_71764", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_f64zireplicate_71678(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, double arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_f64zireplicate_71678, "builtin#replicate_f64.replicate_71678", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i32zireplicate_71743(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int32_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i32zireplicate_71743, "builtin#replicate_i32.replicate_71743", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i64zireplicate_71705(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i64zireplicate_71705, "builtin#replicate_i64.replicate_71705", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i8zireplicate_72950(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int8_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i8zireplicate_72950, "builtin#replicate_i8.replicate_72950", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_nonseg_57839(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_57839, "calc_local_Skyline_GFUR_double.segred_nonseg_57839", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_71727(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_71727, "calc_local_Skyline_GFUR_double.gpuseq_71727", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_71759(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_71759, "calc_local_Skyline_GFUR_double.gpuseq_71759", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330, "calc_local_Skyline_GFUR_double.segmap_intrablock_59330", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406, "calc_local_Skyline_GFUR_double.segmap_intrablock_59406", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463, "calc_local_Skyline_GFUR_double.segmap_intrablock_59463", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59503(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59503, "calc_local_Skyline_GFUR_double.segmap_59503", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59519(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59519, "calc_local_Skyline_GFUR_double.segmap_59519", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59529(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59529, "calc_local_Skyline_GFUR_double.segmap_59529", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_71857(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71857, "calc_local_Skyline_GFUR_double.replicate_71857", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59542(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59542, "calc_local_Skyline_GFUR_double.segmap_59542", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59562(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59562, "calc_local_Skyline_GFUR_double.segmap_59562", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_71901(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71901, "calc_local_Skyline_GFUR_double.replicate_71901", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59575(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59575, "calc_local_Skyline_GFUR_double.segmap_59575", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59595(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59595, "calc_local_Skyline_GFUR_double.segmap_59595", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_71945(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_71945, "calc_local_Skyline_GFUR_double.replicate_71945", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59608(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59608, "calc_local_Skyline_GFUR_double.segmap_59608", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59637(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59637, "calc_local_Skyline_GFUR_double.segmap_59637", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59648(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59648, "calc_local_Skyline_GFUR_double.segmap_59648", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59668(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59668, "calc_local_Skyline_GFUR_double.segmap_59668", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59683(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59683, "calc_local_Skyline_GFUR_double.segmap_59683", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72046(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72046, "calc_local_Skyline_GFUR_double.replicate_72046", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59705(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59705, "calc_local_Skyline_GFUR_double.segmap_59705", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59753(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59753, "calc_local_Skyline_GFUR_double.segmap_59753", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59763(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59763, "calc_local_Skyline_GFUR_double.segmap_59763", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59787(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59787, "calc_local_Skyline_GFUR_double.segmap_59787", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59799(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, bool arg7, int64_t arg8, bool arg9, int64_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[24] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20};
        size_t args_sizes[24] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59799, "calc_local_Skyline_GFUR_double.segmap_59799", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 24, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_59903(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_59903, "calc_local_Skyline_GFUR_double.segscan_59903", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59905(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59905, "calc_local_Skyline_GFUR_double.segmap_59905", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59957(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59957, "calc_local_Skyline_GFUR_double.segmap_59957", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59970(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59970, "calc_local_Skyline_GFUR_double.segmap_59970", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59979(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59979, "calc_local_Skyline_GFUR_double.segmap_59979", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59999(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_59999, "calc_local_Skyline_GFUR_double.segmap_59999", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60019(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60019, "calc_local_Skyline_GFUR_double.segmap_60019", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72319(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72319, "calc_local_Skyline_GFUR_double.gpuseq_72319", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72326(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72326, "calc_local_Skyline_GFUR_double.replicate_72326", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72346(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72346, "calc_local_Skyline_GFUR_double.gpuseq_72346", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72352(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72352, "calc_local_Skyline_GFUR_double.gpuseq_72352", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72359(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72359, "calc_local_Skyline_GFUR_double.replicate_72359", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72379(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72379, "calc_local_Skyline_GFUR_double.gpuseq_72379", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72385(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72385, "calc_local_Skyline_GFUR_double.gpuseq_72385", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72392(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72392, "calc_local_Skyline_GFUR_double.replicate_72392", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72412(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72412, "calc_local_Skyline_GFUR_double.gpuseq_72412", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60039(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60039, "calc_local_Skyline_GFUR_double.segmap_60039", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72429(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72429, "calc_local_Skyline_GFUR_double.gpuseq_72429", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72436(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72436, "calc_local_Skyline_GFUR_double.gpuseq_72436", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72442(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72442, "calc_local_Skyline_GFUR_double.gpuseq_72442", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60059(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60059, "calc_local_Skyline_GFUR_double.segmap_60059", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72457(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72457, "calc_local_Skyline_GFUR_double.gpuseq_72457", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72464(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72464, "calc_local_Skyline_GFUR_double.replicate_72464", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60078(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60078, "calc_local_Skyline_GFUR_double.segmap_60078", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72496(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72496, "calc_local_Skyline_GFUR_double.gpuseq_72496", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72502(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72502, "calc_local_Skyline_GFUR_double.gpuseq_72502", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60099(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60099, "calc_local_Skyline_GFUR_double.segmap_60099", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72519(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72519, "calc_local_Skyline_GFUR_double.gpuseq_72519", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72525(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72525, "calc_local_Skyline_GFUR_double.gpuseq_72525", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72532(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72532, "calc_local_Skyline_GFUR_double.replicate_72532", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60121(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60121, "calc_local_Skyline_GFUR_double.segmap_60121", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60141(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60141, "calc_local_Skyline_GFUR_double.segmap_60141", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72570(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72570, "calc_local_Skyline_GFUR_double.gpuseq_72570", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72577(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72577, "calc_local_Skyline_GFUR_double.replicate_72577", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72597(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72597, "calc_local_Skyline_GFUR_double.gpuseq_72597", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72603(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72603, "calc_local_Skyline_GFUR_double.gpuseq_72603", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72610(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72610, "calc_local_Skyline_GFUR_double.replicate_72610", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72630(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72630, "calc_local_Skyline_GFUR_double.gpuseq_72630", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72636(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72636, "calc_local_Skyline_GFUR_double.gpuseq_72636", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72643(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72643, "calc_local_Skyline_GFUR_double.replicate_72643", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72663(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72663, "calc_local_Skyline_GFUR_double.gpuseq_72663", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60161(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60161, "calc_local_Skyline_GFUR_double.segmap_60161", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72680(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72680, "calc_local_Skyline_GFUR_double.gpuseq_72680", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72687(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72687, "calc_local_Skyline_GFUR_double.gpuseq_72687", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60181(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60181, "calc_local_Skyline_GFUR_double.segmap_60181", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72702(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72702, "calc_local_Skyline_GFUR_double.gpuseq_72702", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72709(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_72709, "calc_local_Skyline_GFUR_double.replicate_72709", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60200(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60200, "calc_local_Skyline_GFUR_double.segmap_60200", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72741(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72741, "calc_local_Skyline_GFUR_double.gpuseq_72741", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72747(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72747, "calc_local_Skyline_GFUR_double.gpuseq_72747", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60221(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60221, "calc_local_Skyline_GFUR_double.segmap_60221", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72764(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72764, "calc_local_Skyline_GFUR_double.gpuseq_72764", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72770(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_72770, "calc_local_Skyline_GFUR_double.gpuseq_72770", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_local_60236(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int32_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_60236, "calc_local_Skyline_GFUR_double.seghist_local_60236", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_global_60236(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_60236, "calc_local_Skyline_GFUR_double.seghist_global_60236", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_small_72863(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_72863, "calc_local_Skyline_GFUR_double.segred_small_72863", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_large_72863(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_72863, "calc_local_Skyline_GFUR_double.segred_large_72863", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_60249(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_60249, "calc_local_Skyline_GFUR_double.segscan_60249", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60269(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_60269, "calc_local_Skyline_GFUR_double.segmap_60269", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegscan_57643(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_57643, "define_skyline_space_double.segscan_57643", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegred_nonseg_57653(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_57653, "define_skyline_space_double.segred_nonseg_57653", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegscan_57663(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_57663, "define_skyline_space_double.segscan_57663", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegred_nonseg_57673(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_57673, "define_skyline_space_double.segred_nonseg_57673", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_57693(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_57693, "define_skyline_space_double.segmap_57693", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_57719(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_57719, "define_skyline_space_double.segmap_57719", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_57806(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_57806, "define_skyline_space_double.segmap_57806", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_71694(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71694, "sort_for_Skyline_double.gpuseq_71694", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_71732(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71732, "sort_for_Skyline_double.gpuseq_71732", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_71780(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71780, "sort_for_Skyline_double.gpuseq_71780", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_71791(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_71791, "sort_for_Skyline_double.gpuseq_71791", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_61505(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_61505, "sort_for_Skyline_double.segmap_intrablock_61505", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_61581(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_61581, "sort_for_Skyline_double.segmap_intrablock_61581", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61637(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61637, "sort_for_Skyline_double.segmap_61637", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61653(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61653, "sort_for_Skyline_double.segmap_61653", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61665(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61665, "sort_for_Skyline_double.segmap_61665", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_71872(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_71872, "sort_for_Skyline_double.replicate_71872", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61678(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61678, "sort_for_Skyline_double.segmap_61678", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61698(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61698, "sort_for_Skyline_double.segmap_61698", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_71915(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_71915, "sort_for_Skyline_double.replicate_71915", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61711(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61711, "sort_for_Skyline_double.segmap_61711", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61731(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61731, "sort_for_Skyline_double.segmap_61731", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_71959(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_71959, "sort_for_Skyline_double.replicate_71959", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61744(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61744, "sort_for_Skyline_double.segmap_61744", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61773(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61773, "sort_for_Skyline_double.segmap_61773", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61784(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61784, "sort_for_Skyline_double.segmap_61784", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61804(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61804, "sort_for_Skyline_double.segmap_61804", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61819(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61819, "sort_for_Skyline_double.segmap_61819", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72037(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72037, "sort_for_Skyline_double.replicate_72037", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61841(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61841, "sort_for_Skyline_double.segmap_61841", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61889(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61889, "sort_for_Skyline_double.segmap_61889", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61899(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61899, "sort_for_Skyline_double.segmap_61899", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61923(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61923, "sort_for_Skyline_double.segmap_61923", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_61935(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_61935, "sort_for_Skyline_double.segmap_61935", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_61956(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_61956, "sort_for_Skyline_double.segred_nonseg_61956", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_72175(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_72175, "sort_for_Skyline_double.gpuseq_72175", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_62276(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_62276, "sort_for_Skyline_double.segmap_62276", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_62306(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[19] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15};
        size_t args_sizes[19] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_62306, "sort_for_Skyline_double.segmap_62306", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 19, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_62633(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, int64_t arg6, int64_t arg7, bool arg8, bool arg9, bool arg10, int64_t arg11, int64_t arg12, int64_t arg13, bool arg14, int64_t arg15, int64_t arg16, int64_t arg17, int64_t arg18, int64_t arg19, int64_t arg20, int64_t arg21, int64_t arg22, int64_t arg23, int64_t arg24, int64_t arg25, int64_t arg26, int32_t arg27, int32_t arg28, int32_t arg29, int32_t arg30, gpu_mem arg31, gpu_mem arg32, gpu_mem arg33, gpu_mem arg34, gpu_mem arg35, gpu_mem arg36)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[40] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29, &arg30, &arg31, &arg32, &arg33, &arg34, &arg35, &arg36};
        size_t args_sizes[40] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29), sizeof(arg30), sizeof(arg31), sizeof(arg32), sizeof(arg33), sizeof(arg34), sizeof(arg35), sizeof(arg36)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_62633, "sort_for_Skyline_double.segmap_intrablock_62633", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 40, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65178(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, bool arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65178, "sort_for_Skyline_double.segmap_65178", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65210(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65210, "sort_for_Skyline_double.segmap_65210", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65222(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65222, "sort_for_Skyline_double.segmap_65222", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65232(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65232, "sort_for_Skyline_double.segmap_65232", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65246(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65246, "sort_for_Skyline_double.segmap_65246", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65259(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65259, "sort_for_Skyline_double.segmap_65259", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65269(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65269, "sort_for_Skyline_double.segmap_65269", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72425(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72425, "sort_for_Skyline_double.replicate_72425", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72445(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72445, "sort_for_Skyline_double.replicate_72445", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72465(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72465, "sort_for_Skyline_double.replicate_72465", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65294(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[23] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19};
        size_t args_sizes[23] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65294, "sort_for_Skyline_double.segmap_65294", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 23, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_65373(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int64_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int64_t arg14, int64_t arg15, int64_t arg16, int32_t arg17, int32_t arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_65373, "sort_for_Skyline_double.segmap_intrablock_65373", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65638(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[14] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[14] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65638, "sort_for_Skyline_double.segmap_65638", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 14, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65759(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[28] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24};
        size_t args_sizes[28] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65759, "sort_for_Skyline_double.segmap_65759", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 28, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72623(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72623, "sort_for_Skyline_double.replicate_72623", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72646(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72646, "sort_for_Skyline_double.replicate_72646", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_72669(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[9] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_72669, "sort_for_Skyline_double.replicate_72669", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_65841(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_65841, "sort_for_Skyline_double.segmap_65841", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_local_65961(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, int32_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int32_t arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[31] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27};
        size_t args_sizes[31] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_65961, "sort_for_Skyline_double.seghist_local_65961", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 31, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_global_65961(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, int64_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[27] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23};
        size_t args_sizes[27] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_65961, "sort_for_Skyline_double.seghist_global_65961", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 27, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_small_72821(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_72821, "sort_for_Skyline_double.segred_small_72821", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_large_72821(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_72821, "sort_for_Skyline_double.segred_large_72821", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_66044(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_66044, "sort_for_Skyline_double.segred_nonseg_66044", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_67437(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[18] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14};
        size_t args_sizes[18] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67437, "sort_for_Skyline_double.segmap_intrablock_67437", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 18, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_67533(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67533, "sort_for_Skyline_double.segmap_intrablock_67533", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_67609(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_67609, "sort_for_Skyline_double.segmap_intrablock_67609", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67665(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67665, "sort_for_Skyline_double.segmap_67665", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67681(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67681, "sort_for_Skyline_double.segmap_67681", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67693(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67693, "sort_for_Skyline_double.segmap_67693", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73161(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73161, "sort_for_Skyline_double.replicate_73161", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67706(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67706, "sort_for_Skyline_double.segmap_67706", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67726(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67726, "sort_for_Skyline_double.segmap_67726", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73204(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73204, "sort_for_Skyline_double.replicate_73204", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67739(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67739, "sort_for_Skyline_double.segmap_67739", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67759(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67759, "sort_for_Skyline_double.segmap_67759", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73248(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73248, "sort_for_Skyline_double.replicate_73248", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67772(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67772, "sort_for_Skyline_double.segmap_67772", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67801(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67801, "sort_for_Skyline_double.segmap_67801", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67811(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67811, "sort_for_Skyline_double.segmap_67811", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegscan_67833(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_67833, "sort_for_Skyline_double.segscan_67833", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67863(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67863, "sort_for_Skyline_double.segmap_67863", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67875(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67875, "sort_for_Skyline_double.segmap_67875", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67886(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67886, "sort_for_Skyline_double.segmap_67886", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67909(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67909, "sort_for_Skyline_double.segmap_67909", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67929(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67929, "sort_for_Skyline_double.segmap_67929", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73464(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73464, "sort_for_Skyline_double.gpuseq_73464", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73471(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73471, "sort_for_Skyline_double.replicate_73471", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73491(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73491, "sort_for_Skyline_double.gpuseq_73491", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73497(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73497, "sort_for_Skyline_double.gpuseq_73497", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73504(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73504, "sort_for_Skyline_double.replicate_73504", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73524(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73524, "sort_for_Skyline_double.gpuseq_73524", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73530(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73530, "sort_for_Skyline_double.gpuseq_73530", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73537(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73537, "sort_for_Skyline_double.replicate_73537", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73557(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73557, "sort_for_Skyline_double.gpuseq_73557", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67949(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67949, "sort_for_Skyline_double.segmap_67949", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73574(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73574, "sort_for_Skyline_double.gpuseq_73574", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73581(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73581, "sort_for_Skyline_double.gpuseq_73581", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73587(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73587, "sort_for_Skyline_double.gpuseq_73587", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67969(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67969, "sort_for_Skyline_double.segmap_67969", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73602(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73602, "sort_for_Skyline_double.gpuseq_73602", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73609(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73609, "sort_for_Skyline_double.replicate_73609", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_67988(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_67988, "sort_for_Skyline_double.segmap_67988", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73641(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73641, "sort_for_Skyline_double.gpuseq_73641", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73647(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73647, "sort_for_Skyline_double.gpuseq_73647", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68009(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68009, "sort_for_Skyline_double.segmap_68009", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73664(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73664, "sort_for_Skyline_double.gpuseq_73664", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73670(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73670, "sort_for_Skyline_double.gpuseq_73670", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73677(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73677, "sort_for_Skyline_double.replicate_73677", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68031(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68031, "sort_for_Skyline_double.segmap_68031", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68051(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68051, "sort_for_Skyline_double.segmap_68051", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73715(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73715, "sort_for_Skyline_double.gpuseq_73715", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73722(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73722, "sort_for_Skyline_double.replicate_73722", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73742(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73742, "sort_for_Skyline_double.gpuseq_73742", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73748(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73748, "sort_for_Skyline_double.gpuseq_73748", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73755(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73755, "sort_for_Skyline_double.replicate_73755", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73775(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73775, "sort_for_Skyline_double.gpuseq_73775", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73781(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73781, "sort_for_Skyline_double.gpuseq_73781", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73788(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73788, "sort_for_Skyline_double.replicate_73788", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73808(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73808, "sort_for_Skyline_double.gpuseq_73808", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68071(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68071, "sort_for_Skyline_double.segmap_68071", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73825(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73825, "sort_for_Skyline_double.gpuseq_73825", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73832(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73832, "sort_for_Skyline_double.gpuseq_73832", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68091(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68091, "sort_for_Skyline_double.segmap_68091", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73847(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73847, "sort_for_Skyline_double.gpuseq_73847", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_73854(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_73854, "sort_for_Skyline_double.replicate_73854", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68110(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68110, "sort_for_Skyline_double.segmap_68110", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73886(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73886, "sort_for_Skyline_double.gpuseq_73886", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73892(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73892, "sort_for_Skyline_double.gpuseq_73892", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68131(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68131, "sort_for_Skyline_double.segmap_68131", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73909(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73909, "sort_for_Skyline_double.gpuseq_73909", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_73915(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_73915, "sort_for_Skyline_double.gpuseq_73915", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_local_68146(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int32_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_68146, "sort_for_Skyline_double.seghist_local_68146", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_global_68146(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_68146, "sort_for_Skyline_double.seghist_global_68146", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_small_74008(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_74008, "sort_for_Skyline_double.segred_small_74008", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_large_74008(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_74008, "sort_for_Skyline_double.segred_large_74008", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegscan_68159(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_68159, "sort_for_Skyline_double.segscan_68159", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_68179(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_68179, "sort_for_Skyline_double.segmap_68179", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
struct futhark_i64_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_2d {
    struct memblock_device mem;
    int64_t shape[2];
};
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const double *data, int64_t dim0, int64_t dim1)
{
    int err = 0;
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) (dim0 * dim1) * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0, int64_t dim1)
{
    int err = 0;
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) (arr->shape[0] * arr->shape[1]) * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_2d(struct futhark_context *ctx, double *out, struct futhark_f64_2d *arr, int64_t i0, int64_t i1)
{
    int err = 0;
    
    if ((i0 >= 0 && i0 < arr->shape[0]) && (i1 >= 0 && i1 < arr->shape[1])) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * arr->shape[1] + i1 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_bool_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_bool_1d *futhark_new_bool_1d(struct futhark_context *ctx, const bool *data, int64_t dim0)
{
    int err = 0;
    struct futhark_bool_1d *bad = NULL;
    struct futhark_bool_1d *arr = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 1);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_bool_1d *futhark_new_raw_bool_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_bool_1d *bad = NULL;
    struct futhark_bool_1d *arr = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr, bool *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 1);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_bool_1d(struct futhark_context *ctx, bool *out, struct futhark_bool_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 1 * (i0 * 1), 1);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_skylineBase_double {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_i64_1d *v2;
    struct futhark_f64_1d *v3;
    struct futhark_i64_1d *v4;
    struct futhark_f64_2d *v5;
    int64_t v6;
    int64_t v7;
    int64_t v8;
};
int futhark_project_opaque_skylineBase_double_angle_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_angle_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_part_size_per_dim(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v3, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v4, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_start_of_grid_partition(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_2d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_2d));
    memcpy(v, obj->v5, sizeof(struct futhark_f64_2d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_angle_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v6;
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_grid_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v7;
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_part_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v8;
    *out = v;
    return 0;
}
int futhark_new_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out, const struct futhark_i64_1d *f_angle_part_prefix_sum, const struct futhark_i64_1d *f_angle_partitions_per_dim, const struct futhark_i64_1d *f_grid_part_prefix_sum, const struct futhark_f64_1d *f_grid_part_sizze_per_dim, const struct futhark_i64_1d *f_grid_partitions_per_dim, const struct futhark_f64_2d *f_start_of_grid_partition, const int64_t f_total_angle_no, const int64_t f_total_grid_no, const int64_t f_total_part_no)
{
    struct futhark_opaque_skylineBase_double *v = malloc(sizeof(struct futhark_opaque_skylineBase_double));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_angle_part_prefix_sum;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_angle_partitions_per_dim;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_grid_part_prefix_sum;
        (void) (*v->v2->mem.references)++;
    }
    {
        v->v3 = malloc(sizeof(struct futhark_f64_1d));
        *v->v3 = *f_grid_part_sizze_per_dim;
        (void) (*v->v3->mem.references)++;
    }
    {
        v->v4 = malloc(sizeof(struct futhark_i64_1d));
        *v->v4 = *f_grid_partitions_per_dim;
        (void) (*v->v4->mem.references)++;
    }
    {
        v->v5 = malloc(sizeof(struct futhark_f64_2d));
        *v->v5 = *f_start_of_grid_partition;
        (void) (*v->v5->mem.references)++;
    }
    v->v6 = f_total_angle_no;
    v->v7 = f_total_grid_no;
    v->v8 = f_total_part_no;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v5)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_skylineBase_double(struct futhark_context *ctx, const struct futhark_opaque_skylineBase_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v3)[0] * sizeof(double);
    int64_t size_4 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v4)[0] * sizeof(int64_t);
    int64_t size_5 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v5)[0] * futhark_shape_f64_2d(ctx, obj->v5)[1] * sizeof(double);
    int64_t size_6 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    int64_t size_7 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    int64_t size_8 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v3)[0] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v4), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v4, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v4)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v5), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v5)[0] * futhark_shape_f64_2d(ctx, obj->v5)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v6, sizeof(obj->v6));
        out += sizeof(obj->v6);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v7, sizeof(obj->v7));
        out += sizeof(obj->v7);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v8, sizeof(obj->v8));
        out += sizeof(obj->v8);
    }
    return ret;
}
struct futhark_opaque_skylineBase_double *futhark_restore_opaque_skylineBase_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_skylineBase_double *obj = malloc(sizeof(struct futhark_opaque_skylineBase_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * sizeof(double);
    
    int64_t shape_4[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * sizeof(int64_t);
    
    int64_t shape_5[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * shape_5[1] * sizeof(double);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    src += sizeof(obj->v6);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    src += sizeof(obj->v7);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    src += sizeof(obj->v8);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f64_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_i64_1d(ctx, data_4, shape_4[0]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f64_2d(ctx, data_5, shape_5[0], shape_5[1]);
        if (obj->v5 == NULL)
            err = 1;
        memcpy(&obj->v6, data_6, sizeof(obj->v6));
        memcpy(&obj->v7, data_7, sizeof(obj->v7));
        memcpy(&obj->v8, data_8, sizeof(obj->v8));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v5)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_tup2_arr1d_f64_i64 {
    struct futhark_f64_1d *v0;
    int64_t v1;
};
int futhark_project_opaque_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v1;
    *out = v;
    return 0;
}
int futhark_new_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, const struct futhark_f64_1d *f_0, const int64_t f_1)
{
    struct futhark_opaque_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_f64_1d));
        *v->v0 = *f_0;
        (void) (*v->v0->mem.references)++;
    }
    v->v1 = f_1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v0)[0] * sizeof(double);
    int64_t size_1 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v0)[0] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v1, sizeof(obj->v1));
        out += sizeof(obj->v1);
    }
    return ret;
}
struct futhark_opaque_tup2_arr1d_f64_i64 *futhark_restore_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_tup2_arr1d_f64_i64 *obj = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(double);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    src += sizeof(obj->v1);
    if (err == 0) {
        obj->v0 = futhark_new_f64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        memcpy(&obj->v1, data_1, sizeof(obj->v1));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 {
    struct futhark_f64_2d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_f64_2d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_2d));
    memcpy(v, obj->v0, sizeof(struct futhark_f64_2d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_zip_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_f64_2d *f_0, const struct futhark_i64_1d *f_1)
{
    if (!(f_0->shape[0] == f_1->shape[0])) {
        set_error(ctx, strdup("Cannot zip arrays with different shapes."));
        return 1;
    }
    
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_f64_2d));
        *v->v0 = *f_0;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_1;
        (void) (*v->v1->mem.references)++;
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_index_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->v0->shape[0]) {
        struct futhark_opaque_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
        
        v->v0 = malloc(sizeof(*v->v0));
        v->v0->mem.references = NULL;
        if (memblock_alloc_device(ctx, &v->v0->mem, arr->v0->shape[1] * 8, "v->v0->mem"))
            err = 1;
        v->v0->shape[0] = arr->v0->shape[1];
        err = gpu_memcpy(ctx, v->v0->mem.mem, 0, arr->v0->mem.mem, 8 * (i0 * arr->v0->shape[1]), 8 * arr->v0->shape[1]);
        err = memcpy_gpu2host(ctx, false, (unsigned char *) &v->v1, 0, arr->v1->mem.mem, 8 * (i0 * 1), 8);
        if (err == 0)
            *out = v;
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
const int64_t *futhark_shape_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr)
{
    (void) ctx;
    return arr->v0->shape;
}
int futhark_free_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v0)[0] * futhark_shape_f64_2d(ctx, obj->v0)[1] * sizeof(double);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v0)[0] * futhark_shape_f64_2d(ctx, obj->v0)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *futhark_restore_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * sizeof(double);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_f64_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_skylineInfo_GFUR_double {
    struct futhark_bool_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_f64_2d *v2;
    struct futhark_i64_1d *v3;
};
int futhark_project_opaque_skylineInfo_GFUR_double_isPartitionDominated(struct futhark_context *ctx, struct futhark_bool_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_bool_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_bool_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_bool_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineInfo_GFUR_double_part_idx(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineInfo_GFUR_double_xys(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v2;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v3;
    (void) (*v->v1->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out, const struct futhark_bool_1d *f_isPartitionDominated, const struct futhark_i64_1d *f_part_idx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *f_xys)
{
    struct futhark_opaque_skylineInfo_GFUR_double *v = malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_bool_1d));
        *v->v0 = *f_isPartitionDominated;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_part_idx;
        (void) (*v->v1->mem.references)++;
    }
    {
        {
            v->v2 = malloc(sizeof(*f_xys->v0));
            *v->v2 = *f_xys->v0;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*f_xys->v1));
            *v->v3 = *f_xys->v1;
            (void) (*v->v3->mem.references)++;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_bool_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const struct futhark_opaque_skylineInfo_GFUR_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_bool_1d(ctx, obj->v0)[0] * sizeof(bool);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v2)[0] * futhark_shape_f64_2d(ctx, obj->v2)[1] * sizeof(double);
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v3)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2 + size_3;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "bool", 4);
        out += 4;
        memcpy(out, futhark_shape_bool_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_bool_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_bool_1d(ctx, obj->v0)[0] * sizeof(bool);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v2), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v2)[0] * futhark_shape_f64_2d(ctx, obj->v2)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v3)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_skylineInfo_GFUR_double *futhark_restore_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_skylineInfo_GFUR_double *obj = malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "bool", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(bool);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * shape_2[1] * sizeof(double);
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_bool_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_2d(ctx, data_2, shape_2[0], shape_2[1]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_i64_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_bool_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_builtinzhiota_i64(struct futhark_context *ctx, struct memblock_device mem_71656, int64_t n_71657, int64_t x_71658, int64_t s_71659)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t tblock_sizze_71665;
    
    tblock_sizze_71665 = *ctx->tuning_params.builtinzhiota_i64zitblock_sizze_71665;
    
    int64_t virt_num_tblocks_71666 = sdiv_up64(n_71657, tblock_sizze_71665);
    int64_t num_tblocks_71667 = smin64(virt_num_tblocks_71666, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhiota_i64ziiota_i64_71661(ctx, num_tblocks_71667, 1, 1, tblock_sizze_71665, 1, 1, (int64_t) 0, n_71657, x_71658, s_71659, virt_num_tblocks_71666, num_tblocks_71667, mem_71656.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_71759, int64_t num_elems_71760, bool val_71761)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t replicate_n_71763 = num_elems_71760;
    int64_t tblock_sizze_71768;
    
    tblock_sizze_71768 = *ctx->tuning_params.builtinzhreplicate_boolzitblock_sizze_71768;
    
    int64_t virt_num_tblocks_71769 = sdiv_up64(replicate_n_71763, tblock_sizze_71768);
    int64_t num_tblocks_71770 = smin64(virt_num_tblocks_71769, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_boolzireplicate_71764(ctx, num_tblocks_71770, 1, 1, tblock_sizze_71768, 1, 1, (int64_t) 0, num_elems_71760, val_71761, replicate_n_71763, virt_num_tblocks_71769, num_tblocks_71770, mem_71759.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_f64(struct futhark_context *ctx, struct memblock_device mem_71673, int64_t num_elems_71674, double val_71675)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t replicate_n_71677 = num_elems_71674;
    int64_t tblock_sizze_71682;
    
    tblock_sizze_71682 = *ctx->tuning_params.builtinzhreplicate_f64zitblock_sizze_71682;
    
    int64_t virt_num_tblocks_71683 = sdiv_up64(replicate_n_71677, tblock_sizze_71682);
    int64_t num_tblocks_71684 = smin64(virt_num_tblocks_71683, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_f64zireplicate_71678(ctx, num_tblocks_71684, 1, 1, tblock_sizze_71682, 1, 1, (int64_t) 0, num_elems_71674, val_71675, replicate_n_71677, virt_num_tblocks_71683, num_tblocks_71684, mem_71673.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_71738, int64_t num_elems_71739, int32_t val_71740)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t replicate_n_71742 = num_elems_71739;
    int64_t tblock_sizze_71747;
    
    tblock_sizze_71747 = *ctx->tuning_params.builtinzhreplicate_i32zitblock_sizze_71747;
    
    int64_t virt_num_tblocks_71748 = sdiv_up64(replicate_n_71742, tblock_sizze_71747);
    int64_t num_tblocks_71749 = smin64(virt_num_tblocks_71748, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i32zireplicate_71743(ctx, num_tblocks_71749, 1, 1, tblock_sizze_71747, 1, 1, (int64_t) 0, num_elems_71739, val_71740, replicate_n_71742, virt_num_tblocks_71748, num_tblocks_71749, mem_71738.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i64(struct futhark_context *ctx, struct memblock_device mem_71700, int64_t num_elems_71701, int64_t val_71702)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t replicate_n_71704 = num_elems_71701;
    int64_t tblock_sizze_71709;
    
    tblock_sizze_71709 = *ctx->tuning_params.builtinzhreplicate_i64zitblock_sizze_71709;
    
    int64_t virt_num_tblocks_71710 = sdiv_up64(replicate_n_71704, tblock_sizze_71709);
    int64_t num_tblocks_71711 = smin64(virt_num_tblocks_71710, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i64zireplicate_71705(ctx, num_tblocks_71711, 1, 1, tblock_sizze_71709, 1, 1, (int64_t) 0, num_elems_71701, val_71702, replicate_n_71704, virt_num_tblocks_71710, num_tblocks_71711, mem_71700.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i8(struct futhark_context *ctx, struct memblock_device mem_72945, int64_t num_elems_72946, int8_t val_72947)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t replicate_n_72949 = num_elems_72946;
    int64_t tblock_sizze_72954;
    
    tblock_sizze_72954 = *ctx->tuning_params.builtinzhreplicate_i8zitblock_sizze_72954;
    
    int64_t virt_num_tblocks_72955 = sdiv_up64(replicate_n_72949, tblock_sizze_72954);
    int64_t num_tblocks_72956 = smin64(virt_num_tblocks_72955, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i8zireplicate_72950(ctx, num_tblocks_72956, 1, 1, tblock_sizze_72954, 1, 1, (int64_t) 0, num_elems_72946, val_72947, replicate_n_72949, virt_num_tblocks_72955, num_tblocks_72956, mem_72945.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_74193, struct memblock_device *mem_out_p_74194, struct memblock_device *mem_out_p_74195, struct memblock_device *mem_out_p_74196, int64_t *out_prim_out_74197, int64_t *out_prim_out_74198, struct memblock_device angle_part_prefix_sum_mem_68610, struct memblock_device angle_partitions_per_dim_mem_68611, struct memblock_device grid_part_prefix_sum_mem_68612, struct memblock_device grid_part_sizze_per_dim_mem_68613, struct memblock_device grid_partitions_per_dim_mem_68614, struct memblock_device start_of_grid_partition_mem_68615, struct memblock_device isPartitionDominated_mem_68616, struct memblock_device part_idx_mem_68617, struct memblock_device xys_mem_68618, struct memblock_device xys_mem_68619, int64_t dim_45075, int64_t dz2080U_45076, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, int64_t dz2081U_45078, int64_t dz2082U_45079, int64_t dz2083U_45080, int64_t total_angle_no_45087, int64_t total_grid_no_45088, int64_t total_part_no_45089)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_69374;
    
    mem_69374.references = NULL;
    
    struct memblock_device incprefixes_mem_72948;
    
    incprefixes_mem_72948.references = NULL;
    
    struct memblock_device aggregates_mem_72946;
    
    aggregates_mem_72946.references = NULL;
    
    struct memblock_device status_flags_mem_72944;
    
    status_flags_mem_72944.references = NULL;
    
    struct memblock_device mem_69371;
    
    mem_69371.references = NULL;
    
    struct memblock_device segred_tmp_mem_72898;
    
    segred_tmp_mem_72898.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_72778;
    
    defunc_0_map_res_subhistos_mem_72778.references = NULL;
    
    struct memblock_device mem_param_tmp_72762;
    
    mem_param_tmp_72762.references = NULL;
    
    struct memblock_device mem_69355;
    
    mem_69355.references = NULL;
    
    struct memblock_device mem_param_69354;
    
    mem_param_69354.references = NULL;
    
    struct memblock_device ext_mem_69358;
    
    ext_mem_69358.references = NULL;
    
    struct memblock_device mem_param_tmp_72739;
    
    mem_param_tmp_72739.references = NULL;
    
    struct memblock_device mem_69341;
    
    mem_69341.references = NULL;
    
    struct memblock_device mem_param_69340;
    
    mem_param_69340.references = NULL;
    
    struct memblock_device ext_mem_69344;
    
    ext_mem_69344.references = NULL;
    
    struct memblock_device mem_69337;
    
    mem_69337.references = NULL;
    
    struct memblock_device mem_69320;
    
    mem_69320.references = NULL;
    
    struct memblock_device mem_69318;
    
    mem_69318.references = NULL;
    
    struct memblock_device mem_69317;
    
    mem_69317.references = NULL;
    
    struct memblock_device mem_69328;
    
    mem_69328.references = NULL;
    
    struct memblock_device ext_mem_69331;
    
    ext_mem_69331.references = NULL;
    
    struct memblock_device mem_69301;
    
    mem_69301.references = NULL;
    
    struct memblock_device mem_69309;
    
    mem_69309.references = NULL;
    
    struct memblock_device ext_mem_69312;
    
    ext_mem_69312.references = NULL;
    
    struct memblock_device mem_param_tmp_72678;
    
    mem_param_tmp_72678.references = NULL;
    
    struct memblock_device mem_69294;
    
    mem_69294.references = NULL;
    
    struct memblock_device mem_param_69293;
    
    mem_param_69293.references = NULL;
    
    struct memblock_device ext_mem_69297;
    
    ext_mem_69297.references = NULL;
    
    struct memblock_device mem_69275;
    
    mem_69275.references = NULL;
    
    struct memblock_device mem_69273;
    
    mem_69273.references = NULL;
    
    struct memblock_device mem_69260;
    
    mem_69260.references = NULL;
    
    struct memblock_device mem_69258;
    
    mem_69258.references = NULL;
    
    struct memblock_device mem_69245;
    
    mem_69245.references = NULL;
    
    struct memblock_device mem_69243;
    
    mem_69243.references = NULL;
    
    struct memblock_device mem_69254;
    
    mem_69254.references = NULL;
    
    struct memblock_device ext_mem_69257;
    
    ext_mem_69257.references = NULL;
    
    struct memblock_device mem_69269;
    
    mem_69269.references = NULL;
    
    struct memblock_device ext_mem_69272;
    
    ext_mem_69272.references = NULL;
    
    struct memblock_device mem_69242;
    
    mem_69242.references = NULL;
    
    struct memblock_device mem_69284;
    
    mem_69284.references = NULL;
    
    struct memblock_device ext_mem_69287;
    
    ext_mem_69287.references = NULL;
    
    struct memblock_device mem_69351;
    
    mem_69351.references = NULL;
    
    struct memblock_device mem_69314;
    
    mem_69314.references = NULL;
    
    struct memblock_device mem_69313;
    
    mem_69313.references = NULL;
    
    struct memblock_device mem_69299;
    
    mem_69299.references = NULL;
    
    struct memblock_device mem_69290;
    
    mem_69290.references = NULL;
    
    struct memblock_device mem_69233;
    
    mem_69233.references = NULL;
    
    struct memblock_device mem_69231;
    
    mem_69231.references = NULL;
    
    struct memblock_device mem_param_tmp_72517;
    
    mem_param_tmp_72517.references = NULL;
    
    struct memblock_device mem_69227;
    
    mem_69227.references = NULL;
    
    struct memblock_device mem_param_69226;
    
    mem_param_69226.references = NULL;
    
    struct memblock_device ext_mem_69230;
    
    ext_mem_69230.references = NULL;
    
    struct memblock_device mem_param_tmp_72494;
    
    mem_param_tmp_72494.references = NULL;
    
    struct memblock_device mem_69213;
    
    mem_69213.references = NULL;
    
    struct memblock_device mem_param_69212;
    
    mem_param_69212.references = NULL;
    
    struct memblock_device ext_mem_69216;
    
    ext_mem_69216.references = NULL;
    
    struct memblock_device mem_69209;
    
    mem_69209.references = NULL;
    
    struct memblock_device mem_69192;
    
    mem_69192.references = NULL;
    
    struct memblock_device mem_69190;
    
    mem_69190.references = NULL;
    
    struct memblock_device mem_69189;
    
    mem_69189.references = NULL;
    
    struct memblock_device mem_69200;
    
    mem_69200.references = NULL;
    
    struct memblock_device ext_mem_69203;
    
    ext_mem_69203.references = NULL;
    
    struct memblock_device mem_69186;
    
    mem_69186.references = NULL;
    
    struct memblock_device mem_69185;
    
    mem_69185.references = NULL;
    
    struct memblock_device mem_69184;
    
    mem_69184.references = NULL;
    
    struct memblock_device mem_69182;
    
    mem_69182.references = NULL;
    
    struct memblock_device ext_mem_69183;
    
    ext_mem_69183.references = NULL;
    
    struct memblock_device mem_69170;
    
    mem_69170.references = NULL;
    
    struct memblock_device mem_69178;
    
    mem_69178.references = NULL;
    
    struct memblock_device ext_mem_69181;
    
    ext_mem_69181.references = NULL;
    
    struct memblock_device mem_69168;
    
    mem_69168.references = NULL;
    
    struct memblock_device mem_69223;
    
    mem_69223.references = NULL;
    
    struct memblock_device mem_param_tmp_72427;
    
    mem_param_tmp_72427.references = NULL;
    
    struct memblock_device mem_69162;
    
    mem_69162.references = NULL;
    
    struct memblock_device mem_param_69161;
    
    mem_param_69161.references = NULL;
    
    struct memblock_device ext_mem_69165;
    
    ext_mem_69165.references = NULL;
    
    struct memblock_device mem_69158;
    
    mem_69158.references = NULL;
    
    struct memblock_device mem_69157;
    
    mem_69157.references = NULL;
    
    struct memblock_device mem_69142;
    
    mem_69142.references = NULL;
    
    struct memblock_device mem_69140;
    
    mem_69140.references = NULL;
    
    struct memblock_device mem_69127;
    
    mem_69127.references = NULL;
    
    struct memblock_device mem_69125;
    
    mem_69125.references = NULL;
    
    struct memblock_device mem_69112;
    
    mem_69112.references = NULL;
    
    struct memblock_device mem_69110;
    
    mem_69110.references = NULL;
    
    struct memblock_device mem_69121;
    
    mem_69121.references = NULL;
    
    struct memblock_device ext_mem_69124;
    
    ext_mem_69124.references = NULL;
    
    struct memblock_device mem_69136;
    
    mem_69136.references = NULL;
    
    struct memblock_device ext_mem_69139;
    
    ext_mem_69139.references = NULL;
    
    struct memblock_device mem_69109;
    
    mem_69109.references = NULL;
    
    struct memblock_device mem_69151;
    
    mem_69151.references = NULL;
    
    struct memblock_device ext_mem_69154;
    
    ext_mem_69154.references = NULL;
    
    struct memblock_device mem_69364;
    
    mem_69364.references = NULL;
    
    struct memblock_device ext_mem_69367;
    
    ext_mem_69367.references = NULL;
    
    struct memblock_device mem_69103;
    
    mem_69103.references = NULL;
    
    struct memblock_device mem_69100;
    
    mem_69100.references = NULL;
    
    struct memblock_device mem_69096;
    
    mem_69096.references = NULL;
    
    struct memblock_device mem_69093;
    
    mem_69093.references = NULL;
    
    struct memblock_device mem_68630;
    
    mem_68630.references = NULL;
    
    struct memblock_device incprefixes_mem_72166;
    
    incprefixes_mem_72166.references = NULL;
    
    struct memblock_device aggregates_mem_72164;
    
    aggregates_mem_72164.references = NULL;
    
    struct memblock_device status_flags_mem_72142;
    
    status_flags_mem_72142.references = NULL;
    
    struct memblock_device mem_69091;
    
    mem_69091.references = NULL;
    
    struct memblock_device mem_69089;
    
    mem_69089.references = NULL;
    
    struct memblock_device mem_param_tmp_72000;
    
    mem_param_tmp_72000.references = NULL;
    
    struct memblock_device mem_69083;
    
    mem_69083.references = NULL;
    
    struct memblock_device mem_param_tmp_72079;
    
    mem_param_tmp_72079.references = NULL;
    
    struct memblock_device mem_69039;
    
    mem_69039.references = NULL;
    
    struct memblock_device mem_69027;
    
    mem_69027.references = NULL;
    
    struct memblock_device mem_69005;
    
    mem_69005.references = NULL;
    
    struct memblock_device mem_param_69001;
    
    mem_param_69001.references = NULL;
    
    struct memblock_device ext_mem_69043;
    
    ext_mem_69043.references = NULL;
    
    struct memblock_device mem_68988;
    
    mem_68988.references = NULL;
    
    struct memblock_device mem_68970;
    
    mem_68970.references = NULL;
    
    struct memblock_device mem_68959;
    
    mem_68959.references = NULL;
    
    struct memblock_device mem_68948;
    
    mem_68948.references = NULL;
    
    struct memblock_device mem_68945;
    
    mem_68945.references = NULL;
    
    struct memblock_device mem_68991;
    
    mem_68991.references = NULL;
    
    struct memblock_device ext_mem_68994;
    
    ext_mem_68994.references = NULL;
    
    struct memblock_device mem_68926;
    
    mem_68926.references = NULL;
    
    struct memblock_device mem_68934;
    
    mem_68934.references = NULL;
    
    struct memblock_device ext_mem_68937;
    
    ext_mem_68937.references = NULL;
    
    struct memblock_device mem_param_68924;
    
    mem_param_68924.references = NULL;
    
    struct memblock_device ext_mem_69086;
    
    ext_mem_69086.references = NULL;
    
    struct memblock_device color_71395;
    
    color_71395.references = NULL;
    
    struct memblock_device color_71394;
    
    color_71394.references = NULL;
    
    struct memblock_device mem_69058;
    
    mem_69058.references = NULL;
    
    struct memblock_device mem_69047;
    
    mem_69047.references = NULL;
    
    struct memblock_device mem_69016;
    
    mem_69016.references = NULL;
    
    struct memblock_device mem_68997;
    
    mem_68997.references = NULL;
    
    struct memblock_device mem_68921;
    
    mem_68921.references = NULL;
    
    struct memblock_device mem_68910;
    
    mem_68910.references = NULL;
    
    struct memblock_device mem_68908;
    
    mem_68908.references = NULL;
    
    struct memblock_device mem_68906;
    
    mem_68906.references = NULL;
    
    struct memblock_device mem_68895;
    
    mem_68895.references = NULL;
    
    struct memblock_device mem_68840;
    
    mem_68840.references = NULL;
    
    struct memblock_device mem_68822;
    
    mem_68822.references = NULL;
    
    struct memblock_device mem_68811;
    
    mem_68811.references = NULL;
    
    struct memblock_device mem_68800;
    
    mem_68800.references = NULL;
    
    struct memblock_device mem_68797;
    
    mem_68797.references = NULL;
    
    struct memblock_device mem_68756;
    
    mem_68756.references = NULL;
    
    struct memblock_device mem_68738;
    
    mem_68738.references = NULL;
    
    struct memblock_device mem_68727;
    
    mem_68727.references = NULL;
    
    struct memblock_device mem_68716;
    
    mem_68716.references = NULL;
    
    struct memblock_device mem_68713;
    
    mem_68713.references = NULL;
    
    struct memblock_device mem_68685;
    
    mem_68685.references = NULL;
    
    struct memblock_device mem_68667;
    
    mem_68667.references = NULL;
    
    struct memblock_device mem_68656;
    
    mem_68656.references = NULL;
    
    struct memblock_device mem_68645;
    
    mem_68645.references = NULL;
    
    struct memblock_device mem_68642;
    
    mem_68642.references = NULL;
    
    struct memblock_device mem_68639;
    
    mem_68639.references = NULL;
    
    struct memblock_device mem_68701;
    
    mem_68701.references = NULL;
    
    struct memblock_device ext_mem_68704;
    
    ext_mem_68704.references = NULL;
    
    struct memblock_device mem_68707;
    
    mem_68707.references = NULL;
    
    struct memblock_device ext_mem_68710;
    
    ext_mem_68710.references = NULL;
    
    struct memblock_device mem_68785;
    
    mem_68785.references = NULL;
    
    struct memblock_device ext_mem_68788;
    
    ext_mem_68788.references = NULL;
    
    struct memblock_device mem_68791;
    
    mem_68791.references = NULL;
    
    struct memblock_device ext_mem_68794;
    
    ext_mem_68794.references = NULL;
    
    struct memblock_device mem_68882;
    
    mem_68882.references = NULL;
    
    struct memblock_device ext_mem_68885;
    
    ext_mem_68885.references = NULL;
    
    struct memblock_device mem_68888;
    
    mem_68888.references = NULL;
    
    struct memblock_device ext_mem_68891;
    
    ext_mem_68891.references = NULL;
    
    struct memblock_device mem_68631;
    
    mem_68631.references = NULL;
    
    struct memblock_device mem_68626;
    
    mem_68626.references = NULL;
    
    struct memblock_device mem_68627;
    
    mem_68627.references = NULL;
    
    struct memblock_device ext_mem_68628;
    
    ext_mem_68628.references = NULL;
    
    struct memblock_device mem_68625;
    
    mem_68625.references = NULL;
    
    struct memblock_device segred_tmp_mem_71679;
    
    segred_tmp_mem_71679.references = NULL;
    
    struct memblock_device mem_68623;
    
    mem_68623.references = NULL;
    
    struct memblock_device mem_68621;
    
    mem_68621.references = NULL;
    
    struct memblock_device mem_out_71652;
    
    mem_out_71652.references = NULL;
    
    struct memblock_device mem_out_71651;
    
    mem_out_71651.references = NULL;
    
    struct memblock_device mem_out_71650;
    
    mem_out_71650.references = NULL;
    
    struct memblock_device mem_out_71649;
    
    mem_out_71649.references = NULL;
    
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t prim_out_71653;
    int64_t prim_out_71654;
    int64_t arg_50455 = sub64(dim_45075, (int64_t) 1);
    bool assert_cond_50456 = arg_50455 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077;
    bool assert_c_50457;
    
    if (!assert_cond_50456) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  ftSkyline.fut:731:10-733:27\n   #1  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zeze_rhs_50459 = sub64(dz2082U_45079, (int64_t) 1);
    int64_t segred_tblock_sizze_57831;
    
    segred_tblock_sizze_57831 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830;
    
    int64_t num_tblocks_57833;
    int64_t max_num_tblocks_71655;
    
    max_num_tblocks_71655 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_num_tblocks_57832;
    num_tblocks_57833 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2082U_45079, segred_tblock_sizze_57831), max_num_tblocks_71655)));
    
    int64_t bytes_68622 = (int64_t) 8 * dz2082U_45079;
    
    if (memblock_alloc_device(ctx, &mem_68621, (int64_t) 8, "mem_68621")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68623, bytes_68622, "mem_68623")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_71656 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_71679, (int64_t) 8 * num_tblocks_57833, "segred_tmp_mem_71679")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_71681 = num_tblocks_57833 * segred_tblock_sizze_57831;
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_nonseg_57839(ctx, num_tblocks_57833, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_57830, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_57831 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_57831, (int64_t) 8), (int64_t) 8)), dz2082U_45079, dz2083U_45080, zeze_rhs_50459, num_tblocks_57833, num_threads_71681, part_idx_mem_68617.mem, mem_68621.mem, mem_68623.mem, counters_mem_71657.mem, segred_tmp_mem_71679.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t read_res_74199;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_74199, mem_68621.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_0_reduce_res_57567 = read_res_74199;
    
    if (memblock_unref_device(ctx, &mem_68621, "mem_68621") != 0)
        return 1;
    
    int64_t bytes_68624 = (int64_t) 8 * dz2083U_45080;
    
    if (memblock_alloc_device(ctx, &mem_68625, bytes_68624, "mem_68625")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_68625, dz2083U_45080, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_50488 = slt64(defunc_0_reduce_res_57567, (int64_t) 0);
    bool valid_50489 = !bounds_invalid_upwards_50488;
    bool range_valid_c_50490;
    
    if (!valid_50489) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) defunc_0_reduce_res_57567, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  ftSkyline.fut:357:65-83\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_50491 = slt64((int64_t) 0, defunc_0_reduce_res_57567);
    bool y_50492 = slt64((int64_t) 0, dz2080U_45076);
    bool loop_not_taken_50493 = !loop_nonempty_50491;
    bool protect_assert_disj_50494 = y_50492 || loop_not_taken_50493;
    bool index_certs_50495;
    
    if (!protect_assert_disj_50494) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45076, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_50496 = dim_45075 == (int64_t) 0;
    bool cond_50498 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077 == (int64_t) 0;
    bool protect_assert_disj_50500 = assert_cond_50456 || loop_not_taken_50493;
    bool empty_or_match_cert_50501;
    
    if (!protect_assert_disj_50500) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_50504 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077);
    bool bounds_invalid_upwards_50505 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, (int64_t) 1);
    int64_t distance_50506 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, (int64_t) 1);
    bool y_50507 = slt64((int64_t) 0, dim_45075);
    bool bounds_invalid_upwards_50508 = slt64(dim_45075, (int64_t) 1);
    bool protect_assert_disj_50509 = cond_50498 || y_50504;
    bool protect_assert_disj_50510 = loop_not_taken_50493 || protect_assert_disj_50509;
    bool index_certs_50511;
    
    if (!protect_assert_disj_50510) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_50512 = !bounds_invalid_upwards_50505;
    bool protect_assert_disj_50513 = cond_50496 || y_50507;
    bool protect_assert_disj_50514 = loop_not_taken_50493 || protect_assert_disj_50513;
    bool index_certs_50515;
    
    if (!protect_assert_disj_50514) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_50516 = !bounds_invalid_upwards_50508;
    bool x_50518 = !cond_50498;
    bool protect_cond_conj_50519 = loop_nonempty_50491 && x_50518;
    double defunc_0_f_res_50520;
    
    if (protect_cond_conj_50519) {
        double x_57221;
        
        if (futrts_lifted_lambda_10000(ctx, &x_57221, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dim_45075, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_50520 = x_57221;
    } else {
        defunc_0_f_res_50520 = 0.0;
    }
    
    bool protect_assert_disj_50522 = cond_50498 || valid_50512;
    bool protect_assert_disj_50523 = loop_not_taken_50493 || protect_assert_disj_50522;
    bool range_valid_c_50524;
    
    if (!protect_assert_disj_50523) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_50525 = cond_50496 || valid_50516;
    bool protect_assert_disj_50526 = loop_not_taken_50493 || protect_assert_disj_50525;
    bool range_valid_c_50527;
    
    if (!protect_assert_disj_50526) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45075, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_50528;
    
    if (!protect_assert_disj_50526) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45075, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_55909;
    
    if (!protect_assert_disj_50514) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_56032 = !cond_50496;
    bool protect_cond_conj_56037 = loop_nonempty_50491 && x_56032;
    
    if (protect_cond_conj_56037) {
        if (memblock_alloc_device(ctx, &mem_68627, (int64_t) 8, "mem_68627")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_71727(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, mem_68627.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68628, &mem_68627, "mem_68627") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_68626, (int64_t) 8, "mem_68626")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_68626, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68628, &mem_68626, "mem_68626") != 0)
            return 1;
    }
    
    int64_t max_tblock_sizze_59322;
    
    max_tblock_sizze_59322 = ctx->max_thread_block_size;
    
    bool suff_intra_par_59325;
    
    suff_intra_par_59325 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_0 <= dim_45075;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_0", (long) dim_45075, suff_intra_par_59325 ? "true" : "false");
    
    bool suff_intra_par_59401;
    
    suff_intra_par_59401 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_1 <= dim_45075;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_1", (long) dim_45075, suff_intra_par_59401 ? "true" : "false");
    
    bool suff_intra_par_59458;
    
    suff_intra_par_59458 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_2 <= dim_45075;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_2", (long) dim_45075, suff_intra_par_59458 ? "true" : "false");
    
    int64_t nest_sizze_59497 = dim_45075 * dz2083U_45080;
    int64_t segmap_tblock_sizze_59498;
    
    segmap_tblock_sizze_59498 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862;
    
    int64_t segmap_tblock_sizze_59514;
    
    segmap_tblock_sizze_59514 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829;
    
    int64_t segmap_tblock_sizze_59525;
    
    segmap_tblock_sizze_59525 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807;
    
    int64_t segmap_tblock_sizze_59537;
    
    segmap_tblock_sizze_59537 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781;
    
    int64_t segmap_tblock_sizze_59558;
    
    segmap_tblock_sizze_59558 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686;
    
    int64_t segmap_tblock_sizze_59570;
    
    segmap_tblock_sizze_59570 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660;
    
    int64_t segmap_tblock_sizze_59591;
    
    segmap_tblock_sizze_59591 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533;
    
    int64_t segmap_tblock_sizze_59603;
    
    segmap_tblock_sizze_59603 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504;
    
    int64_t segmap_tblock_sizze_59632;
    
    segmap_tblock_sizze_59632 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327;
    
    int64_t segmap_usable_groups_59633 = sdiv_up_safe64(nest_sizze_59497, segmap_tblock_sizze_59632);
    int64_t segmap_tblock_sizze_59643;
    
    segmap_tblock_sizze_59643 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298;
    
    int64_t segmap_usable_groups_59644 = sdiv_up_safe64(dz2083U_45080, segmap_tblock_sizze_59643);
    int64_t segmap_tblock_sizze_59663;
    
    segmap_tblock_sizze_59663 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228;
    
    int64_t segmap_tblock_sizze_59678;
    
    segmap_tblock_sizze_59678 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202;
    
    int64_t segmap_tblock_sizze_59700;
    
    segmap_tblock_sizze_59700 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156;
    
    int64_t segmap_tblock_sizze_59748;
    
    segmap_tblock_sizze_59748 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073;
    
    int64_t segmap_tblock_sizze_59758;
    
    segmap_tblock_sizze_59758 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042;
    
    int64_t num_tblocks_59759;
    int64_t max_num_tblocks_71753;
    
    max_num_tblocks_71753 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58044;
    num_tblocks_59759 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59758), max_num_tblocks_71753)));
    
    int64_t nest_sizze_59781 = dz2083U_45080 * arg_50455;
    int64_t segmap_tblock_sizze_59782;
    
    segmap_tblock_sizze_59782 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006;
    
    int64_t segmap_usable_groups_59783 = sdiv_up_safe64(nest_sizze_59781, segmap_tblock_sizze_59782);
    int64_t segmap_tblock_sizze_59795;
    
    segmap_tblock_sizze_59795 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891;
    
    int64_t segmap_usable_groups_59796 = sdiv_up_safe64(dz2083U_45080, segmap_tblock_sizze_59795);
    bool fits_59323 = sle64(dim_45075, max_tblock_sizze_59322);
    int64_t num_tblocks_59604;
    int64_t max_num_tblocks_71754;
    
    max_num_tblocks_71754 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58506;
    num_tblocks_59604 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59603), max_num_tblocks_71754)));
    
    int64_t num_tblocks_59571;
    int64_t max_num_tblocks_71755;
    
    max_num_tblocks_71755 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58662;
    num_tblocks_59571 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59570), max_num_tblocks_71755)));
    
    int64_t num_tblocks_59538;
    int64_t max_num_tblocks_71756;
    
    max_num_tblocks_71756 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58783;
    num_tblocks_59538 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59537), max_num_tblocks_71756)));
    
    int64_t segmap_usable_groups_59664 = sdiv_up_safe64(nest_sizze_59497, segmap_tblock_sizze_59663);
    int64_t segmap_usable_groups_59679 = sdiv_up_safe64(nest_sizze_59497, segmap_tblock_sizze_59678);
    int64_t num_tblocks_59701;
    int64_t max_num_tblocks_71757;
    
    max_num_tblocks_71757 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_58158;
    num_tblocks_59701 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59700), max_num_tblocks_71757)));
    
    bool intra_suff_and_fits_59326 = fits_59323 && suff_intra_par_59325;
    bool intra_suff_and_fits_59402 = fits_59323 && suff_intra_par_59401;
    bool intra_suff_and_fits_59459 = fits_59323 && suff_intra_par_59458;
    int64_t segmap_usable_groups_59499 = sdiv_up_safe64(nest_sizze_59497, segmap_tblock_sizze_59498);
    int64_t segmap_usable_groups_59515 = sdiv_up_safe64(nest_sizze_59497, segmap_tblock_sizze_59514);
    int64_t segmap_usable_groups_59526 = sdiv_up_safe64(dz2083U_45080, segmap_tblock_sizze_59525);
    int64_t segmap_usable_groups_59559 = sdiv_up_safe64(dz2083U_45080, segmap_tblock_sizze_59558);
    int64_t segmap_usable_groups_59592 = sdiv_up_safe64(dz2083U_45080, segmap_tblock_sizze_59591);
    int64_t segscan_tblock_sizze_59898;
    
    segscan_tblock_sizze_59898 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897;
    
    int64_t num_tblocks_59900;
    int64_t max_num_tblocks_71758;
    
    max_num_tblocks_71758 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_59899;
    num_tblocks_59900 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segscan_tblock_sizze_59898), max_num_tblocks_71758)));
    
    bool cond_50795 = dz2083U_45080 == (int64_t) 0;
    bool x_50796 = !cond_50795;
    int64_t tmp_50797 = sub64(dz2083U_45080, (int64_t) 1);
    bool x_50798 = sle64((int64_t) 0, tmp_50797);
    bool y_50799 = slt64(tmp_50797, dz2083U_45080);
    bool bounds_check_50800 = x_50798 && y_50799;
    bool protect_assert_disj_50801 = cond_50795 || bounds_check_50800;
    bool index_certs_50802;
    
    if (!protect_assert_disj_50801) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_50797, "] out of bounds for array of shape [", (long long) dz2083U_45080, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_51194 = slt64(total_part_no_45089, (int64_t) 0);
    bool valid_51195 = !bounds_invalid_upwards_51194;
    bool range_valid_c_51196;
    
    if (!valid_51195) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) total_part_no_45089, " is invalid.", "-> #0  /prelude/soacs.fut:133:41-49\n   #1  ftSkyline.fut:390:74-92\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_68629 = (int64_t) 8 * total_part_no_45089;
    
    if (memblock_alloc_device(ctx, &mem_68631, (int64_t) 8, "mem_68631")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_71759(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_68628.mem, mem_68631.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_68628, "ext_mem_68628") != 0)
        return 1;
    
    int64_t ext_68884;
    int64_t shared_memory_capacity_71765;
    
    shared_memory_capacity_71765 = ctx->max_shared_memory;
    if (intra_suff_and_fits_59326) {
        ext_68884 = dim_45075;
    } else {
        ext_68884 = (int64_t) 1;
    }
    
    int64_t ext_68883;
    int64_t shared_memory_capacity_71766;
    
    shared_memory_capacity_71766 = ctx->max_shared_memory;
    if (intra_suff_and_fits_59326) {
        ext_68883 = (int64_t) 1;
    } else {
        ext_68883 = dz2083U_45080;
    }
    
    int64_t ext_68787;
    int64_t shared_memory_capacity_71767;
    
    shared_memory_capacity_71767 = ctx->max_shared_memory;
    if (intra_suff_and_fits_59402) {
        ext_68787 = dim_45075;
    } else {
        ext_68787 = (int64_t) 1;
    }
    
    int64_t ext_68786;
    int64_t shared_memory_capacity_71768;
    
    shared_memory_capacity_71768 = ctx->max_shared_memory;
    if (intra_suff_and_fits_59402) {
        ext_68786 = (int64_t) 1;
    } else {
        ext_68786 = dz2083U_45080;
    }
    
    int64_t ext_68703;
    int64_t shared_memory_capacity_71769;
    
    shared_memory_capacity_71769 = ctx->max_shared_memory;
    if (intra_suff_and_fits_59459) {
        ext_68703 = dim_45075;
    } else {
        ext_68703 = (int64_t) 1;
    }
    
    int64_t ext_68702;
    int64_t shared_memory_capacity_71770;
    
    shared_memory_capacity_71770 = ctx->max_shared_memory;
    if (intra_suff_and_fits_59459) {
        ext_68702 = (int64_t) 1;
    } else {
        ext_68702 = dz2083U_45080;
    }
    
    int64_t bytes_68634 = dim_45075 * bytes_68624;
    int64_t binop_x_68643 = (int64_t) 8 * dim_45075;
    int64_t bytes_68644 = dz2083U_45080 * binop_x_68643;
    int64_t binop_x_68648 = smax64((int64_t) 0, tmp_50797);
    int64_t binop_x_68650 = smax64((int64_t) 0, arg_50455);
    int64_t binop_y_68651 = dz2083U_45080 * binop_x_68650;
    int64_t binop_y_68652 = smax64((int64_t) 0, binop_y_68651);
    int64_t binop_y_68653 = binop_x_68648 + binop_y_68652;
    int64_t binop_y_68654 = (int64_t) 1 + binop_y_68653;
    int64_t bytes_68655 = (int64_t) 8 * binop_y_68654;
    int64_t binop_y_68682 = binop_x_68648 + binop_y_68652;
    int64_t binop_y_68683 = (int64_t) 1 + binop_y_68682;
    int64_t bytes_68684 = (int64_t) 8 * binop_y_68683;
    int64_t binop_y_68753 = binop_x_68648 + binop_y_68652;
    int64_t binop_y_68754 = (int64_t) 1 + binop_y_68753;
    int64_t bytes_68755 = (int64_t) 8 * binop_y_68754;
    int64_t binop_y_68837 = binop_x_68648 + binop_y_68652;
    int64_t binop_y_68838 = (int64_t) 1 + binop_y_68837;
    int64_t bytes_68839 = (int64_t) 8 * binop_y_68838;
    int64_t ext_68890;
    
    if (cond_50496) {
        ext_68890 = dim_45075;
    } else {
        ext_68890 = ext_68884;
    }
    
    int64_t ext_68889;
    
    if (cond_50496) {
        ext_68889 = (int64_t) 1;
    } else {
        ext_68889 = ext_68883;
    }
    
    int64_t ext_68793;
    
    if (cond_50496) {
        ext_68793 = dim_45075;
    } else {
        ext_68793 = ext_68787;
    }
    
    int64_t ext_68792;
    
    if (cond_50496) {
        ext_68792 = (int64_t) 1;
    } else {
        ext_68792 = ext_68786;
    }
    
    int64_t ext_68709;
    
    if (cond_50496) {
        ext_68709 = dim_45075;
    } else {
        ext_68709 = ext_68703;
    }
    
    int64_t ext_68708;
    
    if (cond_50496) {
        ext_68708 = (int64_t) 1;
    } else {
        ext_68708 = ext_68702;
    }
    
    int64_t maxSubHelper_71383 = umax64((int64_t) 0, binop_x_68643);
    
    if (cond_50496) {
        if (memblock_alloc_device(ctx, &mem_68888, bytes_68634, "mem_68888")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68891, &mem_68888, "mem_68888") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_71978;
        
        shared_memory_capacity_71978 = ctx->max_shared_memory;
        if (intra_suff_and_fits_59326 && sle64(sdiv_up64(maxSubHelper_71383, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_71978)) {
            if (memblock_alloc_device(ctx, &mem_68882, bytes_68634, "mem_68882")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_71771 = sext_i64_i32(sdiv_up64(dim_45075, dim_45075));
            int32_t virt_num_tblocks_71772 = sext_i64_i32(dz2083U_45080);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_59330(ctx, dz2083U_45080, 1, 1, dim_45075, 1, 1, binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8) + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8)) + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8)) + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71383 + srem64((int64_t) 8 - srem64(maxSubHelper_71383, (int64_t) 8), (int64_t) 8)), dim_45075, dz2083U_45080, arg_50455, cond_50496, binop_x_68643, maxSubHelper_71383, grid_part_sizze_per_dim_mem_68613.mem, grid_partitions_per_dim_mem_68614.mem, start_of_grid_partition_mem_68615.mem, xys_mem_68618.mem, mem_68631.mem, mem_68882.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_68885, &mem_68882, "mem_68882") != 0)
                return 1;
        } else {
            if (cond_50496) {
                if (memblock_alloc_device(ctx, &mem_68791, bytes_68634, "mem_68791")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_68794, &mem_68791, "mem_68791") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_71934;
                
                shared_memory_capacity_71934 = ctx->max_shared_memory;
                if (intra_suff_and_fits_59402 && sle64(sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_71934)) {
                    if (memblock_alloc_device(ctx, &mem_68785, bytes_68634, "mem_68785")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_71792 = sext_i64_i32(sdiv_up64(dim_45075, dim_45075));
                    int32_t virt_num_tblocks_71793 = sext_i64_i32(dz2083U_45080);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_59406(ctx, dz2083U_45080, 1, 1, dim_45075, 1, 1, binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8) + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8)) + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8)), dim_45075, dz2083U_45080, arg_50455, cond_50496, binop_x_68643, grid_part_sizze_per_dim_mem_68613.mem, start_of_grid_partition_mem_68615.mem, xys_mem_68618.mem, mem_68785.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_68788, &mem_68785, "mem_68785") != 0)
                        return 1;
                } else {
                    if (cond_50496) {
                        if (memblock_alloc_device(ctx, &mem_68707, bytes_68634, "mem_68707")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_68710, &mem_68707, "mem_68707") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_71890;
                        
                        shared_memory_capacity_71890 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_59459 && sle64(sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68643, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_71890)) {
                            if (memblock_alloc_device(ctx, &mem_68701, bytes_68634, "mem_68701")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_71810 = sext_i64_i32(sdiv_up64(dim_45075, dim_45075));
                            int32_t virt_num_tblocks_71811 = sext_i64_i32(dz2083U_45080);
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_59463(ctx, dz2083U_45080, 1, 1, dim_45075, 1, 1, binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8) + (binop_x_68643 + srem64((int64_t) 8 - srem64(binop_x_68643, (int64_t) 8), (int64_t) 8)), dim_45075, dz2083U_45080, arg_50455, binop_x_68643, grid_part_sizze_per_dim_mem_68613.mem, start_of_grid_partition_mem_68615.mem, xys_mem_68618.mem, mem_68701.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_68704, &mem_68701, "mem_68701") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_68639, bytes_68634, "mem_68639")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_71825 = sext_i64_i32(sdiv_up64(dz2083U_45080 * dim_45075, segmap_tblock_sizze_59498));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59503(ctx, segmap_usable_groups_59499, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58862, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, start_of_grid_partition_mem_68615.mem, xys_mem_68618.mem, mem_68639.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_71836 = sext_i64_i32(sdiv_up64(dz2083U_45080 * dim_45075, segmap_tblock_sizze_59514));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59519(ctx, segmap_usable_groups_59515, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58829, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, grid_part_sizze_per_dim_mem_68613.mem, mem_68639.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_68642, bytes_68624, "mem_68642")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_71847 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59525));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59529(ctx, segmap_usable_groups_59526, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58807, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, mem_68639.mem, mem_68642.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_68645, bytes_68644, "mem_68645")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_71856 = dim_45075 * dz2083U_45080;
                            int64_t tblock_sizze_71861;
                            
                            tblock_sizze_71861 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_71861;
                            
                            int64_t virt_num_tblocks_71862 = sdiv_up64(replicate_n_71856, tblock_sizze_71861);
                            int64_t num_tblocks_71863 = smin64(virt_num_tblocks_71862, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_71857(ctx, num_tblocks_71863, 1, 1, tblock_sizze_71861, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, replicate_n_71856, virt_num_tblocks_71862, num_tblocks_71863, mem_68642.mem, mem_68645.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_68642, "mem_68642") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_68656, bytes_68655, "mem_68656")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68656.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68645.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_68645, "mem_68645") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_68667, bytes_68655, "mem_68667")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68667.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68639.mem, (int64_t) 0, (int64_t []) {dim_45075, (int64_t) 1}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_68639, "mem_68639") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_68685, bytes_68684, "mem_68685")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_71876 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59537));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59542(ctx, num_tblocks_59538, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58781, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, arg_50455, num_tblocks_59538, virt_num_tblocks_71876, mem_68656.mem, mem_68667.mem, mem_68685.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_68656, "mem_68656") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_68667, "mem_68667") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_68704, &mem_68685, "mem_68685") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_68710, &ext_mem_68704, "ext_mem_68704") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_68713, bytes_68624, "mem_68713")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_71891 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59558));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59562(ctx, segmap_usable_groups_59559, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58686, 1, 1, (int64_t) 0, dz2083U_45080, ext_68709, ext_mem_68710.mem, mem_68713.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_68716, bytes_68644, "mem_68716")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_71900 = dim_45075 * dz2083U_45080;
                    int64_t tblock_sizze_71905;
                    
                    tblock_sizze_71905 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_71905;
                    
                    int64_t virt_num_tblocks_71906 = sdiv_up64(replicate_n_71900, tblock_sizze_71905);
                    int64_t num_tblocks_71907 = smin64(virt_num_tblocks_71906, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_71901(ctx, num_tblocks_71907, 1, 1, tblock_sizze_71905, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, replicate_n_71900, virt_num_tblocks_71906, num_tblocks_71907, mem_68713.mem, mem_68716.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_68713, "mem_68713") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68727, bytes_68655, "mem_68727")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68727.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68716.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_68716, "mem_68716") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68738, bytes_68655, "mem_68738")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68738.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, ext_mem_68710.mem, (int64_t) 0, (int64_t []) {ext_68709, ext_68708}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_68710, "ext_mem_68710") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68756, bytes_68755, "mem_68756")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_71920 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59570));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59575(ctx, num_tblocks_59571, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58660, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, arg_50455, num_tblocks_59571, virt_num_tblocks_71920, mem_68727.mem, mem_68738.mem, mem_68756.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_68727, "mem_68727") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_68738, "mem_68738") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_68788, &mem_68756, "mem_68756") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_68794, &ext_mem_68788, "ext_mem_68788") != 0)
                    return 1;
            }
            if (memblock_alloc_device(ctx, &mem_68797, bytes_68624, "mem_68797")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_71935 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59591));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59595(ctx, segmap_usable_groups_59592, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58533, 1, 1, (int64_t) 0, dz2083U_45080, ext_68793, mem_68631.mem, ext_mem_68794.mem, mem_68797.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_68800, bytes_68644, "mem_68800")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_71944 = dim_45075 * dz2083U_45080;
            int64_t tblock_sizze_71949;
            
            tblock_sizze_71949 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_71949;
            
            int64_t virt_num_tblocks_71950 = sdiv_up64(replicate_n_71944, tblock_sizze_71949);
            int64_t num_tblocks_71951 = smin64(virt_num_tblocks_71950, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_71945(ctx, num_tblocks_71951, 1, 1, tblock_sizze_71949, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, replicate_n_71944, virt_num_tblocks_71950, num_tblocks_71951, mem_68797.mem, mem_68800.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_68797, "mem_68797") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68811, bytes_68655, "mem_68811")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68811.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_68800, "mem_68800") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68822, bytes_68655, "mem_68822")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68822.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, ext_mem_68794.mem, (int64_t) 0, (int64_t []) {ext_68793, ext_68792}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_68794, "ext_mem_68794") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68840, bytes_68839, "mem_68840")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_71964 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59603));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59608(ctx, num_tblocks_59604, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58504, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, arg_50455, num_tblocks_59604, virt_num_tblocks_71964, grid_partitions_per_dim_mem_68614.mem, mem_68811.mem, mem_68822.mem, mem_68840.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_68811, "mem_68811") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_68822, "mem_68822") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_68885, &mem_68840, "mem_68840") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_68891, &ext_mem_68885, "ext_mem_68885") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_68631, "mem_68631") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68895, bytes_68634, "mem_68895")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_71979 = sext_i64_i32(sdiv_up64(dz2083U_45080 * dim_45075, segmap_tblock_sizze_59632));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59637(ctx, segmap_usable_groups_59633, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58327, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, ext_68889, ext_68890, grid_part_prefix_sum_mem_68612.mem, ext_mem_68891.mem, mem_68895.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_68891, "ext_mem_68891") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68906, bytes_68655, "mem_68906")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68906.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68895.mem, (int64_t) 0, (int64_t []) {dim_45075, (int64_t) 1}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_68895, "mem_68895") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68908, (int64_t) 0, "mem_68908")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68910, bytes_68624, "mem_68910")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_71990 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59643));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59648(ctx, segmap_usable_groups_59644, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58298, 1, 1, (int64_t) 0, dim_45075, dz2080U_45076, dz2083U_45080, mem_68906.mem, mem_68908.mem, mem_68910.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68906, "mem_68906") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68921, bytes_68655, "mem_68921")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68921.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, xys_mem_68618.mem, (int64_t) 0, (int64_t []) {dim_45075, (int64_t) 1}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
        goto cleanup;
    
    int64_t bytes_68925 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077;
    int64_t ext_68993;
    
    if (cond_50496) {
        ext_68993 = dim_45075;
    } else {
        ext_68993 = (int64_t) 1;
    }
    
    int64_t ext_68992;
    
    if (cond_50496) {
        ext_68992 = (int64_t) 1;
    } else {
        ext_68992 = dz2083U_45080;
    }
    
    int64_t binop_y_68985 = binop_x_68648 + binop_y_68652;
    int64_t binop_y_68986 = (int64_t) 1 + binop_y_68985;
    int64_t bytes_68987 = (int64_t) 8 * binop_y_68986;
    int64_t bytes_68996 = arg_50455 * bytes_68624;
    int64_t binop_y_69009 = arg_50455 - (int64_t) 1;
    int64_t binop_x_69010 = smax64((int64_t) 0, binop_y_69009);
    int64_t binop_y_69011 = dz2083U_45080 * binop_x_69010;
    int64_t binop_y_69012 = smax64((int64_t) 0, binop_y_69011);
    int64_t binop_y_69013 = binop_x_68648 + binop_y_69012;
    int64_t binop_y_69014 = (int64_t) 1 + binop_y_69013;
    int64_t bytes_69015 = (int64_t) 8 * binop_y_69014;
    
    if (memblock_alloc_device(ctx, &mem_68997, bytes_68996, "mem_68997")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_69016, bytes_69015, "mem_69016")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_69047, bytes_68996, "mem_69047")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_69058, bytes_69015, "mem_69058")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_71467 = segmap_tblock_sizze_59795 * segmap_usable_groups_59796;
    int64_t total_sizze_71468 = dim_45075 * num_threads_71467;
    
    if (memblock_alloc_device(ctx, &color_71394, total_sizze_71468, "color_71394")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71469 = dim_45075 * num_threads_71467;
    
    if (memblock_alloc_device(ctx, &color_71395, total_sizze_71469, "color_71395")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_set_device(ctx, &mem_param_68924, &mem_68625, "mem_68625") != 0)
        return 1;
    for (int64_t i_50530 = 0; i_50530 < defunc_0_reduce_res_57567; i_50530++) {
        if (cond_50498) {
            if (memblock_alloc_device(ctx, &mem_68934, bytes_68925, "mem_68934")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_68937, &mem_68934, "mem_68934") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_68926, bytes_68925, "mem_68926")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_68926, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, defunc_0_f_res_50520) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_50537 = 0; i_50537 < distance_50506; i_50537++) {
                int64_t index_primexp_50539 = add64((int64_t) 1, i_50537);
                bool x_50540 = sle64((int64_t) 0, index_primexp_50539);
                bool y_50541 = slt64(index_primexp_50539, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077);
                bool bounds_check_50542 = x_50540 && y_50541;
                bool index_certs_50543;
                
                if (!bounds_check_50542) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50539, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:360:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_50544;
                
                if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_50544, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dim_45075, index_primexp_50539) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_74200 = defunc_0_f_res_50544;
                
                if ((err = gpu_scalar_to_device(ctx, mem_68926.mem, index_primexp_50539 * sizeof(double), sizeof(double), &write_tmp_74200)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_68937, &mem_68926, "mem_68926") != 0)
                return 1;
        }
        if (cond_50496) {
            if (memblock_alloc_device(ctx, &mem_68991, bytes_68634, "mem_68991")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_68994, &mem_68991, "mem_68991") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_68945, bytes_68634, "mem_68945")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72023 = sext_i64_i32(sdiv_up64(dz2083U_45080 * dim_45075, segmap_tblock_sizze_59663));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59668(ctx, segmap_usable_groups_59664, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58228, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, start_of_grid_partition_mem_68615.mem, mem_68908.mem, mem_68910.mem, mem_68945.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72034 = sext_i64_i32(sdiv_up64(dz2083U_45080 * dim_45075, segmap_tblock_sizze_59678));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59683(ctx, segmap_usable_groups_59679, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58202, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, xys_mem_68618.mem, mem_68945.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_68948, bytes_68644, "mem_68948")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_72045 = dim_45075 * dz2083U_45080;
            int64_t tblock_sizze_72050;
            
            tblock_sizze_72050 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72050;
            
            int64_t virt_num_tblocks_72051 = sdiv_up64(replicate_n_72045, tblock_sizze_72050);
            int64_t num_tblocks_72052 = smin64(virt_num_tblocks_72051, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72046(ctx, num_tblocks_72052, 1, 1, tblock_sizze_72050, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, replicate_n_72045, virt_num_tblocks_72051, num_tblocks_72052, mem_68945.mem, mem_68948.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_68959, bytes_68655, "mem_68959")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68959.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68948.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_68948, "mem_68948") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68970, bytes_68655, "mem_68970")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68970.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_68945.mem, (int64_t) 0, (int64_t []) {dim_45075, (int64_t) 1}, (int64_t []) {dz2083U_45080, dim_45075})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_68945, "mem_68945") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68988, bytes_68987, "mem_68988")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72065 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59700));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59705(ctx, num_tblocks_59701, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58156, 1, 1, (int64_t) 0, dim_45075, dz2083U_45080, arg_50455, num_tblocks_59701, virt_num_tblocks_72065, mem_68959.mem, mem_68970.mem, mem_68988.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_68959, "mem_68959") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_68970, "mem_68970") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_68994, &mem_68988, "mem_68988") != 0)
                return 1;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_68997, dz2083U_45080 * arg_50455, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_69041;
        int64_t ext_69040;
        int64_t ctx_param_ext_68999;
        int64_t ctx_param_ext_69000;
        
        if (memblock_set_device(ctx, &mem_param_69001, &mem_68997, "mem_68997") != 0)
            return 1;
        ctx_param_ext_68999 = arg_50455;
        ctx_param_ext_69000 = (int64_t) 1;
        for (int64_t i_59722 = 0; i_59722 < arg_50455; i_59722++) {
            bool y_59724 = slt64(i_59722, dim_45075);
            bool index_certs_59725;
            
            if (!y_59724) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_59722, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_59726 = add64((int64_t) 1, i_59722);
            int64_t j_m_i_59727 = sub64(dim_45075, map_arg1_59726);
            bool empty_slice_59728 = j_m_i_59727 == (int64_t) 0;
            int64_t m_59729 = sub64(j_m_i_59727, (int64_t) 1);
            int64_t i_p_m_t_s_59730 = add64(map_arg1_59726, m_59729);
            bool zzero_leq_i_p_m_t_s_59731 = sle64((int64_t) 0, i_p_m_t_s_59730);
            bool i_p_m_t_s_leq_w_59732 = slt64(i_p_m_t_s_59730, dim_45075);
            bool zzero_lte_i_59733 = sle64((int64_t) 0, map_arg1_59726);
            bool i_lte_j_59734 = sle64(map_arg1_59726, dim_45075);
            bool y_59735 = i_p_m_t_s_leq_w_59732 && zzero_lte_i_59733;
            bool y_59736 = zzero_leq_i_p_m_t_s_59731 && y_59735;
            bool forwards_ok_59737 = i_lte_j_59734 && y_59736;
            bool ok_or_empty_59738 = empty_slice_59728 || forwards_ok_59737;
            bool index_certs_59739;
            
            if (!ok_or_empty_59738) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_59726, ":", (long long) dim_45075, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:360:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:731:10-13\n   #4  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_69004 = j_m_i_59727 * bytes_68624;
            int64_t binop_x_69021 = smax64((int64_t) 0, m_59729);
            int64_t binop_y_69022 = dz2083U_45080 * binop_x_69021;
            int64_t binop_y_69023 = smax64((int64_t) 0, binop_y_69022);
            int64_t binop_y_69024 = binop_x_68648 + binop_y_69023;
            int64_t binop_y_69025 = (int64_t) 1 + binop_y_69024;
            int64_t bytes_69026 = (int64_t) 8 * binop_y_69025;
            int64_t binop_y_69036 = binop_x_68648 + binop_y_69012;
            int64_t binop_y_69037 = (int64_t) 1 + binop_y_69036;
            int64_t bytes_69038 = (int64_t) 8 * binop_y_69037;
            int64_t nest_sizze_59747 = dz2083U_45080 * j_m_i_59727;
            int64_t segmap_usable_groups_59749 = sdiv_up64(nest_sizze_59747, segmap_tblock_sizze_59748);
            
            if (memblock_alloc_device(ctx, &mem_69005, bytes_69004, "mem_69005")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72083 = sext_i64_i32(sdiv_up64(dz2083U_45080 * j_m_i_59727, segmap_tblock_sizze_59748));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59753(ctx, segmap_usable_groups_59749, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58073, 1, 1, (int64_t) 0, dz2083U_45080, map_arg1_59726, j_m_i_59727, ext_68992, ext_68993, ext_mem_68994.mem, mem_69005.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_param_69001.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_68999, ctx_param_ext_69000}, (int64_t []) {dz2083U_45080, arg_50455})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_69027, bytes_69026, "mem_69027")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69027.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_69005.mem, (int64_t) 0, (int64_t []) {j_m_i_59727, (int64_t) 1}, (int64_t []) {dz2083U_45080, j_m_i_59727})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_69005, "mem_69005") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_69039, bytes_69038, "mem_69039")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72094 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59758));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59763(ctx, num_tblocks_59759, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58042, 1, 1, (int64_t) 0, dz2083U_45080, arg_50455, i_59722, j_m_i_59727, num_tblocks_59759, ext_68992, ext_68993, virt_num_tblocks_72094, ext_mem_68994.mem, mem_69016.mem, mem_69027.mem, mem_69039.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_69027, "mem_69027") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_72079, &mem_69039, "mem_69039") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_72080 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_72081 = dz2083U_45080;
            
            if (memblock_set_device(ctx, &mem_param_69001, &mem_param_tmp_72079, "mem_param_tmp_72079") != 0)
                return 1;
            ctx_param_ext_68999 = ctx_param_ext_tmp_72080;
            ctx_param_ext_69000 = ctx_param_ext_tmp_72081;
        }
        if (memblock_set_device(ctx, &ext_mem_69043, &mem_param_69001, "mem_param_69001") != 0)
            return 1;
        ext_69041 = ctx_param_ext_68999;
        ext_69040 = ctx_param_ext_69000;
        if (memblock_unref_device(ctx, &ext_mem_68994, "ext_mem_68994") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72108 = sext_i64_i32(sdiv_up64(dz2083U_45080 * arg_50455, segmap_tblock_sizze_59782));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59787(ctx, segmap_usable_groups_59783, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_58006, 1, 1, (int64_t) 0, dz2083U_45080, arg_50455, ext_69040, ext_69041, angle_part_prefix_sum_mem_68610.mem, angle_partitions_per_dim_mem_68611.mem, ext_mem_68937.mem, ext_mem_69043.mem, mem_69047.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_68937, "ext_mem_68937") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69043, "ext_mem_69043") != 0)
            return 1;
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69058.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_45080}, mem_69047.mem, (int64_t) 0, (int64_t []) {arg_50455, (int64_t) 1}, (int64_t []) {dz2083U_45080, arg_50455})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_69083, bytes_68624, "mem_69083")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72119 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59795));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59799(ctx, segmap_usable_groups_59796, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_57891, 1, 1, (int64_t) 0, dim_45075, dz2082U_45079, dz2083U_45080, total_angle_no_45087, arg_50455, cond_50496, protect_assert_disj_50513, protect_assert_disj_50525, i_50530, x_56032, num_threads_71467, part_idx_mem_68617.mem, xys_mem_68618.mem, mem_68623.mem, mem_68910.mem, mem_68921.mem, mem_param_68924.mem, mem_69058.mem, mem_69083.mem, color_71394.mem, color_71395.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &mem_param_tmp_72000, &mem_69083, "mem_69083") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_68924, &mem_param_tmp_72000, "mem_param_tmp_72000") != 0)
            return 1;
    }
    if (memblock_set_device(ctx, &ext_mem_69086, &mem_param_68924, "mem_param_68924") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68623, "mem_68623") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68625, "mem_68625") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68908, "mem_68908") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68910, "mem_68910") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68921, "mem_68921") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68997, "mem_68997") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69016, "mem_69016") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69047, "mem_69047") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69058, "mem_69058") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71394, "color_71394") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71395, "color_71395") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69089, bytes_68624, "mem_69089")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_69091, bytes_68624, "mem_69091")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dz2083U_45080)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_72135;
        
        shared_memory_72135 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_72136;
        
        thread_block_sizze_72136 = ctx->max_thread_block_size;
        
        int64_t registers_72137;
        
        registers_72137 = ctx->max_registers;
        
        int64_t thread_block_sizze_72138;
        
        thread_block_sizze_72138 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_72139 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_72135, thread_block_sizze_72136), (int64_t) 8), squot64(squot64(registers_72137, thread_block_sizze_72138) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_72140 = sdiv_up64(dz2083U_45080, segscan_tblock_sizze_59898 * chunk_sizze_72139);
        int64_t num_virt_threads_72141 = num_virt_blocks_72140 * segscan_tblock_sizze_59898;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_72139, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_72142, num_virt_blocks_72140, "status_flags_mem_72142")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_72142, num_virt_blocks_72140, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_72164, (int64_t) 8 * num_virt_blocks_72140, "aggregates_mem_72164")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_72166, (int64_t) 8 * num_virt_blocks_72140, "incprefixes_mem_72166")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_59903(ctx, num_tblocks_59900, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_59897, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_59898), chunk_sizze_72139 * segscan_tblock_sizze_59898 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_59898), chunk_sizze_72139 * segscan_tblock_sizze_59898 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dz2083U_45080, num_tblocks_59900, num_virt_blocks_72140, num_virt_threads_72141, ext_mem_69086.mem, mem_69089.mem, mem_69091.mem, status_flags_mem_72142.mem, aggregates_mem_72164.mem, incprefixes_mem_72166.mem, global_dynid_mem_72168.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t m_f_res_50803;
    
    if (x_50796) {
        int64_t read_res_74201;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_74201, mem_69089.mem, tmp_50797 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_57289 = read_res_74201;
        
        m_f_res_50803 = x_57289;
    } else {
        m_f_res_50803 = (int64_t) 0;
    }
    
    int64_t m_50805;
    
    if (cond_50795) {
        m_50805 = (int64_t) 0;
    } else {
        m_50805 = m_f_res_50803;
    }
    
    int64_t m_50815 = sub64(m_50805, (int64_t) 1);
    bool i_p_m_t_s_leq_w_50817 = slt64(m_50815, dz2083U_45080);
    bool zzero_leq_i_p_m_t_s_50816 = sle64((int64_t) 0, m_50815);
    bool y_50819 = zzero_leq_i_p_m_t_s_50816 && i_p_m_t_s_leq_w_50817;
    bool i_lte_j_50818 = sle64((int64_t) 0, m_50805);
    bool forwards_ok_50820 = i_lte_j_50818 && y_50819;
    bool eq_x_zz_50812 = (int64_t) 0 == m_f_res_50803;
    bool p_and_eq_x_y_50813 = x_50796 && eq_x_zz_50812;
    bool empty_slice_50814 = cond_50795 || p_and_eq_x_y_50813;
    bool ok_or_empty_50821 = empty_slice_50814 || forwards_ok_50820;
    bool index_certs_50822;
    
    if (!ok_or_empty_50821) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_50805, "] out of bounds for array of shape [", (long long) dz2083U_45080, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_69092 = (int64_t) 8 * m_50805;
    int64_t bytes_69099 = dim_45075 * bytes_69092;
    bool protect_assert_disj_70735 = assert_cond_50456 || empty_slice_50814;
    bool empty_or_match_cert_50997;
    
    if (!protect_assert_disj_70735) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_51013 = slt64(m_50805, (int64_t) 1);
    bool valid_51014 = !bounds_invalid_upwards_51013;
    bool protect_assert_disj_70737 = empty_slice_50814 || valid_51014;
    bool range_valid_c_51015;
    
    if (!protect_assert_disj_70737) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) m_50805, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_51016 = slt64((int64_t) 0, m_50815);
    bool loop_not_taken_51017 = !loop_nonempty_51016;
    bool protect_assert_disj_51020 = assert_cond_50456 || loop_not_taken_51017;
    bool protect_assert_disj_70739 = empty_slice_50814 || protect_assert_disj_51020;
    bool empty_or_match_cert_51021;
    
    if (!protect_assert_disj_70739) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_59908;
    
    segmap_tblock_sizze_59908 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907;
    
    int64_t num_tblocks_59910;
    int64_t max_num_tblocks_72257;
    
    max_num_tblocks_72257 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_59909;
    num_tblocks_59910 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59908), max_num_tblocks_72257)));
    
    int64_t segmap_tblock_sizze_59953;
    
    segmap_tblock_sizze_59953 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942;
    
    int64_t segmap_tblock_sizze_59965;
    
    segmap_tblock_sizze_59965 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930;
    
    int64_t segmap_tblock_sizze_59975;
    
    segmap_tblock_sizze_59975 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916;
    if (memblock_alloc_device(ctx, &mem_68630, bytes_68629, "mem_68630")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_68630, total_part_no_45089, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_60229;
    
    seghist_tblock_sizze_60229 = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228;
    
    int64_t segscan_tblock_sizze_60244;
    
    segscan_tblock_sizze_60244 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243;
    
    int64_t num_tblocks_60246;
    int64_t max_num_tblocks_72258;
    
    max_num_tblocks_72258 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_60245;
    num_tblocks_60246 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_45089, segscan_tblock_sizze_60244), max_num_tblocks_72258)));
    
    int64_t segmap_tblock_sizze_60265;
    
    segmap_tblock_sizze_60265 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253;
    
    int64_t segmap_usable_groups_60266 = sdiv_up64(total_part_no_45089, segmap_tblock_sizze_60265);
    
    if (memblock_alloc_device(ctx, &mem_69093, bytes_69092, "mem_69093")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_69093.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_69086.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_50805})) != 0)
        goto cleanup;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72259 = sext_i64_i32(sdiv_up64(dz2083U_45080, segmap_tblock_sizze_59908));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59905(ctx, num_tblocks_59910, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59907, 1, 1, (int64_t) 0, dz2083U_45080, m_50805, num_tblocks_59910, virt_num_tblocks_72259, ext_mem_69086.mem, mem_69089.mem, mem_69091.mem, mem_69093.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_69086, "ext_mem_69086") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69089, "mem_69089") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69091, "mem_69091") != 0)
        return 1;
    
    int64_t segmap_usable_groups_59954 = sdiv_up64(m_50805, segmap_tblock_sizze_59953);
    
    if (memblock_alloc_device(ctx, &mem_69096, (int64_t) 0, "mem_69096")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72272 = sext_i64_i32(sdiv_up64(m_50805, segmap_tblock_sizze_59953));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59957(ctx, segmap_usable_groups_59954, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59942, 1, 1, (int64_t) 0, dz2083U_45080, m_50805, mem_69093.mem, mem_69096.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t nest_sizze_59964 = dim_45075 * m_50805;
    int64_t segmap_usable_groups_59966 = sdiv_up64(nest_sizze_59964, segmap_tblock_sizze_59965);
    
    if (memblock_alloc_device(ctx, &mem_69100, bytes_69099, "mem_69100")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72281 = sext_i64_i32(sdiv_up64(m_50805 * dim_45075, segmap_tblock_sizze_59965));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59970(ctx, segmap_usable_groups_59966, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59930, 1, 1, (int64_t) 0, dim_45075, m_50805, xys_mem_68618.mem, mem_69093.mem, mem_69096.mem, mem_69100.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_usable_groups_59976 = sdiv_up64(m_50805, segmap_tblock_sizze_59975);
    
    if (memblock_alloc_device(ctx, &mem_69103, bytes_69092, "mem_69103")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72292 = sext_i64_i32(sdiv_up64(m_50805, segmap_tblock_sizze_59975));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59979(ctx, segmap_usable_groups_59976, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59916, 1, 1, (int64_t) 0, m_50805, xys_mem_68619.mem, mem_69093.mem, mem_69096.mem, mem_69103.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_69093, "mem_69093") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69096, "mem_69096") != 0)
        return 1;
    
    int64_t bytes_69166 = (int64_t) 8 * arg_50455;
    
    if (empty_slice_50814) {
        if (memblock_alloc_device(ctx, &mem_69364, bytes_69092, "mem_69364")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_69367, &mem_69364, "mem_69364") != 0)
            return 1;
    } else {
        bool y_50842 = slt64((int64_t) 0, m_50805);
        bool index_certs_50843;
        
        if (!y_50842) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) m_50805, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_50845;
        
        if (!y_50492) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45076, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_50900;
        
        if (!protect_assert_disj_50525) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45075, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_50986;
        
        if (!protect_assert_disj_50522) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_51018 = y_50492 || loop_not_taken_51017;
        bool index_certs_51019;
        
        if (!protect_assert_disj_51018) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45076, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_51022 = protect_assert_disj_50513 || loop_not_taken_51017;
        bool index_certs_51023;
        
        if (!protect_assert_disj_51022) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_51024;
        
        if (!protect_assert_disj_51022) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_51025 = protect_assert_disj_50509 || loop_not_taken_51017;
        bool index_certs_51026;
        
        if (!protect_assert_disj_51025) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_51027 = protect_assert_disj_50525 || loop_not_taken_51017;
        bool range_valid_c_51028;
        
        if (!protect_assert_disj_51027) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45075, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_51029;
        
        if (!protect_assert_disj_51027) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45075, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_51033 = protect_assert_disj_50522 || loop_not_taken_51017;
        bool range_valid_c_51034;
        
        if (!protect_assert_disj_51033) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_55953;
        
        if (!protect_assert_disj_51022) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_50936;
        
        if (!protect_assert_disj_50525) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45075, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (cond_50496) {
            if (memblock_alloc_device(ctx, &mem_69151, binop_x_68643, "mem_69151")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_69154, &mem_69151, "mem_69151") != 0)
                return 1;
        } else {
            bool index_certs_50896;
            
            if (!y_50507) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_55931;
            
            if (!y_50507) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t segmap_tblock_sizze_59995;
            
            segmap_tblock_sizze_59995 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986;
            
            int64_t segmap_usable_groups_59996 = sdiv_up64(dim_45075, segmap_tblock_sizze_59995);
            
            if (memblock_alloc_device(ctx, &mem_69109, binop_x_68643, "mem_69109")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72301 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_59995));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_59999(ctx, segmap_usable_groups_59996, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_59986, 1, 1, (int64_t) 0, dim_45075, start_of_grid_partition_mem_68615.mem, mem_69100.mem, mem_69109.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_tblock_sizze_60015;
            
            segmap_tblock_sizze_60015 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006;
            
            int64_t segmap_usable_groups_60016 = sdiv_up64(dim_45075, segmap_tblock_sizze_60015);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72310 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60015));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60019(ctx, segmap_usable_groups_60016, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60006, 1, 1, (int64_t) 0, dim_45075, grid_part_sizze_per_dim_mem_68613.mem, mem_69109.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (cond_50496) {
                if (memblock_alloc_device(ctx, &mem_69136, binop_x_68643, "mem_69136")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_69139, &mem_69136, "mem_69136") != 0)
                    return 1;
            } else {
                if (cond_50496) {
                    if (memblock_alloc_device(ctx, &mem_69121, binop_x_68643, "mem_69121")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_69124, &mem_69121, "mem_69121") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_69110, (int64_t) 8, "mem_69110")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72319(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69109.mem, mem_69110.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_69112, binop_x_68643, "mem_69112")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_72325 = dim_45075;
                    int64_t tblock_sizze_72330;
                    
                    tblock_sizze_72330 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72330;
                    
                    int64_t virt_num_tblocks_72331 = sdiv_up64(replicate_n_72325, tblock_sizze_72330);
                    int64_t num_tblocks_72332 = smin64(virt_num_tblocks_72331, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72326(ctx, num_tblocks_72332, 1, 1, tblock_sizze_72330, 1, 1, (int64_t) 0, dim_45075, replicate_n_72325, virt_num_tblocks_72331, num_tblocks_72332, mem_69110.mem, mem_69112.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_69110, "mem_69110") != 0)
                        return 1;
                    for (int64_t i_50864 = 0; i_50864 < arg_50455; i_50864++) {
                        int64_t index_primexp_50866 = add64((int64_t) 1, i_50864);
                        bool x_50867 = sle64((int64_t) 0, index_primexp_50866);
                        bool y_50868 = slt64(index_primexp_50866, dim_45075);
                        bool bounds_check_50869 = x_50867 && y_50868;
                        bool index_certs_50870;
                        
                        if (!bounds_check_50869) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50866, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72346(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_50866, mem_69109.mem, mem_69112.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_set_device(ctx, &ext_mem_69124, &mem_69112, "mem_69112") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_69125, (int64_t) 8, "mem_69125")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72352(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_69124.mem, mem_69125.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_69127, binop_x_68643, "mem_69127")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_72358 = dim_45075;
                int64_t tblock_sizze_72363;
                
                tblock_sizze_72363 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72363;
                
                int64_t virt_num_tblocks_72364 = sdiv_up64(replicate_n_72358, tblock_sizze_72363);
                int64_t num_tblocks_72365 = smin64(virt_num_tblocks_72364, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72359(ctx, num_tblocks_72365, 1, 1, tblock_sizze_72363, 1, 1, (int64_t) 0, dim_45075, replicate_n_72358, virt_num_tblocks_72364, num_tblocks_72365, mem_69125.mem, mem_69127.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_69125, "mem_69125") != 0)
                    return 1;
                for (int64_t i_50883 = 0; i_50883 < arg_50455; i_50883++) {
                    int64_t index_primexp_50885 = add64((int64_t) 1, i_50883);
                    bool x_50886 = sle64((int64_t) 0, index_primexp_50885);
                    bool y_50887 = slt64(index_primexp_50885, dim_45075);
                    bool bounds_check_50888 = x_50886 && y_50887;
                    bool index_certs_50889;
                    
                    if (!bounds_check_50888) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50885, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72379(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_50885, ext_mem_69124.mem, mem_69127.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_69124, "ext_mem_69124") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69139, &mem_69127, "mem_69127") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_69109, "mem_69109") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_69140, (int64_t) 8, "mem_69140")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72385(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, ext_mem_69139.mem, mem_69140.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_69142, binop_x_68643, "mem_69142")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_72391 = dim_45075;
            int64_t tblock_sizze_72396;
            
            tblock_sizze_72396 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72396;
            
            int64_t virt_num_tblocks_72397 = sdiv_up64(replicate_n_72391, tblock_sizze_72396);
            int64_t num_tblocks_72398 = smin64(virt_num_tblocks_72397, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72392(ctx, num_tblocks_72398, 1, 1, tblock_sizze_72396, 1, 1, (int64_t) 0, dim_45075, replicate_n_72391, virt_num_tblocks_72397, num_tblocks_72398, mem_69140.mem, mem_69142.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_69140, "mem_69140") != 0)
                return 1;
            for (int64_t i_50902 = 0; i_50902 < arg_50455; i_50902++) {
                int64_t index_primexp_50904 = add64((int64_t) 1, i_50902);
                bool x_50905 = sle64((int64_t) 0, index_primexp_50904);
                bool y_50906 = slt64(index_primexp_50904, dim_45075);
                bool bounds_check_50907 = x_50905 && y_50906;
                bool index_certs_50908;
                
                if (!bounds_check_50907) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50904, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_certs_55942;
                
                if (!bounds_check_50907) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50904, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72412(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_50904, grid_partitions_per_dim_mem_68614.mem, ext_mem_69139.mem, mem_69142.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
            if (memblock_unref_device(ctx, &ext_mem_69139, "ext_mem_69139") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69154, &mem_69142, "mem_69142") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_60035;
        
        segmap_tblock_sizze_60035 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026;
        
        int64_t segmap_usable_groups_60036 = sdiv_up64(dim_45075, segmap_tblock_sizze_60035);
        
        if (memblock_alloc_device(ctx, &mem_69157, binop_x_68643, "mem_69157")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72418 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60035));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60039(ctx, segmap_usable_groups_60036, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60026, 1, 1, (int64_t) 0, dim_45075, grid_part_prefix_sum_mem_68612.mem, ext_mem_69154.mem, mem_69157.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_69154, "ext_mem_69154") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69158, (int64_t) 8, "mem_69158")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_69158, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &mem_param_69161, &mem_69158, "mem_69158") != 0)
            return 1;
        for (int64_t i_50917 = 0; i_50917 < dim_45075; i_50917++) {
            if (memblock_alloc_device(ctx, &mem_69162, (int64_t) 8, "mem_69162")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72429(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_50917, mem_69157.mem, mem_param_69161.mem, mem_69162.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_72427, &mem_69162, "mem_69162") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_69161, &mem_param_tmp_72427, "mem_param_tmp_72427") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_69165, &mem_param_69161, "mem_param_69161") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69157, "mem_69157") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69223, bytes_69166, "mem_69223")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_69223, arg_50455, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t segmap_tblock_sizze_60074;
        
        segmap_tblock_sizze_60074 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066;
        if (memblock_alloc_device(ctx, &mem_69168, (int64_t) 8, "mem_69168")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_69168, (int64_t) 1, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (cond_50498) {
            if (memblock_alloc_device(ctx, &mem_69178, bytes_68925, "mem_69178")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_69181, &mem_69178, "mem_69178") != 0)
                return 1;
        } else {
            bool index_certs_50983;
            
            if (!y_50504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_50984;
            
            if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_50984, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dim_45075, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_69170, bytes_68925, "mem_69170")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_69170, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, defunc_0_f_res_50984) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_50988 = 0; i_50988 < distance_50506; i_50988++) {
                int64_t index_primexp_50990 = add64((int64_t) 1, i_50988);
                bool x_50991 = sle64((int64_t) 0, index_primexp_50990);
                bool y_50992 = slt64(index_primexp_50990, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077);
                bool bounds_check_50993 = x_50991 && y_50992;
                bool index_certs_50994;
                
                if (!bounds_check_50993) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50990, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_50995;
                
                if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_50995, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dim_45075, index_primexp_50990) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_74202 = defunc_0_f_res_50995;
                
                if ((err = gpu_scalar_to_device(ctx, mem_69170.mem, index_primexp_50990 * sizeof(double), sizeof(double), &write_tmp_74202)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_69181, &mem_69170, "mem_69170") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_60095;
        
        segmap_tblock_sizze_60095 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084;
        
        int64_t segmap_usable_groups_60096 = sdiv_up64(arg_50455, segmap_tblock_sizze_60095);
        bool protect_cond_conj_51030 = x_50518 && loop_nonempty_51016;
        double defunc_0_f_res_51031;
        
        if (protect_cond_conj_51030) {
            double x_57438;
            
            if (futrts_lifted_lambda_10000(ctx, &x_57438, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dim_45075, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            defunc_0_f_res_51031 = x_57438;
        } else {
            defunc_0_f_res_51031 = 0.0;
        }
        
        bool protect_cond_conj_56031 = loop_nonempty_51016 && x_56032;
        
        if (protect_cond_conj_56031) {
            if (memblock_alloc_device(ctx, &mem_69182, (int64_t) 8, "mem_69182")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72436(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, mem_69182.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_69183, &mem_69182, "mem_69182") != 0)
                return 1;
        } else if (memblock_set_device(ctx, &ext_mem_69183, &mem_69158, "mem_69158") != 0)
            return 1;
        
        int64_t segmap_tblock_sizze_60117;
        
        segmap_tblock_sizze_60117 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108;
        
        int64_t segmap_tblock_sizze_60137;
        
        segmap_tblock_sizze_60137 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128;
        
        int64_t segmap_tblock_sizze_60157;
        
        segmap_tblock_sizze_60157 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148;
        
        int64_t segmap_usable_groups_60158 = sdiv_up_safe64(dim_45075, segmap_tblock_sizze_60157);
        int64_t segmap_tblock_sizze_60177;
        
        segmap_tblock_sizze_60177 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168;
        
        int64_t segmap_tblock_sizze_60196;
        
        segmap_tblock_sizze_60196 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188;
        
        int64_t segmap_tblock_sizze_60217;
        
        segmap_tblock_sizze_60217 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206;
        
        int64_t segmap_usable_groups_60218 = sdiv_up_safe64(arg_50455, segmap_tblock_sizze_60217);
        int64_t segmap_usable_groups_60118 = sdiv_up_safe64(dim_45075, segmap_tblock_sizze_60117);
        int64_t segmap_usable_groups_60138 = sdiv_up_safe64(dim_45075, segmap_tblock_sizze_60137);
        int64_t segmap_usable_groups_60178 = sdiv_up_safe64(dim_45075, segmap_tblock_sizze_60177);
        
        if (memblock_alloc_device(ctx, &mem_69184, (int64_t) 0, "mem_69184")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69185, (int64_t) 8, "mem_69185")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69186, (int64_t) 8, "mem_69186")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72442(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_45076, total_angle_no_45087, ext_mem_69165.mem, ext_mem_69183.mem, mem_69184.mem, mem_69185.mem, mem_69186.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (memblock_unref_device(ctx, &ext_mem_69183, "ext_mem_69183") != 0)
            return 1;
        if (cond_50496) {
            if (memblock_alloc_device(ctx, &mem_69200, binop_x_68643, "mem_69200")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_69203, &mem_69200, "mem_69200") != 0)
                return 1;
        } else {
            bool index_certs_50933;
            
            if (!y_50507) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_50924 = 0;
            int64_t segmap_tblock_sizze_60055;
            
            segmap_tblock_sizze_60055 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046;
            
            int64_t segmap_usable_groups_60056 = sdiv_up64(dim_45075, segmap_tblock_sizze_60055);
            
            if (memblock_alloc_device(ctx, &mem_69189, binop_x_68643, "mem_69189")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72448 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60055));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60059(ctx, segmap_usable_groups_60056, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60046, 1, 1, (int64_t) 0, dim_45075, start_of_grid_partition_mem_68615.mem, mem_69100.mem, ext_mem_69165.mem, mem_69189.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_69190, (int64_t) 8, "mem_69190")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72457(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69189.mem, mem_69190.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_69192, binop_x_68643, "mem_69192")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_72463 = dim_45075;
            int64_t tblock_sizze_72468;
            
            tblock_sizze_72468 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72468;
            
            int64_t virt_num_tblocks_72469 = sdiv_up64(replicate_n_72463, tblock_sizze_72468);
            int64_t num_tblocks_72470 = smin64(virt_num_tblocks_72469, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72464(ctx, num_tblocks_72470, 1, 1, tblock_sizze_72468, 1, 1, (int64_t) 0, dim_45075, replicate_n_72463, virt_num_tblocks_72469, num_tblocks_72470, mem_69190.mem, mem_69192.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_69190, "mem_69190") != 0)
                return 1;
            for (int64_t i_50938 = 0; i_50938 < arg_50455; i_50938++) {
                int64_t index_primexp_50940 = add64((int64_t) 1, i_50938);
                bool x_50941 = sle64((int64_t) 0, index_primexp_50940);
                bool y_50942 = slt64(index_primexp_50940, dim_45075);
                bool bounds_check_50943 = x_50941 && y_50942;
                bool index_certs_50944;
                
                if (!bounds_check_50943) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_50940, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_69192.mem, index_primexp_50940, (int64_t []) {(int64_t) 1}, mem_69189.mem, index_primexp_50940, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_69189, "mem_69189") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69203, &mem_69192, "mem_69192") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_69165, "ext_mem_69165") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69184, "mem_69184") != 0)
            return 1;
        for (int64_t i_50949 = 0; i_50949 < arg_50455; i_50949++) {
            bool y_50951 = slt64(i_50949, dim_45075);
            bool index_certs_50952;
            
            if (!y_50951) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_50949, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_50954 = add64((int64_t) 1, i_50949);
            int64_t j_m_i_50955 = sub64(dim_45075, map_arg1_50954);
            bool empty_slice_50956 = j_m_i_50955 == (int64_t) 0;
            int64_t m_50957 = sub64(j_m_i_50955, (int64_t) 1);
            int64_t i_p_m_t_s_50958 = add64(map_arg1_50954, m_50957);
            bool zzero_leq_i_p_m_t_s_50959 = sle64((int64_t) 0, i_p_m_t_s_50958);
            bool i_p_m_t_s_leq_w_50960 = slt64(i_p_m_t_s_50958, dim_45075);
            bool zzero_lte_i_50961 = sle64((int64_t) 0, map_arg1_50954);
            bool i_lte_j_50962 = sle64(map_arg1_50954, dim_45075);
            bool y_50963 = i_p_m_t_s_leq_w_50960 && zzero_lte_i_50961;
            bool y_50964 = zzero_leq_i_p_m_t_s_50959 && y_50963;
            bool forwards_ok_50965 = i_lte_j_50962 && y_50964;
            bool ok_or_empty_50966 = empty_slice_50956 || forwards_ok_50965;
            bool index_certs_50967;
            
            if (!ok_or_empty_50966) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_50954, ":", (long long) dim_45075, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_69208 = (int64_t) 8 * j_m_i_50955;
            int64_t segmap_usable_groups_60075 = sdiv_up64(j_m_i_50955, segmap_tblock_sizze_60074);
            
            if (memblock_alloc_device(ctx, &mem_69209, bytes_69208, "mem_69209")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72485 = sext_i64_i32(sdiv_up64(j_m_i_50955, segmap_tblock_sizze_60074));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60078(ctx, segmap_usable_groups_60075, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60066, 1, 1, (int64_t) 0, map_arg1_50954, j_m_i_50955, ext_mem_69203.mem, mem_69209.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &mem_param_69212, &mem_69168, "mem_69168") != 0)
                return 1;
            for (int64_t i_50973 = 0; i_50973 < j_m_i_50955; i_50973++) {
                if (memblock_alloc_device(ctx, &mem_69213, (int64_t) 8, "mem_69213")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72496(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_50973, mem_69209.mem, mem_param_69212.mem, mem_69213.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_72494, &mem_69213, "mem_69213") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_69212, &mem_param_tmp_72494, "mem_param_tmp_72494") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_69216, &mem_param_69212, "mem_param_69212") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_69209, "mem_69209") != 0)
                return 1;
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72502(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_50949, ext_mem_69203.mem, ext_mem_69216.mem, mem_69223.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_69216, "ext_mem_69216") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_69203, "ext_mem_69203") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72508 = sext_i64_i32(sdiv_up64(arg_50455, segmap_tblock_sizze_60095));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60099(ctx, segmap_usable_groups_60096, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60084, 1, 1, (int64_t) 0, arg_50455, angle_part_prefix_sum_mem_68610.mem, angle_partitions_per_dim_mem_68611.mem, ext_mem_69181.mem, mem_69223.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_69181, "ext_mem_69181") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_69226, &mem_69158, "mem_69158") != 0)
            return 1;
        for (int64_t i_51006 = 0; i_51006 < arg_50455; i_51006++) {
            if (memblock_alloc_device(ctx, &mem_69227, (int64_t) 8, "mem_69227")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72519(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_51006, mem_69223.mem, mem_param_69226.mem, mem_69227.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_72517, &mem_69227, "mem_69227") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_69226, &mem_param_tmp_72517, "mem_param_tmp_72517") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_69230, &mem_param_69226, "mem_param_69226") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69223, "mem_69223") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69231, (int64_t) 8, "mem_69231")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72525(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69185.mem, ext_mem_69230.mem, mem_69231.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_69185, "mem_69185") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69230, "ext_mem_69230") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69233, bytes_69092, "mem_69233")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_72531 = m_50805;
        int64_t tblock_sizze_72536;
        
        tblock_sizze_72536 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72536;
        
        int64_t virt_num_tblocks_72537 = sdiv_up64(replicate_n_72531, tblock_sizze_72536);
        int64_t num_tblocks_72538 = smin64(virt_num_tblocks_72537, (int64_t) 1048576);
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72532(ctx, num_tblocks_72538, 1, 1, tblock_sizze_72536, 1, 1, (int64_t) 0, m_50805, replicate_n_72531, virt_num_tblocks_72537, num_tblocks_72538, mem_69231.mem, mem_69233.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_69231, "mem_69231") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69290, binop_x_68643, "mem_69290")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69299, bytes_69166, "mem_69299")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69313, (int64_t) 0, "mem_69313")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69314, (int64_t) 8, "mem_69314")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69351, bytes_69166, "mem_69351")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_51036 = 0; i_51036 < m_50815; i_51036++) {
            int64_t index_primexp_51038 = add64((int64_t) 1, i_51036);
            bool x_51039 = sle64((int64_t) 0, index_primexp_51038);
            bool y_51040 = slt64(index_primexp_51038, m_50805);
            bool bounds_check_51041 = x_51039 && y_51040;
            bool index_certs_51042;
            
            if (!bounds_check_51041) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51038, "] out of bounds for array of shape [", (long long) m_50805, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:731:10-13\n   #3  ftSkyline.fut:729:1-733:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (cond_50496) {
                if (memblock_alloc_device(ctx, &mem_69284, binop_x_68643, "mem_69284")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_69287, &mem_69284, "mem_69284") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_69242, binop_x_68643, "mem_69242")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_72552 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60117));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60121(ctx, segmap_usable_groups_60118, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60108, 1, 1, (int64_t) 0, dim_45075, index_primexp_51038, start_of_grid_partition_mem_68615.mem, mem_69100.mem, mem_69242.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_72561 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60137));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60141(ctx, segmap_usable_groups_60138, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60128, 1, 1, (int64_t) 0, dim_45075, grid_part_sizze_per_dim_mem_68613.mem, mem_69242.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (cond_50496) {
                    if (memblock_alloc_device(ctx, &mem_69269, binop_x_68643, "mem_69269")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_69272, &mem_69269, "mem_69269") != 0)
                        return 1;
                } else {
                    if (cond_50496) {
                        if (memblock_alloc_device(ctx, &mem_69254, binop_x_68643, "mem_69254")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_69257, &mem_69254, "mem_69254") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_69243, (int64_t) 8, "mem_69243")) {
                            err = 1;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72570(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69242.mem, mem_69243.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69245, binop_x_68643, "mem_69245")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_72576 = dim_45075;
                        int64_t tblock_sizze_72581;
                        
                        tblock_sizze_72581 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72581;
                        
                        int64_t virt_num_tblocks_72582 = sdiv_up64(replicate_n_72576, tblock_sizze_72581);
                        int64_t num_tblocks_72583 = smin64(virt_num_tblocks_72582, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72577(ctx, num_tblocks_72583, 1, 1, tblock_sizze_72581, 1, 1, (int64_t) 0, dim_45075, replicate_n_72576, virt_num_tblocks_72582, num_tblocks_72583, mem_69243.mem, mem_69245.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_69243, "mem_69243") != 0)
                            return 1;
                        for (int64_t i_51058 = 0; i_51058 < arg_50455; i_51058++) {
                            int64_t index_primexp_51060 = add64((int64_t) 1, i_51058);
                            bool x_51061 = sle64((int64_t) 0, index_primexp_51060);
                            bool y_51062 = slt64(index_primexp_51060, dim_45075);
                            bool bounds_check_51063 = x_51061 && y_51062;
                            bool index_certs_51064;
                            
                            if (!bounds_check_51063) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51060, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72597(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_51060, mem_69242.mem, mem_69245.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                        }
                        if (memblock_set_device(ctx, &ext_mem_69257, &mem_69245, "mem_69245") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_69258, (int64_t) 8, "mem_69258")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72603(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_69257.mem, mem_69258.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_69260, binop_x_68643, "mem_69260")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_72609 = dim_45075;
                    int64_t tblock_sizze_72614;
                    
                    tblock_sizze_72614 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72614;
                    
                    int64_t virt_num_tblocks_72615 = sdiv_up64(replicate_n_72609, tblock_sizze_72614);
                    int64_t num_tblocks_72616 = smin64(virt_num_tblocks_72615, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72610(ctx, num_tblocks_72616, 1, 1, tblock_sizze_72614, 1, 1, (int64_t) 0, dim_45075, replicate_n_72609, virt_num_tblocks_72615, num_tblocks_72616, mem_69258.mem, mem_69260.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_69258, "mem_69258") != 0)
                        return 1;
                    for (int64_t i_51074 = 0; i_51074 < arg_50455; i_51074++) {
                        int64_t index_primexp_51076 = add64((int64_t) 1, i_51074);
                        bool x_51077 = sle64((int64_t) 0, index_primexp_51076);
                        bool y_51078 = slt64(index_primexp_51076, dim_45075);
                        bool bounds_check_51079 = x_51077 && y_51078;
                        bool index_certs_51080;
                        
                        if (!bounds_check_51079) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51076, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72630(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_51076, ext_mem_69257.mem, mem_69260.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_unref_device(ctx, &ext_mem_69257, "ext_mem_69257") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_69272, &mem_69260, "mem_69260") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_69242, "mem_69242") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_69273, (int64_t) 8, "mem_69273")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72636(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69186.mem, ext_mem_69272.mem, mem_69273.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_69275, binop_x_68643, "mem_69275")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_72642 = dim_45075;
                int64_t tblock_sizze_72647;
                
                tblock_sizze_72647 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72647;
                
                int64_t virt_num_tblocks_72648 = sdiv_up64(replicate_n_72642, tblock_sizze_72647);
                int64_t num_tblocks_72649 = smin64(virt_num_tblocks_72648, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72643(ctx, num_tblocks_72649, 1, 1, tblock_sizze_72647, 1, 1, (int64_t) 0, dim_45075, replicate_n_72642, virt_num_tblocks_72648, num_tblocks_72649, mem_69273.mem, mem_69275.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_69273, "mem_69273") != 0)
                    return 1;
                for (int64_t i_51090 = 0; i_51090 < arg_50455; i_51090++) {
                    int64_t index_primexp_51092 = add64((int64_t) 1, i_51090);
                    bool x_51093 = sle64((int64_t) 0, index_primexp_51092);
                    bool y_51094 = slt64(index_primexp_51092, dim_45075);
                    bool bounds_check_51095 = x_51093 && y_51094;
                    bool index_certs_51096;
                    
                    if (!bounds_check_51095) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51092, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_certs_55964;
                    
                    if (!bounds_check_51095) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51092, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:731:10-13\n   #2  ftSkyline.fut:729:1-733:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72663(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_51092, grid_partitions_per_dim_mem_68614.mem, ext_mem_69272.mem, mem_69275.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_69272, "ext_mem_69272") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69287, &mem_69275, "mem_69275") != 0)
                    return 1;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72669 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60157));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60161(ctx, segmap_usable_groups_60158, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60148, 1, 1, (int64_t) 0, dim_45075, grid_part_prefix_sum_mem_68612.mem, ext_mem_69287.mem, mem_69290.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_69287, "ext_mem_69287") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_69293, &mem_69158, "mem_69158") != 0)
                return 1;
            for (int64_t i_51105 = 0; i_51105 < dim_45075; i_51105++) {
                if (memblock_alloc_device(ctx, &mem_69294, (int64_t) 8, "mem_69294")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72680(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_51105, mem_69290.mem, mem_param_69293.mem, mem_69294.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_72678, &mem_69294, "mem_69294") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_69293, &mem_param_tmp_72678, "mem_param_tmp_72678") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_69297, &mem_param_69293, "mem_param_69293") != 0)
                return 1;
            if (futrts_builtinzhreplicate_f64(ctx, mem_69299, arg_50455, 0.0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (cond_50498) {
                if (memblock_alloc_device(ctx, &mem_69309, bytes_68925, "mem_69309")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_69312, &mem_69309, "mem_69309") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_69301, bytes_68925, "mem_69301")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_69301, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, defunc_0_f_res_51031) != 0) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_51169 = 0; i_51169 < distance_50506; i_51169++) {
                    int64_t index_primexp_51171 = add64((int64_t) 1, i_51169);
                    bool x_51172 = sle64((int64_t) 0, index_primexp_51171);
                    bool y_51173 = slt64(index_primexp_51171, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077);
                    bool bounds_check_51174 = x_51172 && y_51173;
                    bool index_certs_51175;
                    
                    if (!bounds_check_51174) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51171, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:388:70-71\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:731:10-13\n   #6  ftSkyline.fut:729:1-733:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double defunc_0_f_res_51176;
                    
                    if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_51176, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dim_45075, index_primexp_51171) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    double write_tmp_74203 = defunc_0_f_res_51176;
                    
                    if ((err = gpu_scalar_to_device(ctx, mem_69301.mem, index_primexp_51171 * sizeof(double), sizeof(double), &write_tmp_74203)) != 0)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_69312, &mem_69301, "mem_69301") != 0)
                    return 1;
            }
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72687(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_45076, total_angle_no_45087, ext_mem_69297.mem, mem_69313.mem, mem_69314.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (cond_50496) {
                if (memblock_alloc_device(ctx, &mem_69328, binop_x_68643, "mem_69328")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_69331, &mem_69328, "mem_69328") != 0)
                    return 1;
            } else {
                bool index_certs_51112 = 0;
                
                if (memblock_alloc_device(ctx, &mem_69317, binop_x_68643, "mem_69317")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_72693 = sext_i64_i32(sdiv_up64(dim_45075, segmap_tblock_sizze_60177));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60181(ctx, segmap_usable_groups_60178, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60168, 1, 1, (int64_t) 0, dim_45075, index_primexp_51038, start_of_grid_partition_mem_68615.mem, mem_69100.mem, ext_mem_69297.mem, mem_69317.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_69318, (int64_t) 8, "mem_69318")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72702(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69317.mem, mem_69318.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_69320, binop_x_68643, "mem_69320")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_72708 = dim_45075;
                int64_t tblock_sizze_72713;
                
                tblock_sizze_72713 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_72713;
                
                int64_t virt_num_tblocks_72714 = sdiv_up64(replicate_n_72708, tblock_sizze_72713);
                int64_t num_tblocks_72715 = smin64(virt_num_tblocks_72714, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_72709(ctx, num_tblocks_72715, 1, 1, tblock_sizze_72713, 1, 1, (int64_t) 0, dim_45075, replicate_n_72708, virt_num_tblocks_72714, num_tblocks_72715, mem_69318.mem, mem_69320.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_69318, "mem_69318") != 0)
                    return 1;
                for (int64_t i_51123 = 0; i_51123 < arg_50455; i_51123++) {
                    int64_t index_primexp_51125 = add64((int64_t) 1, i_51123);
                    bool x_51126 = sle64((int64_t) 0, index_primexp_51125);
                    bool y_51127 = slt64(index_primexp_51125, dim_45075);
                    bool bounds_check_51128 = x_51126 && y_51127;
                    bool index_certs_51129;
                    
                    if (!bounds_check_51128) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_51125, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_69320.mem, index_primexp_51125, (int64_t []) {(int64_t) 1}, mem_69317.mem, index_primexp_51125, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_69317, "mem_69317") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69331, &mem_69320, "mem_69320") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_69297, "ext_mem_69297") != 0)
                return 1;
            for (int64_t i_51134 = 0; i_51134 < arg_50455; i_51134++) {
                bool y_51136 = slt64(i_51134, dim_45075);
                bool index_certs_51137;
                
                if (!y_51136) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_51134, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t map_arg1_51139 = add64((int64_t) 1, i_51134);
                int64_t j_m_i_51140 = sub64(dim_45075, map_arg1_51139);
                bool empty_slice_51141 = j_m_i_51140 == (int64_t) 0;
                int64_t m_51142 = sub64(j_m_i_51140, (int64_t) 1);
                int64_t i_p_m_t_s_51143 = add64(map_arg1_51139, m_51142);
                bool zzero_leq_i_p_m_t_s_51144 = sle64((int64_t) 0, i_p_m_t_s_51143);
                bool i_p_m_t_s_leq_w_51145 = slt64(i_p_m_t_s_51143, dim_45075);
                bool zzero_lte_i_51146 = sle64((int64_t) 0, map_arg1_51139);
                bool i_lte_j_51147 = sle64(map_arg1_51139, dim_45075);
                bool y_51148 = i_p_m_t_s_leq_w_51145 && zzero_lte_i_51146;
                bool y_51149 = zzero_leq_i_p_m_t_s_51144 && y_51148;
                bool forwards_ok_51150 = i_lte_j_51147 && y_51149;
                bool ok_or_empty_51151 = empty_slice_51141 || forwards_ok_51150;
                bool index_certs_51152;
                
                if (!ok_or_empty_51151) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_51139, ":", (long long) dim_45075, "] out of bounds for array of shape [", (long long) dim_45075, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:388:70-71\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:731:10-13\n   #5  ftSkyline.fut:729:1-733:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_69336 = (int64_t) 8 * j_m_i_51140;
                int64_t segmap_usable_groups_60197 = sdiv_up64(j_m_i_51140, segmap_tblock_sizze_60196);
                
                if (memblock_alloc_device(ctx, &mem_69337, bytes_69336, "mem_69337")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_72730 = sext_i64_i32(sdiv_up64(j_m_i_51140, segmap_tblock_sizze_60196));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60200(ctx, segmap_usable_groups_60197, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60188, 1, 1, (int64_t) 0, map_arg1_51139, j_m_i_51140, ext_mem_69331.mem, mem_69337.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &mem_param_69340, &mem_69168, "mem_69168") != 0)
                    return 1;
                for (int64_t i_51158 = 0; i_51158 < j_m_i_51140; i_51158++) {
                    if (memblock_alloc_device(ctx, &mem_69341, (int64_t) 8, "mem_69341")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72741(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_51158, mem_69337.mem, mem_param_69340.mem, mem_69341.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_set_device(ctx, &mem_param_tmp_72739, &mem_69341, "mem_69341") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &mem_param_69340, &mem_param_tmp_72739, "mem_param_tmp_72739") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_69344, &mem_param_69340, "mem_param_69340") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_69337, "mem_69337") != 0)
                    return 1;
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72747(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_51134, mem_69299.mem, ext_mem_69331.mem, ext_mem_69344.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &ext_mem_69344, "ext_mem_69344") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_69331, "ext_mem_69331") != 0)
                return 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72753 = sext_i64_i32(sdiv_up64(arg_50455, segmap_tblock_sizze_60217));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60221(ctx, segmap_usable_groups_60218, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60206, 1, 1, (int64_t) 0, arg_50455, angle_part_prefix_sum_mem_68610.mem, angle_partitions_per_dim_mem_68611.mem, mem_69299.mem, ext_mem_69312.mem, mem_69351.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_69312, "ext_mem_69312") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_69354, &mem_69158, "mem_69158") != 0)
                return 1;
            for (int64_t i_51186 = 0; i_51186 < arg_50455; i_51186++) {
                if (memblock_alloc_device(ctx, &mem_69355, (int64_t) 8, "mem_69355")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72764(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_51186, mem_69351.mem, mem_param_69354.mem, mem_69355.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_72762, &mem_69355, "mem_69355") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_69354, &mem_param_tmp_72762, "mem_param_tmp_72762") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_69358, &mem_param_69354, "mem_param_69354") != 0)
                return 1;
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_72770(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_51038, mem_69233.mem, mem_69314.mem, ext_mem_69358.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_69358, "ext_mem_69358") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_69158, "mem_69158") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69168, "mem_69168") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69186, "mem_69186") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69290, "mem_69290") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69299, "mem_69299") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69313, "mem_69313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69314, "mem_69314") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69351, "mem_69351") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_69367, &mem_69233, "mem_69233") != 0)
            return 1;
    }
    
    int64_t num_tblocks_60231;
    int64_t max_num_tblocks_72776;
    
    max_num_tblocks_72776 = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_60230;
    num_tblocks_60231 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_50805, seghist_tblock_sizze_60229), max_num_tblocks_72776)));
    
    int64_t num_subhistos_72777;
    int64_t h_72780 = (int64_t) 8 * total_part_no_45089;
    int64_t seg_h_72781 = (int64_t) 8 * total_part_no_45089;
    
    if (!(seg_h_72781 == (int64_t) 0)) {
        int64_t hist_H_72782 = total_part_no_45089;
        int64_t hist_el_sizze_72783 = sdiv_up64(h_72780, hist_H_72782);
        int64_t hist_N_72784 = m_50805;
        int32_t hist_RF_72785 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_60231 * seghist_tblock_sizze_60229), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_60229, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_72782, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_72784, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_72783, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_72785, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_72780, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_72781, '\n');
        
        int64_t hist_L_72786;
        
        hist_L_72786 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L_72786;
        
        int64_t max_tblock_sizze_72787;
        
        max_tblock_sizze_72787 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_72788 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_60231 * seghist_tblock_sizze_60229)), max_tblock_sizze_72787);
        double hist_m_prime_72789 = sitofp_i64_f64(smin64(squot64(hist_L_72786, hist_el_sizze_72783), sdiv_up64(hist_N_72784, num_tblocks_72788))) / sitofp_i64_f64(hist_H_72782);
        int64_t hist_M0_72790 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_72789), max_tblock_sizze_72787));
        int64_t hist_Nout_72791 = (int64_t) 1;
        int64_t hist_Nin_72792 = m_50805;
        int64_t work_asymp_M_max_72793 = squot64(hist_Nout_72791 * hist_N_72784, (int64_t) 2 * num_tblocks_72788 * hist_H_72782);
        int32_t hist_M_72794 = sext_i64_i32(smin64(hist_M0_72790, work_asymp_M_max_72793));
        int64_t hist_C_72795 = sdiv_up64(max_tblock_sizze_72787, sext_i32_i64(smax32(1, hist_M_72794)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_72790, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_72793, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_72795, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_72787, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_72794, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_72782 * hist_el_sizze_72783 * sext_i32_i64(hist_M_72794)), '\n');
        
        int64_t local_mem_needed_72796 = hist_el_sizze_72783 * sext_i32_i64(hist_M_72794);
        int32_t hist_S_72797 = sext_i64_i32(sdiv_up64(hist_H_72782 * local_mem_needed_72796 + (int64_t) 1, hist_L_72786));
        
        if (sle64(hist_H_72782, hist_Nin_72792) && (sle64(local_mem_needed_72796, hist_L_72786) && (sle32(hist_S_72797, 3) && (sle64(hist_C_72795, max_tblock_sizze_72787) && slt32(0, hist_M_72794))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_72782, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_72794, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_72795, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_72797, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_72794, '\n');
            num_subhistos_72777 = num_tblocks_72788;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_72777, '\n');
            if (num_subhistos_72777 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_72778, &mem_68630, "mem_68630") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_72778, num_subhistos_72777 * total_part_no_45089 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_72778")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_72778, num_subhistos_72777 * total_part_no_45089, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_72778.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_68630.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_45089})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_72798 = 0; chk_i_72798 < hist_S_72797; chk_i_72798++) {
                int64_t num_segments_72799 = (int64_t) 1;
                int64_t hist_H_chk_72800 = sdiv_up64(total_part_no_45089, sext_i32_i64(hist_S_72797));
                int64_t histo_sizze_72801 = hist_H_chk_72800;
                int32_t init_per_thread_72802 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_72794) * histo_sizze_72801, max_tblock_sizze_72787));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_local_60236(ctx, num_tblocks_72788, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_72794 * hist_H_chk_72800) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_72794 * hist_H_chk_72800), (int64_t) 8), (int64_t) 8), total_part_no_45089, m_50805, num_subhistos_72777, num_tblocks_72788, hist_M_72794, chk_i_72798, num_segments_72799, hist_H_chk_72800, histo_sizze_72801, init_per_thread_72802, ext_mem_69367.mem, defunc_0_map_res_subhistos_mem_72778.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_72834 = total_part_no_45089;
            double hist_RF_72835 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_72836 = 8;
            double hist_C_max_72837 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_60231 * seghist_tblock_sizze_60229)), sitofp_i32_f64(hist_H_72834) / 2.0);
            int32_t hist_M_min_72838 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_60231 * seghist_tblock_sizze_60229)) / hist_C_max_72837)));
            int64_t hist_L2_72839;
            
            hist_L2_72839 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L2_72839;
            
            double hist_RACE_exp_72840 = fmax64(1.0, 0.75 * hist_RF_72835 / (64.0 / sitofp_i32_f64(hist_el_sizze_72836)));
            int32_t hist_S_72841;
            
            if (slt64(m_50805, hist_H_72834)) {
                hist_S_72841 = 1;
            } else {
                hist_S_72841 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_72838) * hist_H_72834 * sext_i32_i64(hist_el_sizze_72836), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_72839) * hist_RACE_exp_72840)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_72840, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_72841, '\n');
            
            int64_t hist_H_chk_72842 = sdiv_up64(total_part_no_45089, sext_i32_i64(hist_S_72841));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_72842, '\n');
            
            double hist_k_max_72843 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_72839) / sitofp_i32_f64(8)) * hist_RACE_exp_72840, sitofp_i32_f64(m_50805)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_60231 * seghist_tblock_sizze_60229));
            int64_t hist_u_72844 = (int64_t) 2;
            double hist_C_72845 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_60231 * seghist_tblock_sizze_60229)), sitofp_i32_f64(hist_u_72844 * hist_H_chk_72842) / hist_k_max_72843);
            int32_t hist_M_72846 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_72843, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_72846, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_72845, '\n');
            num_subhistos_72777 = sext_i32_i64(hist_M_72846);
            if (hist_M_72846 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_72778, &mem_68630, "mem_68630") != 0)
                    return 1;
            } else if (num_subhistos_72777 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_72778, &mem_68630, "mem_68630") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_72778, num_subhistos_72777 * total_part_no_45089 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_72778")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_72778, num_subhistos_72777 * total_part_no_45089, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_72778.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_68630.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_45089})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_72847 = 0; chk_i_72847 < hist_S_72841; chk_i_72847++) {
                int64_t hist_H_chk_72848 = sdiv_up64(total_part_no_45089, sext_i32_i64(hist_S_72841));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_global_60236(ctx, num_tblocks_60231, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228, 1, 1, (int64_t) 0, total_part_no_45089, m_50805, num_tblocks_60231, num_subhistos_72777, chk_i_72847, hist_H_chk_72848, ext_mem_69367.mem, defunc_0_map_res_subhistos_mem_72778.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
        if (num_subhistos_72777 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_68630, &defunc_0_map_res_subhistos_mem_72778, "defunc_0_map_res_subhistos_mem_72778") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_72864 = (int64_t) 1;
            
            if (slt64(num_subhistos_72777 * (int64_t) 2, seghist_tblock_sizze_60229 * chunk_sizze_72864)) {
                int64_t segment_sizze_nonzzero_72865 = smax64((int64_t) 1, num_subhistos_72777);
                int64_t num_threads_72866 = seghist_tblock_sizze_60229 * seghist_tblock_sizze_60229;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_45089, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_72777, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_45089, squot64(seghist_tblock_sizze_60229, segment_sizze_nonzzero_72865))), '\n');
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_small_72863(ctx, num_tblocks_60231, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228, 1, 1, (int64_t) 8 * seghist_tblock_sizze_60229 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_60229, (int64_t) 8), (int64_t) 8), total_part_no_45089, num_tblocks_60231, num_subhistos_72777, segment_sizze_nonzzero_72865, mem_68630.mem, defunc_0_map_res_subhistos_mem_72778.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_72894 = sdiv_up64(num_tblocks_60231, smax64((int64_t) 1, total_part_no_45089));
                int64_t q_72895 = sdiv_up64(num_subhistos_72777, seghist_tblock_sizze_60229 * blocks_per_segment_72894 * chunk_sizze_72864);
                int64_t num_virtblocks_72896 = blocks_per_segment_72894 * total_part_no_45089;
                int64_t threads_per_segment_72897 = blocks_per_segment_72894 * seghist_tblock_sizze_60229;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_45089, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_72777, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_72896, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_60231, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_60229, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_72895, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_72894, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_72898, (int64_t) 8 * num_virtblocks_72896, "segred_tmp_mem_72898")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_large_72863(ctx, num_tblocks_60231, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_60228, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_60229 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_60229, (int64_t) 8), (int64_t) 8)), total_part_no_45089, num_tblocks_60231, num_subhistos_72777, blocks_per_segment_72894, q_72895, num_virtblocks_72896, threads_per_segment_72897, mem_68630.mem, defunc_0_map_res_subhistos_mem_72778.mem, segred_tmp_mem_72898.mem, counters_mem_72900.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_69367, "ext_mem_69367") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69371, bytes_68629, "mem_69371")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_45089)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_72937;
        
        shared_memory_72937 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_72938;
        
        thread_block_sizze_72938 = ctx->max_thread_block_size;
        
        int64_t registers_72939;
        
        registers_72939 = ctx->max_registers;
        
        int64_t thread_block_sizze_72940;
        
        thread_block_sizze_72940 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_72941 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_72937, thread_block_sizze_72938), (int64_t) 8), squot64(squot64(registers_72939, thread_block_sizze_72940) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_72942 = sdiv_up64(total_part_no_45089, segscan_tblock_sizze_60244 * chunk_sizze_72941);
        int64_t num_virt_threads_72943 = num_virt_blocks_72942 * segscan_tblock_sizze_60244;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_72941, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_72944, num_virt_blocks_72942, "status_flags_mem_72944")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_72944, num_virt_blocks_72942, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_72946, (int64_t) 8 * num_virt_blocks_72942, "aggregates_mem_72946")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_72948, (int64_t) 8 * num_virt_blocks_72942, "incprefixes_mem_72948")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_60249(ctx, num_tblocks_60246, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_60243, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_60244), chunk_sizze_72941 * segscan_tblock_sizze_60244 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_60244), chunk_sizze_72941 * segscan_tblock_sizze_60244 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_45089, num_tblocks_60246, num_virt_blocks_72942, num_virt_threads_72943, mem_68630.mem, mem_69371.mem, status_flags_mem_72944.mem, aggregates_mem_72946.mem, incprefixes_mem_72948.mem, global_dynid_mem_72950.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_68630, "mem_68630") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69374, bytes_68629, "mem_69374")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_73039 = sext_i64_i32(sdiv_up64(total_part_no_45089, segmap_tblock_sizze_60265));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_60269(ctx, segmap_usable_groups_60266, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_60253, 1, 1, (int64_t) 0, total_part_no_45089, mem_69371.mem, mem_69374.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_69371, "mem_69371") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71649, &isPartitionDominated_mem_68616, "isPartitionDominated_mem_68616") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71650, &mem_69374, "mem_69374") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71651, &mem_69100, "mem_69100") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71652, &mem_69103, "mem_69103") != 0)
        return 1;
    prim_out_71653 = total_part_no_45089;
    prim_out_71654 = m_50805;
    if (memblock_set_device(ctx, &*mem_out_p_74193, &mem_out_71649, "mem_out_71649") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74194, &mem_out_71650, "mem_out_71650") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74195, &mem_out_71651, "mem_out_71651") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74196, &mem_out_71652, "mem_out_71652") != 0)
        return 1;
    *out_prim_out_74197 = prim_out_71653;
    *out_prim_out_74198 = prim_out_71654;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_69374, "mem_69374") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_72948, "incprefixes_mem_72948") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_72946, "aggregates_mem_72946") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_72944, "status_flags_mem_72944") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69371, "mem_69371") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_72898, "segred_tmp_mem_72898") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_72778, "defunc_0_map_res_subhistos_mem_72778") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72762, "mem_param_tmp_72762") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69355, "mem_69355") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69354, "mem_param_69354") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69358, "ext_mem_69358") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72739, "mem_param_tmp_72739") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69341, "mem_69341") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69340, "mem_param_69340") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69344, "ext_mem_69344") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69337, "mem_69337") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69320, "mem_69320") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69318, "mem_69318") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69317, "mem_69317") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69328, "mem_69328") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69331, "ext_mem_69331") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69301, "mem_69301") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69309, "mem_69309") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69312, "ext_mem_69312") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72678, "mem_param_tmp_72678") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69294, "mem_69294") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69293, "mem_param_69293") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69297, "ext_mem_69297") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69275, "mem_69275") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69273, "mem_69273") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69260, "mem_69260") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69258, "mem_69258") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69245, "mem_69245") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69243, "mem_69243") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69254, "mem_69254") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69257, "ext_mem_69257") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69269, "mem_69269") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69272, "ext_mem_69272") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69242, "mem_69242") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69284, "mem_69284") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69287, "ext_mem_69287") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69351, "mem_69351") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69314, "mem_69314") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69313, "mem_69313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69299, "mem_69299") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69290, "mem_69290") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69233, "mem_69233") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69231, "mem_69231") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72517, "mem_param_tmp_72517") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69227, "mem_69227") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69226, "mem_param_69226") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69230, "ext_mem_69230") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72494, "mem_param_tmp_72494") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69213, "mem_69213") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69212, "mem_param_69212") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69216, "ext_mem_69216") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69209, "mem_69209") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69192, "mem_69192") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69190, "mem_69190") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69189, "mem_69189") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69200, "mem_69200") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69203, "ext_mem_69203") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69186, "mem_69186") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69185, "mem_69185") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69184, "mem_69184") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69182, "mem_69182") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69183, "ext_mem_69183") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69170, "mem_69170") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69178, "mem_69178") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69181, "ext_mem_69181") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69168, "mem_69168") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69223, "mem_69223") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72427, "mem_param_tmp_72427") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69162, "mem_69162") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69161, "mem_param_69161") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69165, "ext_mem_69165") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69158, "mem_69158") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69157, "mem_69157") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69142, "mem_69142") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69140, "mem_69140") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69127, "mem_69127") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69125, "mem_69125") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69112, "mem_69112") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69110, "mem_69110") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69121, "mem_69121") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69124, "ext_mem_69124") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69136, "mem_69136") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69139, "ext_mem_69139") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69109, "mem_69109") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69151, "mem_69151") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69154, "ext_mem_69154") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69364, "mem_69364") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69367, "ext_mem_69367") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69103, "mem_69103") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69100, "mem_69100") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69096, "mem_69096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69093, "mem_69093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68630, "mem_68630") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_72166, "incprefixes_mem_72166") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_72164, "aggregates_mem_72164") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_72142, "status_flags_mem_72142") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69091, "mem_69091") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69089, "mem_69089") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72000, "mem_param_tmp_72000") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69083, "mem_69083") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72079, "mem_param_tmp_72079") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69039, "mem_69039") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69027, "mem_69027") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69005, "mem_69005") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69001, "mem_param_69001") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69043, "ext_mem_69043") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68988, "mem_68988") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68970, "mem_68970") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68959, "mem_68959") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68948, "mem_68948") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68945, "mem_68945") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68991, "mem_68991") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68994, "ext_mem_68994") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68926, "mem_68926") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68934, "mem_68934") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68937, "ext_mem_68937") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_68924, "mem_param_68924") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69086, "ext_mem_69086") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71395, "color_71395") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71394, "color_71394") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69058, "mem_69058") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69047, "mem_69047") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69016, "mem_69016") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68997, "mem_68997") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68921, "mem_68921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68910, "mem_68910") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68908, "mem_68908") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68906, "mem_68906") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68895, "mem_68895") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68840, "mem_68840") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68822, "mem_68822") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68811, "mem_68811") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68800, "mem_68800") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68797, "mem_68797") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68756, "mem_68756") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68738, "mem_68738") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68727, "mem_68727") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68716, "mem_68716") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68713, "mem_68713") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68685, "mem_68685") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68667, "mem_68667") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68656, "mem_68656") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68645, "mem_68645") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68642, "mem_68642") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68639, "mem_68639") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68701, "mem_68701") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68704, "ext_mem_68704") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68707, "mem_68707") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68710, "ext_mem_68710") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68785, "mem_68785") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68788, "ext_mem_68788") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68791, "mem_68791") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68794, "ext_mem_68794") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68882, "mem_68882") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68885, "ext_mem_68885") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68888, "mem_68888") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68891, "ext_mem_68891") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68631, "mem_68631") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68626, "mem_68626") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68627, "mem_68627") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68628, "ext_mem_68628") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68625, "mem_68625") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_71679, "segred_tmp_mem_71679") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68623, "mem_68623") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68621, "mem_68621") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71652, "mem_out_71652") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71651, "mem_out_71651") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71650, "mem_out_71650") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71649, "mem_out_71649") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_define_skyline_space_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_74204, struct memblock_device *mem_out_p_74205, struct memblock_device *mem_out_p_74206, struct memblock_device *mem_out_p_74207, struct memblock_device *mem_out_p_74208, struct memblock_device *mem_out_p_74209, int64_t *out_prim_out_74210, int64_t *out_prim_out_74211, int64_t *out_prim_out_74212, int64_t *out_prim_out_74213, struct memblock_device min_per_dim_mem_68610, struct memblock_device max_per_dim_mem_68611, struct memblock_device grid_partitions_per_dim_mem_68612, struct memblock_device angle_partitions_per_dim_mem_68613, int64_t dim_26352, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_68639;
    
    mem_68639.references = NULL;
    
    struct memblock_device mem_68635;
    
    mem_68635.references = NULL;
    
    struct memblock_device mem_68632;
    
    mem_68632.references = NULL;
    
    struct memblock_device segred_tmp_mem_71944;
    
    segred_tmp_mem_71944.references = NULL;
    
    struct memblock_device mem_68629;
    
    mem_68629.references = NULL;
    
    struct memblock_device incprefixes_mem_71849;
    
    incprefixes_mem_71849.references = NULL;
    
    struct memblock_device aggregates_mem_71847;
    
    aggregates_mem_71847.references = NULL;
    
    struct memblock_device status_flags_mem_71845;
    
    status_flags_mem_71845.references = NULL;
    
    struct memblock_device mem_68627;
    
    mem_68627.references = NULL;
    
    struct memblock_device mem_68625;
    
    mem_68625.references = NULL;
    
    struct memblock_device segred_tmp_mem_71806;
    
    segred_tmp_mem_71806.references = NULL;
    
    struct memblock_device mem_68622;
    
    mem_68622.references = NULL;
    
    struct memblock_device incprefixes_mem_71691;
    
    incprefixes_mem_71691.references = NULL;
    
    struct memblock_device aggregates_mem_71689;
    
    aggregates_mem_71689.references = NULL;
    
    struct memblock_device status_flags_mem_71667;
    
    status_flags_mem_71667.references = NULL;
    
    struct memblock_device mem_68620;
    
    mem_68620.references = NULL;
    
    struct memblock_device mem_68618;
    
    mem_68618.references = NULL;
    
    struct memblock_device mem_68616;
    
    mem_68616.references = NULL;
    
    struct memblock_device mem_out_71654;
    
    mem_out_71654.references = NULL;
    
    struct memblock_device mem_out_71653;
    
    mem_out_71653.references = NULL;
    
    struct memblock_device mem_out_71652;
    
    mem_out_71652.references = NULL;
    
    struct memblock_device mem_out_71651;
    
    mem_out_71651.references = NULL;
    
    struct memblock_device mem_out_71650;
    
    mem_out_71650.references = NULL;
    
    struct memblock_device mem_out_71649;
    
    mem_out_71649.references = NULL;
    
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t prim_out_71655;
    int64_t prim_out_71656;
    int64_t prim_out_71657;
    int64_t prim_out_71658;
    int64_t arg_48133 = sub64(dim_26352, (int64_t) 1);
    bool assert_cond_48134 = arg_48133 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;
    bool assert_c_48135;
    
    if (!assert_cond_48134) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  unknown location\n   #1  ftSkyline.fut:704:1-715:41\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segscan_tblock_sizze_57638;
    
    segscan_tblock_sizze_57638 = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57637;
    
    int64_t num_tblocks_57640;
    int64_t max_num_tblocks_71659;
    
    max_num_tblocks_71659 = *ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_57639;
    num_tblocks_57640 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dim_26352, segscan_tblock_sizze_57638), max_num_tblocks_71659)));
    
    int64_t bytes_68615 = (int64_t) 8 * dim_26352;
    
    if (memblock_alloc_device(ctx, &mem_68616, bytes_68615, "mem_68616")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68618, bytes_68615, "mem_68618")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68620, bytes_68615, "mem_68620")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dim_26352)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_71660;
        
        shared_memory_71660 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_71661;
        
        thread_block_sizze_71661 = ctx->max_thread_block_size;
        
        int64_t registers_71662;
        
        registers_71662 = ctx->max_registers;
        
        int64_t thread_block_sizze_71663;
        
        thread_block_sizze_71663 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_71664 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_71660, thread_block_sizze_71661), (int64_t) 8), squot64(squot64(registers_71662, thread_block_sizze_71663) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_71665 = sdiv_up64(dim_26352, segscan_tblock_sizze_57638 * chunk_sizze_71664);
        int64_t num_virt_threads_71666 = num_virt_blocks_71665 * segscan_tblock_sizze_57638;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_71664, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_71667, num_virt_blocks_71665, "status_flags_mem_71667")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_71667, num_virt_blocks_71665, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_71689, (int64_t) 8 * num_virt_blocks_71665, "aggregates_mem_71689")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_71691, (int64_t) 8 * num_virt_blocks_71665, "incprefixes_mem_71691")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_define_skyline_space_doublezisegscan_57643(ctx, num_tblocks_57640, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57637, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57638), chunk_sizze_71664 * segscan_tblock_sizze_57638 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57638), chunk_sizze_71664 * segscan_tblock_sizze_57638 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dim_26352, num_tblocks_57640, num_virt_blocks_71665, num_virt_threads_71666, min_per_dim_mem_68610.mem, max_per_dim_mem_68611.mem, grid_partitions_per_dim_mem_68612.mem, mem_68616.mem, mem_68618.mem, mem_68620.mem, status_flags_mem_71667.mem, aggregates_mem_71689.mem, incprefixes_mem_71691.mem, global_dynid_mem_71693.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t segred_tblock_sizze_57646;
    
    segred_tblock_sizze_57646 = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57645;
    
    int64_t num_tblocks_57648;
    int64_t max_num_tblocks_71802;
    
    max_num_tblocks_71802 = *ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_57647;
    num_tblocks_57648 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dim_26352, segred_tblock_sizze_57646), max_num_tblocks_71802)));
    if (memblock_alloc_device(ctx, &mem_68622, (int64_t) 8, "mem_68622")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_71803 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_71806, (int64_t) 8 * num_tblocks_57648, "segred_tmp_mem_71806")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_71808 = num_tblocks_57648 * segred_tblock_sizze_57646;
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegred_nonseg_57653(ctx, num_tblocks_57648, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57645, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_57646 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_57646, (int64_t) 8), (int64_t) 8)), dim_26352, num_tblocks_57648, num_threads_71808, mem_68618.mem, mem_68622.mem, counters_mem_71804.mem, segred_tmp_mem_71806.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68618, "mem_68618") != 0)
        return 1;
    
    int64_t read_res_74214;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_74214, mem_68622.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_res_56104 = read_res_74214;
    
    if (memblock_unref_device(ctx, &mem_68622, "mem_68622") != 0)
        return 1;
    
    int64_t bytes_68624 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;
    bool bounds_invalid_upwards_48180 = slt64(defunc_res_56104, (int64_t) 0);
    bool valid_48181 = !bounds_invalid_upwards_48180;
    bool range_valid_c_48182;
    
    if (!valid_48181) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) defunc_res_56104, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  ftSkyline.fut:56:29-47\n   #2  ftSkyline.fut:95:90-114\n   #3  ftSkyline.fut:715:17-41\n   #4  ftSkyline.fut:704:1-715:41\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_68637 = (int64_t) 8 * defunc_res_56104;
    int64_t bytes_68638 = dim_26352 * binop_x_68637;
    int64_t segscan_tblock_sizze_57658;
    
    segscan_tblock_sizze_57658 = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57657;
    
    int64_t num_tblocks_57660;
    int64_t max_num_tblocks_71837;
    
    max_num_tblocks_71837 = *ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_57659;
    num_tblocks_57660 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, segscan_tblock_sizze_57658), max_num_tblocks_71837)));
    if (memblock_alloc_device(ctx, &mem_68625, bytes_68624, "mem_68625")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68627, bytes_68624, "mem_68627")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_71838;
        
        shared_memory_71838 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_71839;
        
        thread_block_sizze_71839 = ctx->max_thread_block_size;
        
        int64_t registers_71840;
        
        registers_71840 = ctx->max_registers;
        
        int64_t thread_block_sizze_71841;
        
        thread_block_sizze_71841 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_71842 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_71838, thread_block_sizze_71839), (int64_t) 8), squot64(squot64(registers_71840, thread_block_sizze_71841) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_71843 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, segscan_tblock_sizze_57658 * chunk_sizze_71842);
        int64_t num_virt_threads_71844 = num_virt_blocks_71843 * segscan_tblock_sizze_57658;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_71842, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_71845, num_virt_blocks_71843, "status_flags_mem_71845")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_71845, num_virt_blocks_71843, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_71847, (int64_t) 8 * num_virt_blocks_71843, "aggregates_mem_71847")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_71849, (int64_t) 8 * num_virt_blocks_71843, "incprefixes_mem_71849")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_define_skyline_space_doublezisegscan_57663(ctx, num_tblocks_57660, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_57657, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57658), chunk_sizze_71842 * segscan_tblock_sizze_57658 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_57658), chunk_sizze_71842 * segscan_tblock_sizze_57658 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, num_tblocks_57660, num_virt_blocks_71843, num_virt_threads_71844, angle_partitions_per_dim_mem_68613.mem, mem_68625.mem, mem_68627.mem, status_flags_mem_71845.mem, aggregates_mem_71847.mem, incprefixes_mem_71849.mem, global_dynid_mem_71851.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t segred_tblock_sizze_57666;
    
    segred_tblock_sizze_57666 = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57665;
    
    int64_t num_tblocks_57668;
    int64_t max_num_tblocks_71940;
    
    max_num_tblocks_71940 = *ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_57667;
    num_tblocks_57668 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, segred_tblock_sizze_57666), max_num_tblocks_71940)));
    if (memblock_alloc_device(ctx, &mem_68629, (int64_t) 8, "mem_68629")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_71941 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_71944, (int64_t) 8 * num_tblocks_57668, "segred_tmp_mem_71944")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_71946 = num_tblocks_57668 * segred_tblock_sizze_57666;
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegred_nonseg_57673(ctx, num_tblocks_57668, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_57665, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_57666 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_57666, (int64_t) 8), (int64_t) 8)), dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, num_tblocks_57668, num_threads_71946, mem_68627.mem, mem_68629.mem, counters_mem_71942.mem, segred_tmp_mem_71944.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68627, "mem_68627") != 0)
        return 1;
    
    int64_t read_res_74215;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_74215, mem_68629.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_res_56107 = read_res_74215;
    
    if (memblock_unref_device(ctx, &mem_68629, "mem_68629") != 0)
        return 1;
    
    int64_t total_part_no_48147 = mul64(defunc_res_56104, defunc_res_56107);
    int64_t segmap_tblock_sizze_57689;
    
    segmap_tblock_sizze_57689 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57677;
    
    int64_t segmap_usable_groups_57690 = sdiv_up64(dim_26352, segmap_tblock_sizze_57689);
    
    if (memblock_alloc_device(ctx, &mem_68632, bytes_68615, "mem_68632")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_71975 = sext_i64_i32(sdiv_up64(dim_26352, segmap_tblock_sizze_57689));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_57693(ctx, segmap_usable_groups_57690, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57677, 1, 1, (int64_t) 0, dim_26352, mem_68616.mem, mem_68632.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68616, "mem_68616") != 0)
        return 1;
    
    int64_t segmap_tblock_sizze_57715;
    
    segmap_tblock_sizze_57715 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57703;
    
    int64_t segmap_usable_groups_57716 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, segmap_tblock_sizze_57715);
    
    if (memblock_alloc_device(ctx, &mem_68635, bytes_68624, "mem_68635")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_71984 = sext_i64_i32(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, segmap_tblock_sizze_57715));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_57719(ctx, segmap_usable_groups_57716, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57703, 1, 1, (int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353, mem_68625.mem, mem_68635.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68625, "mem_68625") != 0)
        return 1;
    
    int64_t nest_sizze_57800 = dim_26352 * defunc_res_56104;
    int64_t segmap_tblock_sizze_57801;
    
    segmap_tblock_sizze_57801 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57739;
    
    int64_t segmap_usable_groups_57802 = sdiv_up64(nest_sizze_57800, segmap_tblock_sizze_57801);
    
    if (memblock_alloc_device(ctx, &mem_68639, bytes_68638, "mem_68639")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_71993 = sext_i64_i32(sdiv_up64(defunc_res_56104 * dim_26352, segmap_tblock_sizze_57801));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_57806(ctx, segmap_usable_groups_57802, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_57739, 1, 1, (int64_t) 0, dim_26352, defunc_res_56104, min_per_dim_mem_68610.mem, grid_partitions_per_dim_mem_68612.mem, mem_68620.mem, mem_68632.mem, mem_68639.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_set_device(ctx, &mem_out_71649, &mem_68635, "mem_68635") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71650, &angle_partitions_per_dim_mem_68613, "angle_partitions_per_dim_mem_68613") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71651, &mem_68632, "mem_68632") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71652, &mem_68620, "mem_68620") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71653, &grid_partitions_per_dim_mem_68612, "grid_partitions_per_dim_mem_68612") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71654, &mem_68639, "mem_68639") != 0)
        return 1;
    prim_out_71655 = defunc_res_56104;
    prim_out_71656 = defunc_res_56107;
    prim_out_71657 = defunc_res_56104;
    prim_out_71658 = total_part_no_48147;
    if (memblock_set_device(ctx, &*mem_out_p_74204, &mem_out_71649, "mem_out_71649") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74205, &mem_out_71650, "mem_out_71650") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74206, &mem_out_71651, "mem_out_71651") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74207, &mem_out_71652, "mem_out_71652") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74208, &mem_out_71653, "mem_out_71653") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74209, &mem_out_71654, "mem_out_71654") != 0)
        return 1;
    *out_prim_out_74210 = prim_out_71655;
    *out_prim_out_74211 = prim_out_71656;
    *out_prim_out_74212 = prim_out_71657;
    *out_prim_out_74213 = prim_out_71658;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_68639, "mem_68639") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68635, "mem_68635") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68632, "mem_68632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_71944, "segred_tmp_mem_71944") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68629, "mem_68629") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_71849, "incprefixes_mem_71849") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_71847, "aggregates_mem_71847") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_71845, "status_flags_mem_71845") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68627, "mem_68627") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68625, "mem_68625") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_71806, "segred_tmp_mem_71806") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68622, "mem_68622") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_71691, "incprefixes_mem_71691") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_71689, "aggregates_mem_71689") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_71667, "status_flags_mem_71667") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68620, "mem_68620") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68618, "mem_68618") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68616, "mem_68616") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71654, "mem_out_71654") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71653, "mem_out_71653") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71652, "mem_out_71652") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71651, "mem_out_71651") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71650, "mem_out_71650") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71649, "mem_out_71649") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_74216, struct memblock_device *mem_out_p_74217, struct memblock_device *mem_out_p_74218, struct memblock_device *mem_out_p_74219, int64_t *out_prim_out_74220, int64_t *out_prim_out_74221, int64_t *out_prim_out_74222, struct memblock_device angle_part_prefix_sum_mem_68610, struct memblock_device angle_partitions_per_dim_mem_68611, struct memblock_device grid_part_prefix_sum_mem_68612, struct memblock_device grid_part_sizze_per_dim_mem_68613, struct memblock_device grid_partitions_per_dim_mem_68614, struct memblock_device start_of_grid_partition_mem_68615, struct memblock_device xs_mem_68616, int64_t dim_38264, int64_t dz2080U_38265, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, int64_t n_38267, int64_t total_angle_no_38274, int64_t total_grid_no_38275, int64_t total_part_no_38276, bool use_measure_for_sorting_38278)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_70677;
    
    mem_70677.references = NULL;
    
    struct memblock_device incprefixes_mem_74093;
    
    incprefixes_mem_74093.references = NULL;
    
    struct memblock_device aggregates_mem_74091;
    
    aggregates_mem_74091.references = NULL;
    
    struct memblock_device status_flags_mem_74089;
    
    status_flags_mem_74089.references = NULL;
    
    struct memblock_device mem_70674;
    
    mem_70674.references = NULL;
    
    struct memblock_device segred_tmp_mem_74043;
    
    segred_tmp_mem_74043.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_73923;
    
    defunc_0_map_res_subhistos_mem_73923.references = NULL;
    
    struct memblock_device mem_param_tmp_73907;
    
    mem_param_tmp_73907.references = NULL;
    
    struct memblock_device mem_70658;
    
    mem_70658.references = NULL;
    
    struct memblock_device mem_param_70657;
    
    mem_param_70657.references = NULL;
    
    struct memblock_device ext_mem_70661;
    
    ext_mem_70661.references = NULL;
    
    struct memblock_device mem_param_tmp_73884;
    
    mem_param_tmp_73884.references = NULL;
    
    struct memblock_device mem_70644;
    
    mem_70644.references = NULL;
    
    struct memblock_device mem_param_70643;
    
    mem_param_70643.references = NULL;
    
    struct memblock_device ext_mem_70647;
    
    ext_mem_70647.references = NULL;
    
    struct memblock_device mem_70640;
    
    mem_70640.references = NULL;
    
    struct memblock_device mem_70623;
    
    mem_70623.references = NULL;
    
    struct memblock_device mem_70621;
    
    mem_70621.references = NULL;
    
    struct memblock_device mem_70620;
    
    mem_70620.references = NULL;
    
    struct memblock_device mem_70631;
    
    mem_70631.references = NULL;
    
    struct memblock_device ext_mem_70634;
    
    ext_mem_70634.references = NULL;
    
    struct memblock_device mem_70604;
    
    mem_70604.references = NULL;
    
    struct memblock_device mem_70612;
    
    mem_70612.references = NULL;
    
    struct memblock_device ext_mem_70615;
    
    ext_mem_70615.references = NULL;
    
    struct memblock_device mem_param_tmp_73823;
    
    mem_param_tmp_73823.references = NULL;
    
    struct memblock_device mem_70597;
    
    mem_70597.references = NULL;
    
    struct memblock_device mem_param_70596;
    
    mem_param_70596.references = NULL;
    
    struct memblock_device ext_mem_70600;
    
    ext_mem_70600.references = NULL;
    
    struct memblock_device mem_70578;
    
    mem_70578.references = NULL;
    
    struct memblock_device mem_70576;
    
    mem_70576.references = NULL;
    
    struct memblock_device mem_70563;
    
    mem_70563.references = NULL;
    
    struct memblock_device mem_70561;
    
    mem_70561.references = NULL;
    
    struct memblock_device mem_70548;
    
    mem_70548.references = NULL;
    
    struct memblock_device mem_70546;
    
    mem_70546.references = NULL;
    
    struct memblock_device mem_70557;
    
    mem_70557.references = NULL;
    
    struct memblock_device ext_mem_70560;
    
    ext_mem_70560.references = NULL;
    
    struct memblock_device mem_70572;
    
    mem_70572.references = NULL;
    
    struct memblock_device ext_mem_70575;
    
    ext_mem_70575.references = NULL;
    
    struct memblock_device mem_70545;
    
    mem_70545.references = NULL;
    
    struct memblock_device mem_70587;
    
    mem_70587.references = NULL;
    
    struct memblock_device ext_mem_70590;
    
    ext_mem_70590.references = NULL;
    
    struct memblock_device mem_70654;
    
    mem_70654.references = NULL;
    
    struct memblock_device mem_70617;
    
    mem_70617.references = NULL;
    
    struct memblock_device mem_70616;
    
    mem_70616.references = NULL;
    
    struct memblock_device mem_70602;
    
    mem_70602.references = NULL;
    
    struct memblock_device mem_70593;
    
    mem_70593.references = NULL;
    
    struct memblock_device mem_70536;
    
    mem_70536.references = NULL;
    
    struct memblock_device mem_70534;
    
    mem_70534.references = NULL;
    
    struct memblock_device mem_param_tmp_73662;
    
    mem_param_tmp_73662.references = NULL;
    
    struct memblock_device mem_70530;
    
    mem_70530.references = NULL;
    
    struct memblock_device mem_param_70529;
    
    mem_param_70529.references = NULL;
    
    struct memblock_device ext_mem_70533;
    
    ext_mem_70533.references = NULL;
    
    struct memblock_device mem_param_tmp_73639;
    
    mem_param_tmp_73639.references = NULL;
    
    struct memblock_device mem_70516;
    
    mem_70516.references = NULL;
    
    struct memblock_device mem_param_70515;
    
    mem_param_70515.references = NULL;
    
    struct memblock_device ext_mem_70519;
    
    ext_mem_70519.references = NULL;
    
    struct memblock_device mem_70512;
    
    mem_70512.references = NULL;
    
    struct memblock_device mem_70495;
    
    mem_70495.references = NULL;
    
    struct memblock_device mem_70493;
    
    mem_70493.references = NULL;
    
    struct memblock_device mem_70492;
    
    mem_70492.references = NULL;
    
    struct memblock_device mem_70503;
    
    mem_70503.references = NULL;
    
    struct memblock_device ext_mem_70506;
    
    ext_mem_70506.references = NULL;
    
    struct memblock_device mem_70489;
    
    mem_70489.references = NULL;
    
    struct memblock_device mem_70488;
    
    mem_70488.references = NULL;
    
    struct memblock_device mem_70487;
    
    mem_70487.references = NULL;
    
    struct memblock_device mem_70485;
    
    mem_70485.references = NULL;
    
    struct memblock_device ext_mem_70486;
    
    ext_mem_70486.references = NULL;
    
    struct memblock_device mem_70473;
    
    mem_70473.references = NULL;
    
    struct memblock_device mem_70481;
    
    mem_70481.references = NULL;
    
    struct memblock_device ext_mem_70484;
    
    ext_mem_70484.references = NULL;
    
    struct memblock_device mem_70471;
    
    mem_70471.references = NULL;
    
    struct memblock_device mem_70526;
    
    mem_70526.references = NULL;
    
    struct memblock_device mem_param_tmp_73572;
    
    mem_param_tmp_73572.references = NULL;
    
    struct memblock_device mem_70465;
    
    mem_70465.references = NULL;
    
    struct memblock_device mem_param_70464;
    
    mem_param_70464.references = NULL;
    
    struct memblock_device ext_mem_70468;
    
    ext_mem_70468.references = NULL;
    
    struct memblock_device mem_70461;
    
    mem_70461.references = NULL;
    
    struct memblock_device mem_70460;
    
    mem_70460.references = NULL;
    
    struct memblock_device mem_70445;
    
    mem_70445.references = NULL;
    
    struct memblock_device mem_70443;
    
    mem_70443.references = NULL;
    
    struct memblock_device mem_70430;
    
    mem_70430.references = NULL;
    
    struct memblock_device mem_70428;
    
    mem_70428.references = NULL;
    
    struct memblock_device mem_70415;
    
    mem_70415.references = NULL;
    
    struct memblock_device mem_70413;
    
    mem_70413.references = NULL;
    
    struct memblock_device mem_70424;
    
    mem_70424.references = NULL;
    
    struct memblock_device ext_mem_70427;
    
    ext_mem_70427.references = NULL;
    
    struct memblock_device mem_70439;
    
    mem_70439.references = NULL;
    
    struct memblock_device ext_mem_70442;
    
    ext_mem_70442.references = NULL;
    
    struct memblock_device mem_70412;
    
    mem_70412.references = NULL;
    
    struct memblock_device mem_70454;
    
    mem_70454.references = NULL;
    
    struct memblock_device ext_mem_70457;
    
    ext_mem_70457.references = NULL;
    
    struct memblock_device mem_70667;
    
    mem_70667.references = NULL;
    
    struct memblock_device ext_mem_70670;
    
    ext_mem_70670.references = NULL;
    
    struct memblock_device mem_70404;
    
    mem_70404.references = NULL;
    
    struct memblock_device mem_70402;
    
    mem_70402.references = NULL;
    
    struct memblock_device mem_70399;
    
    mem_70399.references = NULL;
    
    struct memblock_device mem_70397;
    
    mem_70397.references = NULL;
    
    struct memblock_device mem_68648;
    
    mem_68648.references = NULL;
    
    struct memblock_device incprefixes_mem_73315;
    
    incprefixes_mem_73315.references = NULL;
    
    struct memblock_device aggregates_mem_73313;
    
    aggregates_mem_73313.references = NULL;
    
    struct memblock_device status_flags_mem_73311;
    
    status_flags_mem_73311.references = NULL;
    
    struct memblock_device mem_70324;
    
    mem_70324.references = NULL;
    
    struct memblock_device mem_70321;
    
    mem_70321.references = NULL;
    
    struct memblock_device mem_70270;
    
    mem_70270.references = NULL;
    
    struct memblock_device mem_70267;
    
    mem_70267.references = NULL;
    
    struct memblock_device mem_70256;
    
    mem_70256.references = NULL;
    
    struct memblock_device mem_70201;
    
    mem_70201.references = NULL;
    
    struct memblock_device mem_70183;
    
    mem_70183.references = NULL;
    
    struct memblock_device mem_70172;
    
    mem_70172.references = NULL;
    
    struct memblock_device mem_70161;
    
    mem_70161.references = NULL;
    
    struct memblock_device mem_70158;
    
    mem_70158.references = NULL;
    
    struct memblock_device mem_70117;
    
    mem_70117.references = NULL;
    
    struct memblock_device mem_70099;
    
    mem_70099.references = NULL;
    
    struct memblock_device mem_70088;
    
    mem_70088.references = NULL;
    
    struct memblock_device mem_70077;
    
    mem_70077.references = NULL;
    
    struct memblock_device mem_70074;
    
    mem_70074.references = NULL;
    
    struct memblock_device mem_70065;
    
    mem_70065.references = NULL;
    
    struct memblock_device mem_70047;
    
    mem_70047.references = NULL;
    
    struct memblock_device mem_70036;
    
    mem_70036.references = NULL;
    
    struct memblock_device mem_70025;
    
    mem_70025.references = NULL;
    
    struct memblock_device mem_70022;
    
    mem_70022.references = NULL;
    
    struct memblock_device mem_70068;
    
    mem_70068.references = NULL;
    
    struct memblock_device ext_mem_70071;
    
    ext_mem_70071.references = NULL;
    
    struct memblock_device mem_70019;
    
    mem_70019.references = NULL;
    
    struct memblock_device mem_70146;
    
    mem_70146.references = NULL;
    
    struct memblock_device ext_mem_70149;
    
    ext_mem_70149.references = NULL;
    
    struct memblock_device mem_70152;
    
    mem_70152.references = NULL;
    
    struct memblock_device ext_mem_70155;
    
    ext_mem_70155.references = NULL;
    
    struct memblock_device mem_70243;
    
    mem_70243.references = NULL;
    
    struct memblock_device ext_mem_70246;
    
    ext_mem_70246.references = NULL;
    
    struct memblock_device mem_70249;
    
    mem_70249.references = NULL;
    
    struct memblock_device ext_mem_70252;
    
    ext_mem_70252.references = NULL;
    
    struct memblock_device mem_70318;
    
    mem_70318.references = NULL;
    
    struct memblock_device ext_mem_70319;
    
    ext_mem_70319.references = NULL;
    
    struct memblock_device ext_mem_70393;
    
    ext_mem_70393.references = NULL;
    
    struct memblock_device ext_mem_70394;
    
    ext_mem_70394.references = NULL;
    
    struct memblock_device segred_tmp_mem_72899;
    
    segred_tmp_mem_72899.references = NULL;
    
    struct memblock_device color_71440;
    
    color_71440.references = NULL;
    
    struct memblock_device mem_69996;
    
    mem_69996.references = NULL;
    
    struct memblock_device segred_tmp_mem_72856;
    
    segred_tmp_mem_72856.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_72716;
    
    defunc_0_map_res_subhistos_mem_72716.references = NULL;
    
    struct memblock_device color_71439;
    
    color_71439.references = NULL;
    
    struct memblock_device color_71438;
    
    color_71438.references = NULL;
    
    struct memblock_device color_71437;
    
    color_71437.references = NULL;
    
    struct memblock_device color_71436;
    
    color_71436.references = NULL;
    
    struct memblock_device color_71435;
    
    color_71435.references = NULL;
    
    struct memblock_device color_71434;
    
    color_71434.references = NULL;
    
    struct memblock_device color_71433;
    
    color_71433.references = NULL;
    
    struct memblock_device mem_69921;
    
    mem_69921.references = NULL;
    
    struct memblock_device mem_param_tmp_72219;
    
    mem_param_tmp_72219.references = NULL;
    
    struct memblock_device mem_param_tmp_72218;
    
    mem_param_tmp_72218.references = NULL;
    
    struct memblock_device mem_param_tmp_72217;
    
    mem_param_tmp_72217.references = NULL;
    
    struct memblock_device mem_69892;
    
    mem_69892.references = NULL;
    
    struct memblock_device mem_69888;
    
    mem_69888.references = NULL;
    
    struct memblock_device mem_69883;
    
    mem_69883.references = NULL;
    
    struct memblock_device mem_69492;
    
    mem_69492.references = NULL;
    
    struct memblock_device mem_69488;
    
    mem_69488.references = NULL;
    
    struct memblock_device mem_69485;
    
    mem_69485.references = NULL;
    
    struct memblock_device mem_69481;
    
    mem_69481.references = NULL;
    
    struct memblock_device mem_69476;
    
    mem_69476.references = NULL;
    
    struct memblock_device mem_69470;
    
    mem_69470.references = NULL;
    
    struct memblock_device mem_69466;
    
    mem_69466.references = NULL;
    
    struct memblock_device mem_69449;
    
    mem_69449.references = NULL;
    
    struct memblock_device mem_69425;
    
    mem_69425.references = NULL;
    
    struct memblock_device mem_69375;
    
    mem_69375.references = NULL;
    
    struct memblock_device mem_69351;
    
    mem_69351.references = NULL;
    
    struct memblock_device mem_69334;
    
    mem_69334.references = NULL;
    
    struct memblock_device mem_69317;
    
    mem_69317.references = NULL;
    
    struct memblock_device mem_69312;
    
    mem_69312.references = NULL;
    
    struct memblock_device mem_69308;
    
    mem_69308.references = NULL;
    
    struct memblock_device mem_69304;
    
    mem_69304.references = NULL;
    
    struct memblock_device mem_69303;
    
    mem_69303.references = NULL;
    
    struct memblock_device mem_69300;
    
    mem_69300.references = NULL;
    
    struct memblock_device mem_69299;
    
    mem_69299.references = NULL;
    
    struct memblock_device mem_69296;
    
    mem_69296.references = NULL;
    
    struct memblock_device mem_69293;
    
    mem_69293.references = NULL;
    
    struct memblock_device mem_69290;
    
    mem_69290.references = NULL;
    
    struct memblock_device mem_69273;
    
    mem_69273.references = NULL;
    
    struct memblock_device mem_69270;
    
    mem_69270.references = NULL;
    
    struct memblock_device mem_69265;
    
    mem_69265.references = NULL;
    
    struct memblock_device mem_69254;
    
    mem_69254.references = NULL;
    
    struct memblock_device mem_69251;
    
    mem_69251.references = NULL;
    
    struct memblock_device mem_69575;
    
    mem_69575.references = NULL;
    
    struct memblock_device mem_69572;
    
    mem_69572.references = NULL;
    
    struct memblock_device mem_69568;
    
    mem_69568.references = NULL;
    
    struct memblock_device ext_mem_69578;
    
    ext_mem_69578.references = NULL;
    
    struct memblock_device ext_mem_69580;
    
    ext_mem_69580.references = NULL;
    
    struct memblock_device ext_mem_69581;
    
    ext_mem_69581.references = NULL;
    
    struct memblock_device mem_69728;
    
    mem_69728.references = NULL;
    
    struct memblock_device mem_69717;
    
    mem_69717.references = NULL;
    
    struct memblock_device mem_69700;
    
    mem_69700.references = NULL;
    
    struct memblock_device mem_69666;
    
    mem_69666.references = NULL;
    
    struct memblock_device mem_69655;
    
    mem_69655.references = NULL;
    
    struct memblock_device mem_69638;
    
    mem_69638.references = NULL;
    
    struct memblock_device mem_69627;
    
    mem_69627.references = NULL;
    
    struct memblock_device mem_69616;
    
    mem_69616.references = NULL;
    
    struct memblock_device mem_69612;
    
    mem_69612.references = NULL;
    
    struct memblock_device mem_69609;
    
    mem_69609.references = NULL;
    
    struct memblock_device mem_69590;
    
    mem_69590.references = NULL;
    
    struct memblock_device mem_69593;
    
    mem_69593.references = NULL;
    
    struct memblock_device mem_69586;
    
    mem_69586.references = NULL;
    
    struct memblock_device mem_69603;
    
    mem_69603.references = NULL;
    
    struct memblock_device mem_69600;
    
    mem_69600.references = NULL;
    
    struct memblock_device mem_69596;
    
    mem_69596.references = NULL;
    
    struct memblock_device ext_mem_69604;
    
    ext_mem_69604.references = NULL;
    
    struct memblock_device ext_mem_69605;
    
    ext_mem_69605.references = NULL;
    
    struct memblock_device ext_mem_69606;
    
    ext_mem_69606.references = NULL;
    
    struct memblock_device ext_mem_69732;
    
    ext_mem_69732.references = NULL;
    
    struct memblock_device ext_mem_69736;
    
    ext_mem_69736.references = NULL;
    
    struct memblock_device ext_mem_69739;
    
    ext_mem_69739.references = NULL;
    
    struct memblock_device mem_69247;
    
    mem_69247.references = NULL;
    
    struct memblock_device mem_69246;
    
    mem_69246.references = NULL;
    
    struct memblock_device mem_69869;
    
    mem_69869.references = NULL;
    
    struct memblock_device mem_69866;
    
    mem_69866.references = NULL;
    
    struct memblock_device mem_69862;
    
    mem_69862.references = NULL;
    
    struct memblock_device ext_mem_69873;
    
    ext_mem_69873.references = NULL;
    
    struct memblock_device ext_mem_69877;
    
    ext_mem_69877.references = NULL;
    
    struct memblock_device ext_mem_69880;
    
    ext_mem_69880.references = NULL;
    
    struct memblock_device mem_param_69244;
    
    mem_param_69244.references = NULL;
    
    struct memblock_device mem_param_69241;
    
    mem_param_69241.references = NULL;
    
    struct memblock_device mem_param_69237;
    
    mem_param_69237.references = NULL;
    
    struct memblock_device ext_mem_69901;
    
    ext_mem_69901.references = NULL;
    
    struct memblock_device ext_mem_69902;
    
    ext_mem_69902.references = NULL;
    
    struct memblock_device ext_mem_69903;
    
    ext_mem_69903.references = NULL;
    
    struct memblock_device mem_69233;
    
    mem_69233.references = NULL;
    
    struct memblock_device mem_69229;
    
    mem_69229.references = NULL;
    
    struct memblock_device mem_69224;
    
    mem_69224.references = NULL;
    
    struct memblock_device color_71393;
    
    color_71393.references = NULL;
    
    struct memblock_device color_71392;
    
    color_71392.references = NULL;
    
    struct memblock_device mem_69209;
    
    mem_69209.references = NULL;
    
    struct memblock_device mem_69198;
    
    mem_69198.references = NULL;
    
    struct memblock_device mem_69181;
    
    mem_69181.references = NULL;
    
    struct memblock_device mem_69124;
    
    mem_69124.references = NULL;
    
    struct memblock_device mem_69113;
    
    mem_69113.references = NULL;
    
    struct memblock_device mem_69096;
    
    mem_69096.references = NULL;
    
    struct memblock_device ext_mem_69214;
    
    ext_mem_69214.references = NULL;
    
    struct memblock_device ext_mem_69218;
    
    ext_mem_69218.references = NULL;
    
    struct memblock_device ext_mem_69221;
    
    ext_mem_69221.references = NULL;
    
    struct memblock_device mem_69085;
    
    mem_69085.references = NULL;
    
    struct memblock_device mem_69082;
    
    mem_69082.references = NULL;
    
    struct memblock_device mem_69065;
    
    mem_69065.references = NULL;
    
    struct memblock_device mem_69058;
    
    mem_69058.references = NULL;
    
    struct memblock_device mem_69057;
    
    mem_69057.references = NULL;
    
    struct memblock_device segred_tmp_mem_72127;
    
    segred_tmp_mem_72127.references = NULL;
    
    struct memblock_device segred_tmp_mem_72125;
    
    segred_tmp_mem_72125.references = NULL;
    
    struct memblock_device segred_tmp_mem_72123;
    
    segred_tmp_mem_72123.references = NULL;
    
    struct memblock_device mem_69056;
    
    mem_69056.references = NULL;
    
    struct memblock_device mem_69055;
    
    mem_69055.references = NULL;
    
    struct memblock_device mem_69053;
    
    mem_69053.references = NULL;
    
    struct memblock_device mem_69048;
    
    mem_69048.references = NULL;
    
    struct memblock_device mem_69043;
    
    mem_69043.references = NULL;
    
    struct memblock_device ext_mem_69906;
    
    ext_mem_69906.references = NULL;
    
    struct memblock_device ext_mem_69910;
    
    ext_mem_69910.references = NULL;
    
    struct memblock_device mem_69032;
    
    mem_69032.references = NULL;
    
    struct memblock_device mem_69029;
    
    mem_69029.references = NULL;
    
    struct memblock_device mem_69018;
    
    mem_69018.references = NULL;
    
    struct memblock_device mem_param_tmp_72070;
    
    mem_param_tmp_72070.references = NULL;
    
    struct memblock_device mem_69010;
    
    mem_69010.references = NULL;
    
    struct memblock_device mem_68998;
    
    mem_68998.references = NULL;
    
    struct memblock_device mem_68976;
    
    mem_68976.references = NULL;
    
    struct memblock_device mem_param_68972;
    
    mem_param_68972.references = NULL;
    
    struct memblock_device ext_mem_69014;
    
    ext_mem_69014.references = NULL;
    
    struct memblock_device mem_68987;
    
    mem_68987.references = NULL;
    
    struct memblock_device mem_68962;
    
    mem_68962.references = NULL;
    
    struct memblock_device mem_68944;
    
    mem_68944.references = NULL;
    
    struct memblock_device mem_68933;
    
    mem_68933.references = NULL;
    
    struct memblock_device mem_68922;
    
    mem_68922.references = NULL;
    
    struct memblock_device mem_68919;
    
    mem_68919.references = NULL;
    
    struct memblock_device mem_68965;
    
    mem_68965.references = NULL;
    
    struct memblock_device ext_mem_68968;
    
    ext_mem_68968.references = NULL;
    
    struct memblock_device mem_68911;
    
    mem_68911.references = NULL;
    
    struct memblock_device mem_68909;
    
    mem_68909.references = NULL;
    
    struct memblock_device mem_68907;
    
    mem_68907.references = NULL;
    
    struct memblock_device mem_68896;
    
    mem_68896.references = NULL;
    
    struct memblock_device mem_68841;
    
    mem_68841.references = NULL;
    
    struct memblock_device mem_68823;
    
    mem_68823.references = NULL;
    
    struct memblock_device mem_68812;
    
    mem_68812.references = NULL;
    
    struct memblock_device mem_68801;
    
    mem_68801.references = NULL;
    
    struct memblock_device mem_68798;
    
    mem_68798.references = NULL;
    
    struct memblock_device mem_68757;
    
    mem_68757.references = NULL;
    
    struct memblock_device mem_68739;
    
    mem_68739.references = NULL;
    
    struct memblock_device mem_68728;
    
    mem_68728.references = NULL;
    
    struct memblock_device mem_68717;
    
    mem_68717.references = NULL;
    
    struct memblock_device mem_68714;
    
    mem_68714.references = NULL;
    
    struct memblock_device mem_68705;
    
    mem_68705.references = NULL;
    
    struct memblock_device mem_68687;
    
    mem_68687.references = NULL;
    
    struct memblock_device mem_68676;
    
    mem_68676.references = NULL;
    
    struct memblock_device mem_68665;
    
    mem_68665.references = NULL;
    
    struct memblock_device mem_68662;
    
    mem_68662.references = NULL;
    
    struct memblock_device mem_68708;
    
    mem_68708.references = NULL;
    
    struct memblock_device ext_mem_68711;
    
    ext_mem_68711.references = NULL;
    
    struct memblock_device mem_68659;
    
    mem_68659.references = NULL;
    
    struct memblock_device mem_68786;
    
    mem_68786.references = NULL;
    
    struct memblock_device ext_mem_68789;
    
    ext_mem_68789.references = NULL;
    
    struct memblock_device mem_68792;
    
    mem_68792.references = NULL;
    
    struct memblock_device ext_mem_68795;
    
    ext_mem_68795.references = NULL;
    
    struct memblock_device mem_68883;
    
    mem_68883.references = NULL;
    
    struct memblock_device ext_mem_68886;
    
    ext_mem_68886.references = NULL;
    
    struct memblock_device mem_68889;
    
    mem_68889.references = NULL;
    
    struct memblock_device ext_mem_68892;
    
    ext_mem_68892.references = NULL;
    
    struct memblock_device mem_68651;
    
    mem_68651.references = NULL;
    
    struct memblock_device mem_68650;
    
    mem_68650.references = NULL;
    
    struct memblock_device mem_68649;
    
    mem_68649.references = NULL;
    
    struct memblock_device mem_68644;
    
    mem_68644.references = NULL;
    
    struct memblock_device mem_68645;
    
    mem_68645.references = NULL;
    
    struct memblock_device ext_mem_68646;
    
    ext_mem_68646.references = NULL;
    
    struct memblock_device mem_68643;
    
    mem_68643.references = NULL;
    
    struct memblock_device mem_68642;
    
    mem_68642.references = NULL;
    
    struct memblock_device mem_68638;
    
    mem_68638.references = NULL;
    
    struct memblock_device mem_68639;
    
    mem_68639.references = NULL;
    
    struct memblock_device ext_mem_68640;
    
    ext_mem_68640.references = NULL;
    
    struct memblock_device mem_68637;
    
    mem_68637.references = NULL;
    
    struct memblock_device mem_68632;
    
    mem_68632.references = NULL;
    
    struct memblock_device mem_68633;
    
    mem_68633.references = NULL;
    
    struct memblock_device ext_mem_68634;
    
    ext_mem_68634.references = NULL;
    
    struct memblock_device mem_68620;
    
    mem_68620.references = NULL;
    
    struct memblock_device mem_68628;
    
    mem_68628.references = NULL;
    
    struct memblock_device ext_mem_68631;
    
    ext_mem_68631.references = NULL;
    
    struct memblock_device mem_68618;
    
    mem_68618.references = NULL;
    
    struct memblock_device mem_out_71652;
    
    mem_out_71652.references = NULL;
    
    struct memblock_device mem_out_71651;
    
    mem_out_71651.references = NULL;
    
    struct memblock_device mem_out_71650;
    
    mem_out_71650.references = NULL;
    
    struct memblock_device mem_out_71649;
    
    mem_out_71649.references = NULL;
    
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t prim_out_71653;
    int64_t prim_out_71654;
    int64_t prim_out_71655;
    int64_t arg_54492 = sub64(dim_38264, (int64_t) 1);
    bool assert_cond_54493 = arg_54492 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266;
    bool assert_c_54494;
    
    if (!assert_cond_54493) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  unknown location\n   #1  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_68617 = (int64_t) 8 * n_38267;
    
    if (memblock_alloc_device(ctx, &mem_68618, bytes_68617, "mem_68618")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_68618, n_38267, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool y_54499 = slt64((int64_t) 0, dz2080U_38265);
    bool index_certs_54500;
    
    if (!y_54499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_38265, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_54502 = dim_38264 == (int64_t) 0;
    bool cond_54504 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266 == (int64_t) 0;
    bool x_54505 = !cond_54504;
    bool y_54506 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266);
    bool protect_assert_disj_54507 = cond_54504 || y_54506;
    bool index_certs_54508;
    
    if (!protect_assert_disj_54507) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_54511 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, (int64_t) 1);
    bool valid_54513 = !bounds_invalid_upwards_54511;
    bool protect_assert_disj_54514 = cond_54504 || valid_54513;
    bool range_valid_c_54515;
    
    if (!protect_assert_disj_54514) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_54512 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, (int64_t) 1);
    bool protect_cond_conj_57633 = x_54505 && x_54505;
    double defunc_0_f_res_54509;
    
    if (protect_cond_conj_57633) {
        double x_57073;
        
        if (futrts_lifted_lambda_10000(ctx, &x_57073, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, dim_38264, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_54509 = x_57073;
    } else {
        defunc_0_f_res_54509 = 0.0;
    }
    
    int64_t bytes_68619 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266;
    
    if (cond_54504) {
        if (memblock_alloc_device(ctx, &mem_68628, bytes_68619, "mem_68628")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68631, &mem_68628, "mem_68628") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_68620, bytes_68619, "mem_68620")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_68620, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, defunc_0_f_res_54509) != 0) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_54520 = 0; i_54520 < distance_54512; i_54520++) {
            int64_t index_primexp_54522 = add64((int64_t) 1, i_54520);
            bool x_54523 = sle64((int64_t) 0, index_primexp_54522);
            bool y_54524 = slt64(index_primexp_54522, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266);
            bool bounds_check_54525 = x_54523 && y_54524;
            bool index_certs_54526;
            
            if (!bounds_check_54525) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_54522, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_54527;
            
            if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_54527, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, dim_38264, index_primexp_54522) != 0) {
                err = 1;
                goto cleanup;
            }
            
            double write_tmp_74223 = defunc_0_f_res_54527;
            
            if ((err = gpu_scalar_to_device(ctx, mem_68620.mem, index_primexp_54522 * sizeof(double), sizeof(double), &write_tmp_74223)) != 0)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68631, &mem_68620, "mem_68620") != 0)
            return 1;
    }
    
    bool empty_or_match_cert_54530;
    
    if (!assert_cond_54493) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_54534 = slt64((int64_t) 0, dim_38264);
    bool bounds_invalid_upwards_54535 = slt64(dim_38264, (int64_t) 1);
    bool protect_assert_disj_54536 = cond_54502 || y_54534;
    bool index_certs_54537;
    
    if (!protect_assert_disj_54536) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_54538 = !bounds_invalid_upwards_54535;
    bool index_certs_54539;
    
    if (!protect_assert_disj_54536) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_54540 = cond_54502 || valid_54538;
    bool range_valid_c_54541;
    
    if (!protect_assert_disj_54540) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_38264, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:284:82-83\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_54542;
    
    if (!protect_assert_disj_54540) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_38264, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_55909;
    
    if (!protect_assert_disj_54536) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_56045 = !cond_54502;
    
    if (x_56045) {
        if (memblock_alloc_device(ctx, &mem_68633, (int64_t) 8, "mem_68633")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_71694(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, mem_68633.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68634, &mem_68633, "mem_68633") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_68632, (int64_t) 8, "mem_68632")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_68632, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68634, &mem_68632, "mem_68632") != 0)
            return 1;
    }
    
    int64_t max_tblock_sizze_61497;
    
    max_tblock_sizze_61497 = ctx->max_thread_block_size;
    
    bool fits_61498 = sle64(dim_38264, max_tblock_sizze_61497);
    bool suff_intra_par_61500;
    
    suff_intra_par_61500 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_0 <= dim_38264;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_0", (long) dim_38264, suff_intra_par_61500 ? "true" : "false");
    
    bool intra_suff_and_fits_61501 = fits_61498 && suff_intra_par_61500;
    bool suff_intra_par_61576;
    
    suff_intra_par_61576 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_1 <= dim_38264;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_1", (long) dim_38264, suff_intra_par_61576 ? "true" : "false");
    
    bool intra_suff_and_fits_61577 = fits_61498 && suff_intra_par_61576;
    int64_t nest_sizze_61631 = dim_38264 * n_38267;
    int64_t segmap_tblock_sizze_61632;
    
    segmap_tblock_sizze_61632 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61180;
    
    int64_t segmap_usable_groups_61633 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_61632);
    int64_t segmap_tblock_sizze_61648;
    
    segmap_tblock_sizze_61648 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61147;
    
    int64_t segmap_usable_groups_61649 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_61648);
    int64_t segmap_tblock_sizze_61661;
    
    segmap_tblock_sizze_61661 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61093;
    
    int64_t segmap_usable_groups_61662 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_61661);
    int64_t segmap_tblock_sizze_61673;
    
    segmap_tblock_sizze_61673 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61067;
    
    int64_t num_tblocks_61674;
    int64_t max_num_tblocks_71720;
    
    max_num_tblocks_71720 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_61069;
    num_tblocks_61674 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_61673), max_num_tblocks_71720)));
    
    int64_t segmap_tblock_sizze_61694;
    
    segmap_tblock_sizze_61694 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61035;
    
    int64_t segmap_usable_groups_61695 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_61694);
    int64_t segmap_tblock_sizze_61706;
    
    segmap_tblock_sizze_61706 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61009;
    
    int64_t num_tblocks_61707;
    int64_t max_num_tblocks_71721;
    
    max_num_tblocks_71721 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_61011;
    num_tblocks_61707 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_61706), max_num_tblocks_71721)));
    
    int64_t segmap_tblock_sizze_61727;
    
    segmap_tblock_sizze_61727 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60882;
    
    int64_t segmap_usable_groups_61728 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_61727);
    int64_t segmap_tblock_sizze_61739;
    
    segmap_tblock_sizze_61739 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60853;
    
    int64_t num_tblocks_61740;
    int64_t max_num_tblocks_71722;
    
    max_num_tblocks_71722 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_60855;
    num_tblocks_61740 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_61739), max_num_tblocks_71722)));
    
    int64_t segmap_tblock_sizze_61768;
    
    segmap_tblock_sizze_61768 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60676;
    
    int64_t segmap_usable_groups_61769 = sdiv_up64(nest_sizze_61631, segmap_tblock_sizze_61768);
    int64_t segmap_tblock_sizze_61779;
    
    segmap_tblock_sizze_61779 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60647;
    
    int64_t segmap_usable_groups_61780 = sdiv_up64(n_38267, segmap_tblock_sizze_61779);
    int64_t segmap_tblock_sizze_61799;
    
    segmap_tblock_sizze_61799 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60577;
    
    int64_t segmap_usable_groups_61800 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_61799);
    int64_t segmap_tblock_sizze_61814;
    
    segmap_tblock_sizze_61814 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60551;
    
    int64_t segmap_usable_groups_61815 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_61814);
    int64_t segmap_tblock_sizze_61836;
    
    segmap_tblock_sizze_61836 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60505;
    
    int64_t num_tblocks_61837;
    int64_t max_num_tblocks_71723;
    
    max_num_tblocks_71723 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_60507;
    num_tblocks_61837 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_61836), max_num_tblocks_71723)));
    
    int64_t bytes_68636 = arg_54492 * bytes_68617;
    
    if (memblock_alloc_device(ctx, &mem_68637, bytes_68636, "mem_68637")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_f64(ctx, mem_68637, n_38267 * arg_54492, 0.0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_61884;
    
    segmap_tblock_sizze_61884 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60422;
    
    int64_t segmap_tblock_sizze_61894;
    
    segmap_tblock_sizze_61894 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60391;
    
    int64_t num_tblocks_61895;
    int64_t max_num_tblocks_71724;
    
    max_num_tblocks_71724 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_60393;
    num_tblocks_61895 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_61894), max_num_tblocks_71724)));
    
    int64_t nest_sizze_61917 = n_38267 * arg_54492;
    int64_t segmap_tblock_sizze_61918;
    
    segmap_tblock_sizze_61918 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60355;
    
    int64_t segmap_usable_groups_61919 = sdiv_up64(nest_sizze_61917, segmap_tblock_sizze_61918);
    int64_t segmap_tblock_sizze_61931;
    
    segmap_tblock_sizze_61931 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60327;
    
    int64_t segmap_usable_groups_61932 = sdiv_up64(n_38267, segmap_tblock_sizze_61931);
    bool cond_54679 = sle64(n_38267, (int64_t) 1);
    bool x_54680 = !cond_54679;
    int64_t zs_lhs_54681 = sub64(n_38267, (int64_t) 1);
    int64_t zp_rhs_54682 = sdiv_safe64(zs_lhs_54681, (int64_t) 20);
    int64_t min_num_blocks_54683 = add64((int64_t) 1, zp_rhs_54682);
    bool loop_cond_54684 = slt64((int64_t) 1, min_num_blocks_54683);
    bool smallest_pow_2_geq_than_res_54685;
    int64_t smallest_pow_2_geq_than_res_54686;
    bool loop_while_54687;
    int64_t x_54688;
    
    loop_while_54687 = loop_cond_54684;
    x_54688 = (int64_t) 1;
    while (loop_while_54687) {
        int64_t loopres_54689 = mul64((int64_t) 2, x_54688);
        bool loop_cond_54690 = slt64(loopres_54689, min_num_blocks_54683);
        bool loop_while_tmp_71725 = loop_cond_54690;
        int64_t x_tmp_71726 = loopres_54689;
        
        loop_while_54687 = loop_while_tmp_71725;
        x_54688 = x_tmp_71726;
    }
    smallest_pow_2_geq_than_res_54685 = loop_while_54687;
    smallest_pow_2_geq_than_res_54686 = x_54688;
    
    bool zzero_54691 = smallest_pow_2_geq_than_res_54686 == (int64_t) 0;
    bool nonzzero_54692 = !zzero_54691;
    bool protect_assert_disj_54693 = cond_54679 || nonzzero_54692;
    bool nonzzero_cert_54694;
    
    if (!protect_assert_disj_54693) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:727:17-40\n   #4  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_54695 = sdiv_safe64(zs_lhs_54681, smallest_pow_2_geq_than_res_54686);
    int64_t block_sizze_54696 = add64((int64_t) 1, zp_rhs_54695);
    bool y_54697 = slt64((int64_t) 0, n_38267);
    bool protect_assert_disj_54698 = cond_54679 || y_54697;
    bool index_certs_54699;
    
    if (!protect_assert_disj_54698) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_38267, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:727:17-40\n   #4  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t flat_dim_54704 = smallest_pow_2_geq_than_res_54686 * block_sizze_54696;
    int64_t greatest_divisor_leq_than_arg1_54708 = mul64((int64_t) 2, block_sizze_54696);
    bool cond_54709 = slt64((int64_t) 8, greatest_divisor_leq_than_arg1_54708);
    int64_t d_54711;
    
    if (x_54680) {
        bool x_57106;
        int64_t x_57107;
        bool loop_while_57108;
        int64_t d_57109;
        
        loop_while_57108 = cond_54709;
        d_57109 = (int64_t) 1;
        while (loop_while_57108) {
            int64_t loopres_57110 = add64((int64_t) 1, d_57109);
            bool zzero_57111 = loopres_57110 == (int64_t) 0;
            bool nonzzero_57112 = !zzero_57111;
            bool nonzzero_cert_57113;
            
            if (!nonzzero_57112) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:238:5-65\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zg_lhs_57114 = sdiv64(greatest_divisor_leq_than_arg1_54708, loopres_57110);
            bool cond_57115 = slt64((int64_t) 8, zg_lhs_57114);
            bool loop_cond_57116;
            
            if (cond_57115) {
                loop_cond_57116 = 1;
            } else {
                int64_t znze_lhs_57117 = smod64(greatest_divisor_leq_than_arg1_54708, loopres_57110);
                bool loop_cond_f_res_57118 = znze_lhs_57117 == (int64_t) 0;
                bool loop_cond_f_res_57119 = !loop_cond_f_res_57118;
                
                loop_cond_57116 = loop_cond_f_res_57119;
            }
            
            bool loop_while_tmp_71727 = loop_cond_57116;
            int64_t d_tmp_71728 = loopres_57110;
            
            loop_while_57108 = loop_while_tmp_71727;
            d_57109 = d_tmp_71728;
        }
        x_57106 = loop_while_57108;
        x_57107 = d_57109;
        d_54711 = x_57107;
    } else {
        d_54711 = (int64_t) 0;
    }
    
    bool zzero_54724 = d_54711 == (int64_t) 0;
    bool nonzzero_54725 = !zzero_54724;
    bool protect_assert_disj_55893 = cond_54679 || nonzzero_54725;
    bool nonzzero_cert_54726;
    
    if (!protect_assert_disj_55893) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:238:5-65\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_54727 = sdiv_safe64(greatest_divisor_leq_than_arg1_54708, d_54711);
    bool bounds_invalid_upwards_54745 = slt64(smallest_pow_2_geq_than_res_54686, (int64_t) 0);
    bool valid_54746 = !bounds_invalid_upwards_54745;
    bool protect_assert_disj_55895 = cond_54679 || valid_54746;
    bool range_valid_c_54747;
    
    if (!protect_assert_disj_55895) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_54686, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_54749 = slt64(block_sizze_54696, (int64_t) 0);
    bool valid_54750 = !bounds_invalid_upwards_54749;
    bool protect_assert_disj_55897 = cond_54679 || valid_54750;
    bool range_valid_c_54751;
    
    if (!protect_assert_disj_55897) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_54696, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_54753 = sle64(block_sizze_54696, (int64_t) 1);
    int64_t tmp_54754 = sub64(block_sizze_54696, (int64_t) 2);
    bool bounds_invalid_upwards_54755 = slt64(tmp_54754, (int64_t) 0);
    int64_t distance_54756 = add64((int64_t) 1, tmp_54754);
    bool valid_54757 = !bounds_invalid_upwards_54755;
    bool protect_assert_disj_54758 = cond_54753 || valid_54757;
    bool protect_assert_disj_55899 = cond_54679 || protect_assert_disj_54758;
    bool range_valid_c_54759;
    
    if (!protect_assert_disj_55899) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_54754, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_cond_54847 = slt64(block_sizze_54696, flat_dim_54704);
    bool zzero_54848 = greatest_divisor_leq_than_res_54727 == (int64_t) 0;
    bool nonzzero_54849 = !zzero_54848;
    bool empty_slice_55248 = n_38267 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_55249 = sle64((int64_t) 0, zs_lhs_54681);
    int64_t segred_tblock_sizze_61947;
    
    segred_tblock_sizze_61947 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_61946;
    
    int64_t num_tblocks_61949;
    int64_t max_num_tblocks_71729;
    
    max_num_tblocks_71729 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_61948;
    num_tblocks_61949 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segred_tblock_sizze_61947), max_num_tblocks_71729)));
    
    int64_t segmap_tblock_sizze_62268;
    
    segmap_tblock_sizze_62268 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62200;
    
    int64_t num_tblocks_62269;
    int64_t max_num_tblocks_71730;
    
    max_num_tblocks_71730 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_62202;
    num_tblocks_62269 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(flat_dim_54704, segmap_tblock_sizze_62268), max_num_tblocks_71730)));
    
    int64_t segmap_tblock_sizze_62299;
    
    segmap_tblock_sizze_62299 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62036;
    
    int64_t num_tblocks_62300;
    int64_t max_num_tblocks_71731;
    
    max_num_tblocks_71731 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_62038;
    num_tblocks_62300 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(smallest_pow_2_geq_than_res_54686, segmap_tblock_sizze_62299), max_num_tblocks_71731)));
    
    int64_t segmap_tblock_sizze_65172;
    
    segmap_tblock_sizze_65172 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_65146;
    
    bool index_certs_55264;
    
    if (!y_54499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_38265, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:292:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:727:17-40\n   #4  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_56045) {
        if (memblock_alloc_device(ctx, &mem_68639, (int64_t) 8, "mem_68639")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_71732(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, mem_68639.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68640, &mem_68639, "mem_68639") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_68638, (int64_t) 8, "mem_68638")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_68638, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68640, &mem_68638, "mem_68638") != 0)
            return 1;
    }
    
    int64_t bytes_68641 = (int64_t) 4 * total_grid_no_38275;
    
    if (memblock_alloc_device(ctx, &mem_68642, bytes_68641, "mem_68642")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, mem_68642, total_grid_no_38275, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_65954;
    
    seghist_tblock_sizze_65954 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953;
    
    int64_t num_tblocks_65956;
    int64_t max_num_tblocks_71758;
    
    max_num_tblocks_71758 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_65955;
    num_tblocks_65956 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, seghist_tblock_sizze_65954), max_num_tblocks_71758)));
    if (memblock_alloc_device(ctx, &mem_68643, total_grid_no_38275, "mem_68643")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_bool(ctx, mem_68643, total_grid_no_38275, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segred_tblock_sizze_66037;
    
    segred_tblock_sizze_66037 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_66036;
    
    int64_t num_tblocks_66039;
    int64_t max_num_tblocks_71779;
    
    max_num_tblocks_71779 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_66038;
    num_tblocks_66039 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_grid_no_38275, segred_tblock_sizze_66037), max_num_tblocks_71779)));
    
    bool index_certs_55382;
    
    if (!y_54499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_38265, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:320:66-67\n   #2  /prelude/soacs.fut:255:31-32\n   #3  /prelude/soacs.fut:255:48-50\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_55383;
    
    if (!protect_assert_disj_54536) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_55384;
    
    if (!protect_assert_disj_54540) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_38264, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:320:66-67\n   #3  /prelude/soacs.fut:255:31-32\n   #4  /prelude/soacs.fut:255:48-50\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_56045) {
        if (memblock_alloc_device(ctx, &mem_68645, (int64_t) 8, "mem_68645")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_71780(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, mem_68645.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68646, &mem_68645, "mem_68645") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_68644, (int64_t) 8, "mem_68644")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_68644, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68646, &mem_68644, "mem_68644") != 0)
            return 1;
    }
    
    bool suff_outer_screma_66046;
    
    suff_outer_screma_66046 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_outer_screma_4 <= n_38267;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_outer_screma_4", (long) n_38267, suff_outer_screma_66046 ? "true" : "false");
    
    bool suff_intra_par_67432;
    
    suff_intra_par_67432 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_5 <= dim_38264;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_5", (long) dim_38264, suff_intra_par_67432 ? "true" : "false");
    
    bool intra_suff_and_fits_67433 = fits_61498 && suff_intra_par_67432;
    bool suff_intra_par_67528;
    
    suff_intra_par_67528 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_6 <= dim_38264;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_6", (long) dim_38264, suff_intra_par_67528 ? "true" : "false");
    
    bool intra_suff_and_fits_67529 = fits_61498 && suff_intra_par_67528;
    bool suff_intra_par_67604;
    
    suff_intra_par_67604 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_7 <= dim_38264;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_7", (long) dim_38264, suff_intra_par_67604 ? "true" : "false");
    
    bool intra_suff_and_fits_67605 = fits_61498 && suff_intra_par_67604;
    int64_t segmap_tblock_sizze_67660;
    
    segmap_tblock_sizze_67660 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66801;
    
    int64_t segmap_usable_groups_67661 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_67660);
    int64_t segmap_tblock_sizze_67676;
    
    segmap_tblock_sizze_67676 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66768;
    
    int64_t segmap_usable_groups_67677 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_67676);
    int64_t segmap_tblock_sizze_67689;
    
    segmap_tblock_sizze_67689 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66714;
    
    int64_t segmap_usable_groups_67690 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_67689);
    int64_t segmap_tblock_sizze_67701;
    
    segmap_tblock_sizze_67701 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66688;
    
    int64_t num_tblocks_67702;
    int64_t max_num_tblocks_71786;
    
    max_num_tblocks_71786 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_66690;
    num_tblocks_67702 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_67701), max_num_tblocks_71786)));
    
    int64_t segmap_tblock_sizze_67722;
    
    segmap_tblock_sizze_67722 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66656;
    
    int64_t segmap_usable_groups_67723 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_67722);
    int64_t segmap_tblock_sizze_67734;
    
    segmap_tblock_sizze_67734 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66630;
    
    int64_t num_tblocks_67735;
    int64_t max_num_tblocks_71787;
    
    max_num_tblocks_71787 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_66632;
    num_tblocks_67735 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_67734), max_num_tblocks_71787)));
    
    int64_t segmap_tblock_sizze_67755;
    
    segmap_tblock_sizze_67755 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66503;
    
    int64_t segmap_usable_groups_67756 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_67755);
    int64_t segmap_tblock_sizze_67767;
    
    segmap_tblock_sizze_67767 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66474;
    
    int64_t num_tblocks_67768;
    int64_t max_num_tblocks_71788;
    
    max_num_tblocks_71788 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_66476;
    num_tblocks_67768 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_67767), max_num_tblocks_71788)));
    
    int64_t segmap_tblock_sizze_67796;
    
    segmap_tblock_sizze_67796 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66297;
    
    int64_t segmap_usable_groups_67797 = sdiv_up_safe64(nest_sizze_61631, segmap_tblock_sizze_67796);
    int64_t segmap_tblock_sizze_67807;
    
    segmap_tblock_sizze_67807 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66265;
    
    int64_t segmap_usable_groups_67808 = sdiv_up_safe64(n_38267, segmap_tblock_sizze_67807);
    int64_t segscan_tblock_sizze_67828;
    
    segscan_tblock_sizze_67828 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_67420;
    
    int64_t num_tblocks_67829;
    int64_t max_num_tblocks_71789;
    
    max_num_tblocks_71789 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_67422;
    num_tblocks_67829 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segscan_tblock_sizze_67828), max_num_tblocks_71789)));
    
    int64_t segscan_tblock_sizze_66056;
    
    segscan_tblock_sizze_66056 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_66048;
    
    int64_t num_tblocks_66057;
    int64_t max_num_tblocks_71790;
    
    max_num_tblocks_71790 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_66050;
    num_tblocks_66057 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segscan_tblock_sizze_66056), max_num_tblocks_71790)));
    
    bool x_55465 = !empty_slice_55248;
    bool y_55468 = slt64(zs_lhs_54681, n_38267);
    bool bounds_check_55469 = zzero_leq_i_p_m_t_s_55249 && y_55468;
    bool protect_assert_disj_55470 = empty_slice_55248 || bounds_check_55469;
    bool index_certs_55471;
    
    if (!protect_assert_disj_55470) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zs_lhs_54681, "] out of bounds for array of shape [", (long long) n_38267, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_55858 = slt64(total_part_no_38276, (int64_t) 0);
    bool valid_55859 = !bounds_invalid_upwards_55858;
    bool range_valid_c_55860;
    
    if (!valid_55859) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) total_part_no_38276, " is invalid.", "-> #0  /prelude/soacs.fut:133:41-49\n   #1  ftSkyline.fut:331:72-90\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_68647 = (int64_t) 8 * total_part_no_38276;
    
    if (memblock_alloc_device(ctx, &mem_68649, (int64_t) 8, "mem_68649")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68650, (int64_t) 8, "mem_68650")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68651, (int64_t) 8, "mem_68651")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_71791(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_68634.mem, ext_mem_68640.mem, ext_mem_68646.mem, mem_68649.mem, mem_68650.mem, mem_68651.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_68634, "ext_mem_68634") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_68640, "ext_mem_68640") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_68646, "ext_mem_68646") != 0)
        return 1;
    
    int64_t ext_68885;
    int64_t shared_memory_capacity_71797;
    
    shared_memory_capacity_71797 = ctx->max_shared_memory;
    if (intra_suff_and_fits_61501) {
        ext_68885 = dim_38264;
    } else {
        ext_68885 = (int64_t) 1;
    }
    
    int64_t ext_68884;
    int64_t shared_memory_capacity_71798;
    
    shared_memory_capacity_71798 = ctx->max_shared_memory;
    if (intra_suff_and_fits_61501) {
        ext_68884 = (int64_t) 1;
    } else {
        ext_68884 = n_38267;
    }
    
    int64_t ext_68788;
    int64_t shared_memory_capacity_71799;
    
    shared_memory_capacity_71799 = ctx->max_shared_memory;
    if (intra_suff_and_fits_61577) {
        ext_68788 = dim_38264;
    } else {
        ext_68788 = (int64_t) 1;
    }
    
    int64_t ext_68787;
    int64_t shared_memory_capacity_71800;
    
    shared_memory_capacity_71800 = ctx->max_shared_memory;
    if (intra_suff_and_fits_61577) {
        ext_68787 = (int64_t) 1;
    } else {
        ext_68787 = n_38267;
    }
    
    int64_t bytes_68654 = dim_38264 * bytes_68617;
    int64_t ext_68710;
    
    if (cond_54502) {
        ext_68710 = dim_38264;
    } else {
        ext_68710 = (int64_t) 1;
    }
    
    int64_t ext_68709;
    
    if (cond_54502) {
        ext_68709 = (int64_t) 1;
    } else {
        ext_68709 = n_38267;
    }
    
    int64_t binop_x_68663 = (int64_t) 8 * dim_38264;
    int64_t bytes_68664 = n_38267 * binop_x_68663;
    int64_t binop_x_68668 = smax64((int64_t) 0, zs_lhs_54681);
    int64_t binop_x_68670 = smax64((int64_t) 0, arg_54492);
    int64_t binop_y_68671 = n_38267 * binop_x_68670;
    int64_t binop_y_68672 = smax64((int64_t) 0, binop_y_68671);
    int64_t binop_y_68673 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_68674 = (int64_t) 1 + binop_y_68673;
    int64_t bytes_68675 = (int64_t) 8 * binop_y_68674;
    int64_t binop_y_68702 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_68703 = (int64_t) 1 + binop_y_68702;
    int64_t bytes_68704 = (int64_t) 8 * binop_y_68703;
    int64_t binop_y_68754 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_68755 = (int64_t) 1 + binop_y_68754;
    int64_t bytes_68756 = (int64_t) 8 * binop_y_68755;
    int64_t binop_y_68838 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_68839 = (int64_t) 1 + binop_y_68838;
    int64_t bytes_68840 = (int64_t) 8 * binop_y_68839;
    int64_t ext_68891;
    
    if (cond_54502) {
        ext_68891 = dim_38264;
    } else {
        ext_68891 = ext_68885;
    }
    
    int64_t ext_68890;
    
    if (cond_54502) {
        ext_68890 = (int64_t) 1;
    } else {
        ext_68890 = ext_68884;
    }
    
    int64_t ext_68794;
    
    if (cond_54502) {
        ext_68794 = dim_38264;
    } else {
        ext_68794 = ext_68788;
    }
    
    int64_t ext_68793;
    
    if (cond_54502) {
        ext_68793 = (int64_t) 1;
    } else {
        ext_68793 = ext_68787;
    }
    
    int64_t maxSubHelper_71383 = umax64((int64_t) 0, binop_x_68663);
    
    if (cond_54502) {
        if (memblock_alloc_device(ctx, &mem_68889, bytes_68654, "mem_68889")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68892, &mem_68889, "mem_68889") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_71992;
        
        shared_memory_capacity_71992 = ctx->max_shared_memory;
        if (intra_suff_and_fits_61501 && sle64(sdiv_up64(maxSubHelper_71383, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_71992)) {
            if (memblock_alloc_device(ctx, &mem_68883, bytes_68654, "mem_68883")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_71801 = sext_i64_i32(sdiv_up64(dim_38264, dim_38264));
            int32_t virt_num_tblocks_71802 = sext_i64_i32(n_38267);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_61505(ctx, n_38267, 1, 1, dim_38264, 1, 1, binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71383 + srem64((int64_t) 8 - srem64(maxSubHelper_71383, (int64_t) 8), (int64_t) 8)), dim_38264, n_38267, arg_54492, cond_54502, binop_x_68663, maxSubHelper_71383, grid_part_sizze_per_dim_mem_68613.mem, grid_partitions_per_dim_mem_68614.mem, start_of_grid_partition_mem_68615.mem, xs_mem_68616.mem, mem_68649.mem, mem_68883.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_68886, &mem_68883, "mem_68883") != 0)
                return 1;
        } else {
            if (cond_54502) {
                if (memblock_alloc_device(ctx, &mem_68792, bytes_68654, "mem_68792")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_68795, &mem_68792, "mem_68792") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_71948;
                
                shared_memory_capacity_71948 = ctx->max_shared_memory;
                if (intra_suff_and_fits_61577 && sle64(sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_71948)) {
                    if (memblock_alloc_device(ctx, &mem_68786, bytes_68654, "mem_68786")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_71822 = sext_i64_i32(sdiv_up64(dim_38264, dim_38264));
                    int32_t virt_num_tblocks_71823 = sext_i64_i32(n_38267);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_61581(ctx, n_38267, 1, 1, dim_38264, 1, 1, binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)), dim_38264, n_38267, arg_54492, cond_54502, binop_x_68663, grid_part_sizze_per_dim_mem_68613.mem, start_of_grid_partition_mem_68615.mem, xs_mem_68616.mem, mem_68786.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_68789, &mem_68786, "mem_68786") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_68659, bytes_68654, "mem_68659")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_71840 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_61632));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61637(ctx, segmap_usable_groups_61633, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61180, 1, 1, (int64_t) 0, dim_38264, n_38267, start_of_grid_partition_mem_68615.mem, xs_mem_68616.mem, mem_68659.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_71851 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_61648));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61653(ctx, segmap_usable_groups_61649, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61147, 1, 1, (int64_t) 0, dim_38264, n_38267, grid_part_sizze_per_dim_mem_68613.mem, mem_68659.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_54502) {
                        if (memblock_alloc_device(ctx, &mem_68708, bytes_68654, "mem_68708")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_68711, &mem_68708, "mem_68708") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_68662, bytes_68617, "mem_68662")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_71862 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61661));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61665(ctx, segmap_usable_groups_61662, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61093, 1, 1, (int64_t) 0, dim_38264, n_38267, mem_68659.mem, mem_68662.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_68665, bytes_68664, "mem_68665")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_71871 = dim_38264 * n_38267;
                        int64_t tblock_sizze_71876;
                        
                        tblock_sizze_71876 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_71876;
                        
                        int64_t virt_num_tblocks_71877 = sdiv_up64(replicate_n_71871, tblock_sizze_71876);
                        int64_t num_tblocks_71878 = smin64(virt_num_tblocks_71877, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_71872(ctx, num_tblocks_71878, 1, 1, tblock_sizze_71876, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_71871, virt_num_tblocks_71877, num_tblocks_71878, mem_68662.mem, mem_68665.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_68662, "mem_68662") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_68676, bytes_68675, "mem_68676")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68676.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68665.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_68665, "mem_68665") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_68687, bytes_68675, "mem_68687")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68687.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68659.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_68705, bytes_68704, "mem_68705")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_71891 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61673));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61678(ctx, num_tblocks_61674, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61067, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_61674, virt_num_tblocks_71891, mem_68676.mem, mem_68687.mem, mem_68705.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_68676, "mem_68676") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_68687, "mem_68687") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_68711, &mem_68705, "mem_68705") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_68659, "mem_68659") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68714, bytes_68617, "mem_68714")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_71905 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61694));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61698(ctx, segmap_usable_groups_61695, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61035, 1, 1, (int64_t) 0, n_38267, ext_68710, ext_mem_68711.mem, mem_68714.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_68717, bytes_68664, "mem_68717")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_71914 = dim_38264 * n_38267;
                    int64_t tblock_sizze_71919;
                    
                    tblock_sizze_71919 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_71919;
                    
                    int64_t virt_num_tblocks_71920 = sdiv_up64(replicate_n_71914, tblock_sizze_71919);
                    int64_t num_tblocks_71921 = smin64(virt_num_tblocks_71920, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_71915(ctx, num_tblocks_71921, 1, 1, tblock_sizze_71919, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_71914, virt_num_tblocks_71920, num_tblocks_71921, mem_68714.mem, mem_68717.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_68714, "mem_68714") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68728, bytes_68675, "mem_68728")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68728.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68717.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_68717, "mem_68717") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68739, bytes_68675, "mem_68739")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68739.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, ext_mem_68711.mem, (int64_t) 0, (int64_t []) {ext_68710, ext_68709}, (int64_t []) {n_38267, dim_38264})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_68711, "ext_mem_68711") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_68757, bytes_68756, "mem_68757")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_71934 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61706));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61711(ctx, num_tblocks_61707, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_61009, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_61707, virt_num_tblocks_71934, mem_68728.mem, mem_68739.mem, mem_68757.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_68728, "mem_68728") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_68739, "mem_68739") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_68789, &mem_68757, "mem_68757") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_68795, &ext_mem_68789, "ext_mem_68789") != 0)
                    return 1;
            }
            if (memblock_alloc_device(ctx, &mem_68798, bytes_68617, "mem_68798")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_71949 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61727));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_61731(ctx, segmap_usable_groups_61728, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60882, 1, 1, (int64_t) 0, n_38267, ext_68794, mem_68649.mem, ext_mem_68795.mem, mem_68798.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_68801, bytes_68664, "mem_68801")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_71958 = dim_38264 * n_38267;
            int64_t tblock_sizze_71963;
            
            tblock_sizze_71963 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_71963;
            
            int64_t virt_num_tblocks_71964 = sdiv_up64(replicate_n_71958, tblock_sizze_71963);
            int64_t num_tblocks_71965 = smin64(virt_num_tblocks_71964, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_71959(ctx, num_tblocks_71965, 1, 1, tblock_sizze_71963, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_71958, virt_num_tblocks_71964, num_tblocks_71965, mem_68798.mem, mem_68801.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_68798, "mem_68798") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68812, bytes_68675, "mem_68812")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68812.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68801.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_68801, "mem_68801") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68823, bytes_68675, "mem_68823")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68823.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, ext_mem_68795.mem, (int64_t) 0, (int64_t []) {ext_68794, ext_68793}, (int64_t []) {n_38267, dim_38264})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_68795, "ext_mem_68795") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_68841, bytes_68840, "mem_68841")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_71978 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61739));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_61744(ctx, num_tblocks_61740, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60853, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_61740, virt_num_tblocks_71978, grid_partitions_per_dim_mem_68614.mem, mem_68812.mem, mem_68823.mem, mem_68841.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_68812, "mem_68812") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_68823, "mem_68823") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_68886, &mem_68841, "mem_68841") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_68892, &ext_mem_68886, "ext_mem_68886") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_68649, "mem_68649") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68896, bytes_68654, "mem_68896")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_71993 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_61768));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61773(ctx, segmap_usable_groups_61769, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60676, 1, 1, (int64_t) 0, dim_38264, n_38267, ext_68890, ext_68891, grid_part_prefix_sum_mem_68612.mem, ext_mem_68892.mem, mem_68896.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_68892, "ext_mem_68892") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68907, bytes_68675, "mem_68907")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68907.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68896.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_68896, "mem_68896") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_68909, (int64_t) 0, "mem_68909")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_68911, bytes_68617, "mem_68911")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72004 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61779));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61784(ctx, segmap_usable_groups_61780, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60647, 1, 1, (int64_t) 0, dim_38264, dz2080U_38265, n_38267, mem_68907.mem, mem_68909.mem, mem_68911.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68907, "mem_68907") != 0)
        return 1;
    
    int64_t binop_y_68959 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_68960 = (int64_t) 1 + binop_y_68959;
    int64_t bytes_68961 = (int64_t) 8 * binop_y_68960;
    
    if (cond_54502) {
        if (memblock_alloc_device(ctx, &mem_68965, bytes_68654, "mem_68965")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_68968, &mem_68965, "mem_68965") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_68919, bytes_68654, "mem_68919")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72014 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_61799));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61804(ctx, segmap_usable_groups_61800, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60577, 1, 1, (int64_t) 0, dim_38264, n_38267, start_of_grid_partition_mem_68615.mem, mem_68909.mem, mem_68911.mem, mem_68919.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72025 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_61814));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61819(ctx, segmap_usable_groups_61815, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60551, 1, 1, (int64_t) 0, dim_38264, n_38267, xs_mem_68616.mem, mem_68919.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_68922, bytes_68664, "mem_68922")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_72036 = dim_38264 * n_38267;
        int64_t tblock_sizze_72041;
        
        tblock_sizze_72041 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72041;
        
        int64_t virt_num_tblocks_72042 = sdiv_up64(replicate_n_72036, tblock_sizze_72041);
        int64_t num_tblocks_72043 = smin64(virt_num_tblocks_72042, (int64_t) 1048576);
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezireplicate_72037(ctx, num_tblocks_72043, 1, 1, tblock_sizze_72041, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_72036, virt_num_tblocks_72042, num_tblocks_72043, mem_68919.mem, mem_68922.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_68933, bytes_68675, "mem_68933")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68933.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68922.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_68922, "mem_68922") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_68944, bytes_68675, "mem_68944")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68944.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68919.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_68919, "mem_68919") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_68962, bytes_68961, "mem_68962")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72056 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61836));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61841(ctx, num_tblocks_61837, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60505, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_61837, virt_num_tblocks_72056, mem_68933.mem, mem_68944.mem, mem_68962.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_68933, "mem_68933") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68944, "mem_68944") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_68968, &mem_68962, "mem_68962") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_68909, "mem_68909") != 0)
        return 1;
    
    int64_t binop_y_68980 = arg_54492 - (int64_t) 1;
    int64_t binop_x_68981 = smax64((int64_t) 0, binop_y_68980);
    int64_t binop_y_68982 = n_38267 * binop_x_68981;
    int64_t binop_y_68983 = smax64((int64_t) 0, binop_y_68982);
    int64_t binop_y_68984 = binop_x_68668 + binop_y_68983;
    int64_t binop_y_68985 = (int64_t) 1 + binop_y_68984;
    int64_t bytes_68986 = (int64_t) 8 * binop_y_68985;
    
    if (memblock_alloc_device(ctx, &mem_68987, bytes_68986, "mem_68987")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t ext_69012;
    int64_t ext_69011;
    int64_t ctx_param_ext_68970;
    int64_t ctx_param_ext_68971;
    
    if (memblock_set_device(ctx, &mem_param_68972, &mem_68637, "mem_68637") != 0)
        return 1;
    ctx_param_ext_68970 = arg_54492;
    ctx_param_ext_68971 = (int64_t) 1;
    for (int64_t i_61858 = 0; i_61858 < arg_54492; i_61858++) {
        bool y_61860 = slt64(i_61858, dim_38264);
        bool index_certs_61861;
        
        if (!y_61860) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_61858, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t map_arg1_61862 = add64((int64_t) 1, i_61858);
        int64_t j_m_i_61863 = sub64(dim_38264, map_arg1_61862);
        bool empty_slice_61864 = j_m_i_61863 == (int64_t) 0;
        int64_t m_61865 = sub64(j_m_i_61863, (int64_t) 1);
        int64_t i_p_m_t_s_61866 = add64(map_arg1_61862, m_61865);
        bool zzero_leq_i_p_m_t_s_61867 = sle64((int64_t) 0, i_p_m_t_s_61866);
        bool i_p_m_t_s_leq_w_61868 = slt64(i_p_m_t_s_61866, dim_38264);
        bool zzero_lte_i_61869 = sle64((int64_t) 0, map_arg1_61862);
        bool i_lte_j_61870 = sle64(map_arg1_61862, dim_38264);
        bool y_61871 = i_p_m_t_s_leq_w_61868 && zzero_lte_i_61869;
        bool y_61872 = zzero_leq_i_p_m_t_s_61867 && y_61871;
        bool forwards_ok_61873 = i_lte_j_61870 && y_61872;
        bool ok_or_empty_61874 = empty_slice_61864 || forwards_ok_61873;
        bool index_certs_61875;
        
        if (!ok_or_empty_61874) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_61862, ":", (long long) dim_38264, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:284:82-83\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t bytes_68975 = j_m_i_61863 * bytes_68617;
        int64_t binop_x_68992 = smax64((int64_t) 0, m_61865);
        int64_t binop_y_68993 = n_38267 * binop_x_68992;
        int64_t binop_y_68994 = smax64((int64_t) 0, binop_y_68993);
        int64_t binop_y_68995 = binop_x_68668 + binop_y_68994;
        int64_t binop_y_68996 = (int64_t) 1 + binop_y_68995;
        int64_t bytes_68997 = (int64_t) 8 * binop_y_68996;
        int64_t binop_y_69007 = binop_x_68668 + binop_y_68983;
        int64_t binop_y_69008 = (int64_t) 1 + binop_y_69007;
        int64_t bytes_69009 = (int64_t) 8 * binop_y_69008;
        int64_t nest_sizze_61883 = n_38267 * j_m_i_61863;
        int64_t segmap_usable_groups_61885 = sdiv_up64(nest_sizze_61883, segmap_tblock_sizze_61884);
        
        if (memblock_alloc_device(ctx, &mem_68976, bytes_68975, "mem_68976")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72074 = sext_i64_i32(sdiv_up64(n_38267 * j_m_i_61863, segmap_tblock_sizze_61884));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61889(ctx, segmap_usable_groups_61885, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60422, 1, 1, (int64_t) 0, n_38267, map_arg1_61862, j_m_i_61863, ext_68709, ext_68710, ext_mem_68968.mem, mem_68976.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68987.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_param_68972.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_68970, ctx_param_ext_68971}, (int64_t []) {n_38267, arg_54492})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_68998, bytes_68997, "mem_68998")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_68998.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_68976.mem, (int64_t) 0, (int64_t []) {j_m_i_61863, (int64_t) 1}, (int64_t []) {n_38267, j_m_i_61863})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_68976, "mem_68976") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69010, bytes_69009, "mem_69010")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72085 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61894));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_61899(ctx, num_tblocks_61895, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60391, 1, 1, (int64_t) 0, n_38267, arg_54492, i_61858, j_m_i_61863, num_tblocks_61895, ext_68709, ext_68710, virt_num_tblocks_72085, ext_mem_68968.mem, mem_68987.mem, mem_68998.mem, mem_69010.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_68998, "mem_68998") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_72070, &mem_69010, "mem_69010") != 0)
            return 1;
        
        int64_t ctx_param_ext_tmp_72071 = (int64_t) 1;
        int64_t ctx_param_ext_tmp_72072 = n_38267;
        
        if (memblock_set_device(ctx, &mem_param_68972, &mem_param_tmp_72070, "mem_param_tmp_72070") != 0)
            return 1;
        ctx_param_ext_68970 = ctx_param_ext_tmp_72071;
        ctx_param_ext_68971 = ctx_param_ext_tmp_72072;
    }
    if (memblock_set_device(ctx, &ext_mem_69014, &mem_param_68972, "mem_param_68972") != 0)
        return 1;
    ext_69012 = ctx_param_ext_68970;
    ext_69011 = ctx_param_ext_68971;
    if (memblock_unref_device(ctx, &mem_68637, "mem_68637") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_68968, "ext_mem_68968") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68987, "mem_68987") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69018, bytes_68636, "mem_69018")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72099 = sext_i64_i32(sdiv_up64(n_38267 * arg_54492, segmap_tblock_sizze_61918));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61923(ctx, segmap_usable_groups_61919, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60355, 1, 1, (int64_t) 0, n_38267, arg_54492, ext_69011, ext_69012, angle_part_prefix_sum_mem_68610.mem, angle_partitions_per_dim_mem_68611.mem, ext_mem_68631.mem, ext_mem_69014.mem, mem_69018.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_68631, "ext_mem_68631") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_69014, "ext_mem_69014") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69029, bytes_68986, "mem_69029")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69029.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_69018.mem, (int64_t) 0, (int64_t []) {arg_54492, (int64_t) 1}, (int64_t []) {n_38267, arg_54492})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_69018, "mem_69018") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69032, bytes_68617, "mem_69032")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_72110 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_61931));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_61935(ctx, segmap_usable_groups_61932, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_60327, 1, 1, (int64_t) 0, n_38267, total_angle_no_38274, arg_54492, mem_68911.mem, mem_69029.mem, mem_69032.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_68911, "mem_68911") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69029, "mem_69029") != 0)
        return 1;
    
    int64_t reduce_arg1_54700;
    
    if (x_54680) {
        int64_t read_res_74224;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_74224, mem_69032.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_57105 = read_res_74224;
        
        reduce_arg1_54700 = x_57105;
    } else {
        reduce_arg1_54700 = (int64_t) 0;
    }
    
    int64_t num_threads_69044 = segred_tblock_sizze_61947 * num_tblocks_61949;
    int64_t binop_x_69046 = (int64_t) 16 * num_threads_69044;
    int64_t bytes_69047 = dim_38264 * binop_x_69046;
    int64_t binop_x_69063 = (int64_t) 8 * smallest_pow_2_geq_than_res_54686;
    int64_t bytes_69064 = block_sizze_54696 * binop_x_69063;
    int64_t binop_y_69066 = smallest_pow_2_geq_than_res_54686 - (int64_t) 1;
    int64_t binop_x_69067 = smax64((int64_t) 0, binop_y_69066);
    int64_t binop_y_69068 = block_sizze_54696 * binop_x_69067;
    int64_t binop_x_69069 = smax64((int64_t) 0, binop_y_69068);
    int64_t binop_y_69072 = smax64((int64_t) 0, zp_rhs_54695);
    int64_t binop_x_69073 = binop_x_69069 + binop_y_69072;
    int64_t binop_y_69077 = flat_dim_54704 * binop_x_68670;
    int64_t binop_y_69078 = smax64((int64_t) 0, binop_y_69077);
    int64_t binop_y_69079 = binop_x_69073 + binop_y_69078;
    int64_t binop_y_69080 = (int64_t) 1 + binop_y_69079;
    int64_t bytes_69081 = (int64_t) 8 * binop_y_69080;
    int64_t ext_69220;
    
    if (cond_54753) {
        ext_69220 = block_sizze_54696;
    } else {
        ext_69220 = (int64_t) 1;
    }
    
    int64_t ext_69219;
    
    if (cond_54753) {
        ext_69219 = (int64_t) 1;
    } else {
        ext_69219 = smallest_pow_2_geq_than_res_54686;
    }
    
    int64_t binop_y_69091 = smallest_pow_2_geq_than_res_54686 * binop_y_69072;
    int64_t binop_y_69092 = smax64((int64_t) 0, binop_y_69091);
    int64_t binop_y_69093 = binop_x_69067 + binop_y_69092;
    int64_t binop_y_69094 = (int64_t) 1 + binop_y_69093;
    int64_t bytes_69095 = (int64_t) 8 * binop_y_69094;
    int64_t binop_y_69102 = dim_38264 * smallest_pow_2_geq_than_res_54686;
    int64_t binop_y_69103 = binop_y_69072 * binop_y_69102;
    int64_t binop_y_69104 = smax64((int64_t) 0, binop_y_69103);
    int64_t binop_x_69105 = binop_x_69067 + binop_y_69104;
    int64_t binop_y_69108 = smallest_pow_2_geq_than_res_54686 * binop_x_68670;
    int64_t binop_y_69109 = smax64((int64_t) 0, binop_y_69108);
    int64_t binop_y_69110 = binop_x_69105 + binop_y_69109;
    int64_t binop_y_69111 = (int64_t) 1 + binop_y_69110;
    int64_t bytes_69112 = (int64_t) 8 * binop_y_69111;
    int64_t bytes_69180 = (int64_t) 8 * binop_y_69094;
    int64_t binop_y_69195 = binop_x_69105 + binop_y_69109;
    int64_t binop_y_69196 = (int64_t) 1 + binop_y_69195;
    int64_t bytes_69197 = (int64_t) 8 * binop_y_69196;
    int64_t bytes_69208 = (int64_t) 8 * binop_y_69094;
    int64_t bytes_69228 = dim_38264 * bytes_69064;
    int64_t segmap_tblock_sizze_65632;
    
    segmap_tblock_sizze_65632 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64611;
    
    int64_t segmap_tblock_sizze_65745;
    
    segmap_tblock_sizze_65745 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64363;
    
    int64_t segmap_tblock_sizze_65833;
    
    segmap_tblock_sizze_65833 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64270;
    
    int64_t binop_x_69305 = (int64_t) 8 * greatest_divisor_leq_than_res_54727;
    int64_t binop_x_69314 = dim_38264 * binop_x_69305;
    int64_t binop_y_69326 = greatest_divisor_leq_than_res_54727 - (int64_t) 1;
    int64_t binop_x_69327 = smax64((int64_t) 0, binop_y_69326);
    int64_t ext_69216;
    
    if (cond_54753) {
        ext_69216 = (int64_t) 1;
    } else {
        ext_69216 = binop_y_69102;
    }
    
    int64_t ext_69215;
    
    if (cond_54753) {
        ext_69215 = flat_dim_54704;
    } else {
        ext_69215 = smallest_pow_2_geq_than_res_54686;
    }
    
    int64_t num_threads_71488 = segmap_tblock_sizze_62299 * num_tblocks_62300;
    int64_t total_sizze_71489 = binop_x_68663 * num_threads_71488;
    int64_t total_sizze_71490 = binop_x_68663 * num_threads_71488;
    int64_t ctx_71501 = dim_38264 * smallest_pow_2_geq_than_res_54686;
    
    if (cond_54679) {
        if (memblock_set_device(ctx, &ext_mem_69910, &xs_mem_68616, "xs_mem_68616") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_69906, &mem_68618, "mem_68618") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_69043, bytes_68675, "mem_69043")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69043.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, xs_mem_68616.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_69048, bytes_69047, "mem_69048")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69053, (int64_t) 8, "mem_69053")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69055, binop_x_68663, "mem_69055")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69056, (int64_t) 8, "mem_69056")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegRed");
        
        int64_t chunk_sizze_72120 = (int64_t) 1;
        
        if (memblock_alloc_device(ctx, &segred_tmp_mem_72123, (int64_t) 8 * num_tblocks_61949, "segred_tmp_mem_72123")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &segred_tmp_mem_72125, (int64_t) 8 * (segred_tblock_sizze_61947 * num_tblocks_61949 * dim_38264), "segred_tmp_mem_72125")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &segred_tmp_mem_72127, (int64_t) 8 * num_tblocks_61949, "segred_tmp_mem_72127")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t num_threads_72129 = num_tblocks_61949 * segred_tblock_sizze_61947;
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_61956(ctx, num_tblocks_61949, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_61946, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_61947 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_61947, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_61947 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_61947, (int64_t) 8), (int64_t) 8)), dim_38264, n_38267, reduce_arg1_54700, num_tblocks_61949, num_threads_69044, xs_mem_68616.mem, mem_69032.mem, mem_69043.mem, mem_69048.mem, mem_69053.mem, mem_69055.mem, mem_69056.mem, counters_mem_72121.mem, segred_tmp_mem_72123.mem, segred_tmp_mem_72125.mem, segred_tmp_mem_72127.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_69048, "mem_69048") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69057, (int64_t) 8, "mem_69057")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69058, (int64_t) 8, "mem_69058")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_72175(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_69053.mem, mem_69056.mem, mem_69057.mem, mem_69058.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_69053, "mem_69053") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69056, "mem_69056") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69065, bytes_69064, "mem_69065")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69082, bytes_69081, "mem_69082")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_69085, bytes_69064, "mem_69085")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_72181 = sext_i64_i32(sdiv_up64(smallest_pow_2_geq_than_res_54686 * block_sizze_54696, segmap_tblock_sizze_62268));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_62276(ctx, num_tblocks_62269, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62200, 1, 1, (int64_t) 0, dim_38264, n_38267, smallest_pow_2_geq_than_res_54686, block_sizze_54696, num_tblocks_62269, virt_num_tblocks_72181, mem_69032.mem, mem_69043.mem, mem_69055.mem, mem_69057.mem, mem_69058.mem, mem_69065.mem, mem_69082.mem, mem_69085.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_69043, "mem_69043") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69055, "mem_69055") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69057, "mem_69057") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69058, "mem_69058") != 0)
            return 1;
        if (cond_54753) {
            if (memblock_set_device(ctx, &ext_mem_69221, &mem_69065, "mem_69065") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69218, &mem_69082, "mem_69082") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69214, &mem_69085, "mem_69085") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_69096, bytes_69095, "mem_69096")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69096.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, smallest_pow_2_geq_than_res_54686}, mem_69065.mem, (int64_t) 0, (int64_t []) {block_sizze_54696, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_54686, block_sizze_54696})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_69113, bytes_69112, "mem_69113")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, smallest_pow_2_geq_than_res_54686 * dim_38264, smallest_pow_2_geq_than_res_54686}, mem_69082.mem, (int64_t) 0, (int64_t []) {block_sizze_54696, (int64_t) 1, block_sizze_54696 * smallest_pow_2_geq_than_res_54686}, (int64_t []) {smallest_pow_2_geq_than_res_54686, block_sizze_54696, dim_38264})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_69124, bytes_69095, "mem_69124")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69124.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, smallest_pow_2_geq_than_res_54686}, mem_69085.mem, (int64_t) 0, (int64_t []) {block_sizze_54696, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_54686, block_sizze_54696})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_69181, bytes_69180, "mem_69181")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_69198, bytes_69197, "mem_69198")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_69209, bytes_69208, "mem_69209")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &color_71392, total_sizze_71489, "color_71392")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &color_71393, total_sizze_71490, "color_71393")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_72196 = sext_i64_i32(sdiv_up64(smallest_pow_2_geq_than_res_54686, segmap_tblock_sizze_62299));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_62306(ctx, num_tblocks_62300, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_62036, 1, 1, (int64_t) 0, dim_38264, smallest_pow_2_geq_than_res_54686, block_sizze_54696, distance_54756, num_tblocks_62300, num_threads_71488, ctx_71501, virt_num_tblocks_72196, mem_69096.mem, mem_69113.mem, mem_69124.mem, mem_69181.mem, mem_69198.mem, mem_69209.mem, color_71392.mem, color_71393.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_69096, "mem_69096") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_69113, "mem_69113") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_69124, "mem_69124") != 0)
                return 1;
            if (memblock_unref_device(ctx, &color_71392, "color_71392") != 0)
                return 1;
            if (memblock_unref_device(ctx, &color_71393, "color_71393") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69221, &mem_69181, "mem_69181") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69218, &mem_69198, "mem_69198") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_69214, &mem_69209, "mem_69209") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_69065, "mem_69065") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69082, "mem_69082") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69085, "mem_69085") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69224, bytes_69064, "mem_69224")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69224.mem, (int64_t) 0, (int64_t []) {block_sizze_54696, (int64_t) 1}, ext_mem_69221.mem, (int64_t) 0, (int64_t []) {ext_69220, ext_69219}, (int64_t []) {smallest_pow_2_geq_than_res_54686, block_sizze_54696})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_69221, "ext_mem_69221") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69229, bytes_69228, "mem_69229")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69229.mem, (int64_t) 0, (int64_t []) {dim_38264 * block_sizze_54696, dim_38264, (int64_t) 1}, ext_mem_69218.mem, (int64_t) 0, (int64_t []) {ext_69220, ext_69216, ext_69215}, (int64_t []) {smallest_pow_2_geq_than_res_54686, block_sizze_54696, dim_38264})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_69218, "ext_mem_69218") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_69233, bytes_69064, "mem_69233")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69233.mem, (int64_t) 0, (int64_t []) {block_sizze_54696, (int64_t) 1}, ext_mem_69214.mem, (int64_t) 0, (int64_t []) {ext_69220, ext_69219}, (int64_t []) {smallest_pow_2_geq_than_res_54686, block_sizze_54696})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_69214, "ext_mem_69214") != 0)
            return 1;
        
        int64_t data_54850;
        bool data_54851;
        int64_t data_54855;
        int64_t loop_dz2084Uz2082U_54856;
        bool loop_while_54857;
        int64_t stride_54861;
        
        if (memblock_set_device(ctx, &mem_param_69237, &mem_69224, "mem_69224") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_69241, &mem_69229, "mem_69229") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_69244, &mem_69233, "mem_69233") != 0)
            return 1;
        loop_dz2084Uz2082U_54856 = flat_dim_54704;
        loop_while_54857 = loop_cond_54847;
        stride_54861 = block_sizze_54696;
        while (loop_while_54857) {
            int64_t next_stride_54862 = mul64((int64_t) 2, stride_54861);
            bool zzero_54863 = next_stride_54862 == (int64_t) 0;
            bool nonzzero_54864 = !zzero_54863;
            bool nonzzero_cert_54865;
            
            if (!nonzzero_54864) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:727:17-40\n   #4  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_54866 = sdiv64(flat_dim_54704, next_stride_54862);
            bool bounds_invalid_upwards_54867 = slt64(num_merges_54866, (int64_t) 0);
            bool valid_54868 = !bounds_invalid_upwards_54867;
            bool range_valid_c_54869;
            
            if (!valid_54868) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_54866, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_54871 = sub64(next_stride_54862, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_54872 = sle64((int64_t) 0, m_54871);
            bool cond_54874 = slt64(next_stride_54862, (int64_t) 10);
            bool protect_assert_disj_54875 = nonzzero_54849 || cond_54874;
            bool nonzzero_cert_54876;
            
            if (!protect_assert_disj_54875) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_54877 = smod_safe64(next_stride_54862, greatest_divisor_leq_than_res_54727);
            bool num_blocks_54878 = zeze_lhs_54877 == (int64_t) 0;
            bool protect_assert_disj_54879 = cond_54874 || num_blocks_54878;
            bool assert_c_54880;
            
            if (!protect_assert_disj_54879) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_54882 = sdiv_safe64(next_stride_54862, greatest_divisor_leq_than_res_54727);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 = add64((int64_t) 1, num_blocks_54882);
            int64_t j_m_i_54884 = sub64(next_stride_54862, stride_54861);
            int64_t flat_dim_54885 = greatest_divisor_leq_than_res_54727 * num_blocks_54882;
            bool bounds_invalid_upwards_54886 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, (int64_t) 0);
            bool empty_slice_54887 = j_m_i_54884 == (int64_t) 0;
            int64_t m_54888 = sub64(j_m_i_54884, (int64_t) 1);
            bool zzero_lte_i_54889 = sle64((int64_t) 0, stride_54861);
            bool i_lte_j_54890 = sle64(stride_54861, next_stride_54862);
            bool empty_slice_54891 = stride_54861 == (int64_t) 0;
            int64_t m_54892 = sub64(stride_54861, (int64_t) 1);
            bool bounds_invalid_upwards_54893 = slt64(num_blocks_54882, (int64_t) 0);
            bool cond_54894 = slt64((int64_t) 0, stride_54861);
            bool valid_54895 = !bounds_invalid_upwards_54886;
            int64_t i_p_m_t_s_54896 = add64(stride_54861, m_54888);
            bool zzero_leq_i_p_m_t_s_54897 = sle64((int64_t) 0, m_54892);
            bool i_p_m_t_s_leq_w_54898 = slt64(m_54892, next_stride_54862);
            bool valid_54899 = !bounds_invalid_upwards_54893;
            bool i_p_m_t_s_leq_w_54900 = slt64(m_54871, flat_dim_54885);
            bool y_54901 = slt64((int64_t) 0, j_m_i_54884);
            bool protect_assert_disj_54902 = cond_54874 || valid_54895;
            bool range_valid_c_54903;
            
            if (!protect_assert_disj_54902) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_54904 = sle64((int64_t) 0, i_p_m_t_s_54896);
            bool i_p_m_t_s_leq_w_54905 = slt64(i_p_m_t_s_54896, next_stride_54862);
            bool y_54906 = zzero_leq_i_p_m_t_s_54897 && i_p_m_t_s_leq_w_54898;
            bool protect_assert_disj_54907 = cond_54874 || valid_54899;
            bool range_valid_c_54908;
            
            if (!protect_assert_disj_54907) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_54882, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_54909 = zzero_leq_i_p_m_t_s_54872 && i_p_m_t_s_leq_w_54900;
            bool y_54910 = zzero_lte_i_54889 && i_p_m_t_s_leq_w_54905;
            bool forwards_ok_54911 = zzero_lte_i_54889 && y_54906;
            bool ok_or_empty_54912 = zzero_54863 || y_54909;
            bool protect_assert_disj_54913 = cond_54894 || y_54901;
            bool y_54914 = zzero_leq_i_p_m_t_s_54904 && y_54910;
            bool ok_or_empty_54915 = empty_slice_54891 || forwards_ok_54911;
            bool protect_assert_disj_54916 = cond_54874 || ok_or_empty_54912;
            bool index_certs_54917;
            
            if (!protect_assert_disj_54916) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_54862, "] out of bounds for array of shape [", (long long) flat_dim_54885, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:727:17-40\n   #8  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_54918 = !cond_54874;
            bool protect_assert_disj_54919 = protect_assert_disj_54913 || loop_not_taken_54918;
            bool index_certs_54920;
            
            if (!protect_assert_disj_54919) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_54884, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:727:17-40\n   #9  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_54921 = i_lte_j_54890 && y_54914;
            bool protect_assert_disj_54922 = cond_54874 || ok_or_empty_54915;
            bool index_certs_54923;
            
            if (!protect_assert_disj_54922) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_54861, "] out of bounds for array of shape [", (long long) next_stride_54862, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_54924 = ok_or_empty_54915 || loop_not_taken_54918;
            bool index_certs_54925;
            
            if (!protect_assert_disj_54924) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_54861, "] out of bounds for array of shape [", (long long) next_stride_54862, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_54926 = empty_slice_54887 || forwards_ok_54921;
            bool protect_assert_disj_54927 = cond_54874 || ok_or_empty_54926;
            bool index_certs_54928;
            
            if (!protect_assert_disj_54927) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_54861, ":] out of bounds for array of shape [", (long long) next_stride_54862, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:727:17-40\n   #10 ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_54929 = loop_not_taken_54918 || ok_or_empty_54926;
            bool index_certs_54930;
            
            if (!protect_assert_disj_54929) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_54861, ":] out of bounds for array of shape [", (long long) next_stride_54862, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:727:17-40\n   #7  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_69249 = (int64_t) 8 * num_merges_54866;
            int64_t bytes_69484 = next_stride_54862 * binop_x_69249;
            int64_t bytes_69491 = dim_38264 * bytes_69484;
            bool i_lte_j_54873 = sle64((int64_t) 0, next_stride_54862);
            int64_t intra_avail_par_62622 = smin64(num_blocks_54882, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);
            int64_t computed_tblock_sizze_62376 = smax64(num_blocks_54882, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883);
            bool fits_62627 = sle64(computed_tblock_sizze_62376, max_tblock_sizze_61497);
            bool suff_intra_par_62625;
            
            suff_intra_par_62625 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_2 <= intra_avail_par_62622;
            if (ctx->logging)
                fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_2", (long) intra_avail_par_62622, suff_intra_par_62625 ? "true" : "false");
            
            bool intra_suff_and_fits_62628 = suff_intra_par_62625 && fits_62627;
            int64_t segmap_usable_groups_65173 = sdiv_up_safe64(num_merges_54866, segmap_tblock_sizze_65172);
            int64_t ext_69738;
            
            if (cond_54874) {
                ext_69738 = (int64_t) 1;
            } else {
                ext_69738 = next_stride_54862;
            }
            
            int64_t ext_69737;
            
            if (cond_54874) {
                ext_69737 = num_merges_54866;
            } else {
                ext_69737 = (int64_t) 1;
            }
            
            bool suff_intra_par_65364;
            
            suff_intra_par_65364 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_3 <= intra_avail_par_62622;
            if (ctx->logging)
                fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_3", (long) intra_avail_par_62622, suff_intra_par_65364 ? "true" : "false");
            
            bool intra_suff_and_fits_65365 = fits_62627 && suff_intra_par_65364;
            int64_t nest_sizze_65631 = num_merges_54866 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;
            int64_t nest_sizze_65744 = num_merges_54866 * num_blocks_54882;
            int64_t num_tblocks_65746;
            int64_t max_num_tblocks_72226;
            
            max_num_tblocks_72226 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_64365;
            num_tblocks_65746 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_65744, segmap_tblock_sizze_65745), max_num_tblocks_72226)));
            
            int64_t num_tblocks_65834;
            int64_t max_num_tblocks_72227;
            
            max_num_tblocks_72227 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_64272;
            num_tblocks_65834 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_65744, segmap_tblock_sizze_65833), max_num_tblocks_72227)));
            
            int64_t bytes_69250 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883 * binop_x_69249;
            int64_t binop_y_69255 = loop_dz2084Uz2082U_54856 - (int64_t) 1;
            int64_t binop_x_69257 = smax64((int64_t) 0, binop_y_69255);
            int64_t binop_y_69260 = loop_dz2084Uz2082U_54856 * binop_x_68670;
            int64_t binop_y_69261 = smax64((int64_t) 0, binop_y_69260);
            int64_t binop_y_69262 = binop_x_69257 + binop_y_69261;
            int64_t binop_y_69263 = (int64_t) 1 + binop_y_69262;
            int64_t bytes_69264 = (int64_t) 8 * binop_y_69263;
            int64_t bytes_69269 = num_blocks_54882 * binop_x_69249;
            int64_t binop_y_69274 = num_merges_54866 - (int64_t) 1;
            int64_t binop_x_69275 = smax64((int64_t) 0, binop_y_69274);
            int64_t binop_y_69276 = num_blocks_54882 * binop_x_69275;
            int64_t binop_x_69277 = smax64((int64_t) 0, binop_y_69276);
            int64_t binop_y_69278 = num_blocks_54882 - (int64_t) 1;
            int64_t binop_y_69280 = smax64((int64_t) 0, binop_y_69278);
            int64_t binop_x_69281 = binop_x_69277 + binop_y_69280;
            int64_t binop_y_69285 = nest_sizze_65744 * binop_x_68670;
            int64_t binop_y_69286 = smax64((int64_t) 0, binop_y_69285);
            int64_t binop_y_69287 = binop_x_69281 + binop_y_69286;
            int64_t binop_y_69288 = (int64_t) 1 + binop_y_69287;
            int64_t bytes_69289 = (int64_t) 8 * binop_y_69288;
            int64_t binop_x_69306 = num_merges_54866 * binop_x_69305;
            int64_t bytes_69307 = num_blocks_54882 * binop_x_69306;
            int64_t binop_x_69315 = num_merges_54866 * binop_x_69314;
            int64_t bytes_69316 = num_blocks_54882 * binop_x_69315;
            int64_t binop_y_69329 = nest_sizze_65744 * binop_x_69327;
            int64_t binop_y_69330 = smax64((int64_t) 0, binop_y_69329);
            int64_t binop_y_69331 = binop_x_69281 + binop_y_69330;
            int64_t binop_y_69332 = (int64_t) 1 + binop_y_69331;
            int64_t bytes_69333 = (int64_t) 8 * binop_y_69332;
            int64_t binop_y_69363 = dim_38264 * nest_sizze_65744;
            int64_t binop_y_69364 = binop_x_69327 * binop_y_69363;
            int64_t binop_y_69365 = smax64((int64_t) 0, binop_y_69364);
            int64_t binop_x_69366 = binop_x_69281 + binop_y_69365;
            int64_t binop_y_69372 = binop_y_69286 + binop_x_69366;
            int64_t binop_y_69373 = (int64_t) 1 + binop_y_69372;
            int64_t bytes_69374 = (int64_t) 8 * binop_y_69373;
            int64_t binop_y_69422 = binop_x_69281 + binop_y_69330;
            int64_t binop_y_69423 = (int64_t) 1 + binop_y_69422;
            int64_t bytes_69424 = (int64_t) 8 * binop_y_69423;
            int64_t binop_x_69440 = binop_x_69281 + binop_y_69365;
            int64_t binop_y_69446 = binop_y_69286 + binop_x_69440;
            int64_t binop_y_69447 = (int64_t) 1 + binop_y_69446;
            int64_t bytes_69448 = (int64_t) 8 * binop_y_69447;
            int64_t binop_y_69463 = binop_x_69281 + binop_y_69330;
            int64_t binop_y_69464 = (int64_t) 1 + binop_y_69463;
            int64_t bytes_69465 = (int64_t) 8 * binop_y_69464;
            int64_t bytes_69469 = greatest_divisor_leq_than_res_54727 * bytes_69269;
            int64_t bytes_69475 = dim_38264 * bytes_69469;
            int64_t lmad_ext_69576 = dim_38264 * next_stride_54862;
            int64_t bytes_69494 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883;
            int64_t bytes_69503 = (int64_t) 8 * num_blocks_54882;
            int64_t bytes_69508 = dim_38264 * bytes_69503;
            int64_t bytes_69521 = num_blocks_54882 * binop_x_69305;
            int64_t bytes_69528 = num_blocks_54882 * binop_x_69314;
            int64_t bytes_69557 = greatest_divisor_leq_than_res_54727 * bytes_69503;
            int64_t bytes_69561 = dim_38264 * bytes_69557;
            int64_t lmad_arg_69540 = dim_38264 * num_blocks_54882;
            int64_t bytes_69589 = dim_38264 * binop_x_69249;
            int64_t binop_x_69607 = (int64_t) 16 * stride_54861;
            int64_t bytes_69608 = num_merges_54866 * binop_x_69607;
            int64_t binop_x_69614 = dim_38264 * binop_x_69607;
            int64_t bytes_69615 = num_merges_54866 * binop_x_69614;
            int64_t binop_x_69621 = smax64((int64_t) 0, m_54871);
            int64_t binop_y_69622 = num_merges_54866 * binop_x_69621;
            int64_t binop_y_69623 = smax64((int64_t) 0, binop_y_69622);
            int64_t binop_y_69624 = binop_x_69275 + binop_y_69623;
            int64_t binop_y_69625 = (int64_t) 1 + binop_y_69624;
            int64_t bytes_69626 = (int64_t) 8 * binop_y_69625;
            int64_t binop_y_69644 = dim_38264 * num_merges_54866;
            int64_t binop_y_69645 = binop_x_69621 * binop_y_69644;
            int64_t binop_y_69646 = smax64((int64_t) 0, binop_y_69645);
            int64_t binop_x_69647 = binop_x_69275 + binop_y_69646;
            int64_t binop_y_69650 = num_merges_54866 * binop_x_68670;
            int64_t binop_y_69651 = smax64((int64_t) 0, binop_y_69650);
            int64_t binop_y_69652 = binop_x_69647 + binop_y_69651;
            int64_t binop_y_69653 = (int64_t) 1 + binop_y_69652;
            int64_t bytes_69654 = (int64_t) 8 * binop_y_69653;
            int64_t binop_y_69697 = binop_x_69275 + binop_y_69623;
            int64_t binop_y_69698 = (int64_t) 1 + binop_y_69697;
            int64_t bytes_69699 = (int64_t) 8 * binop_y_69698;
            int64_t binop_x_69709 = binop_x_69275 + binop_y_69646;
            int64_t binop_y_69714 = binop_y_69651 + binop_x_69709;
            int64_t binop_y_69715 = (int64_t) 1 + binop_y_69714;
            int64_t bytes_69716 = (int64_t) 8 * binop_y_69715;
            int64_t binop_y_69725 = binop_x_69275 + binop_y_69623;
            int64_t binop_y_69726 = (int64_t) 1 + binop_y_69725;
            int64_t bytes_69727 = (int64_t) 8 * binop_y_69726;
            int64_t ext_69879;
            int64_t shared_memory_capacity_72228;
            
            shared_memory_capacity_72228 = ctx->max_shared_memory;
            if (intra_suff_and_fits_62628) {
                ext_69879 = next_stride_54862;
            } else {
                ext_69879 = ext_69738;
            }
            
            int64_t ext_69878;
            int64_t shared_memory_capacity_72229;
            
            shared_memory_capacity_72229 = ctx->max_shared_memory;
            if (intra_suff_and_fits_62628) {
                ext_69878 = (int64_t) 1;
            } else {
                ext_69878 = ext_69737;
            }
            
            int64_t ext_69734;
            
            if (cond_54874) {
                ext_69734 = binop_y_69644;
            } else {
                ext_69734 = dim_38264;
            }
            
            int64_t ext_69875;
            int64_t shared_memory_capacity_72230;
            
            shared_memory_capacity_72230 = ctx->max_shared_memory;
            if (intra_suff_and_fits_62628) {
                ext_69875 = dim_38264;
            } else {
                ext_69875 = ext_69734;
            }
            
            int64_t ext_69735;
            
            if (cond_54874) {
                ext_69735 = (int64_t) 1;
            } else {
                ext_69735 = lmad_ext_69576;
            }
            
            int64_t ext_69876;
            int64_t shared_memory_capacity_72231;
            
            shared_memory_capacity_72231 = ctx->max_shared_memory;
            if (intra_suff_and_fits_62628) {
                ext_69876 = lmad_ext_69576;
            } else {
                ext_69876 = ext_69735;
            }
            
            int64_t maxSubHelper_71414 = umax64(bytes_69508, bytes_69557);
            int64_t maxSubHelper_71415 = umax64(bytes_69503, bytes_69561);
            int64_t maxSubHelper_71416 = umax64(bytes_69503, bytes_69557);
            int64_t maxSubHelper_71417 = umax64(bytes_69494, bytes_69528);
            int64_t maxSubHelper_71418 = umax64(bytes_69494, bytes_69521);
            int64_t maxSubHelper_71394 = umax64(bytes_69503, bytes_69528);
            int64_t maxSubHelper_71395 = umax64(bytes_69503, bytes_69521);
            int64_t maxSubHelper_71396 = umax64(bytes_69494, bytes_69521);
            int64_t shared_memory_capacity_72714;
            
            shared_memory_capacity_72714 = ctx->max_shared_memory;
            if (intra_suff_and_fits_62628 && sle64(sdiv_up64(binop_x_69614, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_69607, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_69607, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69557, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69561, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69557, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71394, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71395, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71396, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69508, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69494, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_72714)) {
                if (memblock_alloc_device(ctx, &mem_69862, bytes_69484, "mem_69862")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_69866, bytes_69491, "mem_69866")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_69869, bytes_69484, "mem_69869")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_72232 = sext_i64_i32(sdiv_up64(greatest_divisor_leq_than_res_54727 * dim_38264 * num_blocks_54882, computed_tblock_sizze_62376));
                int32_t num_chunks_72233 = sext_i64_i32(sdiv_up64(greatest_divisor_leq_than_res_54727 * num_blocks_54882, computed_tblock_sizze_62376));
                int32_t num_chunks_72234 = sext_i64_i32(sdiv_up64(next_stride_54862, computed_tblock_sizze_62376));
                int32_t num_chunks_72235 = sext_i64_i32(sdiv_up64(next_stride_54862 * dim_38264, computed_tblock_sizze_62376));
                int32_t num_chunks_72236 = sext_i64_i32(sdiv_up64(num_blocks_54882, computed_tblock_sizze_62376));
                int32_t num_chunks_72237 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, computed_tblock_sizze_62376));
                int32_t virt_num_tblocks_72238 = sext_i64_i32(num_merges_54866);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_62633(ctx, num_merges_54866, 1, 1, computed_tblock_sizze_62376, 1, 1, bytes_69494 + srem64((int64_t) 8 - srem64(bytes_69494, (int64_t) 8), (int64_t) 8) + (bytes_69508 + srem64((int64_t) 8 - srem64(bytes_69508, (int64_t) 8), (int64_t) 8)) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71396 + srem64((int64_t) 8 - srem64(maxSubHelper_71396, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71395 + srem64((int64_t) 8 - srem64(maxSubHelper_71395, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71394 + srem64((int64_t) 8 - srem64(maxSubHelper_71394, (int64_t) 8), (int64_t) 8)) + (bytes_69557 + srem64((int64_t) 8 - srem64(bytes_69557, (int64_t) 8), (int64_t) 8)) + (bytes_69561 + srem64((int64_t) 8 - srem64(bytes_69561, (int64_t) 8), (int64_t) 8)) + (bytes_69557 + srem64((int64_t) 8 - srem64(bytes_69557, (int64_t) 8), (int64_t) 8)) + (binop_x_69607 + srem64((int64_t) 8 - srem64(binop_x_69607, (int64_t) 8), (int64_t) 8)) + (binop_x_69607 + srem64((int64_t) 8 - srem64(binop_x_69607, (int64_t) 8), (int64_t) 8)) + (binop_x_69614 + srem64((int64_t) 8 - srem64(binop_x_69614, (int64_t) 8), (int64_t) 8)), dim_38264, greatest_divisor_leq_than_res_54727, loop_dz2084Uz2082U_54856, stride_54861, next_stride_54862, zzero_54863, num_merges_54866, m_54871, zzero_leq_i_p_m_t_s_54872, i_lte_j_54873, cond_54874, num_blocks_54882, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, j_m_i_54884, cond_54894, computed_tblock_sizze_62376, bytes_69494, bytes_69503, bytes_69508, lmad_arg_69540, bytes_69557, bytes_69561, binop_x_69607, binop_x_69614, maxSubHelper_71394, maxSubHelper_71395, maxSubHelper_71396, num_chunks_72232, num_chunks_72233, num_chunks_72234, num_chunks_72235, mem_param_69237.mem, mem_param_69241.mem, mem_param_69244.mem, mem_69862.mem, mem_69866.mem, mem_69869.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_69880, &mem_69862, "mem_69862") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69877, &mem_69866, "mem_69866") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69873, &mem_69869, "mem_69869") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_69246, (int64_t) 0, "mem_69246")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_69247, (int64_t) 0, "mem_69247")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_72357 = sext_i64_i32(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65172));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_65178(ctx, segmap_usable_groups_65173, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_65146, 1, 1, (int64_t) 0, loop_dz2084Uz2082U_54856, next_stride_54862, zzero_54863, num_merges_54866, m_54871, zzero_leq_i_p_m_t_s_54872, i_lte_j_54873, mem_69246.mem, mem_69247.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (cond_54874) {
                    if (cond_54894) {
                        int64_t segmap_tblock_sizze_65206;
                        
                        segmap_tblock_sizze_65206 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63404;
                        
                        int64_t segmap_usable_groups_65207 = sdiv_up64(num_merges_54866, segmap_tblock_sizze_65206);
                        
                        if (memblock_alloc_device(ctx, &mem_69596, binop_x_69249, "mem_69596")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72366 = sext_i64_i32(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65206));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65210(ctx, segmap_usable_groups_65207, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63404, 1, 1, (int64_t) 0, next_stride_54862, num_merges_54866, mem_param_69237.mem, mem_69246.mem, mem_69247.mem, mem_69596.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        
                        int64_t segmap_tblock_sizze_65217;
                        
                        segmap_tblock_sizze_65217 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63391;
                        
                        int64_t segmap_usable_groups_65218 = sdiv_up64(binop_y_69644, segmap_tblock_sizze_65217);
                        
                        if (memblock_alloc_device(ctx, &mem_69600, bytes_69589, "mem_69600")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72375 = sext_i64_i32(sdiv_up64(num_merges_54866 * dim_38264, segmap_tblock_sizze_65217));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65222(ctx, segmap_usable_groups_65218, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63391, 1, 1, (int64_t) 0, dim_38264, next_stride_54862, num_merges_54866, mem_param_69241.mem, mem_69246.mem, mem_69247.mem, mem_69600.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        
                        int64_t segmap_tblock_sizze_65228;
                        
                        segmap_tblock_sizze_65228 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63376;
                        
                        int64_t segmap_usable_groups_65229 = sdiv_up64(num_merges_54866, segmap_tblock_sizze_65228);
                        
                        if (memblock_alloc_device(ctx, &mem_69603, binop_x_69249, "mem_69603")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72386 = sext_i64_i32(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65228));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65232(ctx, segmap_usable_groups_65229, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63376, 1, 1, (int64_t) 0, next_stride_54862, num_merges_54866, mem_param_69244.mem, mem_69246.mem, mem_69247.mem, mem_69603.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_69606, &mem_69596, "mem_69596") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69605, &mem_69600, "mem_69600") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69604, &mem_69603, "mem_69603") != 0)
                            return 1;
                    } else {
                        int64_t segmap_tblock_sizze_65241;
                        
                        segmap_tblock_sizze_65241 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63477;
                        
                        int64_t segmap_usable_groups_65242 = sdiv_up64(num_merges_54866, segmap_tblock_sizze_65241);
                        
                        if (memblock_alloc_device(ctx, &mem_69586, binop_x_69249, "mem_69586")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69593, binop_x_69249, "mem_69593")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72395 = sext_i64_i32(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65241));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65246(ctx, segmap_usable_groups_65242, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63477, 1, 1, (int64_t) 0, stride_54861, next_stride_54862, num_merges_54866, mem_param_69237.mem, mem_69246.mem, mem_69247.mem, mem_69586.mem, mem_69593.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        
                        int64_t segmap_tblock_sizze_65254;
                        
                        segmap_tblock_sizze_65254 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63464;
                        
                        int64_t segmap_usable_groups_65255 = sdiv_up64(binop_y_69644, segmap_tblock_sizze_65254);
                        
                        if (memblock_alloc_device(ctx, &mem_69590, bytes_69589, "mem_69590")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72404 = sext_i64_i32(sdiv_up64(num_merges_54866 * dim_38264, segmap_tblock_sizze_65254));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65259(ctx, segmap_usable_groups_65255, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63464, 1, 1, (int64_t) 0, dim_38264, num_merges_54866, mem_param_69241.mem, mem_69246.mem, mem_69247.mem, mem_69590.mem, mem_69593.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        
                        int64_t segmap_tblock_sizze_65265;
                        
                        segmap_tblock_sizze_65265 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63449;
                        
                        int64_t segmap_usable_groups_65266 = sdiv_up64(num_merges_54866, segmap_tblock_sizze_65265);
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72415 = sext_i64_i32(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65265));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65269(ctx, segmap_usable_groups_65266, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63449, 1, 1, (int64_t) 0, num_merges_54866, mem_param_69244.mem, mem_69246.mem, mem_69247.mem, mem_69593.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_69606, &mem_69586, "mem_69586") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69605, &mem_69590, "mem_69590") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69604, &mem_69593, "mem_69593") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_69609, bytes_69608, "mem_69609")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_72424 = next_stride_54862 * num_merges_54866;
                    int64_t tblock_sizze_72429;
                    
                    tblock_sizze_72429 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72429;
                    
                    int64_t virt_num_tblocks_72430 = sdiv_up64(replicate_n_72424, tblock_sizze_72429);
                    int64_t num_tblocks_72431 = smin64(virt_num_tblocks_72430, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_72425(ctx, num_tblocks_72431, 1, 1, tblock_sizze_72429, 1, 1, (int64_t) 0, next_stride_54862, num_merges_54866, replicate_n_72424, virt_num_tblocks_72430, num_tblocks_72431, ext_mem_69606.mem, mem_69609.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &ext_mem_69606, "ext_mem_69606") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_69612, bytes_69608, "mem_69612")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_72444 = next_stride_54862 * num_merges_54866;
                    int64_t tblock_sizze_72449;
                    
                    tblock_sizze_72449 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72449;
                    
                    int64_t virt_num_tblocks_72450 = sdiv_up64(replicate_n_72444, tblock_sizze_72449);
                    int64_t num_tblocks_72451 = smin64(virt_num_tblocks_72450, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_72445(ctx, num_tblocks_72451, 1, 1, tblock_sizze_72449, 1, 1, (int64_t) 0, next_stride_54862, num_merges_54866, replicate_n_72444, virt_num_tblocks_72450, num_tblocks_72451, ext_mem_69604.mem, mem_69612.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &ext_mem_69604, "ext_mem_69604") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_69616, bytes_69615, "mem_69616")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_72464 = next_stride_54862 * dim_38264 * num_merges_54866;
                    int64_t tblock_sizze_72469;
                    
                    tblock_sizze_72469 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72469;
                    
                    int64_t virt_num_tblocks_72470 = sdiv_up64(replicate_n_72464, tblock_sizze_72469);
                    int64_t num_tblocks_72471 = smin64(virt_num_tblocks_72470, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_72465(ctx, num_tblocks_72471, 1, 1, tblock_sizze_72469, 1, 1, (int64_t) 0, dim_38264, next_stride_54862, num_merges_54866, replicate_n_72464, virt_num_tblocks_72470, num_tblocks_72471, ext_mem_69605.mem, mem_69616.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &ext_mem_69605, "ext_mem_69605") != 0)
                        return 1;
                    
                    int64_t segmap_tblock_sizze_65287;
                    
                    segmap_tblock_sizze_65287 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63280;
                    
                    int64_t num_tblocks_65288;
                    int64_t max_num_tblocks_72487;
                    
                    max_num_tblocks_72487 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_63282;
                    num_tblocks_65288 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65287), max_num_tblocks_72487)));
                    if (memblock_alloc_device(ctx, &mem_69627, bytes_69626, "mem_69627")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69627.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_54866}, mem_69609.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_54866}, (int64_t []) {num_merges_54866, next_stride_54862})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_69609, "mem_69609") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_69638, bytes_69626, "mem_69638")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69638.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_54866}, mem_69612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_54866}, (int64_t []) {num_merges_54866, next_stride_54862})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_69612, "mem_69612") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_69655, bytes_69654, "mem_69655")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69655.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_54866 * dim_38264, num_merges_54866}, mem_69616.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_54866 * dim_38264, num_merges_54866}, (int64_t []) {num_merges_54866, next_stride_54862, dim_38264})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_69616, "mem_69616") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_69666, bytes_69264, "mem_69666")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69666.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_54856}, mem_param_69241.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_54856, dim_38264})) != 0)
                        goto cleanup;
                    if (memblock_alloc_device(ctx, &mem_69700, bytes_69699, "mem_69700")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_69717, bytes_69716, "mem_69717")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_69728, bytes_69727, "mem_69728")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_72488 = sext_i64_i32(sdiv_up64(num_merges_54866, segmap_tblock_sizze_65287));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_65294(ctx, num_tblocks_65288, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_63280, 1, 1, (int64_t) 0, dim_38264, loop_dz2084Uz2082U_54856, stride_54861, next_stride_54862, num_merges_54866, j_m_i_54884, num_tblocks_65288, binop_y_69644, virt_num_tblocks_72488, mem_param_69237.mem, mem_param_69244.mem, mem_69246.mem, mem_69247.mem, mem_69627.mem, mem_69638.mem, mem_69655.mem, mem_69666.mem, mem_69700.mem, mem_69717.mem, mem_69728.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_69627, "mem_69627") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_69638, "mem_69638") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_69655, "mem_69655") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_69666, "mem_69666") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_69739, &mem_69700, "mem_69700") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_69736, &mem_69717, "mem_69717") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_69732, &mem_69728, "mem_69728") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_72713;
                    
                    shared_memory_capacity_72713 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_65365 && sle64(sdiv_up64(maxSubHelper_71414, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71415, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71416, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71417, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_71418, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69521, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_69503, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_72713)) {
                        if (memblock_alloc_device(ctx, &mem_69568, bytes_69484, "mem_69568")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69572, bytes_69491, "mem_69572")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69575, bytes_69484, "mem_69575")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_72505 = sext_i64_i32(sdiv_up64(greatest_divisor_leq_than_res_54727 * dim_38264 * num_blocks_54882, computed_tblock_sizze_62376));
                        int32_t num_chunks_72506 = sext_i64_i32(sdiv_up64(greatest_divisor_leq_than_res_54727 * num_blocks_54882, computed_tblock_sizze_62376));
                        int32_t num_chunks_72507 = sext_i64_i32(sdiv_up64(num_blocks_54882, computed_tblock_sizze_62376));
                        int32_t num_chunks_72508 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, computed_tblock_sizze_62376));
                        int32_t virt_num_tblocks_72509 = sext_i64_i32(num_merges_54866);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_65373(ctx, num_merges_54866, 1, 1, computed_tblock_sizze_62376, 1, 1, bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (bytes_69503 + srem64((int64_t) 8 - srem64(bytes_69503, (int64_t) 8), (int64_t) 8)) + (bytes_69521 + srem64((int64_t) 8 - srem64(bytes_69521, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71418 + srem64((int64_t) 8 - srem64(maxSubHelper_71418, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71417 + srem64((int64_t) 8 - srem64(maxSubHelper_71417, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71416 + srem64((int64_t) 8 - srem64(maxSubHelper_71416, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71415 + srem64((int64_t) 8 - srem64(maxSubHelper_71415, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71414 + srem64((int64_t) 8 - srem64(maxSubHelper_71414, (int64_t) 8), (int64_t) 8)), dim_38264, greatest_divisor_leq_than_res_54727, stride_54861, next_stride_54862, num_merges_54866, num_blocks_54882, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, j_m_i_54884, computed_tblock_sizze_62376, bytes_69503, bytes_69521, lmad_arg_69540, maxSubHelper_71414, maxSubHelper_71415, maxSubHelper_71416, maxSubHelper_71417, maxSubHelper_71418, num_chunks_72505, num_chunks_72506, mem_param_69237.mem, mem_param_69241.mem, mem_param_69244.mem, mem_69246.mem, mem_69247.mem, mem_69568.mem, mem_69572.mem, mem_69575.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_69581, &mem_69568, "mem_69568") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69580, &mem_69572, "mem_69572") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69578, &mem_69575, "mem_69575") != 0)
                            return 1;
                    } else {
                        int64_t segmap_usable_groups_65633 = sdiv_up64(nest_sizze_65631, segmap_tblock_sizze_65632);
                        
                        if (memblock_alloc_device(ctx, &mem_69251, bytes_69250, "mem_69251")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69254, bytes_69250, "mem_69254")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72590 = sext_i64_i32(sdiv_up64(num_merges_54866 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, segmap_tblock_sizze_65632));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65638(ctx, segmap_usable_groups_65633, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64611, 1, 1, (int64_t) 0, greatest_divisor_leq_than_res_54727, stride_54861, next_stride_54862, num_merges_54866, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, j_m_i_54884, mem_param_69237.mem, mem_69246.mem, mem_69247.mem, mem_69251.mem, mem_69254.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_69265, bytes_69264, "mem_69265")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69265.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_54856}, mem_param_69241.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_54856, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_69270, bytes_69269, "mem_69270")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69273, bytes_69269, "mem_69273")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69290, bytes_69289, "mem_69290")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69293, bytes_69269, "mem_69293")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69296, bytes_69269, "mem_69296")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69299, bytes_69269, "mem_69299")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69300, (int64_t) 0, "mem_69300")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69303, bytes_69269, "mem_69303")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69304, (int64_t) 0, "mem_69304")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72607 = sext_i64_i32(sdiv_up64(num_merges_54866 * num_blocks_54882, segmap_tblock_sizze_65745));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65759(ctx, num_tblocks_65746, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64363, 1, 1, (int64_t) 0, dim_38264, loop_dz2084Uz2082U_54856, stride_54861, next_stride_54862, num_merges_54866, num_blocks_54882, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_54883, num_tblocks_65746, virt_num_tblocks_72607, mem_param_69237.mem, mem_param_69244.mem, mem_69246.mem, mem_69247.mem, mem_69251.mem, mem_69254.mem, mem_69265.mem, mem_69270.mem, mem_69273.mem, mem_69290.mem, mem_69293.mem, mem_69296.mem, mem_69299.mem, mem_69300.mem, mem_69303.mem, mem_69304.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_69251, "mem_69251") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69254, "mem_69254") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69308, bytes_69307, "mem_69308")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_72622 = greatest_divisor_leq_than_res_54727 * num_merges_54866 * num_blocks_54882;
                        int64_t tblock_sizze_72627;
                        
                        tblock_sizze_72627 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72627;
                        
                        int64_t virt_num_tblocks_72628 = sdiv_up64(replicate_n_72622, tblock_sizze_72627);
                        int64_t num_tblocks_72629 = smin64(virt_num_tblocks_72628, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_72623(ctx, num_tblocks_72629, 1, 1, tblock_sizze_72627, 1, 1, (int64_t) 0, greatest_divisor_leq_than_res_54727, num_merges_54866, num_blocks_54882, replicate_n_72622, virt_num_tblocks_72628, num_tblocks_72629, mem_69270.mem, mem_69308.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_69270, "mem_69270") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69312, bytes_69307, "mem_69312")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_72645 = greatest_divisor_leq_than_res_54727 * num_merges_54866 * num_blocks_54882;
                        int64_t tblock_sizze_72650;
                        
                        tblock_sizze_72650 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72650;
                        
                        int64_t virt_num_tblocks_72651 = sdiv_up64(replicate_n_72645, tblock_sizze_72650);
                        int64_t num_tblocks_72652 = smin64(virt_num_tblocks_72651, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_72646(ctx, num_tblocks_72652, 1, 1, tblock_sizze_72650, 1, 1, (int64_t) 0, greatest_divisor_leq_than_res_54727, num_merges_54866, num_blocks_54882, replicate_n_72645, virt_num_tblocks_72651, num_tblocks_72652, mem_69273.mem, mem_69312.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_69273, "mem_69273") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69317, bytes_69316, "mem_69317")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_72668 = greatest_divisor_leq_than_res_54727 * dim_38264 * num_merges_54866 * num_blocks_54882;
                        int64_t tblock_sizze_72673;
                        
                        tblock_sizze_72673 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_72673;
                        
                        int64_t virt_num_tblocks_72674 = sdiv_up64(replicate_n_72668, tblock_sizze_72673);
                        int64_t num_tblocks_72675 = smin64(virt_num_tblocks_72674, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_72669(ctx, num_tblocks_72675, 1, 1, tblock_sizze_72673, 1, 1, (int64_t) 0, dim_38264, greatest_divisor_leq_than_res_54727, num_merges_54866, num_blocks_54882, replicate_n_72668, virt_num_tblocks_72674, num_tblocks_72675, mem_69290.mem, mem_69317.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_69290, "mem_69290") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69334, bytes_69333, "mem_69334")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69334.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866}, mem_69308.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866}, (int64_t []) {num_merges_54866, num_blocks_54882, greatest_divisor_leq_than_res_54727})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69308, "mem_69308") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69351, bytes_69333, "mem_69351")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69351.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866}, mem_69312.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866}, (int64_t []) {num_merges_54866, num_blocks_54882, greatest_divisor_leq_than_res_54727})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69312, "mem_69312") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69375, bytes_69374, "mem_69375")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_69375.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866 * dim_38264, num_blocks_54882 * num_merges_54866}, mem_69317.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866 * dim_38264, num_blocks_54882 * num_merges_54866}, (int64_t []) {num_merges_54866, num_blocks_54882, greatest_divisor_leq_than_res_54727, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69317, "mem_69317") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69425, bytes_69424, "mem_69425")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69449, bytes_69448, "mem_69449")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_69466, bytes_69465, "mem_69466")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_72694 = sext_i64_i32(sdiv_up64(num_merges_54866 * num_blocks_54882, segmap_tblock_sizze_65833));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_65841(ctx, num_tblocks_65834, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_64270, 1, 1, (int64_t) 0, dim_38264, greatest_divisor_leq_than_res_54727, loop_dz2084Uz2082U_54856, next_stride_54862, num_merges_54866, num_blocks_54882, nest_sizze_65744, num_tblocks_65834, binop_y_69363, virt_num_tblocks_72694, mem_param_69237.mem, mem_param_69244.mem, mem_69246.mem, mem_69247.mem, mem_69265.mem, mem_69293.mem, mem_69296.mem, mem_69299.mem, mem_69300.mem, mem_69303.mem, mem_69304.mem, mem_69334.mem, mem_69351.mem, mem_69375.mem, mem_69425.mem, mem_69449.mem, mem_69466.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_69265, "mem_69265") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69293, "mem_69293") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69296, "mem_69296") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69299, "mem_69299") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69300, "mem_69300") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69303, "mem_69303") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69304, "mem_69304") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69334, "mem_69334") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69351, "mem_69351") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_69375, "mem_69375") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69470, bytes_69469, "mem_69470")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69470.mem, (int64_t) 0, (int64_t []) {greatest_divisor_leq_than_res_54727 * num_blocks_54882, greatest_divisor_leq_than_res_54727, (int64_t) 1}, mem_69425.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866}, (int64_t []) {num_merges_54866, num_blocks_54882, greatest_divisor_leq_than_res_54727})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69425, "mem_69425") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69476, bytes_69475, "mem_69476")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_69476.mem, (int64_t) 0, (int64_t []) {dim_38264 * greatest_divisor_leq_than_res_54727 * num_blocks_54882, dim_38264 * greatest_divisor_leq_than_res_54727, dim_38264, (int64_t) 1}, mem_69449.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866 * dim_38264, num_blocks_54882 * num_merges_54866}, (int64_t []) {num_merges_54866, num_blocks_54882, greatest_divisor_leq_than_res_54727, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69449, "mem_69449") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69481, bytes_69469, "mem_69481")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69481.mem, (int64_t) 0, (int64_t []) {greatest_divisor_leq_than_res_54727 * num_blocks_54882, greatest_divisor_leq_than_res_54727, (int64_t) 1}, mem_69466.mem, (int64_t) 0, (int64_t []) {num_blocks_54882, (int64_t) 1, num_blocks_54882 * num_merges_54866}, (int64_t []) {num_merges_54866, num_blocks_54882, greatest_divisor_leq_than_res_54727})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69466, "mem_69466") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69485, bytes_69484, "mem_69485")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69485.mem, (int64_t) 0, (int64_t []) {next_stride_54862, (int64_t) 1}, mem_69470.mem, (int64_t) 0, (int64_t []) {flat_dim_54885, (int64_t) 1}, (int64_t []) {num_merges_54866, next_stride_54862})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69470, "mem_69470") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69488, bytes_69484, "mem_69488")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69488.mem, (int64_t) 0, (int64_t []) {next_stride_54862, (int64_t) 1}, mem_69481.mem, (int64_t) 0, (int64_t []) {flat_dim_54885, (int64_t) 1}, (int64_t []) {num_merges_54866, next_stride_54862})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69481, "mem_69481") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_69492, bytes_69491, "mem_69492")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69492.mem, (int64_t) 0, (int64_t []) {dim_38264 * next_stride_54862, dim_38264, (int64_t) 1}, mem_69476.mem, (int64_t) 0, (int64_t []) {dim_38264 * flat_dim_54885, dim_38264, (int64_t) 1}, (int64_t []) {num_merges_54866, next_stride_54862, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_69476, "mem_69476") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69581, &mem_69485, "mem_69485") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69580, &mem_69492, "mem_69492") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_69578, &mem_69488, "mem_69488") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_69739, &ext_mem_69581, "ext_mem_69581") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_69736, &ext_mem_69580, "ext_mem_69580") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_69732, &ext_mem_69578, "ext_mem_69578") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_69246, "mem_69246") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_69247, "mem_69247") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69880, &ext_mem_69739, "ext_mem_69739") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69877, &ext_mem_69736, "ext_mem_69736") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_69873, &ext_mem_69732, "ext_mem_69732") != 0)
                    return 1;
            }
            
            int64_t flat_dim_55243 = next_stride_54862 * num_merges_54866;
            
            if (memblock_alloc_device(ctx, &mem_69883, bytes_69484, "mem_69883")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69883.mem, (int64_t) 0, (int64_t []) {next_stride_54862, (int64_t) 1}, ext_mem_69880.mem, (int64_t) 0, (int64_t []) {ext_69879, ext_69878}, (int64_t []) {num_merges_54866, next_stride_54862})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_69880, "ext_mem_69880") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_69888, bytes_69491, "mem_69888")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_69888.mem, (int64_t) 0, (int64_t []) {dim_38264 * next_stride_54862, dim_38264, (int64_t) 1}, ext_mem_69877.mem, (int64_t) 0, (int64_t []) {ext_69876, ext_69875, ext_69878}, (int64_t []) {num_merges_54866, next_stride_54862, dim_38264})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_69877, "ext_mem_69877") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_69892, bytes_69484, "mem_69892")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69892.mem, (int64_t) 0, (int64_t []) {next_stride_54862, (int64_t) 1}, ext_mem_69873.mem, (int64_t) 0, (int64_t []) {ext_69879, ext_69878}, (int64_t []) {num_merges_54866, next_stride_54862})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_69873, "ext_mem_69873") != 0)
                return 1;
            
            bool loop_cond_55247 = slt64(next_stride_54862, flat_dim_54704);
            
            if (memblock_set_device(ctx, &mem_param_tmp_72217, &mem_69883, "mem_69883") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_72218, &mem_69888, "mem_69888") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_72219, &mem_69892, "mem_69892") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_72220 = flat_dim_55243;
            bool loop_while_tmp_72221 = loop_cond_55247;
            int64_t stride_tmp_72225 = next_stride_54862;
            
            if (memblock_set_device(ctx, &mem_param_69237, &mem_param_tmp_72217, "mem_param_tmp_72217") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_69241, &mem_param_tmp_72218, "mem_param_tmp_72218") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_69244, &mem_param_tmp_72219, "mem_param_tmp_72219") != 0)
                return 1;
            loop_dz2084Uz2082U_54856 = loop_dz2084Uz2082U_tmp_72220;
            loop_while_54857 = loop_while_tmp_72221;
            stride_54861 = stride_tmp_72225;
        }
        if (memblock_set_device(ctx, &ext_mem_69903, &mem_param_69237, "mem_param_69237") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_69902, &mem_param_69241, "mem_param_69241") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_69901, &mem_param_69244, "mem_param_69244") != 0)
            return 1;
        data_54850 = loop_dz2084Uz2082U_54856;
        data_54851 = loop_while_54857;
        data_54855 = stride_54861;
        if (memblock_unref_device(ctx, &mem_69224, "mem_69224") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69229, "mem_69229") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69233, "mem_69233") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_55250 = slt64(zs_lhs_54681, data_54850);
        bool y_55251 = zzero_leq_i_p_m_t_s_55249 && i_p_m_t_s_leq_w_55250;
        bool ok_or_empty_55252 = empty_slice_55248 || y_55251;
        bool index_certs_55253;
        
        if (!ok_or_empty_55252) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_38267, "] out of bounds for array of shape [", (long long) data_54850, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_69910, &ext_mem_69902, "ext_mem_69902") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_69906, &ext_mem_69901, "ext_mem_69901") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_68618, "mem_68618") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69032, "mem_69032") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_69921, bytes_68675, "mem_69921")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69921.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, ext_mem_69910.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
        goto cleanup;
    
    int64_t min_arg1_68326;
    
    if (x_56045) {
        int64_t read_res_74225;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_74225, mem_68650.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_68608 = read_res_74225;
        
        min_arg1_68326 = x_68608;
    } else {
        min_arg1_68326 = (int64_t) 0;
    }
    if (memblock_unref_device(ctx, &mem_68650, "mem_68650") != 0)
        return 1;
    
    int64_t maxSubHelper_71431 = umax64((int64_t) 0, binop_x_68663);
    int64_t maxSubHelper_71432 = umax64((int64_t) 0, binop_x_68663);
    int64_t num_threads_71532 = seghist_tblock_sizze_65954 * num_tblocks_65956;
    int64_t total_sizze_71533 = maxSubHelper_71431 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71433, total_sizze_71533, "color_71433")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71534 = binop_x_68663 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71434, total_sizze_71534, "color_71434")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71535 = binop_x_68663 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71435, total_sizze_71535, "color_71435")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71536 = binop_x_68663 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71436, total_sizze_71536, "color_71436")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71537 = maxSubHelper_71432 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71437, total_sizze_71537, "color_71437")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71538 = binop_x_68663 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71438, total_sizze_71538, "color_71438")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_71539 = binop_x_68663 * num_threads_71532;
    
    if (memblock_alloc_device(ctx, &color_71439, total_sizze_71539, "color_71439")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_subhistos_72715;
    int64_t h_72718 = (int64_t) 4 * total_grid_no_38275;
    int64_t seg_h_72719 = (int64_t) 4 * total_grid_no_38275;
    
    if (!(seg_h_72719 == (int64_t) 0)) {
        int64_t hist_H_72720 = total_grid_no_38275;
        int64_t hist_el_sizze_72721 = sdiv_up64(h_72718, hist_H_72720);
        int64_t hist_N_72722 = n_38267;
        int32_t hist_RF_72723 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_65956 * seghist_tblock_sizze_65954), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_65954, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_72720, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_72722, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_72721, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_72723, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_72718, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_72719, '\n');
        
        int64_t hist_L_72724;
        
        hist_L_72724 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L_72724;
        
        int64_t max_tblock_sizze_72725;
        
        max_tblock_sizze_72725 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_72726 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_65956 * seghist_tblock_sizze_65954)), max_tblock_sizze_72725);
        double hist_m_prime_72727 = sitofp_i64_f64(smin64(squot64(hist_L_72724, hist_el_sizze_72721), sdiv_up64(hist_N_72722, num_tblocks_72726))) / sitofp_i64_f64(hist_H_72720);
        int64_t hist_M0_72728 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_72727), max_tblock_sizze_72725));
        int64_t hist_Nout_72729 = (int64_t) 1;
        int64_t hist_Nin_72730 = n_38267;
        int64_t work_asymp_M_max_72731 = squot64(hist_Nout_72729 * hist_N_72722, (int64_t) 2 * num_tblocks_72726 * hist_H_72720);
        int32_t hist_M_72732 = sext_i64_i32(smin64(hist_M0_72728, work_asymp_M_max_72731));
        int64_t hist_C_72733 = sdiv_up64(max_tblock_sizze_72725, sext_i32_i64(smax32(1, hist_M_72732)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_72728, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_72731, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_72733, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_72725, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_72732, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_72720 * hist_el_sizze_72721 * sext_i32_i64(hist_M_72732)), '\n');
        
        int64_t local_mem_needed_72734 = hist_el_sizze_72721 * sext_i32_i64(hist_M_72732);
        int32_t hist_S_72735 = sext_i64_i32(sdiv_up64(hist_H_72720 * local_mem_needed_72734 + (int64_t) 1, hist_L_72724));
        
        if (sle64(hist_H_72720, hist_Nin_72730) && (sle64(local_mem_needed_72734, hist_L_72724) && (sle32(hist_S_72735, 3) && (sle64(hist_C_72733, max_tblock_sizze_72725) && slt32(0, hist_M_72732))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_72720, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_72732, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_72733, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_72735, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_72732, '\n');
            num_subhistos_72715 = num_tblocks_72726;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_72715, '\n');
            if (num_subhistos_72715 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_72716, &mem_68642, "mem_68642") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_72716, num_subhistos_72715 * total_grid_no_38275 * (int64_t) 4, "defunc_0_map_res_subhistos_mem_72716")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i32(ctx, defunc_0_map_res_subhistos_mem_72716, num_subhistos_72715 * total_grid_no_38275, 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_4b(ctx, 1, defunc_0_map_res_subhistos_mem_72716.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_68642.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_grid_no_38275})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_72736 = 0; chk_i_72736 < hist_S_72735; chk_i_72736++) {
                int64_t num_segments_72737 = (int64_t) 1;
                int64_t hist_H_chk_72738 = sdiv_up64(total_grid_no_38275, sext_i32_i64(hist_S_72735));
                int64_t histo_sizze_72739 = hist_H_chk_72738;
                int32_t init_per_thread_72740 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_72732) * histo_sizze_72739, max_tblock_sizze_72725));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_local_65961(ctx, num_tblocks_72726, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 4 * (hist_M_72732 * hist_H_chk_72738) + srem64((int64_t) 8 - srem64((int64_t) 4 * (hist_M_72732 * hist_H_chk_72738), (int64_t) 8), (int64_t) 8), dim_38264, n_38267, total_grid_no_38275, arg_54492, cond_54502, min_arg1_68326, num_threads_71532, num_subhistos_72715, num_tblocks_72726, hist_M_72732, chk_i_72736, num_segments_72737, hist_H_chk_72738, histo_sizze_72739, init_per_thread_72740, grid_part_prefix_sum_mem_68612.mem, grid_part_sizze_per_dim_mem_68613.mem, grid_partitions_per_dim_mem_68614.mem, start_of_grid_partition_mem_68615.mem, mem_69921.mem, color_71433.mem, color_71434.mem, color_71435.mem, color_71436.mem, color_71437.mem, color_71438.mem, color_71439.mem, defunc_0_map_res_subhistos_mem_72716.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_72782 = total_grid_no_38275;
            double hist_RF_72783 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_72784 = 4;
            double hist_C_max_72785 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_65956 * seghist_tblock_sizze_65954)), sitofp_i32_f64(hist_H_72782) / 2.0);
            int32_t hist_M_min_72786 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_65956 * seghist_tblock_sizze_65954)) / hist_C_max_72785)));
            int64_t hist_L2_72787;
            
            hist_L2_72787 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L2_72787;
            
            double hist_RACE_exp_72788 = fmax64(1.0, 0.75 * hist_RF_72783 / (64.0 / sitofp_i32_f64(hist_el_sizze_72784)));
            int32_t hist_S_72789;
            
            if (slt64(n_38267, hist_H_72782)) {
                hist_S_72789 = 1;
            } else {
                hist_S_72789 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_72786) * hist_H_72782 * sext_i32_i64(hist_el_sizze_72784), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_72787) * hist_RACE_exp_72788)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_72788, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_72789, '\n');
            
            int64_t hist_H_chk_72790 = sdiv_up64(total_grid_no_38275, sext_i32_i64(hist_S_72789));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_72790, '\n');
            
            double hist_k_max_72791 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_72787) / sitofp_i32_f64(4)) * hist_RACE_exp_72788, sitofp_i32_f64(n_38267)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_65956 * seghist_tblock_sizze_65954));
            int64_t hist_u_72792 = (int64_t) 2;
            double hist_C_72793 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_65956 * seghist_tblock_sizze_65954)), sitofp_i32_f64(hist_u_72792 * hist_H_chk_72790) / hist_k_max_72791);
            int32_t hist_M_72794 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_72791, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_72794, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_72793, '\n');
            num_subhistos_72715 = sext_i32_i64(hist_M_72794);
            if (hist_M_72794 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_72716, &mem_68642, "mem_68642") != 0)
                    return 1;
            } else if (num_subhistos_72715 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_72716, &mem_68642, "mem_68642") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_72716, num_subhistos_72715 * total_grid_no_38275 * (int64_t) 4, "defunc_0_map_res_subhistos_mem_72716")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i32(ctx, defunc_0_map_res_subhistos_mem_72716, num_subhistos_72715 * total_grid_no_38275, 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_4b(ctx, 1, defunc_0_map_res_subhistos_mem_72716.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_68642.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_grid_no_38275})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_72795 = 0; chk_i_72795 < hist_S_72789; chk_i_72795++) {
                int64_t hist_H_chk_72796 = sdiv_up64(total_grid_no_38275, sext_i32_i64(hist_S_72789));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_global_65961(ctx, num_tblocks_65956, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953, 1, 1, (int64_t) 0, dim_38264, n_38267, total_grid_no_38275, arg_54492, cond_54502, num_tblocks_65956, min_arg1_68326, num_threads_71532, num_subhistos_72715, chk_i_72795, hist_H_chk_72796, grid_part_prefix_sum_mem_68612.mem, grid_part_sizze_per_dim_mem_68613.mem, grid_partitions_per_dim_mem_68614.mem, start_of_grid_partition_mem_68615.mem, mem_69921.mem, color_71433.mem, color_71434.mem, color_71435.mem, color_71436.mem, color_71437.mem, color_71438.mem, color_71439.mem, defunc_0_map_res_subhistos_mem_72716.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        }
        if (num_subhistos_72715 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_68642, &defunc_0_map_res_subhistos_mem_72716, "defunc_0_map_res_subhistos_mem_72716") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_72822 = (int64_t) 1;
            
            if (slt64(num_subhistos_72715 * (int64_t) 2, seghist_tblock_sizze_65954 * chunk_sizze_72822)) {
                int64_t segment_sizze_nonzzero_72823 = smax64((int64_t) 1, num_subhistos_72715);
                int64_t num_threads_72824 = seghist_tblock_sizze_65954 * seghist_tblock_sizze_65954;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_grid_no_38275, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_72715, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_grid_no_38275, squot64(seghist_tblock_sizze_65954, segment_sizze_nonzzero_72823))), '\n');
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_small_72821(ctx, num_tblocks_65956, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953, 1, 1, (int64_t) 4 * seghist_tblock_sizze_65954 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_65954, (int64_t) 8), (int64_t) 8), total_grid_no_38275, num_tblocks_65956, num_subhistos_72715, segment_sizze_nonzzero_72823, mem_68642.mem, defunc_0_map_res_subhistos_mem_72716.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_72852 = sdiv_up64(num_tblocks_65956, smax64((int64_t) 1, total_grid_no_38275));
                int64_t q_72853 = sdiv_up64(num_subhistos_72715, seghist_tblock_sizze_65954 * blocks_per_segment_72852 * chunk_sizze_72822);
                int64_t num_virtblocks_72854 = blocks_per_segment_72852 * total_grid_no_38275;
                int64_t threads_per_segment_72855 = blocks_per_segment_72852 * seghist_tblock_sizze_65954;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_grid_no_38275, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_72715, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_72854, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_65956, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_65954, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_72853, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_72852, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_72856, (int64_t) 4 * num_virtblocks_72854, "segred_tmp_mem_72856")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_large_72821(ctx, num_tblocks_65956, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_65953, 1, 1, 8 + ((int64_t) 4 * seghist_tblock_sizze_65954 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_65954, (int64_t) 8), (int64_t) 8)), total_grid_no_38275, num_tblocks_65956, num_subhistos_72715, blocks_per_segment_72852, q_72853, num_virtblocks_72854, threads_per_segment_72855, mem_68642.mem, defunc_0_map_res_subhistos_mem_72716.mem, segred_tmp_mem_72856.mem, counters_mem_72858.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_69921, "mem_69921") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71433, "color_71433") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71434, "color_71434") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71435, "color_71435") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71436, "color_71436") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71437, "color_71437") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71438, "color_71438") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71439, "color_71439") != 0)
        return 1;
    
    int64_t binop_y_69986 = dz2080U_38265 - (int64_t) 1;
    int64_t binop_x_69988 = smax64((int64_t) 0, binop_y_69986);
    int64_t binop_y_69991 = dz2080U_38265 * binop_x_68670;
    int64_t binop_y_69992 = smax64((int64_t) 0, binop_y_69991);
    int64_t binop_y_69993 = binop_x_69988 + binop_y_69992;
    int64_t binop_y_69994 = (int64_t) 1 + binop_y_69993;
    int64_t bytes_69995 = (int64_t) 8 * binop_y_69994;
    
    if (memblock_alloc_device(ctx, &mem_69996, bytes_69995, "mem_69996")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_69996.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2080U_38265}, start_of_grid_partition_mem_68615.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {dz2080U_38265, dim_38264})) != 0)
        goto cleanup;
    
    int64_t num_threads_71585 = segred_tblock_sizze_66037 * num_tblocks_66039;
    int64_t total_sizze_71586 = dim_38264 * num_threads_71585;
    
    if (memblock_alloc_device(ctx, &color_71440, total_sizze_71586, "color_71440")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_55346 = 0; i_55346 < total_grid_no_38275; i_55346++) {
        bool y_55348 = slt64(i_55346, dz2080U_38265);
        bool index_certs_55349;
        
        if (!y_55348) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_55346, "] out of bounds for array of shape [", (long long) dz2080U_38265, "].", "-> #0  ftSkyline.fut:298:46-76\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegRed");
        
        int64_t chunk_sizze_72896 = (int64_t) 1;
        
        if (memblock_alloc_device(ctx, &segred_tmp_mem_72899, num_tblocks_66039, "segred_tmp_mem_72899")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t num_threads_72901 = num_tblocks_66039 * segred_tblock_sizze_66037;
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_66044(ctx, num_tblocks_66039, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_66036, 1, 1, 8 + (segred_tblock_sizze_66037 + srem64((int64_t) 8 - srem64(segred_tblock_sizze_66037, (int64_t) 8), (int64_t) 8)), dim_38264, dz2080U_38265, total_grid_no_38275, i_55346, num_tblocks_66039, num_threads_71585, num_threads_72901, start_of_grid_partition_mem_68615.mem, mem_68642.mem, mem_68643.mem, mem_69996.mem, color_71440.mem, counters_mem_72897.mem, segred_tmp_mem_72899.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_68642, "mem_68642") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_69996, "mem_69996") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_71440, "color_71440") != 0)
        return 1;
    
    bool x_68603 = !suff_outer_screma_66046;
    bool protect_cond_conj_68602 = x_56045 && intra_suff_and_fits_67433;
    bool protect_cond_conj_68605 = protect_cond_conj_68602 && x_68603;
    int64_t min_arg1_68335;
    
    if (protect_cond_conj_68605) {
        int64_t read_res_74226;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_74226, mem_68651.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_68598 = read_res_74226;
        
        min_arg1_68335 = x_68598;
    } else {
        min_arg1_68335 = (int64_t) 0;
    }
    
    bool protect_cond_conj_68595 = x_56045 && suff_outer_screma_66046;
    int64_t min_arg1_68334;
    
    if (protect_cond_conj_68595) {
        int64_t read_res_74227;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_74227, mem_68651.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_68591 = read_res_74227;
        
        min_arg1_68334 = x_68591;
    } else {
        min_arg1_68334 = (int64_t) 0;
    }
    
    int64_t ext_70245;
    int64_t shared_memory_capacity_72932;
    
    shared_memory_capacity_72932 = ctx->max_shared_memory;
    if (intra_suff_and_fits_67529) {
        ext_70245 = dim_38264;
    } else {
        ext_70245 = (int64_t) 1;
    }
    
    int64_t ext_70244;
    int64_t shared_memory_capacity_72933;
    
    shared_memory_capacity_72933 = ctx->max_shared_memory;
    if (intra_suff_and_fits_67529) {
        ext_70244 = (int64_t) 1;
    } else {
        ext_70244 = n_38267;
    }
    
    int64_t ext_70148;
    int64_t shared_memory_capacity_72934;
    
    shared_memory_capacity_72934 = ctx->max_shared_memory;
    if (intra_suff_and_fits_67605) {
        ext_70148 = dim_38264;
    } else {
        ext_70148 = (int64_t) 1;
    }
    
    int64_t ext_70147;
    int64_t shared_memory_capacity_72935;
    
    shared_memory_capacity_72935 = ctx->max_shared_memory;
    if (intra_suff_and_fits_67605) {
        ext_70147 = (int64_t) 1;
    } else {
        ext_70147 = n_38267;
    }
    
    int64_t binop_y_70062 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_70063 = (int64_t) 1 + binop_y_70062;
    int64_t bytes_70064 = (int64_t) 8 * binop_y_70063;
    int64_t binop_y_70114 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_70115 = (int64_t) 1 + binop_y_70114;
    int64_t bytes_70116 = (int64_t) 8 * binop_y_70115;
    int64_t binop_y_70198 = binop_x_68668 + binop_y_68672;
    int64_t binop_y_70199 = (int64_t) 1 + binop_y_70198;
    int64_t bytes_70200 = (int64_t) 8 * binop_y_70199;
    int64_t ext_70251;
    
    if (cond_54502) {
        ext_70251 = dim_38264;
    } else {
        ext_70251 = ext_70245;
    }
    
    int64_t ext_70250;
    
    if (cond_54502) {
        ext_70250 = (int64_t) 1;
    } else {
        ext_70250 = ext_70244;
    }
    
    int64_t ext_70154;
    
    if (cond_54502) {
        ext_70154 = dim_38264;
    } else {
        ext_70154 = ext_70148;
    }
    
    int64_t ext_70153;
    
    if (cond_54502) {
        ext_70153 = (int64_t) 1;
    } else {
        ext_70153 = ext_70147;
    }
    
    int64_t maxSubHelper_71458 = umax64((int64_t) 0, binop_x_68663);
    int64_t maxSubHelper_71450 = umax64((int64_t) 0, binop_x_68663);
    int64_t maxSubHelper_71441 = umax64((int64_t) 0, binop_x_68663);
    int64_t maxSubHelper_71442 = umax64((int64_t) 0, binop_x_68663);
    int64_t num_threads_71593 = segscan_tblock_sizze_66056 * num_tblocks_66057;
    int64_t total_sizze_71594 = maxSubHelper_71441 * num_threads_71593;
    int64_t total_sizze_71595 = binop_x_68663 * num_threads_71593;
    int64_t total_sizze_71596 = binop_x_68663 * num_threads_71593;
    int64_t total_sizze_71597 = binop_x_68663 * num_threads_71593;
    int64_t total_sizze_71598 = maxSubHelper_71442 * num_threads_71593;
    int64_t total_sizze_71599 = binop_x_68663 * num_threads_71593;
    int64_t total_sizze_71600 = binop_x_68663 * num_threads_71593;
    int64_t shared_memory_capacity_73303;
    
    shared_memory_capacity_73303 = ctx->max_shared_memory;
    if (intra_suff_and_fits_67433 && sle64(sdiv_up64(maxSubHelper_71450, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_73303)) {
        if (memblock_alloc_device(ctx, &mem_70318, bytes_68617, "mem_70318")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t num_chunks_73068 = sext_i64_i32(sdiv_up64(dim_38264, dim_38264));
        int32_t virt_num_tblocks_73069 = sext_i64_i32(n_38267);
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_67437(ctx, n_38267, 1, 1, dim_38264, 1, 1, binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71450 + srem64((int64_t) 8 - srem64(maxSubHelper_71450, (int64_t) 8), (int64_t) 8)), dim_38264, n_38267, total_grid_no_38275, arg_54492, cond_54502, min_arg1_68335, binop_x_68663, maxSubHelper_71450, grid_part_prefix_sum_mem_68612.mem, grid_part_sizze_per_dim_mem_68613.mem, grid_partitions_per_dim_mem_68614.mem, start_of_grid_partition_mem_68615.mem, mem_68643.mem, ext_mem_69910.mem, mem_70318.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &ext_mem_70319, &mem_70318, "mem_70318") != 0)
            return 1;
    } else {
        if (cond_54502) {
            if (memblock_alloc_device(ctx, &mem_70249, bytes_68654, "mem_70249")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_70252, &mem_70249, "mem_70249") != 0)
                return 1;
        } else {
            int64_t shared_memory_capacity_73281;
            
            shared_memory_capacity_73281 = ctx->max_shared_memory;
            if (intra_suff_and_fits_67529 && sle64(sdiv_up64(maxSubHelper_71458, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_73281)) {
                if (memblock_alloc_device(ctx, &mem_70243, bytes_68654, "mem_70243")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_73090 = sext_i64_i32(sdiv_up64(dim_38264, dim_38264));
                int32_t virt_num_tblocks_73091 = sext_i64_i32(n_38267);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_67533(ctx, n_38267, 1, 1, dim_38264, 1, 1, binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_71458 + srem64((int64_t) 8 - srem64(maxSubHelper_71458, (int64_t) 8), (int64_t) 8)), dim_38264, n_38267, arg_54492, cond_54502, binop_x_68663, maxSubHelper_71458, grid_part_sizze_per_dim_mem_68613.mem, grid_partitions_per_dim_mem_68614.mem, start_of_grid_partition_mem_68615.mem, mem_68651.mem, ext_mem_69910.mem, mem_70243.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_70246, &mem_70243, "mem_70243") != 0)
                    return 1;
            } else {
                if (cond_54502) {
                    if (memblock_alloc_device(ctx, &mem_70152, bytes_68654, "mem_70152")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_70155, &mem_70152, "mem_70152") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_73237;
                    
                    shared_memory_capacity_73237 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_67605 && sle64(sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_68663, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_73237)) {
                        if (memblock_alloc_device(ctx, &mem_70146, bytes_68654, "mem_70146")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_73111 = sext_i64_i32(sdiv_up64(dim_38264, dim_38264));
                        int32_t virt_num_tblocks_73112 = sext_i64_i32(n_38267);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_67609(ctx, n_38267, 1, 1, dim_38264, 1, 1, binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)) + (binop_x_68663 + srem64((int64_t) 8 - srem64(binop_x_68663, (int64_t) 8), (int64_t) 8)), dim_38264, n_38267, arg_54492, cond_54502, binop_x_68663, grid_part_sizze_per_dim_mem_68613.mem, start_of_grid_partition_mem_68615.mem, ext_mem_69910.mem, mem_70146.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_70149, &mem_70146, "mem_70146") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_70019, bytes_68654, "mem_70019")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_73129 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_67660));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67665(ctx, segmap_usable_groups_67661, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66801, 1, 1, (int64_t) 0, dim_38264, n_38267, start_of_grid_partition_mem_68615.mem, ext_mem_69910.mem, mem_70019.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_73140 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_67676));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67681(ctx, segmap_usable_groups_67677, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66768, 1, 1, (int64_t) 0, dim_38264, n_38267, grid_part_sizze_per_dim_mem_68613.mem, mem_70019.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (cond_54502) {
                            if (memblock_alloc_device(ctx, &mem_70068, bytes_68654, "mem_70068")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_set_device(ctx, &ext_mem_70071, &mem_70068, "mem_70068") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_70022, bytes_68617, "mem_70022")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_73151 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67689));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_67693(ctx, segmap_usable_groups_67690, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66714, 1, 1, (int64_t) 0, dim_38264, n_38267, mem_70019.mem, mem_70022.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_70025, bytes_68664, "mem_70025")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_73160 = dim_38264 * n_38267;
                            int64_t tblock_sizze_73165;
                            
                            tblock_sizze_73165 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73165;
                            
                            int64_t virt_num_tblocks_73166 = sdiv_up64(replicate_n_73160, tblock_sizze_73165);
                            int64_t num_tblocks_73167 = smin64(virt_num_tblocks_73166, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_73161(ctx, num_tblocks_73167, 1, 1, tblock_sizze_73165, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_73160, virt_num_tblocks_73166, num_tblocks_73167, mem_70022.mem, mem_70025.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_70022, "mem_70022") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_70036, bytes_68675, "mem_70036")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70036.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_70025.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_70025, "mem_70025") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_70047, bytes_68675, "mem_70047")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_70019.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_70065, bytes_70064, "mem_70065")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_73180 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67701));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_67706(ctx, num_tblocks_67702, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66688, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_67702, virt_num_tblocks_73180, mem_70036.mem, mem_70047.mem, mem_70065.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_70036, "mem_70036") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_70047, "mem_70047") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_70071, &mem_70065, "mem_70065") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_70019, "mem_70019") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_70074, bytes_68617, "mem_70074")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_73194 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67722));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67726(ctx, segmap_usable_groups_67723, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66656, 1, 1, (int64_t) 0, n_38267, ext_68710, ext_mem_70071.mem, mem_70074.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_70077, bytes_68664, "mem_70077")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_73203 = dim_38264 * n_38267;
                        int64_t tblock_sizze_73208;
                        
                        tblock_sizze_73208 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73208;
                        
                        int64_t virt_num_tblocks_73209 = sdiv_up64(replicate_n_73203, tblock_sizze_73208);
                        int64_t num_tblocks_73210 = smin64(virt_num_tblocks_73209, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_73204(ctx, num_tblocks_73210, 1, 1, tblock_sizze_73208, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_73203, virt_num_tblocks_73209, num_tblocks_73210, mem_70074.mem, mem_70077.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_70074, "mem_70074") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_70088, bytes_68675, "mem_70088")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70088.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_70077.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_70077, "mem_70077") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_70099, bytes_68675, "mem_70099")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70099.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, ext_mem_70071.mem, (int64_t) 0, (int64_t []) {ext_68710, ext_68709}, (int64_t []) {n_38267, dim_38264})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &ext_mem_70071, "ext_mem_70071") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_70117, bytes_70116, "mem_70117")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_73223 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67734));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67739(ctx, num_tblocks_67735, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66630, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_67735, virt_num_tblocks_73223, mem_70088.mem, mem_70099.mem, mem_70117.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_70088, "mem_70088") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_70099, "mem_70099") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_70149, &mem_70117, "mem_70117") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_70155, &ext_mem_70149, "ext_mem_70149") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_70158, bytes_68617, "mem_70158")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_73238 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67755));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_67759(ctx, segmap_usable_groups_67756, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66503, 1, 1, (int64_t) 0, n_38267, ext_70154, mem_68651.mem, ext_mem_70155.mem, mem_70158.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_70161, bytes_68664, "mem_70161")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_73247 = dim_38264 * n_38267;
                int64_t tblock_sizze_73252;
                
                tblock_sizze_73252 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73252;
                
                int64_t virt_num_tblocks_73253 = sdiv_up64(replicate_n_73247, tblock_sizze_73252);
                int64_t num_tblocks_73254 = smin64(virt_num_tblocks_73253, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_73248(ctx, num_tblocks_73254, 1, 1, tblock_sizze_73252, 1, 1, (int64_t) 0, dim_38264, n_38267, replicate_n_73247, virt_num_tblocks_73253, num_tblocks_73254, mem_70158.mem, mem_70161.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_70158, "mem_70158") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_70172, bytes_68675, "mem_70172")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70172.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_70161.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, (int64_t []) {n_38267, dim_38264})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &mem_70161, "mem_70161") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_70183, bytes_68675, "mem_70183")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70183.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, ext_mem_70155.mem, (int64_t) 0, (int64_t []) {ext_70154, ext_70153}, (int64_t []) {n_38267, dim_38264})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_70155, "ext_mem_70155") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_70201, bytes_70200, "mem_70201")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_73267 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67767));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_67772(ctx, num_tblocks_67768, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66474, 1, 1, (int64_t) 0, dim_38264, n_38267, arg_54492, num_tblocks_67768, virt_num_tblocks_73267, grid_partitions_per_dim_mem_68614.mem, mem_70172.mem, mem_70183.mem, mem_70201.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_70172, "mem_70172") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_70183, "mem_70183") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_70246, &mem_70201, "mem_70201") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_70252, &ext_mem_70246, "ext_mem_70246") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &mem_70256, bytes_68654, "mem_70256")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_73282 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_67796));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67801(ctx, segmap_usable_groups_67797, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66297, 1, 1, (int64_t) 0, dim_38264, n_38267, ext_70250, ext_70251, grid_part_prefix_sum_mem_68612.mem, ext_mem_70252.mem, mem_70256.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_70252, "ext_mem_70252") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70267, bytes_68675, "mem_70267")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70267.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_38267}, mem_70256.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {n_38267, dim_38264})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_70256, "mem_70256") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70270, bytes_68617, "mem_70270")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_73293 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67807));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67811(ctx, segmap_usable_groups_67808, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_66265, 1, 1, (int64_t) 0, dim_38264, n_38267, total_grid_no_38275, mem_68643.mem, mem_70267.mem, mem_70270.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_70267, "mem_70267") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_70319, &mem_70270, "mem_70270") != 0)
            return 1;
    }
    if (memblock_alloc_device(ctx, &mem_70321, bytes_68617, "mem_70321")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_70321.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_70319.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_38267})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_70324, bytes_68617, "mem_70324")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, n_38267)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_73304;
        
        shared_memory_73304 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_73305;
        
        thread_block_sizze_73305 = ctx->max_thread_block_size;
        
        int64_t registers_73306;
        
        registers_73306 = ctx->max_registers;
        
        int64_t thread_block_sizze_73307;
        
        thread_block_sizze_73307 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_73308 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_73304, thread_block_sizze_73305), (int64_t) 8), squot64(squot64(registers_73306, thread_block_sizze_73307) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_73309 = sdiv_up64(n_38267, segscan_tblock_sizze_67828 * chunk_sizze_73308);
        int64_t num_virt_threads_73310 = num_virt_blocks_73309 * segscan_tblock_sizze_67828;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_73308, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_73311, num_virt_blocks_73309, "status_flags_mem_73311")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_73311, num_virt_blocks_73309, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_73313, (int64_t) 8 * num_virt_blocks_73309, "aggregates_mem_73313")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_73315, (int64_t) 8 * num_virt_blocks_73309, "incprefixes_mem_73315")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegscan_67833(ctx, num_tblocks_67829, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_67420, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_67828), chunk_sizze_73308 * segscan_tblock_sizze_67828 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_67828), chunk_sizze_73308 * segscan_tblock_sizze_67828 * (int64_t) 8), (int64_t) 8), (int64_t) 8), n_38267, num_tblocks_67829, num_virt_blocks_73309, num_virt_threads_73310, ext_mem_70319.mem, mem_70324.mem, status_flags_mem_73311.mem, aggregates_mem_73313.mem, incprefixes_mem_73315.mem, global_dynid_mem_73317.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &ext_mem_70319, "ext_mem_70319") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_70394, &mem_70324, "mem_70324") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_70393, &mem_70321, "mem_70321") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_68651, "mem_68651") != 0)
        return 1;
    
    int64_t m_f_res_55472;
    
    if (x_55465) {
        int64_t read_res_74228;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_74228, ext_mem_70394.mem, zs_lhs_54681 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_57344 = read_res_74228;
        
        m_f_res_55472 = x_57344;
    } else {
        m_f_res_55472 = (int64_t) 0;
    }
    
    int64_t m_55474;
    
    if (empty_slice_55248) {
        m_55474 = (int64_t) 0;
    } else {
        m_55474 = m_f_res_55472;
    }
    
    int64_t m_55484 = sub64(m_55474, (int64_t) 1);
    bool i_p_m_t_s_leq_w_55486 = slt64(m_55484, n_38267);
    bool zzero_leq_i_p_m_t_s_55485 = sle64((int64_t) 0, m_55484);
    bool y_55488 = zzero_leq_i_p_m_t_s_55485 && i_p_m_t_s_leq_w_55486;
    bool i_lte_j_55487 = sle64((int64_t) 0, m_55474);
    bool forwards_ok_55489 = i_lte_j_55487 && y_55488;
    bool eq_x_zz_55481 = (int64_t) 0 == m_f_res_55472;
    bool p_and_eq_x_y_55482 = x_55465 && eq_x_zz_55481;
    bool empty_slice_55483 = empty_slice_55248 || p_and_eq_x_y_55482;
    bool ok_or_empty_55490 = empty_slice_55483 || forwards_ok_55489;
    bool index_certs_55491;
    
    if (!ok_or_empty_55490) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_55474, "] out of bounds for array of shape [", (long long) n_38267, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_70395 = (int64_t) 8 * m_55474;
    int64_t bytes_70396 = dim_38264 * binop_x_70395;
    bool bounds_invalid_upwards_55673 = slt64(m_55474, (int64_t) 1);
    bool valid_55674 = !bounds_invalid_upwards_55673;
    bool protect_assert_disj_70735 = empty_slice_55483 || valid_55674;
    bool range_valid_c_55675;
    
    if (!protect_assert_disj_70735) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) m_55474, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_55676 = slt64((int64_t) 0, m_55484);
    bool loop_not_taken_55677 = !loop_nonempty_55676;
    bool protect_assert_disj_55680 = assert_cond_54493 || loop_not_taken_55677;
    bool protect_assert_disj_70737 = empty_slice_55483 || protect_assert_disj_55680;
    bool empty_or_match_cert_55681;
    
    if (!protect_assert_disj_70737) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_67858;
    
    segmap_tblock_sizze_67858 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67847;
    
    int64_t segmap_usable_groups_67859 = sdiv_up64(n_38267, segmap_tblock_sizze_67858);
    int64_t segmap_tblock_sizze_67879;
    
    segmap_tblock_sizze_67879 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67878;
    
    int64_t num_tblocks_67881;
    int64_t max_num_tblocks_73406;
    
    max_num_tblocks_73406 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_67880;
    num_tblocks_67881 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_61631, segmap_tblock_sizze_67879), max_num_tblocks_73406)));
    
    int64_t segmap_tblock_sizze_67889;
    
    segmap_tblock_sizze_67889 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67888;
    
    int64_t num_tblocks_67891;
    int64_t max_num_tblocks_73407;
    
    max_num_tblocks_73407 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_67890;
    num_tblocks_67891 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_38267, segmap_tblock_sizze_67889), max_num_tblocks_73407)));
    if (memblock_alloc_device(ctx, &mem_68648, bytes_68647, "mem_68648")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_68648, total_part_no_38276, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_68139;
    
    seghist_tblock_sizze_68139 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138;
    
    int64_t segscan_tblock_sizze_68154;
    
    segscan_tblock_sizze_68154 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_68153;
    
    int64_t num_tblocks_68156;
    int64_t max_num_tblocks_73408;
    
    max_num_tblocks_73408 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_68155;
    num_tblocks_68156 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_38276, segscan_tblock_sizze_68154), max_num_tblocks_73408)));
    
    int64_t segmap_tblock_sizze_68175;
    
    segmap_tblock_sizze_68175 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68163;
    
    int64_t segmap_usable_groups_68176 = sdiv_up64(total_part_no_38276, segmap_tblock_sizze_68175);
    
    if (memblock_alloc_device(ctx, &mem_70397, bytes_70396, "mem_70397")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_70397.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, ext_mem_69910.mem, (int64_t) 0, (int64_t []) {dim_38264, (int64_t) 1}, (int64_t []) {m_55474, dim_38264})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_70399, binop_x_70395, "mem_70399")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_70399.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_69906.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_55474})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_70402, bytes_68617, "mem_70402")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_70404, bytes_68617, "mem_70404")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_73409 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67858));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_67863(ctx, segmap_usable_groups_67859, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67847, 1, 1, (int64_t) 0, n_38267, ext_mem_70393.mem, ext_mem_70394.mem, mem_70402.mem, mem_70404.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_70393, "ext_mem_70393") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_70394, "ext_mem_70394") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_73418 = sext_i64_i32(sdiv_up64(n_38267 * dim_38264, segmap_tblock_sizze_67879));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_67875(ctx, num_tblocks_67881, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67878, 1, 1, (int64_t) 0, dim_38264, n_38267, m_55474, num_tblocks_67881, virt_num_tblocks_73418, ext_mem_69910.mem, mem_70397.mem, mem_70402.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_69910, "ext_mem_69910") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_70402, "mem_70402") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_73433 = sext_i64_i32(sdiv_up64(n_38267, segmap_tblock_sizze_67889));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_67886(ctx, num_tblocks_67891, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67888, 1, 1, (int64_t) 0, n_38267, m_55474, num_tblocks_67891, virt_num_tblocks_73433, ext_mem_69906.mem, mem_70399.mem, mem_70404.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_69906, "ext_mem_69906") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_70404, "mem_70404") != 0)
        return 1;
    
    int64_t bytes_70469 = (int64_t) 8 * arg_54492;
    
    if (empty_slice_55483) {
        if (memblock_alloc_device(ctx, &mem_70667, binop_x_70395, "mem_70667")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_70670, &mem_70667, "mem_70667") != 0)
            return 1;
    } else {
        bool y_55504 = slt64((int64_t) 0, m_55474);
        bool index_certs_55505;
        
        if (!y_55504) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) m_55474, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_55678 = y_54499 || loop_not_taken_55677;
        bool index_certs_55679;
        
        if (!protect_assert_disj_55678) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_38265, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_55682 = protect_assert_disj_54536 || loop_not_taken_55677;
        bool index_certs_55683;
        
        if (!protect_assert_disj_55682) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_55684;
        
        if (!protect_assert_disj_55682) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_55685 = protect_assert_disj_54507 || loop_not_taken_55677;
        bool index_certs_55686;
        
        if (!protect_assert_disj_55685) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_55687 = protect_assert_disj_54540 || loop_not_taken_55677;
        bool range_valid_c_55688;
        
        if (!protect_assert_disj_55687) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_38264, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool range_valid_c_55689;
        
        if (!protect_assert_disj_55687) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_38264, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool protect_assert_disj_55693 = protect_assert_disj_54514 || loop_not_taken_55677;
        bool range_valid_c_55694;
        
        if (!protect_assert_disj_55693) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        bool index_certs_55997;
        
        if (!protect_assert_disj_55682) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (cond_54502) {
            if (memblock_alloc_device(ctx, &mem_70454, binop_x_68663, "mem_70454")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_70457, &mem_70454, "mem_70454") != 0)
                return 1;
        } else {
            bool index_certs_55557;
            
            if (!y_54534) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_55975;
            
            if (!y_54534) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t segmap_tblock_sizze_67905;
            
            segmap_tblock_sizze_67905 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67896;
            
            int64_t segmap_usable_groups_67906 = sdiv_up64(dim_38264, segmap_tblock_sizze_67905);
            
            if (memblock_alloc_device(ctx, &mem_70412, binop_x_68663, "mem_70412")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_73446 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_67905));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_67909(ctx, segmap_usable_groups_67906, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67896, 1, 1, (int64_t) 0, dim_38264, start_of_grid_partition_mem_68615.mem, mem_70397.mem, mem_70412.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_tblock_sizze_67925;
            
            segmap_tblock_sizze_67925 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67916;
            
            int64_t segmap_usable_groups_67926 = sdiv_up64(dim_38264, segmap_tblock_sizze_67925);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_73455 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_67925));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_67929(ctx, segmap_usable_groups_67926, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67916, 1, 1, (int64_t) 0, dim_38264, grid_part_sizze_per_dim_mem_68613.mem, mem_70412.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (cond_54502) {
                if (memblock_alloc_device(ctx, &mem_70439, binop_x_68663, "mem_70439")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_70442, &mem_70439, "mem_70439") != 0)
                    return 1;
            } else {
                if (cond_54502) {
                    if (memblock_alloc_device(ctx, &mem_70424, binop_x_68663, "mem_70424")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_70427, &mem_70424, "mem_70424") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_70413, (int64_t) 8, "mem_70413")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73464(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_70412.mem, mem_70413.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_70415, binop_x_68663, "mem_70415")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_73470 = dim_38264;
                    int64_t tblock_sizze_73475;
                    
                    tblock_sizze_73475 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73475;
                    
                    int64_t virt_num_tblocks_73476 = sdiv_up64(replicate_n_73470, tblock_sizze_73475);
                    int64_t num_tblocks_73477 = smin64(virt_num_tblocks_73476, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_73471(ctx, num_tblocks_73477, 1, 1, tblock_sizze_73475, 1, 1, (int64_t) 0, dim_38264, replicate_n_73470, virt_num_tblocks_73476, num_tblocks_73477, mem_70413.mem, mem_70415.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_70413, "mem_70413") != 0)
                        return 1;
                    for (int64_t i_55525 = 0; i_55525 < arg_54492; i_55525++) {
                        int64_t index_primexp_55527 = add64((int64_t) 1, i_55525);
                        bool x_55528 = sle64((int64_t) 0, index_primexp_55527);
                        bool y_55529 = slt64(index_primexp_55527, dim_38264);
                        bool bounds_check_55530 = x_55528 && y_55529;
                        bool index_certs_55531;
                        
                        if (!bounds_check_55530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55527, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73491(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55527, mem_70412.mem, mem_70415.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_set_device(ctx, &ext_mem_70427, &mem_70415, "mem_70415") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_70428, (int64_t) 8, "mem_70428")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73497(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_70427.mem, mem_70428.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_70430, binop_x_68663, "mem_70430")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_73503 = dim_38264;
                int64_t tblock_sizze_73508;
                
                tblock_sizze_73508 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73508;
                
                int64_t virt_num_tblocks_73509 = sdiv_up64(replicate_n_73503, tblock_sizze_73508);
                int64_t num_tblocks_73510 = smin64(virt_num_tblocks_73509, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_73504(ctx, num_tblocks_73510, 1, 1, tblock_sizze_73508, 1, 1, (int64_t) 0, dim_38264, replicate_n_73503, virt_num_tblocks_73509, num_tblocks_73510, mem_70428.mem, mem_70430.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_70428, "mem_70428") != 0)
                    return 1;
                for (int64_t i_55544 = 0; i_55544 < arg_54492; i_55544++) {
                    int64_t index_primexp_55546 = add64((int64_t) 1, i_55544);
                    bool x_55547 = sle64((int64_t) 0, index_primexp_55546);
                    bool y_55548 = slt64(index_primexp_55546, dim_38264);
                    bool bounds_check_55549 = x_55547 && y_55548;
                    bool index_certs_55550;
                    
                    if (!bounds_check_55549) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55546, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73524(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55546, ext_mem_70427.mem, mem_70430.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_70427, "ext_mem_70427") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_70442, &mem_70430, "mem_70430") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_70412, "mem_70412") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_70443, (int64_t) 8, "mem_70443")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73530(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, ext_mem_70442.mem, mem_70443.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_70445, binop_x_68663, "mem_70445")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_73536 = dim_38264;
            int64_t tblock_sizze_73541;
            
            tblock_sizze_73541 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73541;
            
            int64_t virt_num_tblocks_73542 = sdiv_up64(replicate_n_73536, tblock_sizze_73541);
            int64_t num_tblocks_73543 = smin64(virt_num_tblocks_73542, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_73537(ctx, num_tblocks_73543, 1, 1, tblock_sizze_73541, 1, 1, (int64_t) 0, dim_38264, replicate_n_73536, virt_num_tblocks_73542, num_tblocks_73543, mem_70443.mem, mem_70445.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_70443, "mem_70443") != 0)
                return 1;
            for (int64_t i_55563 = 0; i_55563 < arg_54492; i_55563++) {
                int64_t index_primexp_55565 = add64((int64_t) 1, i_55563);
                bool x_55566 = sle64((int64_t) 0, index_primexp_55565);
                bool y_55567 = slt64(index_primexp_55565, dim_38264);
                bool bounds_check_55568 = x_55566 && y_55567;
                bool index_certs_55569;
                
                if (!bounds_check_55568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55565, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_certs_55986;
                
                if (!bounds_check_55568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55565, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73557(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55565, grid_partitions_per_dim_mem_68614.mem, ext_mem_70442.mem, mem_70445.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
            if (memblock_unref_device(ctx, &ext_mem_70442, "ext_mem_70442") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_70457, &mem_70445, "mem_70445") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_67945;
        
        segmap_tblock_sizze_67945 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67936;
        
        int64_t segmap_usable_groups_67946 = sdiv_up64(dim_38264, segmap_tblock_sizze_67945);
        
        if (memblock_alloc_device(ctx, &mem_70460, binop_x_68663, "mem_70460")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_73563 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_67945));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_67949(ctx, segmap_usable_groups_67946, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67936, 1, 1, (int64_t) 0, dim_38264, grid_part_prefix_sum_mem_68612.mem, ext_mem_70457.mem, mem_70460.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_70457, "ext_mem_70457") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70461, (int64_t) 8, "mem_70461")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_70461, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &mem_param_70464, &mem_70461, "mem_70461") != 0)
            return 1;
        for (int64_t i_55578 = 0; i_55578 < dim_38264; i_55578++) {
            if (memblock_alloc_device(ctx, &mem_70465, (int64_t) 8, "mem_70465")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73574(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55578, mem_70460.mem, mem_param_70464.mem, mem_70465.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_73572, &mem_70465, "mem_70465") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_70464, &mem_param_tmp_73572, "mem_param_tmp_73572") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_70468, &mem_param_70464, "mem_param_70464") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70460, "mem_70460") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70526, bytes_70469, "mem_70526")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_70526, arg_54492, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t segmap_tblock_sizze_67984;
        
        segmap_tblock_sizze_67984 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67976;
        if (memblock_alloc_device(ctx, &mem_70471, (int64_t) 8, "mem_70471")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_70471, (int64_t) 1, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (cond_54504) {
            if (memblock_alloc_device(ctx, &mem_70481, bytes_68619, "mem_70481")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_70484, &mem_70481, "mem_70481") != 0)
                return 1;
        } else {
            bool index_certs_55644;
            
            if (!y_54506) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_55645;
            
            if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_55645, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, dim_38264, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_70473, bytes_68619, "mem_70473")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_70473, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, defunc_0_f_res_55645) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_55649 = 0; i_55649 < distance_54512; i_55649++) {
                int64_t index_primexp_55651 = add64((int64_t) 1, i_55649);
                bool x_55652 = sle64((int64_t) 0, index_primexp_55651);
                bool y_55653 = slt64(index_primexp_55651, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266);
                bool bounds_check_55654 = x_55652 && y_55653;
                bool index_certs_55655;
                
                if (!bounds_check_55654) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55651, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_55656;
                
                if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_55656, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, dim_38264, index_primexp_55651) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_74229 = defunc_0_f_res_55656;
                
                if ((err = gpu_scalar_to_device(ctx, mem_70473.mem, index_primexp_55651 * sizeof(double), sizeof(double), &write_tmp_74229)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_70484, &mem_70473, "mem_70473") != 0)
                return 1;
        }
        
        int64_t segmap_tblock_sizze_68005;
        
        segmap_tblock_sizze_68005 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67994;
        
        int64_t segmap_usable_groups_68006 = sdiv_up64(arg_54492, segmap_tblock_sizze_68005);
        bool protect_cond_conj_55690 = x_54505 && loop_nonempty_55676;
        double defunc_0_f_res_55691;
        
        if (protect_cond_conj_55690) {
            double x_57493;
            
            if (futrts_lifted_lambda_10000(ctx, &x_57493, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, dim_38264, (int64_t) 0) != 0) {
                err = 1;
                goto cleanup;
            }
            defunc_0_f_res_55691 = x_57493;
        } else {
            defunc_0_f_res_55691 = 0.0;
        }
        
        bool protect_cond_conj_56036 = loop_nonempty_55676 && x_56045;
        
        if (protect_cond_conj_56036) {
            if (memblock_alloc_device(ctx, &mem_70485, (int64_t) 8, "mem_70485")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73581(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_68614.mem, mem_70485.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_70486, &mem_70485, "mem_70485") != 0)
                return 1;
        } else if (memblock_set_device(ctx, &ext_mem_70486, &mem_70461, "mem_70461") != 0)
            return 1;
        
        int64_t segmap_tblock_sizze_68027;
        
        segmap_tblock_sizze_68027 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68018;
        
        int64_t segmap_tblock_sizze_68047;
        
        segmap_tblock_sizze_68047 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68038;
        
        int64_t segmap_tblock_sizze_68067;
        
        segmap_tblock_sizze_68067 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68058;
        
        int64_t segmap_usable_groups_68068 = sdiv_up_safe64(dim_38264, segmap_tblock_sizze_68067);
        int64_t segmap_tblock_sizze_68087;
        
        segmap_tblock_sizze_68087 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68078;
        
        int64_t segmap_tblock_sizze_68106;
        
        segmap_tblock_sizze_68106 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68098;
        
        int64_t segmap_tblock_sizze_68127;
        
        segmap_tblock_sizze_68127 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68116;
        
        int64_t segmap_usable_groups_68128 = sdiv_up_safe64(arg_54492, segmap_tblock_sizze_68127);
        int64_t segmap_usable_groups_68028 = sdiv_up_safe64(dim_38264, segmap_tblock_sizze_68027);
        int64_t segmap_usable_groups_68048 = sdiv_up_safe64(dim_38264, segmap_tblock_sizze_68047);
        int64_t segmap_usable_groups_68088 = sdiv_up_safe64(dim_38264, segmap_tblock_sizze_68087);
        
        if (memblock_alloc_device(ctx, &mem_70487, (int64_t) 0, "mem_70487")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_70488, (int64_t) 8, "mem_70488")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_70489, (int64_t) 8, "mem_70489")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73587(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_38265, total_angle_no_38274, ext_mem_70468.mem, ext_mem_70486.mem, mem_70487.mem, mem_70488.mem, mem_70489.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (memblock_unref_device(ctx, &ext_mem_70486, "ext_mem_70486") != 0)
            return 1;
        if (cond_54502) {
            if (memblock_alloc_device(ctx, &mem_70503, binop_x_68663, "mem_70503")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_70506, &mem_70503, "mem_70503") != 0)
                return 1;
        } else {
            bool index_certs_55594;
            
            if (!y_54534) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool index_certs_55585 = 0;
            int64_t segmap_tblock_sizze_67965;
            
            segmap_tblock_sizze_67965 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67956;
            
            int64_t segmap_usable_groups_67966 = sdiv_up64(dim_38264, segmap_tblock_sizze_67965);
            
            if (memblock_alloc_device(ctx, &mem_70492, binop_x_68663, "mem_70492")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_73593 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_67965));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_67969(ctx, segmap_usable_groups_67966, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67956, 1, 1, (int64_t) 0, dim_38264, start_of_grid_partition_mem_68615.mem, mem_70397.mem, ext_mem_70468.mem, mem_70492.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_70493, (int64_t) 8, "mem_70493")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73602(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_70492.mem, mem_70493.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_70495, binop_x_68663, "mem_70495")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_73608 = dim_38264;
            int64_t tblock_sizze_73613;
            
            tblock_sizze_73613 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73613;
            
            int64_t virt_num_tblocks_73614 = sdiv_up64(replicate_n_73608, tblock_sizze_73613);
            int64_t num_tblocks_73615 = smin64(virt_num_tblocks_73614, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_73609(ctx, num_tblocks_73615, 1, 1, tblock_sizze_73613, 1, 1, (int64_t) 0, dim_38264, replicate_n_73608, virt_num_tblocks_73614, num_tblocks_73615, mem_70493.mem, mem_70495.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_70493, "mem_70493") != 0)
                return 1;
            for (int64_t i_55599 = 0; i_55599 < arg_54492; i_55599++) {
                int64_t index_primexp_55601 = add64((int64_t) 1, i_55599);
                bool x_55602 = sle64((int64_t) 0, index_primexp_55601);
                bool y_55603 = slt64(index_primexp_55601, dim_38264);
                bool bounds_check_55604 = x_55602 && y_55603;
                bool index_certs_55605;
                
                if (!bounds_check_55604) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55601, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_70495.mem, index_primexp_55601, (int64_t []) {(int64_t) 1}, mem_70492.mem, index_primexp_55601, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_70492, "mem_70492") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_70506, &mem_70495, "mem_70495") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_70468, "ext_mem_70468") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70487, "mem_70487") != 0)
            return 1;
        for (int64_t i_55610 = 0; i_55610 < arg_54492; i_55610++) {
            bool y_55612 = slt64(i_55610, dim_38264);
            bool index_certs_55613;
            
            if (!y_55612) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_55610, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_55615 = add64((int64_t) 1, i_55610);
            int64_t j_m_i_55616 = sub64(dim_38264, map_arg1_55615);
            bool empty_slice_55617 = j_m_i_55616 == (int64_t) 0;
            int64_t m_55618 = sub64(j_m_i_55616, (int64_t) 1);
            int64_t i_p_m_t_s_55619 = add64(map_arg1_55615, m_55618);
            bool zzero_leq_i_p_m_t_s_55620 = sle64((int64_t) 0, i_p_m_t_s_55619);
            bool i_p_m_t_s_leq_w_55621 = slt64(i_p_m_t_s_55619, dim_38264);
            bool zzero_lte_i_55622 = sle64((int64_t) 0, map_arg1_55615);
            bool i_lte_j_55623 = sle64(map_arg1_55615, dim_38264);
            bool y_55624 = i_p_m_t_s_leq_w_55621 && zzero_lte_i_55622;
            bool y_55625 = zzero_leq_i_p_m_t_s_55620 && y_55624;
            bool forwards_ok_55626 = i_lte_j_55623 && y_55625;
            bool ok_or_empty_55627 = empty_slice_55617 || forwards_ok_55626;
            bool index_certs_55628;
            
            if (!ok_or_empty_55627) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_55615, ":", (long long) dim_38264, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_70511 = (int64_t) 8 * j_m_i_55616;
            int64_t segmap_usable_groups_67985 = sdiv_up64(j_m_i_55616, segmap_tblock_sizze_67984);
            
            if (memblock_alloc_device(ctx, &mem_70512, bytes_70511, "mem_70512")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_73630 = sext_i64_i32(sdiv_up64(j_m_i_55616, segmap_tblock_sizze_67984));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_67988(ctx, segmap_usable_groups_67985, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67976, 1, 1, (int64_t) 0, map_arg1_55615, j_m_i_55616, ext_mem_70506.mem, mem_70512.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &mem_param_70515, &mem_70471, "mem_70471") != 0)
                return 1;
            for (int64_t i_55634 = 0; i_55634 < j_m_i_55616; i_55634++) {
                if (memblock_alloc_device(ctx, &mem_70516, (int64_t) 8, "mem_70516")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73641(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55634, mem_70512.mem, mem_param_70515.mem, mem_70516.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_73639, &mem_70516, "mem_70516") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_70515, &mem_param_tmp_73639, "mem_param_tmp_73639") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_70519, &mem_param_70515, "mem_param_70515") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_70512, "mem_70512") != 0)
                return 1;
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73647(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55610, ext_mem_70506.mem, ext_mem_70519.mem, mem_70526.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_70519, "ext_mem_70519") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &ext_mem_70506, "ext_mem_70506") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_73653 = sext_i64_i32(sdiv_up64(arg_54492, segmap_tblock_sizze_68005));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_68009(ctx, segmap_usable_groups_68006, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_67994, 1, 1, (int64_t) 0, arg_54492, angle_part_prefix_sum_mem_68610.mem, angle_partitions_per_dim_mem_68611.mem, ext_mem_70484.mem, mem_70526.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_70484, "ext_mem_70484") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_70529, &mem_70461, "mem_70461") != 0)
            return 1;
        for (int64_t i_55666 = 0; i_55666 < arg_54492; i_55666++) {
            if (memblock_alloc_device(ctx, &mem_70530, (int64_t) 8, "mem_70530")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73664(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55666, mem_70526.mem, mem_param_70529.mem, mem_70530.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &mem_param_tmp_73662, &mem_70530, "mem_70530") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_70529, &mem_param_tmp_73662, "mem_param_tmp_73662") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_70533, &mem_param_70529, "mem_param_70529") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70526, "mem_70526") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70534, (int64_t) 8, "mem_70534")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73670(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_70488.mem, ext_mem_70533.mem, mem_70534.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_70488, "mem_70488") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70533, "ext_mem_70533") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70536, binop_x_70395, "mem_70536")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_73676 = m_55474;
        int64_t tblock_sizze_73681;
        
        tblock_sizze_73681 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73681;
        
        int64_t virt_num_tblocks_73682 = sdiv_up64(replicate_n_73676, tblock_sizze_73681);
        int64_t num_tblocks_73683 = smin64(virt_num_tblocks_73682, (int64_t) 1048576);
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezireplicate_73677(ctx, num_tblocks_73683, 1, 1, tblock_sizze_73681, 1, 1, (int64_t) 0, m_55474, replicate_n_73676, virt_num_tblocks_73682, num_tblocks_73683, mem_70534.mem, mem_70536.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_70534, "mem_70534") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_70593, binop_x_68663, "mem_70593")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_70602, bytes_70469, "mem_70602")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_70616, (int64_t) 0, "mem_70616")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_70617, (int64_t) 8, "mem_70617")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_70654, bytes_70469, "mem_70654")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_55696 = 0; i_55696 < m_55484; i_55696++) {
            int64_t index_primexp_55698 = add64((int64_t) 1, i_55696);
            bool x_55699 = sle64((int64_t) 0, index_primexp_55698);
            bool y_55700 = slt64(index_primexp_55698, m_55474);
            bool bounds_check_55701 = x_55699 && y_55700;
            bool index_certs_55702;
            
            if (!bounds_check_55701) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55698, "] out of bounds for array of shape [", (long long) m_55474, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:727:17-40\n   #3  ftSkyline.fut:717:1-727:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (cond_54502) {
                if (memblock_alloc_device(ctx, &mem_70587, binop_x_68663, "mem_70587")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_70590, &mem_70587, "mem_70587") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_70545, binop_x_68663, "mem_70545")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_73697 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_68027));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_68031(ctx, segmap_usable_groups_68028, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68018, 1, 1, (int64_t) 0, dim_38264, index_primexp_55698, start_of_grid_partition_mem_68615.mem, mem_70397.mem, mem_70545.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_73706 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_68047));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_68051(ctx, segmap_usable_groups_68048, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68038, 1, 1, (int64_t) 0, dim_38264, grid_part_sizze_per_dim_mem_68613.mem, mem_70545.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (cond_54502) {
                    if (memblock_alloc_device(ctx, &mem_70572, binop_x_68663, "mem_70572")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_70575, &mem_70572, "mem_70572") != 0)
                        return 1;
                } else {
                    if (cond_54502) {
                        if (memblock_alloc_device(ctx, &mem_70557, binop_x_68663, "mem_70557")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_70560, &mem_70557, "mem_70557") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_70546, (int64_t) 8, "mem_70546")) {
                            err = 1;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73715(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_70545.mem, mem_70546.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_70548, binop_x_68663, "mem_70548")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_73721 = dim_38264;
                        int64_t tblock_sizze_73726;
                        
                        tblock_sizze_73726 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73726;
                        
                        int64_t virt_num_tblocks_73727 = sdiv_up64(replicate_n_73721, tblock_sizze_73726);
                        int64_t num_tblocks_73728 = smin64(virt_num_tblocks_73727, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_73722(ctx, num_tblocks_73728, 1, 1, tblock_sizze_73726, 1, 1, (int64_t) 0, dim_38264, replicate_n_73721, virt_num_tblocks_73727, num_tblocks_73728, mem_70546.mem, mem_70548.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_70546, "mem_70546") != 0)
                            return 1;
                        for (int64_t i_55722 = 0; i_55722 < arg_54492; i_55722++) {
                            int64_t index_primexp_55724 = add64((int64_t) 1, i_55722);
                            bool x_55725 = sle64((int64_t) 0, index_primexp_55724);
                            bool y_55726 = slt64(index_primexp_55724, dim_38264);
                            bool bounds_check_55727 = x_55725 && y_55726;
                            bool index_certs_55728;
                            
                            if (!bounds_check_55727) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55724, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73742(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55724, mem_70545.mem, mem_70548.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                        }
                        if (memblock_set_device(ctx, &ext_mem_70560, &mem_70548, "mem_70548") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_70561, (int64_t) 8, "mem_70561")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73748(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_70560.mem, mem_70561.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_70563, binop_x_68663, "mem_70563")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_73754 = dim_38264;
                    int64_t tblock_sizze_73759;
                    
                    tblock_sizze_73759 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73759;
                    
                    int64_t virt_num_tblocks_73760 = sdiv_up64(replicate_n_73754, tblock_sizze_73759);
                    int64_t num_tblocks_73761 = smin64(virt_num_tblocks_73760, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_73755(ctx, num_tblocks_73761, 1, 1, tblock_sizze_73759, 1, 1, (int64_t) 0, dim_38264, replicate_n_73754, virt_num_tblocks_73760, num_tblocks_73761, mem_70561.mem, mem_70563.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_70561, "mem_70561") != 0)
                        return 1;
                    for (int64_t i_55738 = 0; i_55738 < arg_54492; i_55738++) {
                        int64_t index_primexp_55740 = add64((int64_t) 1, i_55738);
                        bool x_55741 = sle64((int64_t) 0, index_primexp_55740);
                        bool y_55742 = slt64(index_primexp_55740, dim_38264);
                        bool bounds_check_55743 = x_55741 && y_55742;
                        bool index_certs_55744;
                        
                        if (!bounds_check_55743) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55740, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73775(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55740, ext_mem_70560.mem, mem_70563.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                    }
                    if (memblock_unref_device(ctx, &ext_mem_70560, "ext_mem_70560") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_70575, &mem_70563, "mem_70563") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_70545, "mem_70545") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_70576, (int64_t) 8, "mem_70576")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73781(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_70489.mem, ext_mem_70575.mem, mem_70576.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_70578, binop_x_68663, "mem_70578")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_73787 = dim_38264;
                int64_t tblock_sizze_73792;
                
                tblock_sizze_73792 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73792;
                
                int64_t virt_num_tblocks_73793 = sdiv_up64(replicate_n_73787, tblock_sizze_73792);
                int64_t num_tblocks_73794 = smin64(virt_num_tblocks_73793, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_73788(ctx, num_tblocks_73794, 1, 1, tblock_sizze_73792, 1, 1, (int64_t) 0, dim_38264, replicate_n_73787, virt_num_tblocks_73793, num_tblocks_73794, mem_70576.mem, mem_70578.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_70576, "mem_70576") != 0)
                    return 1;
                for (int64_t i_55754 = 0; i_55754 < arg_54492; i_55754++) {
                    int64_t index_primexp_55756 = add64((int64_t) 1, i_55754);
                    bool x_55757 = sle64((int64_t) 0, index_primexp_55756);
                    bool y_55758 = slt64(index_primexp_55756, dim_38264);
                    bool bounds_check_55759 = x_55757 && y_55758;
                    bool index_certs_55760;
                    
                    if (!bounds_check_55759) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55756, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_certs_56008;
                    
                    if (!bounds_check_55759) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55756, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:727:17-40\n   #2  ftSkyline.fut:717:1-727:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73808(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55756, grid_partitions_per_dim_mem_68614.mem, ext_mem_70575.mem, mem_70578.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                }
                if (memblock_unref_device(ctx, &ext_mem_70575, "ext_mem_70575") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_70590, &mem_70578, "mem_70578") != 0)
                    return 1;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_73814 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_68067));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_68071(ctx, segmap_usable_groups_68068, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68058, 1, 1, (int64_t) 0, dim_38264, grid_part_prefix_sum_mem_68612.mem, ext_mem_70590.mem, mem_70593.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_70590, "ext_mem_70590") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_70596, &mem_70461, "mem_70461") != 0)
                return 1;
            for (int64_t i_55769 = 0; i_55769 < dim_38264; i_55769++) {
                if (memblock_alloc_device(ctx, &mem_70597, (int64_t) 8, "mem_70597")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73825(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55769, mem_70593.mem, mem_param_70596.mem, mem_70597.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_73823, &mem_70597, "mem_70597") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_70596, &mem_param_tmp_73823, "mem_param_tmp_73823") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_70600, &mem_param_70596, "mem_param_70596") != 0)
                return 1;
            if (futrts_builtinzhreplicate_f64(ctx, mem_70602, arg_54492, 0.0) != 0) {
                err = 1;
                goto cleanup;
            }
            if (cond_54504) {
                if (memblock_alloc_device(ctx, &mem_70612, bytes_68619, "mem_70612")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_70615, &mem_70612, "mem_70612") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_70604, bytes_68619, "mem_70604")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_70604, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, defunc_0_f_res_55691) != 0) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_55833 = 0; i_55833 < distance_54512; i_55833++) {
                    int64_t index_primexp_55835 = add64((int64_t) 1, i_55833);
                    bool x_55836 = sle64((int64_t) 0, index_primexp_55835);
                    bool y_55837 = slt64(index_primexp_55835, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266);
                    bool bounds_check_55838 = x_55836 && y_55837;
                    bool index_certs_55839;
                    
                    if (!bounds_check_55838) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55835, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:329:70-85\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:727:17-40\n   #6  ftSkyline.fut:717:1-727:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double defunc_0_f_res_55840;
                    
                    if (futrts_lifted_lambda_10000(ctx, &defunc_0_f_res_55840, angle_partitions_per_dim_mem_68611, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, dim_38264, index_primexp_55835) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    double write_tmp_74230 = defunc_0_f_res_55840;
                    
                    if ((err = gpu_scalar_to_device(ctx, mem_70604.mem, index_primexp_55835 * sizeof(double), sizeof(double), &write_tmp_74230)) != 0)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_70615, &mem_70604, "mem_70604") != 0)
                    return 1;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73832(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, dz2080U_38265, total_angle_no_38274, ext_mem_70600.mem, mem_70616.mem, mem_70617.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (cond_54502) {
                if (memblock_alloc_device(ctx, &mem_70631, binop_x_68663, "mem_70631")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_70634, &mem_70631, "mem_70631") != 0)
                    return 1;
            } else {
                bool index_certs_55776 = 0;
                
                if (memblock_alloc_device(ctx, &mem_70620, binop_x_68663, "mem_70620")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_73838 = sext_i64_i32(sdiv_up64(dim_38264, segmap_tblock_sizze_68087));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_68091(ctx, segmap_usable_groups_68088, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68078, 1, 1, (int64_t) 0, dim_38264, index_primexp_55698, start_of_grid_partition_mem_68615.mem, mem_70397.mem, ext_mem_70600.mem, mem_70620.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_70621, (int64_t) 8, "mem_70621")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73847(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_70620.mem, mem_70621.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_70623, binop_x_68663, "mem_70623")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_73853 = dim_38264;
                int64_t tblock_sizze_73858;
                
                tblock_sizze_73858 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_73858;
                
                int64_t virt_num_tblocks_73859 = sdiv_up64(replicate_n_73853, tblock_sizze_73858);
                int64_t num_tblocks_73860 = smin64(virt_num_tblocks_73859, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_73854(ctx, num_tblocks_73860, 1, 1, tblock_sizze_73858, 1, 1, (int64_t) 0, dim_38264, replicate_n_73853, virt_num_tblocks_73859, num_tblocks_73860, mem_70621.mem, mem_70623.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_70621, "mem_70621") != 0)
                    return 1;
                for (int64_t i_55787 = 0; i_55787 < arg_54492; i_55787++) {
                    int64_t index_primexp_55789 = add64((int64_t) 1, i_55787);
                    bool x_55790 = sle64((int64_t) 0, index_primexp_55789);
                    bool y_55791 = slt64(index_primexp_55789, dim_38264);
                    bool bounds_check_55792 = x_55790 && y_55791;
                    bool index_certs_55793;
                    
                    if (!bounds_check_55792) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_55789, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_70623.mem, index_primexp_55789, (int64_t []) {(int64_t) 1}, mem_70620.mem, index_primexp_55789, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 1})) != 0)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_70620, "mem_70620") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_70634, &mem_70623, "mem_70623") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_70600, "ext_mem_70600") != 0)
                return 1;
            for (int64_t i_55798 = 0; i_55798 < arg_54492; i_55798++) {
                bool y_55800 = slt64(i_55798, dim_38264);
                bool index_certs_55801;
                
                if (!y_55800) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_55798, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t map_arg1_55803 = add64((int64_t) 1, i_55798);
                int64_t j_m_i_55804 = sub64(dim_38264, map_arg1_55803);
                bool empty_slice_55805 = j_m_i_55804 == (int64_t) 0;
                int64_t m_55806 = sub64(j_m_i_55804, (int64_t) 1);
                int64_t i_p_m_t_s_55807 = add64(map_arg1_55803, m_55806);
                bool zzero_leq_i_p_m_t_s_55808 = sle64((int64_t) 0, i_p_m_t_s_55807);
                bool i_p_m_t_s_leq_w_55809 = slt64(i_p_m_t_s_55807, dim_38264);
                bool zzero_lte_i_55810 = sle64((int64_t) 0, map_arg1_55803);
                bool i_lte_j_55811 = sle64(map_arg1_55803, dim_38264);
                bool y_55812 = i_p_m_t_s_leq_w_55809 && zzero_lte_i_55810;
                bool y_55813 = zzero_leq_i_p_m_t_s_55808 && y_55812;
                bool forwards_ok_55814 = i_lte_j_55811 && y_55813;
                bool ok_or_empty_55815 = empty_slice_55805 || forwards_ok_55814;
                bool index_certs_55816;
                
                if (!ok_or_empty_55815) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_55803, ":", (long long) dim_38264, "] out of bounds for array of shape [", (long long) dim_38264, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:329:70-85\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:727:17-40\n   #5  ftSkyline.fut:717:1-727:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_70639 = (int64_t) 8 * j_m_i_55804;
                int64_t segmap_usable_groups_68107 = sdiv_up64(j_m_i_55804, segmap_tblock_sizze_68106);
                
                if (memblock_alloc_device(ctx, &mem_70640, bytes_70639, "mem_70640")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_73875 = sext_i64_i32(sdiv_up64(j_m_i_55804, segmap_tblock_sizze_68106));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_68110(ctx, segmap_usable_groups_68107, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68098, 1, 1, (int64_t) 0, map_arg1_55803, j_m_i_55804, ext_mem_70634.mem, mem_70640.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &mem_param_70643, &mem_70471, "mem_70471") != 0)
                    return 1;
                for (int64_t i_55822 = 0; i_55822 < j_m_i_55804; i_55822++) {
                    if (memblock_alloc_device(ctx, &mem_70644, (int64_t) 8, "mem_70644")) {
                        err = 1;
                        goto cleanup;
                    }
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73886(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55822, mem_70640.mem, mem_param_70643.mem, mem_70644.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_set_device(ctx, &mem_param_tmp_73884, &mem_70644, "mem_70644") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &mem_param_70643, &mem_param_tmp_73884, "mem_param_tmp_73884") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_70647, &mem_param_70643, "mem_param_70643") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_70640, "mem_70640") != 0)
                    return 1;
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73892(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55798, mem_70602.mem, ext_mem_70634.mem, ext_mem_70647.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &ext_mem_70647, "ext_mem_70647") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &ext_mem_70634, "ext_mem_70634") != 0)
                return 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_73898 = sext_i64_i32(sdiv_up64(arg_54492, segmap_tblock_sizze_68127));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_68131(ctx, segmap_usable_groups_68128, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68116, 1, 1, (int64_t) 0, arg_54492, angle_part_prefix_sum_mem_68610.mem, angle_partitions_per_dim_mem_68611.mem, mem_70602.mem, ext_mem_70615.mem, mem_70654.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &ext_mem_70615, "ext_mem_70615") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_70657, &mem_70461, "mem_70461") != 0)
                return 1;
            for (int64_t i_55850 = 0; i_55850 < arg_54492; i_55850++) {
                if (memblock_alloc_device(ctx, &mem_70658, (int64_t) 8, "mem_70658")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73909(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, i_55850, mem_70654.mem, mem_param_70657.mem, mem_70658.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_set_device(ctx, &mem_param_tmp_73907, &mem_70658, "mem_70658") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_70657, &mem_param_tmp_73907, "mem_param_tmp_73907") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_70661, &mem_param_70657, "mem_param_70657") != 0)
                return 1;
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_73915(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, index_primexp_55698, mem_70536.mem, mem_70617.mem, ext_mem_70661.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &ext_mem_70661, "ext_mem_70661") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_70461, "mem_70461") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70471, "mem_70471") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70489, "mem_70489") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70593, "mem_70593") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70602, "mem_70602") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70616, "mem_70616") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70617, "mem_70617") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70654, "mem_70654") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_70670, &mem_70536, "mem_70536") != 0)
            return 1;
    }
    
    int64_t num_tblocks_68141;
    int64_t max_num_tblocks_73921;
    
    max_num_tblocks_73921 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_68140;
    num_tblocks_68141 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_55474, seghist_tblock_sizze_68139), max_num_tblocks_73921)));
    
    int64_t num_subhistos_73922;
    int64_t h_73925 = (int64_t) 8 * total_part_no_38276;
    int64_t seg_h_73926 = (int64_t) 8 * total_part_no_38276;
    
    if (!(seg_h_73926 == (int64_t) 0)) {
        int64_t hist_H_73927 = total_part_no_38276;
        int64_t hist_el_sizze_73928 = sdiv_up64(h_73925, hist_H_73927);
        int64_t hist_N_73929 = m_55474;
        int32_t hist_RF_73930 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_68141 * seghist_tblock_sizze_68139), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_68139, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_73927, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_73929, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_73928, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_73930, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_73925, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_73926, '\n');
        
        int64_t hist_L_73931;
        
        hist_L_73931 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L_73931;
        
        int64_t max_tblock_sizze_73932;
        
        max_tblock_sizze_73932 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_73933 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_68141 * seghist_tblock_sizze_68139)), max_tblock_sizze_73932);
        double hist_m_prime_73934 = sitofp_i64_f64(smin64(squot64(hist_L_73931, hist_el_sizze_73928), sdiv_up64(hist_N_73929, num_tblocks_73933))) / sitofp_i64_f64(hist_H_73927);
        int64_t hist_M0_73935 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_73934), max_tblock_sizze_73932));
        int64_t hist_Nout_73936 = (int64_t) 1;
        int64_t hist_Nin_73937 = m_55474;
        int64_t work_asymp_M_max_73938 = squot64(hist_Nout_73936 * hist_N_73929, (int64_t) 2 * num_tblocks_73933 * hist_H_73927);
        int32_t hist_M_73939 = sext_i64_i32(smin64(hist_M0_73935, work_asymp_M_max_73938));
        int64_t hist_C_73940 = sdiv_up64(max_tblock_sizze_73932, sext_i32_i64(smax32(1, hist_M_73939)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_73935, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_73938, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_73940, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_73932, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_73939, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_73927 * hist_el_sizze_73928 * sext_i32_i64(hist_M_73939)), '\n');
        
        int64_t local_mem_needed_73941 = hist_el_sizze_73928 * sext_i32_i64(hist_M_73939);
        int32_t hist_S_73942 = sext_i64_i32(sdiv_up64(hist_H_73927 * local_mem_needed_73941 + (int64_t) 1, hist_L_73931));
        
        if (sle64(hist_H_73927, hist_Nin_73937) && (sle64(local_mem_needed_73941, hist_L_73931) && (sle32(hist_S_73942, 3) && (sle64(hist_C_73940, max_tblock_sizze_73932) && slt32(0, hist_M_73939))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_73927, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_73939, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_73940, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_73942, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_73939, '\n');
            num_subhistos_73922 = num_tblocks_73933;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_73922, '\n');
            if (num_subhistos_73922 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_73923, &mem_68648, "mem_68648") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_73923, num_subhistos_73922 * total_part_no_38276 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_73923")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_73923, num_subhistos_73922 * total_part_no_38276, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_73923.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_68648.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_38276})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_73943 = 0; chk_i_73943 < hist_S_73942; chk_i_73943++) {
                int64_t num_segments_73944 = (int64_t) 1;
                int64_t hist_H_chk_73945 = sdiv_up64(total_part_no_38276, sext_i32_i64(hist_S_73942));
                int64_t histo_sizze_73946 = hist_H_chk_73945;
                int32_t init_per_thread_73947 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_73939) * histo_sizze_73946, max_tblock_sizze_73932));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_local_68146(ctx, num_tblocks_73933, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_73939 * hist_H_chk_73945) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_73939 * hist_H_chk_73945), (int64_t) 8), (int64_t) 8), total_part_no_38276, m_55474, num_subhistos_73922, num_tblocks_73933, hist_M_73939, chk_i_73943, num_segments_73944, hist_H_chk_73945, histo_sizze_73946, init_per_thread_73947, ext_mem_70670.mem, defunc_0_map_res_subhistos_mem_73923.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_73979 = total_part_no_38276;
            double hist_RF_73980 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_73981 = 8;
            double hist_C_max_73982 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_68141 * seghist_tblock_sizze_68139)), sitofp_i32_f64(hist_H_73979) / 2.0);
            int32_t hist_M_min_73983 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_68141 * seghist_tblock_sizze_68139)) / hist_C_max_73982)));
            int64_t hist_L2_73984;
            
            hist_L2_73984 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L2_73984;
            
            double hist_RACE_exp_73985 = fmax64(1.0, 0.75 * hist_RF_73980 / (64.0 / sitofp_i32_f64(hist_el_sizze_73981)));
            int32_t hist_S_73986;
            
            if (slt64(m_55474, hist_H_73979)) {
                hist_S_73986 = 1;
            } else {
                hist_S_73986 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_73983) * hist_H_73979 * sext_i32_i64(hist_el_sizze_73981), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_73984) * hist_RACE_exp_73985)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_73985, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_73986, '\n');
            
            int64_t hist_H_chk_73987 = sdiv_up64(total_part_no_38276, sext_i32_i64(hist_S_73986));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_73987, '\n');
            
            double hist_k_max_73988 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_73984) / sitofp_i32_f64(8)) * hist_RACE_exp_73985, sitofp_i32_f64(m_55474)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_68141 * seghist_tblock_sizze_68139));
            int64_t hist_u_73989 = (int64_t) 2;
            double hist_C_73990 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_68141 * seghist_tblock_sizze_68139)), sitofp_i32_f64(hist_u_73989 * hist_H_chk_73987) / hist_k_max_73988);
            int32_t hist_M_73991 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_73988, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_73991, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_73990, '\n');
            num_subhistos_73922 = sext_i32_i64(hist_M_73991);
            if (hist_M_73991 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_73923, &mem_68648, "mem_68648") != 0)
                    return 1;
            } else if (num_subhistos_73922 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_73923, &mem_68648, "mem_68648") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_73923, num_subhistos_73922 * total_part_no_38276 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_73923")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_73923, num_subhistos_73922 * total_part_no_38276, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_73923.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_68648.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_38276})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_73992 = 0; chk_i_73992 < hist_S_73986; chk_i_73992++) {
                int64_t hist_H_chk_73993 = sdiv_up64(total_part_no_38276, sext_i32_i64(hist_S_73986));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_global_68146(ctx, num_tblocks_68141, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138, 1, 1, (int64_t) 0, total_part_no_38276, m_55474, num_tblocks_68141, num_subhistos_73922, chk_i_73992, hist_H_chk_73993, ext_mem_70670.mem, defunc_0_map_res_subhistos_mem_73923.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
        if (num_subhistos_73922 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_68648, &defunc_0_map_res_subhistos_mem_73923, "defunc_0_map_res_subhistos_mem_73923") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_74009 = (int64_t) 1;
            
            if (slt64(num_subhistos_73922 * (int64_t) 2, seghist_tblock_sizze_68139 * chunk_sizze_74009)) {
                int64_t segment_sizze_nonzzero_74010 = smax64((int64_t) 1, num_subhistos_73922);
                int64_t num_threads_74011 = seghist_tblock_sizze_68139 * seghist_tblock_sizze_68139;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_38276, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_73922, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_38276, squot64(seghist_tblock_sizze_68139, segment_sizze_nonzzero_74010))), '\n');
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_small_74008(ctx, num_tblocks_68141, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138, 1, 1, (int64_t) 8 * seghist_tblock_sizze_68139 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_68139, (int64_t) 8), (int64_t) 8), total_part_no_38276, num_tblocks_68141, num_subhistos_73922, segment_sizze_nonzzero_74010, mem_68648.mem, defunc_0_map_res_subhistos_mem_73923.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_74039 = sdiv_up64(num_tblocks_68141, smax64((int64_t) 1, total_part_no_38276));
                int64_t q_74040 = sdiv_up64(num_subhistos_73922, seghist_tblock_sizze_68139 * blocks_per_segment_74039 * chunk_sizze_74009);
                int64_t num_virtblocks_74041 = blocks_per_segment_74039 * total_part_no_38276;
                int64_t threads_per_segment_74042 = blocks_per_segment_74039 * seghist_tblock_sizze_68139;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_38276, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_73922, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_74041, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_68141, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_68139, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_74040, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_74039, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_74043, (int64_t) 8 * num_virtblocks_74041, "segred_tmp_mem_74043")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_large_74008(ctx, num_tblocks_68141, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_68138, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_68139 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_68139, (int64_t) 8), (int64_t) 8)), total_part_no_38276, num_tblocks_68141, num_subhistos_73922, blocks_per_segment_74039, q_74040, num_virtblocks_74041, threads_per_segment_74042, mem_68648.mem, defunc_0_map_res_subhistos_mem_73923.mem, segred_tmp_mem_74043.mem, counters_mem_74045.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_70670, "ext_mem_70670") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_70674, bytes_68647, "mem_70674")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_38276)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_74082;
        
        shared_memory_74082 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_74083;
        
        thread_block_sizze_74083 = ctx->max_thread_block_size;
        
        int64_t registers_74084;
        
        registers_74084 = ctx->max_registers;
        
        int64_t thread_block_sizze_74085;
        
        thread_block_sizze_74085 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_74086 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_74082, thread_block_sizze_74083), (int64_t) 8), squot64(squot64(registers_74084, thread_block_sizze_74085) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_74087 = sdiv_up64(total_part_no_38276, segscan_tblock_sizze_68154 * chunk_sizze_74086);
        int64_t num_virt_threads_74088 = num_virt_blocks_74087 * segscan_tblock_sizze_68154;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_74086, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_74089, num_virt_blocks_74087, "status_flags_mem_74089")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_74089, num_virt_blocks_74087, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_74091, (int64_t) 8 * num_virt_blocks_74087, "aggregates_mem_74091")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_74093, (int64_t) 8 * num_virt_blocks_74087, "incprefixes_mem_74093")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegscan_68159(ctx, num_tblocks_68156, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_68153, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_68154), chunk_sizze_74086 * segscan_tblock_sizze_68154 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_68154), chunk_sizze_74086 * segscan_tblock_sizze_68154 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_38276, num_tblocks_68156, num_virt_blocks_74087, num_virt_threads_74088, mem_68648.mem, mem_70674.mem, status_flags_mem_74089.mem, aggregates_mem_74091.mem, incprefixes_mem_74093.mem, global_dynid_mem_74095.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_68648, "mem_68648") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_70677, bytes_68647, "mem_70677")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_74184 = sext_i64_i32(sdiv_up64(total_part_no_38276, segmap_tblock_sizze_68175));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_68179(ctx, segmap_usable_groups_68176, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_68163, 1, 1, (int64_t) 0, total_part_no_38276, mem_70674.mem, mem_70677.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_70674, "mem_70674") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71649, &mem_68643, "mem_68643") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71650, &mem_70677, "mem_70677") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71651, &mem_70397, "mem_70397") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_71652, &mem_70399, "mem_70399") != 0)
        return 1;
    prim_out_71653 = total_grid_no_38275;
    prim_out_71654 = total_part_no_38276;
    prim_out_71655 = m_55474;
    if (memblock_set_device(ctx, &*mem_out_p_74216, &mem_out_71649, "mem_out_71649") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74217, &mem_out_71650, "mem_out_71650") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74218, &mem_out_71651, "mem_out_71651") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_74219, &mem_out_71652, "mem_out_71652") != 0)
        return 1;
    *out_prim_out_74220 = prim_out_71653;
    *out_prim_out_74221 = prim_out_71654;
    *out_prim_out_74222 = prim_out_71655;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_70677, "mem_70677") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_74093, "incprefixes_mem_74093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_74091, "aggregates_mem_74091") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_74089, "status_flags_mem_74089") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70674, "mem_70674") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_74043, "segred_tmp_mem_74043") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_73923, "defunc_0_map_res_subhistos_mem_73923") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_73907, "mem_param_tmp_73907") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70658, "mem_70658") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_70657, "mem_param_70657") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70661, "ext_mem_70661") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_73884, "mem_param_tmp_73884") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70644, "mem_70644") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_70643, "mem_param_70643") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70647, "ext_mem_70647") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70640, "mem_70640") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70623, "mem_70623") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70621, "mem_70621") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70620, "mem_70620") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70631, "mem_70631") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70634, "ext_mem_70634") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70604, "mem_70604") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70612, "mem_70612") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70615, "ext_mem_70615") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_73823, "mem_param_tmp_73823") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70597, "mem_70597") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_70596, "mem_param_70596") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70600, "ext_mem_70600") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70578, "mem_70578") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70576, "mem_70576") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70563, "mem_70563") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70561, "mem_70561") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70548, "mem_70548") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70546, "mem_70546") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70557, "mem_70557") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70560, "ext_mem_70560") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70572, "mem_70572") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70575, "ext_mem_70575") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70545, "mem_70545") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70587, "mem_70587") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70590, "ext_mem_70590") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70654, "mem_70654") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70617, "mem_70617") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70616, "mem_70616") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70602, "mem_70602") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70593, "mem_70593") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70536, "mem_70536") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70534, "mem_70534") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_73662, "mem_param_tmp_73662") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70530, "mem_70530") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_70529, "mem_param_70529") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70533, "ext_mem_70533") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_73639, "mem_param_tmp_73639") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70516, "mem_70516") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_70515, "mem_param_70515") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70519, "ext_mem_70519") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70512, "mem_70512") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70495, "mem_70495") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70493, "mem_70493") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70492, "mem_70492") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70503, "mem_70503") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70506, "ext_mem_70506") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70489, "mem_70489") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70488, "mem_70488") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70487, "mem_70487") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70485, "mem_70485") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70486, "ext_mem_70486") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70473, "mem_70473") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70481, "mem_70481") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70484, "ext_mem_70484") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70471, "mem_70471") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70526, "mem_70526") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_73572, "mem_param_tmp_73572") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70465, "mem_70465") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_70464, "mem_param_70464") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70468, "ext_mem_70468") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70461, "mem_70461") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70460, "mem_70460") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70445, "mem_70445") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70443, "mem_70443") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70430, "mem_70430") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70428, "mem_70428") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70415, "mem_70415") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70413, "mem_70413") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70424, "mem_70424") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70427, "ext_mem_70427") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70439, "mem_70439") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70442, "ext_mem_70442") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70412, "mem_70412") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70454, "mem_70454") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70457, "ext_mem_70457") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70667, "mem_70667") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70670, "ext_mem_70670") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70404, "mem_70404") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70402, "mem_70402") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70399, "mem_70399") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70397, "mem_70397") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68648, "mem_68648") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_73315, "incprefixes_mem_73315") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_73313, "aggregates_mem_73313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_73311, "status_flags_mem_73311") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70324, "mem_70324") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70321, "mem_70321") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70270, "mem_70270") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70267, "mem_70267") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70256, "mem_70256") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70201, "mem_70201") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70183, "mem_70183") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70172, "mem_70172") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70161, "mem_70161") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70158, "mem_70158") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70117, "mem_70117") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70099, "mem_70099") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70088, "mem_70088") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70077, "mem_70077") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70074, "mem_70074") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70065, "mem_70065") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70047, "mem_70047") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70036, "mem_70036") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70025, "mem_70025") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70022, "mem_70022") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70068, "mem_70068") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70071, "ext_mem_70071") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70019, "mem_70019") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70146, "mem_70146") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70149, "ext_mem_70149") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70152, "mem_70152") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70155, "ext_mem_70155") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70243, "mem_70243") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70246, "ext_mem_70246") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70249, "mem_70249") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70252, "ext_mem_70252") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_70318, "mem_70318") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70319, "ext_mem_70319") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70393, "ext_mem_70393") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_70394, "ext_mem_70394") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_72899, "segred_tmp_mem_72899") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71440, "color_71440") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69996, "mem_69996") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_72856, "segred_tmp_mem_72856") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_72716, "defunc_0_map_res_subhistos_mem_72716") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71439, "color_71439") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71438, "color_71438") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71437, "color_71437") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71436, "color_71436") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71435, "color_71435") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71434, "color_71434") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71433, "color_71433") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69921, "mem_69921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72219, "mem_param_tmp_72219") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72218, "mem_param_tmp_72218") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72217, "mem_param_tmp_72217") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69892, "mem_69892") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69888, "mem_69888") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69883, "mem_69883") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69492, "mem_69492") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69488, "mem_69488") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69485, "mem_69485") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69481, "mem_69481") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69476, "mem_69476") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69470, "mem_69470") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69466, "mem_69466") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69449, "mem_69449") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69425, "mem_69425") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69375, "mem_69375") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69351, "mem_69351") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69334, "mem_69334") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69317, "mem_69317") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69312, "mem_69312") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69308, "mem_69308") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69304, "mem_69304") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69303, "mem_69303") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69300, "mem_69300") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69299, "mem_69299") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69296, "mem_69296") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69293, "mem_69293") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69290, "mem_69290") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69273, "mem_69273") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69270, "mem_69270") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69265, "mem_69265") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69254, "mem_69254") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69251, "mem_69251") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69575, "mem_69575") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69572, "mem_69572") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69568, "mem_69568") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69578, "ext_mem_69578") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69580, "ext_mem_69580") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69581, "ext_mem_69581") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69728, "mem_69728") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69717, "mem_69717") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69700, "mem_69700") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69666, "mem_69666") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69655, "mem_69655") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69638, "mem_69638") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69627, "mem_69627") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69616, "mem_69616") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69612, "mem_69612") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69609, "mem_69609") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69590, "mem_69590") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69593, "mem_69593") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69586, "mem_69586") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69603, "mem_69603") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69600, "mem_69600") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69596, "mem_69596") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69604, "ext_mem_69604") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69605, "ext_mem_69605") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69606, "ext_mem_69606") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69732, "ext_mem_69732") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69736, "ext_mem_69736") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69739, "ext_mem_69739") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69247, "mem_69247") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69246, "mem_69246") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69869, "mem_69869") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69866, "mem_69866") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69862, "mem_69862") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69873, "ext_mem_69873") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69877, "ext_mem_69877") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69880, "ext_mem_69880") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69244, "mem_param_69244") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69241, "mem_param_69241") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_69237, "mem_param_69237") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69901, "ext_mem_69901") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69902, "ext_mem_69902") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69903, "ext_mem_69903") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69233, "mem_69233") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69229, "mem_69229") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69224, "mem_69224") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71393, "color_71393") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_71392, "color_71392") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69209, "mem_69209") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69198, "mem_69198") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69181, "mem_69181") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69124, "mem_69124") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69113, "mem_69113") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69096, "mem_69096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69214, "ext_mem_69214") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69218, "ext_mem_69218") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69221, "ext_mem_69221") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69085, "mem_69085") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69082, "mem_69082") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69065, "mem_69065") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69058, "mem_69058") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69057, "mem_69057") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_72127, "segred_tmp_mem_72127") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_72125, "segred_tmp_mem_72125") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_72123, "segred_tmp_mem_72123") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69056, "mem_69056") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69055, "mem_69055") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69053, "mem_69053") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69048, "mem_69048") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69043, "mem_69043") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69906, "ext_mem_69906") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69910, "ext_mem_69910") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69032, "mem_69032") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69029, "mem_69029") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69018, "mem_69018") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_72070, "mem_param_tmp_72070") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_69010, "mem_69010") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68998, "mem_68998") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68976, "mem_68976") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_68972, "mem_param_68972") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_69014, "ext_mem_69014") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68987, "mem_68987") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68962, "mem_68962") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68944, "mem_68944") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68933, "mem_68933") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68922, "mem_68922") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68919, "mem_68919") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68965, "mem_68965") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68968, "ext_mem_68968") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68911, "mem_68911") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68909, "mem_68909") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68907, "mem_68907") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68896, "mem_68896") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68841, "mem_68841") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68823, "mem_68823") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68812, "mem_68812") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68801, "mem_68801") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68798, "mem_68798") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68757, "mem_68757") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68739, "mem_68739") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68728, "mem_68728") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68717, "mem_68717") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68714, "mem_68714") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68705, "mem_68705") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68687, "mem_68687") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68676, "mem_68676") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68665, "mem_68665") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68662, "mem_68662") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68708, "mem_68708") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68711, "ext_mem_68711") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68659, "mem_68659") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68786, "mem_68786") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68789, "ext_mem_68789") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68792, "mem_68792") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68795, "ext_mem_68795") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68883, "mem_68883") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68886, "ext_mem_68886") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68889, "mem_68889") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68892, "ext_mem_68892") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68651, "mem_68651") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68650, "mem_68650") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68649, "mem_68649") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68644, "mem_68644") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68645, "mem_68645") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68646, "ext_mem_68646") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68643, "mem_68643") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68642, "mem_68642") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68638, "mem_68638") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68639, "mem_68639") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68640, "ext_mem_68640") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68637, "mem_68637") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68632, "mem_68632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68633, "mem_68633") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68634, "ext_mem_68634") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68620, "mem_68620") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68628, "mem_68628") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_68631, "ext_mem_68631") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_68618, "mem_68618") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71652, "mem_out_71652") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71651, "mem_out_71651") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71650, "mem_out_71650") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_71649, "mem_out_71649") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10000(struct futhark_context *ctx, double *out_prim_out_74231, struct memblock_device angle_partitions_per_dim_mem_68610, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26461, int64_t dim_26462, int64_t i_26464)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    double prim_out_71649;
    bool x_26467 = sle64((int64_t) 0, i_26464);
    bool y_26468 = slt64(i_26464, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26461);
    bool bounds_check_26469 = x_26467 && y_26468;
    bool index_certs_26470;
    
    if (!bounds_check_26469) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_26464, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26461, "].", "-> #0  ftSkyline.fut:171:58-89\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t read_res_74232;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_74232, angle_partitions_per_dim_mem_68610.mem, i_26464 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t i64_arg0_26471 = read_res_74232;
    double i64_res_45295 = sitofp_i64_f64(i64_arg0_26471);
    double lifted_lambda_res_26475 = 1.5707963267948966 / i64_res_45295;
    
    prim_out_71649 = lifted_lambda_res_26475;
    *out_prim_out_74231 = prim_out_71649;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10001(struct futhark_context *ctx, int64_t *out_prim_out_74233, double a_26476, double ba_26477, int64_t pf_26478, int64_t pd_26479)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t prim_out_71649;
    double zt_lhs_26480 = a_26476 / ba_26477;
    double i64_res_45295 = sitofp_i64_f64(pf_26478);
    double f64_arg0_26484 = zt_lhs_26480 * i64_res_45295;
    int64_t f64_res_45297 = fptosi_f64_i64(f64_arg0_26484);
    bool cond_26488 = slt64(f64_res_45297, (int64_t) 0);
    int64_t lifted_lambda_res_26489;
    
    if (cond_26488) {
        lifted_lambda_res_26489 = (int64_t) 0;
    } else {
        bool cond_26490 = sle64(pd_26479, f64_res_45297);
        int64_t lifted_lambda_res_f_res_26491;
        
        if (cond_26490) {
            int64_t lifted_lambda_res_f_res_t_res_56049 = sub64(pd_26479, (int64_t) 1);
            
            lifted_lambda_res_f_res_26491 = lifted_lambda_res_f_res_t_res_56049;
        } else {
            lifted_lambda_res_f_res_26491 = f64_res_45297;
        }
        lifted_lambda_res_26489 = lifted_lambda_res_f_res_26491;
    }
    prim_out_71649 = lifted_lambda_res_26489;
    *out_prim_out_74233 = prim_out_71649;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9970(struct futhark_context *ctx, int64_t *out_prim_out_74234, int64_t *out_prim_out_74235, int64_t *out_prim_out_74236, int64_t *out_prim_out_74237, int64_t *out_prim_out_74238, int64_t slo_27047, int64_t shi_27048, int64_t tlo_27049, int64_t thi_27050, int64_t count_27051)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
    struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
    struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
    struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
    struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
    struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
    struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
    struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
    struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
    struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
    struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
    struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
    struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
    struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
    struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
    int64_t prim_out_71649;
    int64_t prim_out_71650;
    int64_t prim_out_71651;
    int64_t prim_out_71652;
    int64_t prim_out_71653;
    int64_t min_arg1_27054 = add64(slo_27047, count_27051);
    int64_t min_res_45296 = smin64(shi_27048, min_arg1_27054);
    int64_t min_arg1_27058 = add64(tlo_27049, count_27051);
    int64_t min_res_45299 = smin64(thi_27050, min_arg1_27058);
    int64_t zp_lhs_27062 = sub64(min_res_45296, slo_27047);
    int64_t zp_rhs_27064 = sub64(min_res_45299, tlo_27049);
    int64_t zm_lhs_27066 = add64(zp_lhs_27062, zp_rhs_27064);
    int64_t slack_27068 = sub64(zm_lhs_27066, count_27051);
    int64_t min_res_45302 = smin64(zp_lhs_27062, slack_27068);
    int64_t min_res_45305 = smin64(zp_rhs_27064, min_res_45302);
    int64_t max_arg1_27078 = sub64(min_res_45296, min_res_45305);
    int64_t max_res_45308 = smax64(slo_27047, max_arg1_27078);
    int64_t max_arg1_27082 = sub64(min_res_45299, min_res_45305);
    int64_t max_res_45311 = smax64(tlo_27049, max_arg1_27082);
    int64_t zm_rhs_27086 = sub64(max_res_45308, slo_27047);
    int64_t zm_lhs_27088 = sub64(count_27051, zm_rhs_27086);
    int64_t zm_rhs_27090 = sub64(max_res_45311, tlo_27049);
    int64_t count_27092 = sub64(zm_lhs_27088, zm_rhs_27090);
    
    prim_out_71649 = max_res_45308;
    prim_out_71650 = min_res_45296;
    prim_out_71651 = max_res_45311;
    prim_out_71652 = min_res_45299;
    prim_out_71653 = count_27092;
    *out_prim_out_74234 = prim_out_71649;
    *out_prim_out_74235 = prim_out_71650;
    *out_prim_out_74236 = prim_out_71651;
    *out_prim_out_74237 = prim_out_71652;
    *out_prim_out_74238 = prim_out_71653;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1)
{
    int64_t dim_45075 = (int64_t) 0;
    int64_t dz2080U_45076 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077 = (int64_t) 0;
    int64_t dz2081U_45078 = (int64_t) 0;
    int64_t dz2082U_45079 = (int64_t) 0;
    int64_t dz2083U_45080 = (int64_t) 0;
    int64_t total_angle_no_45087 = (int64_t) 0;
    int64_t total_grid_no_45088 = (int64_t) 0;
    int64_t total_part_no_45089 = (int64_t) 0;
    int64_t prim_out_71653 = (int64_t) 0;
    int64_t prim_out_71654 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_71652;
    
    mem_out_71652.references = NULL;
    
    struct memblock_device mem_out_71651;
    
    mem_out_71651.references = NULL;
    
    struct memblock_device mem_out_71650;
    
    mem_out_71650.references = NULL;
    
    struct memblock_device mem_out_71649;
    
    mem_out_71649.references = NULL;
    
    struct memblock_device xys_mem_68619;
    
    xys_mem_68619.references = NULL;
    
    struct memblock_device xys_mem_68618;
    
    xys_mem_68618.references = NULL;
    
    struct memblock_device part_idx_mem_68617;
    
    part_idx_mem_68617.references = NULL;
    
    struct memblock_device isPartitionDominated_mem_68616;
    
    isPartitionDominated_mem_68616.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_68615;
    
    start_of_grid_partition_mem_68615.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_68614;
    
    grid_partitions_per_dim_mem_68614.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_68613;
    
    grid_part_sizze_per_dim_mem_68613.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_68612;
    
    grid_part_prefix_sum_mem_68612.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_68611;
    
    angle_partitions_per_dim_mem_68611.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_68610;
    
    angle_part_prefix_sum_mem_68610.references = NULL;
    angle_part_prefix_sum_mem_68610 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_68611 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_68612 = in0->v2->mem;
    dim_45075 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_68613 = in0->v3->mem;
    dim_45075 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_68614 = in0->v4->mem;
    dim_45075 = in0->v4->shape[0];
    start_of_grid_partition_mem_68615 = in0->v5->mem;
    dz2080U_45076 = in0->v5->shape[0];
    dim_45075 = in0->v5->shape[1];
    total_angle_no_45087 = in0->v6;
    total_grid_no_45088 = in0->v7;
    total_part_no_45089 = in0->v8;
    isPartitionDominated_mem_68616 = in1->v0->mem;
    dz2081U_45078 = in1->v0->shape[0];
    part_idx_mem_68617 = in1->v1->mem;
    dz2082U_45079 = in1->v1->shape[0];
    xys_mem_68618 = in1->v2->mem;
    dz2083U_45080 = in1->v2->shape[0];
    dim_45075 = in1->v2->shape[1];
    xys_mem_68619 = in1->v3->mem;
    dz2083U_45080 = in1->v3->shape[0];
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077 == in0->v1->shape[0] && (dim_45075 == in0->v2->shape[0] && (dim_45075 == in0->v3->shape[0] && (dim_45075 == in0->v4->shape[0] && (dz2080U_45076 == in0->v5->shape[0] && dim_45075 == in0->v5->shape[1])))))) && (dz2081U_45078 == in1->v0->shape[0] && (dz2082U_45079 == in1->v1->shape[0] && (dz2083U_45080 == in1->v2->shape[0] && (dim_45075 == in1->v2->shape[1] && dz2083U_45080 == in1->v3->shape[0])))))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_calc_local_Skyline_GFUR_double(ctx, &mem_out_71649, &mem_out_71650, &mem_out_71651, &mem_out_71652, &prim_out_71653, &prim_out_71654, angle_part_prefix_sum_mem_68610, angle_partitions_per_dim_mem_68611, grid_part_prefix_sum_mem_68612, grid_part_sizze_per_dim_mem_68613, grid_partitions_per_dim_mem_68614, start_of_grid_partition_mem_68615, isPartitionDominated_mem_68616, part_idx_mem_68617, xys_mem_68618, xys_mem_68619, dim_45075, dz2080U_45076, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45077, dz2081U_45078, dz2082U_45079, dz2083U_45080, total_angle_no_45087, total_grid_no_45088, total_part_no_45089);
        if (ret == 0) {
            struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
            struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
            struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
            struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
            struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
            struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
            struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
            struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
            struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
            struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
            struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
            struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
            struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
            struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
            struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_71649;
            (*out0)->v0->shape[0] = dz2081U_45078;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_71650;
            (*out0)->v1->shape[0] = prim_out_71653;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_71651;
            (*out0)->v2->shape[0] = prim_out_71654;
            (*out0)->v2->shape[1] = dim_45075;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_71652;
            (*out0)->v3->shape[0] = prim_out_71654;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_define_skyline_space_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t dim_26352 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353 = (int64_t) 0;
    int64_t prim_out_71655 = (int64_t) 0;
    int64_t prim_out_71656 = (int64_t) 0;
    int64_t prim_out_71657 = (int64_t) 0;
    int64_t prim_out_71658 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_71654;
    
    mem_out_71654.references = NULL;
    
    struct memblock_device mem_out_71653;
    
    mem_out_71653.references = NULL;
    
    struct memblock_device mem_out_71652;
    
    mem_out_71652.references = NULL;
    
    struct memblock_device mem_out_71651;
    
    mem_out_71651.references = NULL;
    
    struct memblock_device mem_out_71650;
    
    mem_out_71650.references = NULL;
    
    struct memblock_device mem_out_71649;
    
    mem_out_71649.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_68613;
    
    angle_partitions_per_dim_mem_68613.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_68612;
    
    grid_partitions_per_dim_mem_68612.references = NULL;
    
    struct memblock_device max_per_dim_mem_68611;
    
    max_per_dim_mem_68611.references = NULL;
    
    struct memblock_device min_per_dim_mem_68610;
    
    min_per_dim_mem_68610.references = NULL;
    min_per_dim_mem_68610 = in0->mem;
    dim_26352 = in0->shape[0];
    max_per_dim_mem_68611 = in1->mem;
    dim_26352 = in1->shape[0];
    grid_partitions_per_dim_mem_68612 = in2->mem;
    dim_26352 = in2->shape[0];
    angle_partitions_per_dim_mem_68613 = in3->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353 = in3->shape[0];
    if (!(dim_26352 == in0->shape[0] && (dim_26352 == in1->shape[0] && (dim_26352 == in2->shape[0] && dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353 == in3->shape[0])))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_define_skyline_space_double(ctx, &mem_out_71649, &mem_out_71650, &mem_out_71651, &mem_out_71652, &mem_out_71653, &mem_out_71654, &prim_out_71655, &prim_out_71656, &prim_out_71657, &prim_out_71658, min_per_dim_mem_68610, max_per_dim_mem_68611, grid_partitions_per_dim_mem_68612, angle_partitions_per_dim_mem_68613, dim_26352, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353);
        if (ret == 0) {
            struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
            struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
            struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
            struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
            struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
            struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
            struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
            struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
            struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
            struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
            struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
            struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
            struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
            struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
            struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
            
            assert((*out0 = (struct futhark_opaque_skylineBase_double *) malloc(sizeof(struct futhark_opaque_skylineBase_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_71649;
            (*out0)->v0->shape[0] = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_71650;
            (*out0)->v1->shape[0] = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_26353;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_71651;
            (*out0)->v2->shape[0] = dim_26352;
            assert(((*out0)->v3 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_71652;
            (*out0)->v3->shape[0] = dim_26352;
            assert(((*out0)->v4 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v4->mem = mem_out_71653;
            (*out0)->v4->shape[0] = dim_26352;
            assert(((*out0)->v5 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v5->mem = mem_out_71654;
            (*out0)->v5->shape[0] = prim_out_71655;
            (*out0)->v5->shape[1] = dim_26352;
            (*out0)->v6 = prim_out_71656;
            (*out0)->v7 = prim_out_71657;
            (*out0)->v8 = prim_out_71658;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_f64_2d *in1, const bool in2)
{
    int64_t dim_38264 = (int64_t) 0;
    int64_t dz2080U_38265 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266 = (int64_t) 0;
    int64_t n_38267 = (int64_t) 0;
    int64_t total_angle_no_38274 = (int64_t) 0;
    int64_t total_grid_no_38275 = (int64_t) 0;
    int64_t total_part_no_38276 = (int64_t) 0;
    bool use_measure_for_sorting_38278 = 0;
    int64_t prim_out_71653 = (int64_t) 0;
    int64_t prim_out_71654 = (int64_t) 0;
    int64_t prim_out_71655 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_71652;
    
    mem_out_71652.references = NULL;
    
    struct memblock_device mem_out_71651;
    
    mem_out_71651.references = NULL;
    
    struct memblock_device mem_out_71650;
    
    mem_out_71650.references = NULL;
    
    struct memblock_device mem_out_71649;
    
    mem_out_71649.references = NULL;
    
    struct memblock_device xs_mem_68616;
    
    xs_mem_68616.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_68615;
    
    start_of_grid_partition_mem_68615.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_68614;
    
    grid_partitions_per_dim_mem_68614.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_68613;
    
    grid_part_sizze_per_dim_mem_68613.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_68612;
    
    grid_part_prefix_sum_mem_68612.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_68611;
    
    angle_partitions_per_dim_mem_68611.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_68610;
    
    angle_part_prefix_sum_mem_68610.references = NULL;
    angle_part_prefix_sum_mem_68610 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_68611 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_68612 = in0->v2->mem;
    dim_38264 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_68613 = in0->v3->mem;
    dim_38264 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_68614 = in0->v4->mem;
    dim_38264 = in0->v4->shape[0];
    start_of_grid_partition_mem_68615 = in0->v5->mem;
    dz2080U_38265 = in0->v5->shape[0];
    dim_38264 = in0->v5->shape[1];
    total_angle_no_38274 = in0->v6;
    total_grid_no_38275 = in0->v7;
    total_part_no_38276 = in0->v8;
    xs_mem_68616 = in1->mem;
    n_38267 = in1->shape[0];
    dim_38264 = in1->shape[1];
    use_measure_for_sorting_38278 = in2;
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266 == in0->v1->shape[0] && (dim_38264 == in0->v2->shape[0] && (dim_38264 == in0->v3->shape[0] && (dim_38264 == in0->v4->shape[0] && (dz2080U_38265 == in0->v5->shape[0] && dim_38264 == in0->v5->shape[1])))))) && (n_38267 == in1->shape[0] && dim_38264 == in1->shape[1]))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_sort_for_Skyline_double(ctx, &mem_out_71649, &mem_out_71650, &mem_out_71651, &mem_out_71652, &prim_out_71653, &prim_out_71654, &prim_out_71655, angle_part_prefix_sum_mem_68610, angle_partitions_per_dim_mem_68611, grid_part_prefix_sum_mem_68612, grid_part_sizze_per_dim_mem_68613, grid_partitions_per_dim_mem_68614, start_of_grid_partition_mem_68615, xs_mem_68616, dim_38264, dz2080U_38265, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_38266, n_38267, total_angle_no_38274, total_grid_no_38275, total_part_no_38276, use_measure_for_sorting_38278);
        if (ret == 0) {
            struct memblock_device counters_mem_71657 = ctx->constants->counters_mem_71657;
            struct memblock_device counters_mem_71804 = ctx->constants->counters_mem_71804;
            struct memblock_device counters_mem_71942 = ctx->constants->counters_mem_71942;
            struct memblock_device counters_mem_72121 = ctx->constants->counters_mem_72121;
            struct memblock_device counters_mem_72858 = ctx->constants->counters_mem_72858;
            struct memblock_device counters_mem_72897 = ctx->constants->counters_mem_72897;
            struct memblock_device counters_mem_72900 = ctx->constants->counters_mem_72900;
            struct memblock_device counters_mem_74045 = ctx->constants->counters_mem_74045;
            struct memblock_device global_dynid_mem_71693 = ctx->constants->global_dynid_mem_71693;
            struct memblock_device global_dynid_mem_71851 = ctx->constants->global_dynid_mem_71851;
            struct memblock_device global_dynid_mem_72168 = ctx->constants->global_dynid_mem_72168;
            struct memblock_device global_dynid_mem_72950 = ctx->constants->global_dynid_mem_72950;
            struct memblock_device global_dynid_mem_72969 = ctx->constants->global_dynid_mem_72969;
            struct memblock_device global_dynid_mem_73317 = ctx->constants->global_dynid_mem_73317;
            struct memblock_device global_dynid_mem_74095 = ctx->constants->global_dynid_mem_74095;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_71649;
            (*out0)->v0->shape[0] = prim_out_71653;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_71650;
            (*out0)->v1->shape[0] = prim_out_71654;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_71651;
            (*out0)->v2->shape[0] = prim_out_71655;
            (*out0)->v2->shape[1] = dim_38264;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_71652;
            (*out0)->v3->shape[0] = prim_out_71655;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
  
